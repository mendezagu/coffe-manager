"use strict";(self.webpackChunkcoffe_manager=self.webpackChunkcoffe_manager||[]).push([[792],{443:(Go,Ni,rt)=>{rt.d(Ni,{$:()=>Iy,A:()=>Ce,C:()=>cC,G:()=>qt,K:()=>my,L:()=>pa,N:()=>ys,P:()=>Yr,R:()=>bC,U:()=>Ze,V:()=>Xo,W:()=>un,X:()=>Ih,Y:()=>Ap,Z:()=>$r,_:()=>_a,a:()=>By,a0:()=>Rd,a1:()=>Ah,a2:()=>ky,a3:()=>Sy,a4:()=>rC,a5:()=>vo,a6:()=>Dy,a7:()=>oC,a8:()=>ui,a9:()=>Dt,aA:()=>ly,aB:()=>pn,aC:()=>re,aD:()=>rg,aE:()=>ge,aF:()=>Kt,aG:()=>ng,aH:()=>o0,aI:()=>EC,aJ:()=>di,aN:()=>Tr,aQ:()=>Ja,aa:()=>Jo,ab:()=>Ir,ac:()=>al,ad:()=>va,ae:()=>cl,af:()=>ll,ag:()=>Nd,ah:()=>xs,ak:()=>Ys,al:()=>Fd,am:()=>Wt,ap:()=>nC,aq:()=>Kr,as:()=>lL,at:()=>Vy,au:()=>Et,av:()=>bp,aw:()=>vt,ax:()=>mn,ay:()=>_l,az:()=>og,b:()=>Xs,c:()=>e0,d:()=>n0,e:()=>t0,f:()=>IC,g:()=>c0,h:()=>Pt,i:()=>Oh,j:()=>tg,k:()=>oc,l:()=>Kp,m:()=>yL,o:()=>b0,p:()=>tn,r:()=>Is,s:()=>Jy,u:()=>Yp,y:()=>aC});var F=rt(467),Ne=rt(631),U=rt(401),Ke=rt(398),kt=rt(635),Jn=rt(779);const tn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ce={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const qt=function Ye(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Di=function St(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Vt=new U.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ot=new Ke.Vy("@firebase/auth");function Un(g,...h){ot.logLevel<=Ke.$b.ERROR&&ot.error(`Auth (${Ne.SDK_VERSION}): ${g}`,...h)}function mn(g,...h){throw Se(g,...h)}function pn(g,...h){return Se(g,...h)}function vr(g,h,f){const _=Object.assign(Object.assign({},Di()),{[h]:f});return new U.FA("auth","Firebase",_).create(h,{appName:g.name})}function zt(g){return vr(g,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xt(g,h,f){if(!(h instanceof f))throw f.name!==h.constructor.name&&mn(g,"argument-error"),vr(g,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Se(g,...h){if("string"!=typeof g){const f=h[0],_=[...h.slice(1)];return _[0]&&(_[0].appName=g.name),g._errorFactory.create(f,..._)}return Vt.create(g,...h)}function re(g,h,...f){if(!g)throw Se(h,...f)}function tt(g){const h="INTERNAL ASSERTION FAILED: "+g;throw Un(h),new Error(h)}function Et(g,h){g||tt(h)}function Gt(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function jn(){return"http:"===kn()||"https:"===kn()}function kn(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class Wi{constructor(h,f){this.shortDelay=h,this.longDelay=f,Et(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,U.jZ)()||(0,U.lV)()}get(){return function at(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(jn()||(0,U.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wr(g,h){Et(g.emulator,"Emulator should always be set here");const{url:f}=g.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class _s{static initialize(h,f,_){this.fetchImpl=h,f&&(this.headersImpl=f),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void tt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void tt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void tt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const K={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ce=new Wi(3e4,6e4);function oe(g,h){return g.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:g.tenantId}):h}function ee(g,h,f,_){return pe.apply(this,arguments)}function pe(){return(pe=(0,F.A)(function*(g,h,f,_,T={}){return Ae(g,T,(0,F.A)(function*(){let D={},X={};_&&("GET"===h?X=_:D={body:JSON.stringify(_)});const ae=(0,U.Am)(Object.assign({key:g.config.apiKey},X)).slice(1),we=yield g._getAdditionalHeaders();we["Content-Type"]="application/json",g.languageCode&&(we["X-Firebase-Locale"]=g.languageCode);const qe=Object.assign({method:h,headers:we},D);return(0,U.c1)()||(qe.referrerPolicy="no-referrer"),_s.fetch()(dt(g,g.config.apiHost,f,ae),qe)}))})).apply(this,arguments)}function Ae(g,h,f){return me.apply(this,arguments)}function me(){return(me=(0,F.A)(function*(g,h,f){g._canInitEmulator=!1;const _=Object.assign(Object.assign({},K),h);try{const T=new Hn(g),D=yield Promise.race([f(),T.promise]);T.clearNetworkTimeout();const X=yield D.json();if("needConfirmation"in X)throw qi(g,"account-exists-with-different-credential",X);if(D.ok&&!("errorMessage"in X))return X;{const ae=D.ok?X.errorMessage:X.error.message,[we,qe]=ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===we)throw qi(g,"credential-already-in-use",X);if("EMAIL_EXISTS"===we)throw qi(g,"email-already-in-use",X);if("USER_DISABLED"===we)throw qi(g,"user-disabled",X);const nt=_[we]||we.toLowerCase().replace(/[_\s]+/g,"-");if(qe)throw vr(g,nt,qe);mn(g,nt)}}catch(T){if(T instanceof U.g)throw T;mn(g,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function st(g,h,f,_){return En.apply(this,arguments)}function En(){return(En=(0,F.A)(function*(g,h,f,_,T={}){const D=yield ee(g,h,f,_,T);return"mfaPendingCredential"in D&&mn(g,"multi-factor-auth-required",{_serverResponse:D}),D})).apply(this,arguments)}function dt(g,h,f,_){const T=`${h}${f}?${_}`;return g.config.emulator?Wr(g.config,T):`${g.config.apiScheme}://${T}`}function nn(g){switch(g){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,_)=>{this.timer=setTimeout(()=>_(pn(this.auth,"network-request-failed")),ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qi(g,h,f){const _={appName:g.name};f.email&&(_.email=f.email),f.phoneNumber&&(_.phoneNumber=f.phoneNumber);const T=pn(g,h,_);return T.customData._tokenResponse=f,T}function rn(g){return void 0!==g&&void 0!==g.getResponse}function on(g){return void 0!==g&&void 0!==g.enterprise}class Ei{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const f of this.recaptchaEnforcementState)if(f.provider&&f.provider===h)return nn(f.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function er(){return(er=(0,F.A)(function*(g){return(yield ee(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $t(g,h){return qr.apply(this,arguments)}function qr(){return(qr=(0,F.A)(function*(g,h){return ee(g,"GET","/v2/recaptchaConfig",oe(g,h))})).apply(this,arguments)}function fa(){return(fa=(0,F.A)(function*(g,h){return ee(g,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Gr(){return(Gr=(0,F.A)(function*(g,h){return ee(g,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function So(g,h){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,F.A)(function*(g,h){return ee(g,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function $i(g){if(g)try{const h=new Date(Number(g));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function tr(){return(tr=(0,F.A)(function*(g,h=!1){const f=(0,U.Ku)(g),_=yield f.getIdToken(h),T=Ws(_);re(T&&T.exp&&T.auth_time&&T.iat,f.auth,"internal-error");const D="object"==typeof T.firebase?T.firebase:void 0,X=D?.sign_in_provider;return{claims:T,token:_,authTime:$i(ei(T.auth_time)),issuedAtTime:$i(ei(T.iat)),expirationTime:$i(ei(T.exp)),signInProvider:X||null,signInSecondFactor:D?.sign_in_second_factor||null}})).apply(this,arguments)}function ei(g){return 1e3*Number(g)}function Ws(g){const[h,f,_]=g.split(".");if(void 0===h||void 0===f||void 0===_)return Un("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,U.u)(f);return T?JSON.parse(T):(Un("Failed to decode base64 JWT payload"),null)}catch(T){return Un("Caught error parsing JWT payload as JSON",T?.toString()),null}}function $o(g){const h=Ws(g);return re(h,"internal-error"),re(typeof h.exp<"u","internal-error"),re(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function vn(g,h){return mo.apply(this,arguments)}function mo(){return(mo=(0,F.A)(function*(g,h,f=!1){if(f)return h;try{return yield h}catch(_){throw _ instanceof U.g&&function Ko({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}(_)&&g.auth.currentUser===g&&(yield g.auth.signOut()),_}})).apply(this,arguments)}class Qo{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const T=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const _=this.getInterval(h);this.timerId=setTimeout((0,F.A)(function*(){yield f.iteration()}),_)}iteration(){var h=this;return(0,F.A)(function*(){try{yield h.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&h.schedule(!0))}h.schedule()})()}}class yr{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=$i(this.lastLoginAt),this.creationTime=$i(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ri(g){return wr.apply(this,arguments)}function wr(){return(wr=(0,F.A)(function*(g){var h;const f=g.auth,_=yield g.getIdToken(),T=yield vn(g,So(f,{idToken:_}));re(T?.users.length,f,"internal-error");const D=T.users[0];g._notifyReloadListener(D);const X=null!==(h=D.providerUserInfo)&&void 0!==h&&h.length?ma(D.providerUserInfo):[],ae=function $s(g,h){return[...g.filter(_=>!h.some(T=>T.providerId===_.providerId)),...h]}(g.providerData,X),nt=!!g.isAnonymous&&!(g.email&&D.passwordHash||ae?.length),Ut={uid:D.localId,displayName:D.displayName||null,photoURL:D.photoUrl||null,email:D.email||null,emailVerified:D.emailVerified||!1,phoneNumber:D.phoneNumber||null,tenantId:D.tenantId||null,providerData:ae,metadata:new yr(D.createdAt,D.lastLoginAt),isAnonymous:nt};Object.assign(g,Ut)})).apply(this,arguments)}function Gs(){return(Gs=(0,F.A)(function*(g){const h=(0,U.Ku)(g);yield Ri(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function ma(g){return g.map(h=>{var{providerId:f}=h,_=(0,kt.Tt)(h,["providerId"]);return{providerId:f,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function Be(){return(Be=(0,F.A)(function*(g,h){const f=yield Ae(g,{},(0,F.A)(function*(){const _=(0,U.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:T,apiKey:D}=g.config,X=dt(g,T,"/v1/token",`key=${D}`),ae=yield g._getAdditionalHeaders();return ae["Content-Type"]="application/x-www-form-urlencoded",_s.fetch()(X,{method:"POST",headers:ae,body:_})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}function C(){return(C=(0,F.A)(function*(g,h){return ee(g,"POST","/v2/accounts:revokeToken",oe(g,h))})).apply(this,arguments)}class E{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){re(h.idToken,"internal-error"),re(typeof h.idToken<"u","internal-error"),re(typeof h.refreshToken<"u","internal-error");const f="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):$o(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}updateFromIdToken(h){re(0!==h.length,"internal-error");const f=$o(h);this.updateTokensAndExpiration(h,null,f)}getToken(h,f=!1){var _=this;return(0,F.A)(function*(){return f||!_.accessToken||_.isExpired?(re(_.refreshToken,h,"user-token-expired"),_.refreshToken?(yield _.refresh(h,_.refreshToken),_.accessToken):null):_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var _=this;return(0,F.A)(function*(){const{accessToken:T,refreshToken:D,expiresIn:X}=yield function Qa(g,h){return Be.apply(this,arguments)}(h,f);_.updateTokensAndExpiration(T,D,Number(X))})()}updateTokensAndExpiration(h,f,_){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(h,f){const{refreshToken:_,accessToken:T,expirationTime:D}=f,X=new E;return _&&(re("string"==typeof _,"internal-error",{appName:h}),X.refreshToken=_),T&&(re("string"==typeof T,"internal-error",{appName:h}),X.accessToken=T),D&&(re("number"==typeof D,"internal-error",{appName:h}),X.expirationTime=D),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new E,this.toJSON())}_performRefresh(){return tt("not implemented")}}function k(g,h){re("string"==typeof g||typeof g>"u","internal-error",{appName:h})}class M{constructor(h){var{uid:f,auth:_,stsTokenManager:T}=h,D=(0,kt.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=_,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=D.displayName||null,this.email=D.email||null,this.emailVerified=D.emailVerified||!1,this.phoneNumber=D.phoneNumber||null,this.photoURL=D.photoURL||null,this.isAnonymous=D.isAnonymous||!1,this.tenantId=D.tenantId||null,this.providerData=D.providerData?[...D.providerData]:[],this.metadata=new yr(D.createdAt||void 0,D.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,F.A)(function*(){const _=yield vn(f,f.stsTokenManager.getToken(f.auth,h));return re(_,f.auth,"internal-error"),f.accessToken!==_&&(f.accessToken=_,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),_})()}getIdTokenResult(h){return function Wn(g){return tr.apply(this,arguments)}(this,h)}reload(){return function qs(g){return Gs.apply(this,arguments)}(this)}_assign(h){this!==h&&(re(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const f=new M(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(h){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,f=!1){var _=this;return(0,F.A)(function*(){let T=!1;h.idToken&&h.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(h),T=!0),f&&(yield Ri(_)),yield _.auth._persistUserIfCurrent(_),T&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var h=this;return(0,F.A)(function*(){if((0,Ne._isFirebaseServerApp)(h.auth.app))return Promise.reject(zt(h.auth));const f=yield h.getIdToken();return yield vn(h,function zs(g,h){return fa.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var _,T,D,X,ae,we,qe,nt;const Ut=null!==(_=f.displayName)&&void 0!==_?_:void 0,Nr=null!==(T=f.email)&&void 0!==T?T:void 0,Ia=null!==(D=f.phoneNumber)&&void 0!==D?D:void 0,sc=null!==(X=f.photoURL)&&void 0!==X?X:void 0,Ta=null!==(ae=f.tenantId)&&void 0!==ae?ae:void 0,vg=null!==(we=f._redirectEventId)&&void 0!==we?we:void 0,yg=null!==(qe=f.createdAt)&&void 0!==qe?qe:void 0,wg=null!==(nt=f.lastLoginAt)&&void 0!==nt?nt:void 0,{uid:ac,emailVerified:y0,isAnonymous:Cr,providerData:xg,stsTokenManager:Bt}=f;re(ac&&Bt,h,"internal-error");const Eg=E.fromJSON(this.name,Bt);re("string"==typeof ac,h,"internal-error"),k(Ut,h.name),k(Nr,h.name),re("boolean"==typeof y0,h,"internal-error"),re("boolean"==typeof Cr,h,"internal-error"),k(Ia,h.name),k(sc,h.name),k(Ta,h.name),k(vg,h.name),k(yg,h.name),k(wg,h.name);const Ig=new M({uid:ac,auth:h,email:Nr,emailVerified:y0,displayName:Ut,isAnonymous:Cr,photoURL:sc,phoneNumber:Ia,tenantId:Ta,stsTokenManager:Eg,createdAt:yg,lastLoginAt:wg});return xg&&Array.isArray(xg)&&(Ig.providerData=xg.map(w0=>Object.assign({},w0))),vg&&(Ig._redirectEventId=vg),Ig}static _fromIdTokenResponse(h,f,_=!1){return(0,F.A)(function*(){const T=new E;T.updateFromServerResponse(f);const D=new M({uid:f.localId,auth:h,stsTokenManager:T,isAnonymous:_});return yield Ri(D),D})()}static _fromGetAccountInfoResponse(h,f,_){return(0,F.A)(function*(){const T=f.users[0];re(void 0!==T.localId,"internal-error");const D=void 0!==T.providerUserInfo?ma(T.providerUserInfo):[],X=!(T.email&&T.passwordHash||D?.length),ae=new E;ae.updateFromIdToken(_);const we=new M({uid:T.localId,auth:h,stsTokenManager:ae,isAnonymous:X}),qe={uid:T.localId,displayName:T.displayName||null,photoURL:T.photoUrl||null,email:T.email||null,emailVerified:T.emailVerified||!1,phoneNumber:T.phoneNumber||null,tenantId:T.tenantId||null,providerData:D,metadata:new yr(T.createdAt,T.lastLoginAt),isAnonymous:!(T.email&&T.passwordHash||D?.length)};return Object.assign(we,qe),we})()}}const z=new Map;function ge(g){Et(g instanceof Function,"Expected a class definition");let h=z.get(g);return h?(Et(h instanceof g,"Instance stored in cache mismatched with class"),h):(h=new g,z.set(g,h),h)}const Ze=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,F.A)(function*(){return!0})()}_set(f,_){var T=this;return(0,F.A)(function*(){T.storage[f]=_})()}_get(f){var _=this;return(0,F.A)(function*(){const T=_.storage[f];return void 0===T?null:T})()}_remove(f){var _=this;return(0,F.A)(function*(){delete _.storage[f]})()}_addListener(f,_){}_removeListener(f,_){}}return g.type="NONE",g})();function Kt(g,h,f){return`firebase:${g}:${h}:${f}`}class Xe{constructor(h,f,_){this.persistence=h,this.auth=f,this.userKey=_;const{config:T,name:D}=this.auth;this.fullUserKey=Kt(this.userKey,T.apiKey,D),this.fullPersistenceKey=Kt("persistence",T.apiKey,D),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,F.A)(function*(){const f=yield h.persistence._get(h.fullUserKey);return f?M._fromJSON(h.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var f=this;return(0,F.A)(function*(){if(f.persistence===h)return;const _=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=h,_?f.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,f,_="authUser"){return(0,F.A)(function*(){if(!f.length)return new Xe(ge(Ze),h,_);const T=(yield Promise.all(f.map(function(){var qe=(0,F.A)(function*(nt){if(yield nt._isAvailable())return nt});return function(nt){return qe.apply(this,arguments)}}()))).filter(qe=>qe);let D=T[0]||ge(Ze);const X=Kt(_,h.config.apiKey,h.name);let ae=null;for(const qe of f)try{const nt=yield qe._get(X);if(nt){const Ut=M._fromJSON(h,nt);qe!==D&&(ae=Ut),D=qe;break}}catch{}const we=T.filter(qe=>qe._shouldAllowMigration);return D._shouldAllowMigration&&we.length?(D=we[0],ae&&(yield D._set(X,ae.toJSON())),yield Promise.all(f.map(function(){var qe=(0,F.A)(function*(nt){if(nt!==D)try{yield nt._remove(X)}catch{}});return function(nt){return qe.apply(this,arguments)}}())),new Xe(D,h,_)):new Xe(D,h,_)})()}}function qn(g){const h=g.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(dn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Le(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(bh(h))return"Blackberry";if(vh(h))return"Webos";if(li(h))return"Safari";if((h.includes("chrome/")||vs(h))&&!h.includes("edge/"))return"Chrome";if(vt(h))return"Android";{const _=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function Le(g=(0,U.ZQ)()){return/firefox\//i.test(g)}function li(g=(0,U.ZQ)()){const h=g.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function vs(g=(0,U.ZQ)()){return/crios\//i.test(g)}function dn(g=(0,U.ZQ)()){return/iemobile/i.test(g)}function vt(g=(0,U.ZQ)()){return/android/i.test(g)}function bh(g=(0,U.ZQ)()){return/blackberry/i.test(g)}function vh(g=(0,U.ZQ)()){return/webos/i.test(g)}function bp(g=(0,U.ZQ)()){return/iphone|ipad|ipod/i.test(g)||/macintosh/i.test(g)&&/mobile/i.test(g)}function ly(g=(0,U.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}function It(g=(0,U.ZQ)()){return bp(g)||vt(g)||vh(g)||bh(g)||/windows phone/i.test(g)||dn(g)}function gn(g,h=[]){let f;switch(g){case"Browser":f=qn((0,U.ZQ)());break;case"Worker":f=`${qn((0,U.ZQ)())}-${g}`;break;default:f=g}const _=h.length?h.join(","):"FirebaseCore-web";return`${f}/JsCore/${Ne.SDK_VERSION}/${_}`}class qT{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,f){const _=D=>new Promise((X,ae)=>{try{X(h(D))}catch(we){ae(we)}});_.onAbort=f,this.queue.push(_);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(h){var f=this;return(0,F.A)(function*(){if(f.auth.currentUser===h)return;const _=[];try{for(const T of f.queue)yield T(h),T.onAbort&&_.push(T.onAbort)}catch(T){_.reverse();for(const D of _)try{D()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}function vp(){return(vp=(0,F.A)(function*(g,h={}){return ee(g,"GET","/v2/passwordPolicy",oe(g,h))})).apply(this,arguments)}class po{constructor(h){var f,_,T,D;const X=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(f=X.minPasswordLength)&&void 0!==f?f:6,X.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=X.maxPasswordLength),void 0!==X.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=X.containsLowercaseCharacter),void 0!==X.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=X.containsUppercaseCharacter),void 0!==X.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=X.containsNumericCharacter),void 0!==X.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=X.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(T=null===(_=h.allowedNonAlphanumericCharacters)||void 0===_?void 0:_.join(""))&&void 0!==T?T:"",this.forceUpgradeOnSignin=null!==(D=h.forceUpgradeOnSignin)&&void 0!==D&&D,this.schemaVersion=h.schemaVersion}validatePassword(h){var f,_,T,D,X,ae;const we={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,we),this.validatePasswordCharacterOptions(h,we),we.isValid&&(we.isValid=null===(f=we.meetsMinPasswordLength)||void 0===f||f),we.isValid&&(we.isValid=null===(_=we.meetsMaxPasswordLength)||void 0===_||_),we.isValid&&(we.isValid=null===(T=we.containsLowercaseLetter)||void 0===T||T),we.isValid&&(we.isValid=null===(D=we.containsUppercaseLetter)||void 0===D||D),we.isValid&&(we.isValid=null===(X=we.containsNumericCharacter)||void 0===X||X),we.isValid&&(we.isValid=null===(ae=we.containsNonAlphanumericCharacter)||void 0===ae||ae),we}validatePasswordLengthOptions(h,f){const _=this.customStrengthOptions.minPasswordLength,T=this.customStrengthOptions.maxPasswordLength;_&&(f.meetsMinPasswordLength=h.length>=_),T&&(f.meetsMaxPasswordLength=h.length<=T)}validatePasswordCharacterOptions(h,f){let _;this.updatePasswordCharacterOptionsStatuses(f,!1,!1,!1,!1);for(let T=0;T<h.length;T++)_=h.charAt(T),this.updatePasswordCharacterOptionsStatuses(f,_>="a"&&_<="z",_>="A"&&_<="Z",_>="0"&&_<="9",this.allowedNonAlphanumericCharacters.includes(_))}updatePasswordCharacterOptionsStatuses(h,f,_,T,D){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=f)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=_)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=T)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=D))}}class XF{constructor(h,f,_,T){this.app=h,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=_,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GT(this),this.idTokenSubscription=new GT(this),this.beforeStateQueue=new qT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(h,f){var _=this;return f&&(this._popupRedirectResolver=ge(f)),this._initializationPromise=this.queue((0,F.A)(function*(){var T,D;if(!_._deleted&&(_.persistenceManager=yield Xe.create(_,h),!_._deleted)){if(null!==(T=_._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(f),_.lastNotifiedUid=(null===(D=_.currentUser)||void 0===D?void 0:D.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,F.A)(function*(){if(h._deleted)return;const f=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||f){if(h.currentUser&&f&&h.currentUser.uid===f.uid)return h._currentUser._assign(f),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(f,!0)}})()}initializeCurrentUserFromIdToken(h){var f=this;return(0,F.A)(function*(){try{const _=yield So(f,{idToken:h}),T=yield M._fromGetAccountInfoResponse(f,_,h);yield f.directlySetCurrentUser(T)}catch(_){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",_),yield f.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var f=this;return(0,F.A)(function*(){var _;if((0,Ne._isFirebaseServerApp)(f.app)){const ae=f.app.settings.authIdToken;return ae?new Promise(we=>{setTimeout(()=>f.initializeCurrentUserFromIdToken(ae).then(we,we))}):f.directlySetCurrentUser(null)}const T=yield f.assertedPersistence.getCurrentUser();let D=T,X=!1;if(h&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const ae=null===(_=f.redirectUser)||void 0===_?void 0:_._redirectEventId,we=D?._redirectEventId,qe=yield f.tryRedirectSignIn(h);(!ae||ae===we)&&qe?.user&&(D=qe.user,X=!0)}if(!D)return f.directlySetCurrentUser(null);if(!D._redirectEventId){if(X)try{yield f.beforeStateQueue.runMiddleware(D)}catch(ae){D=T,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(ae))}return D?f.reloadAndSetCurrentUserOrClear(D):f.directlySetCurrentUser(null)}return re(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===D._redirectEventId?f.directlySetCurrentUser(D):f.reloadAndSetCurrentUserOrClear(D)})()}tryRedirectSignIn(h){var f=this;return(0,F.A)(function*(){let _=null;try{_=yield f._popupRedirectResolver._completeRedirectFn(f,h,!0)}catch{yield f._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(h){var f=this;return(0,F.A)(function*(){try{yield Ri(h)}catch(_){if("auth/network-request-failed"!==_?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function zn(){if(typeof navigator>"u")return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var h=this;return(0,F.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var f=this;return(0,F.A)(function*(){if((0,Ne._isFirebaseServerApp)(f.app))return Promise.reject(zt(f));const _=h?(0,U.Ku)(h):null;return _&&re(_.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(_&&_._clone(f))})()}_updateCurrentUser(h,f=!1){var _=this;return(0,F.A)(function*(){if(!_._deleted)return h&&re(_.tenantId===h.tenantId,_,"tenant-id-mismatch"),f||(yield _.beforeStateQueue.runMiddleware(h)),_.queue((0,F.A)(function*(){yield _.directlySetCurrentUser(h),_.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,F.A)(function*(){return(0,Ne._isFirebaseServerApp)(h.app)?Promise.reject(zt(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var f=this;return(0,Ne._isFirebaseServerApp)(this.app)?Promise.reject(zt(this)):this.queue((0,F.A)(function*(){yield f.assertedPersistence.setPersistence(ge(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var f=this;return(0,F.A)(function*(){f._getPasswordPolicyInternal()||(yield f._updatePasswordPolicy());const _=f._getPasswordPolicyInternal();return _.schemaVersion!==f.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(f._errorFactory.create("unsupported-password-policy-schema-version",{})):_.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,F.A)(function*(){const f=yield function YF(g){return vp.apply(this,arguments)}(h),_=new po(f);null===h.tenantId?h._projectPasswordPolicy=_:h._tenantPasswordPolicies[h.tenantId]=_})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new U.FA("auth","Firebase",h())}onAuthStateChanged(h,f,_){return this.registerStateListener(this.authStateSubscription,h,f,_)}beforeAuthStateChanged(h,f){return this.beforeStateQueue.pushCallback(h,f)}onIdTokenChanged(h,f,_){return this.registerStateListener(this.idTokenSubscription,h,f,_)}authStateReady(){return new Promise((h,f)=>{if(this.currentUser)h();else{const _=this.onAuthStateChanged(()=>{_(),h()},f)}})}revokeAccessToken(h){var f=this;return(0,F.A)(function*(){if(f.currentUser){const _=yield f.currentUser.getIdToken(),T={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:_};null!=f.tenantId&&(T.tenantId=f.tenantId),yield function ve(g,h){return C.apply(this,arguments)}(f,T)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,f){var _=this;return(0,F.A)(function*(){const T=yield _.getOrInitRedirectPersistenceManager(f);return null===h?T.removeCurrentUser():T.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var f=this;return(0,F.A)(function*(){if(!f.redirectPersistenceManager){const _=h&&ge(h)||f._popupRedirectResolver;re(_,f,"argument-error"),f.redirectPersistenceManager=yield Xe.create(f,[ge(_._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(h){var f=this;return(0,F.A)(function*(){var _,T;return f._isInitialized&&(yield f.queue((0,F.A)(function*(){}))),(null===(_=f._currentUser)||void 0===_?void 0:_._redirectEventId)===h?f._currentUser:(null===(T=f.redirectUser)||void 0===T?void 0:T._redirectEventId)===h?f.redirectUser:null})()}_persistUserIfCurrent(h){var f=this;return(0,F.A)(function*(){if(h===f.currentUser)return f.queue((0,F.A)(function*(){return f.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(f=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,f,_,T){if(this._deleted)return()=>{};const D="function"==typeof f?f:f.next.bind(f);let X=!1;const ae=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(ae,this,"internal-error"),ae.then(()=>{X||D(this.currentUser)}),"function"==typeof f){const we=h.addObserver(f,_,T);return()=>{X=!0,we()}}{const we=h.addObserver(f);return()=>{X=!0,we()}}}directlySetCurrentUser(h){var f=this;return(0,F.A)(function*(){f.currentUser&&f.currentUser!==h&&f._currentUser._stopProactiveRefresh(),h&&f.isProactiveRefreshEnabled&&h._startProactiveRefresh(),f.currentUser=h,h?yield f.assertedPersistence.setCurrentUser(h):yield f.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=gn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,F.A)(function*(){var f;const _={"X-Client-Version":h.clientVersion};h.app.options.appId&&(_["X-Firebase-gmpid"]=h.app.options.appId);const T=yield null===(f=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();T&&(_["X-Firebase-Client"]=T);const D=yield h._getAppCheckToken();return D&&(_["X-Firebase-AppCheck"]=D),_})()}_getAppCheckToken(){var h=this;return(0,F.A)(function*(){var f;const _=yield null===(f=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return _?.error&&function ci(g,...h){ot.logLevel<=Ke.$b.WARN&&ot.warn(`Auth (${Ne.SDK_VERSION}): ${g}`,...h)}(`Error while retrieving App Check token: ${_.error}`),_?.token})()}}function di(g){return(0,U.Ku)(g)}class GT{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,U.tD)(f=>this.observer=f)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yo={loadJS:()=>(0,F.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dy(g){return Yo.loadJS(g)}function KT(g){return`__${g}${Math.floor(1e6*Math.random())}`}class go{constructor(h){this.type="recaptcha-enterprise",this.auth=di(h)}verify(h="verify",f=!1){var _=this;return(0,F.A)(function*(){function D(){return D=(0,F.A)(function*(ae){if(!f){if(null==ae.tenantId&&null!=ae._agentRecaptchaConfig)return ae._agentRecaptchaConfig.siteKey;if(null!=ae.tenantId&&void 0!==ae._tenantRecaptchaConfigs[ae.tenantId])return ae._tenantRecaptchaConfigs[ae.tenantId].siteKey}return new Promise(function(){var we=(0,F.A)(function*(qe,nt){$t(ae,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ut=>{if(void 0!==Ut.recaptchaKey){const Nr=new Ei(Ut);return null==ae.tenantId?ae._agentRecaptchaConfig=Nr:ae._tenantRecaptchaConfigs[ae.tenantId]=Nr,qe(Nr.siteKey)}nt(new Error("recaptcha Enterprise site key undefined"))}).catch(Ut=>{nt(Ut)})});return function(qe,nt){return we.apply(this,arguments)}}())}),D.apply(this,arguments)}function X(ae,we,qe){const nt=window.grecaptcha;on(nt)?nt.enterprise.ready(()=>{nt.enterprise.execute(ae,{action:h}).then(Ut=>{we(Ut)}).catch(()=>{we("NO_RECAPTCHA")})}):qe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ae,we)=>{(function T(ae){return D.apply(this,arguments)})(_.auth).then(qe=>{if(!f&&on(window.grecaptcha))X(qe,ae,we);else{if(typeof window>"u")return void we(new Error("RecaptchaVerifier is only supported in browser"));let nt=function eL(){return Yo.recaptchaEnterpriseScript}();0!==nt.length&&(nt+=qe),dy(nt).then(()=>{X(qe,ae,we)}).catch(Ut=>{we(Ut)})}}).catch(qe=>{we(qe)})})})()}}function yt(g,h,f){return uy.apply(this,arguments)}function uy(){return(uy=(0,F.A)(function*(g,h,f,_=!1){const T=new go(g);let D;try{D=yield T.verify(f)}catch{D=yield T.verify(f,!0)}const X=Object.assign({},h);return Object.assign(X,_?{captchaResp:D}:{captchaResponse:D}),Object.assign(X,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(X,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),X})).apply(this,arguments)}function wh(g,h,f,_){return hy.apply(this,arguments)}function hy(){return hy=(0,F.A)(function*(g,h,f,_){var T;if(null!==(T=g._getRecaptchaConfig())&&void 0!==T&&T.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const D=yield yt(g,h,f,"getOobCode"===f);return _(g,D)}return _(g,h).catch(function(){var D=(0,F.A)(function*(X){if("auth/missing-recaptcha-token"===X.code){console.log(`${f} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ae=yield yt(g,h,f,"getOobCode"===f);return _(g,ae)}return Promise.reject(X)});return function(X){return D.apply(this,arguments)}}())}),hy.apply(this,arguments)}function my(g,h,f){const _=di(g);re(_._canInitEmulator,_,"emulator-config-failed"),re(/^https?:\/\//.test(h),_,"invalid-emulator-scheme");const T=!!f?.disableWarnings,D=wp(h),{host:X,port:ae}=function YT(g){const h=wp(g),f=/(\/\/)?([^?#/]+)/.exec(g.substr(h.length));if(!f)return{host:"",port:null};const _=f[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(_);if(T){const D=T[1];return{host:D,port:Ed(_.substr(D.length+1))}}{const[D,X]=_.split(":");return{host:D,port:Ed(X)}}}(h);_.config.emulator={url:`${D}//${X}${null===ae?"":`:${ae}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:X,port:ae,protocol:D.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Eh(){function g(){const h=document.createElement("p"),f=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}function wp(g){const h=g.indexOf(":");return h<0?"":g.substr(0,h+1)}function Ed(g){if(!g)return null;const h=Number(g);return isNaN(h)?null:h}class pa{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return tt("not implemented")}_getIdTokenResponse(h){return tt("not implemented")}_linkToIdToken(h,f){return tt("not implemented")}_getReauthenticationResolver(h){return tt("not implemented")}}function xp(g,h){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,F.A)(function*(g,h){return ee(g,"POST","/v1/accounts:resetPassword",oe(g,h))})).apply(this,arguments)}function Id(){return(Id=(0,F.A)(function*(g,h){return ee(g,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function py(g,h){return xr.apply(this,arguments)}function xr(){return(xr=(0,F.A)(function*(g,h){return ee(g,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function _y(){return(_y=(0,F.A)(function*(g,h){return ee(g,"POST","/v1/accounts:update",oe(g,h))})).apply(this,arguments)}function On(g,h){return by.apply(this,arguments)}function by(){return(by=(0,F.A)(function*(g,h){return st(g,"POST","/v1/accounts:signInWithPassword",oe(g,h))})).apply(this,arguments)}function Ip(g,h){return de.apply(this,arguments)}function de(){return(de=(0,F.A)(function*(g,h){return ee(g,"POST","/v1/accounts:sendOobCode",oe(g,h))})).apply(this,arguments)}function Td(){return(Td=(0,F.A)(function*(g,h){return Ip(g,h)})).apply(this,arguments)}function vy(g,h){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,F.A)(function*(g,h){return Ip(g,h)})).apply(this,arguments)}function XT(g,h){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,F.A)(function*(g,h){return Ip(g,h)})).apply(this,arguments)}function yy(){return(yy=(0,F.A)(function*(g,h){return Ip(g,h)})).apply(this,arguments)}function wy(){return(wy=(0,F.A)(function*(g,h){return st(g,"POST","/v1/accounts:signInWithEmailLink",oe(g,h))})).apply(this,arguments)}function Ya(){return(Ya=(0,F.A)(function*(g,h){return st(g,"POST","/v1/accounts:signInWithEmailLink",oe(g,h))})).apply(this,arguments)}class Xa extends pa{constructor(h,f,_,T=null){super("password",_),this._email=h,this._password=f,this._tenantId=T}static _fromEmailAndPassword(h,f){return new Xa(h,f,"password")}static _fromEmailAndCode(h,f,_=null){return new Xa(h,f,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(h){var f=this;return(0,F.A)(function*(){switch(f.signInMethod){case"password":return wh(h,{returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",On);case"emailLink":return function iL(g,h){return wy.apply(this,arguments)}(h,{email:f._email,oobCode:f._password});default:mn(h,"internal-error")}})()}_linkToIdToken(h,f){var _=this;return(0,F.A)(function*(){switch(_.signInMethod){case"password":return wh(h,{idToken:f,returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",py);case"emailLink":return function rL(g,h){return Ya.apply(this,arguments)}(h,{idToken:f,email:_._email,oobCode:_._password});default:mn(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Do(g,h){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,F.A)(function*(g,h){return st(g,"POST","/v1/accounts:signInWithIdp",oe(g,h))})).apply(this,arguments)}class ys extends pa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const f=new ys(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(f.idToken=h.idToken),h.accessToken&&(f.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(f.nonce=h.nonce),h.pendingToken&&(f.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(f.accessToken=h.oauthToken,f.secret=h.oauthTokenSecret):mn("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:T}=f,D=(0,kt.Tt)(f,["providerId","signInMethod"]);if(!_||!T)return null;const X=new ys(_,T);return X.idToken=D.idToken||void 0,X.accessToken=D.accessToken||void 0,X.secret=D.secret,X.nonce=D.nonce,X.pendingToken=D.pendingToken||null,X}_getIdTokenResponse(h){return Do(h,this.buildRequest())}_linkToIdToken(h,f){const _=this.buildRequest();return _.idToken=f,Do(h,_)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Do(h,f)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),h.postBody=(0,U.Am)(f)}return h}}function ga(){return(ga=(0,F.A)(function*(g,h){return ee(g,"POST","/v1/accounts:sendVerificationCode",oe(g,h))})).apply(this,arguments)}function ws(){return(ws=(0,F.A)(function*(g,h){return st(g,"POST","/v1/accounts:signInWithPhoneNumber",oe(g,h))})).apply(this,arguments)}function Y(){return(Y=(0,F.A)(function*(g,h){const f=yield st(g,"POST","/v1/accounts:signInWithPhoneNumber",oe(g,h));if(f.temporaryProof)throw qi(g,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Ey={USER_NOT_FOUND:"user-not-found"};function ol(){return(ol=(0,F.A)(function*(g,h){return st(g,"POST","/v1/accounts:signInWithPhoneNumber",oe(g,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Ey)})).apply(this,arguments)}class Ks extends pa{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,f){return new Ks({verificationId:h,verificationCode:f})}static _fromTokenResponse(h,f){return new Ks({phoneNumber:h,temporaryProof:f})}_getIdTokenResponse(h){return function ZT(g,h){return ws.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,f){return function eC(g,h){return Y.apply(this,arguments)}(h,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function De(g,h){return ol.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:f,verificationId:_,verificationCode:T}=this.params;return h&&f?{temporaryProof:h,phoneNumber:f}:{sessionInfo:_,code:T}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:f,verificationCode:_,phoneNumber:T,temporaryProof:D}=h;return _||f||T||D?new Ks({verificationId:f,verificationCode:_,phoneNumber:T,temporaryProof:D}):null}}class Sd{constructor(h){var f,_,T,D,X,ae;const we=(0,U.I9)((0,U.hp)(h)),qe=null!==(f=we.apiKey)&&void 0!==f?f:null,nt=null!==(_=we.oobCode)&&void 0!==_?_:null,Ut=function kd(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=we.mode)&&void 0!==T?T:null);re(qe&&nt&&Ut,"argument-error"),this.apiKey=qe,this.operation=Ut,this.code=nt,this.continueUrl=null!==(D=we.continueUrl)&&void 0!==D?D:null,this.languageCode=null!==(X=we.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(ae=we.tenantId)&&void 0!==ae?ae:null}static parseLink(h){const f=function tC(g){const h=(0,U.I9)((0,U.hp)(g)).link,f=h?(0,U.I9)((0,U.hp)(h)).deep_link_id:null,_=(0,U.I9)((0,U.hp)(g)).deep_link_id;return(_?(0,U.I9)((0,U.hp)(_)).link:null)||_||f||h||g}(h);try{return new Sd(f)}catch{return null}}}let Xo=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(f,_){return Xa._fromEmailAndPassword(f,_)}static credentialWithLink(f,_){const T=Sd.parseLink(_);return re(T,"argument-error"),Xa._fromEmailAndCode(f,T.code,T.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class Ro{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class dr extends Ro{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class $r extends dr{static credentialFromJSON(h){const f="string"==typeof h?JSON.parse(h):h;return re("providerId"in f&&"signInMethod"in f,"argument-error"),ys._fromParams(f)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return re(h.idToken||h.accessToken,"argument-error"),ys._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return $r.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return $r.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:f,oauthAccessToken:_,oauthTokenSecret:T,pendingToken:D,nonce:X,providerId:ae}=h;if(!_&&!T&&!f&&!D||!ae)return null;try{return new $r(ae)._credential({idToken:f,accessToken:_,nonce:X,pendingToken:D})}catch{return null}}}let un=(()=>{class g extends dr{constructor(){super("facebook.com")}static credential(f){return ys._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return g.credential(f.oauthAccessToken)}catch{return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),Ih=(()=>{class g extends dr{constructor(){super("google.com"),this.addScope("profile")}static credential(f,_){return ys._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:_})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:T}=f;if(!_&&!T)return null;try{return g.credential(_,T)}catch{return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),Ap=(()=>{class g extends dr{constructor(){super("github.com")}static credential(f){return ys._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return g.credential(f.oauthAccessToken)}catch{return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class Ja extends pa{constructor(h,f){super(h,h),this.pendingToken=f}_getIdTokenResponse(h){return Do(h,this.buildRequest())}_linkToIdToken(h,f){const _=this.buildRequest();return _.idToken=f,Do(h,_)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Do(h,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:T,pendingToken:D}=f;return _&&T&&D&&_===T?new Ja(_,D):null}static _create(h,f){return new Ja(h,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _a extends Ro{constructor(h){re(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return _a.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return _a.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const f=Ja.fromJSON(h);return re(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:f,providerId:_}=h;if(!f||!_)return null;try{return Ja._create(_,f)}catch{return null}}}let Iy=(()=>{class g extends dr{constructor(){super("twitter.com")}static credential(f,_){return ys._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:_})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:_,oauthTokenSecret:T}=f;if(!_||!T)return null;try{return g.credential(_,T)}catch{return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function Sp(g,h){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,F.A)(function*(g,h){return st(g,"POST","/v1/accounts:signUp",oe(g,h))})).apply(this,arguments)}class _o{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,_,T=!1){return(0,F.A)(function*(){const D=yield M._fromIdTokenResponse(h,_,T),X=Dp(_);return new _o({user:D,providerId:X,_tokenResponse:_,operationType:f})})()}static _forOperation(h,f,_){return(0,F.A)(function*(){yield h._updateTokensIfNecessary(_,!0);const T=Dp(_);return new _o({user:h,providerId:T,_tokenResponse:_,operationType:f})})()}}function Dp(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function Rd(g){return Th.apply(this,arguments)}function Th(){return(Th=(0,F.A)(function*(g){var h;if((0,Ne._isFirebaseServerApp)(g.app))return Promise.reject(zt(g));const f=di(g);if(yield f._initializationPromise,null!==(h=f.currentUser)&&void 0!==h&&h.isAnonymous)return new _o({user:f.currentUser,providerId:null,operationType:"signIn"});const _=yield Sp(f,{returnSecureToken:!0}),T=yield _o._fromIdTokenResponse(f,"signIn",_,!0);return yield f._updateCurrentUser(T.user),T})).apply(this,arguments)}class Md extends U.g{constructor(h,f,_,T){var D;super(f.code,f.message),this.operationType=_,this.user=T,Object.setPrototypeOf(this,Md.prototype),this.customData={appName:h.name,tenantId:null!==(D=h.tenantId)&&void 0!==D?D:void 0,_serverResponse:f.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(h,f,_,T){return new Md(h,f,_,T)}}function Ty(g,h,f,_){return("reauthenticate"===h?f._getReauthenticationResolver(g):f._getIdTokenResponse(g)).catch(D=>{throw"auth/multi-factor-auth-required"===D.code?Md._fromErrorAndOperation(g,D,h,_):D})}function Rp(g){return new Set(g.map(({providerId:h})=>h).filter(h=>!!h))}function nC(g,h){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,F.A)(function*(g,h){const f=(0,U.Ku)(g);yield Pd(!0,f,h);const{providerUserInfo:_}=yield function bs(g,h){return Gr.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[h]}),T=Rp(_||[]);return f.providerData=f.providerData.filter(D=>T.has(D.providerId)),T.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),Mp.apply(this,arguments)}function bo(g,h){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,F.A)(function*(g,h,f=!1){const _=yield vn(g,h._linkToIdToken(g.auth,yield g.getIdToken()),f);return _o._forOperation(g,"link",_)})).apply(this,arguments)}function Pd(g,h,f){return Op.apply(this,arguments)}function Op(){return(Op=(0,F.A)(function*(g,h,f){yield Ri(h);const T=!1===g?"provider-already-linked":"no-such-provider";re(Rp(h.providerData).has(f)===g,h.auth,T)})).apply(this,arguments)}function Cy(g,h){return Np.apply(this,arguments)}function Np(){return(Np=(0,F.A)(function*(g,h,f=!1){const{auth:_}=g;if((0,Ne._isFirebaseServerApp)(_.app))return Promise.reject(zt(_));const T="reauthenticate";try{const D=yield vn(g,Ty(_,T,h,g),f);re(D.idToken,_,"internal-error");const X=Ws(D.idToken);re(X,_,"internal-error");const{sub:ae}=X;return re(g.uid===ae,_,"user-mismatch"),_o._forOperation(g,T,D)}catch(D){throw"auth/user-not-found"===D?.code&&mn(_,"user-mismatch"),D}})).apply(this,arguments)}function Ay(g,h){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,F.A)(function*(g,h,f=!1){if((0,Ne._isFirebaseServerApp)(g.app))return Promise.reject(zt(g));const _="signIn",T=yield Ty(g,_,h),D=yield _o._fromIdTokenResponse(g,_,T);return f||(yield g._updateCurrentUser(D.user)),D})).apply(this,arguments)}function Ah(g,h){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,F.A)(function*(g,h){return Ay(di(g),h)})).apply(this,arguments)}function ky(g,h){return ht.apply(this,arguments)}function ht(){return(ht=(0,F.A)(function*(g,h){const f=(0,U.Ku)(g);return yield Pd(!1,f,h.providerId),bo(f,h)})).apply(this,arguments)}function Sy(g,h){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,F.A)(function*(g,h){return Cy((0,U.Ku)(g),h)})).apply(this,arguments)}function ct(){return(ct=(0,F.A)(function*(g,h){return st(g,"POST","/v1/accounts:signInWithCustomToken",oe(g,h))})).apply(this,arguments)}function rC(g,h){return kh.apply(this,arguments)}function kh(){return kh=(0,F.A)(function*(g,h){if((0,Ne._isFirebaseServerApp)(g.app))return Promise.reject(zt(g));const f=di(g),_=yield function iC(g,h){return ct.apply(this,arguments)}(f,{token:h,returnSecureToken:!0}),T=yield _o._fromIdTokenResponse(f,"signIn",_);return yield f._updateCurrentUser(T.user),T}),kh.apply(this,arguments)}class _e{constructor(h,f){this.factorId=h,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(h,f){return"phoneInfo"in f?Er._fromServerResponse(h,f):"totpInfo"in f?Qt._fromServerResponse(h,f):mn(h,"internal-error")}}class Er extends _e{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,f){return new Er(f)}}class Qt extends _e{constructor(h){super("totp",h)}static _fromServerResponse(h,f){return new Qt(f)}}function Fi(g,h,f){var _;re((null===(_=f.url)||void 0===_?void 0:_.length)>0,g,"invalid-continue-uri"),re(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),h.continueUrl=f.url,h.dynamicLinkDomain=f.dynamicLinkDomain,h.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(re(f.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),h.iOSBundleId=f.iOS.bundleId),f.android&&(re(f.android.packageName.length>0,g,"missing-android-pkg-name"),h.androidInstallApp=f.android.installApp,h.androidMinimumVersionCode=f.android.minimumVersion,h.androidPackageName=f.android.packageName)}function ur(g){return ba.apply(this,arguments)}function ba(){return(ba=(0,F.A)(function*(g){const h=di(g);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function vo(g,h,f){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,F.A)(function*(g,h,f){const _=di(g),T={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};f&&Fi(_,T,f),yield wh(_,T,"getOobCode",vy)})).apply(this,arguments)}function Dy(g,h,f){return sl.apply(this,arguments)}function sl(){return sl=(0,F.A)(function*(g,h,f){yield xp((0,U.Ku)(g),{oobCode:h,newPassword:f}).catch(function(){var _=(0,F.A)(function*(T){throw"auth/password-does-not-meet-requirements"===T.code&&ur(g),T});return function(T){return _.apply(this,arguments)}}())}),sl.apply(this,arguments)}function oC(g,h){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,F.A)(function*(g,h){yield function gy(g,h){return _y.apply(this,arguments)}((0,U.Ku)(g),{oobCode:h})}),Vp.apply(this,arguments)}function ui(g,h){return He.apply(this,arguments)}function He(){return(He=(0,F.A)(function*(g,h){const f=(0,U.Ku)(g),_=yield xp(f,{oobCode:h}),T=_.requestType;switch(re(T,f,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(_.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(_.mfaInfo,f,"internal-error");default:re(_.email,f,"internal-error")}let D=null;return _.mfaInfo&&(D=_e._fromServerResponse(di(f),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:D},operation:T}})).apply(this,arguments)}function Dt(g,h){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,F.A)(function*(g,h){const{data:f}=yield ui((0,U.Ku)(g),h);return f.email})).apply(this,arguments)}function Jo(g,h,f){return Za.apply(this,arguments)}function Za(){return(Za=(0,F.A)(function*(g,h,f){if((0,Ne._isFirebaseServerApp)(g.app))return Promise.reject(zt(g));const _=di(g),X=yield wh(_,{returnSecureToken:!0,email:h,password:f,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Sp).catch(we=>{throw"auth/password-does-not-meet-requirements"===we.code&&ur(g),we}),ae=yield _o._fromIdTokenResponse(_,"signIn",X);return yield _._updateCurrentUser(ae.user),ae})).apply(this,arguments)}function Ir(g,h,f){return(0,Ne._isFirebaseServerApp)(g.app)?Promise.reject(zt(g)):Ah((0,U.Ku)(g),Xo.credential(h,f)).catch(function(){var _=(0,F.A)(function*(T){throw"auth/password-does-not-meet-requirements"===T.code&&ur(g),T});return function(T){return _.apply(this,arguments)}}())}function al(g,h,f){return hi.apply(this,arguments)}function hi(){return(hi=(0,F.A)(function*(g,h,f){const _=di(g),T={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function D(X,ae){re(ae.handleCodeInApp,_,"argument-error"),ae&&Fi(_,X,ae)})(T,f),yield wh(_,T,"getOobCode",XT)})).apply(this,arguments)}function va(g,h){const f=Sd.parseLink(h);return"EMAIL_SIGNIN"===f?.operation}function cl(g,h,f){return wt.apply(this,arguments)}function wt(){return(wt=(0,F.A)(function*(g,h,f){if((0,Ne._isFirebaseServerApp)(g.app))return Promise.reject(zt(g));const _=(0,U.Ku)(g),T=Xo.credentialWithLink(h,f||Gt());return re(T._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),Ah(_,T)})).apply(this,arguments)}function Dh(){return(Dh=(0,F.A)(function*(g,h){return ee(g,"POST","/v1/accounts:createAuthUri",oe(g,h))})).apply(this,arguments)}function ll(g,h){return fi.apply(this,arguments)}function fi(){return fi=(0,F.A)(function*(g,h){const _={identifier:h,continueUri:jn()?Gt():"http://localhost"},{signinMethods:T}=yield function Od(g,h){return Dh.apply(this,arguments)}((0,U.Ku)(g),_);return T||[]}),fi.apply(this,arguments)}function Nd(g,h){return ya.apply(this,arguments)}function ya(){return ya=(0,F.A)(function*(g,h){const f=(0,U.Ku)(g),T={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};h&&Fi(f.auth,T,h);const{email:D}=yield function Tp(g,h){return Td.apply(this,arguments)}(f.auth,T);D!==g.email&&(yield g.reload())}),ya.apply(this,arguments)}function xs(g,h,f){return ec.apply(this,arguments)}function ec(){return ec=(0,F.A)(function*(g,h,f){const _=(0,U.Ku)(g),D={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:h};f&&Fi(_.auth,D,f);const{email:X}=yield function nL(g,h){return yy.apply(this,arguments)}(_.auth,D);X!==g.email&&(yield g.reload())}),ec.apply(this,arguments)}function Es(){return(Es=(0,F.A)(function*(g,h){return ee(g,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ys(g,h){return tc.apply(this,arguments)}function tc(){return tc=(0,F.A)(function*(g,{displayName:h,photoURL:f}){if(void 0===h&&void 0===f)return;const _=(0,U.Ku)(g),D={idToken:yield _.getIdToken(),displayName:h,photoUrl:f,returnSecureToken:!0},X=yield vn(_,function Ry(g,h){return Es.apply(this,arguments)}(_.auth,D));_.displayName=X.displayName||null,_.photoURL=X.photoUrl||null;const ae=_.providerData.find(({providerId:we})=>"password"===we);ae&&(ae.displayName=_.displayName,ae.photoURL=_.photoURL),yield _._updateTokensIfNecessary(X)}),tc.apply(this,arguments)}function Fd(g,h){const f=(0,U.Ku)(g);return(0,Ne._isFirebaseServerApp)(f.auth.app)?Promise.reject(zt(f.auth)):sC(f,h,null)}function Wt(g,h){return sC((0,U.Ku)(g),null,h)}function sC(g,h,f){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,F.A)(function*(g,h,f){const{auth:_}=g,D={idToken:yield g.getIdToken(),returnSecureToken:!0};h&&(D.email=h),f&&(D.password=f);const X=yield vn(g,function Ht(g,h){return Id.apply(this,arguments)}(_,D));yield g._updateTokensIfNecessary(X,!0)}),Ld.apply(this,arguments)}class Pr{constructor(h,f,_={}){this.isNewUser=h,this.providerId=f,this.profile=_}}class Vd extends Pr{constructor(h,f,_,T){super(h,f,_),this.username=T}}class dl extends Pr{constructor(h,f){super(h,"facebook.com",f)}}class Bd extends Vd{constructor(h,f){super(h,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class hr extends Pr{constructor(h,f){super(h,"google.com",f)}}class sL extends Vd{constructor(h,f,_){super(h,"twitter.com",f,_)}}function Kr(g){const{user:h,_tokenResponse:f}=g;return h.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function My(g){var h,f;if(!g)return null;const{providerId:_}=g,T=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},D=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!_&&g?.idToken){const X=null===(f=null===(h=Ws(g.idToken))||void 0===h?void 0:h.firebase)||void 0===f?void 0:f.sign_in_provider;if(X)return new Pr(D,"anonymous"!==X&&"custom"!==X?X:null)}if(!_)return null;switch(_){case"facebook.com":return new dl(D,T);case"github.com":return new Bd(D,T);case"google.com":return new hr(D,T);case"twitter.com":return new sL(D,T,g.screenName||null);case"custom":case"anonymous":return new Pr(D,null);default:return new Pr(D,_,T)}}(f)}function aC(g,h,f,_){return(0,U.Ku)(g).onAuthStateChanged(h,f,_)}function cC(g){return(0,U.Ku)(g).signOut()}class fl{constructor(h,f,_){this.type=h,this.credential=f,this.user=_}static _fromIdtoken(h,f){return new fl("enroll",h,f)}static _fromMfaPendingCredential(h){return new fl("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var f,_;if(h?.multiFactorSession){if(null!==(f=h.multiFactorSession)&&void 0!==f&&f.pendingCredential)return fl._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(_=h.multiFactorSession)&&void 0!==_&&_.idToken)return fl._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Ny{constructor(h,f,_){this.session=h,this.hints=f,this.signInResolver=_}static _fromError(h,f){const _=di(h),T=f.customData._serverResponse,D=(T.mfaInfo||[]).map(ae=>_e._fromServerResponse(_,ae));re(T.mfaPendingCredential,_,"internal-error");const X=fl._fromMfaPendingCredential(T.mfaPendingCredential);return new Ny(X,D,function(){var ae=(0,F.A)(function*(we){const qe=yield we._process(_,X);delete T.mfaInfo,delete T.mfaPendingCredential;const nt=Object.assign(Object.assign({},T),{idToken:qe.idToken,refreshToken:qe.refreshToken});switch(f.operationType){case"signIn":const Ut=yield _o._fromIdTokenResponse(_,f.operationType,nt);return yield _._updateCurrentUser(Ut.user),Ut;case"reauthenticate":return re(f.user,_,"internal-error"),_o._forOperation(f.user,f.operationType,nt);default:mn(_,"internal-error")}});return function(we){return ae.apply(this,arguments)}}())}resolveSignIn(h){var f=this;return(0,F.A)(function*(){return f.signInResolver(h)})()}}function lL(g,h){var f;const _=(0,U.Ku)(g),T=h;return re(h.customData.operationType,_,"argument-error"),re(null===(f=T.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,_,"argument-error"),Ny._fromError(_,T)}class Fy{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(_=>_e._fromServerResponse(h.auth,_)))})}static _fromUser(h){return new Fy(h)}getSession(){var h=this;return(0,F.A)(function*(){return fl._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,f){var _=this;return(0,F.A)(function*(){const T=h,D=yield _.getSession(),X=yield vn(_.user,T._process(_.user.auth,D,f));return yield _.user._updateTokensIfNecessary(X),_.user.reload()})()}unenroll(h){var f=this;return(0,F.A)(function*(){const _="string"==typeof h?h:h.uid,T=yield f.user.getIdToken();try{const D=yield vn(f.user,function fL(g,h){return ee(g,"POST","/v2/accounts/mfaEnrollment:withdraw",oe(g,h))}(f.user.auth,{idToken:T,mfaEnrollmentId:_}));f.enrolledFactors=f.enrolledFactors.filter(({uid:X})=>X!==_),yield f.user._updateTokensIfNecessary(D),yield f.user.reload()}catch(D){throw D}})()}}const Ly=new WeakMap;function Vy(g){const h=(0,U.Ku)(g);return Ly.has(h)||Ly.set(h,Fy._fromUser(h)),Ly.get(h)}const Ud="__sak";class lC{constructor(h,f){this.storageRetriever=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Ud,"1"),this.storage.removeItem(Ud),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xs=(()=>{class g extends lC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,_)=>this.onStorageEvent(f,_),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=It(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const _ of Object.keys(this.listeners)){const T=this.storage.getItem(_),D=this.localCache[_];T!==D&&f(_,D,T)}}onStorageEvent(f,_=!1){if(!f.key)return void this.forAllChangedKeys((ae,we,qe)=>{this.notifyListeners(ae,qe)});const T=f.key;_?this.detachListener():this.stopPolling();const D=()=>{const ae=this.storage.getItem(T);!_&&this.localCache[T]===ae||this.notifyListeners(T,ae)},X=this.storage.getItem(T);!function yh(){return(0,U.lT)()&&10===document.documentMode}()||X===f.newValue||f.newValue===f.oldValue?D():setTimeout(D,10)}notifyListeners(f,_){this.localCache[f]=_;const T=this.listeners[f];if(T)for(const D of Array.from(T))D(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,_,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:_,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,_){var T=()=>super._set,D=this;return(0,F.A)(function*(){yield T().call(D,f,_),D.localCache[f]=JSON.stringify(_)})()}_get(f){var _=()=>super._get,T=this;return(0,F.A)(function*(){const D=yield _().call(T,f);return T.localCache[f]=JSON.stringify(D),D})()}_remove(f){var _=()=>super._remove,T=this;return(0,F.A)(function*(){yield _().call(T,f),delete T.localCache[f]})()}}return g.type="LOCAL",g})(),By=(()=>{class g extends lC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,_){}_removeListener(f,_){}}return g.type="SESSION",g})();let Rh=(()=>{class g{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const _=this.receivers.find(D=>D.isListeningto(f));if(_)return _;const T=new g(f);return this.receivers.push(T),T}isListeningto(f){return this.eventTarget===f}handleEvent(f){var _=this;return(0,F.A)(function*(){const T=f,{eventId:D,eventType:X,data:ae}=T.data,we=_.handlersMap[X];if(!we?.size)return;T.ports[0].postMessage({status:"ack",eventId:D,eventType:X});const qe=Array.from(we).map(function(){var Ut=(0,F.A)(function*(Nr){return Nr(T.origin,ae)});return function(Nr){return Ut.apply(this,arguments)}}()),nt=yield function fr(g){return Promise.all(g.map(function(){var h=(0,F.A)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(_){return{fulfilled:!1,reason:_}}});return function(f){return h.apply(this,arguments)}}()))}(qe);T.ports[0].postMessage({status:"done",eventId:D,eventType:X,response:nt})})()}_subscribe(f,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(_)}_unsubscribe(f,_){this.handlersMap[f]&&_&&this.handlersMap[f].delete(_),(!_||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function Tr(g="",h=10){let f="";for(let _=0;_<h;_++)f+=Math.floor(10*Math.random());return g+f}class Uy{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,f,_=50){var T=this;return(0,F.A)(function*(){const D=typeof MessageChannel<"u"?new MessageChannel:null;if(!D)throw new Error("connection_unavailable");let X,ae;return new Promise((we,qe)=>{const nt=Tr("",20);D.port1.start();const Ut=setTimeout(()=>{qe(new Error("unsupported_event"))},_);ae={messageChannel:D,onMessage(Nr){const Ia=Nr;if(Ia.data.eventId===nt)switch(Ia.data.status){case"ack":clearTimeout(Ut),X=setTimeout(()=>{qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),we(Ia.data.response);break;default:clearTimeout(Ut),clearTimeout(X),qe(new Error("invalid_response"))}}},T.handlers.add(ae),D.port1.addEventListener("message",ae.onMessage),T.target.postMessage({eventType:h,eventId:nt,data:f},[D.port2])}).finally(()=>{ae&&T.removeMessageHandler(ae)})})()}}function Mi(){return window}function Mh(){return typeof Mi().WorkerGlobalScope<"u"&&"function"==typeof Mi().importScripts}function Ph(){return(Ph=(0,F.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Hp="firebaseLocalStorageDb",jd="firebaseLocalStorage",zd="fbase_key";class Js{constructor(h){this.request=h}toPromise(){return new Promise((h,f)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Zs(g,h){return g.transaction([jd],h?"readwrite":"readonly").objectStore(jd)}function Wy(){const g=indexedDB.open(Hp,1);return new Promise((h,f)=>{g.addEventListener("error",()=>{f(g.error)}),g.addEventListener("upgradeneeded",()=>{const _=g.result;try{_.createObjectStore(jd,{keyPath:zd})}catch(T){f(T)}}),g.addEventListener("success",(0,F.A)(function*(){const _=g.result;_.objectStoreNames.contains(jd)?h(_):(_.close(),yield function Hy(){const g=indexedDB.deleteDatabase(Hp);return new Js(g).toPromise()}(),h(yield Wy()))}))})}function dC(g,h,f){return qy.apply(this,arguments)}function qy(){return(qy=(0,F.A)(function*(g,h,f){const _=Zs(g,!0).put({[zd]:h,value:f});return new Js(_).toPromise()})).apply(this,arguments)}function Wp(){return(Wp=(0,F.A)(function*(g,h){const f=Zs(g,!1).get(h),_=yield new Js(f).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function hC(g,h){const f=Zs(g,!0).delete(h);return new Js(f).toPromise()}const Oh=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,F.A)(function*(){return f.db||(f.db=yield Wy()),f.db})()}_withRetries(f){var _=this;return(0,F.A)(function*(){let T=0;for(;;)try{const D=yield _._openDb();return yield f(D)}catch(D){if(T++>3)throw D;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,F.A)(function*(){return Mh()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,F.A)(function*(){f.receiver=Rh._getInstance(function zp(){return Mh()?self:null}()),f.receiver._subscribe("keyChanged",function(){var _=(0,F.A)(function*(T,D){return{keyProcessed:(yield f._poll()).includes(D.key)}});return function(T,D){return _.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var _=(0,F.A)(function*(T,D){return["keyChanged"]});return function(T,D){return _.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,F.A)(function*(){var _,T;if(f.activeServiceWorker=yield function Up(){return Ph.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Uy(f.activeServiceWorker);const D=yield f.sender._send("ping",{},800);D&&null!==(_=D[0])&&void 0!==_&&_.fulfilled&&null!==(T=D[0])&&void 0!==T&&T.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var _=this;return(0,F.A)(function*(){if(_.sender&&_.activeServiceWorker&&function jp(){var g;return(null===(g=navigator?.serviceWorker)||void 0===g?void 0:g.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:f},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,F.A)(function*(){try{if(!indexedDB)return!1;const f=yield Wy();return yield dC(f,Ud,"1"),yield hC(f,Ud),!0}catch{}return!1})()}_withPendingWrite(f){var _=this;return(0,F.A)(function*(){_.pendingWrites++;try{yield f()}finally{_.pendingWrites--}})()}_set(f,_){var T=this;return(0,F.A)(function*(){return T._withPendingWrite((0,F.A)(function*(){return yield T._withRetries(D=>dC(D,f,_)),T.localCache[f]=_,T.notifyServiceWorker(f)}))})()}_get(f){var _=this;return(0,F.A)(function*(){const T=yield _._withRetries(D=>function uC(g,h){return Wp.apply(this,arguments)}(D,f));return _.localCache[f]=T,T})()}_remove(f){var _=this;return(0,F.A)(function*(){return _._withPendingWrite((0,F.A)(function*(){return yield _._withRetries(T=>hC(T,f)),delete _.localCache[f],_.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,F.A)(function*(){const _=yield f._withRetries(X=>{const ae=Zs(X,!1).getAll();return new Js(ae).toPromise()});if(!_)return[];if(0!==f.pendingWrites)return[];const T=[],D=new Set;if(0!==_.length)for(const{fbase_key:X,value:ae}of _)D.add(X),JSON.stringify(f.localCache[X])!==JSON.stringify(ae)&&(f.notifyListeners(X,ae),T.push(X));for(const X of Object.keys(f.localCache))f.localCache[X]&&!D.has(X)&&(f.notifyListeners(X,null),T.push(X));return T})()}notifyListeners(f,_){this.localCache[f]=_;const T=this.listeners[f];if(T)for(const D of Array.from(T))D(_)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,F.A)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})(),Nh=1e12;class mC{constructor(h){this.auth=h,this.counter=Nh,this._widgets=new Map}render(h,f){const _=this.counter;return this._widgets.set(_,new pC(h,this.auth.name,f||{})),this.counter++,_}reset(h){var f;const _=h||Nh;null===(f=this._widgets.get(_))||void 0===f||f.delete(),this._widgets.delete(_)}getResponse(h){var f;return(null===(f=this._widgets.get(h||Nh))||void 0===f?void 0:f.getResponse())||""}execute(h){var f=this;return(0,F.A)(function*(){var _;return null===(_=f._widgets.get(h||Nh))||void 0===_||_.execute(),""})()}}class pC{constructor(h,f,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof h?document.getElementById(h):h;re(T,"argument-error",{appName:f}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Qy(g){const h=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<g;_++)h.push(f.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":f}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Gp=KT("rcb"),Yy=new Wi(3e4,6e4);class gC{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Mi().grecaptcha)||void 0===h||!h.render)}load(h,f=""){return re(function vL(g){return g.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g)}(f),h,"argument-error"),this.shouldResolveImmediately(f)&&rn(Mi().grecaptcha)?Promise.resolve(Mi().grecaptcha):new Promise((_,T)=>{const D=Mi().setTimeout(()=>{T(pn(h,"network-request-failed"))},Yy.get());Mi()[Gp]=()=>{Mi().clearTimeout(D),delete Mi()[Gp];const ae=Mi().grecaptcha;if(!ae||!rn(ae))return void T(pn(h,"internal-error"));const we=ae.render;ae.render=(qe,nt)=>{const Ut=we(qe,nt);return this.counter++,Ut},this.hostLanguage=f,_(ae)},dy(`${function ZF(){return Yo.recaptchaV2Script}()}?${(0,U.Am)({onload:Gp,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(D),T(pn(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var f;return!(null===(f=Mi().grecaptcha)||void 0===f||!f.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _C{load(h){return(0,F.A)(function*(){return new mC(h)})()}clearedOneInstance(){}}const Pi="recaptcha",Xy={theme:"light",type:"image"};class bC{constructor(h,f,_=Object.assign({},Xy)){this.parameters=_,this.type=Pi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=di(h),this.isInvisible="invisible"===this.parameters.size,re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;re(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _C:new gC,this.validateStartingState()}verify(){var h=this;return(0,F.A)(function*(){h.assertNotDestroyed();const f=yield h.render(),_=h.getAssertedRecaptcha();return _.getResponse(f)||new Promise(D=>{const X=ae=>{ae&&(h.tokenChangeListeners.delete(X),D(ae))};h.tokenChangeListeners.add(X),h.isInvisible&&_.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return f=>{if(this.tokenChangeListeners.forEach(_=>_(f)),"function"==typeof h)h(f);else if("string"==typeof h){const _=Mi()[h];"function"==typeof _&&_(f)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,F.A)(function*(){if(yield h.init(),!h.widgetId){let f=h.container;if(!h.isInvisible){const _=document.createElement("div");f.appendChild(_),f=_}h.widgetId=h.getAssertedRecaptcha().render(f,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,F.A)(function*(){re(jn()&&!Mh(),h.auth,"internal-error"),yield function vC(){let g=null;return new Promise(h=>{"complete"!==document.readyState?(g=()=>h(),window.addEventListener("load",g)):h()}).catch(h=>{throw g&&window.removeEventListener("load",g),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const f=yield function Gi(g){return er.apply(this,arguments)}(h.auth);re(f,h.auth,"internal-error"),h.parameters.sitekey=f})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Fh{constructor(h,f){this.verificationId=h,this.onConfirmation=f}confirm(h){const f=Ks._fromVerification(this.verificationId,h);return this.onConfirmation(f)}}function Jy(g,h,f){return $p.apply(this,arguments)}function $p(){return($p=(0,F.A)(function*(g,h,f){if((0,Ne._isFirebaseServerApp)(g.app))return Promise.reject(zt(g));const _=di(g),T=yield Hd(_,h,(0,U.Ku)(f));return new Fh(T,D=>Ah(_,D))})).apply(this,arguments)}function Kp(g,h,f){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,F.A)(function*(g,h,f){const _=(0,U.Ku)(g);yield Pd(!1,_,"phone");const T=yield Hd(_.auth,h,(0,U.Ku)(f));return new Fh(T,D=>ky(_,D))})).apply(this,arguments)}function Is(g,h,f){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,F.A)(function*(g,h,f){const _=(0,U.Ku)(g);if((0,Ne._isFirebaseServerApp)(_.auth.app))return Promise.reject(zt(_.auth));const T=yield Hd(_.auth,h,(0,U.Ku)(f));return new Fh(T,D=>Sy(_,D))})).apply(this,arguments)}function Hd(g,h,f){return An.apply(this,arguments)}function An(){return An=(0,F.A)(function*(g,h,f){var _;const T=yield f.verify();try{let D;if(re("string"==typeof T,g,"argument-error"),re(f.type===Pi,g,"argument-error"),D="string"==typeof h?{phoneNumber:h}:h,"session"in D){const X=D.session;if("phoneNumber"in D)return re("enroll"===X.type,g,"internal-error"),(yield function dL(g,h){return ee(g,"POST","/v2/accounts/mfaEnrollment:start",oe(g,h))}(g,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:D.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{re("signin"===X.type,g,"internal-error");const ae=(null===(_=D.multiFactorHint)||void 0===_?void 0:_.uid)||D.multiFactorUid;return re(ae,g,"missing-multi-factor-info"),(yield function _L(g,h){return ee(g,"POST","/v2/accounts/mfaSignIn:start",oe(g,h))}(g,{mfaPendingCredential:X.credential,mfaEnrollmentId:ae,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield function xy(g,h){return ga.apply(this,arguments)}(g,{phoneNumber:D.phoneNumber,recaptchaToken:T});return X}}finally{f._reset()}}),An.apply(this,arguments)}function Yp(g,h){return pl.apply(this,arguments)}function pl(){return(pl=(0,F.A)(function*(g,h){const f=(0,U.Ku)(g);if((0,Ne._isFirebaseServerApp)(f.auth.app))return Promise.reject(zt(f.auth));yield bo(f,h)})).apply(this,arguments)}let Yr=(()=>{class g{constructor(f){this.providerId=g.PROVIDER_ID,this.auth=di(f)}verifyPhoneNumber(f,_){return Hd(this.auth,f,(0,U.Ku)(_))}static credential(f,_){return Ks._fromVerification(f,_)}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:_,temporaryProof:T}=f;return _&&T?Ks._fromTokenResponse(_,T):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function nc(g,h){return h?ge(h):(re(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class Vh extends pa{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Do(h,this._buildIdpRequest())}_linkToIdToken(h,f){return Do(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return Do(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function gl(g){return Ay(g.auth,new Vh(g),g.bypassAuthState)}function yo(g){const{auth:h,user:f}=g;return re(f,h,"internal-error"),Cy(f,new Vh(g),g.bypassAuthState)}function yC(g){return Xp.apply(this,arguments)}function Xp(){return(Xp=(0,F.A)(function*(g){const{auth:h,user:f}=g;return re(f,h,"internal-error"),bo(f,new Vh(g),g.bypassAuthState)})).apply(this,arguments)}class Zy{constructor(h,f,_,T,D=!1){this.auth=h,this.resolver=_,this.user=T,this.bypassAuthState=D,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,F.A)(function*(_,T){h.pendingPromise={resolve:_,reject:T};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(D){h.reject(D)}});return function(_,T){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,F.A)(function*(){const{urlResponse:_,sessionId:T,postBody:D,tenantId:X,error:ae,type:we}=h;if(ae)return void f.reject(ae);const qe={auth:f.auth,requestUri:_,sessionId:T,tenantId:X||void 0,postBody:D||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(we)(qe))}catch(nt){f.reject(nt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return gl;case"linkViaPopup":case"linkViaRedirect":return yC;case"reauthViaPopup":case"reauthViaRedirect":return yo;default:mn(this.auth,"internal-error")}}resolve(h){Et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wa=new Wi(2e3,1e4);function e0(g,h,f){return Jp.apply(this,arguments)}function Jp(){return(Jp=(0,F.A)(function*(g,h,f){if((0,Ne._isFirebaseServerApp)(g.app))return Promise.reject(pn(g,"operation-not-supported-in-this-environment"));const _=di(g);xt(g,h,Ro);const T=nc(_,f);return new pt(_,"signInViaPopup",h,T).executeNotNull()})).apply(this,arguments)}function t0(g,h,f){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,F.A)(function*(g,h,f){const _=(0,U.Ku)(g);if((0,Ne._isFirebaseServerApp)(_.auth.app))return Promise.reject(pn(_.auth,"operation-not-supported-in-this-environment"));xt(_.auth,h,Ro);const T=nc(_.auth,f);return new pt(_.auth,"reauthViaPopup",h,T,_).executeNotNull()})).apply(this,arguments)}function n0(g,h,f){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,F.A)(function*(g,h,f){const _=(0,U.Ku)(g);xt(_.auth,h,Ro);const T=nc(_.auth,f);return new pt(_.auth,"linkViaPopup",h,T,_).executeNotNull()})).apply(this,arguments)}let pt=(()=>{class g extends Zy{constructor(f,_,T,D,X){super(f,_,D,X),this.provider=T,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var f=this;return(0,F.A)(function*(){const _=yield f.execute();return re(_,f.auth,"internal-error"),_})()}onExecution(){var f=this;return(0,F.A)(function*(){Et(1===f.filter.length,"Popup operations only handle one event");const _=Tr();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],_),f.authWindow.associatedEvent=_,f.resolver._originValidation(f.auth).catch(T=>{f.reject(T)}),f.resolver._isIframeWebStorageSupported(f.auth,T=>{T||f.reject(pn(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const f=()=>{var _,T;this.pollId=null!==(T=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(pn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,wa.get())};f()}}return g.currentPopupAction=null,g})();const r0="pendingRedirect",Uh=new Map;class wC extends Zy{constructor(h,f,_=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,_),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,F.A)(function*(){let _=Uh.get(f.auth._key());if(!_){try{const D=(yield function xC(g,h){return eg.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;_=()=>Promise.resolve(D)}catch(T){_=()=>Promise.reject(T)}Uh.set(f.auth._key(),_)}return f.bypassAuthState||Uh.set(f.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,_=this;return(0,F.A)(function*(){if("signInViaRedirect"===h.type)return f().call(_,h);if("unknown"!==h.type){if(h.eventId){const T=yield _.auth._redirectUserForId(h.eventId);if(T)return _.user=T,f().call(_,h);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,F.A)(function*(){})()}cleanUp(){}}function eg(){return(eg=(0,F.A)(function*(g,h){const f=a0(h),_=s0(g);if(!(yield _._isAvailable()))return!1;const T="true"===(yield _._get(f));return yield _._remove(f),T})).apply(this,arguments)}function jh(g,h){return xa.apply(this,arguments)}function xa(){return(xa=(0,F.A)(function*(g,h){return s0(g)._set(a0(h),"true")})).apply(this,arguments)}function EC(){Uh.clear()}function o0(g,h){Uh.set(g._key(),h)}function s0(g){return ge(g._redirectPersistence)}function a0(g){return Kt(r0,g.config.apiKey,g.name)}function IC(g,h,f){return function xe(g,h,f){return Yt.apply(this,arguments)}(g,h,f)}function Yt(){return(Yt=(0,F.A)(function*(g,h,f){if((0,Ne._isFirebaseServerApp)(g.app))return Promise.reject(zt(g));const _=di(g);xt(g,h,Ro),yield _._initializationPromise;const T=nc(_,f);return yield jh(T,_),T._openRedirect(_,h,"signInViaRedirect")})).apply(this,arguments)}function Pt(g,h,f){return function Ot(g,h,f){return Ki.apply(this,arguments)}(g,h,f)}function Ki(){return(Ki=(0,F.A)(function*(g,h,f){const _=(0,U.Ku)(g);if(xt(_.auth,h,Ro),(0,Ne._isFirebaseServerApp)(_.auth.app))return Promise.reject(zt(_.auth));yield _.auth._initializationPromise;const T=nc(_.auth,f);yield jh(T,_.auth);const D=yield ig(_);return T._openRedirect(_.auth,h,"reauthViaRedirect",D)})).apply(this,arguments)}function c0(g,h,f){return function Wd(g,h,f){return Mo.apply(this,arguments)}(g,h,f)}function Mo(){return(Mo=(0,F.A)(function*(g,h,f){const _=(0,U.Ku)(g);xt(_.auth,h,Ro),yield _.auth._initializationPromise;const T=nc(_.auth,f);yield Pd(!1,_,h.providerId),yield jh(T,_.auth);const D=yield ig(_);return T._openRedirect(_.auth,h,"linkViaRedirect",D)})).apply(this,arguments)}function tg(g,h){return qd.apply(this,arguments)}function qd(){return(qd=(0,F.A)(function*(g,h){return yield di(g)._initializationPromise,ng(g,h,!1)})).apply(this,arguments)}function ng(g,h){return l0.apply(this,arguments)}function l0(){return(l0=(0,F.A)(function*(g,h,f=!1){if((0,Ne._isFirebaseServerApp)(g.app))return Promise.reject(zt(g));const _=di(g),T=nc(_,h),X=yield new wC(_,T,f).execute();return X&&!f&&(delete X.user._redirectEventId,yield _._persistUserIfCurrent(X.user),yield _._setRedirectUser(null,h)),X})).apply(this,arguments)}function ig(g){return mr.apply(this,arguments)}function mr(){return(mr=(0,F.A)(function*(g){const h=Tr(`${g.uid}:::`);return g._redirectEventId=h,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),h})).apply(this,arguments)}class rg{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(h,_)&&(f=!0,this.sendToConsumer(h,_),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function TC(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ts(g);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var _;if(h.error&&!Ts(h)){const T=(null===(_=h.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";f.onError(pn(this.auth,T))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const _=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&_}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ic(h))}saveEventToCache(h){this.cachedEventUids.add(ic(h)),this.lastProcessedEventTime=Date.now()}}function ic(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(h=>h).join("-")}function Ts({type:g,error:h}){return"unknown"===g&&"auth/no-auth-event"===h?.code}function og(g){return sg.apply(this,arguments)}function sg(){return(sg=(0,F.A)(function*(g,h={}){return ee(g,"GET","/v1/projects",h)})).apply(this,arguments)}const CC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ag=/^https?/;function zh(){return(zh=(0,F.A)(function*(g){if(g.config.emulator)return;const{authorizedDomains:h}=yield og(g);for(const f of h)try{if(lg(f))return}catch{}mn(g,"unauthorized-domain")})).apply(this,arguments)}function lg(g){const h=Gt(),{protocol:f,hostname:_}=new URL(h);if(g.startsWith("chrome-extension://")){const X=new URL(g);return""===X.hostname&&""===_?"chrome-extension:"===f&&g.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&X.hostname===_}if(!ag.test(f))return!1;if(CC.test(g))return _===g;const T=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(_)}const AC=new Wi(3e4,6e4);function dg(){const g=Mi().___jsl;if(g?.H)for(const h of Object.keys(g.H))if(g.H[h].r=g.H[h].r||[],g.H[h].L=g.H[h].L||[],g.H[h].r=[...g.H[h].L],g.CP)for(let f=0;f<g.CP.length;f++)g.CP[f]=null}let Gd=null;const u0=new Wi(5e3,15e3),h0="__/auth/iframe",hg="emulator/auth/iframe",kC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Or(g){const h=g.config;re(h.authDomain,g,"auth-domain-config-required");const f=h.emulator?Wr(h,hg):`https://${g.config.authDomain}/${h0}`,_={apiKey:h.apiKey,appName:g.name,v:Ne.SDK_VERSION},T=SC.get(g.config.apiHost);T&&(_.eid=T);const D=g._getFrameworks();return D.length&&(_.fw=D.join(",")),`${f}?${(0,U.Am)(_).slice(1)}`}function Gn(){return Gn=(0,F.A)(function*(g){const h=yield function d0(g){return Gd=Gd||function ug(g){return new Promise((h,f)=>{var _,T,D;function X(){dg(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{dg(),f(pn(g,"network-request-failed"))},timeout:AC.get()})}if(null!==(T=null===(_=Mi().gapi)||void 0===_?void 0:_.iframes)&&void 0!==T&&T.Iframe)h(gapi.iframes.getContext());else{if(null===(D=Mi().gapi)||void 0===D||!D.load){const ae=KT("iframefcb");return Mi()[ae]=()=>{gapi.load?X():f(pn(g,"network-request-failed"))},dy(`${function $T(){return Yo.gapiScript}()}?onload=${ae}`).catch(we=>f(we))}X()}}).catch(h=>{throw Gd=null,h})}(g),Gd}(g),f=Mi().gapi;return re(f,g,"internal-error"),h.open({where:document.body,url:Or(g),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kC,dontclear:!0},_=>new Promise(function(){var T=(0,F.A)(function*(D,X){yield _.restyle({setHideOnLeave:!1});const ae=pn(g,"network-request-failed"),we=Mi().setTimeout(()=>{X(ae)},u0.get());function qe(){Mi().clearTimeout(we),D(_)}_.ping(qe).then(qe,()=>{X(ae)})});return function(D,X){return T.apply(this,arguments)}}()))}),Gn.apply(this,arguments)}const fg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class pg{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const MC="__/auth/handler",Wh="emulator/auth/handler",qh=encodeURIComponent("fac");function _l(g,h,f,_,T,D){return $d.apply(this,arguments)}function $d(){return($d=(0,F.A)(function*(g,h,f,_,T,D){re(g.config.authDomain,g,"auth-domain-config-required"),re(g.config.apiKey,g,"invalid-api-key");const X={apiKey:g.config.apiKey,appName:g.name,authType:f,redirectUrl:_,v:Ne.SDK_VERSION,eventId:T};if(h instanceof Ro){h.setDefaultLanguage(g.languageCode),X.providerId=h.providerId||"",(0,U.Im)(h.getCustomParameters())||(X.customParameters=JSON.stringify(h.getCustomParameters()));for(const[nt,Ut]of Object.entries(D||{}))X[nt]=Ut}if(h instanceof dr){const nt=h.getScopes().filter(Ut=>""!==Ut);nt.length>0&&(X.scopes=nt.join(","))}g.tenantId&&(X.tid=g.tenantId);const ae=X;for(const nt of Object.keys(ae))void 0===ae[nt]&&delete ae[nt];const we=yield g._getAppCheckToken(),qe=we?`#${qh}=${encodeURIComponent(we)}`:"";return`${function m0({config:g}){return g.emulator?Wr(g,Wh):`https://${g.authDomain}/${MC}`}(g)}?${(0,U.Am)(ae).slice(1)}${qe}`})).apply(this,arguments)}const Gh="webStorageSupport",oc=class PC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=By,this._completeRedirectFn=ng,this._overrideRedirectResult=o0}_openPopup(h,f,_,T){var D=this;return(0,F.A)(function*(){var X;Et(null===(X=D.eventManagers[h._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const ae=yield _l(h,f,_,Gt(),T);return function Hh(g,h,f,_=500,T=600){const D=Math.max((window.screen.availHeight-T)/2,0).toString(),X=Math.max((window.screen.availWidth-_)/2,0).toString();let ae="";const we=Object.assign(Object.assign({},fg),{width:_.toString(),height:T.toString(),top:D,left:X}),qe=(0,U.ZQ)().toLowerCase();f&&(ae=vs(qe)?"_blank":f),Le(qe)&&(h=h||"http://localhost",we.scrollbars="yes");const nt=Object.entries(we).reduce((Nr,[Ia,sc])=>`${Nr}${Ia}=${sc},`,"");if(function he(g=(0,U.ZQ)()){var h;return bp(g)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(qe)&&"_self"!==ae)return function Ea(g,h){const f=document.createElement("a");f.href=g,f.target=h;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(_)}(h||"",ae),new pg(null);const Ut=window.open(h||"",ae,nt);re(Ut,g,"popup-blocked");try{Ut.focus()}catch{}return new pg(Ut)}(h,ae,Tr())})()}_openRedirect(h,f,_,T){var D=this;return(0,F.A)(function*(){return yield D._originValidation(h),function jy(g){Mi().location.href=g}(yield _l(h,f,_,Gt(),T)),new Promise(()=>{})})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:T,promise:D}=this.eventManagers[f];return T?Promise.resolve(T):(Et(D,"If manager is not set, promise should be"),D)}const _=this.initAndGetManager(h);return this.eventManagers[f]={promise:_},_.catch(()=>{delete this.eventManagers[f]}),_}initAndGetManager(h){var f=this;return(0,F.A)(function*(){const _=yield function rc(g){return Gn.apply(this,arguments)}(h),T=new rg(h);return _.register("authEvent",D=>(re(D?.authEvent,h,"invalid-auth-event"),{status:T.onEvent(D.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:T},f.iframes[h._key()]=_,T})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send(Gh,{type:Gh},T=>{var D;const X=null===(D=T?.[0])||void 0===D?void 0:D[Gh];void 0!==X&&f(!!X),mn(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function cg(g){return zh.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return It()||li()||bp()}};class bl{constructor(h){this.factorId=h}_process(h,f,_){switch(f.type){case"enroll":return this._finalizeEnroll(h,f.credential,_);case"signin":return this._finalizeSignIn(h,f.credential);default:return tt("unexpected MultiFactorSessionType")}}}class gg extends bl{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new gg(h)}_finalizeEnroll(h,f,_){return function uL(g,h){return ee(g,"POST","/v2/accounts/mfaEnrollment:finalize",oe(g,h))}(h,{idToken:f,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,f){return function bL(g,h){return ee(g,"POST","/v2/accounts/mfaSignIn:finalize",oe(g,h))}(h,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yL=(()=>{class g{constructor(){}static assertion(f){return gg._fromCredential(f)}}return g.FACTOR_ID="phone",g})();var OC="@firebase/auth";class _g{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var f=this;return(0,F.A)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const f=this.auth.onIdTokenChanged(_=>{h(_?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,f),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const f=this.internalListeners.get(h);f&&(this.internalListeners.delete(h),f(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const bg=(0,U.XA)("authIdTokenMaxAge")||300;let Yd=null;const wL=g=>function(){var h=(0,F.A)(function*(f){const _=f&&(yield f.getIdTokenResult()),T=_&&((new Date).getTime()-Date.parse(_.issuedAtTime))/1e3;if(T&&T>bg)return;const D=_?.token;Yd!==D&&(Yd=D,yield fetch(g,{method:D?"POST":"DELETE",headers:D?{Authorization:`Bearer ${D}`}:{}}))});return function(f){return h.apply(this,arguments)}}();function b0(g=(0,Ne.getApp)()){const h=(0,Ne._getProvider)(g,"auth");if(h.isInitialized())return h.getImmediate();const f=function ut(g,h){const f=(0,Ne._getProvider)(g,"auth");if(f.isInitialized()){const T=f.getImmediate(),D=f.getOptions();if((0,U.bD)(D,h??{}))return T;mn(T,"already-initialized")}return f.initialize({options:h})}(g,{popupRedirectResolver:oc,persistence:[Oh,Xs,By]}),_=(0,U.XA)("authTokenSyncURL");if(_&&"boolean"==typeof isSecureContext&&isSecureContext){const D=new URL(_,location.origin);if(location.origin===D.origin){const X=wL(D.toString());(function Bp(g,h,f){(0,U.Ku)(g).beforeAuthStateChanged(h,f)})(f,X,()=>X(f.currentUser)),function Zo(g,h,f,_){(0,U.Ku)(g).onIdTokenChanged(h,f,_)}(f,ae=>X(ae))}}const T=(0,U.Tj)("auth");return T&&my(f,`http://${T}`),f}(function JF(g){Yo=g})({loadJS:g=>new Promise((h,f)=>{const _=document.createElement("script");_.setAttribute("src",g),_.onload=h,_.onerror=T=>{const D=pn("internal-error");D.customData=T,f(D)},_.type="text/javascript",_.charset="UTF-8",function v0(){var g,h;return null!==(h=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==h?h:document}().appendChild(_)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function FC(g){(0,Ne._registerComponent)(new Jn.uA("auth",(h,{options:f})=>{const _=h.getProvider("app").getImmediate(),T=h.getProvider("heartbeat"),D=h.getProvider("app-check-internal"),{apiKey:X,authDomain:ae}=_.options;re(X&&!X.includes(":"),"invalid-api-key",{appName:_.name});const we={apiKey:X,authDomain:ae,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gn(g)},qe=new XF(_,T,D,we);return function xh(g,h){const f=h?.persistence||[],_=(Array.isArray(f)?f:[f]).map(ge);h?.errorMap&&g._updateErrorMap(h.errorMap),g._initializeWithPersistence(_,h?.popupRedirectResolver)}(qe,f),qe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,f,_)=>{h.getProvider("auth-internal").initialize()})),(0,Ne._registerComponent)(new Jn.uA("auth-internal",h=>{const f=di(h.getProvider("auth").getImmediate());return new _g(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ne.registerVersion)(OC,"1.7.9",function Kd(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(g)),(0,Ne.registerVersion)(OC,"1.7.9","esm2017")}("Browser")},401:(Go,Ni,rt)=>{rt.d(Ni,{Am:()=>bs,Bd:()=>tt,FA:()=>Ae,Fy:()=>zt,I9:()=>Gr,Im:()=>er,Ku:()=>ve,Ll:()=>re,T9:()=>mn,Tj:()=>ci,Uj:()=>Mt,XA:()=>pn,ZQ:()=>xt,bD:()=>qr,c1:()=>Gt,cY:()=>vr,eX:()=>ce,g:()=>pe,gR:()=>Ei,hp:()=>So,jZ:()=>Se,lT:()=>zn,lV:()=>kn,mS:()=>qt,nr:()=>_s,p7:()=>Et,sr:()=>jn,tD:()=>$i,u:()=>be,yU:()=>Un,zW:()=>K,zw:()=>Ye});const Ke=function(C){const E=[];let k=0;for(let M=0;M<C.length;M++){let z=C.charCodeAt(M);z<128?E[k++]=z:z<2048?(E[k++]=z>>6|192,E[k++]=63&z|128):55296==(64512&z)&&M+1<C.length&&56320==(64512&C.charCodeAt(M+1))?(z=65536+((1023&z)<<10)+(1023&C.charCodeAt(++M)),E[k++]=z>>18|240,E[k++]=z>>12&63|128,E[k++]=z>>6&63|128,E[k++]=63&z|128):(E[k++]=z>>12|224,E[k++]=z>>6&63|128,E[k++]=63&z|128)}return E},Jn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(C,E){if(!Array.isArray(C))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=E?this.byteToCharMapWebSafe_:this.byteToCharMap_,M=[];for(let z=0;z<C.length;z+=3){const ge=C[z],ke=z+1<C.length,Ze=ke?C[z+1]:0,Kt=z+2<C.length,Xe=Kt?C[z+2]:0;let li=(15&Ze)<<2|Xe>>6,vs=63&Xe;Kt||(vs=64,ke||(li=64)),M.push(k[ge>>2],k[(3&ge)<<4|Ze>>4],k[li],k[vs])}return M.join("")},encodeString(C,E){return this.HAS_NATIVE_SUPPORT&&!E?btoa(C):this.encodeByteArray(Ke(C),E)},decodeString(C,E){return this.HAS_NATIVE_SUPPORT&&!E?atob(C):function(C){const E=[];let k=0,M=0;for(;k<C.length;){const z=C[k++];if(z<128)E[M++]=String.fromCharCode(z);else if(z>191&&z<224){const ge=C[k++];E[M++]=String.fromCharCode((31&z)<<6|63&ge)}else if(z>239&&z<365){const Kt=((7&z)<<18|(63&C[k++])<<12|(63&C[k++])<<6|63&C[k++])-65536;E[M++]=String.fromCharCode(55296+(Kt>>10)),E[M++]=String.fromCharCode(56320+(1023&Kt))}else{const ge=C[k++],ke=C[k++];E[M++]=String.fromCharCode((15&z)<<12|(63&ge)<<6|63&ke)}}return E.join("")}(this.decodeStringToByteArray(C,E))},decodeStringToByteArray(C,E){this.init_();const k=E?this.charToByteMapWebSafe_:this.charToByteMap_,M=[];for(let z=0;z<C.length;){const ge=k[C.charAt(z++)],Ze=z<C.length?k[C.charAt(z)]:0;++z;const Xe=z<C.length?k[C.charAt(z)]:64;++z;const Le=z<C.length?k[C.charAt(z)]:64;if(++z,null==ge||null==Ze||null==Xe||null==Le)throw new Zn;M.push(ge<<2|Ze>>4),64!==Xe&&(M.push(Ze<<4&240|Xe>>2),64!==Le&&M.push(Xe<<6&192|Le))}return M},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let C=0;C<this.ENCODED_VALS.length;C++)this.byteToCharMap_[C]=this.ENCODED_VALS.charAt(C),this.charToByteMap_[this.byteToCharMap_[C]]=C,this.byteToCharMapWebSafe_[C]=this.ENCODED_VALS_WEBSAFE.charAt(C),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[C]]=C,C>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(C)]=C,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(C)]=C)}}};class Zn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mt=function(C){return function(C){const E=Ke(C);return Jn.encodeByteArray(E,!0)}(C).replace(/\./g,"")},be=function(C){try{return Jn.decodeString(C,!0)}catch(E){console.error("base64Decode failed: ",E)}return null};function Ye(C,E){if(!(E instanceof Object))return E;switch(E.constructor){case Date:return new Date(E.getTime());case Object:void 0===C&&(C={});break;case Array:C=[];break;default:return E}for(const k in E)!E.hasOwnProperty(k)||!St(k)||(C[k]=Ye(C[k],E[k]));return C}function St(C){return"__proto__"!==C}function qt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ot=()=>{try{return qt().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const C=process.env.__FIREBASE_DEFAULTS__;return C?JSON.parse(C):void 0})()||(()=>{if(typeof document>"u")return;let C;try{C=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const E=C&&be(C[1]);return E&&JSON.parse(E)})()}catch(C){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${C}`)}},ci=C=>{var E,k;return null===(k=null===(E=ot())||void 0===E?void 0:E.emulatorHosts)||void 0===k?void 0:k[C]},Un=C=>{const E=ci(C);if(!E)return;const k=E.lastIndexOf(":");if(k<=0||k+1===E.length)throw new Error(`Invalid host ${E} with no separate hostname and port!`);const M=parseInt(E.substring(k+1),10);return"["===E[0]?[E.substring(1,k-1),M]:[E.substring(0,k),M]},mn=()=>{var C;return null===(C=ot())||void 0===C?void 0:C.config},pn=C=>{var E;return null===(E=ot())||void 0===E?void 0:E[`_${C}`]};class vr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((E,k)=>{this.resolve=E,this.reject=k})}wrapCallback(E){return(k,M)=>{k?this.reject(k):this.resolve(M),"function"==typeof E&&(this.promise.catch(()=>{}),1===E.length?E(k):E(k,M))}}}function zt(C,E){if(C.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const M=E||"demo-project",z=C.iat||0,ge=C.sub||C.user_id;if(!ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ke=Object.assign({iss:`https://securetoken.google.com/${M}`,aud:M,iat:z,exp:z+3600,auth_time:z,sub:ge,user_id:ge,firebase:{sign_in_provider:"custom",identities:{}}},C);return[Mt(JSON.stringify({alg:"none",type:"JWT"})),Mt(JSON.stringify(ke)),""].join(".")}function xt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Se(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function re(){var C;const E=null===(C=ot())||void 0===C?void 0:C.forceEnvironment;if("node"===E)return!0;if("browser"===E)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function tt(){return typeof window<"u"||Et()}function Et(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Gt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function jn(){const C="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof C&&void 0!==C.id}function kn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function zn(){const C=xt();return C.indexOf("MSIE ")>=0||C.indexOf("Trident/")>=0}function _s(){return!re()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K(){try{return"object"==typeof indexedDB}catch{return!1}}function ce(){return new Promise((C,E)=>{try{let k=!0;const M="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(M);z.onsuccess=()=>{z.result.close(),k||self.indexedDB.deleteDatabase(M),C(!0)},z.onupgradeneeded=()=>{k=!1},z.onerror=()=>{var ge;E((null===(ge=z.error)||void 0===ge?void 0:ge.message)||"")}}catch(k){E(k)}})}class pe extends Error{constructor(E,k,M){super(k),this.code=E,this.customData=M,this.name="FirebaseError",Object.setPrototypeOf(this,pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ae.prototype.create)}}class Ae{constructor(E,k,M){this.service=E,this.serviceName=k,this.errors=M}create(E,...k){const M=k[0]||{},z=`${this.service}/${E}`,ge=this.errors[E],ke=ge?function me(C,E){return C.replace(st,(k,M)=>{const z=E[M];return null!=z?String(z):`<${M}?>`})}(ge,M):"Error";return new pe(z,`${this.serviceName}: ${ke} (${z}).`,M)}}const st=/\{\$([^}]+)}/g;function Ei(C,E){return Object.prototype.hasOwnProperty.call(C,E)}function er(C){for(const E in C)if(Object.prototype.hasOwnProperty.call(C,E))return!1;return!0}function qr(C,E){if(C===E)return!0;const k=Object.keys(C),M=Object.keys(E);for(const z of k){if(!M.includes(z))return!1;const ge=C[z],ke=E[z];if(zs(ge)&&zs(ke)){if(!qr(ge,ke))return!1}else if(ge!==ke)return!1}for(const z of M)if(!k.includes(z))return!1;return!0}function zs(C){return null!==C&&"object"==typeof C}function bs(C){const E=[];for(const[k,M]of Object.entries(C))Array.isArray(M)?M.forEach(z=>{E.push(encodeURIComponent(k)+"="+encodeURIComponent(z))}):E.push(encodeURIComponent(k)+"="+encodeURIComponent(M));return E.length?"&"+E.join("&"):""}function Gr(C){const E={};return C.replace(/^\?/,"").split("&").forEach(M=>{if(M){const[z,ge]=M.split("=");E[decodeURIComponent(z)]=decodeURIComponent(ge)}}),E}function So(C){const E=C.indexOf("?");if(!E)return"";const k=C.indexOf("#",E);return C.substring(E,k>0?k:void 0)}function $i(C,E){const k=new fo(C,E);return k.subscribe.bind(k)}class fo{constructor(E,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{E(this)}).catch(M=>{this.error(M)})}next(E){this.forEachObserver(k=>{k.next(E)})}error(E){this.forEachObserver(k=>{k.error(E)}),this.close(E)}complete(){this.forEachObserver(E=>{E.complete()}),this.close()}subscribe(E,k,M){let z;if(void 0===E&&void 0===k&&void 0===M)throw new Error("Missing Observer.");z=function tr(C,E){if("object"!=typeof C||null===C)return!1;for(const k of E)if(k in C&&"function"==typeof C[k])return!0;return!1}(E,["next","error","complete"])?E:{next:E,error:k,complete:M},void 0===z.next&&(z.next=ei),void 0===z.error&&(z.error=ei),void 0===z.complete&&(z.complete=ei);const ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch{}}),this.observers.push(z),ge}unsubscribeOne(E){void 0===this.observers||void 0===this.observers[E]||(delete this.observers[E],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(E){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,E)}sendOne(E,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[E])try{k(this.observers[E])}catch(M){typeof console<"u"&&console.error&&console.error(M)}})}close(E){this.finalized||(this.finalized=!0,void 0!==E&&(this.finalError=E),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ei(){}function ve(C){return C&&C._delegate?C._delegate:C}},862:(Go,Ni,rt)=>{function F(n){return"function"==typeof n}function Ne(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const U=Ne(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Ke(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class kt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(F(i))try{i()}catch(o){t=o instanceof U?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{tn(o)}catch(s){t=t??[],s instanceof U?t=[...t,...s.errors]:t.push(s)}}if(t)throw new U(t)}}add(t){var e;if(t&&t!==this)if(this.closed)tn(t);else{if(t instanceof kt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Ke(e,t)}remove(t){const{_finalizers:e}=this;e&&Ke(e,t),t instanceof kt&&t._removeParent(this)}}kt.EMPTY=(()=>{const n=new kt;return n.closed=!0,n})();const Jn=kt.EMPTY;function Zn(n){return n instanceof kt||n&&"closed"in n&&F(n.remove)&&F(n.add)&&F(n.unsubscribe)}function tn(n){F(n)?n():n.unsubscribe()}const Mt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},be={setTimeout(n,t,...e){const{delegate:i}=be;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=be;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ce(n){be.setTimeout(()=>{const{onUnhandledError:t}=Mt;if(!t)throw n;t(n)})}function Ye(){}const St=Vt("C",void 0,void 0);function Vt(n,t,e){return{kind:n,value:t,error:e}}let bt=null;function ot(n){if(Mt.useDeprecatedSynchronousErrorHandling){const t=!bt;if(t&&(bt={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=bt;if(bt=null,e)throw i}}else n()}class Un extends kt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Zn(t)&&t.add(this)):this.destination=tt}static create(t,e,i){return new zt(t,e,i)}next(t){this.isStopped?re(function Di(n){return Vt("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?re(function qt(n){return Vt("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?re(St,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const mn=Function.prototype.bind;function pn(n,t){return mn.call(n,t)}class vr{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){xt(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){xt(i)}else xt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){xt(e)}}}class zt extends Un{constructor(t,e,i){let r;if(super(),F(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&Mt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&pn(t.next,o),error:t.error&&pn(t.error,o),complete:t.complete&&pn(t.complete,o)}):r=t}this.destination=new vr(r)}}function xt(n){Mt.useDeprecatedSynchronousErrorHandling?function ci(n){Mt.useDeprecatedSynchronousErrorHandling&&bt&&(bt.errorThrown=!0,bt.error=n)}(n):Ce(n)}function re(n,t){const{onStoppedNotification:e}=Mt;e&&be.setTimeout(()=>e(n,t))}const tt={closed:!0,next:Ye,error:function Se(n){throw n},complete:Ye},Et="function"==typeof Symbol&&Symbol.observable||"@@observable";function Gt(n){return n}function jn(...n){return kn(n)}function kn(n){return 0===n.length?Gt:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let at=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function Wr(n){return n&&n instanceof Un||function Wi(n){return n&&F(n.next)&&F(n.error)&&F(n.complete)}(n)&&Zn(n)}(e)?e:new zt(e,i,r);return ot(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=zn(i))((r,o)=>{const s=new zt({next:a=>{try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Et](){return this}pipe(...e){return kn(e)(this)}toPromise(e){return new(e=zn(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function zn(n){var t;return null!==(t=n??Mt.Promise)&&void 0!==t?t:Promise}const _s=Ne(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let K=(()=>{class n extends at{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new ce(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new _s}next(e){ot(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){ot(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){ot(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Jn:(this.currentObservers=null,o.push(e),new kt(()=>{this.currentObservers=null,Ke(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new at;return e.source=this,e}}return n.create=(t,e)=>new ce(t,e),n})();class ce extends K{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Jn}}function oe(n){return F(n?.lift)}function ee(n){return t=>{if(oe(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(n,t,e,i,r){return new Ae(n,t,e,i,r)}class Ae extends Un{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function me(n,t){return ee((e,i)=>{let r=0;e.subscribe(pe(i,o=>{i.next(n.call(t,o,r++))}))})}var st=rt(635);const En=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function dt(n){return F(n?.then)}function nn(n){return F(n[Et])}function Hn(n){return Symbol.asyncIterator&&F(n?.[Symbol.asyncIterator])}function qi(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const on=function rn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ei(n){return F(n?.[on])}function Gi(n){return(0,st.AQ)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,st.N3)(e.read());if(r)return yield(0,st.N3)(void 0);yield yield(0,st.N3)(i)}}finally{e.releaseLock()}})}function er(n){return F(n?.getReader)}function $t(n){if(n instanceof at)return n;if(null!=n){if(nn(n))return function qr(n){return new at(t=>{const e=n[Et]();if(F(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(En(n))return function zs(n){return new at(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(dt(n))return function fa(n){return new at(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Ce)})}(n);if(Hn(n))return Gr(n);if(Ei(n))return function bs(n){return new at(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(er(n))return function So(n){return Gr(Gi(n))}(n)}throw qi(n)}function Gr(n){return new at(t=>{(function Hs(n,t){var e,i,r,o;return(0,st.sH)(this,void 0,void 0,function*(){try{for(e=(0,st.xN)(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function $i(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Wn(n,t,e=1/0){return F(t)?Wn((i,r)=>me((o,s)=>t(i,o,r,s))($t(n(i,r))),e):("number"==typeof t&&(e=t),ee((i,r)=>function fo(n,t,e,i,r,o,s,a){const c=[];let l=0,d=0,u=!1;const p=()=>{u&&!c.length&&!l&&t.complete()},b=w=>l<i?v(w):c.push(w),v=w=>{o&&t.next(w),l++;let x=!1;$t(e(w,d++)).subscribe(pe(t,P=>{r?.(P),o?b(P):t.next(P)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;c.length&&l<i;){const P=c.shift();s?$i(t,s,()=>v(P)):v(P)}p()}catch(P){t.error(P)}}))};return n.subscribe(pe(t,b,()=>{u=!0,p()})),()=>{a?.()}}(i,r,n,e)))}function tr(n=1/0){return Wn(Gt,n)}const ei=new at(n=>n.complete());function vn(n){return n&&F(n.schedule)}function mo(n){return n[n.length-1]}function Ko(n){return F(mo(n))?n.pop():void 0}function Qo(n){return vn(mo(n))?n.pop():void 0}function Ri(n,t=0){return ee((e,i)=>{e.subscribe(pe(i,r=>$i(i,n,()=>i.next(r),t),()=>$i(i,n,()=>i.complete(),t),r=>$i(i,n,()=>i.error(r),t)))})}function wr(n,t=0){return ee((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function Qa(n,t){if(!n)throw new Error("Iterable cannot be null");return new at(e=>{$i(e,t,()=>{const i=n[Symbol.asyncIterator]();$i(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function C(n,t){return t?function ve(n,t){if(null!=n){if(nn(n))return function qs(n,t){return $t(n).pipe(wr(t),Ri(t))}(n,t);if(En(n))return function $s(n,t){return new at(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(dt(n))return function Gs(n,t){return $t(n).pipe(wr(t),Ri(t))}(n,t);if(Hn(n))return Qa(n,t);if(Ei(n))return function ma(n,t){return new at(e=>{let i;return $i(e,t,()=>{i=n[on](),$i(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>F(i?.return)&&i.return()})}(n,t);if(er(n))return function Be(n,t){return Qa(Gi(n),t)}(n,t)}throw qi(n)}(n,t):$t(n)}function E(...n){const t=Qo(n),e=function yr(n,t){return"number"==typeof mo(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?$t(i[0]):tr(e)(C(i,t)):ei}class k extends K{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function M(...n){return C(n,Qo(n))}function z(n={}){const{connector:t=(()=>new K),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,l=0,d=!1,u=!1;const p=()=>{a?.unsubscribe(),a=void 0},b=()=>{p(),s=c=void 0,d=u=!1},v=()=>{const w=s;b(),w?.unsubscribe()};return ee((w,x)=>{l++,!u&&!d&&p();const P=c=c??t();x.add(()=>{l--,0===l&&!u&&!d&&(a=ge(v,r))}),P.subscribe(x),!s&&l>0&&(s=new zt({next:S=>P.next(S),error:S=>{u=!0,p(),a=ge(b,e,S),P.error(S)},complete:()=>{d=!0,p(),a=ge(b,i),P.complete()}}),$t(w).subscribe(s))})(o)}}function ge(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new zt({next:()=>{i.unsubscribe(),n()}});return $t(t(...e)).subscribe(i)}function ke(n,t){return ee((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(pe(i,c=>{r?.unsubscribe();let l=0;const d=o++;$t(n(c,d)).subscribe(r=pe(i,u=>i.next(t?t(c,u,d,l++):u),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Ze(n,t=Gt){return n=n??Kt,ee((e,i)=>{let r,o=!0;e.subscribe(pe(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function Kt(n,t){return n===t}function Xe(n){for(let t in n)if(n[t]===Xe)return t;throw Error("Could not find renamed property on target object.")}function qn(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Le(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Le).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function li(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const vs=Xe({__forward_ref__:Xe});function dn(n){return n.__forward_ref__=dn,n.toString=function(){return Le(this())},n}function vt(n){return bh(n)?n():n}function bh(n){return"function"==typeof n&&n.hasOwnProperty(vs)&&n.__forward_ref__===dn}function vh(n){return n&&!!n.\u0275providers}const ly="https://g.co/ng/security#xss";class he extends Error{constructor(t,e){super(function yh(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function It(n){return"string"==typeof n?n:null==n?"":String(n)}function yp(n,t){throw new he(-201,!1)}function go(n,t){null==n&&function yt(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function Ie(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ut(n){return{providers:n.providers||[],imports:n.imports||[]}}function xh(n){return wp(n,Eh)||wp(n,xp)}function wp(n,t){return n.hasOwnProperty(t)?n[t]:null}function Ed(n){return n&&(n.hasOwnProperty(pa)||n.hasOwnProperty(Ep))?n[pa]:null}const Eh=Xe({\u0275prov:Xe}),pa=Xe({\u0275inj:Xe}),xp=Xe({ngInjectableDef:Xe}),Ep=Xe({ngInjectorDef:Xe});var Ht=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ht||{});let Id;function xr(n){const t=Id;return Id=n,t}function gy(n,t,e){const i=xh(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Ht.Optional?null:void 0!==t?t:void yp(Le(n))}const On=globalThis;class de{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Ie({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ya={},Xa="__NG_DI_FLAG__",Do="ngTempTokenPath",JT=/\n/gm,xy="__source";let ga;function ws(n){const t=ga;return ga=n,t}function eC(n,t=Ht.Default){if(void 0===ga)throw new he(-203,!1);return null===ga?gy(n,void 0,t):ga.get(n,t&Ht.Optional?null:void 0,t)}function Y(n,t=Ht.Default){return(function py(){return Id}()||eC)(vt(n),t)}function De(n,t=Ht.Default){return Y(n,ol(t))}function ol(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ks(n){const t=[];for(let e=0;e<n.length;e++){const i=vt(n[e]);if(Array.isArray(i)){if(0===i.length)throw new he(900,!1);let r,o=Ht.Default;for(let s=0;s<i.length;s++){const a=i[s],c=tC(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}t.push(Y(r,o))}else t.push(Y(i))}return t}function kd(n,t){return n[Xa]=t,n.prototype[Xa]=t,n}function tC(n){return n[Xa]}function Xo(n){return{toString:n}.toString()}var Ro=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Ro||{}),dr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(dr||{});const $r={},un=[],Ih=Xe({\u0275cmp:Xe}),Ap=Xe({\u0275dir:Xe}),kp=Xe({\u0275pipe:Xe}),Ja=Xe({\u0275mod:Xe}),Qs=Xe({\u0275fac:Xe}),_a=Xe({__NG_ELEMENT_ID__:Xe}),Iy=Xe({__NG_ENV_ID__:Xe});function Sp(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}function Dd(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{const o=r,s=e[++i];Dp(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function _o(n){return 3===n||4===n||6===n}function Dp(n){return 64===n.charCodeAt(0)}function Rd(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Th(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Th(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const Md="ng-template";function Ty(n,t,e){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(e&&"class"===o&&-1!==Sp(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function Rp(n){return 4===n.type&&n.value!==Md}function nC(n,t,e){return t===(4!==n.type||e?n.value:Md)}function Mp(n,t,e){let i=4;const r=n.attrs||[],o=function Cy(n){for(let t=0;t<n.length;t++)if(_o(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!nC(n,c,e)||""===c&&1===t.length){if(bo(i))return!1;s=!0}}else{const l=8&i?c:t[++a];if(8&i&&null!==n.attrs){if(!Ty(n.attrs,l,e)){if(bo(i))return!1;s=!0}continue}const u=Pp(8&i?"class":c,r,Rp(n),e);if(-1===u){if(bo(i))return!1;s=!0;continue}if(""!==l){let p;p=u>o?"":r[u+1].toLowerCase();const b=8&i?p:null;if(b&&-1!==Sp(b,l,0)||2&i&&l!==p){if(bo(i))return!1;s=!0}}}}else{if(!s&&!bo(i)&&!bo(c))return!1;if(s&&bo(c))continue;s=!1,i=c|1&i}}return bo(i)||s}function bo(n){return 0==(1&n)}function Pp(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function Np(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Pd(n,t,e=!1){for(let i=0;i<t.length;i++)if(Mp(n,t[i],e))return!0;return!1}function Ay(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Ch(n,t){return n?":not("+t.trim()+")":t}function Ah(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!bo(s)&&(t+=Ch(o,r),r=""),i=s,o=o||!bo(i);e++}return""!==r&&(t+=Ch(o,r)),t}function ht(n){return Xo(()=>{const t=Sh(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ro.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||dr.Emulated,styles:n.styles||un,_:null,schemas:n.schemas||null,tView:null,id:""};Dy(e);const i=n.dependencies;return e.directiveDefs=sl(i,!1),e.pipeDefs=sl(i,!0),e.id=function Vp(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function Lp(n){return Qt(n)||Fi(n)}function iC(n){return null!==n}function ct(n){return Xo(()=>({type:n.type,bootstrap:n.bootstrap||un,declarations:n.declarations||un,imports:n.imports||un,exports:n.exports||un,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function kh(n,t){if(null==n)return $r;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}function _e(n){return Xo(()=>{const t=Sh(n);return Dy(t),t})}function Er(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Qt(n){return n[Ih]||null}function Fi(n){return n[Ap]||null}function ur(n){return n[kp]||null}function vo(n,t){const e=n[Ja]||null;if(!e&&!0===t)throw new Error(`Type ${Le(n)} does not have '\u0275mod' property.`);return e}function Sh(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||$r,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||un,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kh(n.inputs,t),outputs:kh(n.outputs)}}function Dy(n){n.features?.forEach(t=>t(n))}function sl(n,t){if(!n)return null;const e=t?ur:Lp;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(iC)}const ui=0,He=1,Dt=2,Nn=3,Jo=4,Za=5,Ir=6,al=7,hi=8,va=9,cl=10,wt=11,Od=12,Dh=13,ll=14,fi=15,Nd=16,ya=17,xs=18,ec=19,Ry=20,Es=21,Ys=22,tc=23,Fd=24,Wt=25,Ld=1,My=2,Pr=7,dl=9,hr=11;function Kr(n){return Array.isArray(n)&&"object"==typeof n[Ld]}function Qr(n){return Array.isArray(n)&&!0===n[Ld]}function Py(n){return 0!=(4&n.flags)}function ul(n){return n.componentOffset>-1}function hl(n){return 1==(1&n.flags)}function Zo(n){return!!n.template}function Bp(n){return 0!=(512&n[Dt])}function ml(n,t){return n.hasOwnProperty(Qs)?n[Qs]:null}let fr=null,Rh=!1;function Tr(n){const t=fr;return fr=n,t}const Uy={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function jy(n){if(!Js(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Hp(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Ph(n){n.dirty=!0,function Mh(n){if(void 0===n.liveConsumerNode)return;const t=Rh;Rh=!0;try{for(const e of n.liveConsumerNode)e.dirty||Ph(e)}finally{Rh=t}}(n),n.consumerMarkedDirty?.(n)}function jp(n){return n&&(n.nextProducerIndex=0),Tr(n)}function zp(n,t){if(Tr(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Js(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)zd(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Hp(n){Zs(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(jy(e),i!==e.version))return!0}return!1}function zy(n){if(Zs(n),Js(n))for(let t=0;t<n.producerNode.length;t++)zd(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function zd(n,t){if(function Hy(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Zs(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)zd(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];Zs(r),r.producerIndexOfThis[i]=t}}function Js(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Zs(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let Gy=null;function Qy(n){const t=Tr(null);try{return n()}finally{Tr(t)}}const Yy=()=>{},gC=(()=>({...Uy,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:Yy}))();class _C{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Pi(){return Xy}function Xy(n){return n.type.prototype.ngOnChanges&&(n.setInput=vC),bC}function bC(){const n=Jy(this),t=n?.current;if(t){const e=n.previous;if(e===$r)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function vC(n,t,e,i){const r=this.declaredInputs[e],o=Jy(n)||function $p(n,t){return n[Fh]=t}(n,{previous:$r,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[r];s[r]=new _C(c&&c.currentValue,t,a===$r),n[i]=t}Pi.ngInherit=!0;const Fh="__ngSimpleChanges__";function Jy(n){return n[Fh]||null}const Is=function(n,t,e){},Lh="svg";function An(n){for(;Array.isArray(n);)n=n[ui];return n}function pl(n,t){return An(t[n])}function Yr(n,t){return An(t[n.index])}function Vh(n,t){return n.data[t]}function gl(n,t){return n[t]}function yo(n,t){const e=t[n];return Kr(e)?e:e[ui]}function wa(n,t){return null==t?null:n[t]}function e0(n){n[ya]=0}function Jp(n){1024&n[Dt]||(n[Dt]|=1024,Bh(n,1))}function t0(n){1024&n[Dt]&&(n[Dt]&=-1025,Bh(n,-1))}function Bh(n,t){let e=n[Nn];if(null===e)return;e[Za]+=t;let i=e;for(e=e[Nn];null!==e&&(1===t&&1===i[Za]||-1===t&&0===i[Za]);)e[Za]+=t,i=e,e=e[Nn]}const pt={lFrame:d0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function jh(){return pt.bindingsEnabled}function xa(){return null!==pt.skipHydrationRootTNode}function xe(){return pt.lFrame.lView}function Yt(){return pt.lFrame.tView}function Pt(n){return pt.lFrame.contextLView=n,n[hi]}function Ot(n){return pt.lFrame.contextLView=null,n}function Ki(){let n=c0();for(;null!==n&&64===n.type;)n=n.parent;return n}function c0(){return pt.lFrame.currentTNode}function Mo(n,t){const e=pt.lFrame;e.currentTNode=n,e.isParent=t}function tg(){return pt.lFrame.isParent}function qd(){pt.lFrame.isParent=!1}function mr(){const n=pt.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function ic(){return pt.lFrame.bindingIndex++}function Ts(n){const t=pt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function sg(n,t){const e=pt.lFrame;e.bindingIndex=e.bindingRootIndex=n,ag(t)}function ag(n){pt.lFrame.currentDirectiveIndex=n}function cg(n){const t=pt.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function zh(){return pt.lFrame.currentQueryIndex}function lg(n){pt.lFrame.currentQueryIndex=n}function AC(n){const t=n[He];return 2===t.type?t.declTNode:1===t.type?n[Ir]:null}function dg(n,t,e){if(e&Ht.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&Ht.Host||(r=AC(o),null===r||(o=o[ll],10&r.type))););if(null===r)return!1;t=r,n=o}const i=pt.lFrame=Gd();return i.currentTNode=t,i.lView=n,!0}function ug(n){const t=Gd(),e=n[He];pt.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Gd(){const n=pt.lFrame,t=null===n?null:n.child;return null===t?d0(n):t}function d0(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function u0(){const n=pt.lFrame;return pt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const h0=u0;function hg(){const n=u0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Or(){return pt.lFrame.selectedIndex}function rc(n){pt.lFrame.selectedIndex=n}function Gn(){const n=pt.lFrame;return Vh(n.tView,n.selectedIndex)}let pg=!0;function Hh(){return pg}function Ea(n){pg=n}function Wh(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),c&&(n.viewHooks??=[]).push(-e,c),l&&((n.viewHooks??=[]).push(e,l),(n.viewCheckHooks??=[]).push(e,l)),null!=d&&(n.destroyHooks??=[]).push(e,d)}}function qh(n,t,e){m0(n,t,3,e)}function _l(n,t,e,i){(3&n[Dt])===e&&m0(n,t,e,i)}function $d(n,t){let e=n[Dt];(3&e)===t&&(e&=8191,e+=1,n[Dt]=e)}function m0(n,t,e,i){const o=i??-1,s=t.length-1;let a=0;for(let c=void 0!==i?65535&n[ya]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=i&&a>=i)break}else t[c]<0&&(n[ya]+=65536),(a<o||-1==o)&&(PC(n,e,t,c),n[ya]=(4294901760&n[ya])+c+2),c++}function Gh(n,t){Is(4,n,t);const e=Tr(null);try{t.call(n)}finally{Tr(e),Is(5,n,t)}}function PC(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];r?n[Dt]>>13<n[ya]>>16&&(3&n[Dt])===t&&(n[Dt]+=8192,Gh(a,o)):Gh(a,o)}const oc=-1;class bl{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function _g(n){return n!==oc}function Kd(n){return 32767&n}function Qd(n,t){let e=function FC(n){return n>>16}(n),i=t;for(;e>0;)i=i[ll],e--;return i}let bg=!0;function Yd(n){const t=bg;return bg=n,t}const b0=255,v0=5;let g=0;const h={};function _(n,t){const e=D(n,t);if(-1!==e)return e;const i=t[He];i.firstCreatePass&&(n.injectorIndex=t.length,T(i.data,n),T(t,null),T(i.blueprint,null));const r=X(n,t),o=n.injectorIndex;if(_g(r)){const s=Kd(r),a=Qd(r,t),c=a[He].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=r,o}function T(n,t){n.push(0,0,0,0,0,0,0,0,t)}function D(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function X(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=w0(r),null===i)return oc;if(e++,r=r[ll],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return oc}function ae(n,t,e){!function f(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(_a)&&(i=e[_a]),null==i&&(i=e[_a]=g++);const r=i&b0;t.data[n+(r>>v0)]|=1<<r}(n,t,e)}function qe(n,t,e){if(e&Ht.Optional||void 0!==n)return n;yp()}function nt(n,t,e,i){if(e&Ht.Optional&&void 0===i&&(i=null),!(e&(Ht.Self|Ht.Host))){const r=n[va],o=xr(void 0);try{return r?r.get(t,i,e&Ht.Optional):gy(t,i,e&Ht.Optional)}finally{xr(o)}}return qe(i,0,e)}function Ut(n,t,e,i=Ht.Default,r){if(null!==n){if(2048&t[Dt]&&!(i&Ht.Self)){const s=function Ig(n,t,e,i,r){let o=n,s=t;for(;null!==o&&null!==s&&2048&s[Dt]&&!(512&s[Dt]);){const a=Nr(o,s,e,i|Ht.Self,h);if(a!==h)return a;let c=o.parent;if(!c){const l=s[Ry];if(l){const d=l.get(e,h,i);if(d!==h)return d}c=w0(s),s=s[ll]}o=c}return r}(n,t,e,i,h);if(s!==h)return s}const o=Nr(n,t,e,i,h);if(o!==h)return o}return nt(t,e,i,r)}function Nr(n,t,e,i,r){const o=function vg(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(_a)?n[_a]:void 0;return"number"==typeof t?t>=0?t&b0:xg:t}(e);if("function"==typeof o){if(!dg(t,n,i))return i&Ht.Host?qe(r,0,i):nt(t,e,i,r);try{let s;if(s=o(i),null!=s||i&Ht.Optional)return s;yp()}finally{h0()}}else if("number"==typeof o){let s=null,a=D(n,t),c=oc,l=i&Ht.Host?t[fi][Ir]:null;for((-1===a||i&Ht.SkipSelf)&&(c=-1===a?X(n,t):t[a+8],c!==oc&&wg(i,!1)?(s=t[He],a=Kd(c),t=Qd(c,t)):a=-1);-1!==a;){const d=t[He];if(yg(o,a,d.data)){const u=Ia(a,t,e,s,i,l);if(u!==h)return u}c=t[a+8],c!==oc&&wg(i,t[He].data[a+8]===l)&&yg(o,a,t)?(s=d,a=Kd(c),t=Qd(c,t)):a=-1}}return r}function Ia(n,t,e,i,r,o){const s=t[He],a=s.data[n+8],d=sc(a,s,e,null==i?ul(a)&&bg:i!=s&&0!=(3&a.type),r&Ht.Host&&o===a);return null!==d?Ta(t,s,d,a):h}function sc(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,c=n.directiveStart,d=o>>20,p=r?a+d:n.directiveEnd;for(let b=i?a:a+d;b<p;b++){const v=s[b];if(b<c&&e===v||b>=c&&v.type===e)return b}if(r){const b=s[c];if(b&&Zo(b)&&b.type===e)return c}return null}function Ta(n,t,e,i){let r=n[e];const o=t.data;if(function gg(n){return n instanceof bl}(r)){const s=r;s.resolving&&function qT(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new he(-200,`Circular dependency in DI detected for ${n}${e}`)}(function gn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():It(n)}(o[e]));const a=Yd(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?xr(s.injectImpl):null;dg(n,i,Ht.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function MC(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=Xy(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}(e,o[e],t)}finally{null!==l&&xr(l),Yd(a),s.resolving=!1,h0()}}return r}function yg(n,t,e){return!!(e[t+(n>>v0)]&1<<n)}function wg(n,t){return!(n&Ht.Self||n&Ht.Host&&t)}class Cr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Ut(this._tNode,this._lView,t,ol(i),e)}}function xg(){return new Cr(Ki(),xe())}function Bt(n){return Xo(()=>{const t=n.prototype.constructor,e=t[Qs]||Eg(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Qs]||Eg(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Eg(n){return bh(n)?()=>{const t=Eg(vt(n));return t&&t()}:ml(n)}function w0(n){const t=n[He],e=t.type;return 2===e?t.declTNode:1===e?n[Ir]:null}function vl(n){return function we(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(_o(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(Ki(),n)}const Qh="__parameters__";function Xh(n,t,e){return Xo(()=>{const i=function LC(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,l,d){const u=c.hasOwnProperty(Qh)?c[Qh]:Object.defineProperty(c,Qh,{value:[]})[Qh];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(s),c}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Zh(n,t){n.forEach(e=>Array.isArray(e)?Zh(e,t):t(e))}function EL(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function x0(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Cg(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function es(n,t,e){let i=ef(n,t);return i>=0?n[1|i]=e:(i=~i,function PY(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function VC(n,t){const e=ef(n,t);if(e>=0)return n[1|e]}function ef(n,t){return function IL(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const Fr=kd(Xh("Optional"),8),Ag=kd(Xh("SkipSelf"),4);function k0(n){return 128==(128&n.flags)}var yl=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(yl||{});const eX=/^>|^->|<!--|-->|--!>|<!-$/g,tX=/(<|>)/g,nX="\u200b$1\u200b";const HC=new Map;let iX=0;const qC="__ngContext__";function Xr(n,t){Kr(t)?(n[qC]=t[ec],function oX(n){HC.set(n[ec],n)}(t)):n[qC]=t}let GC;function $C(n,t){return GC(n,t)}function Dg(n){const t=n[Nn];return Qr(t)?t[Nn]:t}function WL(n){return GL(n[Od])}function qL(n){return GL(n[Jo])}function GL(n){for(;null!==n&&!Qr(n);)n=n[Jo];return n}function rf(n,t,e,i,r){if(null!=i){let o,s=!1;Qr(i)?o=i:Kr(i)&&(s=!0,i=i[ui]);const a=An(i);0===n&&null!==e?null==r?YL(t,e,a):Xd(t,e,a,r||null,!0):1===n&&null!==e?Xd(t,e,a,r||null,!0):2===n?function N0(n,t,e){const i=P0(n,t);i&&function IX(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function AX(n,t,e,i,r){const o=e[Pr];o!==An(e)&&rf(t,n,i,o,r);for(let a=hr;a<e.length;a++){const c=e[a];Mg(c[He],c,n,t,i,o)}}(t,n,o,e,r)}}function KC(n,t){return n.createComment(function FL(n){return n.replace(eX,t=>t.replace(tX,nX))}(t))}function R0(n,t,e){return n.createElement(t,e)}function KL(n,t){const e=n[dl],i=e.indexOf(t);t0(t),e.splice(i,1)}function M0(n,t){if(n.length<=hr)return;const e=hr+t,i=n[e];if(i){const r=i[Nd];null!==r&&r!==n&&KL(r,i),t>0&&(n[e-1][Jo]=i[Jo]);const o=x0(n,hr+t);!function gX(n,t){Mg(n,t,t[wt],2,null,null),t[ui]=null,t[Ir]=null}(i[He],i);const s=o[xs];null!==s&&s.detachView(o[He]),i[Nn]=null,i[Jo]=null,i[Dt]&=-129}return i}function QC(n,t){if(!(256&t[Dt])){const e=t[wt];t[tc]&&zy(t[tc]),t[Fd]&&zy(t[Fd]),e.destroyNode&&Mg(n,t,e,3,null,null),function vX(n){let t=n[Od];if(!t)return YC(n[He],n);for(;t;){let e=null;if(Kr(t))e=t[Od];else{const i=t[hr];i&&(e=i)}if(!e){for(;t&&!t[Jo]&&t!==n;)Kr(t)&&YC(t[He],t),t=t[Nn];null===t&&(t=n),Kr(t)&&YC(t[He],t),e=t&&t[Jo]}t=e}}(t)}}function YC(n,t){if(!(256&t[Dt])){t[Dt]&=-129,t[Dt]|=256,function EX(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof bl)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];Is(4,a,c);try{c.call(a)}finally{Is(5,a,c)}}else{Is(4,r,o);try{o.call(r)}finally{Is(5,r,o)}}}}}(n,t),function xX(n,t){const e=n.cleanup,i=t[al];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(t[al]=null);const r=t[Es];if(null!==r){t[Es]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,t),1===t[He].type&&t[wt].destroy();const e=t[Nd];if(null!==e&&Qr(t[Nn])){e!==t[Nn]&&KL(e,t);const i=t[xs];null!==i&&i.detachView(n)}!function sX(n){HC.delete(n[ec])}(t)}}function XC(n,t,e){return function QL(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[ui];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===dr.None||o===dr.Emulated)return null}return Yr(i,e)}}(n,t.parent,e)}function Xd(n,t,e,i,r){n.insertBefore(t,e,i,r)}function YL(n,t,e){n.appendChild(t,e)}function XL(n,t,e,i,r){null!==i?Xd(n,t,e,i,r):YL(n,t,e)}function P0(n,t){return n.parentNode(t)}function JL(n,t,e){return e2(n,t,e)}let JC,F0,nA,L0,e2=function ZL(n,t,e){return 40&n.type?Yr(n,e):null};function O0(n,t,e,i){const r=XC(n,i,t),o=t[wt],a=JL(i.parent||t[Ir],i,t);if(null!=r)if(Array.isArray(e))for(let c=0;c<e.length;c++)XL(o,r,e[c],a,!1);else XL(o,r,e,a,!1);void 0!==JC&&JC(o,i,t,e,r)}function Rg(n,t){if(null!==t){const e=t.type;if(3&e)return Yr(t,n);if(4&e)return ZC(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Rg(n,i);{const r=n[t.index];return Qr(r)?ZC(-1,r):An(r)}}if(32&e)return $C(t,n)()||An(n[t.index]);{const i=n2(n,t);return null!==i?Array.isArray(i)?i[0]:Rg(Dg(n[fi]),i):Rg(n,t.next)}}return null}function n2(n,t){return null!==t?n[fi][Ir].projection[t.projection]:null}function ZC(n,t){const e=hr+n+1;if(e<t.length){const i=t[e],r=i[He].firstChild;if(null!==r)return Rg(i,r)}return t[Pr]}function eA(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],c=e.type;if(s&&0===t&&(a&&Xr(An(a),i),e.flags|=2),32!=(32&e.flags))if(8&c)eA(n,t,e.child,i,r,o,!1),rf(t,n,r,a,o);else if(32&c){const l=$C(e,i);let d;for(;d=l();)rf(t,n,r,d,o);rf(t,n,r,a,o)}else 16&c?o2(n,t,i,e,r,o):rf(t,n,r,a,o);e=s?e.projectionNext:e.next}}function Mg(n,t,e,i,r,o){eA(e,i,n.firstChild,t,r,o,!1)}function o2(n,t,e,i,r,o){const s=e[fi],c=s[Ir].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)rf(t,n,r,c[l],o);else{let l=c;const d=s[Nn];k0(i)&&(l.flags|=128),eA(n,t,l,d,r,o,!0)}}function s2(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function a2(n,t,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&Dd(n,t,i),null!==r&&s2(n,t,r),null!==o&&function SX(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}function sf(n){return function tA(){if(void 0===F0&&(F0=null,On.trustedTypes))try{F0=On.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return F0}()?.createHTML(n)||n}function af(){if(void 0!==nA)return nA;if(typeof document<"u")return document;throw new he(210,!1)}function iA(){if(void 0===L0&&(L0=null,On.trustedTypes))try{L0=On.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return L0}function c2(n){return iA()?.createHTML(n)||n}function d2(n){return iA()?.createScriptURL(n)||n}class Jd{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ly})`}}class OX extends Jd{getTypeName(){return"HTML"}}class NX extends Jd{getTypeName(){return"Style"}}class FX extends Jd{getTypeName(){return"Script"}}class LX extends Jd{getTypeName(){return"URL"}}class VX extends Jd{getTypeName(){return"ResourceURL"}}function ts(n){return n instanceof Jd?n.changingThisBreaksApplicationSecurity:n}function Ca(n,t){const e=function BX(n){return n instanceof Jd&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${ly})`)}return e===t}class qX{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(sf(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class GX{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=sf(t),e}}const KX=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function V0(n){return(n=String(n)).match(KX)?n:"unsafe:"+n}function cc(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Pg(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const h2=cc("area,br,col,hr,img,wbr"),f2=cc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),m2=cc("rp,rt"),rA=Pg(h2,Pg(f2,cc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pg(m2,cc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Pg(m2,f2)),oA=cc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),p2=Pg(oA,cc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),QX=cc("script,style,template");class YX{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!rA.hasOwnProperty(e))return this.sanitizedSomething=!0,!QX.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!p2.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;oA[a]&&(c=V0(c)),this.buf.push(" ",s,'="',g2(c),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();rA.hasOwnProperty(e)&&!h2.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(g2(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const XX=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,JX=/([^\#-~ |!])/g;function g2(n){return n.replace(/&/g,"&amp;").replace(XX,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(JX,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let B0;function _2(n,t){let e=null;try{B0=B0||function u2(n){const t=new GX(n);return function $X(){try{return!!(new window.DOMParser).parseFromString(sf(""),"text/html")}catch{return!1}}()?new qX(t):t}(n);let i=t?String(t):"";e=B0.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=B0.getInertBodyElement(i)}while(i!==o);return sf((new YX).sanitizeChildren(sA(e)||e))}finally{if(e){const i=sA(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function sA(n){return"content"in n&&function ZX(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Lr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Lr||{});function b2(n){const t=Og();return t?c2(t.sanitize(Lr.HTML,n)||""):Ca(n,"HTML")?c2(ts(n)):_2(af(),It(n))}function v2(n){const t=Og();return t?t.sanitize(Lr.URL,n)||"":Ca(n,"URL")?ts(n):V0(It(n))}function y2(n){const t=Og();if(t)return d2(t.sanitize(Lr.RESOURCE_URL,n)||"");if(Ca(n,"ResourceURL"))return d2(ts(n));throw new he(904,!1)}function Og(){const n=xe();return n&&n[cl].sanitizer}const Ng=new de("ENVIRONMENT_INITIALIZER"),x2=new de("INJECTOR",-1),E2=new de("INJECTOR_DEF_TYPES");class aA{get(t,e=Ya){if(e===Ya){const i=new Error(`NullInjectorError: No provider for ${Le(t)}!`);throw i.name="NullInjectorError",i}return e}}function U0(n){return{\u0275providers:n}}function oJ(...n){return{\u0275providers:I2(0,n),\u0275fromNgModule:!0}}function I2(n,...t){const e=[],i=new Set;let r;const o=s=>{e.push(s)};return Zh(t,s=>{const a=s;j0(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&T2(r,o),e}function T2(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];cA(r,o=>{t(o,i)})}}function j0(n,t,e,i){if(!(n=vt(n)))return!1;let r=null,o=Ed(n);const s=!o&&Qt(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=Ed(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)j0(l,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;i.add(r);try{Zh(o.imports,d=>{j0(d,t,e,i)&&(l||=[],l.push(d))})}finally{}void 0!==l&&T2(l,t)}if(!a){const l=ml(r)||(()=>new r);t({provide:r,useFactory:l,deps:un},r),t({provide:E2,useValue:r,multi:!0},r),t({provide:Ng,useValue:()=>Y(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=n;cA(c,d=>{t(d,l)})}}}return r!==n&&void 0!==n.providers}function cA(n,t){for(let e of n)vh(e)&&(e=e.\u0275providers),Array.isArray(e)?cA(e,t):t(e)}const sJ=Xe({provide:String,useValue:Xe});function lA(n){return null!==n&&"object"==typeof n&&sJ in n}function Zd(n){return"function"==typeof n}const dA=new de("Set Injector scope."),z0={},cJ={};let uA;function H0(){return void 0===uA&&(uA=new aA),uA}class ns{}class cf extends ns{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fA(t,s=>this.processProvider(s)),this.records.set(x2,lf(void 0,this)),r.has("environment")&&this.records.set(ns,lf(void 0,this));const o=this.records.get(dA);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(E2.multi,un,Ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=ws(this),i=xr(void 0);try{return t()}finally{ws(e),xr(i)}}get(t,e=Ya,i=Ht.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Iy))return t[Iy](this);i=ol(i);const o=ws(this),s=xr(void 0);try{if(!(i&Ht.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function fJ(n){return"function"==typeof n||"object"==typeof n&&n instanceof de}(t)&&xh(t);c=l&&this.injectableDefInScope(l)?lf(hA(t),z0):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(i&Ht.Self?H0():this.parent).get(t,e=i&Ht.Optional&&e===Ya?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Do]=a[Do]||[]).unshift(Le(t)),o)throw a;return function Sd(n,t,e,i){const r=n[Do];throw t[xy]&&r.unshift(t[xy]),n.message=function oL(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Le(t);if(Array.isArray(t))r=t.map(Le).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Le(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(JT,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Do]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{xr(s),ws(o)}}resolveInjectorInitializers(){const t=ws(this),e=xr(void 0);try{const r=this.get(Ng.multi,un,Ht.Self);for(const o of r)o()}finally{ws(t),xr(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Le(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(t){let e=Zd(t=vt(t))?t:vt(t&&t.provide);const i=function dJ(n){return lA(n)?lf(void 0,n.useValue):lf(k2(n),z0)}(t);if(Zd(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=lf(void 0,z0,!0),r.factory=()=>Ks(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===z0&&(e.value=cJ,e.value=e.factory()),"object"==typeof e.value&&e.value&&function hJ(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=vt(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function hA(n){const t=xh(n),e=null!==t?t.factory:ml(n);if(null!==e)return e;if(n instanceof de)throw new he(204,!1);if(n instanceof Function)return function lJ(n){const t=n.length;if(t>0)throw Cg(t,"?"),new he(204,!1);const e=function YT(n){return n&&(n[Eh]||n[xp])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new he(204,!1)}function k2(n,t,e){let i;if(Zd(n)){const r=vt(n);return ml(r)||hA(r)}if(lA(n))i=()=>vt(n.useValue);else if(function A2(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Ks(n.deps||[]));else if(function C2(n){return!(!n||!n.useExisting)}(n))i=()=>Y(vt(n.useExisting));else{const r=vt(n&&(n.useClass||n.provide));if(!function uJ(n){return!!n.deps}(n))return ml(r)||hA(r);i=()=>new r(...Ks(n.deps))}return i}function lf(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function fA(n,t){for(const e of n)Array.isArray(e)?fA(e,t):e&&vh(e)?fA(e.\u0275providers,t):t(e)}const W0=new de("AppId",{providedIn:"root",factory:()=>mJ}),mJ="ng",S2=new de("Platform Initializer"),Oo=new de("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Jr=new de("AnimationModuleType"),mA=new de("CSP nonce",{providedIn:"root",factory:()=>af().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let D2=(n,t,e)=>null;function xA(n,t,e=!1){return D2(n,t,e)}class IJ{}class P2{}class CJ{resolveComponentFactory(t){throw function TJ(n){const t=Error(`No component factory found for ${Le(n)}.`);return t.ngComponent=n,t}(t)}}let hf=(()=>{class n{static{this.NULL=new CJ}}return n})();function AJ(){return ff(Ki(),xe())}function ff(n,t){return new ft(Yr(n,t))}let ft=(()=>{class n{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=AJ}}return n})();function kJ(n){return n instanceof ft?n.nativeElement:n}class Vg{}let lc=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function SJ(){const n=xe(),e=yo(Ki().index,n);return(Kr(e)?e:n)[wt]}()}}return n})(),DJ=(()=>{class n{static{this.\u0275prov=Ie({token:n,providedIn:"root",factory:()=>null})}}return n})();class wl{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const TA=new wl("16.2.12"),CA={};function V2(n,t=null,e=null,i){const r=B2(n,t,e,i);return r.resolveInjectorInitializers(),r}function B2(n,t=null,e=null,i,r=new Set){const o=[e||un,oJ(n)];return i=i||("object"==typeof n?void 0:Le(n)),new cf(o,t||H0(),i||null,r)}let Fn=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Ya}static{this.NULL=new aA}static create(e,i){if(Array.isArray(e))return V2({name:""},i,e,"");{const r=e.name??"";return V2({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=Ie({token:n,providedIn:"any",factory:()=>Y(x2)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function kA(n){return n.ngOriginalError}class As{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&kA(t);for(;e&&kA(e);)e=kA(e);return e||null}}function SA(n){return t=>{setTimeout(n,void 0,t)}}const jt=class VJ extends K{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&"object"==typeof t){const c=t;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=SA(o),r&&(r=SA(r)),s&&(s=SA(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof kt&&t.add(a),a}};function j2(...n){}class Ge{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jt(!1),this.onMicrotaskEmpty=new jt(!1),this.onStable=new jt(!1),this.onError=new jt(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function BJ(){const n="function"==typeof On.requestAnimationFrame;let t=On[n?"requestAnimationFrame":"setTimeout"],e=On[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function zJ(n){const t=()=>{!function jJ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(On,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,RA(n),n.isCheckStableRunning=!0,DA(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),RA(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{if(function WJ(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,o,s,a);try{return z2(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),H2(n)}},onInvoke:(e,i,r,o,s,a,c)=>{try{return z2(n),e.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&t(),H2(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,RA(n),DA(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ge.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(Ge.isInAngularZone())throw new he(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,UJ,j2,j2);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const UJ={};function DA(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function RA(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function z2(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function H2(n){n._nesting--,DA(n)}class HJ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jt,this.onMicrotaskEmpty=new jt,this.onStable=new jt,this.onError=new jt}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const W2=new de("",{providedIn:"root",factory:q2});function q2(){const n=De(Ge);let t=!0;return E(new at(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new at(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Ge.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(z()))}function dc(n){return n instanceof Function?n():n}let MA=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Ie({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Bg(n){for(;n;){n[Dt]|=64;const t=Dg(n);if(Bp(n)&&!t)return n;n=t}return null}const Y2=new de("",{providedIn:"root",factory:()=>!1});let J0=null;function eV(n,t){return n[t]??iV()}function tV(n,t){const e=iV();e.producerNode?.length&&(n[t]=J0,e.lView=n,J0=nV())}const eZ={...Uy,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Bg(n.lView)},lView:null};function nV(){return Object.create(eZ)}function iV(){return J0??=nV(),J0}const Rt={};function ue(n){rV(Yt(),xe(),Or()+n,!1)}function rV(n,t,e,i){if(!i)if(3==(3&t[Dt])){const o=n.preOrderCheckHooks;null!==o&&qh(t,o,e)}else{const o=n.preOrderHooks;null!==o&&_l(t,o,0,e)}rc(e)}function O(n,t=Ht.Default){const e=xe();return null===e?Y(n,t):Ut(Ki(),e,vt(n),t)}function Ug(){throw new Error("invalid")}function Z0(n,t,e,i,r,o,s,a,c,l,d){const u=t.blueprint.slice();return u[ui]=r,u[Dt]=140|i,(null!==l||n&&2048&n[Dt])&&(u[Dt]|=2048),e0(u),u[Nn]=u[ll]=n,u[hi]=e,u[cl]=s||n&&n[cl],u[wt]=a||n&&n[wt],u[va]=c||n&&n[va]||null,u[Ir]=o,u[ec]=function rX(){return iX++}(),u[Ys]=d,u[Ry]=l,u[fi]=2==t.type?n[fi]:u,u}function gf(n,t,e,i,r){let o=n.data[t];if(null===o)o=function PA(n,t,e,i,r){const o=c0(),s=tg(),c=n.data[t]=function cZ(n,t,e,i,r,o){let s=t?t.injectorIndex:-1,a=0;return xa()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,t,e,i,r),function TC(){return pt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function Wd(){const n=pt.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Mo(o,!0),o}function jg(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function oV(n,t,e,i,r){const o=eV(t,tc),s=Or(),a=2&i;try{rc(-1),a&&t.length>Wt&&rV(n,t,Wt,!1),Is(a?2:0,r);const l=a?o:null,d=jp(l);try{null!==l&&(l.dirty=!1),e(i,r)}finally{zp(l,d)}}finally{a&&null===t[tc]&&tV(t,tc),rc(s),Is(a?3:1,r)}}function OA(n,t,e){if(Py(t)){const i=Tr(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{Tr(i)}}}function NA(n,t,e){jh()&&(function pZ(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;ul(e)&&function xZ(n,t,e){const i=Yr(t,n),r=sV(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=ew(n,Z0(n,r,null,s,i,t,null,n[cl].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||_(e,t),Xr(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],l=Ta(t,n,a,e);Xr(l,t),null!==s&&EZ(0,a-r,l,c,0,s),Zo(c)&&(yo(e.index,t)[hi]=Ta(t,n,a,e))}}(n,t,e,Yr(e,t)),64==(64&e.flags)&&uV(n,t,e))}function FA(n,t,e=Yr){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function sV(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=LA(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function LA(n,t,e,i,r,o,s,a,c,l,d){const u=Wt+i,p=u+r,b=function nZ(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Rt);return e}(u,p),v="function"==typeof l?l():l;return b[He]={type:n,blueprint:b,template:e,queries:null,viewQuery:a,declTNode:t,data:b.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:d}}let aV=n=>null;function cV(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const o=n[r];null===i?lV(e,t,r,o):i.hasOwnProperty(r)&&lV(e,t,i[r],o)}return e}function lV(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function is(n,t,e,i,r,o,s,a){const c=Yr(t,e);let d,l=t.inputs;!a&&null!=l&&(d=l[i])?(zA(n,e,d,i,r),ul(t)&&function uZ(n,t){const e=yo(t,n);16&e[Dt]||(e[Dt]|=64)}(e,t.index)):3&t.type&&(i=function dZ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(c,i,r))}function VA(n,t,e,i){if(jh()){const r=null===i?null:{"":-1},o=function _Z(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(Pd(t,s.selectors,!1))if(i||(i=[]),Zo(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),BA(n,t,a.length)}else i.unshift(s),BA(n,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&dV(n,t,e,s,r,a),r&&function bZ(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new he(-301,!1);i.push(t[r],o)}}}(e,i,r)}e.mergedAttrs=Rd(e.mergedAttrs,e.attrs)}function dV(n,t,e,i,r,o){for(let l=0;l<i.length;l++)ae(_(e,t),n,i[l].type);!function yZ(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let l=0;l<i.length;l++){const d=i[l];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=jg(n,t,i.length,null);for(let l=0;l<i.length;l++){const d=i[l];e.mergedAttrs=Rd(e.mergedAttrs,d.hostAttrs),wZ(n,e,t,c,d),vZ(c,d,r),null!==d.contentQueries&&(e.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=64);const u=d.type.prototype;!s&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),c++}!function lZ(n,t,e){const r=t.directiveEnd,o=n.data,s=t.attrs,a=[];let c=null,l=null;for(let d=t.directiveStart;d<r;d++){const u=o[d],p=e?e.get(u):null,v=p?p.outputs:null;c=cV(u.inputs,d,c,p?p.inputs:null),l=cV(u.outputs,d,l,v);const w=null===c||null===s||Rp(t)?null:IZ(c,d,s);a.push(w)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(n,e,o)}function uV(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function CC(){return pt.lFrame.currentDirectiveIndex}();try{rc(o);for(let a=i;a<r;a++){const c=n.data[a],l=t[a];ag(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&gZ(c,l)}}finally{rc(-1),ag(s)}}function gZ(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function BA(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function vZ(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Zo(t)&&(e[""]=n)}}function wZ(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=ml(r.type)),s=new bl(o,Zo(r),O);n.blueprint[i]=s,e[i]=s,function fZ(n,t,e,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~t.index;(function mZ(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,i,o)}}(n,t,i,jg(n,e,r.hostVars,Rt),r)}function Aa(n,t,e,i,r,o){const s=Yr(n,t);!function UA(n,t,e,i,r,o,s){if(null==o)n.removeAttribute(t,r,e);else{const a=null==s?It(o):s(o,i||"",r);n.setAttribute(t,r,a,e)}}(t[wt],s,o,n.value,e,i,r)}function EZ(n,t,e,i,r,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)hV(i,e,s[a++],s[a++],s[a++])}function hV(n,t,e,i,r){const o=Tr(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{Tr(o)}}function IZ(n,t,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){i.push(o,s[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function fV(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function mV(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const o=e[i+1];if(-1!==o){const s=n.data[o];lg(e[i]),s.contentQueries(2,t[o],o)}}}function ew(n,t){return n[Od]?n[Dh][Jo]=t:n[Od]=t,n[Dh]=t,t}function jA(n,t,e){lg(0);const i=Tr(null);try{t(n,e)}finally{Tr(i)}}function pV(n){return n[al]||(n[al]=[])}function gV(n){return n.cleanup||(n.cleanup=[])}function _V(n,t,e){return(null===n||Zo(n))&&(e=function Yp(n){for(;Array.isArray(n);){if("object"==typeof n[Ld])return n;n=n[ui]}return null}(e[t.index])),e[wt]}function bV(n,t){const e=n[va],i=e?e.get(As,null):null;i&&i.handleError(t)}function zA(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++];hV(n.data[s],t[s],i,a,r)}}function uc(n,t,e){const i=pl(t,n);!function $L(n,t,e){n.setValue(t,e)}(n[wt],i,e)}function TZ(n,t){const e=yo(t,n),i=e[He];!function CZ(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[ui];null!==r&&null===e[Ys]&&(e[Ys]=xA(r,e[va])),HA(i,e,e[hi])}function HA(n,t,e){ug(t);try{const i=n.viewQuery;null!==i&&jA(1,i,e);const r=n.template;null!==r&&oV(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&mV(n,t),n.staticViewQueries&&jA(2,n.viewQuery,e);const o=n.components;null!==o&&function AZ(n,t){for(let e=0;e<t.length;e++)TZ(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[Dt]&=-5,hg()}}let vV=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function Gp(n,t,e){const i=Object.create(gC);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>Ph(i),run:()=>{if(i.dirty=!1,i.hasRun&&!Hp(i))return;i.hasRun=!0;const s=jp(i);try{i.cleanupFn(),i.cleanupFn=Yy,i.fn(r)}finally{zp(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(e,l=>{this.all.has(l)&&this.queue.set(l,o)},r);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Ie({token:n,providedIn:"root",factory:()=>new n})}}return n})();function tw(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=li(r,a):2==o&&(i=li(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function zg(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];null!==o&&i.push(An(o)),Qr(o)&&yV(o,i);const s=e.type;if(8&s)zg(n,t,e.child,i);else if(32&s){const a=$C(e,t);let c;for(;c=a();)i.push(c)}else if(16&s){const a=n2(t,e);if(Array.isArray(a))i.push(...a);else{const c=Dg(t[fi]);zg(c[He],c,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function yV(n,t){for(let e=hr;e<n.length;e++){const i=n[e],r=i[He].firstChild;null!==r&&zg(i[He],i,r,t)}n[Pr]!==n[ui]&&t.push(n[Pr])}function nw(n,t,e,i=!0){const r=t[cl],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{wV(n,t,n.template,e)}catch(c){throw i&&bV(t,c),c}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function wV(n,t,e,i){const r=t[Dt];if(256!=(256&r)){t[cl].effectManager?.flush(),ug(t);try{e0(t),function rg(n){return pt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&oV(n,t,e,2,i);const s=3==(3&r);if(s){const l=n.preOrderCheckHooks;null!==l&&qh(t,l,null)}else{const l=n.preOrderHooks;null!==l&&_l(t,l,0,null),$d(t,0)}if(function DZ(n){for(let t=WL(n);null!==t;t=qL(t)){if(!t[My])continue;const e=t[dl];for(let i=0;i<e.length;i++){Jp(e[i])}}}(t),xV(t,2),null!==n.contentQueries&&mV(n,t),s){const l=n.contentCheckHooks;null!==l&&qh(t,l)}else{const l=n.contentHooks;null!==l&&_l(t,l,1),$d(t,1)}!function tZ(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=eV(t,Fd);try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)rc(~o);else{const s=o,a=e[++r],c=e[++r];sg(a,s),i.dirty=!1;const l=jp(i);try{c(2,t[s])}finally{zp(i,l)}}}}finally{null===t[Fd]&&tV(t,Fd),rc(-1)}}(n,t);const a=n.components;null!==a&&IV(t,a,0);const c=n.viewQuery;if(null!==c&&jA(2,c,i),s){const l=n.viewCheckHooks;null!==l&&qh(t,l)}else{const l=n.viewHooks;null!==l&&_l(t,l,2),$d(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[Dt]&=-73,t0(t)}finally{hg()}}}function xV(n,t){for(let e=WL(n);null!==e;e=qL(e))for(let i=hr;i<e.length;i++)EV(e[i],t)}function RZ(n,t,e){EV(yo(t,n),e)}function EV(n,t){if(!function Xp(n){return 128==(128&n[Dt])}(n))return;const e=n[He],i=n[Dt];if(80&i&&0===t||1024&i||2===t)wV(e,n,e.template,n[hi]);else if(n[Za]>0){xV(n,1);const r=e.components;null!==r&&IV(n,r,1)}}function IV(n,t,e){for(let i=0;i<t.length;i++)RZ(n,t[i],e)}class Hg{get rootNodes(){const t=this._lView,e=t[He];return zg(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[hi]}set context(t){this._lView[hi]=t}get destroyed(){return 256==(256&this._lView[Dt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Nn];if(Qr(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(M0(t,i),x0(e,i))}this._attachedToViewContainer=!1}QC(this._lView[He],this._lView)}onDestroy(t){!function n0(n,t){if(256==(256&n[Dt]))throw new he(911,!1);null===n[Es]&&(n[Es]=[]),n[Es].push(t)}(this._lView,t)}markForCheck(){Bg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Dt]&=-129}reattach(){this._lView[Dt]|=128}detectChanges(){nw(this._lView[He],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bX(n,t){Mg(n,t,t[wt],2,null,null)}(this._lView[He],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=t}}class MZ extends Hg{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;nw(t[He],t,t[hi],!1)}checkNoChanges(){}get context(){return null}}class TV extends hf{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Qt(t);return new Wg(e,this.ngModule)}}function CV(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class OZ{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=ol(i);const r=this.injector.get(t,CA,i);return r!==CA||e===CA?r:this.parentInjector.get(t,e,i)}}class Wg extends P2{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=CV(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return CV(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function Fp(n){return n.map(Ah).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let o=(r=r||this.ngModule)instanceof ns?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new OZ(t,o):t,a=s.get(Vg,null);if(null===a)throw new he(407,!1);const u={rendererFactory:a,sanitizer:s.get(DJ,null),effectManager:s.get(vV,null),afterRenderEventManager:s.get(MA,null)},p=a.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",v=i?function iZ(n,t,e,i){const o=i.get(Y2,!1)||e===dr.ShadowDom,s=n.selectRootElement(t,o);return function rZ(n){aV(n)}(s),s}(p,i,this.componentDef.encapsulation,s):R0(p,b,function PZ(n){const t=n.toLowerCase();return"svg"===t?Lh:"math"===t?"math":null}(b)),P=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let S=null;null!==v&&(S=xA(v,s,!0));const B=LA(0,null,null,1,0,null,null,null,null,null,null),$=Z0(null,B,null,P,null,null,u,p,s,null,S);let J,te;ug($);try{const V=this.componentDef;let R,L=null;V.findHostDirectiveDefs?(R=[],L=new Map,V.findHostDirectiveDefs(V,R,L),R.push(V)):R=[V];const q=function FZ(n,t){const e=n[He],i=Wt;return n[i]=t,gf(e,i,2,"#host",null)}($,v),Q=function LZ(n,t,e,i,r,o,s){const a=r[He];!function VZ(n,t,e,i){for(const r of n)t.mergedAttrs=Rd(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(tw(t,t.mergedAttrs,!0),null!==e&&a2(i,e,t))}(i,n,t,s);let c=null;null!==t&&(c=xA(t,r[va]));const l=o.rendererFactory.createRenderer(t,e);let d=16;e.signals?d=4096:e.onPush&&(d=64);const u=Z0(r,sV(e),null,d,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&BA(a,n,i.length-1),ew(r,u),r[n.index]=u}(q,v,V,R,$,u,p);te=Vh(B,Wt),v&&function UZ(n,t,e,i){if(i)Dd(n,e,["ng-version",TA.full]);else{const{attrs:r,classes:o}=function ky(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!bo(r))break;r=o}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&Dd(n,e,r),o&&o.length>0&&s2(n,e,o.join(" "))}}(p,V,v,i),void 0!==e&&function jZ(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(te,this.ngContentSelectors,e),J=function BZ(n,t,e,i,r,o){const s=Ki(),a=r[He],c=Yr(s,r);dV(a,r,s,e,null,i);for(let d=0;d<e.length;d++)Xr(Ta(r,a,s.directiveStart+d,s),r);uV(a,r,s),c&&Xr(c,r);const l=Ta(r,a,s.directiveStart+s.componentOffset,s);if(n[hi]=r[hi]=l,null!==o)for(const d of o)d(l,t);return OA(a,s,n),l}(Q,V,R,L,$,[zZ]),HA(B,$,null)}finally{hg()}return new NZ(this.componentType,J,ff(te,$),$,te)}}class NZ extends IJ{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new MZ(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;zA(o[He],o,r,t,e),this.previousInputValues.set(t,e),Bg(yo(this._tNode.index,o))}}get injector(){return new Cr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function zZ(){const n=Ki();Wh(xe()[He],n)}function We(n){let t=function AV(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Zo(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new he(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=iw(n.inputs),s.inputTransforms=iw(n.inputTransforms),s.declaredInputs=iw(n.declaredInputs),s.outputs=iw(n.outputs);const a=r.hostBindings;a&&GZ(n,a);const c=r.viewQuery,l=r.contentQueries;if(c&&WZ(n,c),l&&qZ(n,l),qn(n.inputs,r.inputs),qn(n.declaredInputs,r.declaredInputs),qn(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),qn(s.inputTransforms,r.inputTransforms)),Zo(r)&&r.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===We&&(e=!1)}}t=Object.getPrototypeOf(t)}!function HZ(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Rd(r.hostAttrs,e=Rd(e,r.hostAttrs))}}(i)}function iw(n){return n===$r?{}:n===un?[]:n}function WZ(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function qZ(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function GZ(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function RV(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function rw(n){return!!WA(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function WA(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ka(n,t,e){return n[t]=e}function Zr(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function eu(n,t,e,i){const r=Zr(n,t,e);return Zr(n,t+1,i)||r}function Sn(n,t,e,i){const r=xe();return Zr(r,ic(),t)&&(Yt(),Aa(Gn(),r,n,t,e,i)),Sn}function bf(n,t,e,i){return Zr(n,ic(),e)?t+It(e)+i:Rt}function vf(n,t,e,i,r,o){const a=eu(n,function ea(){return pt.lFrame.bindingIndex}(),e,r);return Ts(2),a?t+It(e)+i+It(r)+o:Rt}function Re(n,t,e,i,r,o,s,a){const c=xe(),l=Yt(),d=n+Wt,u=l.firstCreatePass?function _ee(n,t,e,i,r,o,s,a,c){const l=t.consts,d=gf(t,n,4,s||null,wa(l,a));VA(t,e,d,wa(l,c)),Wh(t,d);const u=d.tView=LA(2,d,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,d),u.queries=t.queries.embeddedTView(d)),d}(d,l,c,t,e,i,r,o,s):l.data[d];Mo(u,!1);const p=WV(l,c,u,n);Hh()&&O0(l,c,p,u),Xr(p,c),ew(c,c[d]=fV(p,c,p,u)),hl(u)&&NA(l,c,u),null!=s&&FA(c,u,a)}let WV=function qV(n,t,e,i){return Ea(!0),t[wt].createComment("")};function rs(n){return gl(function ng(){return pt.lFrame.contextLView}(),Wt+n)}function ye(n,t,e){const i=xe();return Zr(i,ic(),t)&&is(Yt(),Gn(),i,n,t,i[wt],e,!1),ye}function YA(n,t,e,i,r){const s=r?"class":"style";zA(n,e,t.inputs[s],s,i)}function H(n,t,e,i){const r=xe(),o=Yt(),s=Wt+n,a=r[wt],c=o.firstCreatePass?function wee(n,t,e,i,r,o){const s=t.consts,c=gf(t,n,2,i,wa(s,r));return VA(t,e,c,wa(s,o)),null!==c.attrs&&tw(c,c.attrs,!1),null!==c.mergedAttrs&&tw(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,t,e,i):o.data[s],l=GV(o,r,c,a,t,n);r[s]=l;const d=hl(c);return Mo(c,!0),a2(a,l,c),32!=(32&c.flags)&&Hh()&&O0(o,r,l,c),0===function wC(){return pt.lFrame.elementDepthCount}()&&Xr(l,r),function xC(){pt.lFrame.elementDepthCount++}(),d&&(NA(o,r,c),OA(o,c,r)),null!==i&&FA(r,c),H}function j(){let n=Ki();tg()?qd():(n=n.parent,Mo(n,!1));const t=n;(function EC(n){return pt.skipHydrationRootTNode===n})(t)&&function IC(){pt.skipHydrationRootTNode=null}(),function eg(){pt.lFrame.elementDepthCount--}();const e=Yt();return e.firstCreatePass&&(Wh(e,n),Py(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function _0(n){return 0!=(8&n.flags)}(t)&&YA(e,t,xe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function $h(n){return 0!=(16&n.flags)}(t)&&YA(e,t,xe(),t.stylesWithoutHost,!1),j}function et(n,t,e,i){return H(n,t,e,i),j(),et}let GV=(n,t,e,i,r,o)=>(Ea(!0),R0(i,r,function f0(){return pt.lFrame.currentNamespace}()));function tu(n,t,e){const i=xe(),r=Yt(),o=n+Wt,s=r.firstCreatePass?function Iee(n,t,e,i,r){const o=t.consts,s=wa(o,i),a=gf(t,n,8,"ng-container",s);return null!==s&&tw(a,s,!0),VA(t,e,a,wa(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];Mo(s,!0);const a=$V(r,i,s,n);return i[o]=a,Hh()&&O0(r,i,a,s),Xr(a,i),hl(s)&&(NA(r,i,s),OA(r,s,i)),null!=e&&FA(i,s),tu}function nu(){let n=Ki();const t=Yt();return tg()?qd():(n=n.parent,Mo(n,!1)),t.firstCreatePass&&(Wh(t,n),Py(n)&&t.queries.elementEnd(n)),nu}function Sa(n,t,e){return tu(n,t,e),nu(),Sa}let $V=(n,t,e,i)=>(Ea(!0),KC(t[wt],""));function Li(){return xe()}function Qg(n){return!!n&&"function"==typeof n.then}function KV(n){return!!n&&"function"==typeof n.subscribe}function Me(n,t,e,i){const r=xe(),o=Yt(),s=Ki();return QV(o,r,r[wt],s,n,t,i),Me}function lw(n,t){const e=Ki(),i=xe(),r=Yt();return QV(r,i,_V(cg(r.data),e,i),e,n,t),lw}function QV(n,t,e,i,r,o,s){const a=hl(i),l=n.firstCreatePass&&gV(n),d=t[hi],u=pV(t);let p=!0;if(3&i.type||s){const w=Yr(i,t),x=s?s(w):w,P=u.length,S=s?$=>s(An($[i.index])):i.index;let B=null;if(!s&&a&&(B=function Aee(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[al],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,p=!1;else{o=XV(i,t,d,o,!1);const $=e.listen(x,r,o);u.push(o,$),l&&l.push(r,S,P,P+1)}}else o=XV(i,t,d,o,!1);const b=i.outputs;let v;if(p&&null!==b&&(v=b[r])){const w=v.length;if(w)for(let x=0;x<w;x+=2){const J=t[v[x]][v[x+1]].subscribe(o),te=u.length;u.push(o,J),l&&l.push(r,i.index,te,-(te+1))}}}function YV(n,t,e,i){try{return Is(6,t,e),!1!==e(i)}catch(r){return bV(n,r),!1}finally{Is(7,t,e)}}function XV(n,t,e,i,r){return function o(s){if(s===Function)return i;Bg(n.componentOffset>-1?yo(n.index,t):t);let c=YV(t,e,i,s),l=o.__ngNextListenerFn__;for(;l;)c=YV(t,e,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function Oe(n=1){return function kC(n){return(pt.lFrame.contextLView=function SC(n,t){for(;n>0;)t=t[ll],n--;return t}(n,pt.lFrame.contextLView))[hi]}(n)}function kee(n,t){let e=null;const i=function Op(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?Pd(n,o,!0):Ay(i,o))return r}else e=r}return e}function nr(n){const t=xe()[fi][Ir];if(!t.projection){const i=t.projection=Cg(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?kee(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Tt(n,t=0,e){const i=xe(),r=Yt(),o=gf(r,Wt+n,16,null,e||null);null===o.projection&&(o.projection=t),qd(),(!i[Ys]||xa())&&32!=(32&o.flags)&&function CX(n,t,e){o2(t[wt],0,t,e,XC(n,e,t),JL(e.parent||t[Ir],e,t))}(r,i,o)}function Yg(n,t,e,i,r){const o=xe(),s=bf(o,t,e,i);return s!==Rt&&is(Yt(),Gn(),o,n,s,o[wt],r,!1),Yg}function dw(n,t){return n<<17|t<<2}function xl(n){return n>>17&32767}function XA(n){return 2|n}function iu(n){return(131068&n)>>2}function JA(n,t){return-131069&n|t<<2}function ZA(n){return 1|n}function aB(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?xl(o):iu(o),c=!1;for(;0!==a&&(!1===c||s);){const d=n[a+1];Oee(n[a],t)&&(c=!0,n[a+1]=i?ZA(d):XA(d)),a=i?xl(d):iu(d)}c&&(n[e+1]=i?XA(o):ZA(o))}function Oee(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&ef(n,t)>=0}function El(n,t,e){return ta(n,t,e,!1),El}function Xt(n,t){return ta(n,t,null,!0),Xt}function ta(n,t,e,i){const r=xe(),o=Yt(),s=Ts(2);o.firstUpdatePass&&function pB(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Or()],s=function mB(n,t){return t>=n.expandoStartIndex}(n,e);(function vB(n,t){return 0!=(n.flags&(t?8:16))})(o,i)&&null===t&&!s&&(t=!1),t=function Hee(n,t,e,i){const r=cg(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Xg(e=ek(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=ek(r,n,t,e,i),null===o){let c=function Wee(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==iu(i))return n[xl(i)]}(n,t,i);void 0!==c&&Array.isArray(c)&&(c=ek(null,n,t,c[1],i),c=Xg(c,t.attrs,i),function qee(n,t,e,i){n[xl(e?t.classBindings:t.styleBindings)]=i}(n,t,i,c))}else o=function Gee(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=Xg(i,n[o].hostAttrs,e);return Xg(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function Mee(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=xl(s),c=iu(s);n[i]=e;let d,l=!1;if(Array.isArray(e)?(d=e[1],(null===d||ef(e,d)>0)&&(l=!0)):d=e,r)if(0!==c){const p=xl(n[a+1]);n[i+1]=dw(p,a),0!==p&&(n[p+1]=JA(n[p+1],i)),n[a+1]=function Dee(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=dw(a,0),0!==a&&(n[a+1]=JA(n[a+1],i)),a=i;else n[i+1]=dw(c,0),0===a?a=i:n[c+1]=JA(n[c+1],i),c=i;l&&(n[i+1]=XA(n[i+1])),aB(n,d,i,!0),aB(n,d,i,!1),function Pee(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&ef(o,t)>=0&&(e[i+1]=ZA(e[i+1]))}(t,d,n,i,o),s=dw(a,c),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}(o,n,s,i),t!==Rt&&Zr(r,s,t)&&function _B(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const c=n.data,l=c[a+1],d=function Ree(n){return 1==(1&n)}(l)?bB(c,t,e,r,iu(l),s):void 0;uw(d)||(uw(o)||function See(n){return 2==(2&n)}(l)&&(o=bB(c,null,e,r,a,s)),function kX(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:yl.DashCase;null==r?n.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=yl.Important),n.setStyle(e,i,r,o))}}(i,s,pl(Or(),e),r,o))}(o,o.data[Or()],r,r[wt],n,r[s+1]=function Yee(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Le(ts(n)))),n}(t,e),i,s)}function ek(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=Xg(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Xg(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),es(n,s,!!e||t[++o]))}return void 0===n?null:n}function bB(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const c=n[r],l=Array.isArray(c),d=l?c[1]:c,u=null===d;let p=e[r+1];p===Rt&&(p=u?un:void 0);let b=u?VC(p,i):d===i?p:void 0;if(l&&!uw(b)&&(b=VC(c,i)),uw(b)&&(a=b,s))return a;const v=n[r+1];r=s?xl(v):iu(v)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=VC(c,i))}return a}function uw(n){return void 0!==n}function se(n,t=""){const e=xe(),i=Yt(),r=n+Wt,o=i.firstCreatePass?gf(i,r,1,t,null):i.data[r],s=yB(i,e,o,t,n);e[r]=s,Hh()&&O0(i,e,s,o),Mo(o,!1)}let yB=(n,t,e,i,r)=>(Ea(!0),function D0(n,t){return n.createText(t)}(t[wt],i));function Vi(n){return ir("",n,""),Vi}function ir(n,t,e){const i=xe(),r=bf(i,n,t,e);return r!==Rt&&uc(i,Or(),r),ir}function hw(n,t,e,i,r){const o=xe(),s=vf(o,n,t,e,i,r);return s!==Rt&&uc(o,Or(),s),hw}function ru(n,t,e){const i=xe();return Zr(i,ic(),t)&&is(Yt(),Gn(),i,n,t,i[wt],e,!0),ru}function fw(n,t,e){const i=xe();if(Zr(i,ic(),t)){const o=Yt(),s=Gn();is(o,s,i,n,t,_V(cg(o.data),s,i),e,!0)}return fw}const ou=void 0;var bte=["en",[["a","p"],["AM","PM"],ou],[["AM","PM"],ou,ou],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ou,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ou,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ou,"{1} 'at' {0}",ou],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _te(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Af={};function wo(n){const t=function vte(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=VB(t);if(e)return e;const i=t.split("-")[0];if(e=VB(i),e)return e;if("en"===i)return bte;throw new he(701,!1)}function VB(n){return n in Af||(Af[n]=On.ng&&On.ng.common&&On.ng.common.locales&&On.ng.common.locales[n]),Af[n]}var ti=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(ti||{});const kf="en-US";let BB=kf;function ik(n,t,e,i,r){if(n=vt(n),Array.isArray(n))for(let o=0;o<n.length;o++)ik(n[o],t,e,i,r);else{const o=Yt(),s=xe(),a=Ki();let c=Zd(n)?n:vt(n.provide);const l=k2(n),d=1048575&a.providerIndexes,u=a.directiveStart,p=a.providerIndexes>>20;if(Zd(n)||!n.multi){const b=new bl(l,r,O),v=ok(c,t,r?d:d+p,u);-1===v?(ae(_(a,s),o,c),rk(o,n,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(b),s.push(b)):(e[v]=b,s[v]=b)}else{const b=ok(c,t,d+p,u),v=ok(c,t,d,d+p),x=v>=0&&e[v];if(r&&!x||!r&&!(b>=0&&e[b])){ae(_(a,s),o,c);const P=function _ne(n,t,e,i,r){const o=new bl(n,e,O);return o.multi=[],o.index=t,o.componentProviders=0,dU(o,r,i&&!e),o}(r?gne:pne,e.length,r,i,l);!r&&x&&(e[v].providerFactory=P),rk(o,n,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(P),s.push(P)}else rk(o,n,b>-1?b:v,dU(e[r?v:b],l,!r&&i));!r&&i&&x&&e[v].componentProviders++}}}function rk(n,t,e,i){const r=Zd(t),o=function aJ(n){return!!n.useClass}(t);if(r||o){const c=(o?vt(t.useClass):t).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const d=l.indexOf(e);-1===d?l.push(e,[i,c]):l[d+1].push(i,c)}else l.push(e,c)}}}function dU(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function ok(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function pne(n,t,e,i){return sk(this.multi,[])}function gne(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ta(e,e[He],this.providerFactory.index,i);o=a.slice(0,s),sk(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],sk(r,o);return o}function sk(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function mt(n,t=[]){return e=>{e.providersResolver=(i,r)=>function mne(n,t,e){const i=Yt();if(i.firstCreatePass){const r=Zo(n);ik(e,i.data,i.blueprint,r,!0),ik(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class su{}class uU{}class ak extends su{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new TV(this);const r=vo(t);this._bootstrapComponents=dc(r.bootstrap),this._r3Injector=B2(t,e,[{provide:su,useValue:this},{provide:hf,useValue:this.componentFactoryResolver},...i],Le(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ck extends uU{constructor(t){super(),this.moduleType=t}create(t){return new ak(this.moduleType,t,[])}}class hU extends su{constructor(t){super(),this.componentFactoryResolver=new TV(this),this.instance=null;const e=new cf([...t.providers,{provide:su,useValue:this},{provide:hf,useValue:this.componentFactoryResolver}],t.parent||H0(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function lk(n,t,e=null){return new hU({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let yne=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=I2(0,e.type),r=i.length>0?lk([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Ie({token:n,providedIn:"environment",factory:()=>new n(Y(ns))})}}return n})();function fU(n){n.getStandaloneInjector=t=>t.get(yne).getOrCreateStandaloneInjector(n)}function i_(n,t,e,i,r){return wU(xe(),mr(),n,t,e,i,r)}function r_(n,t){const e=n[t];return e===Rt?void 0:e}function wU(n,t,e,i,r,o,s){const a=t+e;return eu(n,a,r,o)?ka(n,a+2,s?i.call(s,r,o):i(r,o)):r_(n,a+2)}function Fo(n,t){const e=Yt();let i;const r=n+Wt;e.firstCreatePass?(i=function Vne(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=ml(i.type)),a=xr(O);try{const c=Yd(!1),l=o();return Yd(c),function yee(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,xe(),r,l),l}finally{xr(a)}}function os(n,t,e){const i=n+Wt,r=xe(),o=gl(r,i);return o_(r,i)?function yU(n,t,e,i,r,o){const s=t+e;return Zr(n,s,r)?ka(n,s+1,o?i.call(o,r):i(r)):r_(n,s+1)}(r,mr(),t,o.transform,e,o):o.transform(e)}function o_(n,t){return n[He].data[t].pure}function zne(){return this._results[Symbol.iterator]()}class au{get changes(){return this._changes||(this._changes=new jt)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=au.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=zne)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function Cs(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function RY(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Wne(n,t,e,i=!0){const r=t[He];if(function yX(n,t,e,i){const r=hr+i,o=e.length;i>0&&(e[r-1][Jo]=t),i<o-hr?(t[Jo]=e[r],EL(e,hr+i,t)):(e.push(t),t[Jo]=null),t[Nn]=e;const s=t[Nd];null!==s&&e!==s&&function wX(n,t){const e=n[dl];t[fi]!==t[Nn][Nn][fi]&&(n[My]=!0),null===e?n[dl]=[t]:e.push(t)}(s,t);const a=t[xs];null!==a&&a.insertView(n),t[Dt]|=128}(r,t,n,e),i){const o=ZC(e,n),s=t[wt],a=P0(s,n[Pr]);null!==a&&function _X(n,t,e,i,r,o){i[ui]=r,i[Ir]=t,Mg(n,i,e,1,r,o)}(r,n[Ir],s,t,a,o)}}let rr=(()=>{class n{static{this.__NG_ELEMENT_ID__=$ne}}return n})();const qne=rr,Gne=class extends qne{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function Hne(n,t,e,i){const r=t.tView,a=Z0(n,r,e,4096&n[Dt]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[Nd]=n[t.index];const l=n[xs];return null!==l&&(a[xs]=l.createEmbeddedView(r)),HA(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new Hg(r)}};function $ne(){return bw(Ki(),xe())}function bw(n,t){return 4&n.type?new Gne(t,n,ff(n,t)):null}let Ar=(()=>{class n{static{this.__NG_ELEMENT_ID__=Zne}}return n})();function Zne(){return MU(Ki(),xe())}const eie=Ar,DU=class extends eie{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return ff(this._hostTNode,this._hostLView)}get injector(){return new Cr(this._hostTNode,this._hostLView)}get parentInjector(){const t=X(this._hostTNode,this._hostLView);if(_g(t)){const e=Qd(t,this._hostLView),i=Kd(t);return new Cr(e[He].data[i+8],e)}return new Cr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=RU(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-hr}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=t.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(a,r,false),a}createComponent(t,e,i,r,o){const s=t&&!function Tg(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const w=e||{};a=w.index,i=w.injector,r=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}const c=s?t:new Wg(Qt(t)),l=i||this.parentInjector;if(!o&&null==c.ngModule){const x=(s?l:this.parentInjector).get(ns,null);x&&(o=x)}Qt(c.componentType??{});const b=c.create(l,r,null,o);return this.insertImpl(b.hostView,a,false),b}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function Zy(n){return Qr(n[Nn])}(r)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const l=r[Nn],d=new DU(l,l[Ir],l[Nn]);d.detach(d.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;return Wne(a,r,s,!i),t.attachToViewContainerRef(),EL(uk(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=RU(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=M0(this._lContainer,e);i&&(x0(uk(this._lContainer),e),QC(i[He],i))}detach(t){const e=this._adjustIndex(t,-1),i=M0(this._lContainer,e);return i&&null!=x0(uk(this._lContainer),e)?new Hg(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function RU(n){return n[8]}function uk(n){return n[8]||(n[8]=[])}function MU(n,t){let e;const i=t[n.index];return Qr(i)?e=i:(e=fV(i,t,null,n),t[n.index]=e,ew(t,e)),PU(e,t,n,i),new DU(e,n,t)}let PU=function OU(n,t,e,i){if(n[Pr])return;let r;r=8&e.type?An(i):function tie(n,t){const e=n[wt],i=e.createComment(""),r=Yr(t,n);return Xd(e,P0(e,r),i,function TX(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[Pr]=r};class hk{constructor(t){this.queryList=t,this.matches=null}clone(){return new hk(this.queryList)}setDirty(){this.queryList.setDirty()}}class fk{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new fk(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==BU(t,e).matches&&this.queries[e].setDirty()}}class NU{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class mk{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new mk(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class pk{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new pk(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,rie(e,o)),this.matchTNodeWithReadOption(t,e,sc(e,t,o,!1,!1))}else i===rr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,sc(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ft||r===Ar||r===rr&&4&e.type)this.addMatch(e.index,-2);else{const o=sc(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function rie(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function sie(n,t,e,i){return-1===e?function oie(n,t){return 11&n.type?ff(n,t):4&n.type?bw(n,t):null}(t,n):-2===e?function aie(n,t,e){return e===ft?ff(t,n):e===rr?bw(t,n):e===Ar?MU(t,n):void 0}(n,t,i):Ta(n,n[He],e,t)}function FU(n,t,e,i){const r=t[xs].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:sie(t,o[l],s[c+1],e.metadata.read))}r.matches=a}return r.matches}function gk(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=FU(n,t,r,e);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const l=o[a+1],d=t[-c];for(let u=hr;u<d.length;u++){const p=d[u];p[Nd]===p[Nn]&&gk(p[He],p,l,i)}if(null!==d[dl]){const u=d[dl];for(let p=0;p<u.length;p++){const b=u[p];gk(b[He],b,l,i)}}}}}return i}function gt(n){const t=xe(),e=Yt(),i=zh();lg(i+1);const r=BU(e,i);if(n.dirty&&function yC(n){return 4==(4&n[Dt])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?gk(e,t,i,[]):FU(e,t,r,i);n.reset(o,kJ),n.notifyOnChanges()}return!0}return!1}function ni(n,t,e){const i=Yt();i.firstCreatePass&&(VU(i,new NU(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),LU(i,xe(),t)}function $n(n,t,e,i){const r=Yt();if(r.firstCreatePass){const o=Ki();VU(r,new NU(t,e,i),o.index),function lie(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}LU(r,xe(),e)}function _t(){return function cie(n,t){return n[xs].queries[t].queryList}(xe(),zh())}function LU(n,t,e){const i=new au(4==(4&e));(function aZ(n,t,e,i){const r=pV(t);r.push(e),n.firstCreatePass&&gV(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[xs]&&(t[xs]=new fk),t[xs].queries.push(new hk(i))}function VU(n,t,e){null===n.queries&&(n.queries=new mk),n.queries.track(new pk(t,e))}function BU(n,t){return n.queries.getByIndex(t)}function Sf(n,t){return bw(n,t)}const ww=new de("Application Initializer");let xk=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=De(ww,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(Qg(o))e.push(o);else if(KV(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});e.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nj=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const Ma=new de("LocaleId",{providedIn:"root",factory:()=>De(Ma,Ht.Optional|Ht.SkipSelf)||function Die(){return typeof $localize<"u"&&$localize.locale||kf}()}),Rie=new de("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let xw=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new k(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Pie{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let ij=(()=>{class n{compileModuleSync(e){return new ck(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=dc(vo(e).declarations).reduce((s,a)=>{const c=Qt(a);return c&&s.push(new Wg(c)),s},[]);return new Pie(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const aj=new de(""),Iw=new de("");let Ak,Tk=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ak||(function tre(n){Ak=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)(Y(Ge),Y(Ck),Y(Iw))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})(),Ck=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Ak?.findTestabilityInTree(this,e,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Il=null;const cj=new de("AllowMultipleToken"),kk=new de("PlatformDestroyListeners"),Sk=new de("appBootstrapListener");class dj{constructor(t,e){this.name=t,this.token=e}}function hj(n,t,e=[]){const i=`Platform: ${t}`,r=new de(i);return(o=[])=>{let s=Dk();if(!s||s.injector.get(cj,!1)){const a=[...e,...o,{provide:r,useValue:!0}];n?n(a):function rre(n){if(Il&&!Il.get(cj,!1))throw new he(400,!1);(function lj(){!function gL(n){Gy=n}(()=>{throw new he(600,!1)})})(),Il=n;const t=n.get(mj);(function uj(n){n.get(S2,null)?.forEach(e=>e())})(n)}(function fj(n=[],t){return Fn.create({name:t,providers:[{provide:dA,useValue:"platform"},{provide:kk,useValue:new Set([()=>Il=null])},...n]})}(a,i))}return function sre(n){const t=Dk();if(!t)throw new he(401,!1);return t}()}}function Dk(){return Il?.get(mj)??null}let mj=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function are(n="zone.js",t){return"noop"===n?new HJ:"zone.js"===n?new Ge(t):n}(i?.ngZone,function pj(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function vne(n,t,e){return new ak(n,t,e)}(e.moduleType,this.injector,function yj(n){return[{provide:Ge,useFactory:n},{provide:Ng,multi:!0,useFactory:()=>{const t=De(lre,{optional:!0});return()=>t.initialize()}},{provide:vj,useFactory:cre},{provide:W2,useFactory:q2}]}(()=>r)),s=o.injector.get(As,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{Tw(this._modules,o),a.unsubscribe()})}),function gj(n,t,e){try{const i=e();return Qg(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(xk);return a.runInitializers(),a.donePromise.then(()=>(function UB(n){go(n,"Expected localeId to be defined"),"string"==typeof n&&(BB=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Ma,kf)||kf),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,i=[]){const r=_j({},i);return function nre(n,t,e){const i=new ck(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(hc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new he(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(kk,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)(Y(Fn))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function _j(n,t){return Array.isArray(t)?t.reduce(_j,n):{...n,...t}}let hc=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=De(vj),this.zoneIsStable=De(W2),this.componentTypes=[],this.components=[],this.isStable=De(xw).hasPendingTasks.pipe(ke(e=>e?M(!1):this.zoneIsStable),Ze(),z()),this._injector=De(ns)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof P2;if(!this._injector.get(xk).done)throw!r&&function ba(n){const t=Qt(n)||Fi(n)||ur(n);return null!==t&&t.standalone}(e),new he(405,!1);let s;s=r?e:this._injector.get(hf).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function ire(n){return n.isBoundToModule}(s)?void 0:this._injector.get(su),l=s.create(Fn.NULL,[],i||s.selector,a),d=l.location.nativeElement,u=l.injector.get(aj,null);return u?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Tw(this.components,l),u?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Tw(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(Sk,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Tw(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new he(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Tw(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const vj=new de("",{providedIn:"root",factory:()=>De(As).handleError.bind(void 0)});function cre(){const n=De(Ge),t=De(As);return e=>n.runOutsideAngular(()=>t.handleError(e))}let lre=(()=>{class n{constructor(){this.zone=De(Ge),this.applicationRef=De(hc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();let Vo=(()=>{class n{static{this.__NG_ELEMENT_ID__=ure}}return n})();function ure(n){return function hre(n,t,e){if(ul(n)&&!e){const i=yo(n.index,t);return new Hg(i,i)}return 47&n.type?new Hg(t[fi],t):null}(Ki(),xe(),16==(16&n))}class Tj{constructor(){}supports(t){return rw(t)}create(t){return new _re(t)}}const gre=(n,t)=>t;class _re{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||gre}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<Aj(i,r,o)?e:i,a=Aj(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const l=a-r,d=c-r;if(l!=d){for(let p=0;p<l;p++){const b=p<o.length?o[p]:o[p]=0,v=b+p;d<=v&&v<l&&(o[p]=b+1)}o[s.previousIndex]=d-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!rw(t))throw new he(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function ZZ(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new bre(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Cj),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Cj),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class bre{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vre{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class Cj{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new vre,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Aj(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class kj{constructor(){}supports(t){return t instanceof Map||WA(t)}create(){return new yre}}class yre{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||WA(t)))throw new he(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new wre(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class wre{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Sj(){return new fc([new Tj])}let fc=(()=>{class n{static{this.\u0275prov=Ie({token:n,providedIn:"root",factory:Sj})}constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||Sj()),deps:[[n,new Ag,new Fr]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new he(901,!1)}}return n})();function Dj(){return new c_([new kj])}let c_=(()=>{class n{static{this.\u0275prov=Ie({token:n,providedIn:"root",factory:Dj})}constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||Dj()),deps:[[n,new Ag,new Fr]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new he(901,!1)}}return n})();const Ire=hj(null,"core",[]);let Tre=(()=>{class n{constructor(e){}static{this.\u0275fac=function(i){return new(i||n)(Y(hc))}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({})}}return n})();function Mf(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Lk=null;function Tl(){return Lk}class Bre{}const Ct=new de("DocumentToken");let Vk=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:function(){return De(jre)},providedIn:"platform"})}}return n})();const Ure=new de("Location Initialized");let jre=(()=>{class n extends Vk{constructor(){super(),this._doc=De(Ct),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Tl().getBaseHref(this._doc)}onPopState(e){const i=Tl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Tl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function Bk(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Bj(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function mc(n){return n&&"?"!==n[0]?"?"+n:n}let lu=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:function(){return De(jj)},providedIn:"root"})}}return n})();const Uj=new de("appBaseHref");let jj=(()=>{class n extends lu{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??De(Ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Bk(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+mc(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+mc(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+mc(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(Y(Vk),Y(Uj,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),zre=(()=>{class n extends lu{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Bk(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+mc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+mc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(Y(Vk),Y(Uj,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})(),l_=(()=>{class n{constructor(e){this._subject=new jt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function qre(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(Bj(zj(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+mc(i))}normalize(e){return n.stripTrailingSlash(function Wre(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,zj(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+mc(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+mc(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static{this.normalizeQueryParams=mc}static{this.joinWithSlash=Bk}static{this.stripTrailingSlash=Bj}static{this.\u0275fac=function(i){return new(i||n)(Y(lu))}}static{this.\u0275prov=Ie({token:n,factory:function(){return function Hre(){return new l_(Y(lu))}()},providedIn:"root"})}}return n})();function zj(n){return n.replace(/\/index.html$/,"")}const Hj={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Sw=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Sw||{}),Eo=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Eo||{}),Kn=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Kn||{}),ss=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(ss||{}),Qi=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Qi||{});function Dw(n,t){return Ds(wo(n)[ti.DateFormat],t)}function Rw(n,t){return Ds(wo(n)[ti.TimeFormat],t)}function Mw(n,t){return Ds(wo(n)[ti.DateTimeFormat],t)}function Ss(n,t){const e=wo(n),i=e[ti.NumberSymbols][t];if(typeof i>"u"){if(t===Qi.CurrencyDecimal)return e[ti.NumberSymbols][Qi.Decimal];if(t===Qi.CurrencyGroup)return e[ti.NumberSymbols][Qi.Group]}return i}function Wj(n){if(!n[ti.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[ti.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ds(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function jk(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const ooe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,d_={},soe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var pc=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(pc||{}),In=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(In||{}),Tn=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Tn||{});function aoe(n,t,e,i){let r=function goe(n){if($j(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return Pw(r,o-1,s)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(ooe))return function _oe(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-e,a=Number(n[5]||0)-i,c=Number(n[6]||0),l=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,s,a,c,l),t}(i)}const t=new Date(n);if(!$j(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=gc(e,t)||t;let a,s=[];for(;t;){if(a=soe.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const d=s.pop();if(!d)break;t=d}}let c=r.getTimezoneOffset();i&&(c=Gj(i,c),r=function poe(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function moe(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(Gj(t,r)-r))}(r,i,!0));let l="";return s.forEach(d=>{const u=function foe(n){if(Hk[n])return Hk[n];let t;switch(n){case"G":case"GG":case"GGG":t=ii(Tn.Eras,Kn.Abbreviated);break;case"GGGG":t=ii(Tn.Eras,Kn.Wide);break;case"GGGGG":t=ii(Tn.Eras,Kn.Narrow);break;case"y":t=or(In.FullYear,1,0,!1,!0);break;case"yy":t=or(In.FullYear,2,0,!0,!0);break;case"yyy":t=or(In.FullYear,3,0,!1,!0);break;case"yyyy":t=or(In.FullYear,4,0,!1,!0);break;case"Y":t=Lw(1);break;case"YY":t=Lw(2,!0);break;case"YYY":t=Lw(3);break;case"YYYY":t=Lw(4);break;case"M":case"L":t=or(In.Month,1,1);break;case"MM":case"LL":t=or(In.Month,2,1);break;case"MMM":t=ii(Tn.Months,Kn.Abbreviated);break;case"MMMM":t=ii(Tn.Months,Kn.Wide);break;case"MMMMM":t=ii(Tn.Months,Kn.Narrow);break;case"LLL":t=ii(Tn.Months,Kn.Abbreviated,Eo.Standalone);break;case"LLLL":t=ii(Tn.Months,Kn.Wide,Eo.Standalone);break;case"LLLLL":t=ii(Tn.Months,Kn.Narrow,Eo.Standalone);break;case"w":t=zk(1);break;case"ww":t=zk(2);break;case"W":t=zk(1,!0);break;case"d":t=or(In.Date,1);break;case"dd":t=or(In.Date,2);break;case"c":case"cc":t=or(In.Day,1);break;case"ccc":t=ii(Tn.Days,Kn.Abbreviated,Eo.Standalone);break;case"cccc":t=ii(Tn.Days,Kn.Wide,Eo.Standalone);break;case"ccccc":t=ii(Tn.Days,Kn.Narrow,Eo.Standalone);break;case"cccccc":t=ii(Tn.Days,Kn.Short,Eo.Standalone);break;case"E":case"EE":case"EEE":t=ii(Tn.Days,Kn.Abbreviated);break;case"EEEE":t=ii(Tn.Days,Kn.Wide);break;case"EEEEE":t=ii(Tn.Days,Kn.Narrow);break;case"EEEEEE":t=ii(Tn.Days,Kn.Short);break;case"a":case"aa":case"aaa":t=ii(Tn.DayPeriods,Kn.Abbreviated);break;case"aaaa":t=ii(Tn.DayPeriods,Kn.Wide);break;case"aaaaa":t=ii(Tn.DayPeriods,Kn.Narrow);break;case"b":case"bb":case"bbb":t=ii(Tn.DayPeriods,Kn.Abbreviated,Eo.Standalone,!0);break;case"bbbb":t=ii(Tn.DayPeriods,Kn.Wide,Eo.Standalone,!0);break;case"bbbbb":t=ii(Tn.DayPeriods,Kn.Narrow,Eo.Standalone,!0);break;case"B":case"BB":case"BBB":t=ii(Tn.DayPeriods,Kn.Abbreviated,Eo.Format,!0);break;case"BBBB":t=ii(Tn.DayPeriods,Kn.Wide,Eo.Format,!0);break;case"BBBBB":t=ii(Tn.DayPeriods,Kn.Narrow,Eo.Format,!0);break;case"h":t=or(In.Hours,1,-12);break;case"hh":t=or(In.Hours,2,-12);break;case"H":t=or(In.Hours,1);break;case"HH":t=or(In.Hours,2);break;case"m":t=or(In.Minutes,1);break;case"mm":t=or(In.Minutes,2);break;case"s":t=or(In.Seconds,1);break;case"ss":t=or(In.Seconds,2);break;case"S":t=or(In.FractionalSeconds,1);break;case"SS":t=or(In.FractionalSeconds,2);break;case"SSS":t=or(In.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Nw(pc.Short);break;case"ZZZZZ":t=Nw(pc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Nw(pc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Nw(pc.Long);break;default:return null}return Hk[n]=t,t}(d);l+=u?u(r,e,c):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Pw(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function gc(n,t){const e=function $re(n){return wo(n)[ti.LocaleId]}(n);if(d_[e]=d_[e]||{},d_[e][t])return d_[e][t];let i="";switch(t){case"shortDate":i=Dw(n,ss.Short);break;case"mediumDate":i=Dw(n,ss.Medium);break;case"longDate":i=Dw(n,ss.Long);break;case"fullDate":i=Dw(n,ss.Full);break;case"shortTime":i=Rw(n,ss.Short);break;case"mediumTime":i=Rw(n,ss.Medium);break;case"longTime":i=Rw(n,ss.Long);break;case"fullTime":i=Rw(n,ss.Full);break;case"short":const r=gc(n,"shortTime"),o=gc(n,"shortDate");i=Ow(Mw(n,ss.Short),[r,o]);break;case"medium":const s=gc(n,"mediumTime"),a=gc(n,"mediumDate");i=Ow(Mw(n,ss.Medium),[s,a]);break;case"long":const c=gc(n,"longTime"),l=gc(n,"longDate");i=Ow(Mw(n,ss.Long),[c,l]);break;case"full":const d=gc(n,"fullTime"),u=gc(n,"fullDate");i=Ow(Mw(n,ss.Full),[d,u])}return i&&(d_[e][t]=i),i}function Ow(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function ia(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),o+s}function or(n,t,e=0,i=!1,r=!1){return function(o,s){let a=function loe(n,t){switch(n){case In.FullYear:return t.getFullYear();case In.Month:return t.getMonth();case In.Date:return t.getDate();case In.Hours:return t.getHours();case In.Minutes:return t.getMinutes();case In.Seconds:return t.getSeconds();case In.FractionalSeconds:return t.getMilliseconds();case In.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||a>-e)&&(a+=e),n===In.Hours)0===a&&-12===e&&(a=12);else if(n===In.FractionalSeconds)return function coe(n,t){return ia(n,3).substring(0,t)}(a,t);const c=Ss(s,Qi.MinusSign);return ia(a,t,c,i,r)}}function ii(n,t,e=Eo.Format,i=!1){return function(r,o){return function doe(n,t,e,i,r,o){switch(e){case Tn.Months:return function Yre(n,t,e){const i=wo(n),o=Ds([i[ti.MonthsFormat],i[ti.MonthsStandalone]],t);return Ds(o,e)}(t,r,i)[n.getMonth()];case Tn.Days:return function Qre(n,t,e){const i=wo(n),o=Ds([i[ti.DaysFormat],i[ti.DaysStandalone]],t);return Ds(o,e)}(t,r,i)[n.getDay()];case Tn.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const l=function eoe(n){const t=wo(n);return Wj(t),(t[ti.ExtraData][2]||[]).map(i=>"string"==typeof i?jk(i):[jk(i[0]),jk(i[1])])}(t),d=function toe(n,t,e){const i=wo(n);Wj(i);const o=Ds([i[ti.ExtraData][0],i[ti.ExtraData][1]],t)||[];return Ds(o,e)||[]}(t,r,i),u=l.findIndex(p=>{if(Array.isArray(p)){const[b,v]=p,w=s>=b.hours&&a>=b.minutes,x=s<v.hours||s===v.hours&&a<v.minutes;if(b.hours<v.hours){if(w&&x)return!0}else if(w||x)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(-1!==u)return d[u]}return function Kre(n,t,e){const i=wo(n),o=Ds([i[ti.DayPeriodsFormat],i[ti.DayPeriodsStandalone]],t);return Ds(o,e)}(t,r,i)[s<12?0:1];case Tn.Eras:return function Xre(n,t){return Ds(wo(n)[ti.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Nw(n){return function(t,e,i){const r=-1*i,o=Ss(e,Qi.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case pc.Short:return(r>=0?"+":"")+ia(s,2,o)+ia(Math.abs(r%60),2,o);case pc.ShortGMT:return"GMT"+(r>=0?"+":"")+ia(s,1,o);case pc.Long:return"GMT"+(r>=0?"+":"")+ia(s,2,o)+":"+ia(Math.abs(r%60),2,o);case pc.Extended:return 0===i?"Z":(r>=0?"+":"")+ia(s,2,o)+":"+ia(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const uoe=0,Fw=4;function qj(n){return Pw(n.getFullYear(),n.getMonth(),n.getDate()+(Fw-n.getDay()))}function zk(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=qj(e),s=function hoe(n){const t=Pw(n,uoe,1).getDay();return Pw(n,0,1+(t<=Fw?Fw:Fw+7)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return ia(r,n,Ss(i,Qi.MinusSign))}}function Lw(n,t=!1){return function(e,i){return ia(qj(e).getFullYear(),n,Ss(i,Qi.MinusSign),t)}}const Hk={};function Gj(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function $j(n){return n instanceof Date&&!isNaN(n.valueOf())}const boe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Kj=22,Vw=".",u_="0",voe=";",yoe=",",Wk="#";function xoe(n,t,e,i,r){const s=function Gk(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(voe),r=i[0],o=i[1],s=-1!==r.indexOf(Vw)?r.split(Vw):[r.substring(0,r.lastIndexOf(u_)+1),r.substring(r.lastIndexOf(u_)+1)],a=s[0],c=s[1]||"";e.posPre=a.substring(0,a.indexOf(Wk));for(let d=0;d<c.length;d++){const u=c.charAt(d);u===u_?e.minFrac=e.maxFrac=d+1:u===Wk?e.maxFrac=d+1:e.posSuf+=u}const l=a.split(yoe);if(e.gSize=l[1]?l[1].length:0,e.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){const d=r.length-e.posPre.length-e.posSuf.length,u=o.indexOf(Wk);e.negPre=o.substring(0,u).replace(/'/g,""),e.negSuf=o.slice(u+d).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function Uk(n,t){return wo(n)[ti.NumberFormats][t]}(t,Sw.Currency),Ss(t,Qi.MinusSign));return s.minFrac=function roe(n){let t;const e=Hj[n];return e&&(t=e[2]),"number"==typeof t?t:2}(i),s.maxFrac=s.minFrac,function qk(n,t,e,i,r,o,s=!1){let a="",c=!1;if(isFinite(n)){let l=function Coe(n){let i,r,o,s,a,t=Math.abs(n)+"",e=0;for((r=t.indexOf(Vw))>-1&&(t=t.replace(Vw,"")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;t.charAt(o)===u_;o++);if(o===(a=t.length))i=[0],r=1;else{for(a--;t.charAt(a)===u_;)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(t.charAt(o))}return r>Kj&&(i=i.splice(0,Kj-1),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);s&&(l=function Toe(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(l));let d=t.minInt,u=t.minFrac,p=t.maxFrac;if(o){const S=o.match(boe);if(null===S)throw new Error(`${o} is not a valid digit info`);const B=S[1],$=S[3],J=S[5];null!=B&&(d=$k(B)),null!=$&&(u=$k($)),null!=J?p=$k(J):null!=$&&u>p&&(p=u)}!function Aoe(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let s=o+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let u=s;u<i.length;u++)i[u]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let u=1;u<s;u++)i[u]=0}if(a>=5)if(s-1<0){for(let u=0;u>s;u--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let c=0!==o;const l=t+n.integerLen,d=i.reduceRight(function(u,p,b,v){return v[b]=(p+=u)<10?p:p-10,c&&(0===v[b]&&b>=l?v.pop():c=!1),p>=10?1:0},0);d&&(i.unshift(d),n.integerLen++)}(l,u,p);let b=l.digits,v=l.integerLen;const w=l.exponent;let x=[];for(c=b.every(S=>!S);v<d;v++)b.unshift(0);for(;v<0;v++)b.unshift(0);v>0?x=b.splice(v,b.length):(x=b,b=[0]);const P=[];for(b.length>=t.lgSize&&P.unshift(b.splice(-t.lgSize,b.length).join(""));b.length>t.gSize;)P.unshift(b.splice(-t.gSize,b.length).join(""));b.length&&P.unshift(b.join("")),a=P.join(Ss(e,i)),x.length&&(a+=Ss(e,r)+x.join("")),w&&(a+=Ss(e,Qi.Exponential)+"+"+w)}else a=Ss(e,Qi.Infinity);return a=n<0&&!c?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(n,s,t,Qi.CurrencyGroup,Qi.CurrencyDecimal,r).replace("\xa4",e).replace("\xa4","").trim()}function $k(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function Xj(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const Qk=/\s+/,Jj=[];let Yk=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=Jj,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Qk):Jj}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Qk):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Qk).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(O(fc),O(c_),O(ft),O(lc))}}static{this.\u0275dir=_e({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class Doe{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _c=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Doe(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),ez(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{ez(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(O(Ar),O(rr),O(fc))}}static{this.\u0275dir=_e({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function ez(n,t){n.context.$implicit=t.item}let Rs=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Roe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){tz("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){tz("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(O(Ar),O(rr))}}static{this.\u0275dir=_e({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class Roe{constructor(){this.$implicit=null,this.ngIf=null}}function tz(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Le(t)}'.`)}class Xk{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Bw=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return n})(),nz=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Xk(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(i){return new(i||n)(O(Ar),O(rr),O(Bw,9))}}static{this.\u0275dir=_e({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return n})(),Jk=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static{this.\u0275fac=function(i){return new(i||n)(O(Ar))}}static{this.\u0275dir=_e({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Pi]})}}return n})();function ra(n,t){return new he(2100,!1)}class Noe{createSubscription(t,e){return Qy(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){Qy(()=>t.unsubscribe())}}class Foe{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Loe=new Foe,Voe=new Noe;let h_=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Qg(e))return Loe;if(KV(e))return Voe;throw ra()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static{this.\u0275fac=function(i){return new(i||n)(O(Vo,16))}}static{this.\u0275pipe=Er({name:"async",type:n,pure:!1,standalone:!0})}}return n})();const Woe=new de("DATE_PIPE_DEFAULT_TIMEZONE"),qoe=new de("DATE_PIPE_DEFAULT_OPTIONS");let Uw=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return aoe(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw ra()}}static{this.\u0275fac=function(i){return new(i||n)(O(Ma,16),O(Woe,24),O(qoe,24))}}static{this.\u0275pipe=Er({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),oz=(()=>{class n{constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,r="symbol",o,s){if(!function Zk(n){return!(null==n||""===n||n!=n)}(e))return null;s=s||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let a=i||this._defaultCurrencyCode;"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?function noe(n,t,e="en"){const i=function Jre(n){return wo(n)[ti.Currencies]}(e)[n]||Hj[n]||[],r=i[1];return"narrow"===t&&"string"==typeof r?r:i[0]||n}(a,"symbol"===r?"wide":"narrow",s):r);try{return xoe(function eS(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),s,a,i,o)}catch(c){throw ra()}}static{this.\u0275fac=function(i){return new(i||n)(O(Ma,16),O(Rie,16))}}static{this.\u0275pipe=Er({name:"currency",type:n,pure:!0,standalone:!0})}}return n})();let bc=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({})}}return n})();const sz="browser";function tS(n){return n===sz}function jw(n){return"server"===n}let ise=(()=>{class n{static{this.\u0275prov=Ie({token:n,providedIn:"root",factory:()=>new rse(Y(Ct),window)})}}return n})();class rse{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ose(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class az{}class kse extends Bre{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class rS extends kse{static makeCurrent(){!function Vre(n){Lk||(Lk=n)}(new rS)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Sse(){return m_=m_||document.querySelector("base"),m_?m_.getAttribute("href"):null}();return null==e?null:function Dse(n){Ww=Ww||document.createElement("a"),Ww.setAttribute("href",n);const t=Ww.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){m_=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Xj(document.cookie,t)}}let Ww,m_=null,Mse=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();const oS=new de("EventManagerPlugins");let hz=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new he(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||n)(Y(oS),Y(Ge))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();class fz{constructor(t){this._doc=t}}const sS="ng-app-id";let mz=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=jw(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${sS}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(sS),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(sS,this.appId),s}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct),Y(W0),Y(mA,8),Y(Oo))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();const aS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cS=/%COMP%/g,Fse=new de("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function gz(n,t){return t.map(e=>e.replace(cS,n))}let lS=(()=>{class n{constructor(e,i,r,o,s,a,c,l=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=jw(a),this.defaultRenderer=new dS(e,s,c,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===dr.ShadowDom&&(i={...i,encapsulation:dr.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof bz?r.applyToHost(e):r instanceof uS&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer;switch(i.encapsulation){case dr.Emulated:o=new bz(c,l,i,this.appId,d,s,a,u);break;case dr.ShadowDom:return new Use(c,l,e,i,s,a,this.nonce,u);default:o=new uS(c,l,i,d,s,a,u)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(Y(hz),Y(mz),Y(W0),Y(Fse),Y(Ct),Y(Oo),Y(Ge),Y(mA))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();class dS{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(aS[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(_z(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(_z(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new he(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=aS[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=aS[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(yl.DashCase|yl.Important)?t.style.setProperty(e,i,r&yl.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&yl.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=Tl().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function _z(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Use extends dS{constructor(t,e,i,r,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=gz(r.id,r.styles);for(const d of l){const u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class uS extends dS{constructor(t,e,i,r,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=c?gz(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class bz extends uS{constructor(t,e,i,r,o,s,a,c){const l=r+"-"+i.id;super(t,e,i,o,s,a,c,l),this.contentAttr=function Lse(n){return"_ngcontent-%COMP%".replace(cS,n)}(l),this.hostAttr=function Vse(n){return"_nghost-%COMP%".replace(cS,n)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let jse=(()=>{class n extends fz{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();const vz=["alt","control","meta","shift"],zse={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hse={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Wse=(()=>{class n extends fz{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tl().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),vz.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(e,i){let r=zse[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),vz.forEach(s=>{s!==r&&(0,Hse[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();const wz=[{provide:Oo,useValue:sz},{provide:S2,useValue:function qse(){rS.makeCurrent()},multi:!0},{provide:Ct,useFactory:function $se(){return function PX(n){nA=n}(document),document},deps:[]}],Kse=hj(Ire,"browser",wz),Qse=new de(""),xz=[{provide:Iw,useClass:class Rse{addToWindow(t){On.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new he(5103,!1);return o},On.getAllAngularTestabilities=()=>t.getAllTestabilities(),On.getAllAngularRootElements=()=>t.getAllRootElements(),On.frameworkStabilizers||(On.frameworkStabilizers=[]),On.frameworkStabilizers.push(i=>{const r=On.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&i(s)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Tl().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:aj,useClass:Tk,deps:[Ge,Ck,Iw]},{provide:Tk,useClass:Tk,deps:[Ge,Ck,Iw]}],Ez=[{provide:dA,useValue:"root"},{provide:As,useFactory:function Gse(){return new As},deps:[]},{provide:oS,useClass:jse,multi:!0,deps:[Ct,Ge,Oo]},{provide:oS,useClass:Wse,multi:!0,deps:[Ct]},lS,mz,hz,{provide:Vg,useExisting:lS},{provide:az,useClass:Mse,deps:[]},[]];let Iz=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:W0,useValue:e.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(Y(Qse,12))}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({providers:[...Ez,...xz],imports:[bc,Tre]})}}return n})(),Tz=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct))}}static{this.\u0275prov=Ie({token:n,factory:function(i){let r=null;return r=i?new i:function Xse(){return new Tz(Y(Ct))}(),r},providedIn:"root"})}}return n})();typeof window<"u"&&window;let fS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:function(i){let r=null;return r=i?new(i||n):Y(kz),r},providedIn:"root"})}}return n})(),kz=(()=>{class n extends fS{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Lr.NONE:return i;case Lr.HTML:return Ca(i,"HTML")?ts(i):_2(this._doc,String(i)).toString();case Lr.STYLE:return Ca(i,"Style")?ts(i):i;case Lr.SCRIPT:if(Ca(i,"Script"))return ts(i);throw new he(5200,!1);case Lr.URL:return Ca(i,"URL")?ts(i):V0(String(i));case Lr.RESOURCE_URL:if(Ca(i,"ResourceURL"))return ts(i);throw new he(5201,!1);default:throw new he(5202,!1)}}bypassSecurityTrustHtml(e){return function UX(n){return new OX(n)}(e)}bypassSecurityTrustStyle(e){return function jX(n){return new NX(n)}(e)}bypassSecurityTrustScript(e){return function zX(n){return new FX(n)}(e)}bypassSecurityTrustUrl(e){return function HX(n){return new LX(n)}(e)}bypassSecurityTrustResourceUrl(e){return function WX(n){return new VX(n)}(e)}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct))}}static{this.\u0275prov=Ie({token:n,factory:function(i){let r=null;return r=i?new i:function tae(n){return new kz(n.get(Ct))}(Y(Fn)),r},providedIn:"root"})}}return n})();function mS(n){return!!n&&(n instanceof at||F(n.lift)&&F(n.subscribe))}const{isArray:nae}=Array,{getPrototypeOf:iae,prototype:rae,keys:oae}=Object;function Dz(n){if(1===n.length){const t=n[0];if(nae(t))return{args:t,keys:null};if(function sae(n){return n&&"object"==typeof n&&iae(n)===rae}(t)){const e=oae(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:aae}=Array;function pS(n){return me(t=>function cae(n,t){return aae(t)?n(...t):n(t)}(n,t))}function Rz(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function du(...n){const t=Qo(n),e=Ko(n),{args:i,keys:r}=Dz(n);if(0===i.length)return C([],t);const o=new at(function lae(n,t,e=Gt){return i=>{Mz(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)Mz(t,()=>{const l=C(n[c],t);let d=!1;l.subscribe(pe(i,u=>{o[c]=u,d||(d=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>Rz(r,s):Gt));return e?o.pipe(pS(e)):o}function Mz(n,t,e){n?$i(e,n,t):t()}const qw=Ne(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Of(...n){return function dae(){return tr(1)}()(C(n,Qo(n)))}function Nf(n){return new at(t=>{$t(n()).subscribe(t)})}function Al(n,t){const e=F(n)?n:()=>n,i=r=>r.error(e());return new at(t?r=>t.schedule(i,0,r):i)}function gS(){return ee((n,t)=>{let e=null;n._refCount++;const i=pe(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Gw extends at{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,oe(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new kt;const e=this.getSubject();t.add(this.source.subscribe(pe(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=kt.EMPTY)}return t}refCount(){return gS()(this)}}function Ln(n){return n<=0?()=>ei:ee((t,e)=>{let i=0;t.subscribe(pe(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function oa(...n){const t=Qo(n);return ee((e,i)=>{(t?Of(n,e,t):Of(n,e)).subscribe(i)})}function Zt(n,t){return ee((e,i)=>{let r=0;e.subscribe(pe(i,o=>n.call(t,o,r++)&&i.next(o)))})}function $w(n){return ee((t,e)=>{let i=!1;t.subscribe(pe(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Pz(n=uae){return ee((t,e)=>{let i=!1;t.subscribe(pe(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function uae(){return new qw}function kl(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Zt((r,o)=>n(r,o,i)):Gt,Ln(1),e?$w(t):Pz(()=>new qw))}function Ff(n,t){return F(t)?Wn(n,t,1):Wn(n,1)}function Ii(n,t,e){const i=F(n)||t||e?{next:n,error:t,complete:e}:n;return i?ee((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(pe(o,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),o.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):Gt}function hn(n){return ee((t,e)=>{let o,i=null,r=!1;i=t.subscribe(pe(e,void 0,void 0,s=>{o=$t(n(s,hn(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Kw(n,t){return ee(function hae(n,t,e,i,r){return(o,s)=>{let a=e,c=t,l=0;o.subscribe(pe(s,d=>{const u=l++;c=a?n(c,d,u):(a=!0,d),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(n,t,arguments.length>=2,!0))}function _S(n){return n<=0?()=>ei:ee((t,e)=>{let i=[];t.subscribe(pe(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Qw(n){return me(()=>n)}function Lf(n){return ee((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function ri(n){return ee((t,e)=>{$t(n).subscribe(pe(e,()=>e.complete(),Ye)),!e.closed&&t.subscribe(e)})}const Nt="primary",p_=Symbol("RouteTitle");class mae{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Vf(n){return new mae(n)}function pae(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Pa(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Oz(n[r],t[r]))return!1;return!0}function Oz(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function Nz(n){return n.length>0?n[n.length-1]:null}function Sl(n){return mS(n)?n:Qg(n)?C(Promise.resolve(n)):M(n)}const _ae={exact:function Vz(n,t,e){if(!uu(n.segments,t.segments)||!Yw(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Vz(n.children[i],t.children[i],e))return!1;return!0},subset:Bz},Fz={exact:function bae(n,t){return Pa(n,t)},subset:function vae(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Oz(n[e],t[e]))},ignored:()=>!0};function Lz(n,t,e){return _ae[e.paths](n.root,t.root,e.matrixParams)&&Fz[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Bz(n,t,e){return Uz(n,t,t.segments,e)}function Uz(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!uu(r,e)||t.hasChildren()||!Yw(r,e,i))}if(n.segments.length===e.length){if(!uu(n.segments,e)||!Yw(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Bz(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(uu(n.segments,r)&&Yw(n.segments,r,i)&&n.children[Nt])&&Uz(n.children[Nt],t,o,i)}}function Yw(n,t,e){return t.every((i,r)=>Fz[e](n[r].parameters,i.parameters))}class Bf{constructor(t=new Dn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vf(this.queryParams)),this._queryParamMap}toString(){return xae.serialize(this)}}class Dn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xw(this)}}class g_{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Vf(this.parameters)),this._parameterMap}toString(){return Hz(this)}}function uu(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let __=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:function(){return new bS},providedIn:"root"})}}return n})();class bS{parse(t){const e=new Pae(t);return new Bf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${b_(t.root,!0)}`,i=function Tae(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Jw(e)}=${Jw(r)}`).join("&"):`${Jw(e)}=${Jw(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Eae(n){return encodeURI(n)}(t.fragment)}`:""}`}}const xae=new bS;function Xw(n){return n.segments.map(t=>Hz(t)).join("/")}function b_(n,t){if(!n.hasChildren())return Xw(n);if(t){const e=n.children[Nt]?b_(n.children[Nt],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Nt&&i.push(`${r}:${b_(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function wae(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Nt&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Nt&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Nt?[b_(n.children[Nt],!1)]:[`${r}:${b_(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Nt]?`${Xw(n)}/${e[0]}`:`${Xw(n)}/(${e.join("//")})`}}function jz(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jw(n){return jz(n).replace(/%3B/gi,";")}function vS(n){return jz(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zw(n){return decodeURIComponent(n)}function zz(n){return Zw(n.replace(/\+/g,"%20"))}function Hz(n){return`${vS(n.path)}${function Iae(n){return Object.keys(n).map(t=>`;${vS(t)}=${vS(n[t])}`).join("")}(n.parameters)}`}const Cae=/^[^\/()?;#]+/;function yS(n){const t=n.match(Cae);return t?t[0]:""}const Aae=/^[^\/()?;=#]+/,Sae=/^[^=?&#]+/,Rae=/^[^&#]+/;class Pae{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dn([],{}):new Dn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Nt]=new Dn(t,e)),i}parseSegment(){const t=yS(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new he(4009,!1);return this.capture(t),new g_(Zw(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function kae(n){const t=n.match(Aae);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=yS(this.remaining);r&&(i=r,this.capture(i))}t[Zw(e)]=Zw(i)}parseQueryParam(t){const e=function Dae(n){const t=n.match(Sae);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function Mae(n){const t=n.match(Rae);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=zz(e),o=zz(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=yS(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new he(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Nt);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[Nt]:new Dn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new he(4011,!1)}}function Wz(n){return n.segments.length>0?new Dn([],{[Nt]:n}):n}function qz(n){const t={};for(const i of Object.keys(n.children)){const o=qz(n.children[i]);if(i===Nt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function Oae(n){if(1===n.numberOfChildren&&n.children[Nt]){const t=n.children[Nt];return new Dn(n.segments.concat(t.segments),t.children)}return n}(new Dn(n.segments,t))}function hu(n){return n instanceof Bf}function Gz(n){let t;const r=Wz(function e(o){const s={};for(const c of o.children){const l=e(c);s[c.outlet]=l}const a=new Dn(o.url,s);return o===n&&(t=a),a}(n.root));return t??r}function $z(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return wS(r,r,r,e,i);const o=function Fae(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Qz(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new Qz(e,t,i)}(t);if(o.toRoot())return wS(r,r,new Dn([],{}),e,i);const s=function Lae(n,t,e){if(n.isAbsolute)return new tx(t,!0,0);if(!e)return new tx(t,!1,NaN);if(null===e.parent)return new tx(e,!0,0);const i=ex(n.commands[0])?0:1;return function Vae(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new he(4005,!1);r=i.segments.length}return new tx(i,!1,r-o)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?y_(s.segmentGroup,s.index,o.commands):Yz(s.segmentGroup,s.index,o.commands);return wS(r,s.segmentGroup,a,e,i)}function ex(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function v_(n){return"object"==typeof n&&null!=n&&n.outlets}function wS(n,t,e,i,r){let s,o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`}),s=n===t?e:Kz(n,t,e);const a=Wz(qz(s));return new Bf(a,o,r)}function Kz(n,t,e){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===t?e:Kz(o,t,e)}),new Dn(n.segments,i)}class Qz{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&ex(i[0]))throw new he(4003,!1);const r=i.find(v_);if(r&&r!==Nz(i))throw new he(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tx{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Yz(n,t,e){if(n||(n=new Dn([],{})),0===n.segments.length&&n.hasChildren())return y_(n,t,e);const i=function Uae(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(v_(a))break;const c=`${a}`,l=i<e.length-1?e[i+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!Jz(c,l,s))return o;i+=2}else{if(!Jz(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Dn(n.segments.slice(0,i.pathIndex),{});return o.children[Nt]=new Dn(n.segments.slice(i.pathIndex),n.children),y_(o,0,r)}return i.match&&0===r.length?new Dn(n.segments,{}):i.match&&!n.hasChildren()?xS(n,t,e):i.match?y_(n,0,r):xS(n,t,e)}function y_(n,t,e){if(0===e.length)return new Dn(n.segments,{});{const i=function Bae(n){return v_(n[0])?n[0].outlets:{[Nt]:n}}(e),r={};if(Object.keys(i).some(o=>o!==Nt)&&n.children[Nt]&&1===n.numberOfChildren&&0===n.children[Nt].segments.length){const o=y_(n.children[Nt],t,e);return new Dn(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=Yz(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Dn(n.segments,r)}}function xS(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(v_(o)){const c=jae(o.outlets);return new Dn(i,c)}if(0===r&&ex(e[0])){i.push(new g_(n.segments[t].path,Xz(e[0]))),r++;continue}const s=v_(o)?o.outlets[Nt]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&ex(a)?(i.push(new g_(s,Xz(a))),r+=2):(i.push(new g_(s,{})),r++)}return new Dn(i,{})}function jae(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=xS(new Dn([],{}),0,i))}),t}function Xz(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function Jz(n,t,e){return n==e.path&&Pa(t,e.parameters)}const w_="imperative";class Oa{constructor(t,e){this.id=t,this.url=e}}class nx extends Oa{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dl extends Oa{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class x_ extends Oa{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Uf extends Oa{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class ix extends Oa{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zz extends Oa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zae extends Oa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hae extends Oa{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wae extends Oa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qae extends Oa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gae{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $ae{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kae{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qae{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yae{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xae{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e4{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ES{}class IS{constructor(t){this.url=t}}class Jae{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new E_,this.attachRef=null}}let E_=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Jae,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class t4{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=TS(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=TS(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=CS(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return CS(t,this._root).map(e=>e.value)}}function TS(n,t){if(n===t.value)return t;for(const e of t.children){const i=TS(n,e);if(i)return i}return null}function CS(n,t){if(n===t.value)return[t];for(const e of t.children){const i=CS(n,e);if(i.length)return i.unshift(t),i}return[]}class vc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function jf(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class n4 extends t4{constructor(t,e){super(t),this.snapshot=e,AS(this,t)}toString(){return this.snapshot.toString()}}function r4(n,t){const e=function Zae(n,t){const s=new rx([],{},{},"",{},Nt,t,null,{});return new s4("",new vc(s,[]))}(0,t),i=new k([new g_("",{})]),r=new k({}),o=new k({}),s=new k({}),a=new k(""),c=new zf(i,r,s,a,o,Nt,t,e.root);return c.snapshot=e.root,new n4(new vc(c,[]),e)}class zf{constructor(t,e,i,r,o,s,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(me(l=>l[p_]))??M(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(me(t=>Vf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(me(t=>Vf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function o4(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function ece(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class rx{get title(){return this.data?.[p_]}constructor(t,e,i,r,o,s,a,c,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class s4 extends t4{constructor(t,e){super(e),this.url=t,AS(this,e)}toString(){return a4(this._root)}}function AS(n,t){t.value._routerState=n,t.children.forEach(e=>AS(n,e))}function a4(n){const t=n.children.length>0?` { ${n.children.map(a4).join(", ")} } `:"";return`${n.value}${t}`}function kS(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Pa(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Pa(t.params,e.params)||n.paramsSubject.next(e.params),function gae(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Pa(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Pa(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function SS(n,t){const e=Pa(n.params,t.params)&&function yae(n,t){return uu(n,t)&&n.every((e,i)=>Pa(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||SS(n.parent,t.parent))}let DS=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Nt,this.activateEvents=new jt,this.deactivateEvents=new jt,this.attachEvents=new jt,this.detachEvents=new jt,this.parentContexts=De(E_),this.location=De(Ar),this.changeDetector=De(Vo),this.environmentInjector=De(ns),this.inputBinder=De(ox,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new he(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new he(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new he(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new he(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new tce(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Pi]})}}return n})();class tce{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===zf?this.route:t===E_?this.childContexts:this.parent.get(t,e)}}const ox=new de("");let c4=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=du([i.queryParams,i.params,i.data]).pipe(ke(([o,s,a],c)=>(a={...o,...s,...a},0===c?M(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const s=function Lre(n){const t=Qt(n);if(!t)return null;const e=new Wg(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();function I_(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function ice(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return I_(n,i,r);return I_(n,i)})}(n,t,e);return new vc(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>I_(n,a)),s}}const i=function rce(n){return new zf(new k(n.url),new k(n.params),new k(n.queryParams),new k(n.fragment),new k(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>I_(n,o));return new vc(i,r)}}const RS="ngNavigationCancelingError";function l4(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=hu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=d4(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function d4(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[RS]=!0,i.cancellationCode=t,e&&(i.url=e),i}function u4(n){return n&&n[RS]}let h4=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ht({type:n,selectors:[["ng-component"]],standalone:!0,features:[fU],decls:1,vars:0,template:function(i,r){1&i&&et(0,"router-outlet")},dependencies:[DS],encapsulation:2})}}return n})();function MS(n){const t=n.children&&n.children.map(MS),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Nt&&(e.component=h4),e}function sa(n){return n.outlet||Nt}function T_(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class hce{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),kS(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=jf(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=jf(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=jf(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=jf(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Xae(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Qae(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(kS(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),kS(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=T_(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class f4{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class sx{constructor(t,e){this.component=t,this.route=e}}function fce(n,t,e){const i=n._root;return C_(i,t?t._root:null,e,[i.value])}function Hf(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function my(n){return null!==xh(n)}(n)?t.get(n):n:i}function C_(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=jf(t);return n.children.forEach(s=>{(function pce(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function gce(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!uu(n.url,t.url);case"pathParamsOrQueryParamsChange":return!uu(n.url,t.url)||!Pa(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!SS(n,t)||!Pa(n.queryParams,t.queryParams);default:return!SS(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new f4(i)):(o.data=s.data,o._resolvedData=s._resolvedData),C_(n,t,o.component?a?a.children:null:e,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new sx(a.outlet.component,s))}else s&&A_(t,a,r),r.canActivateChecks.push(new f4(i)),C_(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>A_(a,e.getContext(s),r)),r}function A_(n,t,e){const i=jf(n),r=n.value;Object.entries(i).forEach(([o,s])=>{A_(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new sx(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function k_(n){return"function"==typeof n}function m4(n){return n instanceof qw||"EmptyError"===n?.name}const ax=Symbol("INITIAL_VALUE");function Wf(){return ke(n=>du(n.map(t=>t.pipe(Ln(1),oa(ax)))).pipe(me(t=>{for(const e of t)if(!0!==e){if(e===ax)return ax;if(!1===e||e instanceof Bf)return e}return!0}),Zt(t=>t!==ax),Ln(1)))}function p4(n){return jn(Ii(t=>{if(hu(t))throw l4(0,t)}),me(t=>!0===t))}class cx{constructor(t){this.segmentGroup=t||null}}class g4{constructor(t){this.urlTree=t}}function qf(n){return Al(new cx(n))}function _4(n){return Al(new g4(n))}class Fce{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new he(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return M(i);if(r.numberOfChildren>1||!r.children[Nt])return Al(new he(4e3,!1));r=r.children[Nt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Bf(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,i,r)}),new Dn(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new he(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const PS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Lce(n,t,e,i,r){const o=OS(n,t,e);return o.matched?(i=function sce(n,t){return n.providers&&!n._injector&&(n._injector=lk(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function Pce(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?M(r.map(s=>{const a=Hf(s,n);return Sl(function xce(n){return n&&k_(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(Wf(),p4()):M(!0)}(i,t,e).pipe(me(s=>!0===s?o:{...PS}))):M(o)}function OS(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...PS}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||pae)(e,n,t);if(!r)return{...PS};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function b4(n,t,e,i){return e.length>0&&function Uce(n,t,e){return e.some(i=>lx(n,t,i)&&sa(i)!==Nt)}(n,e,i)?{segmentGroup:new Dn(t,Bce(i,new Dn(e,n.children))),slicedSegments:[]}:0===e.length&&function jce(n,t,e){return e.some(i=>lx(n,t,i))}(n,e,i)?{segmentGroup:new Dn(n.segments,Vce(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Dn(n.segments,n.children),slicedSegments:e}}function Vce(n,t,e,i,r){const o={};for(const s of i)if(lx(n,e,s)&&!r[sa(s)]){const a=new Dn([],{});o[sa(s)]=a}return{...r,...o}}function Bce(n,t){const e={};e[Nt]=t;for(const i of n)if(""===i.path&&sa(i)!==Nt){const r=new Dn([],{});e[sa(i)]=r}return e}function lx(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class qce{constructor(t,e,i,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Fce(this.urlSerializer,this.urlTree)}noMatchError(t){return new he(4002,!1)}recognize(){const t=b4(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Nt).pipe(hn(e=>{if(e instanceof g4)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof cx?this.noMatchError(e):e}),me(e=>{const i=new rx([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Nt,this.rootComponentType,null,{}),r=new vc(i,e),o=new s4("",r),s=function Nae(n,t,e=null,i=null){return $z(Gz(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Nt).pipe(hn(i=>{throw i instanceof cx?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=o4(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return C(r).pipe(Ff(o=>{const s=i.children[o],a=function dce(n,t){const e=n.filter(i=>sa(i)===t);return e.push(...n.filter(i=>sa(i)!==t)),e}(e,o);return this.processSegmentGroup(t,a,s,o)}),Kw((o,s)=>(o.push(...s),o)),$w(null),function fae(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Zt((r,o)=>n(r,o,i)):Gt,_S(1),e?$w(t):Pz(()=>new qw))}(),Wn(o=>{if(null===o)return qf(i);const s=v4(o);return function Gce(n){n.sort((t,e)=>t.value.outlet===Nt?-1:e.value.outlet===Nt?1:t.value.outlet.localeCompare(e.value.outlet))}(s),M(s)}))}processSegment(t,e,i,r,o,s){return C(e).pipe(Ff(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,r,o,s).pipe(hn(c=>{if(c instanceof cx)return M(null);throw c}))),kl(a=>!!a),hn(a=>{if(m4(a))return function Hce(n,t,e){return 0===t.length&&!n.children[e]}(i,r,o)?M([]):qf(i);throw a}))}processSegmentAgainstRoute(t,e,i,r,o,s,a){return function zce(n,t,e,i){return!!(sa(n)===i||i!==Nt&&lx(t,e,n))&&("**"===n.path||OS(t,n,e).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s):qf(r):qf(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?_4(o):this.applyRedirects.lineralizeSegments(i,o).pipe(Wn(s=>{const a=new Dn(s,{});return this.processSegment(t,e,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:d}=OS(e,r,o);if(!a)return qf(e);const u=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,d);return r.redirectTo.startsWith("/")?_4(u):this.applyRedirects.lineralizeSegments(r,u).pipe(Wn(p=>this.processSegment(t,i,e,p.concat(l),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o,s){let a;if("**"===i.path){const c=r.length>0?Nz(r).parameters:{};a=M({snapshot:new rx(r,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,y4(i),sa(i),i.component??i._loadedComponent??null,i,w4(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=Lce(e,i,r,t).pipe(me(({matched:c,consumedSegments:l,remainingSegments:d,parameters:u})=>c?{snapshot:new rx(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,y4(i),sa(i),i.component??i._loadedComponent??null,i,w4(i)),consumedSegments:l,remainingSegments:d}:null));return a.pipe(ke(c=>null===c?qf(e):this.getChildConfig(t=i._injector??t,i,r).pipe(ke(({routes:l})=>{const d=i._loadedInjector??t,{snapshot:u,consumedSegments:p,remainingSegments:b}=c,{segmentGroup:v,slicedSegments:w}=b4(e,p,b,l);if(0===w.length&&v.hasChildren())return this.processChildren(d,l,v).pipe(me(P=>null===P?null:[new vc(u,P)]));if(0===l.length&&0===w.length)return M([new vc(u,[])]);const x=sa(i)===o;return this.processSegment(d,l,v,w,x?Nt:o,!0).pipe(me(P=>[new vc(u,P)]))}))))}getChildConfig(t,e,i){return e.children?M({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?M({routes:e._loadedRoutes,injector:e._loadedInjector}):function Mce(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?M(!0):M(r.map(s=>{const a=Hf(s,n);return Sl(function bce(n){return n&&k_(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(Wf(),p4())}(t,e,i).pipe(Wn(r=>r?this.configLoader.loadChildren(t,e).pipe(Ii(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Nce(n){return Al(d4(!1,3))}())):M({routes:[],injector:t})}}function $ce(n){const t=n.value.routeConfig;return t&&""===t.path}function v4(n){const t=[],e=new Set;for(const i of n){if(!$ce(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=v4(i.children);t.push(new vc(i.value,r))}return t.filter(i=>!e.has(i))}function y4(n){return n.data||{}}function w4(n){return n.resolve||{}}function x4(n){return"string"==typeof n.title||null===n.title}function NS(n){return ke(t=>{const e=n(t);return e?C(e).pipe(me(()=>t)):M(t)})}const Gf=new de("ROUTES");let FS=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=De(ij)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return M(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Sl(e.loadComponent()).pipe(me(E4),Ii(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Lf(()=>{this.componentLoaders.delete(e)})),r=new Gw(i,()=>new K).pipe(gS());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return M({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function ele(n,t,e,i){return Sl(n.loadChildren()).pipe(me(E4),Wn(r=>r instanceof uU||Array.isArray(r)?M(r):C(t.compileModuleAsync(r))),me(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(e).injector,s=o.get(Gf,[],{optional:!0,self:!0}).flat()),{routes:s.map(MS),injector:o}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Lf(()=>{this.childrenLoaders.delete(i)})),s=new Gw(o,()=>new K).pipe(gS());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function E4(n){return function tle(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let dx=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new K,this.transitionAbortSubject=new K,this.configLoader=De(FS),this.environmentInjector=De(ns),this.urlSerializer=De(__),this.rootContexts=De(E_),this.inputBindingEnabled=null!==De(ox,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>M(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new $ae(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Gae(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new k({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:w_,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zt(o=>0!==o.id),me(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),ke(o=>{this.currentTransition=o;let s=!1,a=!1;return M(o).pipe(Ii(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ke(c=>{const l=c.currentBrowserUrl.toString(),d=!e.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const p="";return this.events.next(new Uf(c.id,this.urlSerializer.serialize(c.rawUrl),p,0)),c.resolve(null),ei}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return M(c).pipe(ke(p=>{const b=this.transitions?.getValue();return this.events.next(new nx(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),b!==this.transitions?.getValue()?ei:Promise.resolve(p)}),function Kce(n,t,e,i,r,o){return Wn(s=>function Wce(n,t,e,i,r,o,s="emptyOnly"){return new qce(n,t,e,i,r,s,o).recognize()}(n,t,e,i,s.extractedUrl,r,o).pipe(me(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Ii(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const b=new Zz(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(b)}));if(d&&e.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:p,extractedUrl:b,source:v,restoredState:w,extras:x}=c,P=new nx(p,this.urlSerializer.serialize(b),v,w);this.events.next(P);const S=r4(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:S,urlAfterRedirects:b,extras:{...x,skipLocationChange:!1,replaceUrl:!1}},M(o)}{const p="";return this.events.next(new Uf(c.id,this.urlSerializer.serialize(c.extractedUrl),p,1)),c.resolve(null),ei}}),Ii(c=>{const l=new zae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),me(c=>(this.currentTransition=o={...c,guards:fce(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function Ice(n,t){return Wn(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?M({...e,guardsResult:!0}):function Tce(n,t,e,i){return C(n).pipe(Wn(r=>function Rce(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?M(o.map(a=>{const c=T_(t)??r,l=Hf(a,c);return Sl(function wce(n){return n&&k_(n.canDeactivate)}(l)?l.canDeactivate(n,t,e,i):c.runInContext(()=>l(n,t,e,i))).pipe(kl())})).pipe(Wf()):M(!0)}(r.component,r.route,e,t,i)),kl(r=>!0!==r,!0))}(s,i,r,n).pipe(Wn(a=>a&&function _ce(n){return"boolean"==typeof n}(a)?function Cce(n,t,e,i){return C(t).pipe(Ff(r=>Of(function kce(n,t){return null!==n&&t&&t(new Kae(n)),M(!0)}(r.route.parent,i),function Ace(n,t){return null!==n&&t&&t(new Yae(n)),M(!0)}(r.route,i),function Dce(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function mce(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>Nf(()=>M(s.guards.map(c=>{const l=T_(s.node)??e,d=Hf(c,l);return Sl(function yce(n){return n&&k_(n.canActivateChild)}(d)?d.canActivateChild(i,n):l.runInContext(()=>d(i,n))).pipe(kl())})).pipe(Wf())));return M(o).pipe(Wf())}(n,r.path,e),function Sce(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return M(!0);const r=i.map(o=>Nf(()=>{const s=T_(t)??e,a=Hf(o,s);return Sl(function vce(n){return n&&k_(n.canActivate)}(a)?a.canActivate(t,n):s.runInContext(()=>a(t,n))).pipe(kl())}));return M(r).pipe(Wf())}(n,r.route,e))),kl(r=>!0!==r,!0))}(i,o,n,t):M(a)),me(a=>({...e,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Ii(c=>{if(o.guardsResult=c.guardsResult,hu(c.guardsResult))throw l4(0,c.guardsResult);const l=new Hae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Zt(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),NS(c=>{if(c.guards.canActivateChecks.length)return M(c).pipe(Ii(l=>{const d=new Wae(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),ke(l=>{let d=!1;return M(l).pipe(function Qce(n,t){return Wn(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return M(e);let o=0;return C(r).pipe(Ff(s=>function Yce(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!x4(r)&&(o[p_]=r.title),function Xce(n,t,e,i){const r=function Jce(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return M({});const o={};return C(r).pipe(Wn(s=>function Zce(n,t,e,i){const r=T_(t)??i,o=Hf(n,r);return Sl(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[s],t,e,i).pipe(kl(),Ii(a=>{o[s]=a}))),_S(1),Qw(o),hn(s=>m4(s)?ei:Al(s)))}(o,n,t,i).pipe(me(s=>(n._resolvedData=s,n.data=o4(n,e).resolve,r&&x4(r)&&(n.data[p_]=r.title),null)))}(s.route,i,n,t)),Ii(()=>o++),_S(1),Wn(s=>o===r.length?M(e):ei))})}(e.paramsInheritanceStrategy,this.environmentInjector),Ii({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),Ii(l=>{const d=new qae(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),NS(c=>{const l=d=>{const u=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ii(p=>{d.component=p}),me(()=>{})));for(const p of d.children)u.push(...l(p));return u};return du(l(c.targetSnapshot.root)).pipe($w(),Ln(1))}),NS(()=>this.afterPreactivation()),me(c=>{const l=function nce(n,t,e){const i=I_(n,t._root,e?e._root:void 0);return new n4(i,t)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},o}),Ii(()=>{this.events.next(new ES)}),((n,t,e,i)=>me(r=>(new hce(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ln(1),Ii({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Dl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),ri(this.transitionAbortSubject.pipe(Ii(c=>{throw c}))),Lf(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),hn(c=>{if(a=!0,u4(c))this.events.next(new x_(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function oce(n){return u4(n)&&hu(n.url)}(c)?this.events.next(new IS(c.url)):o.resolve(!1);else{this.events.next(new ix(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(c))}catch(l){o.reject(l)}}return ei}))}))}cancelNavigationTransition(e,i,r){const o=new x_(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function I4(n){return n!==w_}let T4=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Nt);return i}getResolvedTitleForRoute(e){return e.data[p_]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:function(){return De(nle)},providedIn:"root"})}}return n})(),nle=(()=>{class n extends T4{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(Y(Tz))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ile=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:function(){return De(ole)},providedIn:"root"})}}return n})();class rle{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let ole=(()=>{class n extends rle{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(n)))(r||n)}}()}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const ux=new de("",{providedIn:"root",factory:()=>({})});let sle=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:function(){return De(ale)},providedIn:"root"})}}return n})(),ale=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var S_=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(S_||{});function C4(n,t){n.events.pipe(Zt(e=>e instanceof Dl||e instanceof x_||e instanceof ix||e instanceof Uf),me(e=>e instanceof Dl||e instanceof Uf?S_.COMPLETE:e instanceof x_&&(0===e.code||1===e.code)?S_.REDIRECTING:S_.FAILED),Zt(e=>e!==S_.REDIRECTING),Ln(1)).subscribe(()=>{t()})}function cle(n){throw n}function lle(n,t,e){return t.parse("/")}const dle={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ule={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let eo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=De(nj),this.isNgZoneEnabled=!1,this._events=new K,this.options=De(ux,{optional:!0})||{},this.pendingTasks=De(xw),this.errorHandler=this.options.errorHandler||cle,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||lle,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=De(sle),this.routeReuseStrategy=De(ile),this.titleStrategy=De(T4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=De(Gf,{optional:!0})?.flat()??[],this.navigationTransitions=De(dx),this.urlSerializer=De(__),this.location=De(l_),this.componentInputBindingEnabled=!!De(ox,{optional:!0}),this.eventsSubscription=new kt,this.isNgZoneEnabled=De(Ge)instanceof Ge&&Ge.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Bf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=r4(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(A4(i)&&this._events.next(i));if(i instanceof nx)I4(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Uf)this.rawUrlTree=r.rawUrl;else if(i instanceof Zz){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof ES)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof x_)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof IS){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||I4(r.source)};this.scheduleNavigation(o,w_,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof ix&&this.restoreHistory(r,!0),i instanceof Dl&&(this.navigated=!0),A4(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),w_,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(MS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s;let u,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{u=Gz(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),u=this.currentUrlTree.root}return $z(u,e,d,l??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=hu(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,w_,null,i)}navigate(e,i={skipLocationChange:!1}){return function hle(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new he(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...dle}:!1===i?{...ule}:i,hu(e))return Lz(this.currentUrlTree,e,r);const o=this.parseUrl(e);return Lz(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((u,p)=>{a=u,c=p});const d=this.pendingTasks.add();return C4(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(u=>Promise.reject(u))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function A4(n){return!(n instanceof ES||n instanceof IS)}let $f=(()=>{class n{constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new K,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=e.events.subscribe(l=>{l instanceof Dl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function w2(n,t,e){return function rJ(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?y2:v2}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(O(eo),O(zf),vl("tabindex"),O(lc),O(ft),O(lu))}}static{this.\u0275dir=_e({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Me("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&Sn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Mf],skipLocationChange:["skipLocationChange","skipLocationChange",Mf],replaceUrl:["replaceUrl","replaceUrl",Mf],routerLink:"routerLink"},standalone:!0,features:[RV,Pi]})}}return n})();class k4{}let ple=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Zt(e=>e instanceof Dl),Ff(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=lk(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return C(r).pipe(tr())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):M(null);const o=r.pipe(Wn(s=>null===s?M(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return i.loadComponent&&!i._loadedComponent?C([o,this.loader.loadComponent(i)]).pipe(tr()):o})}static{this.\u0275fac=function(i){return new(i||n)(Y(eo),Y(ij),Y(ns),Y(k4),Y(FS))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const LS=new de("");let S4=(()=>{class n{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof nx?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Dl?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Uf&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof e4&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new e4(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){Ug()}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();function yc(n,t){return{\u0275kind:n,\u0275providers:t}}function R4(){const n=De(Fn);return t=>{const e=n.get(hc);if(t!==e.components[0])return;const i=n.get(eo),r=n.get(M4);1===n.get(VS)&&i.initialNavigation(),n.get(P4,null,Ht.Optional)?.setUpPreloading(),n.get(LS,null,Ht.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const M4=new de("",{factory:()=>new K}),VS=new de("",{providedIn:"root",factory:()=>1}),P4=new de("");function vle(n){return yc(0,[{provide:P4,useExisting:ple},{provide:k4,useExisting:n}])}const O4=new de("ROUTER_FORROOT_GUARD"),wle=[l_,{provide:__,useClass:bS},eo,E_,{provide:zf,useFactory:function D4(n){return n.routerState.root},deps:[eo]},FS,[]];function xle(){return new dj("Router",eo)}let N4=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[wle,[],{provide:Gf,multi:!0,useValue:e},{provide:O4,useFactory:Cle,deps:[[eo,new Fr,new Ag]]},{provide:ux,useValue:i||{}},i?.useHash?{provide:lu,useClass:zre}:{provide:lu,useClass:jj},{provide:LS,useFactory:()=>{const n=De(ise),t=De(Ge),e=De(ux),i=De(dx),r=De(__);return e.scrollOffset&&n.setOffset(e.scrollOffset),new S4(r,i,n,t,e)}},i?.preloadingStrategy?vle(i.preloadingStrategy).\u0275providers:[],{provide:dj,multi:!0,useFactory:xle},i?.initialNavigation?Ale(i):[],i?.bindToComponentInputs?yc(8,[c4,{provide:ox,useExisting:c4}]).\u0275providers:[],[{provide:F4,useFactory:R4},{provide:Sk,multi:!0,useExisting:F4}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Gf,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||n)(Y(O4,8))}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({})}}return n})();function Cle(n){return"guarded"}function Ale(n){return["disabled"===n.initialNavigation?yc(3,[{provide:ww,multi:!0,useFactory:()=>{const t=De(eo);return()=>{t.setUpLocationChangeListener()}}},{provide:VS,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?yc(2,[{provide:VS,useValue:0},{provide:ww,multi:!0,deps:[Fn],useFactory:t=>{const e=t.get(Ure,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(eo),o=t.get(M4);C4(r,()=>{i(!0)}),t.get(dx).afterPreactivation=()=>(i(!0),o.closed?M(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const F4=new de("");var to=rt(631);(0,to.registerVersion)("firebase","10.14.1","app");class Rle extends kt{constructor(t,e){super()}schedule(t,e=0){return this}}const hx={setInterval(n,t,...e){const{delegate:i}=hx;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=hx;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class fx extends Rle{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return hx.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&hx.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Ke(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const BS={now:()=>(BS.delegate||Date).now(),delegate:void 0};class D_{constructor(t,e=D_.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}D_.now=BS.now;class mx extends D_{constructor(t,e=D_.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Ole=new class Ple extends mx{}(class Mle extends fx{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),Kf=new mx(fx),Nle=Kf,fu=new wl("ANGULARFIRE2_VERSION");function L4(n,t,e){if(t){if(1===t.length)return t[0];const o=t.filter(s=>s.app===e);if(1===o.length)return o[0]}return e.container.getProvider(n).getImmediate({optional:!0})}const US=(n,t)=>{const e=t?[t]:(0,to.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i};class px{constructor(){return US(Fle)}}const Fle="app-check";function Qf(){}class V4{zone;delegate;constructor(t,e=Ole){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{t.apply(this,[s])})},e,i)}}class Lle{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qf,{},Qf,Qf)),e.pipe(Ii({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let R_=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new V4(Zone.current)),this.insideAngular=e.run(()=>new V4(Zone.current,Kf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(Y(Ge))};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yf(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function mu(n){return Yf().ngZone.run(()=>n())}function as(n){return function Ble(n){return function(e){return(e=e.lift(new Lle(n.ngZone))).pipe(wr(n.outsideAngular),Ri(n.insideAngular))}}(Yf())(n)}const Ule=(n,t)=>function(){const i=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),mu(()=>n.apply(void 0,i))},Ms=(n,t)=>function(){let e;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(t&&(e||=mu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qf,{},Qf,Qf))),i[o]=Ule(i[o],e));const r=function Vle(n){return Yf().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!t){if(r instanceof at){const o=Yf();return r.pipe(wr(o.outsideAngular),Ri(o.insideAngular))}return mu(()=>r)}return r instanceof at?r.pipe(as):r instanceof Promise?mu(()=>new Promise((o,s)=>r.then(a=>mu(()=>o(a)),a=>mu(()=>s(a))))):"function"==typeof r&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),r.apply(this,arguments)}:mu(()=>r)};var Rl=rt(574);Rl.A.registerVersion("firebase","10.14.1","app-compat");const Hle=["ngOnDestroy"];class B4{constructor(t){return t}}const gx=new de("angularfire2.app.options"),_x=new de("angularfire2.app.name");function jS(n,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const s=Rl.A.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>Rl.A.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;Gle("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new B4(s)}const Gle=(n,...t)=>{},$le={provide:B4,useFactory:jS,deps:[gx,Ge,[new Fr,_x]]};let Kle=(()=>{class n{static initializeApp(e,i){return{ngModule:n,providers:[{provide:gx,useValue:e},{provide:_x,useValue:i}]}}constructor(e){Rl.A.registerVersion("angularfire",fu.full,"core"),Rl.A.registerVersion("angularfire",fu.full,"app-compat"),Rl.A.registerVersion("angular",TA.full,e.toString())}static \u0275fac=function(i){return new(i||n)(Y(Oo))};static \u0275mod=ct({type:n});static \u0275inj=ut({providers:[$le]})}return n})();function U4(n,t,e,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function Qle(n,t){try{return n.toString()===t.toString()}catch{return n===t}}(r,s)||(j4("error",`${t} was already initialized on the ${e} Firebase App with different settings.${Yle?" You may need to reload as Firebase is not HMR aware.":""}`),j4("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const Yle=typeof module<"u"&&!!module.hot,j4=(n,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[],rt(46);class Xle extends K{constructor(t=1/0,e=1/0,i=BS){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=e.now();let a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}}function zS(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,z({connector:()=>new Xle(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function z4(n,t){return F(t)?ke(()=>n,t):ke(()=>n)}const H4=new de("angularfire2.auth.use-emulator"),W4=new de("angularfire2.auth.settings"),q4=new de("angularfire2.auth.tenant-id"),G4=new de("angularfire2.auth.langugage-code"),$4=new de("angularfire2.auth.use-device-language"),K4=new de("angularfire.auth.persistence"),Q4=(n,t,e,i,r,o,s,a)=>U4(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=t.runOutsideAngular(()=>n.auth());if(e&&c.useEmulator(...e),i&&(c.tenantId=i),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(const[l,d]of Object.entries(s))c.settings[l]=d;return a&&c.setPersistence(a),c},[e,i,r,o,s,a]);let Y4=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,i,r,o,s,a,c,l,d,u,p,b){const v=new K,w=M(void 0).pipe(Ri(s.outsideAngular),ke(()=>o.runOutsideAngular(()=>Promise.resolve().then(rt.bind(rt,46)))),me(()=>jS(e,o,i)),me(x=>Q4(x,o,a,l,d,u,c,p)),zS({bufferSize:1,refCount:!1}));if(jw(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=M(null);else{w.pipe(kl()).subscribe();const x=w.pipe(ke(B=>B.getRedirectResult().then($=>$,()=>null)),as,zS({bufferSize:1,refCount:!1})),P=w.pipe(ke(B=>new at($=>({unsubscribe:o.runOutsideAngular(()=>B.onAuthStateChanged(J=>$.next(J),J=>$.error(J),()=>$.complete()))})))),S=w.pipe(ke(B=>new at($=>({unsubscribe:o.runOutsideAngular(()=>B.onIdTokenChanged(J=>$.next(J),J=>$.error(J),()=>$.complete()))}))));this.authState=x.pipe(z4(P),wr(s.outsideAngular),Ri(s.insideAngular)),this.user=x.pipe(z4(S),wr(s.outsideAngular),Ri(s.insideAngular)),this.idToken=this.user.pipe(ke(B=>B?C(B.getIdToken()):M(null))),this.idTokenResult=this.user.pipe(ke(B=>B?C(B.getIdTokenResult()):M(null))),this.credential=E(x,v,this.authState.pipe(Zt(B=>!B))).pipe(me(B=>B?.user?B:null),wr(s.outsideAngular),Ri(s.insideAngular))}return((n,t,e,i={})=>new Proxy(n,{get:(r,o)=>e.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(Hle.indexOf(o)>-1)return()=>{};const s=t.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(l=>e.run(()=>l)):e.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(d=>{const u=d?.(...l);return i?.spy?.apply&&i.spy.apply(o,l,u),u})})})}))(this,w,o,{spy:{apply:(x,P,S)=>{(x.startsWith("signIn")||x.startsWith("createUser"))&&S.then(B=>v.next(B))}}})}static \u0275fac=function(i){return new(i||n)(Y(gx),Y(_x,8),Y(Oo),Y(Ge),Y(R_),Y(H4,8),Y(W4,8),Y(q4,8),Y(G4,8),Y($4,8),Y(K4,8),Y(px,8))};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function HS(){return ee((n,t)=>{let e,i=!1;n.subscribe(pe(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var pu,eH,G=rt(467),X4=rt(779),Na=rt(398),yn=rt(401),J4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z4={};(function(){var n;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(V,R,L){L||(L=0);var q=Array(16);if("string"==typeof R)for(var Q=0;16>Q;++Q)q[Q]=R.charCodeAt(L++)|R.charCodeAt(L++)<<8|R.charCodeAt(L++)<<16|R.charCodeAt(L++)<<24;else for(Q=0;16>Q;++Q)q[Q]=R[L++]|R[L++]<<8|R[L++]<<16|R[L++]<<24;var Z=V.g[3],W=(R=V.g[0])+(Z^(L=V.g[1])&((Q=V.g[2])^Z))+q[0]+3614090360&4294967295;W=(L=(Q=(Z=(R=(L=(Q=(Z=(R=(L=(Q=(Z=(R=(L=(Q=(Z=(R=(L=(Q=(Z=(R=(L=(Q=(Z=(R=(L=(Q=(Z=(R=(L=(Q=(Z=(R=(L=(Q=(Z=(R=(L=(Q=(Z=(R=(L=(Q=(Z=(R=(L=(Q=(Z=(R=(L=(Q=(Z=(R=(L=(Q=(Z=(R=(L=(Q=(Z=(R=L+(W<<7&4294967295|W>>>25))+((W=Z+(Q^R&(L^Q))+q[1]+3905402710&4294967295)<<12&4294967295|W>>>20))+((W=Q+(L^Z&(R^L))+q[2]+606105819&4294967295)<<17&4294967295|W>>>15))+((W=L+(R^Q&(Z^R))+q[3]+3250441966&4294967295)<<22&4294967295|W>>>10))+((W=R+(Z^L&(Q^Z))+q[4]+4118548399&4294967295)<<7&4294967295|W>>>25))+((W=Z+(Q^R&(L^Q))+q[5]+1200080426&4294967295)<<12&4294967295|W>>>20))+((W=Q+(L^Z&(R^L))+q[6]+2821735955&4294967295)<<17&4294967295|W>>>15))+((W=L+(R^Q&(Z^R))+q[7]+4249261313&4294967295)<<22&4294967295|W>>>10))+((W=R+(Z^L&(Q^Z))+q[8]+1770035416&4294967295)<<7&4294967295|W>>>25))+((W=Z+(Q^R&(L^Q))+q[9]+2336552879&4294967295)<<12&4294967295|W>>>20))+((W=Q+(L^Z&(R^L))+q[10]+4294925233&4294967295)<<17&4294967295|W>>>15))+((W=L+(R^Q&(Z^R))+q[11]+2304563134&4294967295)<<22&4294967295|W>>>10))+((W=R+(Z^L&(Q^Z))+q[12]+1804603682&4294967295)<<7&4294967295|W>>>25))+((W=Z+(Q^R&(L^Q))+q[13]+4254626195&4294967295)<<12&4294967295|W>>>20))+((W=Q+(L^Z&(R^L))+q[14]+2792965006&4294967295)<<17&4294967295|W>>>15))+((W=L+(R^Q&(Z^R))+q[15]+1236535329&4294967295)<<22&4294967295|W>>>10))+((W=R+(Q^Z&(L^Q))+q[1]+4129170786&4294967295)<<5&4294967295|W>>>27))+((W=Z+(L^Q&(R^L))+q[6]+3225465664&4294967295)<<9&4294967295|W>>>23))+((W=Q+(R^L&(Z^R))+q[11]+643717713&4294967295)<<14&4294967295|W>>>18))+((W=L+(Z^R&(Q^Z))+q[0]+3921069994&4294967295)<<20&4294967295|W>>>12))+((W=R+(Q^Z&(L^Q))+q[5]+3593408605&4294967295)<<5&4294967295|W>>>27))+((W=Z+(L^Q&(R^L))+q[10]+38016083&4294967295)<<9&4294967295|W>>>23))+((W=Q+(R^L&(Z^R))+q[15]+3634488961&4294967295)<<14&4294967295|W>>>18))+((W=L+(Z^R&(Q^Z))+q[4]+3889429448&4294967295)<<20&4294967295|W>>>12))+((W=R+(Q^Z&(L^Q))+q[9]+568446438&4294967295)<<5&4294967295|W>>>27))+((W=Z+(L^Q&(R^L))+q[14]+3275163606&4294967295)<<9&4294967295|W>>>23))+((W=Q+(R^L&(Z^R))+q[3]+4107603335&4294967295)<<14&4294967295|W>>>18))+((W=L+(Z^R&(Q^Z))+q[8]+1163531501&4294967295)<<20&4294967295|W>>>12))+((W=R+(Q^Z&(L^Q))+q[13]+2850285829&4294967295)<<5&4294967295|W>>>27))+((W=Z+(L^Q&(R^L))+q[2]+4243563512&4294967295)<<9&4294967295|W>>>23))+((W=Q+(R^L&(Z^R))+q[7]+1735328473&4294967295)<<14&4294967295|W>>>18))+((W=L+(Z^R&(Q^Z))+q[12]+2368359562&4294967295)<<20&4294967295|W>>>12))+((W=R+(L^Q^Z)+q[5]+4294588738&4294967295)<<4&4294967295|W>>>28))+((W=Z+(R^L^Q)+q[8]+2272392833&4294967295)<<11&4294967295|W>>>21))+((W=Q+(Z^R^L)+q[11]+1839030562&4294967295)<<16&4294967295|W>>>16))+((W=L+(Q^Z^R)+q[14]+4259657740&4294967295)<<23&4294967295|W>>>9))+((W=R+(L^Q^Z)+q[1]+2763975236&4294967295)<<4&4294967295|W>>>28))+((W=Z+(R^L^Q)+q[4]+1272893353&4294967295)<<11&4294967295|W>>>21))+((W=Q+(Z^R^L)+q[7]+4139469664&4294967295)<<16&4294967295|W>>>16))+((W=L+(Q^Z^R)+q[10]+3200236656&4294967295)<<23&4294967295|W>>>9))+((W=R+(L^Q^Z)+q[13]+681279174&4294967295)<<4&4294967295|W>>>28))+((W=Z+(R^L^Q)+q[0]+3936430074&4294967295)<<11&4294967295|W>>>21))+((W=Q+(Z^R^L)+q[3]+3572445317&4294967295)<<16&4294967295|W>>>16))+((W=L+(Q^Z^R)+q[6]+76029189&4294967295)<<23&4294967295|W>>>9))+((W=R+(L^Q^Z)+q[9]+3654602809&4294967295)<<4&4294967295|W>>>28))+((W=Z+(R^L^Q)+q[12]+3873151461&4294967295)<<11&4294967295|W>>>21))+((W=Q+(Z^R^L)+q[15]+530742520&4294967295)<<16&4294967295|W>>>16))+((W=L+(Q^Z^R)+q[2]+3299628645&4294967295)<<23&4294967295|W>>>9))+((W=R+(Q^(L|~Z))+q[0]+4096336452&4294967295)<<6&4294967295|W>>>26))+((W=Z+(L^(R|~Q))+q[7]+1126891415&4294967295)<<10&4294967295|W>>>22))+((W=Q+(R^(Z|~L))+q[14]+2878612391&4294967295)<<15&4294967295|W>>>17))+((W=L+(Z^(Q|~R))+q[5]+4237533241&4294967295)<<21&4294967295|W>>>11))+((W=R+(Q^(L|~Z))+q[12]+1700485571&4294967295)<<6&4294967295|W>>>26))+((W=Z+(L^(R|~Q))+q[3]+2399980690&4294967295)<<10&4294967295|W>>>22))+((W=Q+(R^(Z|~L))+q[10]+4293915773&4294967295)<<15&4294967295|W>>>17))+((W=L+(Z^(Q|~R))+q[1]+2240044497&4294967295)<<21&4294967295|W>>>11))+((W=R+(Q^(L|~Z))+q[8]+1873313359&4294967295)<<6&4294967295|W>>>26))+((W=Z+(L^(R|~Q))+q[15]+4264355552&4294967295)<<10&4294967295|W>>>22))+((W=Q+(R^(Z|~L))+q[6]+2734768916&4294967295)<<15&4294967295|W>>>17))+((W=L+(Z^(Q|~R))+q[13]+1309151649&4294967295)<<21&4294967295|W>>>11))+((Z=(R=L+((W=R+(Q^(L|~Z))+q[4]+4149444226&4294967295)<<6&4294967295|W>>>26))+((W=Z+(L^(R|~Q))+q[11]+3174756917&4294967295)<<10&4294967295|W>>>22))^((Q=Z+((W=Q+(R^(Z|~L))+q[2]+718787259&4294967295)<<15&4294967295|W>>>17))|~R))+q[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(Q+(W<<21&4294967295|W>>>11))&4294967295,V.g[2]=V.g[2]+Q&4294967295,V.g[3]=V.g[3]+Z&4294967295}function s(V,R){this.h=R;for(var L=[],q=!0,Q=V.length-1;0<=Q;Q--){var Z=0|V[Q];q&&Z==R||(L[Q]=Z,q=!1)}this.g=L}(function t(V,R){function L(){}L.prototype=R.prototype,V.D=R.prototype,V.prototype=new L,V.prototype.constructor=V,V.C=function(q,Q,Z){for(var W=Array(arguments.length-2),ai=2;ai<arguments.length;ai++)W[ai-2]=arguments[ai];return R.prototype[Q].apply(q,W)}})(i,function e(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function(V,R){void 0===R&&(R=V.length);for(var L=R-this.blockSize,q=this.B,Q=this.h,Z=0;Z<R;){if(0==Q)for(;Z<=L;)r(this,V,Z),Z+=this.blockSize;if("string"==typeof V){for(;Z<R;)if(q[Q++]=V.charCodeAt(Z++),Q==this.blockSize){r(this,q),Q=0;break}}else for(;Z<R;)if(q[Q++]=V[Z++],Q==this.blockSize){r(this,q),Q=0;break}}this.h=Q,this.o+=R},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var L=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=255&L,L/=256;for(this.u(V),V=Array(16),R=L=0;4>R;++R)for(var q=0;32>q;q+=8)V[L++]=this.g[R]>>>q&255;return V};var a={};function c(V){return-128<=V&&128>V?function o(V,R){var L=a;return Object.prototype.hasOwnProperty.call(L,V)?L[V]:L[V]=R(V)}(V,function(R){return new s([0|R],0>R?-1:0)}):new s([0|V],0>V?-1:0)}function l(V){if(isNaN(V)||!isFinite(V))return u;if(0>V)return x(l(-V));for(var R=[],L=1,q=0;V>=L;q++)R[q]=V/L|0,L*=4294967296;return new s(R,0)}var u=c(0),p=c(1),b=c(16777216);function v(V){if(0!=V.h)return!1;for(var R=0;R<V.g.length;R++)if(0!=V.g[R])return!1;return!0}function w(V){return-1==V.h}function x(V){for(var R=V.g.length,L=[],q=0;q<R;q++)L[q]=~V.g[q];return new s(L,~V.h).add(p)}function P(V,R){return V.add(x(R))}function S(V,R){for(;(65535&V[R])!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function B(V,R){this.g=V,this.h=R}function $(V,R){if(v(R))throw Error("division by zero");if(v(V))return new B(u,u);if(w(V))return R=$(x(V),R),new B(x(R.g),x(R.h));if(w(R))return R=$(V,x(R)),new B(x(R.g),R.h);if(30<V.g.length){if(w(V)||w(R))throw Error("slowDivide_ only works with positive integers.");for(var L=p,q=R;0>=q.l(V);)L=J(L),q=J(q);var Q=te(L,1),Z=te(q,1);for(q=te(q,2),L=te(L,2);!v(q);){var W=Z.add(q);0>=W.l(V)&&(Q=Q.add(L),Z=W),q=te(q,1),L=te(L,1)}return R=P(V,Q.j(R)),new B(Q,R)}for(Q=u;0<=V.l(R);){for(L=Math.max(1,Math.floor(V.m()/R.m())),q=48>=(q=Math.ceil(Math.log(L)/Math.LN2))?1:Math.pow(2,q-48),W=(Z=l(L)).j(R);w(W)||0<W.l(V);)W=(Z=l(L-=q)).j(R);v(Z)&&(Z=p),Q=Q.add(Z),V=P(V,W)}return new B(Q,V)}function J(V){for(var R=V.g.length+1,L=[],q=0;q<R;q++)L[q]=V.i(q)<<1|V.i(q-1)>>>31;return new s(L,V.h)}function te(V,R){var L=R>>5;R%=32;for(var q=V.g.length-L,Q=[],Z=0;Z<q;Z++)Q[Z]=0<R?V.i(Z+L)>>>R|V.i(Z+L+1)<<32-R:V.i(Z+L);return new s(Q,V.h)}(n=s.prototype).m=function(){if(w(this))return-x(this).m();for(var V=0,R=1,L=0;L<this.g.length;L++){var q=this.i(L);V+=(0<=q?q:4294967296+q)*R,R*=4294967296}return V},n.toString=function(V){if(2>(V=V||10)||36<V)throw Error("radix out of range: "+V);if(v(this))return"0";if(w(this))return"-"+x(this).toString(V);for(var R=l(Math.pow(V,6)),L=this,q="";;){var Q=$(L,R).g,Z=((0<(L=P(L,Q.j(R))).g.length?L.g[0]:L.h)>>>0).toString(V);if(v(L=Q))return Z+q;for(;6>Z.length;)Z="0"+Z;q=Z+q}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h},n.l=function(V){return w(V=P(this,V))?-1:v(V)?0:1},n.abs=function(){return w(this)?x(this):this},n.add=function(V){for(var R=Math.max(this.g.length,V.g.length),L=[],q=0,Q=0;Q<=R;Q++){var Z=q+(65535&this.i(Q))+(65535&V.i(Q)),W=(Z>>>16)+(this.i(Q)>>>16)+(V.i(Q)>>>16);q=W>>>16,L[Q]=(W&=65535)<<16|(Z&=65535)}return new s(L,-2147483648&L[L.length-1]?-1:0)},n.j=function(V){if(v(this)||v(V))return u;if(w(this))return w(V)?x(this).j(x(V)):x(x(this).j(V));if(w(V))return x(this.j(x(V)));if(0>this.l(b)&&0>V.l(b))return l(this.m()*V.m());for(var R=this.g.length+V.g.length,L=[],q=0;q<2*R;q++)L[q]=0;for(q=0;q<this.g.length;q++)for(var Q=0;Q<V.g.length;Q++){var Z=this.i(q)>>>16,W=65535&this.i(q),ai=V.i(Q)>>>16,en=65535&V.i(Q);L[2*q+2*Q]+=W*en,S(L,2*q+2*Q),L[2*q+2*Q+1]+=Z*en,S(L,2*q+2*Q+1),L[2*q+2*Q+1]+=W*ai,S(L,2*q+2*Q+1),L[2*q+2*Q+2]+=Z*ai,S(L,2*q+2*Q+2)}for(q=0;q<R;q++)L[q]=L[2*q+1]<<16|L[2*q];for(q=R;q<2*R;q++)L[q]=0;return new s(L,0)},n.A=function(V){return $(this,V).h},n.and=function(V){for(var R=Math.max(this.g.length,V.g.length),L=[],q=0;q<R;q++)L[q]=this.i(q)&V.i(q);return new s(L,this.h&V.h)},n.or=function(V){for(var R=Math.max(this.g.length,V.g.length),L=[],q=0;q<R;q++)L[q]=this.i(q)|V.i(q);return new s(L,this.h|V.h)},n.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),L=[],q=0;q<R;q++)L[q]=this.i(q)^V.i(q);return new s(L,this.h^V.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,eH=Z4.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=function d(V,R){if(0==V.length)throw Error("number format error: empty string");if(2>(R=R||10)||36<R)throw Error("radix out of range: "+R);if("-"==V.charAt(0))return x(d(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=l(Math.pow(R,8)),q=u,Q=0;Q<V.length;Q+=8){var Z=Math.min(8,V.length-Q),W=parseInt(V.substring(Q,Q+Z),R);8>Z?(Z=l(Math.pow(R,Z)),q=q.j(Z).add(l(W))):q=(q=q.j(L)).add(l(W))}return q},pu=Z4.Integer=s}).apply(typeof J4<"u"?J4:typeof self<"u"?self:typeof window<"u"?window:{});var tH,M_,nH,vx,WS,iH,rH,oH,bx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wc={};(function(){var n,t="function"==typeof Object.defineProperties?Object.defineProperty:function(m,y,I){return m==Array.prototype||m==Object.prototype||(m[y]=I.value),m},i=function e(m){m=["object"==typeof globalThis&&globalThis,m,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof bx&&bx];for(var y=0;y<m.length;++y){var I=m[y];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}(this);!function r(m,y){if(y)e:{var I=i;m=m.split(".");for(var N=0;N<m.length-1;N++){var ne=m[N];if(!(ne in I))break e;I=I[ne]}(y=y(N=I[m=m[m.length-1]]))!=N&&null!=y&&t(I,m,{configurable:!0,writable:!0,value:y})}}("Array.prototype.values",function(m){return m||function(){return function o(m,y){m instanceof String&&(m+="");var I=0,N=!1,ne={next:function(){if(!N&&I<m.length){var fe=I++;return{value:y(fe,m[fe]),done:!1}}return N=!0,{done:!0,value:void 0}}};return ne[Symbol.iterator]=function(){return ne},ne}(this,function(y,I){return I})}});var s=s||{},a=this||self;function c(m){var y=typeof m;return"array"==(y="object"!=y?y:m?Array.isArray(m)?"array":y:"null")||"object"==y&&"number"==typeof m.length}function l(m){var y=typeof m;return"object"==y&&null!=m||"function"==y}function d(m,y,I){return m.call.apply(m.bind,arguments)}function u(m,y,I){if(!m)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,N),m.apply(y,ne)}}return function(){return m.apply(y,arguments)}}function p(m,y,I){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:u).apply(null,arguments)}function b(m,y){var I=Array.prototype.slice.call(arguments,1);return function(){var N=I.slice();return N.push.apply(N,arguments),m.apply(this,N)}}function v(m,y){function I(){}I.prototype=y.prototype,m.aa=y.prototype,m.prototype=new I,m.prototype.constructor=m,m.Qb=function(N,ne,fe){for(var je=Array(arguments.length-2),Xn=2;Xn<arguments.length;Xn++)je[Xn-2]=arguments[Xn];return y.prototype[ne].apply(N,je)}}function w(m){const y=m.length;if(0<y){const I=Array(y);for(let N=0;N<y;N++)I[N]=m[N];return I}return[]}function x(m,y){for(let I=1;I<arguments.length;I++){const N=arguments[I];if(c(N)){const ne=m.length||0,fe=N.length||0;m.length=ne+fe;for(let je=0;je<fe;je++)m[ne+je]=N[je]}else m.push(N)}}function S(m){return/^[\s\xa0]*$/.test(m)}function B(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function $(m){return $[" "](m),m}$[" "]=function(){};var J=!(-1==B().indexOf("Gecko")||-1!=B().toLowerCase().indexOf("webkit")&&-1==B().indexOf("Edge")||-1!=B().indexOf("Trident")||-1!=B().indexOf("MSIE")||-1!=B().indexOf("Edge"));function te(m,y,I){for(const N in m)y.call(I,m[N],N,m)}function R(m){const y={};for(const I in m)y[I]=m[I];return y}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(m,y){let I,N;for(let ne=1;ne<arguments.length;ne++){for(I in N=arguments[ne],N)m[I]=N[I];for(let fe=0;fe<L.length;fe++)I=L[fe],Object.prototype.hasOwnProperty.call(N,I)&&(m[I]=N[I])}}function Q(m){var y=1;m=m.split(":");const I=[];for(;0<y&&m.length;)I.push(m.shift()),y--;return m.length&&I.push(m.join(":")),I}function Z(m){a.setTimeout(()=>{throw m},0)}function W(){var m=lt;let y=null;return m.g&&(y=m.g,m.g=m.g.next,m.g||(m.h=null),y.next=null),y}var en=new class P{constructor(y,I){this.i=y,this.j=I,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}(()=>new Pe,m=>m.reset());class Pe{constructor(){this.next=this.g=this.h=null}set(y,I){this.h=y,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,Qe=!1,lt=new class ai{constructor(){this.h=this.g=null}add(y,I){const N=en.get();N.set(y,I),this.h?this.h.next=N:this.g=N,this.h=N}},Bn=()=>{const m=a.Promise.resolve(void 0);Ue=()=>{m.then(zr)}};var zr=()=>{for(var m;m=W();){try{m.h.call(m.g)}catch(I){Z(I)}var y=en;y.j(m),100>y.h&&(y.h++,m.next=y.g,y.g=m)}Qe=!1};function Pn(){this.s=this.s,this.C=this.C}function Cn(m,y){this.type=m,this.g=this.target=y,this.defaultPrevented=!1}Pn.prototype.s=!1,Pn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Pn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Cn.prototype.h=function(){this.defaultPrevented=!0};var bn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,y=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const I=()=>{};a.addEventListener("test",I,y),a.removeEventListener("test",I,y)}catch{}return m}();function Wo(m,y){if(Cn.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var I=this.type=m.type,N=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=y,y=m.relatedTarget){if(J){e:{try{$(y.nodeName);var ne=!0;break e}catch{}ne=!1}ne||(y=null)}}else"mouseover"==I?y=m.fromElement:"mouseout"==I&&(y=m.toElement);this.relatedTarget=y,N?(this.clientX=void 0!==N.clientX?N.clientX:N.pageX,this.clientY=void 0!==N.clientY?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=void 0!==m.clientX?m.clientX:m.pageX,this.clientY=void 0!==m.clientY?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType="string"==typeof m.pointerType?m.pointerType:ua[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Wo.aa.h.call(this)}}v(Wo,Cn);var ua={2:"touch",3:"pen",4:"mouse"};Wo.prototype.h=function(){Wo.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var zi="closure_listenable_"+(1e6*Math.random()|0),tl=0;function qo(m,y,I,N,ne){this.listener=m,this.proxy=null,this.src=y,this.type=I,this.capture=!!N,this.ha=ne,this.key=++tl,this.da=this.fa=!1}function nl(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function vd(m){this.src=m,this.g={},this.h=0}function CF(m,y){var I=y.type;if(I in m.g){var fe,N=m.g[I],ne=Array.prototype.indexOf.call(N,y,void 0);(fe=0<=ne)&&Array.prototype.splice.call(N,ne,1),fe&&(nl(y),0==m.g[I].length&&(delete m.g[I],m.h--))}}function AF(m,y,I,N){for(var ne=0;ne<m.length;++ne){var fe=m[ne];if(!fe.da&&fe.listener==y&&fe.capture==!!I&&fe.ha==N)return ne}return-1}vd.prototype.add=function(m,y,I,N,ne){var fe=m.toString();(m=this.g[fe])||(m=this.g[fe]=[],this.h++);var je=AF(m,y,N,ne);return-1<je?(y=m[je],I||(y.fa=!1)):((y=new qo(y,this.src,fe,!!N,ne)).fa=I,m.push(y)),y};var kF="closure_lm_"+(1e6*Math.random()|0),SF={};function EQ(m,y,I,N,ne){if(N&&N.once)return TQ(m,y,I,N,ne);if(Array.isArray(y)){for(var fe=0;fe<y.length;fe++)EQ(m,y[fe],I,N,ne);return null}return I=PF(I),m&&m[zi]?m.K(y,I,l(N)?!!N.capture:!!N,ne):IQ(m,y,I,!1,N,ne)}function IQ(m,y,I,N,ne,fe){if(!y)throw Error("Invalid event type");var je=l(ne)?!!ne.capture:!!ne,Xn=RF(m);if(Xn||(m[kF]=Xn=new vd(m)),(I=Xn.add(y,I,N,je,fe)).proxy)return I;if(N=function bPe(){const y=vPe;return function m(I){return y.call(m.src,m.listener,I)}}(),I.proxy=N,N.src=m,N.listener=I,m.addEventListener)bn||(ne=je),void 0===ne&&(ne=!1),m.addEventListener(y.toString(),N,ne);else if(m.attachEvent)m.attachEvent(AQ(y.toString()),N);else{if(!m.addListener||!m.removeListener)throw Error("addEventListener and attachEvent are unavailable.");m.addListener(N)}return I}function TQ(m,y,I,N,ne){if(Array.isArray(y)){for(var fe=0;fe<y.length;fe++)TQ(m,y[fe],I,N,ne);return null}return I=PF(I),m&&m[zi]?m.L(y,I,l(N)?!!N.capture:!!N,ne):IQ(m,y,I,!0,N,ne)}function CQ(m,y,I,N,ne){if(Array.isArray(y))for(var fe=0;fe<y.length;fe++)CQ(m,y[fe],I,N,ne);else N=l(N)?!!N.capture:!!N,I=PF(I),m&&m[zi]?(m=m.i,(y=String(y).toString())in m.g&&-1<(I=AF(fe=m.g[y],I,N,ne))&&(nl(fe[I]),Array.prototype.splice.call(fe,I,1),0==fe.length&&(delete m.g[y],m.h--))):m&&(m=RF(m))&&(y=m.g[y.toString()],m=-1,y&&(m=AF(y,I,N,ne)),(I=-1<m?y[m]:null)&&DF(I))}function DF(m){if("number"!=typeof m&&m&&!m.da){var y=m.src;if(y&&y[zi])CF(y.i,m);else{var I=m.type,N=m.proxy;y.removeEventListener?y.removeEventListener(I,N,m.capture):y.detachEvent?y.detachEvent(AQ(I),N):y.addListener&&y.removeListener&&y.removeListener(N),(I=RF(y))?(CF(I,m),0==I.h&&(I.src=null,y[kF]=null)):nl(m)}}}function AQ(m){return m in SF?SF[m]:SF[m]="on"+m}function vPe(m,y){if(m.da)m=!0;else{y=new Wo(y,this);var I=m.listener,N=m.ha||m.src;m.fa&&DF(m),m=I.call(N,y)}return m}function RF(m){return(m=m[kF])instanceof vd?m:null}var MF="__closure_events_fn_"+(1e9*Math.random()>>>0);function PF(m){return"function"==typeof m?m:(m[MF]||(m[MF]=function(y){return m.handleEvent(y)}),m[MF])}function lo(){Pn.call(this),this.i=new vd(this),this.M=this,this.F=null}function Ao(m,y){var I,N=m.F;if(N)for(I=[];N;N=N.F)I.push(N);if(m=m.M,N=y.type||y,"string"==typeof y)y=new Cn(y,m);else if(y instanceof Cn)y.target=y.target||m;else{var ne=y;q(y=new Cn(N,m),ne)}if(ne=!0,I)for(var fe=I.length-1;0<=fe;fe--){var je=y.g=I[fe];ne=DT(je,N,!0,y)&&ne}if(ne=DT(je=y.g=m,N,!0,y)&&ne,ne=DT(je,N,!1,y)&&ne,I)for(fe=0;fe<I.length;fe++)ne=DT(je=y.g=I[fe],N,!1,y)&&ne}function DT(m,y,I,N){if(!(y=m.i.g[String(y)]))return!0;y=y.concat();for(var ne=!0,fe=0;fe<y.length;++fe){var je=y[fe];if(je&&!je.da&&je.capture==I){var Xn=je.listener,Hr=je.ha||je.src;je.fa&&CF(m.i,je),ne=!1!==Xn.call(Hr,N)&&ne}}return ne&&!N.defaultPrevented}function kQ(m,y,I){if("function"==typeof m)I&&(m=p(m,I));else{if(!m||"function"!=typeof m.handleEvent)throw Error("Invalid listener argument");m=p(m.handleEvent,m)}return 2147483647<Number(y)?-1:a.setTimeout(m,y||0)}function SQ(m){m.g=kQ(()=>{m.g=null,m.i&&(m.i=!1,SQ(m))},m.l);const y=m.h;m.h=null,m.m.apply(null,y)}v(lo,Pn),lo.prototype[zi]=!0,lo.prototype.removeEventListener=function(m,y,I,N){CQ(this,m,y,I,N)},lo.prototype.N=function(){if(lo.aa.N.call(this),this.i){var y,m=this.i;for(y in m.g){for(var I=m.g[y],N=0;N<I.length;N++)nl(I[N]);delete m.g[y],m.h--}}this.F=null},lo.prototype.K=function(m,y,I,N){return this.i.add(String(m),y,!1,I,N)},lo.prototype.L=function(m,y,I,N){return this.i.add(String(m),y,!0,I,N)};class yPe extends Pn{constructor(y,I){super(),this.m=y,this.l=I,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:SQ(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qv(m){Pn.call(this),this.h=m,this.g={}}v(Qv,Pn);var DQ=[];function RQ(m){te(m.g,function(y,I){this.g.hasOwnProperty(I)&&DF(y)},m),m.g={}}Qv.prototype.N=function(){Qv.aa.N.call(this),RQ(this)},Qv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var OF=a.JSON.stringify,wPe=a.JSON.parse,xPe=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function NF(){}function PQ(){}NF.prototype.h=null;var Yv={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function FF(){Cn.call(this,"d")}function LF(){Cn.call(this,"c")}v(FF,Cn),v(LF,Cn);var mh={},OQ=null;function RT(){return OQ=OQ||new lo}function NQ(m){Cn.call(this,mh.La,m)}function Xv(m){const y=RT();Ao(y,new NQ(y))}function FQ(m,y){Cn.call(this,mh.STAT_EVENT,m),this.stat=y}function ko(m){const y=RT();Ao(y,new FQ(y,m))}function LQ(m,y){Cn.call(this,mh.Ma,m),this.size=y}function Jv(m,y){if("function"!=typeof m)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},y)}function Zv(){this.g=!0}function mp(m,y,I,N){m.info(function(){return"XMLHTTP TEXT ("+y+"): "+function CPe(m,y){if(!m.g)return y;if(!y)return null;try{var I=JSON.parse(y);if(I)for(m=0;m<I.length;m++)if(Array.isArray(I[m])){var N=I[m];if(!(2>N.length)){var ne=N[1];if(Array.isArray(ne)&&!(1>ne.length)){var fe=ne[0];if("noop"!=fe&&"stop"!=fe&&"close"!=fe)for(var je=1;je<ne.length;je++)ne[je]=""}}}return OF(I)}catch{return y}}(m,I)+(N?" "+N:"")})}mh.La="serverreachability",v(NQ,Cn),mh.STAT_EVENT="statevent",v(FQ,Cn),mh.Ma="timingevent",v(LQ,Cn),Zv.prototype.xa=function(){this.g=!1},Zv.prototype.info=function(){};var VF,MT={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},VQ={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function PT(){}function yd(m,y,I,N){this.j=m,this.i=y,this.l=I,this.R=N||1,this.U=new Qv(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new BQ}function BQ(){this.i=null,this.g="",this.h=!1}v(PT,NF),PT.prototype.g=function(){return new XMLHttpRequest},PT.prototype.i=function(){return{}},VF=new PT;var UQ={},BF={};function UF(m,y,I){m.L=1,m.v=LT(il(y)),m.m=I,m.P=!0,jQ(m,null)}function jQ(m,y){m.F=Date.now(),OT(m),m.A=il(m.v);var I=m.A,N=m.R;Array.isArray(N)||(N=[String(N)]),tY(I.i,"t",N),m.C=0,I=m.j.J,m.h=new BQ,m.g=vY(m.j,I?y:null,!m.m),0<m.O&&(m.M=new yPe(p(m.Y,m,m.g),m.O)),y=m.U,I=m.g,N=m.ca;var ne="readystatechange";Array.isArray(ne)||(ne&&(DQ[0]=ne.toString()),ne=DQ);for(var fe=0;fe<ne.length;fe++){var je=EQ(I,ne[fe],N||y.handleEvent,!1,y.h||y);if(!je)break;y.g[je.key]=je}y=m.H?R(m.H):{},m.m?(m.u||(m.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,y)):(m.u="GET",m.g.ea(m.A,m.u,null,y)),Xv(),function EPe(m,y,I,N,ne,fe){m.info(function(){if(m.g)if(fe)for(var je="",Xn=fe.split("&"),Hr=0;Hr<Xn.length;Hr++){var xn=Xn[Hr].split("=");if(1<xn.length){var uo=xn[0];xn=xn[1];var ho=uo.split("_");je=2<=ho.length&&"type"==ho[1]?je+(uo+"=")+xn+"&":je+(uo+"=redacted&")}}else je=null;else je=fe;return"XMLHTTP REQ ("+N+") [attempt "+ne+"]: "+y+"\n"+I+"\n"+je})}(m.i,m.u,m.A,m.l,m.R,m.m)}function zQ(m){return!!m.g&&"GET"==m.u&&2!=m.L&&m.j.Ca}function APe(m,y){var I=m.C,N=y.indexOf("\n",I);return-1==N?BF:(I=Number(y.substring(I,N)),isNaN(I)?UQ:(N+=1)+I>y.length?BF:(y=y.slice(N,N+I),m.C=N+I,y))}function OT(m){m.S=Date.now()+m.I,HQ(m,m.I)}function HQ(m,y){if(null!=m.B)throw Error("WatchDog timer not null");m.B=Jv(p(m.ba,m),y)}function jF(m){m.B&&(a.clearTimeout(m.B),m.B=null)}function ey(m){0==m.j.G||m.J||pY(m.j,m)}function ph(m){jF(m);var y=m.M;y&&"function"==typeof y.ma&&y.ma(),m.M=null,RQ(m.U),m.g&&(y=m.g,m.g=null,y.abort(),y.ma())}function zF(m,y){try{var I=m.j;if(0!=I.G&&(I.g==m||HF(I.h,m)))if(!m.K&&HF(I.h,m)&&3==I.G){try{var N=I.Da.g.parse(y)}catch{N=null}if(Array.isArray(N)&&3==N.length){var ne=N;if(0==ne[0]){e:if(!I.u){if(I.g){if(!(I.g.F+3e3<m.F))break e;zT(I),UT(I)}$F(I),ko(18)}}else I.za=ne[1],0<I.za-I.T&&37500>ne[2]&&I.F&&0==I.v&&!I.C&&(I.C=Jv(p(I.Za,I),6e3));if(1>=GQ(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else _h(I,11)}else if((m.K||I.g==m)&&zT(I),!S(y))for(ne=I.Da.g.parse(y),y=0;y<ne.length;y++){let xn=ne[y];if(I.T=xn[0],xn=xn[1],2==I.G)if("c"==xn[0]){I.K=xn[1],I.ia=xn[2];const uo=xn[3];null!=uo&&(I.la=uo,I.j.info("VER="+I.la));const ho=xn[4];null!=ho&&(I.Aa=ho,I.j.info("SVER="+I.Aa));const _p=xn[5];null!=_p&&"number"==typeof _p&&0<_p&&(I.L=N=1.5*_p,I.j.info("backChannelRequestTimeoutMs_="+N)),N=I;const ha=m.g;if(ha){const WT=ha.g?ha.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(WT){var fe=N.h;fe.g||-1==WT.indexOf("spdy")&&-1==WT.indexOf("quic")&&-1==WT.indexOf("h2")||(fe.j=fe.l,fe.g=new Set,fe.h&&(WF(fe,fe.h),fe.h=null))}if(N.D){const QF=ha.g?ha.g.getResponseHeader("X-HTTP-Session-Id"):null;QF&&(N.ya=QF,xi(N.I,N.D,QF))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-m.F,I.j.info("Handshake RTT: "+I.R+"ms"));var je=m;if((N=I).qa=bY(N,N.J?N.ia:null,N.W),je.K){$Q(N.h,je);var Xn=je,Hr=N.L;Hr&&(Xn.I=Hr),Xn.B&&(jF(Xn),OT(Xn)),N.g=je}else fY(N);0<I.i.length&&jT(I)}else"stop"!=xn[0]&&"close"!=xn[0]||_h(I,7);else 3==I.G&&("stop"==xn[0]||"close"==xn[0]?"stop"==xn[0]?_h(I,7):GF(I):"noop"!=xn[0]&&I.l&&I.l.ta(xn),I.v=0)}Xv()}catch{}}function WQ(m){this.l=m||10,m=a.PerformanceNavigationTiming?0<(m=a.performance.getEntriesByType("navigation")).length&&("hq"==m[0].nextHopProtocol||"h2"==m[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qQ(m){return!!m.h||!!m.g&&m.g.size>=m.j}function GQ(m){return m.h?1:m.g?m.g.size:0}function HF(m,y){return m.h?m.h==y:!!m.g&&m.g.has(y)}function WF(m,y){m.g?m.g.add(y):m.h=y}function $Q(m,y){m.h&&m.h==y?m.h=null:m.g&&m.g.has(y)&&m.g.delete(y)}function KQ(m){if(null!=m.h)return m.i.concat(m.h.D);if(null!=m.g&&0!==m.g.size){let y=m.i;for(const I of m.g.values())y=y.concat(I.D);return y}return w(m.i)}function QQ(m,y){if(m.forEach&&"function"==typeof m.forEach)m.forEach(y,void 0);else if(c(m)||"string"==typeof m)Array.prototype.forEach.call(m,y,void 0);else for(var I=function DPe(m){if(m.na&&"function"==typeof m.na)return m.na();if(!m.V||"function"!=typeof m.V){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||"string"==typeof m){var y=[];m=m.length;for(var I=0;I<m;I++)y.push(I);return y}y=[],I=0;for(const N in m)y[I++]=N;return y}}}(m),N=function SPe(m){if(m.V&&"function"==typeof m.V)return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if("string"==typeof m)return m.split("");if(c(m)){for(var y=[],I=m.length,N=0;N<I;N++)y.push(m[N]);return y}for(N in y=[],I=0,m)y[I++]=m[N];return y}(m),ne=N.length,fe=0;fe<ne;fe++)y.call(void 0,N[fe],I&&I[fe],m)}yd.prototype.ca=function(m){m=m.target;const y=this.M;y&&3==rl(m)?y.j():this.Y(m)},yd.prototype.Y=function(m){try{if(m==this.g)e:{const ho=rl(this.g);var y=this.g.Ba();if(this.g.Z(),!(3>ho)&&(3!=ho||this.g&&(this.h.h||this.g.oa()||cY(this.g)))){this.J||4!=ho||7==y||Xv(),jF(this);var I=this.g.Z();this.X=I;t:if(zQ(this)){var N=cY(this.g);m="";var ne=N.length,fe=4==rl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ph(this),ey(this);var je="";break t}this.h.i=new a.TextDecoder}for(y=0;y<ne;y++)this.h.h=!0,m+=this.h.i.decode(N[y],{stream:!(fe&&y==ne-1)});N.length=0,this.h.g+=m,this.C=0,je=this.h.g}else je=this.g.oa();if(this.o=200==I,function IPe(m,y,I,N,ne,fe,je){m.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+ne+"]: "+y+"\n"+I+"\n"+fe+" "+je})}(this.i,this.u,this.A,this.l,this.R,ho,I),this.o){if(this.T&&!this.K){t:{if(this.g){var Xn,Hr=this.g;if((Xn=Hr.g?Hr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(Xn)){var xn=Xn;break t}}xn=null}if(!(I=xn)){this.o=!1,this.s=3,ko(12),ph(this),ey(this);break e}mp(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zF(this,I)}if(this.P){let ha;for(I=!0;!this.J&&this.C<je.length;){if(ha=APe(this,je),ha==BF){4==ho&&(this.s=4,ko(14),I=!1),mp(this.i,this.l,null,"[Incomplete Response]");break}if(ha==UQ){this.s=4,ko(15),mp(this.i,this.l,je,"[Invalid Chunk]"),I=!1;break}mp(this.i,this.l,ha,null),zF(this,ha)}if(zQ(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ho||0!=je.length||this.h.h||(this.s=1,ko(16),I=!1),this.o=this.o&&I,I){if(0<je.length&&!this.W){this.W=!0;var uo=this.j;uo.g==this&&uo.ba&&!uo.M&&(uo.j.info("Great, no buffering proxy detected. Bytes received: "+je.length),KF(uo),uo.M=!0,ko(11))}}else mp(this.i,this.l,je,"[Invalid Chunked Response]"),ph(this),ey(this)}else mp(this.i,this.l,je,null),zF(this,je);4==ho&&ph(this),this.o&&!this.J&&(4==ho?pY(this.j,this):(this.o=!1,OT(this)))}else(function WPe(m){const y={};m=(m.g&&2<=rl(m)&&m.g.getAllResponseHeaders()||"").split("\r\n");for(let N=0;N<m.length;N++){if(S(m[N]))continue;var I=Q(m[N]);const ne=I[0];if("string"!=typeof(I=I[1]))continue;I=I.trim();const fe=y[ne]||[];y[ne]=fe,fe.push(I)}!function V(m,y){for(const I in m)y.call(void 0,m[I],I,m)}(y,function(N){return N.join(", ")})})(this.g),400==I&&0<je.indexOf("Unknown SID")?(this.s=3,ko(12)):(this.s=0,ko(13)),ph(this),ey(this)}}}catch{}},yd.prototype.cancel=function(){this.J=!0,ph(this)},yd.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(function TPe(m,y){m.info(function(){return"TIMEOUT: "+y})}(this.i,this.A),2!=this.L&&(Xv(),ko(17)),ph(this),this.s=2,ey(this)):HQ(this,this.S-m)},WQ.prototype.cancel=function(){if(this.i=KQ(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const m of this.g.values())m.cancel();this.g.clear()}};var YQ=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gh(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof gh){this.h=m.h,NT(this,m.j),this.o=m.o,this.g=m.g,FT(this,m.s),this.l=m.l;var y=m.i,I=new iy;I.i=y.i,y.g&&(I.g=new Map(y.g),I.h=y.h),XQ(this,I),this.m=m.m}else m&&(y=String(m).match(YQ))?(this.h=!1,NT(this,y[1]||"",!0),this.o=ty(y[2]||""),this.g=ty(y[3]||"",!0),FT(this,y[4]),this.l=ty(y[5]||"",!0),XQ(this,y[6]||"",!0),this.m=ty(y[7]||"")):(this.h=!1,this.i=new iy(null,this.h))}function il(m){return new gh(m)}function NT(m,y,I){m.j=I?ty(y,!0):y,m.j&&(m.j=m.j.replace(/:$/,""))}function FT(m,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);m.s=y}else m.s=null}function XQ(m,y,I){y instanceof iy?(m.i=y,function LPe(m,y){y&&!m.j&&(wd(m),m.i=null,m.g.forEach(function(I,N){var ne=N.toLowerCase();N!=ne&&(ZQ(this,N),tY(this,ne,I))},m)),m.j=y}(m.i,m.h)):(I||(y=ny(y,NPe)),m.i=new iy(y,m.h))}function xi(m,y,I){m.i.set(y,I)}function LT(m){return xi(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ty(m,y){return m?y?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ny(m,y,I){return"string"==typeof m?(m=encodeURI(m).replace(y,MPe),I&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function MPe(m){return"%"+((m=m.charCodeAt(0))>>4&15).toString(16)+(15&m).toString(16)}gh.prototype.toString=function(){var m=[],y=this.j;y&&m.push(ny(y,JQ,!0),":");var I=this.g;return(I||"file"==y)&&(m.push("//"),(y=this.o)&&m.push(ny(y,JQ,!0),"@"),m.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(I=this.s)&&m.push(":",String(I))),(I=this.l)&&(this.g&&"/"!=I.charAt(0)&&m.push("/"),m.push(ny(I,"/"==I.charAt(0)?OPe:PPe,!0))),(I=this.i.toString())&&m.push("?",I),(I=this.m)&&m.push("#",ny(I,FPe)),m.join("")};var m,JQ=/[#\/\?@]/g,PPe=/[#\?:]/g,OPe=/[#\?]/g,NPe=/[#\?@]/g,FPe=/#/g;function iy(m,y){this.h=this.g=null,this.i=m||null,this.j=!!y}function wd(m){m.g||(m.g=new Map,m.h=0,m.i&&function RPe(m,y){if(m){m=m.split("&");for(var I=0;I<m.length;I++){var N=m[I].indexOf("="),ne=null;if(0<=N){var fe=m[I].substring(0,N);ne=m[I].substring(N+1)}else fe=m[I];y(fe,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}(m.i,function(y,I){m.add(decodeURIComponent(y.replace(/\+/g," ")),I)}))}function ZQ(m,y){wd(m),y=pp(m,y),m.g.has(y)&&(m.i=null,m.h-=m.g.get(y).length,m.g.delete(y))}function eY(m,y){return wd(m),y=pp(m,y),m.g.has(y)}function tY(m,y,I){ZQ(m,y),0<I.length&&(m.i=null,m.g.set(pp(m,y),w(I)),m.h+=I.length)}function pp(m,y){return y=String(y),m.j&&(y=y.toLowerCase()),y}function xd(m,y,I,N,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),N(I)}catch{}}function UPe(){this.g=new xPe}function jPe(m,y,I){const N=I||"";try{QQ(m,function(ne,fe){let je=ne;l(ne)&&(je=OF(ne)),y.push(N+fe+"="+encodeURIComponent(je))})}catch(ne){throw y.push(N+"type="+encodeURIComponent("_badmap")),ne}}function ry(m){this.l=m.Ub||null,this.j=m.eb||!1}function VT(m,y){lo.call(this),this.D=m,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function nY(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}function oy(m){m.readyState=4,m.l=null,m.j=null,m.v=null,sy(m)}function sy(m){m.onreadystatechange&&m.onreadystatechange.call(m)}function iY(m){let y="";return te(m,function(I,N){y+=N,y+=":",y+=I,y+="\r\n"}),y}function qF(m,y,I){e:{for(N in I){var N=!1;break e}N=!0}N||(I=iY(I),"string"==typeof m?null!=I&&encodeURIComponent(String(I)):xi(m,y,I))}function Hi(m){lo.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=iy.prototype).add=function(m,y){wd(this),this.i=null,m=pp(this,m);var I=this.g.get(m);return I||this.g.set(m,I=[]),I.push(y),this.h+=1,this},n.forEach=function(m,y){wd(this),this.g.forEach(function(I,N){I.forEach(function(ne){m.call(y,ne,N,this)},this)},this)},n.na=function(){wd(this);const m=Array.from(this.g.values()),y=Array.from(this.g.keys()),I=[];for(let N=0;N<y.length;N++){const ne=m[N];for(let fe=0;fe<ne.length;fe++)I.push(y[N])}return I},n.V=function(m){wd(this);let y=[];if("string"==typeof m)eY(this,m)&&(y=y.concat(this.g.get(pp(this,m))));else{m=Array.from(this.g.values());for(let I=0;I<m.length;I++)y=y.concat(m[I])}return y},n.set=function(m,y){return wd(this),this.i=null,eY(this,m=pp(this,m))&&(this.h-=this.g.get(m).length),this.g.set(m,[y]),this.h+=1,this},n.get=function(m,y){return m&&0<(m=this.V(m)).length?String(m[0]):y},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],y=Array.from(this.g.keys());for(var I=0;I<y.length;I++){var N=y[I];const fe=encodeURIComponent(String(N)),je=this.V(N);for(N=0;N<je.length;N++){var ne=fe;""!==je[N]&&(ne+="="+encodeURIComponent(String(je[N]))),m.push(ne)}}return this.i=m.join("&")},v(ry,NF),ry.prototype.g=function(){return new VT(this.l,this.j)},ry.prototype.i=(m={},function(){return m}),v(VT,lo),(n=VT.prototype).open=function(m,y){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=y,this.readyState=1,sy(this)},n.send=function(m){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(y.body=m),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,oy(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,sy(this)),this.g&&(this.readyState=3,sy(this),this.g)))if("arraybuffer"===this.responseType)m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nY(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var y=m.value?m.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!m.done}))&&(this.response=this.responseText+=y)}m.done?oy(this):sy(this),3==this.readyState&&nY(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,oy(this))},n.Qa=function(m){this.g&&(this.response=m,oy(this))},n.ga=function(){this.g&&oy(this)},n.setRequestHeader=function(m,y){this.u.append(m,y)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],y=this.h.entries();for(var I=y.next();!I.done;)m.push((I=I.value)[0]+": "+I[1]),I=y.next();return m.join("\r\n")},Object.defineProperty(VT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(m){this.m=m?"include":"same-origin"}}),v(Hi,lo);var zPe=/^https?$/i,HPe=["POST","PUT"];function rY(m,y){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=y,m.m=5,oY(m),BT(m)}function oY(m){m.A||(m.A=!0,Ao(m,"complete"),Ao(m,"error"))}function sY(m){if(m.h&&typeof s<"u"&&(!m.v[1]||4!=rl(m)||2!=m.Z()))if(m.u&&4==rl(m))kQ(m.Ea,0,m);else if(Ao(m,"readystatechange"),4==rl(m)){m.h=!1;try{const je=m.Z();e:switch(je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var I;if(!(I=y)){var N;if(N=0===je){var ne=String(m.D).match(YQ)[1]||null;!ne&&a.self&&a.self.location&&(ne=a.self.location.protocol.slice(0,-1)),N=!zPe.test(ne?ne.toLowerCase():"")}I=N}if(I)Ao(m,"complete"),Ao(m,"success");else{m.m=6;try{var fe=2<rl(m)?m.g.statusText:""}catch{fe=""}m.l=fe+" ["+m.Z()+"]",oY(m)}}finally{BT(m)}}}function BT(m,y){if(m.g){aY(m);const I=m.g,N=m.v[0]?()=>{}:null;m.g=null,m.v=null,y||Ao(m,"ready");try{I.onreadystatechange=N}catch{}}}function aY(m){m.I&&(a.clearTimeout(m.I),m.I=null)}function rl(m){return m.g?m.g.readyState:0}function cY(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ay(m,y,I){return I&&I.internalChannelParams&&I.internalChannelParams[m]||y}function lY(m){this.Aa=0,this.i=[],this.j=new Zv,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ay("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ay("baseRetryDelayMs",5e3,m),this.cb=ay("retryDelaySeedMs",1e4,m),this.Wa=ay("forwardChannelMaxRetries",2,m),this.wa=ay("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new WQ(m&&m.concurrentRequestLimit),this.Da=new UPe,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function GF(m){if(dY(m),3==m.G){var y=m.U++,I=il(m.I);if(xi(I,"SID",m.K),xi(I,"RID",y),xi(I,"TYPE","terminate"),cy(m,I),(y=new yd(m,m.j,y)).L=2,y.v=LT(il(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!I&&a.Image&&((new Image).src=y.v,I=!0),I||(y.g=vY(y.j,null),y.g.ea(y.v)),y.F=Date.now(),OT(y)}_Y(m)}function UT(m){m.g&&(KF(m),m.g.cancel(),m.g=null)}function dY(m){UT(m),m.u&&(a.clearTimeout(m.u),m.u=null),zT(m),m.h.cancel(),m.s&&("number"==typeof m.s&&a.clearTimeout(m.s),m.s=null)}function jT(m){if(!qQ(m.h)&&!m.s){m.s=!0;var y=m.Ga;Ue||Bn(),Qe||(Ue(),Qe=!0),lt.add(y,m),m.B=0}}function uY(m,y){var I;I=y?y.l:m.U++;const N=il(m.I);xi(N,"SID",m.K),xi(N,"RID",I),xi(N,"AID",m.T),cy(m,N),m.m&&m.o&&qF(N,m.m,m.o),I=new yd(m,m.j,I,m.B+1),null===m.m&&(I.H=m.o),y&&(m.i=y.D.concat(m.i)),y=hY(m,I,1e3),I.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),WF(m.h,I),UF(I,N,y)}function cy(m,y){m.H&&te(m.H,function(I,N){xi(y,N,I)}),m.l&&QQ({},function(I,N){xi(y,N,I)})}function hY(m,y,I){I=Math.min(m.i.length,I);var N=m.l?p(m.l.Na,m.l,m):null;e:{var ne=m.i;let fe=-1;for(;;){const je=["count="+I];-1==fe?0<I?(fe=ne[0].g,je.push("ofs="+fe)):fe=0:je.push("ofs="+fe);let Xn=!0;for(let Hr=0;Hr<I;Hr++){let xn=ne[Hr].g;const uo=ne[Hr].map;if(xn-=fe,0>xn)fe=Math.max(0,ne[Hr].g-100),Xn=!1;else try{jPe(uo,je,"req"+xn+"_")}catch{N&&N(uo)}}if(Xn){N=je.join("&");break e}}}return m=m.i.splice(0,I),y.D=m,N}function fY(m){if(!m.g&&!m.u){m.Y=1;var y=m.Fa;Ue||Bn(),Qe||(Ue(),Qe=!0),lt.add(y,m),m.v=0}}function $F(m){return!(m.g||m.u||3<=m.v||(m.Y++,m.u=Jv(p(m.Fa,m),gY(m,m.v)),m.v++,0))}function KF(m){null!=m.A&&(a.clearTimeout(m.A),m.A=null)}function mY(m){m.g=new yd(m,m.j,"rpc",m.Y),null===m.m&&(m.g.H=m.o),m.g.O=0;var y=il(m.qa);xi(y,"RID","rpc"),xi(y,"SID",m.K),xi(y,"AID",m.T),xi(y,"CI",m.F?"0":"1"),!m.F&&m.ja&&xi(y,"TO",m.ja),xi(y,"TYPE","xmlhttp"),cy(m,y),m.m&&m.o&&qF(y,m.m,m.o),m.L&&(m.g.I=m.L);var I=m.g;m=m.ia,I.L=1,I.v=LT(il(y)),I.m=null,I.P=!0,jQ(I,m)}function zT(m){null!=m.C&&(a.clearTimeout(m.C),m.C=null)}function pY(m,y){var I=null;if(m.g==y){zT(m),KF(m),m.g=null;var N=2}else{if(!HF(m.h,y))return;I=y.D,$Q(m.h,y),N=1}if(0!=m.G)if(y.o)if(1==N){I=y.m?y.m.length:0,y=Date.now()-y.F;var ne=m.B;Ao(N=RT(),new LQ(N,I)),jT(m)}else fY(m);else if(3==(ne=y.s)||0==ne&&0<y.X||!(1==N&&function qPe(m,y){return!(GQ(m.h)>=m.h.j-(m.s?1:0)||(m.s?(m.i=y.D.concat(m.i),0):1==m.G||2==m.G||m.B>=(m.Va?0:m.Wa)||(m.s=Jv(p(m.Ga,m,y),gY(m,m.B)),m.B++,0)))}(m,y)||2==N&&$F(m)))switch(I&&0<I.length&&(y=m.h,y.i=y.i.concat(I)),ne){case 1:_h(m,5);break;case 4:_h(m,10);break;case 3:_h(m,6);break;default:_h(m,2)}}function gY(m,y){let I=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(I*=2),I*y}function _h(m,y){if(m.j.info("Error code "+y),2==y){var I=p(m.fb,m),N=m.Xa;const ne=!N;N=new gh(N||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||NT(N,"https"),LT(N),ne?function VPe(m,y){const I=new Zv;if(a.Image){const N=new Image;N.onload=b(xd,I,"TestLoadImage: loaded",!0,y,N),N.onerror=b(xd,I,"TestLoadImage: error",!1,y,N),N.onabort=b(xd,I,"TestLoadImage: abort",!1,y,N),N.ontimeout=b(xd,I,"TestLoadImage: timeout",!1,y,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=m}else y(!1)}(N.toString(),I):function BPe(m,y){new Zv;const N=new AbortController,ne=setTimeout(()=>{N.abort(),xd(0,0,!1,y)},1e4);fetch(m,{signal:N.signal}).then(fe=>{clearTimeout(ne),xd(0,0,!!fe.ok,y)}).catch(()=>{clearTimeout(ne),xd(0,0,!1,y)})}(N.toString(),I)}else ko(2);m.G=0,m.l&&m.l.sa(y),_Y(m),dY(m)}function _Y(m){if(m.G=0,m.ka=[],m.l){const y=KQ(m.h);(0!=y.length||0!=m.i.length)&&(x(m.ka,y),x(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function bY(m,y,I){var N=I instanceof gh?il(I):new gh(I);if(""!=N.g)y&&(N.g=y+"."+N.g),FT(N,N.s);else{var ne=a.location;N=ne.protocol,y=y?y+"."+ne.hostname:ne.hostname,ne=+ne.port;var fe=new gh(null);N&&NT(fe,N),y&&(fe.g=y),ne&&FT(fe,ne),I&&(fe.l=I),N=fe}return y=m.ya,(I=m.D)&&y&&xi(N,I,y),xi(N,"VER",m.la),cy(m,N),N}function vY(m,y,I){if(y&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return(y=new Hi(m.Ca&&!m.pa?new ry({eb:I}):m.pa)).Ha(m.J),y}function yY(){}function HT(){}function gs(m,y){lo.call(this),this.g=new lY(y),this.l=m,this.h=y&&y.messageUrlParams||null,m=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(m?m["X-WebChannel-Content-Type"]=y.messageContentType:m={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(m?m["X-WebChannel-Client-Profile"]=y.va:m={"X-WebChannel-Client-Profile":y.va}),this.g.S=m,(m=y&&y.Sb)&&!S(m)&&(this.g.m=m),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!S(y)&&(this.g.D=y,null!==(m=this.h)&&y in m&&y in(m=this.h)&&delete m[y]),this.j=new gp(this)}function wY(m){FF.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var y=m.__sm__;if(y){e:{for(const I in y){m=I;break e}m=void 0}(this.i=m)&&(m=this.i,y=null!==y&&m in y?y[m]:void 0),this.data=y}else this.data=m}function xY(){LF.call(this),this.status=1}function gp(m){this.g=m}(n=Hi.prototype).Ha=function(m){this.J=m},n.ea=function(m,y,I,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);y=y?y.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():VF.g(),this.v=function MQ(m){return m.h||(m.h=m.i())}(this.o?this.o:VF),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(y,String(m),!0),this.B=!1}catch(fe){return void rY(this,fe)}if(m=I||"",I=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var ne in N)I.set(ne,N[ne]);else{if("function"!=typeof N.keys||"function"!=typeof N.get)throw Error("Unknown input type for opt_headers: "+String(N));for(const fe of N.keys())I.set(fe,N.get(fe))}N=Array.from(I.keys()).find(fe=>"content-type"==fe.toLowerCase()),ne=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(HPe,y,void 0))||N||ne||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,je]of I)this.g.setRequestHeader(fe,je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aY(this),this.u=!0,this.g.send(m),this.u=!1}catch(fe){rY(this,fe)}},n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ao(this,"complete"),Ao(this,"abort"),BT(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),BT(this,!0)),Hi.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?sY(this):this.bb())},n.bb=function(){sY(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<rl(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var y=this.g.responseText;return m&&0==y.indexOf(m)&&(y=y.substring(m.length)),wPe(y)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=lY.prototype).la=8,n.G=1,n.connect=function(m,y,I,N){ko(0),this.W=m,this.H=y||{},I&&void 0!==N&&(this.H.OSID=I,this.H.OAID=N),this.F=this.X,this.I=bY(this,null,this.W),jT(this)},n.Ga=function(m){if(this.s)if(this.s=null,1==this.G){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const ne=new yd(this,this.j,m);let fe=this.o;if(this.S&&(fe?(fe=R(fe),q(fe,this.S)):fe=this.S),null!==this.m||this.O||(ne.H=fe,fe=null),this.P)e:{for(var y=0,I=0;I<this.i.length;I++){var N=this.i[I];if(void 0===(N="__data__"in N.map&&"string"==typeof(N=N.map.__data__)?N.length:void 0))break;if(4096<(y+=N)){y=I;break e}if(4096===y||I===this.i.length-1){y=I+1;break e}}y=1e3}else y=1e3;y=hY(this,ne,y),xi(I=il(this.I),"RID",m),xi(I,"CVER",22),this.D&&xi(I,"X-HTTP-Session-Id",this.D),cy(this,I),fe&&(this.O?y="headers="+encodeURIComponent(String(iY(fe)))+"&"+y:this.m&&qF(I,this.m,fe)),WF(this.h,ne),this.Ua&&xi(I,"TYPE","init"),this.P?(xi(I,"$req",y),xi(I,"SID","null"),ne.T=!0,UF(ne,I,null)):UF(ne,I,y),this.G=2}}else 3==this.G&&(m?uY(this,m):0==this.i.length||qQ(this.h)||uY(this))},n.Fa=function(){if(this.u=null,mY(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Jv(p(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ko(10),UT(this),mY(this))},n.Za=function(){null!=this.C&&(this.C=null,UT(this),$F(this),ko(19))},n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ko(2)):(this.j.info("Failed to ping google.com"),ko(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=yY.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},HT.prototype.g=function(m,y){return new gs(m,y)},v(gs,lo),gs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gs.prototype.close=function(){GF(this.g)},gs.prototype.o=function(m){var y=this.g;if("string"==typeof m){var I={};I.__data__=m,m=I}else this.u&&((I={}).__data__=OF(m),m=I);y.i.push(new class{constructor(m,y){this.g=m,this.map=y}}(y.Ya++,m)),3==y.G&&jT(y)},gs.prototype.N=function(){this.g.l=null,delete this.j,GF(this.g),delete this.g,gs.aa.N.call(this)},v(wY,FF),v(xY,LF),v(gp,yY),gp.prototype.ua=function(){Ao(this.g,"a")},gp.prototype.ta=function(m){Ao(this.g,new wY(m))},gp.prototype.sa=function(m){Ao(this.g,new xY)},gp.prototype.ra=function(){Ao(this.g,"b")},HT.prototype.createWebChannel=HT.prototype.g,gs.prototype.send=gs.prototype.o,gs.prototype.open=gs.prototype.m,gs.prototype.close=gs.prototype.close,oH=wc.createWebChannelTransport=function(){return new HT},rH=wc.getStatEventTarget=function(){return RT()},iH=wc.Event=mh,WS=wc.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},MT.NO_ERROR=0,MT.TIMEOUT=8,MT.HTTP_ERROR=6,vx=wc.ErrorCode=MT,VQ.COMPLETE="complete",nH=wc.EventType=VQ,PQ.EventType=Yv,Yv.OPEN="a",Yv.CLOSE="b",Yv.ERROR="c",Yv.MESSAGE="d",lo.prototype.listen=lo.prototype.K,M_=wc.WebChannel=PQ,wc.FetchXmlHttpFactory=ry,Hi.prototype.listenOnce=Hi.prototype.L,Hi.prototype.getLastError=Hi.prototype.Ka,Hi.prototype.getLastErrorCode=Hi.prototype.Ba,Hi.prototype.getStatus=Hi.prototype.Z,Hi.prototype.getResponseJson=Hi.prototype.Oa,Hi.prototype.getResponseText=Hi.prototype.oa,Hi.prototype.send=Hi.prototype.ea,Hi.prototype.setWithCredentials=Hi.prototype.Ha,tH=wc.XhrIo=Hi}).apply(typeof bx<"u"?bx:typeof self<"u"?self:typeof window<"u"?window:{});const sH="@firebase/firestore";class kr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");let Xf="10.14.0";const Ml=new Na.Vy("@firebase/firestore");function Jf(){return Ml.logLevel}function Te(n,...t){if(Ml.logLevel<=Na.$b.DEBUG){const e=t.map(qS);Ml.debug(`Firestore (${Xf}): ${n}`,...e)}}function Yi(n,...t){if(Ml.logLevel<=Na.$b.ERROR){const e=t.map(qS);Ml.error(`Firestore (${Xf}): ${n}`,...e)}}function cs(n,...t){if(Ml.logLevel<=Na.$b.WARN){const e=t.map(qS);Ml.warn(`Firestore (${Xf}): ${n}`,...e)}}function qS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function $e(n="Unexpected state"){const t=`FIRESTORE (${Xf}) INTERNAL ASSERTION FAILED: `+n;throw Yi(t),new Error(t)}function Je(n,t){n||$e()}function Ve(n,t){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends yn.g{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Sr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class aH{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class nde{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(kr.UNAUTHENTICATED))}shutdown(){}}class ide{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class rde{constructor(t){this.t=t,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;Je(void 0===this.o);let r=this.i;const o=l=>this.i!==r?(r=this.i,e(l)):Promise.resolve();let s=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Sr,t.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;t.enqueueRetryable((0,G.A)(function*(){yield l.promise,yield o(i.currentUser)}))},c=l=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Sr)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Je("string"==typeof i.accessToken),new aH(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Je(null===t||"string"==typeof t),new kr(t)}}class ode{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sde{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new ode(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cH{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ade{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){Je(void 0===this.o);const i=o=>{null!=o.error&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Te("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Je("string"==typeof e.token),this.R=e.token,new cH(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cde(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class lH{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=cde(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function At(n,t){return n<t?-1:n>t?1:0}function Zf(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function dH(n){return n+"\0"}class Ti{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ee(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ee(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ee(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ee(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ti.fromMillis(Date.now())}static fromDate(t){return Ti.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ti(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?At(this.nanoseconds,t.nanoseconds):At(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class it{constructor(t){this.timestamp=t}static fromTimestamp(t){return new it(t)}static min(){return new it(new Ti(0,0))}static max(){return new it(new Ti(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class P_{constructor(t,e,i){void 0===e?e=0:e>t.length&&$e(),void 0===i?i=t.length-e:i>t.length-e&&$e(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===P_.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof P_?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),s=e.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class sn extends P_{construct(t,e,i){return new sn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ee(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new sn(e)}static emptyPath(){return new sn([])}}const lde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mi extends P_{construct(t,e,i){return new mi(t,e,i)}static isValidIdentifier(t){return lde.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Ee(le.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let s=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new Ee(le.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Ee(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new Ee(le.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new mi(e)}static emptyPath(){return new mi([])}}class ze{constructor(t){this.path=t}static fromPath(t){return new ze(sn.fromString(t))}static fromName(t){return new ze(sn.fromString(t).popFirst(5))}static empty(){return new ze(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===sn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return sn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ze(new sn(t.slice()))}}class em{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function GS(n){return n.fields.find(t=>2===t.kind)}function gu(n){return n.fields.filter(t=>2!==t.kind)}em.UNKNOWN_ID=-1;class _u{constructor(t,e){this.fieldPath=t,this.kind=e}}class tm{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new tm(0,ls.min())}}function uH(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=it.fromTimestamp(1e9===i?new Ti(e+1,0):new Ti(e,i));return new ls(r,ze.empty(),t)}function hH(n){return new ls(n.readTime,n.key,-1)}class ls{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ls(it.min(),ze.empty(),-1)}static max(){return new ls(it.max(),ze.empty(),-1)}}function $S(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=ze.comparator(n.documentKey,t.documentKey),0!==e?e:At(n.largestBatchId,t.largestBatchId))}const fH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Pl(n){return KS.apply(this,arguments)}function KS(){return(KS=(0,G.A)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==fH)throw n;Te("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ie{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&$e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ie((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ie?e:ie.resolve(e)}catch(e){return ie.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ie.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ie.reject(e)}static resolve(t){return new ie((e,i)=>{e(t)})}static reject(t){return new ie((e,i)=>{i(t)})}static waitFor(t){return new ie((e,i)=>{let r=0,o=0,s=!1;t.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&e()},c=>i(c))}),s=!0,o===r&&e()})}static or(t){let e=ie.resolve(!1);for(const i of t)e=e.next(r=>r?ie.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ie((i,r)=>{const o=t.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;e(t[l]).next(d=>{s[l]=d,++a,a===o&&i(s)},d=>r(d))}})}static doWhile(t,e){return new ie((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class yx{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new Sr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new O_(t,e.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=QS(i.target.error);this.V.reject(new O_(t,r))}}static open(t,e,i,r){try{return new yx(e,t.transaction(r,i))}catch(o){throw new O_(e,o)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Te("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new fde(e)}}class Fa{constructor(t,e,i){this.name=t,this.version=e,this.p=i,12.2===Fa.S((0,yn.ZQ)())&&Yi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Te("SimpleDb","Removing database:",t),bu(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,yn.zW)())return!1;if(Fa.v())return!0;const t=(0,yn.ZQ)(),e=Fa.S(t),i=0<e&&e<10,r=pH(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static v(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.C)}static F(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(t){var e=this;return(0,G.A)(function*(){return e.db||(Te("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new O_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new Ee(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new Ee(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new O_(t,a))},o.onupgradeneeded=s=>{Te("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',s.oldVersion),e.p.O(s.target.result,o.transaction,s.oldVersion,e.version).next(()=>{Te("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.N&&(e.db.onversionchange=i=>e.N(i)),e.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,G.A)(function*(){const s="readonly"===e;let a=0;for(;;){++a;try{o.db=yield o.M(t);const c=yx.open(o.db,t,s?"readonly":"readwrite",i),l=r(c).next(d=>(c.g(),d)).catch(d=>(c.abort(d),ie.reject(d))).toPromise();return l.catch(()=>{}),yield c.m,l}catch(c){const l=c,d="FirebaseError"!==l.name&&a<3;if(Te("SimpleDb","Transaction failed with error:",l.message,"Retrying:",d),o.close(),!d)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function pH(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class hde{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return bu(this.B.delete())}}class O_ extends Ee{constructor(t,e){super(le.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Ol(n){return"IndexedDbTransactionError"===n.name}class fde{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Te("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Te("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),bu(i)}add(t){return Te("SimpleDb","ADD",this.store.name,t,t),bu(this.store.add(t))}get(t){return bu(this.store.get(t)).next(e=>(void 0===e&&(e=null),Te("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Te("SimpleDb","DELETE",this.store.name,t),bu(this.store.delete(t))}count(){return Te("SimpleDb","COUNT",this.store.name),bu(this.store.count())}U(t,e){const i=this.options(t,e),r=i.index?this.store.index(i.index):this.store;if("function"==typeof r.getAll){const o=r.getAll(i.range);return new ie((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{const o=this.cursor(i),s=[];return this.W(o,(a,c)=>{s.push(c)}).next(()=>s)}}G(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ie((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}j(t,e){Te("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.H=!1;const r=this.cursor(i);return this.W(r,(o,s,a)=>a.delete())}J(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Y(t){const e=this.cursor({});return new ie((i,r)=>{e.onerror=o=>{const s=QS(o.target.error);r(s)},e.onsuccess=o=>{const s=o.target.result;s?t(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}W(t,e){const i=[];return new ie((r,o)=>{t.onerror=s=>{o(s.target.error)},t.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new hde(a),l=e(a.primaryKey,a.value,c);if(l instanceof ie){const d=l.catch(u=>(c.done(),ie.reject(u)));i.push(d)}c.isDone?r():null===c.K?a.continue():a.continue(c.K)}}).next(()=>ie.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function bu(n){return new ie((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=QS(i.target.error);e(r)}})}let gH=!1;function QS(n){const t=Fa.S((0,yn.ZQ)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gH||(gH=!0,setTimeout(()=>{throw i},0)),i}}return n}class mde{constructor(t,e){this.asyncQueue=t,this.Z=e,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var e=this;Te("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,G.A)(function*(){e.task=null;try{Te("IndexBackfiller",`Documents written: ${yield e.Z.ee()}`)}catch(i){Ol(i)?Te("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield Pl(i)}yield e.X(6e4)}))}}class pde{constructor(t,e){this.localStore=t,this.persistence=e}ee(t=50){var e=this;return(0,G.A)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.te(i,t))})()}te(t,e){const i=new Set;let r=e,o=!0;return ie.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(s=>{if(null!==s&&!i.has(s))return Te("IndexBackfiller",`Processing collection: ${s}`),this.ne(t,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>e-r)}ne(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(t,s).next(()=>this.re(r,o)).next(a=>(Te("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,e,a))).next(()=>s.size)}))}re(t,e){let i=t;return e.changes.forEach((r,o)=>{const s=hH(o);$S(s,i)>0&&(i=s)}),new ls(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let ds=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}return n.oe=-1,n})();function N_(n){return null==n}function F_(n){return 0===n&&1/n==-1/0}function _H(n){return"number"==typeof n&&Number.isInteger(n)&&!F_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function no(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=bH(t)),t=gde(n.get(e),t);return bH(t)}function gde(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function bH(n){return n+"\x01\x01"}function La(n){const t=n.length;if(Je(t>=2),2===t)return Je("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),sn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const s=n.indexOf("\x01",o);switch((s<0||s>e)&&$e(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),i.push(c);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:$e()}o=s+2}return new sn(i)}const vH=["userId","batchId"];function wx(n,t){return[n,no(t)]}function yH(n,t,e){return[n,no(t),e]}const _de={},bde=["prefixPath","collectionGroup","readTime","documentId"],vde=["prefixPath","collectionGroup","documentId"],yde=["collectionGroup","readTime","prefixPath","documentId"],wde=["canonicalId","targetId"],xde=["targetId","path"],Ede=["path","targetId"],Ide=["collectionId","parent"],Tde=["indexId","uid"],Cde=["uid","sequenceNumber"],Ade=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kde=["indexId","uid","orderedDocumentKey"],Sde=["userId","collectionPath","documentId"],Dde=["userId","collectionPath","largestBatchId"],Rde=["userId","collectionGroup","largestBatchId"],wH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Mde=[...wH,"documentOverlays"],xH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],EH=xH,YS=[...EH,"indexConfiguration","indexState","indexEntries"],Pde=YS,Ode=[...YS,"globals"];class XS extends mH{constructor(t,e){super(),this._e=t,this.currentSequenceNumber=e}}function _r(n,t){const e=Ve(n);return Fa.F(e._e,t)}function IH(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Nl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function CH(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class oi{constructor(t,e){this.comparator=t,this.root=e||Vr.EMPTY}insert(t,e){return new oi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Vr.BLACK,null,null))}remove(t){return new oi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Vr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xx(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xx(this.root,t,this.comparator,!1)}getReverseIterator(){return new xx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xx(this.root,t,this.comparator,!0)}}class xx{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Vr{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Vr.RED,this.left=r??Vr.EMPTY,this.right=o??Vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Vr(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Vr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Vr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $e();const t=this.left.check();if(t!==this.right.check())throw $e();return t+(this.isRed()?0:1)}}Vr.EMPTY=null,Vr.RED=!0,Vr.BLACK=!1,Vr.EMPTY=new class{constructor(){this.size=0}get key(){throw $e()}get value(){throw $e()}get color(){throw $e()}get left(){throw $e()}get right(){throw $e()}copy(t,e,i,r,o){return this}insert(t,e,i){return new Vr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(t){this.comparator=t,this.data=new oi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new AH(this.data.getIterator())}getIteratorFrom(t){return new AH(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Vn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Vn(this.comparator);return e.data=t,e}}class AH{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function nm(n){return n.hasNext()?n.getNext():void 0}class Bo{constructor(t){this.fields=t,t.sort(mi.comparator)}static empty(){return new Bo([])}unionWith(t){let e=new Vn(mi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Bo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Zf(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class kH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ui{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new kH("Invalid base64 string: "+o):o}}(t);return new Ui(e)}static fromUint8Array(t){const e=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new Ui(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return At(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const Fde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xc(n){if(Je(!!n),"string"==typeof n){let t=0;const e=Fde.exec(n);if(Je(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ci(n.seconds),nanos:Ci(n.nanos)}}function Ci(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ec(n){return"string"==typeof n?Ui.fromBase64String(n):Ui.fromUint8Array(n)}function Ex(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Ix(n){const t=n.mapValue.fields.__previous_value__;return Ex(t)?Ix(t):t}function L_(n){const t=xc(n.mapValue.fields.__local_write_time__.timestampValue);return new Ti(t.seconds,t.nanos)}class Lde{constructor(t,e,i,r,o,s,a,c,l){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Fl{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Fl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Fl&&t.projectId===this.projectId&&t.database===this.database}}const Ll={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Tx={nullValue:"NULL_VALUE"};function Vl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ex(n)?4:PH(n)?9007199254740991:kx(n)?10:11:$e()}function Va(n,t){if(n===t)return!0;const e=Vl(n);if(e!==Vl(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return L_(n).isEqual(L_(t));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=xc(r.timestampValue),a=xc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return o=t,Ec(n.bytesValue).isEqual(Ec(o.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return Ci(r.geoPointValue.latitude)===Ci(o.geoPointValue.latitude)&&Ci(r.geoPointValue.longitude)===Ci(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ci(r.integerValue)===Ci(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Ci(r.doubleValue),a=Ci(o.doubleValue);return s===a?F_(s)===F_(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return Zf(n.arrayValue.values||[],t.arrayValue.values||[],Va);case 10:case 11:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(IH(s)!==IH(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!Va(s[c],a[c])))return!1;return!0}(n,t);default:return $e()}var o}function V_(n,t){return void 0!==(n.values||[]).find(e=>Va(e,t))}function Bl(n,t){if(n===t)return 0;const e=Vl(n),i=Vl(t);if(e!==i)return At(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return At(n.booleanValue,t.booleanValue);case 2:return function(o,s){const a=Ci(o.integerValue||o.doubleValue),c=Ci(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,t);case 3:return SH(n.timestampValue,t.timestampValue);case 4:return SH(L_(n),L_(t));case 5:return At(n.stringValue,t.stringValue);case 6:return function(o,s){const a=Ec(o),c=Ec(s);return a.compareTo(c)}(n.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){const d=At(a[l],c[l]);if(0!==d)return d}return At(a.length,c.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,s){const a=At(Ci(o.latitude),Ci(s.latitude));return 0!==a?a:At(Ci(o.longitude),Ci(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return DH(n.arrayValue,t.arrayValue);case 10:return function(o,s){var a,c,l,d;const b=null===(a=(o.fields||{}).value)||void 0===a?void 0:a.arrayValue,v=null===(c=(s.fields||{}).value)||void 0===c?void 0:c.arrayValue,w=At((null===(l=b?.values)||void 0===l?void 0:l.length)||0,(null===(d=v?.values)||void 0===d?void 0:d.length)||0);return 0!==w?w:DH(b,v)}(n.mapValue,t.mapValue);case 11:return function(o,s){if(o===Ll.mapValue&&s===Ll.mapValue)return 0;if(o===Ll.mapValue)return 1;if(s===Ll.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),l=s.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let u=0;u<c.length&&u<d.length;++u){const p=At(c[u],d[u]);if(0!==p)return p;const b=Bl(a[c[u]],l[d[u]]);if(0!==b)return b}return At(c.length,d.length)}(n.mapValue,t.mapValue);default:throw $e()}}function SH(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return At(n,t);const e=xc(n),i=xc(t),r=At(e.seconds,i.seconds);return 0!==r?r:At(e.nanos,i.nanos)}function DH(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Bl(e[r],i[r]);if(o)return o}return At(e.length,i.length)}function im(n){return JS(n)}function JS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=xc(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ec(n.bytesValue).toBase64():"referenceValue"in n?ze.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=JS(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${JS(e.fields[s])}`;return r+"}"}(n.mapValue):$e()}function vu(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function ZS(n){return!!n&&"integerValue"in n}function B_(n){return!!n&&"arrayValue"in n}function RH(n){return!!n&&"nullValue"in n}function MH(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ax(n){return!!n&&"mapValue"in n}function kx(n){var t,e;return"__vector__"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function U_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Nl(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=U_(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=U_(n.arrayValue.values[e]);return t}return Object.assign({},n)}function PH(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}const OH={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Vde(n){return"nullValue"in n?Tx:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?vu(Fl.empty(),ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?kx(n)?OH:{mapValue:{}}:$e()}function Bde(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?vu(Fl.empty(),ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?OH:"mapValue"in n?kx(n)?{mapValue:{}}:Ll:$e()}function NH(n,t){const e=Bl(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function FH(n,t){const e=Bl(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Br{constructor(t){this.value=t}static empty(){return new Br({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Ax(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=U_(e)}setAll(t){let e=mi.emptyPath(),i={},r=[];t.forEach((s,a)=>{if(!e.isImmediateParentOf(a)){const c=this.getFieldsMap(e);this.applyChanges(c,i,r),i={},r=[],e=a.popLast()}s?i[a.lastSegment()]=U_(s):r.push(a.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Ax(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Va(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Ax(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Nl(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Br(U_(this.value))}}function LH(n){const t=[];return Nl(n.fields,(e,i)=>{const r=new mi([e]);if(Ax(i)){const o=LH(i.mapValue).fields;if(0===o.length)t.push(r);else for(const s of o)t.push(r.child(s))}else t.push(r)}),new Bo(t)}class pi{constructor(t,e,i,r,o,s,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new pi(t,0,it.min(),it.min(),it.min(),Br.empty(),0)}static newFoundDocument(t,e,i,r){return new pi(t,1,e,it.min(),i,r,0)}static newNoDocument(t,e){return new pi(t,2,e,it.min(),it.min(),Br.empty(),0)}static newUnknownDocument(t,e){return new pi(t,3,e,it.min(),it.min(),Br.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(it.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Br.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=it.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof pi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new pi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ul{constructor(t,e){this.position=t,this.inclusive=e}}function VH(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],s=n.position[r];if(i=o.field.isKeyField()?ze.comparator(ze.fromName(s.referenceValue),e.key):Bl(s,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function BH(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Va(n.position[e],t.position[e]))return!1;return!0}class j_{constructor(t,e="asc"){this.field=t,this.dir=e}}function Ude(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class UH{}class an extends UH{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new jde(t,e,i):"array-contains"===e?new Wde(t,i):"in"===e?new GH(t,i):"not-in"===e?new qde(t,i):"array-contains-any"===e?new Gde(t,i):new an(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new zde(t,i):new Hde(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Bl(e,this.value)):null!==e&&Vl(this.value)===Vl(e)&&this.matchesComparison(Bl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return $e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rn extends UH{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Rn(t,e)}matches(t){return rm(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rm(n){return"and"===n.op}function eD(n){return"or"===n.op}function tD(n){return jH(n)&&rm(n)}function jH(n){for(const t of n.filters)if(t instanceof Rn)return!1;return!0}function nD(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+im(n.value);if(tD(n))return n.filters.map(t=>nD(t)).join(",");{const t=n.filters.map(e=>nD(e)).join(",");return`${n.op}(${t})`}}function zH(n,t){return n instanceof an?(i=n,(r=t)instanceof an&&i.op===r.op&&i.field.isEqual(r.field)&&Va(i.value,r.value)):n instanceof Rn?function(i,r){return r instanceof Rn&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&zH(s,r.filters[a]),!0)}(n,t):void $e();var i,r}function HH(n,t){const e=n.filters.concat(t);return Rn.create(e,n.op)}function WH(n){return n instanceof an?`${(e=n).field.canonicalString()} ${e.op} ${im(e.value)}`:n instanceof Rn?function(e){return e.op.toString()+" {"+e.getFilters().map(WH).join(" ,")+"}"}(n):"Filter";var e}class jde extends an{constructor(t,e,i){super(t,e,i),this.key=ze.fromName(i.referenceValue)}matches(t){const e=ze.comparator(t.key,this.key);return this.matchesComparison(e)}}class zde extends an{constructor(t,e){super(t,"in",e),this.keys=qH(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Hde extends an{constructor(t,e){super(t,"not-in",e),this.keys=qH(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function qH(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>ze.fromName(i.referenceValue))}class Wde extends an{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return B_(e)&&V_(e.arrayValue,this.value)}}class GH extends an{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&V_(this.value.arrayValue,e)}}class qde extends an{constructor(t,e){super(t,"not-in",e)}matches(t){if(V_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!V_(this.value.arrayValue,e)}}class Gde extends an{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!B_(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>V_(this.value.arrayValue,i))}}class $de{constructor(t,e=null,i=[],r=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function iD(n,t=null,e=[],i=[],r=null,o=null,s=null){return new $de(n,t,e,i,r,o,s)}function yu(n){const t=Ve(n);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>nD(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),N_(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>im(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>im(i)).join(",")),t.ue=e}return t.ue}function z_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!Ude(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!zH(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!BH(n.startAt,t.startAt)&&BH(n.endAt,t.endAt)}function Sx(n){return ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Dx(n,t){return n.filters.filter(e=>e instanceof an&&e.field.isEqual(t))}function $H(n,t,e){let i=Tx,r=!0;for(const o of Dx(n,t)){let s=Tx,a=!0;switch(o.op){case"<":case"<=":s=Vde(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Tx}NH({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];NH({value:i,inclusive:r},{value:s,inclusive:e.inclusive})<0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}function KH(n,t,e){let i=Ll,r=!0;for(const o of Dx(n,t)){let s=Ll,a=!0;switch(o.op){case">=":case">":s=Bde(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Ll}FH({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];FH({value:i,inclusive:r},{value:s,inclusive:e.inclusive})>0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}class Ic{constructor(t,e=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null}}function QH(n,t,e,i,r,o,s,a){return new Ic(n,t,e,i,r,o,s,a)}function om(n){return new Ic(n)}function YH(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function rD(n){return null!==n.collectionGroup}function sm(n){const t=Ve(n);if(null===t.ce){t.ce=[];const e=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Vn(mi.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.ce.push(new j_(o,i))}),e.has(mi.keyField().canonicalString())||t.ce.push(new j_(mi.keyField(),i))}return t.ce}function io(n){const t=Ve(n);return t.le||(t.le=function JH(n,t){if("F"===n.limitType)return iD(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new j_(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new Ul(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ul(n.startAt.position,n.startAt.inclusive):null;return iD(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,sm(n))),t.le}function oD(n,t){const e=n.filters.concat([t]);return new Ic(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Rx(n,t,e){return new Ic(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function H_(n,t){return z_(io(n),io(t))&&n.limitType===t.limitType}function ZH(n){return`${yu(io(n))}|lt:${n.limitType}`}function am(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>WH(r)).join(", ")}]`),N_(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>im(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>im(r)).join(",")),`Target(${i})`}(io(n))}; limitType=${n.limitType})`}function W_(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ze.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of sm(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(s,a,c){const l=VH(s,a,c);return s.inclusive?l<=0:l<0}(i.startAt,sm(i),r)||i.endAt&&!function(s,a,c){const l=VH(s,a,c);return s.inclusive?l>=0:l>0}(i.endAt,sm(i),r)));var i,r}function e3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function t3(n){return(t,e)=>{let i=!1;for(const r of sm(n)){const o=Kde(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function Kde(n,t,e){const i=n.field.isKeyField()?ze.comparator(t.key,e.key):function(o,s,a){const c=s.data.field(o),l=a.data.field(o);return null!==c&&null!==l?Bl(c,l):$e()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return $e()}}class Tc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Nl(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return CH(this.inner)}size(){return this.innerSize}}const Qde=new oi(ze.comparator);function Uo(){return Qde}const n3=new oi(ze.comparator);function q_(...n){let t=n3;for(const e of n)t=t.insert(e.key,e);return t}function r3(n){let t=n3;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Ba(){return G_()}function o3(){return G_()}function G_(){return new Tc(n=>n.toString(),(n,t)=>n.isEqual(t))}const Yde=new oi(ze.comparator),Xde=new Vn(ze.comparator);function Ft(...n){let t=Xde;for(const e of n)t=t.add(e);return t}const Jde=new Vn(At);function sD(){return Jde}function aD(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:F_(t)?"-0":t}}function s3(n){return{integerValue:""+n}}function a3(n,t){return _H(t)?s3(t):aD(n,t)}class Mx{constructor(){this._=void 0}}function Zde(n,t,e){return n instanceof cm?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Ex(o)&&(o=Ix(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(e,t):n instanceof wu?l3(n,t):n instanceof xu?d3(n,t):function(r,o){const s=c3(r,o),a=u3(s)+u3(r.Pe);return ZS(s)&&ZS(r.Pe)?s3(a):aD(r.serializer,a)}(n,t)}function eue(n,t,e){return n instanceof wu?l3(n,t):n instanceof xu?d3(n,t):e}function c3(n,t){return n instanceof lm?ZS(i=t)||(o=i)&&"doubleValue"in o?t:{integerValue:0}:null;var i,o}class cm extends Mx{}class wu extends Mx{constructor(t){super(),this.elements=t}}function l3(n,t){const e=h3(t);for(const i of n.elements)e.some(r=>Va(r,i))||e.push(i);return{arrayValue:{values:e}}}class xu extends Mx{constructor(t){super(),this.elements=t}}function d3(n,t){let e=h3(t);for(const i of n.elements)e=e.filter(r=>!Va(r,i));return{arrayValue:{values:e}}}class lm extends Mx{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function u3(n){return Ci(n.integerValue||n.doubleValue)}function h3(n){return B_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class $_{constructor(t,e){this.field=t,this.transform=e}}class nue{constructor(t,e){this.version=t,this.transformResults=e}}class Ai{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ai}static exists(t){return new Ai(void 0,t)}static updateTime(t){return new Ai(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Px(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Ox{}function f3(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new um(n.key,Ai.none()):new dm(n.key,n.data,Ai.none());{const e=n.data,i=Br.empty();let r=new Vn(mi.comparator);for(let o of t.fields)if(!r.has(o)){let s=e.field(o);null===s&&o.length>1&&(o=o.popLast(),s=e.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new Cc(n.key,i,new Bo(r.toArray()),Ai.none())}}function iue(n,t,e){n instanceof dm?function(r,o,s){const a=r.value.clone(),c=g3(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):n instanceof Cc?function(r,o,s){if(!Px(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=g3(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(p3(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function K_(n,t,e,i){return n instanceof dm?function(o,s,a,c){if(!Px(o.precondition,s))return a;const l=o.value.clone(),d=_3(o.fieldTransforms,c,s);return l.setAll(d),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,t,e,i):n instanceof Cc?function(o,s,a,c){if(!Px(o.precondition,s))return a;const l=_3(o.fieldTransforms,c,s),d=s.data;return d.setAll(p3(o)),d.setAll(l),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(u=>u.field))}(n,t,e,i):(a=e,Px(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function rue(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=c3(i.transform,r||null);null!=o&&(null===e&&(e=Br.empty()),e.set(i.field,o))}return e||null}function m3(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Zf(i,r,(o,s)=>function tue(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof wu&&r instanceof wu||i instanceof xu&&r instanceof xu?Zf(i.elements,r.elements,Va):i instanceof lm&&r instanceof lm?Va(i.Pe,r.Pe):i instanceof cm&&r instanceof cm);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class dm extends Ox{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Cc extends Ox{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function p3(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function g3(n,t,e){const i=new Map;Je(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],s=o.transform,a=t.data.field(o.field);i.set(o.field,eue(s,a,e[r]))}return i}function _3(n,t,e){const i=new Map;for(const r of n){const o=r.transform,s=e.data.field(r.field);i.set(r.field,Zde(o,s,t))}return i}class um extends Ox{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cD extends Ox{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lD{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&iue(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=K_(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=K_(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=o3();return this.mutations.forEach(r=>{const o=t.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=e.has(r.key)?null:a;const c=f3(s,a);null!==c&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(it.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ft())}isEqual(t){return this.batchId===t.batchId&&Zf(this.mutations,t.mutations,(e,i)=>m3(e,i))&&Zf(this.baseMutations,t.baseMutations,(e,i)=>m3(e,i))}}class dD{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Je(t.mutations.length===i.length);let r=Yde;const o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new dD(t,e,i,r)}}class uD{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class oue{constructor(t,e){this.count=t,this.unchangedNames=e}}var sr,fn;function v3(n){switch(n){default:return $e();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function y3(n){if(void 0===n)return Yi("GRPC error has no .code"),le.UNKNOWN;switch(n){case sr.OK:return le.OK;case sr.CANCELLED:return le.CANCELLED;case sr.UNKNOWN:return le.UNKNOWN;case sr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case sr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case sr.INTERNAL:return le.INTERNAL;case sr.UNAVAILABLE:return le.UNAVAILABLE;case sr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case sr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case sr.NOT_FOUND:return le.NOT_FOUND;case sr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case sr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case sr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case sr.ABORTED:return le.ABORTED;case sr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case sr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case sr.DATA_LOSS:return le.DATA_LOSS;default:return $e()}}(fn=sr||(sr={}))[fn.OK=0]="OK",fn[fn.CANCELLED=1]="CANCELLED",fn[fn.UNKNOWN=2]="UNKNOWN",fn[fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fn[fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fn[fn.NOT_FOUND=5]="NOT_FOUND",fn[fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",fn[fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",fn[fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",fn[fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fn[fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fn[fn.ABORTED=10]="ABORTED",fn[fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",fn[fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",fn[fn.INTERNAL=13]="INTERNAL",fn[fn.UNAVAILABLE=14]="UNAVAILABLE",fn[fn.DATA_LOSS=15]="DATA_LOSS";function w3(){return new TextEncoder}const sue=new pu([4294967295,4294967295],0);function x3(n){const t=w3().encode(n),e=new eH;return e.update(t),new Uint8Array(e.digest())}function E3(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new pu([e,i],0),new pu([r,o],0)]}class hD{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Q_(`Invalid padding: ${e}`);if(i<0)throw new Q_(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new Q_(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new Q_(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=pu.fromNumber(this.Ie)}Ee(t,e,i){let r=t.add(e.multiply(pu.fromNumber(i)));return 1===r.compare(sue)&&(r=new pu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=x3(t),[i,r]=E3(e);for(let o=0;o<this.hashCount;o++){const s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new hD(o,r,e);return i.forEach(a=>s.insert(a)),s}insert(t){if(0===this.Ie)return;const e=x3(t),[i,r]=E3(e);for(let o=0;o<this.hashCount;o++){const s=this.Ee(i,r,o);this.Ae(s)}}Ae(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class Q_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Y_{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,X_.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Y_(it.min(),r,new oi(At),Uo(),Ft())}}class X_{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new X_(i,e,Ft(),Ft(),Ft())}}class Fx{constructor(t,e,i,r){this.Re=t,this.removedTargetIds=e,this.key=i,this.Ve=r}}class I3{constructor(t,e){this.targetId=t,this.me=e}}class T3{constructor(t,e,i=Ui.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class C3{constructor(){this.fe=0,this.ge=k3(),this.pe=Ui.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Ft(),e=Ft(),i=Ft();return this.ge.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:$e()}}),new X_(this.pe,this.ye,t,e,i)}Ce(){this.we=!1,this.ge=k3()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class aue{constructor(t){this.Le=t,this.Be=new Map,this.ke=Uo(),this.qe=A3(),this.Qe=new oi(At)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const i=this.Ge(e);switch(t.state){case 0:this.ze(e)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),i.De(t.resumeToken));break;default:$e()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((i,r)=>{this.ze(r)&&e(r)})}He(t){const e=t.targetId,i=t.me.count,r=this.Je(e);if(r){const o=r.target;if(Sx(o))if(0===i){const s=new ze(o.path);this.Ue(e,s,pi.newNoDocument(s,it.min()))}else Je(1===i);else{const s=this.Ye(e);if(s!==i){const a=this.Ze(t),c=a?this.Xe(a,t,s):1;0!==c&&(this.je(e),this.Qe=this.Qe.insert(e,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let s,a;try{s=Ec(i).toUint8Array()}catch(c){if(c instanceof kH)return cs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new hD(s,r,o)}catch(c){return cs(c instanceof Q_?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Ie?null:a}Xe(t,e,i){return e.me.count===i-this.nt(t,e.targetId)?0:2}nt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.Ue(e,o,null),r++)}),r}rt(t){const e=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Sx(a.target)){const c=new ze(a.target.path);null!==this.ke.get(c)||this.it(s,c)||this.Ue(s,c,pi.newNoDocument(c,t))}o.be&&(e.set(s,o.ve()),o.Ce())}});let i=Ft();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.Je(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(t));const r=new Y_(t,e,this.Qe,this.ke,i);return this.ke=Uo(),this.qe=A3(),this.Qe=new oi(At),r}$e(t,e){if(!this.ze(t))return;const i=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,i),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,i){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,e)?r.Fe(e,1):r.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),i&&(this.ke=this.ke.insert(e,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new C3,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new Vn(At),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||Te("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new C3),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function A3(){return new oi(ze.comparator)}function k3(){return new oi(ze.comparator)}const cue={asc:"ASCENDING",desc:"DESCENDING"},lue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},due={and:"AND",or:"OR"};class uue{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function fD(n,t){return n.useProto3Json||N_(t)?t:{value:t}}function hm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function S3(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function hue(n,t){return hm(n,t.toTimestamp())}function Xi(n){return Je(!!n),it.fromTimestamp(function(e){const i=xc(e);return new Ti(i.seconds,i.nanos)}(n))}function mD(n,t){return pD(n,t).canonicalString()}function pD(n,t){const e=(r=n,new sn(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?e:e.child(t)}function D3(n){const t=sn.fromString(n);return Je(j3(t)),t}function J_(n,t){return mD(n.databaseId,t.path)}function Ua(n,t){const e=D3(t);if(e.get(1)!==n.databaseId.projectId)throw new Ee(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ee(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ze(P3(e))}function R3(n,t){return mD(n.databaseId,t)}function M3(n){const t=D3(n);return 4===t.length?sn.emptyPath():P3(t)}function gD(n){return new sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function P3(n){return Je(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function O3(n,t,e){return{name:J_(n,t),fields:e.value.mapValue.fields}}function N3(n,t,e){const i=Ua(n,t.name),r=Xi(t.updateTime),o=t.createTime?Xi(t.createTime):it.min(),s=new Br({mapValue:{fields:t.fields}}),a=pi.newFoundDocument(i,r,o,s);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function Z_(n,t){let e;if(t instanceof dm)e={update:O3(n,t.key,t.value)};else if(t instanceof um)e={delete:J_(n,t.key)};else if(t instanceof Cc)e={update:O3(n,t.key,t.data),updateMask:yue(t.fieldMask)};else{if(!(t instanceof cD))return $e();e={verify:J_(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof cm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof lm)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw $e()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:hue(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:$e()),e;var o}function _D(n,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?Ai.updateTime(Xi(o.updateTime)):void 0!==o.exists?Ai.exists(o.exists):Ai.none():Ai.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let c=null;"setToServerValue"in a?(Je("REQUEST_TIME"===a.setToServerValue),c=new cm):"appendMissingElements"in a?c=new wu(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new xu(a.removeAllFromArray.values||[]):"increment"in a?c=new lm(s,a.increment):$e();const l=mi.fromServerFormat(a.fieldPath);return new $_(l,c)}(n,r)):[];var o;if(t.update){const r=Ua(n,t.update.name),o=new Br({mapValue:{fields:t.update.fields}});if(t.updateMask){const s=new Bo((t.updateMask.fieldPaths||[]).map(d=>mi.fromServerFormat(d)));return new Cc(r,o,s,e,i)}return new dm(r,o,e,i)}if(t.delete){const r=Ua(n,t.delete);return new um(r,e)}if(t.verify){const r=Ua(n,t.verify);return new cD(r,e)}return $e()}function F3(n,t){return{documents:[R3(n,t.path)]}}function Lx(n,t){const e={structuredQuery:{}},i=t.path;let r;null!==t.collectionGroup?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=R3(n,r);const o=function(l){if(0!==l.length)return U3(Rn.create(l,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const s=function(l){if(0!==l.length)return l.map(d=>{return{field:jl((p=d).field),direction:_ue(p.dir)};var p})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const a=fD(n,t.limit);return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{_t:e,parent:r};var l}function V3(n){let t=M3(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Je(1===i);const d=e.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let o=[];e.where&&(o=function(u){const p=B3(u);return p instanceof Rn&&tD(p)?p.getFilters():[p]}(e.where));let s=[];e.orderBy&&(s=e.orderBy.map(p=>{return new j_(fm((v=p).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction));var v}));let a=null;e.limit&&(a=function(u){let p;return p="object"==typeof u?u.value:u,N_(p)?null:p}(e.limit));let c=null;var u;e.startAt&&(c=new Ul((u=e.startAt).values||[],!!u.before));let l=null;return e.endAt&&(l=function(u){return new Ul(u.values||[],!u.before)}(e.endAt)),QH(t,r,s,o,a,"F",c,l)}function B3(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=fm(e.unaryFilter.field);return an.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=fm(e.unaryFilter.field);return an.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fm(e.unaryFilter.field);return an.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=fm(e.unaryFilter.field);return an.create(s,"!=",{nullValue:"NULL_VALUE"});default:return $e()}}(n):void 0!==n.fieldFilter?an.create(fm((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $e()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Rn.create(e.compositeFilter.filters.map(i=>B3(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return $e()}}(e.compositeFilter.op))}(n):$e();var e}function _ue(n){return cue[n]}function bue(n){return lue[n]}function vue(n){return due[n]}function jl(n){return{fieldPath:n.canonicalString()}}function fm(n){return mi.fromServerFormat(n.fieldPath)}function U3(n){return n instanceof an?function(e){if("=="===e.op){if(MH(e.value))return{unaryFilter:{field:jl(e.field),op:"IS_NAN"}};if(RH(e.value))return{unaryFilter:{field:jl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(MH(e.value))return{unaryFilter:{field:jl(e.field),op:"IS_NOT_NAN"}};if(RH(e.value))return{unaryFilter:{field:jl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jl(e.field),op:bue(e.op),value:e.value}}}(n):n instanceof Rn?function(e){const i=e.getFilters().map(r=>U3(r));return 1===i.length?i[0]:{compositeFilter:{op:vue(e.op),filters:i}}}(n):$e()}function yue(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function j3(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ac{constructor(t,e,i,r,o=it.min(),s=it.min(),a=Ui.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(t){return new Ac(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ac(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ac(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ac(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class z3{constructor(t){this.ct=t}}function H3(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Vx(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:J_(o=n.ct,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:hm(o,s.version.toTimestamp()),createTime:hm(o,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Eu(t.version)};else{if(!t.isUnknownDocument())return $e();i.unknownDocument={path:e.path.toArray(),version:Eu(t.version)}}var o,s;return i}function Vx(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Eu(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Iu(n){const t=new Ti(n.seconds,n.nanoseconds);return it.fromTimestamp(t)}function Tu(n,t){const e=(t.baseMutations||[]).map(o=>_D(n.ct,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>_D(n.ct,o)),r=Ti.fromMillis(t.localWriteTimeMs);return new lD(t.batchId,r,e,i)}function eb(n){const t=Iu(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Iu(n.lastLimboFreeSnapshotVersion):it.min();let i;return i=void 0!==n.query.documents?(Je(1===(o=n.query).documents.length),io(om(M3(o.documents[0])))):function(o){return io(V3(o))}(n.query),new Ac(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Ui.fromBase64String(n.resumeToken));var o}function W3(n,t){const e=Eu(t.snapshotVersion),i=Eu(t.lastLimboFreeSnapshotVersion);let r;r=Sx(t.target)?F3(n.ct,t.target):Lx(n.ct,t.target)._t;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:yu(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function bD(n){const t=V3({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Rx(t,t.limit,"L"):t}function vD(n,t){return new uD(t.largestBatchId,_D(n.ct,t.overlayMutation))}function q3(n,t){const e=t.path.lastSegment();return[n,no(t.path.popLast()),e]}function G3(n,t,e,i){return{indexId:n,uid:t,sequenceNumber:e,readTime:Eu(i.readTime),documentKey:no(i.documentKey.path),largestBatchId:i.largestBatchId}}class xue{getBundleMetadata(t,e){return $3(t).get(e).next(i=>{if(i)return{id:(o=i).bundleId,createTime:Iu(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return $3(t).put({bundleId:(r=e).id,createTime:Eu(Xi(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return K3(t).get(e).next(i=>{if(i)return{name:(o=i).name,query:bD(o.bundledQuery),readTime:Iu(o.readTime)};var o})}saveNamedQuery(t,e){return K3(t).put({name:(r=e).name,readTime:Eu(Xi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function $3(n){return _r(n,"bundles")}function K3(n){return _r(n,"namedQueries")}class Bx{constructor(t,e){this.serializer=t,this.userId=e}static lt(t,e){return new Bx(t,e.uid||"")}getOverlay(t,e){return tb(t).get(q3(this.userId,e)).next(i=>i?vD(this.serializer,i):null)}getOverlays(t,e){const i=Ba();return ie.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,s)=>{const a=new uD(e,s);r.push(this.ht(t,a))}),ie.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(s=>r.add(no(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(tb(t).j("collectionPathOverlayIndex",a))}),ie.waitFor(o)}getOverlaysForCollection(t,e,i){const r=Ba(),o=no(e),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return tb(t).U("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=vD(this.serializer,c);r.set(l.getKey(),l)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=Ba();let s;const a=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return tb(t).J({index:"collectionGroupOverlayIndex",range:a},(c,l,d)=>{const u=vD(this.serializer,l);o.size()<r||u.largestBatchId===s?(o.set(u.getKey(),u),s=u.largestBatchId):d.done()}).next(()=>o)}ht(t,e){return tb(t).put(function(r,o,s){const[a,c,l]=q3(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Z_(r.ct,s.mutation)}}(this.serializer,this.userId,e))}}function tb(n){return _r(n,"documentOverlays")}class Eue{Pt(t){return _r(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(e=>{const i=e?.value;return i?Ui.fromUint8Array(i):Ui.EMPTY_BYTE_STRING})}setSessionToken(t,e){return this.Pt(t).put({name:"sessionToken",value:e.toUint8Array()})}}class Cu{constructor(){}It(t,e){this.Tt(t,e),e.Et()}Tt(t,e){if("nullValue"in t)this.dt(e,5);else if("booleanValue"in t)this.dt(e,10),e.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(e,15),e.At(Ci(t.integerValue));else if("doubleValue"in t){const i=Ci(t.doubleValue);isNaN(i)?this.dt(e,13):(this.dt(e,15),F_(i)?e.At(0):e.At(i))}else if("timestampValue"in t){let i=t.timestampValue;this.dt(e,20),"string"==typeof i&&(i=xc(i)),e.Rt(`${i.seconds||""}`),e.At(i.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,e),this.ft(e);else if("bytesValue"in t)this.dt(e,30),e.gt(Ec(t.bytesValue)),this.ft(e);else if("referenceValue"in t)this.yt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.dt(e,45),e.At(i.latitude||0),e.At(i.longitude||0)}else"mapValue"in t?PH(t)?this.dt(e,Number.MAX_SAFE_INTEGER):kx(t)?this.wt(t.mapValue,e):(this.St(t.mapValue,e),this.ft(e)):"arrayValue"in t?(this.bt(t.arrayValue,e),this.ft(e)):$e()}Vt(t,e){this.dt(e,25),this.Dt(t,e)}Dt(t,e){e.Rt(t)}St(t,e){const i=t.fields||{};this.dt(e,55);for(const r of Object.keys(i))this.Vt(r,e),this.Tt(i[r],e)}wt(t,e){var i,r;const o=t.fields||{};this.dt(e,53);const s="value",a=(null===(r=null===(i=o[s].arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.length)||0;this.dt(e,15),e.At(Ci(a)),this.Vt(s,e),this.Tt(o[s],e)}bt(t,e){const i=t.values||[];this.dt(e,50);for(const r of i)this.Tt(r,e)}yt(t,e){this.dt(e,37),ze.fromName(t).path.forEach(i=>{this.dt(e,60),this.Dt(i,e)})}dt(t,e){t.At(e)}ft(t){t.At(2)}}function Iue(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function Q3(n){const t=64-function(i){let r=0;for(let o=0;o<8;++o){const s=Iue(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(t/8)}Cu.vt=new Cu;class Tue{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ft(i.value),i=e.next();this.Mt()}xt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ot(i.value),i=e.next();this.Nt()}Lt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=e.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Bt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{const r=e.codePointAt(0);this.Ot(240|r>>>18),this.Ot(128|63&r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r)}}this.Nt()}kt(t){const e=this.qt(t),i=Q3(e);this.Qt(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Kt(t){const e=this.qt(t),i=Q3(e);this.Qt(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const e=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ft(t){const e=255&t;0===e?(this.Ut(0),this.Ut(255)):255===e?(this.Ut(255),this.Ut(0)):this.Ut(e)}Ot(t){const e=255&t;0===e?(this.Gt(0),this.Gt(255)):255===e?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Cue{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class Aue{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class nb{constructor(){this.jt=new Tue,this.Ht=new Cue(this.jt),this.Jt=new Aue(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return 0===t?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Au{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Zt(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Au(this.indexId,this.documentKey,this.arrayValue,i)}}function zl(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=Y3(n.arrayValue,t.arrayValue),0!==e?e:(e=Y3(n.directionalValue,t.directionalValue),0!==e?e:ze.comparator(n.documentKey,t.documentKey)))}function Y3(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class X3{constructor(t){this.Xt=new Vn((e,i)=>mi.comparator(e.field,i.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const e of t.filters){const i=e;i.isInequality()?this.Xt=this.Xt.add(i):this.tn.push(i)}}get nn(){return this.Xt.size>1}rn(t){if(Je(t.collectionGroup===this.collectionId),this.nn)return!1;const e=GS(t);if(void 0!==e&&!this.sn(e))return!1;const i=gu(t);let r=new Set,o=0,s=0;for(;o<i.length&&this.sn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const c=i[o];if(!this.on(a,c)||!this._n(this.en[s++],c))return!1}++o}for(;o<i.length;++o)if(s>=this.en.length||!this._n(this.en[s++],i[o]))return!1;return!0}an(){if(this.nn)return null;let t=new Vn(mi.comparator);const e=[];for(const i of this.tn)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)e.push(new _u(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new _u(i.field,0))}for(const i of this.en)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new _u(i.field,"asc"===i.dir?0:1)));return new em(em.UNKNOWN_ID,this.collectionId,e,tm.empty())}sn(t){for(const e of this.tn)if(this.on(e,t))return!0;return!1}on(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}_n(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function J3(n){var t,e;if(Je(n instanceof an||n instanceof Rn),n instanceof an){if(n instanceof GH){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>an.create(n.field,"==",o)))||[];return Rn.create(r,"or")}return n}const i=n.filters.map(r=>J3(r));return Rn.create(i,n.op)}function kue(n){if(0===n.getFilters().length)return[];const t=xD(J3(n));return Je(Z3(t)),yD(t)||wD(t)?[t]:t.getFilters()}function yD(n){return n instanceof an}function wD(n){return n instanceof Rn&&tD(n)}function Z3(n){return yD(n)||wD(n)||function(e){if(e instanceof Rn&&eD(e)){for(const i of e.getFilters())if(!yD(i)&&!wD(i))return!1;return!0}return!1}(n)}function xD(n){if(Je(n instanceof an||n instanceof Rn),n instanceof an)return n;if(1===n.filters.length)return xD(n.filters[0]);const t=n.filters.map(i=>xD(i));let e=Rn.create(t,n.op);return e=Ux(e),Z3(e)?e:(Je(e instanceof Rn),Je(rm(e)),Je(e.filters.length>1),e.filters.reduce((i,r)=>ED(i,r)))}function ED(n,t){let e;return Je(n instanceof an||n instanceof Rn),Je(t instanceof an||t instanceof Rn),e=n instanceof an?t instanceof an?Rn.create([n,t],"and"):e5(n,t):t instanceof an?e5(t,n):function(r,o){if(Je(r.filters.length>0&&o.filters.length>0),rm(r)&&rm(o))return HH(r,o.getFilters());const s=eD(r)?r:o,a=eD(r)?o:r,c=s.filters.map(l=>ED(l,a));return Rn.create(c,"or")}(n,t),Ux(e)}function e5(n,t){if(rm(t))return HH(t,n.getFilters());{const e=t.filters.map(i=>ED(n,i));return Rn.create(e,"or")}}function Ux(n){if(Je(n instanceof an||n instanceof Rn),n instanceof an)return n;const t=n.getFilters();if(1===t.length)return Ux(t[0]);if(jH(n))return n;const e=t.map(r=>Ux(r)),i=[];return e.forEach(r=>{r instanceof an?i.push(r):r instanceof Rn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Rn.create(i,n.op)}class Sue{constructor(){this.un=new ID}addToCollectionParentIndex(t,e){return this.un.add(e),ie.resolve()}getCollectionParents(t,e){return ie.resolve(this.un.getEntries(e))}addFieldIndex(t,e){return ie.resolve()}deleteFieldIndex(t,e){return ie.resolve()}deleteAllFieldIndexes(t){return ie.resolve()}createTargetIndexes(t,e){return ie.resolve()}getDocumentsMatchingTarget(t,e){return ie.resolve(null)}getIndexType(t,e){return ie.resolve(0)}getFieldIndexes(t,e){return ie.resolve([])}getNextCollectionGroupToUpdate(t){return ie.resolve(null)}getMinOffset(t,e){return ie.resolve(ls.min())}getMinOffsetFromCollectionGroup(t,e){return ie.resolve(ls.min())}updateCollectionGroup(t,e,i){return ie.resolve()}updateIndexEntries(t,e){return ie.resolve()}}class ID{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Vn(sn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Vn(sn.comparator)).toArray()}}const jx=new Uint8Array(0);class Due{constructor(t,e){this.databaseId=e,this.cn=new ID,this.ln=new Tc(i=>yu(i),(i,r)=>z_(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.cn.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.cn.add(e)});const o={collectionId:i,parent:no(r)};return t5(t).put(o)}return ie.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[dH(e),""],!1,!0);return t5(t).U(r).next(o=>{for(const s of o){if(s.collectionId!==e)break;i.push(La(s.parent))}return i})}addFieldIndex(t,e){const i=ib(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete r.indexId;const o=i.add(r);if(e.indexState){const s=pm(t);return o.next(a=>{s.put(G3(a,this.uid,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=ib(t),r=pm(t),o=mm(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=ib(t),i=mm(t),r=pm(t);return e.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(t,e){return ie.forEach(this.hn(e),i=>this.getIndexType(t,i).next(r=>{if(0===r||1===r){const o=new X3(i).an();if(null!=o)return this.addFieldIndex(t,o)}}))}getDocumentsMatchingTarget(t,e){const i=mm(t);let r=!0;const o=new Map;return ie.forEach(this.hn(e),s=>this.Pn(t,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=Ft();const a=[];return ie.forEach(o,(c,l)=>{var B;Te("IndexedDbIndexManager",`Using index ${B=c,`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map($=>`${$.fieldPath}:${$.kind}`).join(",")}`} to execute ${yu(e)}`);const d=function(B,$){const J=GS($);if(void 0===J)return null;for(const te of Dx(B,J.fieldPath))switch(te.op){case"array-contains-any":return te.value.arrayValue.values||[];case"array-contains":return[te.value]}return null}(l,c),u=function(B,$){const J=new Map;for(const te of gu($))for(const V of Dx(B,te.fieldPath))switch(V.op){case"==":case"in":J.set(te.fieldPath.canonicalString(),V.value);break;case"not-in":case"!=":return J.set(te.fieldPath.canonicalString(),V.value),Array.from(J.values())}return null}(l,c),p=function(B,$){const J=[];let te=!0;for(const V of gu($)){const R=0===V.kind?$H(B,V.fieldPath,B.startAt):KH(B,V.fieldPath,B.startAt);J.push(R.value),te&&(te=R.inclusive)}return new Ul(J,te)}(l,c),b=function(B,$){const J=[];let te=!0;for(const V of gu($)){const R=0===V.kind?KH(B,V.fieldPath,B.endAt):$H(B,V.fieldPath,B.endAt);J.push(R.value),te&&(te=R.inclusive)}return new Ul(J,te)}(l,c),v=this.In(c,l,p),w=this.In(c,l,b),x=this.Tn(c,l,u),P=this.En(c.indexId,d,v,p.inclusive,w,b.inclusive,x);return ie.forEach(P,S=>i.G(S,e.limit).next(B=>{B.forEach($=>{const J=ze.fromSegments($.documentKey);s.has(J)||(s=s.add(J),a.push(J))})}))}).next(()=>a)}return ie.resolve(null)})}hn(t){let e=this.ln.get(t);return e||(e=0===t.filters.length?[t]:kue(Rn.create(t.filters,"and")).map(i=>iD(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,e),e)}En(t,e,i,r,o,s,a){const c=(null!=e?e.length:1)*Math.max(i.length,o.length),l=c/(null!=e?e.length:1),d=[];for(let u=0;u<c;++u){const p=e?this.dn(e[u/l]):jx,b=this.An(t,p,i[u%l],r),v=this.Rn(t,p,o[u%l],s),w=a.map(x=>this.An(t,p,x,!0));d.push(...this.createRange(b,v,w))}return d}An(t,e,i,r){const o=new Au(t,ze.empty(),e,i);return r?o:o.Zt()}Rn(t,e,i,r){const o=new Au(t,ze.empty(),e,i);return r?o.Zt():o}Pn(t,e){const i=new X3(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let s=null;for(const a of o)i.rn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(t,e){let i=2;const r=this.hn(e);return ie.forEach(r,o=>this.Pn(t,o).next(s=>{s?0!==i&&s.fields.length<function(c){let l=new Vn(mi.comparator),d=!1;for(const u of c.filters)for(const p of u.getFlattenedFilters())p.field.isKeyField()||("array-contains"===p.op||"array-contains-any"===p.op?d=!0:l=l.add(p.field));for(const u of c.orderBy)u.field.isKeyField()||(l=l.add(u.field));return l.size+(d?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}Vn(t,e){const i=new nb;for(const r of gu(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const s=i.Yt(r.kind);Cu.vt.It(o,s)}return i.zt()}dn(t){const e=new nb;return Cu.vt.It(t,e.Yt(0)),e.zt()}mn(t,e){const i=new nb;return Cu.vt.It(vu(this.databaseId,e),i.Yt(function(o){const s=gu(o);return 0===s.length?0:s[s.length-1].kind}(t))),i.zt()}Tn(t,e,i){if(null===i)return[];let r=[];r.push(new nb);let o=0;for(const s of gu(t)){const a=i[o++];for(const c of r)if(this.fn(e,s.fieldPath)&&B_(a))r=this.gn(r,s,a);else{const l=c.Yt(s.kind);Cu.vt.It(a,l)}}return this.pn(r)}In(t,e,i){return this.Tn(t,e,i.position)}pn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].zt();return e}gn(t,e,i){const r=[...t],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const c=new nb;c.seed(a.zt()),Cu.vt.It(s,c.Yt(e.kind)),o.push(c)}return o}fn(t,e){return!!t.filters.find(i=>i instanceof an&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=ib(t),r=pm(t);return(e?i.U("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.U()).next(o=>{const s=[];return ie.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(d,u){const p=u?new tm(u.sequenceNumber,new ls(Iu(u.readTime),new ze(La(u.documentKey)),u.largestBatchId)):tm.empty(),b=d.fields.map(([v,w])=>new _u(mi.fromServerFormat(v),w));return new em(d.indexId,d.collectionGroup,b,p)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:At(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=ib(t),o=pm(t);return this.yn(t).next(s=>r.U("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(a=>ie.forEach(a,c=>o.put(G3(c.indexId,this.uid,s,i)))))}updateIndexEntries(t,e){const i=new Map;return ie.forEach(e,(r,o)=>{const s=i.get(r.collectionGroup);return(s?ie.resolve(s):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),ie.forEach(a,c=>this.wn(t,r,c).next(l=>{const d=this.Sn(o,c);return l.isEqual(d)?ie.resolve():this.bn(t,o,c,l,d)}))))})}Dn(t,e,i,r){return mm(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,e.key),documentKey:e.key.path.toArray()})}vn(t,e,i,r){return mm(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=mm(t);let o=new Vn(zl);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,e)])},(s,a)=>{o=o.add(new Au(i.indexId,e,a.arrayValue,a.directionalValue))}).next(()=>o)}Sn(t,e){let i=new Vn(zl);const r=this.Vn(e,t);if(null==r)return i;const o=GS(e);if(null!=o){const s=t.data.field(o.fieldPath);if(B_(s))for(const a of s.arrayValue.values||[])i=i.add(new Au(e.indexId,t.key,this.dn(a),r))}else i=i.add(new Au(e.indexId,t.key,jx,r));return i}bn(t,e,i,r,o){Te("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(c,l,d,u,p){const b=c.getIterator(),v=l.getIterator();let w=nm(b),x=nm(v);for(;w||x;){let P=!1,S=!1;if(w&&x){const B=d(w,x);B<0?S=!0:B>0&&(P=!0)}else null!=w?S=!0:P=!0;P?(u(x),x=nm(v)):S?(p(w),w=nm(b)):(w=nm(b),x=nm(v))}}(r,o,zl,a=>{s.push(this.Dn(t,e,i,a))},a=>{s.push(this.vn(t,e,i,a))}),ie.waitFor(s)}yn(t){let e=1;return pm(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((s,a)=>zl(s,a)).filter((s,a,c)=>!a||0!==zl(s,c[a-1]));const r=[];r.push(t);for(const s of i){const a=zl(s,t),c=zl(s,e);if(0===a)r[0]=t.Zt();else if(a>0&&c<0)r.push(s),r.push(s.Zt());else if(c>0)break}r.push(e);const o=[];for(let s=0;s<r.length;s+=2){if(this.Cn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,jx,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,jx,[]]))}return o}Cn(t,e){return zl(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(n5)}getMinOffset(t,e){return ie.mapArray(this.hn(e),i=>this.Pn(t,i).next(r=>r||$e())).next(n5)}}function t5(n){return _r(n,"collectionParents")}function mm(n){return _r(n,"indexEntries")}function ib(n){return _r(n,"indexConfiguration")}function pm(n){return _r(n,"indexState")}function n5(n){Je(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;$S(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ls(t.readTime,t.documentKey,e)}const r5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ro{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new ro(t,ro.DEFAULT_COLLECTION_PERCENTILE,ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function o5(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(e.batchId);let a=0;const c=i.J({range:s},(d,u,p)=>(a++,p.delete()));o.push(c.next(()=>{Je(1===a)}));const l=[];for(const d of e.mutations){const u=yH(t,d.key.path,e.batchId);o.push(r.delete(u)),l.push(d.key)}return ie.waitFor(o).next(()=>l)}function zx(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw $e();t=n.noDocument}return JSON.stringify(t).length}ro.DEFAULT_COLLECTION_PERCENTILE=10,ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ro.DEFAULT=new ro(41943040,ro.DEFAULT_COLLECTION_PERCENTILE,ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ro.DISABLED=new ro(-1,0,0);class Hx{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Fn={}}static lt(t,e,i,r){Je(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new Hx(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hl(t).J({index:"userMutationsIndex",range:i},(r,o,s)=>{e=!1,s.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=gm(t),s=Hl(t);return s.add({}).next(a=>{Je("number"==typeof a);const c=new lD(a,e,i,r),l=function(b,v,w){const x=w.baseMutations.map(S=>Z_(b.ct,S)),P=w.mutations.map(S=>Z_(b.ct,S));return{userId:v,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:x,mutations:P}}(this.serializer,this.userId,c),d=[];let u=new Vn((p,b)=>At(p.canonicalString(),b.canonicalString()));for(const p of r){const b=yH(this.userId,p.key.path,a);u=u.add(p.key.path.popLast()),d.push(s.put(l)),d.push(o.put(b,_de))}return u.forEach(p=>{d.push(this.indexManager.addToCollectionParentIndex(t,p))}),t.addOnCommittedListener(()=>{this.Fn[a]=c.keys()}),ie.waitFor(d).next(()=>c)})}lookupMutationBatch(t,e){return Hl(t).get(e).next(i=>i?(Je(i.userId===this.userId),Tu(this.serializer,i)):null)}Mn(t,e){return this.Fn[e]?ie.resolve(this.Fn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Fn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Hl(t).J({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(Je(a.batchId>=i),o=Tu(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Hl(t).J({index:"userMutationsIndex",range:e,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hl(t).U("userMutationsIndex",e).next(i=>i.map(r=>Tu(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=wx(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return gm(t).J({range:r},(s,a,c)=>{const[l,d,u]=s,p=La(d);if(l===this.userId&&e.path.isEqual(p))return Hl(t).get(u).next(b=>{if(!b)throw $e();Je(b.userId===this.userId),o.push(Tu(this.serializer,b))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Vn(At);const r=[];return e.forEach(o=>{const s=wx(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=gm(t).J({range:a},(l,d,u)=>{const[p,b,v]=l,w=La(b);p===this.userId&&o.path.isEqual(w)?i=i.add(v):u.done()});r.push(c)}),ie.waitFor(r).next(()=>this.xn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=wx(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new Vn(At);return gm(t).J({range:s},(c,l,d)=>{const[u,p,b]=c,v=La(p);u===this.userId&&i.isPrefixOf(v)?v.length===r&&(a=a.add(b)):d.done()}).next(()=>this.xn(t,a))}xn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Hl(t).get(o).next(s=>{if(null===s)throw $e();Je(s.userId===this.userId),i.push(Tu(this.serializer,s))}))}),ie.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return o5(t._e,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.On(e.batchId)}),ie.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ie.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return gm(t).J({range:i},(o,s,a)=>{if(o[0]===this.userId){const c=La(o[1]);r.push(c)}else a.done()}).next(()=>{Je(0===r.length)})})}containsKey(t,e){return s5(t,this.userId,e)}Nn(t){return a5(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function s5(n,t,e){const i=wx(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return gm(n).J({range:o,H:!0},(a,c,l)=>{const[d,u,p]=a;d===t&&u===r&&(s=!0),l.done()}).next(()=>s)}function Hl(n){return _r(n,"mutations")}function gm(n){return _r(n,"documentMutations")}function a5(n){return _r(n,"mutationQueues")}class ku{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new ku(0)}static kn(){return new ku(-1)}}class Rue{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.qn(t).next(e=>{const i=new ku(e.highestTargetId);return e.highestTargetId=i.next(),this.Qn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(e=>it.fromTimestamp(new Ti(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.qn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Qn(t,r)))}addTargetData(t,e){return this.Kn(t,e).next(()=>this.qn(t).next(i=>(i.targetCount+=1,this.$n(e,i),this.Qn(t,i))))}updateTargetData(t,e){return this.Kn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>_m(t).delete(e.targetId)).next(()=>this.qn(t)).next(i=>(Je(i.targetCount>0),i.targetCount-=1,this.Qn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return _m(t).J((s,a)=>{const c=eb(a);c.sequenceNumber<=e&&null===i.get(c.targetId)&&(r++,o.push(this.removeTargetData(t,c)))}).next(()=>ie.waitFor(o)).next(()=>r)}forEachTarget(t,e){return _m(t).J((i,r)=>{const o=eb(r);e(o)})}qn(t){return c5(t).get("targetGlobalKey").next(e=>(Je(null!==e),e))}Qn(t,e){return c5(t).put("targetGlobalKey",e)}Kn(t,e){return _m(t).put(W3(this.serializer,e))}$n(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.qn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=yu(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return _m(t).J({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const l=eb(a);z_(e,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=Wl(t);return e.forEach(s=>{const a=no(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(t,i,s))}),ie.waitFor(r)}removeMatchingKeys(t,e,i){const r=Wl(t);return ie.forEach(e,o=>{const s=no(o.path);return ie.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Wl(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Wl(t);let o=Ft();return r.J({range:i,H:!0},(s,a,c)=>{const l=La(s[1]),d=new ze(l);o=o.add(d)}).next(()=>o)}containsKey(t,e){const i=no(e.path),r=IDBKeyRange.bound([i],[dH(i)],!1,!0);let o=0;return Wl(t).J({index:"documentTargetsIndex",H:!0,range:r},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}ot(t,e){return _m(t).get(e).next(i=>i?eb(i):null)}}function _m(n){return _r(n,"targets")}function c5(n){return _r(n,"targetGlobal")}function Wl(n){return _r(n,"targetDocuments")}function l5([n,t],[e,i]){const r=At(n,e);return 0===r?At(t,i):r}class Mue{constructor(t){this.Un=t,this.buffer=new Vn(l5),this.Wn=0}Gn(){return++this.Wn}zn(t){const e=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();l5(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class d5{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(t){var e=this;Te("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,G.A)(function*(){e.jn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Ol(i)?Te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Pl(i)}yield e.Hn(3e5)}))}}class Pue{constructor(t,e){this.Jn=t,this.params=e}calculateTargetCount(t,e){return this.Jn.Yn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ie.resolve(ds.oe);const i=new Mue(e);return this.Jn.forEachTarget(t,r=>i.zn(r.sequenceNumber)).next(()=>this.Jn.Zn(t,r=>i.zn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(r5)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r5):this.Xn(t,e))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,e){let i,r,o,s,a,c,l;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(u=>(u>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${u}`),r=this.params.maximumSequenceNumbersToCollect):r=u,s=Date.now(),this.nthSequenceNumber(t,r))).next(u=>(i=u,a=Date.now(),this.removeTargets(t,i,e))).next(u=>(o=u,c=Date.now(),this.removeOrphanedDocuments(t,i))).next(u=>(l=Date.now(),Jf()<=Na.$b.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-d}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${u} documents in `+(l-c)+`ms\nTotal Duration: ${l-d}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:u})))}}class Oue{constructor(t,e){this.db=t,this.garbageCollector=function u5(n,t){return new Pue(n,t)}(this,e)}Yn(t){const e=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}er(t){let e=0;return this.Zn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Zn(t,e){return this.tr(t,(i,r)=>e(r))}addReference(t,e,i){return Wx(t,i)}removeReference(t,e,i){return Wx(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Wx(t,e)}nr(t,e){return function(r,o){let s=!1;return a5(r).Y(a=>s5(r,a,o).next(c=>(c&&(s=!0),ie.resolve(!c)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.tr(t,(s,a)=>{if(a<=e){const c=this.nr(t,s).next(l=>{if(!l)return o++,i.getEntry(t,s).next(()=>(i.removeEntry(s,it.min()),Wl(t).delete([0,no(s.path)])))});r.push(c)}}).next(()=>ie.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Wx(t,e)}tr(t,e){const i=Wl(t);let r,o=ds.oe;return i.J({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==ds.oe&&e(new ze(La(r)),o),o=l,r=c):o=ds.oe}).next(()=>{o!==ds.oe&&e(new ze(La(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Wx(n,t){return Wl(n).put((r=n.currentSequenceNumber,{targetId:0,path:no(t.path),sequenceNumber:r}));var r}class h5{constructor(){this.changes=new Tc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,pi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ie.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Nue{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Su(t).put(i)}removeEntry(t,e,i){return Su(t).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Vx(s),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.rr(t,i)))}getEntry(t,e){let i=pi.newInvalidDocument(e);return Su(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(rb(e))},(r,o)=>{i=this.ir(e,o)}).next(()=>i)}sr(t,e){let i={size:0,document:pi.newInvalidDocument(e)};return Su(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(rb(e))},(r,o)=>{i={document:this.ir(e,o),size:zx(o)}}).next(()=>i)}getEntries(t,e){let i=Uo();return this._r(t,e,(r,o)=>{const s=this.ir(r,o);i=i.insert(r,s)}).next(()=>i)}ar(t,e){let i=Uo(),r=new oi(ze.comparator);return this._r(t,e,(o,s)=>{const a=this.ir(o,s);i=i.insert(o,a),r=r.insert(o,zx(s))}).next(()=>({documents:i,ur:r}))}_r(t,e,i){if(e.isEmpty())return ie.resolve();let r=new Vn(g5);e.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(rb(r.first()),rb(r.last())),s=r.getIterator();let a=s.getNext();return Su(t).J({index:"documentKeyIndex",range:o},(c,l,d)=>{const u=ze.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&g5(a,u)<0;)i(a,null),a=s.getNext();a&&a.isEqual(u)&&(i(a,l),a=s.hasNext()?s.getNext():null),a?d.$(rb(a)):d.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,e,i,r,o){const s=e.path,a=[s.popLast().toArray(),s.lastSegment(),Vx(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Su(t).U(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let d=Uo();for(const u of l){const p=this.ir(ze.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);p.isFoundDocument()&&(W_(e,p)||r.has(p.key))&&(d=d.insert(p.key,p))}return d})}getAllFromCollectionGroup(t,e,i,r){let o=Uo();const s=p5(e,i),a=p5(e,ls.max());return Su(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,d)=>{const u=this.ir(ze.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(u.key,u),o.size===r&&d.done()}).next(()=>o)}newChangeBuffer(t){return new Fue(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return m5(t).get("remoteDocumentGlobalKey").next(e=>(Je(!!e),e))}rr(t,e){return m5(t).put("remoteDocumentGlobalKey",e)}ir(t,e){if(e){const i=function wue(n,t){let e;if(t.document)e=N3(n.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=ze.fromSegments(t.noDocument.path),r=Iu(t.noDocument.readTime);e=pi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return $e();{const i=ze.fromSegments(t.unknownDocument.path),r=Iu(t.unknownDocument.version);e=pi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(r){const o=new Ti(r[0],r[1]);return it.fromTimestamp(o)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(it.min()))return i}return pi.newInvalidDocument(t)}}function f5(n){return new Nue(n)}class Fue extends h5{constructor(t,e){super(),this.cr=t,this.trackRemovals=e,this.lr=new Tc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Vn((o,s)=>At(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.lr.get(o);if(e.push(this.cr.removeEntry(t,o,a.readTime)),s.isValidDocument()){const c=H3(this.cr.serializer,s);r=r.add(o.path.popLast());const l=zx(c);i+=l-a.size,e.push(this.cr.addEntry(t,o,c))}else if(i-=a.size,this.trackRemovals){const c=H3(this.cr.serializer,s.convertToNoDocument(it.min()));e.push(this.cr.addEntry(t,o,c))}}),r.forEach(o=>{e.push(this.cr.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.cr.updateMetadata(t,i)),ie.waitFor(e)}getFromCache(t,e){return this.cr.sr(t,e).next(i=>(this.lr.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.cr.ar(t,e).next(({documents:i,ur:r})=>(r.forEach((o,s)=>{this.lr.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function m5(n){return _r(n,"remoteDocumentGlobal")}function Su(n){return _r(n,"remoteDocumentsV14")}function rb(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function p5(n,t){const e=t.documentKey.path.toArray();return[n,Vx(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function g5(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=At(e[o],i[o]),r)return r;return r=At(e.length,i.length),r||(r=At(e[e.length-2],i[i.length-2]),r||At(e[e.length-1],i[i.length-1]))}class Lue{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class _5{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&K_(i.mutation,r,Bo.empty(),Ti.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Ft()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Ft()){const r=Ba();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let s=q_();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(t,e){const i=Ba();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Ft()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,a)=>{e.set(s,a)})})}computeViews(t,e,i,r){let o=Uo();const s=G_(),a=G_();return e.forEach((c,l)=>{const d=i.get(l.key);r.has(l.key)&&(void 0===d||d.mutation instanceof Cc)?o=o.insert(l.key,l):void 0!==d?(s.set(l.key,d.mutation.getFieldMask()),K_(d.mutation,l,d.mutation.getFieldMask(),Ti.now())):s.set(l.key,Bo.empty())}),this.recalculateAndSaveOverlays(t,o).next(c=>(c.forEach((l,d)=>s.set(l,d)),e.forEach((l,d)=>{var u;return a.set(l,new Lue(d,null!==(u=s.get(l))&&void 0!==u?u:null))}),a))}recalculateAndSaveOverlays(t,e){const i=G_();let r=new oi((s,a)=>s-a),o=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=e.get(c);if(null===l)return;let d=i.get(c)||Bo.empty();d=a.applyToLocalView(l,d),i.set(c,d);const u=(r.get(a.batchId)||Ft()).add(c);r=r.insert(a.batchId,u)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,d=c.value,u=o3();d.forEach(p=>{if(!o.has(p)){const b=f3(e.get(p),i.get(p));null!==b&&u.set(p,b),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(t,l,u))}return ie.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return ze.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):rD(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var s}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ie.resolve(Ba());let a=-1,c=o;return s.next(l=>ie.forEach(l,(d,u)=>(a<u.largestBatchId&&(a=u.largestBatchId),o.get(d)?ie.resolve():this.remoteDocumentCache.getEntry(t,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(t,l,o)).next(()=>this.computeViews(t,c,l,Ft())).next(d=>({batchId:a,changes:r3(d)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ze(e)).next(i=>{let r=q_();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let s=q_();return this.indexManager.getCollectionParents(t,o).next(a=>ie.forEach(a,c=>{const l=(u=e,p=c.child(o),new Ic(p,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));var u,p;return this.getDocumentsMatchingCollectionQuery(t,l,i,r).next(d=>{d.forEach((u,p)=>{s=s.insert(u,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(s=>{o.forEach((c,l)=>{const d=l.getKey();null===s.get(d)&&(s=s.insert(d,pi.newInvalidDocument(d)))});let a=q_();return s.forEach((c,l)=>{const d=o.get(c);void 0!==d&&K_(d.mutation,l,Bo.empty(),Ti.now()),W_(e,l)&&(a=a.insert(c,l))}),a})}}class Vue{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,e){return ie.resolve(this.hr.get(e))}saveBundleMetadata(t,e){return this.hr.set(e.id,{id:(r=e).id,version:r.version,createTime:Xi(r.createTime)}),ie.resolve();var r}getNamedQuery(t,e){return ie.resolve(this.Pr.get(e))}saveNamedQuery(t,e){return this.Pr.set(e.name,{name:(r=e).name,query:bD(r.bundledQuery),readTime:Xi(r.readTime)}),ie.resolve();var r}}class Bue{constructor(){this.overlays=new oi(ze.comparator),this.Ir=new Map}getOverlay(t,e){return ie.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ba();return ie.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.ht(t,e,o)}),ie.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Ir.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),ie.resolve()}getOverlaysForCollection(t,e,i){const r=Ba(),o=e.length+1,s=new ze(e.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!e.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return ie.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new oi((l,d)=>l-d);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===e&&l.largestBatchId>i){let d=o.get(l.largestBatchId);null===d&&(d=Ba(),o=o.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}const a=Ba(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=r)););return ie.resolve(a)}ht(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new uD(e,i));let o=this.Ir.get(e);void 0===o&&(o=Ft(),this.Ir.set(e,o)),this.Ir.set(e,o.add(i.key))}}class Uue{constructor(){this.sessionToken=Ui.EMPTY_BYTE_STRING}getSessionToken(t){return ie.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ie.resolve()}}class TD{constructor(){this.Tr=new Vn(Dr.Er),this.dr=new Vn(Dr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,e){const i=new Dr(t,e);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Vr(new Dr(t,e))}mr(t,e){t.forEach(i=>this.removeReference(i,e))}gr(t){const e=new ze(new sn([])),i=new Dr(e,t),r=new Dr(e,t+1),o=[];return this.dr.forEachInRange([i,r],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const e=new ze(new sn([])),i=new Dr(e,t),r=new Dr(e,t+1);let o=Ft();return this.dr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(t){const e=new Dr(t,0),i=this.Tr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Dr{constructor(t,e){this.key=t,this.wr=e}static Er(t,e){return ze.comparator(t.key,e.key)||At(t.wr,e.wr)}static Ar(t,e){return At(t.wr,e.wr)||ze.comparator(t.key,e.key)}}class jue{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new Vn(Dr.Er)}checkEmpty(t){return ie.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.Sr;this.Sr++;const s=new lD(o,e,i,r);this.mutationQueue.push(s);for(const a of r)this.br=this.br.add(new Dr(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return ie.resolve(s)}lookupMutationBatch(t,e){return ie.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.vr(e+1),o=r<0?0:r;return ie.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Dr(e,0),r=new Dr(e,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,r],s=>{const a=this.Dr(s.wr);o.push(a)}),ie.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Vn(At);return e.forEach(r=>{const o=new Dr(r,0),s=new Dr(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{i=i.add(a.wr)})}),ie.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;ze.isDocumentKey(o)||(o=o.child(""));const s=new Dr(new ze(o),0);let a=new Vn(At);return this.br.forEachWhile(c=>{const l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.wr)),!0)},s),ie.resolve(this.Cr(a))}Cr(t){const e=[];return t.forEach(i=>{const r=this.Dr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Je(0===this.Fr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.br;return ie.forEach(e.mutations,r=>{const o=new Dr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,e){const i=new Dr(e,0),r=this.br.firstAfterOrEqual(i);return ie.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ie.resolve()}Fr(t,e){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const e=this.vr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class zue{constructor(t){this.Mr=t,this.docs=new oi(ze.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.Mr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ie.resolve(i?i.document.mutableCopy():pi.newInvalidDocument(e))}getEntries(t,e){let i=Uo();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():pi.newInvalidDocument(r))}),ie.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Uo();const s=e.path,a=new ze(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:d}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||$S(hH(d),i)<=0||(r.has(d.key)||W_(e,d))&&(o=o.insert(d.key,d.mutableCopy()))}return ie.resolve(o)}getAllFromCollectionGroup(t,e,i,r){$e()}Or(t,e){return ie.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Hue(this)}getSize(t){return ie.resolve(this.size)}}class Hue extends h5{constructor(t){super(),this.cr=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.cr.addEntry(t,r)):this.cr.removeEntry(i)}),ie.waitFor(e)}getFromCache(t,e){return this.cr.getEntry(t,e)}getAllFromCache(t,e){return this.cr.getEntries(t,e)}}class Wue{constructor(t){this.persistence=t,this.Nr=new Tc(e=>yu(e),z_),this.lastRemoteSnapshotVersion=it.min(),this.highestTargetId=0,this.Lr=0,this.Br=new TD,this.targetCount=0,this.kr=ku.Bn()}forEachTarget(t,e){return this.Nr.forEach((i,r)=>e(r)),ie.resolve()}getLastRemoteSnapshotVersion(t){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ie.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Lr&&(this.Lr=e),ie.resolve()}Kn(t){this.Nr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.kr=new ku(e),this.highestTargetId=e),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,e){return this.Kn(e),this.targetCount+=1,ie.resolve()}updateTargetData(t,e){return this.Kn(e),ie.resolve()}removeTargetData(t,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,ie.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),ie.waitFor(o).next(()=>r)}getTargetCount(t){return ie.resolve(this.targetCount)}getTargetData(t,e){const i=this.Nr.get(e)||null;return ie.resolve(i)}addMatchingKeys(t,e,i){return this.Br.Rr(e,i),ie.resolve()}removeMatchingKeys(t,e,i){this.Br.mr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),ie.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Br.gr(e),ie.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Br.yr(e);return ie.resolve(i)}containsKey(t,e){return ie.resolve(this.Br.containsKey(e))}}class CD{constructor(t,e){this.qr={},this.overlays={},this.Qr=new ds(0),this.Kr=!1,this.Kr=!0,this.$r=new Uue,this.referenceDelegate=t(this),this.Ur=new Wue(this),this.indexManager=new Sue,this.remoteDocumentCache=new zue(i=>this.referenceDelegate.Wr(i)),this.serializer=new z3(e),this.Gr=new Vue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Bue,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.qr[t.toKey()];return i||(i=new jue(e,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,e,i){Te("MemoryPersistence","Starting transaction:",t);const r=new que(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(o=>this.referenceDelegate.jr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Hr(t,e){return ie.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,e)))}}class que extends mH{constructor(t){super(),this.currentSequenceNumber=t}}class qx{constructor(t){this.persistence=t,this.Jr=new TD,this.Yr=null}static Zr(t){return new qx(t)}get Xr(){if(this.Yr)return this.Yr;throw $e()}addReference(t,e,i){return this.Jr.addReference(i,e),this.Xr.delete(i.toString()),ie.resolve()}removeReference(t,e,i){return this.Jr.removeReference(i,e),this.Xr.add(i.toString()),ie.resolve()}markPotentiallyOrphaned(t,e){return this.Xr.add(e.toString()),ie.resolve()}removeTarget(t,e){this.Jr.gr(e.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}zr(){this.Yr=new Set}jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Xr,i=>{const r=ze.fromPath(i);return this.ei(t,r).next(o=>{o||e.removeEntry(r,it.min())})}).next(()=>(this.Yr=null,e.apply(t)))}updateLimboDocument(t,e){return this.ei(t,e).next(i=>{i?this.Xr.delete(e.toString()):this.Xr.add(e.toString())})}Wr(t){return 0}ei(t,e){return ie.or([()=>ie.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Hr(t,e)])}}class Gue{constructor(t){this.serializer=t}O(t,e,i,r){const o=new yx("createOrUpgrade",e);var c;i<1&&r>=1&&(t.createObjectStore("owner"),(c=t).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vH,{unique:!0}),c.createObjectStore("documentMutations"),b5(t),function(c){c.createObjectStore("remoteDocuments")}(t));let s=ie.resolve();return i<3&&r>=3&&(0!==i&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(t),b5(t)),s=s.next(()=>function(c){const l=c.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:it.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",d)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(c,l){return l.store("mutations").U().next(d=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vH,{unique:!0});const u=l.store("mutations"),p=d.map(b=>u.put(b));return ie.waitFor(p)})}(t,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(s=s.next(()=>this.ni(o))),i<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(t),this.ri(o)))),i<7&&r>=7&&(s=s.next(()=>this.ii(o))),i<8&&r>=8&&(s=s.next(()=>this.si(t,o))),i<9&&r>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(s=s.next(()=>this.oi(o))),i<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(s=s.next(()=>{!function(c){const l=c.createObjectStore("documentOverlays",{keyPath:Sde});l.createIndex("collectionPathOverlayIndex",Dde,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",Rde,{unique:!1})}(t)})),i<13&&r>=13&&(s=s.next(()=>function(c){const l=c.createObjectStore("remoteDocumentsV14",{keyPath:bde});l.createIndex("documentKeyIndex",vde),l.createIndex("collectionGroupIndex",yde)}(t)).next(()=>this._i(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ai(t,o))),i<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:Tde}).createIndex("sequenceNumberIndex",Cde,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:Ade}).createIndex("documentKeyIndex",kde,{unique:!1})}(t))),i<16&&r>=16&&(s=s.next(()=>{e.objectStore("indexState").clear()}).next(()=>{e.objectStore("indexEntries").clear()})),i<17&&r>=17&&(s=s.next(()=>{!function(c){c.createObjectStore("globals",{keyPath:"name"})}(t)})),s}ri(t){let e=0;return t.store("remoteDocuments").J((i,r)=>{e+=zx(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}ni(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.U().next(r=>ie.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",s).next(a=>ie.forEach(a,c=>{Je(c.userId===o.userId);const l=Tu(this.serializer,c);return o5(t,o.userId,l).next(()=>{})}))}))}ii(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.J((s,a)=>{const c=new sn(s),l=[0,no(c)];o.push(e.get(l).next(d=>d?ie.resolve():e.put({targetId:0,path:no(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ie.waitFor(o))})}si(t,e){t.createObjectStore("collectionParents",{keyPath:Ide});const i=e.store("collectionParents"),r=new ID,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:no(c)})}};return e.store("remoteDocuments").J({H:!0},(s,a)=>{const c=new sn(s);return o(c.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([s,a,c],l)=>{const d=La(a);return o(d.popLast())}))}oi(t){const e=t.store("targets");return e.J((i,r)=>{const o=eb(r),s=W3(this.serializer,o);return e.put(s)})}_i(t,e){const i=e.store("remoteDocuments"),r=[];return i.J((o,s)=>{const a=e.store("remoteDocumentsV14"),c=(u=s,u.document?new ze(sn.fromString(u.document.name).popFirst(5)):u.noDocument?ze.fromSegments(u.noDocument.path):u.unknownDocument?ze.fromSegments(u.unknownDocument.path):$e()).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var u;r.push(a.put(l))}).next(()=>ie.waitFor(r))}ai(t,e){const i=e.store("mutations"),r=f5(this.serializer),o=new CD(qx.Zr,this.serializer.ct);return i.U().next(s=>{const a=new Map;return s.forEach(c=>{var l;let d=null!==(l=a.get(c.userId))&&void 0!==l?l:Ft();Tu(this.serializer,c).keys().forEach(u=>d=d.add(u)),a.set(c.userId,d)}),ie.forEach(a,(c,l)=>{const d=new kr(l),u=Bx.lt(this.serializer,d),p=o.getIndexManager(d),b=Hx.lt(d,this.serializer,p,o.referenceDelegate);return new _5(r,b,u,p).recalculateAndSaveOverlaysForDocumentKeys(new XS(e,ds.oe),c).next()})})}}function b5(n){n.createObjectStore("targetDocuments",{keyPath:xde}).createIndex("documentTargetsIndex",Ede,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",wde,{unique:!0}),n.createObjectStore("targetGlobal")}const AD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class kD{constructor(t,e,i,r,o,s,a,c,l,d,u=17){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ui=o,this.window=s,this.document=a,this.ci=l,this.li=d,this.hi=u,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=p=>Promise.resolve(),!kD.D())throw new Ee(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Oue(this,r),this.Ai=e+"main",this.serializer=new z3(c),this.Ri=new Fa(this.Ai,this.hi,new Gue(this.serializer)),this.$r=new Eue,this.Ur=new Rue(this.referenceDelegate,this.serializer),this.remoteDocumentCache=f5(this.serializer),this.Gr=new xue,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===d&&Yi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ee(le.FAILED_PRECONDITION,AD);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new ds(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){var e=this;return this.di=function(){var i=(0,G.A)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(function(){var e=(0,G.A)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget((0,G.A)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>$x(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(e=>{e||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(e=>this.isPrimary&&!e?this.bi(t).next(()=>!1):!!e&&this.Di(t).next(()=>!0))).catch(t=>{if(Ol(t))return Te("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return ob(t).get("owner").next(e=>ie.resolve(this.vi(e)))}Ci(t){return $x(t).delete(this.clientId)}Fi(){var t=this;return(0,G.A)(function*(){if(t.isPrimary&&!t.Mi(t.Ei,18e5)){t.Ei=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=_r(i,"clientMetadata");return r.U().next(o=>{const s=t.xi(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return ie.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(t.Vi)for(const i of e)t.Vi.removeItem(t.Oi(i.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?ie.resolve(!0):ob(t).get("owner").next(e=>{if(null!==e&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)){if(this.vi(e)&&this.networkEnabled)return!0;if(!this.vi(e)){if(!e.allowTabSynchronization)throw new Ee(le.FAILED_PRECONDITION,AD);return!1}}return!(!this.networkEnabled||!this.inForeground)||$x(t).U().next(i=>void 0===this.xi(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Te("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,G.A)(function*(){t.Kr=!1,t.Li(),t.Ti&&(t.Ti.cancel(),t.Ti=null),t.Bi(),t.ki(),yield t.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new XS(e,ds.oe);return t.bi(i).next(()=>t.Ci(i))}),t.Ri.close(),t.qi()})()}xi(t,e){return t.filter(i=>this.Mi(i.updateTimeMs,e)&&!this.Ni(i.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>$x(t).U().next(e=>this.xi(e,18e5).map(i=>i.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,e){return Hx.lt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Due(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return Bx.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,e,i){Te("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=17===(c=this.hi)?Ode:16===c?Pde:15===c?YS:14===c?EH:13===c?xH:12===c?Mde:11===c?wH:void $e();var c;let s;return this.Ri.runTransaction(t,r,o,a=>(s=new XS(a,this.Qr?this.Qr.next():ds.oe),"readwrite-primary"===e?this.wi(s).next(c=>!!c||this.Si(s)).next(c=>{if(!c)throw Yi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Ee(le.FAILED_PRECONDITION,fH);return i(s)}).next(c=>this.Di(s).next(()=>c)):this.Ki(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ki(t){return ob(t).get("owner").next(e=>{if(null!==e&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)&&!this.vi(e)&&!(this.li||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ee(le.FAILED_PRECONDITION,AD)})}Di(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ob(t).put("owner",e)}static D(){return Fa.D()}bi(t){const e=ob(t);return e.get("owner").next(i=>this.vi(i)?(Te("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ie.resolve())}Mi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Yi(`Detected an update time that is in the future: ${t} > ${i}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Pi=()=>{this.Li();const e=/(?:Version|Mobile)\/1[456]/;(0,yn.nr)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var e;try{const i=null!==(null===(e=this.Vi)||void 0===e?void 0:e.getItem(this.Oi(t)));return Te("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Yi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){Yi("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function ob(n){return _r(n,"owner")}function $x(n){return _r(n,"clientMetadata")}function SD(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class DD{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.$i=i,this.Ui=r}static Wi(t,e){let i=Ft(),r=Ft();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new DD(t,e.fromCache,i,r)}}class $ue{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class v5{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,yn.nr)()?8:pH((0,yn.ZQ)())>0?6:4}initialize(t,e){this.Ji=t,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.Yi(t,e).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(t,e,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new $ue;return this.Xi(t,e,s).next(a=>{if(o.result=a,this.zi)return this.es(t,e,s,a.size)})}).next(()=>o.result)}es(t,e,i,r){return i.documentReadCount<this.ji?(Jf()<=Na.$b.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",am(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ie.resolve()):(Jf()<=Na.$b.DEBUG&&Te("QueryEngine","Query:",am(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Jf()<=Na.$b.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",am(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,io(e))):ie.resolve())}Yi(t,e){if(YH(e))return ie.resolve(null);let i=io(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Rx(e,null,"F"),i=io(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const s=Ft(...o);return this.Ji.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,i).next(c=>{const l=this.ts(e,a);return this.ns(e,l,s,c.readTime)?this.Yi(t,Rx(e,null,"F")):this.rs(t,l,e,c)}))})))}Zi(t,e,i,r){return YH(e)||r.isEqual(it.min())?ie.resolve(null):this.Ji.getDocuments(t,i).next(o=>{const s=this.ts(e,o);return this.ns(e,s,i,r)?ie.resolve(null):(Jf()<=Na.$b.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),am(e)),this.rs(t,s,e,uH(r,-1)).next(a=>a))})}ts(t,e){let i=new Vn(t3(t));return e.forEach((r,o)=>{W_(t,o)&&(i=i.add(o))}),i}ns(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(t,e,i){return Jf()<=Na.$b.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",am(e)),this.Ji.getDocumentsMatchingQuery(t,e,ls.min(),i)}rs(t,e,i,r){return this.Ji.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Kue{constructor(t,e,i,r){this.persistence=t,this.ss=e,this.serializer=r,this.os=new oi(At),this._s=new Tc(o=>yu(o),z_),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _5(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.os))}}function y5(n,t,e,i){return new Kue(n,t,e,i)}function w5(n,t){return RD.apply(this,arguments)}function RD(){return(RD=(0,G.A)(function*(n,t){const e=Ve(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.ls(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let c=Ft();for(const l of r){s.push(l.batchId);for(const d of l.mutations)c=c.add(d.key)}for(const l of o){a.push(l.batchId);for(const d of l.mutations)c=c.add(d.key)}return e.localDocuments.getDocuments(i,c).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})).apply(this,arguments)}function x5(n){const t=Ve(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function E5(n,t,e){let i=Ft(),r=Ft();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let s=Uo();return e.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(it.min())?(t.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(t.addEntry(c),s=s.insert(a,c)):Te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ps:s,Is:r}})}function Xue(n,t){const e=Ve(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function bm(n,t){const e=Ve(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Ur.getTargetData(i,t).next(o=>o?(r=o,ie.resolve(r)):e.Ur.allocateTargetId(i).next(s=>(r=new Ac(t,s,"TargetPurposeListen",i.currentSequenceNumber),e.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.os.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.os=e.os.insert(i.targetId,i),e._s.set(t,i.targetId)),i})}function vm(n,t,e){return MD.apply(this,arguments)}function MD(){return(MD=(0,G.A)(function*(n,t,e){const i=Ve(n),r=i.os.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Ol(s))throw s;Te("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}i.os=i.os.remove(t),i._s.delete(r.target)})).apply(this,arguments)}function Kx(n,t,e){const i=Ve(n);let r=it.min(),o=Ft();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,d){const u=Ve(c),p=u._s.get(d);return void 0!==p?ie.resolve(u.os.get(p)):u.Ur.getTargetData(l,d)}(i,s,io(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.ss.getDocumentsMatchingQuery(s,t,e?r:it.min(),e?o:Ft())).next(a=>(C5(i,e3(t),a),{documents:a,Ts:o})))}function I5(n,t){const e=Ve(n),i=Ve(e.Ur),r=e.os.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.ot(o,t).next(s=>s?s.target:null))}function T5(n,t){const e=Ve(n),i=e.us.get(t)||it.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.cs.getAllFromCollectionGroup(r,t,uH(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(C5(e,t,r),r))}function C5(n,t,e){let i=n.us.get(t)||it.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.us.set(t,i)}function PD(){return(PD=(0,G.A)(function*(n,t,e,i){const r=Ve(n);let o=Ft(),s=Uo();for(const l of e){const d=t.Es(l.metadata.name);l.document&&(o=o.add(d));const u=t.ds(l);u.setReadTime(t.As(l.metadata.readTime)),s=s.insert(d,u)}const a=r.cs.newChangeBuffer({trackRemovals:!0}),c=yield bm(r,(d=i,io(om(sn.fromString(`__bundle__/docs/${d}`)))));var d;return r.persistence.runTransaction("Apply bundle documents","readwrite",l=>E5(l,a,s).next(d=>(a.apply(l),d)).next(d=>r.Ur.removeMatchingKeysForTargetId(l,c.targetId).next(()=>r.Ur.addMatchingKeys(l,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(l,d.Ps,d.Is)).next(()=>d.Ps)))})).apply(this,arguments)}function Zue(n,t){return OD.apply(this,arguments)}function OD(){return(OD=(0,G.A)(function*(n,t,e=Ft()){const i=yield bm(n,io(bD(t.bundledQuery))),r=Ve(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=Xi(t.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Gr.saveNamedQuery(o,t);const a=i.withResumeToken(Ui.EMPTY_BYTE_STRING,s);return r.os=r.os.insert(a.targetId,a),r.Ur.updateTargetData(o,a).next(()=>r.Ur.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Ur.addMatchingKeys(o,e,i.targetId)).next(()=>r.Gr.saveNamedQuery(o,t))})})).apply(this,arguments)}function A5(n,t){return`firestore_clients_${n}_${t}`}function k5(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function ND(n,t){return`firestore_targets_${n}_${t}`}class Qx{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Rs(t,e,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new Ee(r.error.code,r.error.message))),s?new Qx(t,e,r.state,o):(Yi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class sb{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Rs(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Ee(i.error.code,i.error.message))),o?new sb(t,i.state,r):(Yi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Yx{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Rs(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=sD();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=_H(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new Yx(t,o):(Yi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class FD{constructor(t,e){this.clientId=t,this.onlineState=e}static Rs(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new FD(e.clientId,e.onlineState):(Yi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class LD{constructor(){this.activeTargetIds=sD()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class VD{constructor(t,e,i,r,o){this.window=t,this.ui=e,this.persistenceKey=i,this.ps=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new oi(At),this.started=!1,this.bs=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=A5(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new LD),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,G.A)(function*(){const e=yield t.syncEngine.Qi();for(const r of e){if(r===t.ps)continue;const o=t.getItem(A5(t.persistenceKey,r));if(o){const s=Yx.Rs(r,o);s&&(t.Ss=t.Ss.insert(s.clientId,s))}}t.Ns();const i=t.storage.getItem(t.xs);if(i){const r=t.Ls(i);r&&t.Bs(r)}for(const r of t.bs)t.ws(r);t.bs=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let e=!1;return this.Ss.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,e,i){this.qs(t,e,i),this.Qs(t)}addLocalQueryTarget(t,e=!0){let i="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(ND(this.persistenceKey,t));if(r){const o=sb.Rs(t,r);o&&(i=o.state)}}return e&&this.Ks.fs(t),this.Ns(),i}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(ND(this.persistenceKey,t))}updateQueryState(t,e,i){this.$s(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Qs(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Te("SharedClientState","READ",t,e),e}setItem(t,e){Te("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Te("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Te("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Ds)return void Yi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,G.A)(function*(){if(e.started){if(null!==i.key)if(e.Cs.test(i.key)){if(null==i.newValue){const r=e.Gs(i.key);return e.zs(r,null)}{const r=e.js(i.key,i.newValue);if(r)return e.zs(r.clientId,r)}}else if(e.Fs.test(i.key)){if(null!==i.newValue){const r=e.Hs(i.key,i.newValue);if(r)return e.Js(r)}}else if(e.Ms.test(i.key)){if(null!==i.newValue){const r=e.Ys(i.key,i.newValue);if(r)return e.Zs(r)}}else if(i.key===e.xs){if(null!==i.newValue){const r=e.Ls(i.newValue);if(r)return e.Bs(r)}}else if(i.key===e.vs){const r=function(s){let a=ds.oe;if(null!=s)try{const c=JSON.parse(s);Je("number"==typeof c),a=c}catch(c){Yi("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(i.newValue);r!==ds.oe&&e.sequenceNumberHandler(r)}else if(i.key===e.Os){const r=e.Xs(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.eo(o)))}}else e.bs.push(i)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,e,i){const r=new Qx(this.currentUser,t,e,i),o=k5(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Vs())}Qs(t){const e=k5(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Us(t){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:t}))}$s(t,e,i){const r=ND(this.persistenceKey,t),o=new sb(t,e,i);this.setItem(r,o.Vs())}Ws(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Os,e)}Gs(t){const e=this.Cs.exec(t);return e?e[1]:null}js(t,e){const i=this.Gs(t);return Yx.Rs(i,e)}Hs(t,e){const i=this.Fs.exec(t),r=Number(i[1]);return Qx.Rs(new kr(void 0!==i[2]?i[2]:null),r,e)}Ys(t,e){const i=this.Ms.exec(t),r=Number(i[1]);return sb.Rs(r,e)}Ls(t){return FD.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){var e=this;return(0,G.A)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.no(t.batchId,t.state,t.error);Te("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,e){const i=e?this.Ss.insert(t,e):this.Ss.remove(t),r=this.ks(this.Ss),o=this.ks(i),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.io(s,a).then(()=>{this.Ss=i})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let e=sD();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class S5{constructor(){this.so=new LD,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,e,i){this.oo[t]=e}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new LD,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class ehe{_o(t){}shutdown(){}}class D5{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xx=null;function BD(){return null===Xx?Xx=268435456+Math.round(2147483648*Math.random()):Xx++,"0x"+Xx.toString(16)}const the={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nhe{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const oo="WebChannelConnection";class ihe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+e.host,this.vo=`projects/${r}/databases/${o}`,this.Co="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Fo(){return!1}Mo(e,i,r,o,s){const a=BD(),c=this.xo(e,i.toUriEncodedString());Te("RestConnection",`Sending RPC '${e}' ${a}:`,c,r);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(e,c,l,r).then(d=>(Te("RestConnection",`Received RPC '${e}' ${a}: `,d),d),d=>{throw cs("RestConnection",`RPC '${e}' ${a} failed with error: `,d,"url: ",c,"request:",r),d})}Lo(e,i,r,o,s,a){return this.Mo(e,i,r,o,s)}Oo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>e[s]=o),r&&r.headers.forEach((o,s)=>e[s]=o)}xo(e,i){return`${this.Do}/v1/${i}:${the[e]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,e,i,r){const o=BD();return new Promise((s,a)=>{const c=new tH;c.setWithCredentials(!0),c.listenOnce(nH.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case vx.NO_ERROR:const d=c.getResponseJson();Te(oo,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(d)),s(d);break;case vx.TIMEOUT:Te(oo,`RPC '${t}' ${o} timed out`),a(new Ee(le.DEADLINE_EXCEEDED,"Request time out"));break;case vx.HTTP_ERROR:const u=c.getStatus();if(Te(oo,`RPC '${t}' ${o} failed with status:`,u,"response text:",c.getResponseText()),u>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const b=p?.error;if(b&&b.status&&b.message){const v=function(x){const P=x.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(P)>=0?P:le.UNKNOWN}(b.status);a(new Ee(v,b.message))}else a(new Ee(le.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Ee(le.UNAVAILABLE,"Connection failed."));break;default:$e()}}finally{Te(oo,`RPC '${t}' ${o} completed.`)}});const l=JSON.stringify(r);Te(oo,`RPC '${t}' ${o} sending request:`,r),c.send(e,"POST",l,i,15)})}Bo(t,e,i){const r=BD(),o=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=oH(),a=rH(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,e,i),c.encodeInitMessageHeaders=!0;const d=o.join("");Te(oo,`Creating RPC '${t}' stream ${r}: ${d}`,c);const u=s.createWebChannel(d,c);let p=!1,b=!1;const v=new nhe({Io:x=>{b?Te(oo,`Not sending because RPC '${t}' stream ${r} is closed:`,x):(p||(Te(oo,`Opening RPC '${t}' stream ${r} transport.`),u.open(),p=!0),Te(oo,`RPC '${t}' stream ${r} sending:`,x),u.send(x))},To:()=>u.close()}),w=(x,P,S)=>{x.listen(P,B=>{try{S(B)}catch($){setTimeout(()=>{throw $},0)}})};return w(u,M_.EventType.OPEN,()=>{b||(Te(oo,`RPC '${t}' stream ${r} transport opened.`),v.yo())}),w(u,M_.EventType.CLOSE,()=>{b||(b=!0,Te(oo,`RPC '${t}' stream ${r} transport closed`),v.So())}),w(u,M_.EventType.ERROR,x=>{b||(b=!0,cs(oo,`RPC '${t}' stream ${r} transport errored:`,x),v.So(new Ee(le.UNAVAILABLE,"The operation could not be completed")))}),w(u,M_.EventType.MESSAGE,x=>{var P;if(!b){const S=x.data[0];Je(!!S);const $=S.error||(null===(P=S[0])||void 0===P?void 0:P.error);if($){Te(oo,`RPC '${t}' stream ${r} received error:`,$);const J=$.status;let te=function(L){const q=sr[L];if(void 0!==q)return y3(q)}(J),V=$.message;void 0===te&&(te=le.INTERNAL,V="Unknown error status: "+J+" with message "+$.message),b=!0,v.So(new Ee(te,V)),u.close()}else Te(oo,`RPC '${t}' stream ${r} received:`,S),v.bo(S)}}),w(a,iH.STAT_EVENT,x=>{x.stat===WS.PROXY?Te(oo,`RPC '${t}' stream ${r} detected buffering proxy`):x.stat===WS.NOPROXY&&Te(oo,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function R5(){return typeof window<"u"?window:null}function Jx(){return typeof document<"u"?document:null}function ab(n){return new uue(n,!0)}class UD{constructor(t,e,i=1e3,r=1.5,o=6e4){this.ui=t,this.timerId=e,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const e=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,e-i);r>0&&Te("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class M5{constructor(t,e,i,r,o,s,a,c){this.ui=t,this.Ho=i,this.Jo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new UD(t,e)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,G.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,G.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,e){var i=this;return(0,G.A)(function*(){i.u_(),i.c_(),i.t_.cancel(),i.Yo++,4!==t?i.t_.reset():e&&e.code===le.RESOURCE_EXHAUSTED?(Yi(e.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),i.t_.Wo()):e&&e.code===le.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.l_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.mo(e)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===e&&this.P_(i,r)},i=>{t(()=>{const r=new Ee(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(t,e){const i=this.h_(this.Yo);this.stream=this.T_(t,e),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>1==++this.e_?this.E_(r):this.onNext(r))})}i_(){var t=this;this.state=5,this.t_.Go((0,G.A)(function*(){t.state=0,t.start()}))}I_(t){return Te("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return e=>{this.ui.enqueueAndForget(()=>this.Yo===t?e():(Te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rhe extends M5{constructor(t,e,i,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}T_(t,e){return this.connection.Bo("Listen",t,e)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const e=function mue(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(l=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:$e(),r=t.targetChange.targetIds||[],o=function(l,d){return l.useProto3Json?(Je(void 0===d||"string"==typeof d),Ui.fromBase64String(d||"")):(Je(void 0===d||d instanceof Buffer||d instanceof Uint8Array),Ui.fromUint8Array(d||new Uint8Array))}(n,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(l){const d=void 0===l.code?le.UNKNOWN:y3(l.code);return new Ee(d,l.message||"")}(s);e=new T3(i,r,o,a||null)}else if("documentChange"in t){const i=t.documentChange,r=Ua(n,i.document.name),o=Xi(i.document.updateTime),s=i.document.createTime?Xi(i.document.createTime):it.min(),a=new Br({mapValue:{fields:i.document.fields}}),c=pi.newFoundDocument(r,o,s,a);e=new Fx(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in t){const i=t.documentDelete,r=Ua(n,i.document),o=i.readTime?Xi(i.readTime):it.min(),s=pi.newNoDocument(r,o);e=new Fx([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){const i=t.documentRemove,r=Ua(n,i.document);e=new Fx([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return $e();{const i=t.filter,{count:r=0,unchangedNames:o}=i,s=new oue(r,o);e=new I3(i.targetId,s)}}var l;return e}(this.serializer,t),i=function(o){if(!("targetChange"in o))return it.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?it.min():s.readTime?Xi(s.readTime):it.min()}(t);return this.listener.d_(e,i)}A_(t){const e={};e.database=gD(this.serializer),e.addTarget=function(o,s){let a;const c=s.target;if(a=Sx(c)?{documents:F3(o,c)}:{query:Lx(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=S3(o,s.resumeToken);const l=fD(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(it.min())>0){a.readTime=hm(o,s.snapshotVersion.toTimestamp());const l=fD(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,t);const i=function gue(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.a_(e)}R_(t){const e={};e.database=gD(this.serializer),e.removeTarget=t,this.a_(e)}}class ohe extends M5{constructor(t,e,i,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,e){return this.connection.Bo("Write",t,e)}E_(t){return Je(!!t.streamToken),this.lastStreamToken=t.streamToken,Je(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){Je(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const e=function pue(n,t){return n&&n.length>0?(Je(void 0!==t),n.map(e=>function(r,o){let s=Xi(r.updateTime?r.updateTime:o);return s.isEqual(it.min())&&(s=Xi(o)),new nue(s,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Xi(t.commitTime);return this.listener.g_(i,e)}p_(){const t={};t.database=gD(this.serializer),this.a_(t)}m_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Z_(this.serializer,i))};this.a_(e)}}class she extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Ee(le.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,e,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(t,pD(e,i),r,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ee(le.UNKNOWN,o.toString())})}Lo(t,e,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(t,pD(e,i),r,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ee(le.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class ahe{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Yi(e),this.D_=!1):Te("OnlineStateTracker",e)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class che{constructor(t,e,i,r,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{i.enqueueAndForget((0,G.A)(function*(){var c;ql(s)&&(Te("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,G.A)(function*(d){const u=Ve(d);u.L_.add(4),yield ym(u),u.q_.set("Unknown"),u.L_.delete(4),yield cb(u)}),function l(d){return c.apply(this,arguments)})(s))}))}),this.q_=new ahe(i,r)}}function cb(n){return jD.apply(this,arguments)}function jD(){return(jD=(0,G.A)(function*(n){if(ql(n))for(const t of n.B_)yield t(!0)})).apply(this,arguments)}function ym(n){return zD.apply(this,arguments)}function zD(){return(zD=(0,G.A)(function*(n){for(const t of n.B_)yield t(!1)})).apply(this,arguments)}function Zx(n,t){const e=Ve(n);e.N_.has(t.targetId)||(e.N_.set(t.targetId,t),qD(e)?WD(e):Em(e).r_()&&HD(e,t))}function wm(n,t){const e=Ve(n),i=Em(e);e.N_.delete(t),i.r_()&&P5(e,t),0===e.N_.size&&(i.r_()?i.o_():ql(e)&&e.q_.set("Unknown"))}function HD(n,t){if(n.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(it.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Em(n).A_(t)}function P5(n,t){n.Q_.xe(t),Em(n).R_(t)}function WD(n){n.Q_=new aue({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.N_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),Em(n).start(),n.q_.v_()}function qD(n){return ql(n)&&!Em(n).n_()&&n.N_.size>0}function ql(n){return 0===Ve(n).L_.size}function O5(n){n.Q_=void 0}function lhe(n){return GD.apply(this,arguments)}function GD(){return(GD=(0,G.A)(function*(n){n.q_.set("Online")})).apply(this,arguments)}function dhe(n){return $D.apply(this,arguments)}function $D(){return($D=(0,G.A)(function*(n){n.N_.forEach((t,e)=>{HD(n,t)})})).apply(this,arguments)}function uhe(n,t){return KD.apply(this,arguments)}function KD(){return(KD=(0,G.A)(function*(n,t){O5(n),qD(n)?(n.q_.M_(t),WD(n)):n.q_.set("Unknown")})).apply(this,arguments)}function hhe(n,t,e){return QD.apply(this,arguments)}function QD(){return QD=(0,G.A)(function*(n,t,e){if(n.q_.set("Online"),t instanceof T3&&2===t.state&&t.cause)try{yield(i=(0,G.A)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.N_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.N_.delete(c),o.Q_.removeTarget(c))}),function r(o,s){return i.apply(this,arguments)})(n,t)}catch(i){Te("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield eE(n,i)}else if(t instanceof Fx?n.Q_.Ke(t):t instanceof I3?n.Q_.He(t):n.Q_.We(t),!e.isEqual(it.min()))try{const i=yield x5(n.localStore);e.compareTo(i)>=0&&(yield function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.N_.get(l);d&&o.N_.set(l,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{const d=o.N_.get(c);if(!d)return;o.N_.set(c,d.withResumeToken(Ui.EMPTY_BYTE_STRING,d.snapshotVersion)),P5(o,c);const u=new Ac(d.target,c,l,d.sequenceNumber);HD(o,u)}),o.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){Te("RemoteStore","Failed to raise snapshot:",i),yield eE(n,i)}var i}),QD.apply(this,arguments)}function eE(n,t,e){return YD.apply(this,arguments)}function YD(){return(YD=(0,G.A)(function*(n,t,e){if(!Ol(t))throw t;n.L_.add(1),yield ym(n),n.q_.set("Offline"),e||(e=()=>x5(n.localStore)),n.asyncQueue.enqueueRetryable((0,G.A)(function*(){Te("RemoteStore","Retrying IndexedDB access"),yield e(),n.L_.delete(1),yield cb(n)}))})).apply(this,arguments)}function N5(n,t){return t().catch(e=>eE(n,e,t))}function xm(n){return XD.apply(this,arguments)}function XD(){return(XD=(0,G.A)(function*(n){const t=Ve(n),e=Gl(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;fhe(t);)try{const r=yield Xue(t.localStore,i);if(null===r){0===t.O_.length&&e.o_();break}i=r.batchId,mhe(t,r)}catch(r){yield eE(t,r)}F5(t)&&L5(t)})).apply(this,arguments)}function fhe(n){return ql(n)&&n.O_.length<10}function mhe(n,t){n.O_.push(t);const e=Gl(n);e.r_()&&e.V_&&e.m_(t.mutations)}function F5(n){return ql(n)&&!Gl(n).n_()&&n.O_.length>0}function L5(n){Gl(n).start()}function phe(n){return JD.apply(this,arguments)}function JD(){return(JD=(0,G.A)(function*(n){Gl(n).p_()})).apply(this,arguments)}function ghe(n){return ZD.apply(this,arguments)}function ZD(){return(ZD=(0,G.A)(function*(n){const t=Gl(n);for(const e of n.O_)t.m_(e.mutations)})).apply(this,arguments)}function _he(n,t,e){return eR.apply(this,arguments)}function eR(){return(eR=(0,G.A)(function*(n,t,e){const i=n.O_.shift(),r=dD.from(i,t,e);yield N5(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield xm(n)})).apply(this,arguments)}function bhe(n,t){return tR.apply(this,arguments)}function tR(){return tR=(0,G.A)(function*(n,t){var e;t&&Gl(n).V_&&(yield(e=(0,G.A)(function*(r,o){if(v3(a=o.code)&&a!==le.ABORTED){const s=r.O_.shift();Gl(r).s_(),yield N5(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield xm(r)}var a}),function i(r,o){return e.apply(this,arguments)})(n,t)),F5(n)&&L5(n)}),tR.apply(this,arguments)}function V5(n,t){return nR.apply(this,arguments)}function nR(){return(nR=(0,G.A)(function*(n,t){const e=Ve(n);e.asyncQueue.verifyOperationInProgress(),Te("RemoteStore","RemoteStore received new credentials");const i=ql(e);e.L_.add(3),yield ym(e),i&&e.q_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.L_.delete(3),yield cb(e)})).apply(this,arguments)}function iR(n,t){return rR.apply(this,arguments)}function rR(){return(rR=(0,G.A)(function*(n,t){const e=Ve(n);t?(e.L_.delete(2),yield cb(e)):t||(e.L_.add(2),yield ym(e),e.q_.set("Unknown"))})).apply(this,arguments)}function Em(n){return n.K_||(n.K_=function(e,i,r){const o=Ve(e);return o.w_(),new rhe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:lhe.bind(null,n),Ro:dhe.bind(null,n),mo:uhe.bind(null,n),d_:hhe.bind(null,n)}),n.B_.push(function(){var t=(0,G.A)(function*(e){e?(n.K_.s_(),qD(n)?WD(n):n.q_.set("Unknown")):(yield n.K_.stop(),O5(n))});return function(e){return t.apply(this,arguments)}}())),n.K_}function Gl(n){return n.U_||(n.U_=function(e,i,r){const o=Ve(e);return o.w_(),new ohe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:phe.bind(null,n),mo:bhe.bind(null,n),f_:ghe.bind(null,n),g_:_he.bind(null,n)}),n.B_.push(function(){var t=(0,G.A)(function*(e){e?(n.U_.s_(),yield xm(n)):(yield n.U_.stop(),n.O_.length>0&&(Te("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))});return function(e){return t.apply(this,arguments)}}())),n.U_}class oR{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const s=Date.now()+i,a=new oR(t,e,s,r,o);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ee(le.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Im(n,t){if(Yi("AsyncQueue",`${t}: ${n}`),Ol(n))return new Ee(le.UNAVAILABLE,`${t}: ${n}`);throw n}class Tm{constructor(t){this.comparator=t?(e,i)=>t(e,i)||ze.comparator(e.key,i.key):(e,i)=>ze.comparator(e.key,i.key),this.keyedMap=q_(),this.sortedSet=new oi(this.comparator)}static emptySet(t){return new Tm(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Tm)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Tm;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class B5{constructor(){this.W_=new oi(ze.comparator)}track(t){const e=t.doc.key,i=this.W_.get(e);i?0!==t.type&&3===i.type?this.W_=this.W_.insert(e,t):3===t.type&&1!==i.type?this.W_=this.W_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.W_=this.W_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.W_=this.W_.remove(e):1===t.type&&2===i.type?this.W_=this.W_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):$e():this.W_=this.W_.insert(e,t)}G_(){const t=[];return this.W_.inorderTraversal((e,i)=>{t.push(i)}),t}}class Cm{constructor(t,e,i,r,o,s,a,c,l){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(t,e,i,r,o){const s=[];return e.forEach(a=>{s.push({type:0,doc:a})}),new Cm(t,e,Tm.emptySet(e),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&H_(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class vhe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class yhe{constructor(){this.queries=U5(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,i){const r=Ve(e),o=r.queries;r.queries=U5(),o.forEach((s,a)=>{for(const c of a.j_)c.onError(i)})}(this,new Ee(le.ABORTED,"Firestore shutting down"))}}function U5(){return new Tc(n=>ZH(n),H_)}function sR(n,t){return aR.apply(this,arguments)}function aR(){return(aR=(0,G.A)(function*(n,t){const e=Ve(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.H_()&&t.J_()&&(i=2):(o=new vhe,i=t.J_()?0:1);try{switch(i){case 0:o.z_=yield e.onListen(r,!0);break;case 1:o.z_=yield e.onListen(r,!1);break;case 2:yield e.onFirstRemoteStoreListen(r)}}catch(s){const a=Im(s,`Initialization of query '${am(t.query)}' failed`);return void t.onError(a)}e.queries.set(r,o),o.j_.push(t),t.Z_(e.onlineState),o.z_&&t.X_(o.z_)&&dR(e)})).apply(this,arguments)}function cR(n,t){return lR.apply(this,arguments)}function lR(){return(lR=(0,G.A)(function*(n,t){const e=Ve(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const s=o.j_.indexOf(t);s>=0&&(o.j_.splice(s,1),0===o.j_.length?r=t.J_()?0:1:!o.H_()&&t.J_()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}})).apply(this,arguments)}function whe(n,t){const e=Ve(n);let i=!1;for(const r of t){const s=e.queries.get(r.query);if(s){for(const a of s.j_)a.X_(r)&&(i=!0);s.z_=r}}i&&dR(e)}function xhe(n,t,e){const i=Ve(n),r=i.queries.get(t);if(r)for(const o of r.j_)o.onError(e);i.queries.delete(t)}function dR(n){n.Y_.forEach(t=>{t.next()})}var uR,j5;(j5=uR||(uR={})).ea="default",j5.Cache="cache";class hR{constructor(t,e,i){this.query=t,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Cm(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.na?this.ia(t)&&(this.ta.next(t),e=!0):this.sa(t,this.onlineState)&&(this.oa(t),e=!0),this.ra=t,e}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),e=!0),e}sa(t,e){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=Cm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==uR.Cache}}class Ehe{constructor(t,e){this.aa=t,this.byteLength=e}ua(){return"metadata"in this.aa}}class z5{constructor(t){this.serializer=t}Es(t){return Ua(this.serializer,t)}ds(t){return t.metadata.exists?N3(this.serializer,t.document,!1):pi.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return Xi(t)}}class Ihe{constructor(t,e,i){this.ca=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=H5(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++e;const i=sn.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ha(t){const e=new Map,i=new z5(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.Es(r.metadata.name);for(const s of r.metadata.queries){const a=(e.get(s)||Ft()).add(o);e.set(s,a)}}return e}complete(){var t=this;return(0,G.A)(function*(){const e=yield function Jue(n,t,e,i){return PD.apply(this,arguments)}(t.localStore,new z5(t.serializer),t.documents,t.ca.id),i=t.ha(t.documents);for(const r of t.queries)yield Zue(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Pa:t.collectionGroups,Ia:e}})()}}function H5(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class W5{constructor(t){this.key=t}}class q5{constructor(t){this.key=t}}class G5{constructor(t,e){this.query=t,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ft(),this.mutatedKeys=Ft(),this.Aa=t3(t),this.Ra=new Tm(this.Aa)}get Va(){return this.Ta}ma(t,e){const i=e?e.fa:new B5,r=e?e.Ra:this.Ra;let o=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,u)=>{const p=r.get(d),b=W_(this.query,u)?u:null,v=!!p&&this.mutatedKeys.has(p.key),w=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let x=!1;p&&b?p.data.isEqual(b.data)?v!==w&&(i.track({type:3,doc:b}),x=!0):this.ga(p,b)||(i.track({type:2,doc:b}),x=!0,(c&&this.Aa(b,c)>0||l&&this.Aa(b,l)<0)&&(a=!0)):!p&&b?(i.track({type:0,doc:b}),x=!0):p&&!b&&(i.track({type:1,doc:p}),x=!0,(c||l)&&(a=!0)),x&&(b?(s=s.add(b),o=w?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const d="F"===this.query.limitType?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),i.track({type:1,doc:d})}return{Ra:s,fa:i,ns:a,mutatedKeys:o}}ga(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const s=t.fa.G_();s.sort((d,u)=>function(b,v){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e()}};return w(b)-w(v)}(d.type,u.type)||this.Aa(d.doc,u.doc)),this.pa(i),r=null!=r&&r;const a=e&&!r?this.ya():[],c=0===this.da.size&&this.current&&!r?1:0,l=c!==this.Ea;return this.Ea=c,0!==s.length||l?{snapshot:new Cm(this.query,t.Ra,o,s,t.mutatedKeys,0===c,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new B5,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Ft(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const e=[];return t.forEach(i=>{this.da.has(i)||e.push(new q5(i))}),this.da.forEach(i=>{t.has(i)||e.push(new W5(i))}),e}ba(t){this.Ta=t.Ts,this.da=Ft();const e=this.ma(t.documents);return this.applyChanges(e,!0)}Da(){return Cm.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class The{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Che{constructor(t){this.key=t,this.va=!1}}class Ahe{constructor(t,e,i,r,o,s){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Tc(a=>ZH(a),H_),this.Ma=new Map,this.xa=new Set,this.Oa=new oi(ze.comparator),this.Na=new Map,this.La=new TD,this.Ba={},this.ka=new Map,this.qa=ku.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function khe(n,t){return fR.apply(this,arguments)}function fR(){return(fR=(0,G.A)(function*(n,t,e=!0){const i=tE(n);let r;const o=i.Fa.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=yield $5(i,t,e,!0),r})).apply(this,arguments)}function She(n,t){return mR.apply(this,arguments)}function mR(){return(mR=(0,G.A)(function*(n,t){const e=tE(n);yield $5(e,t,!0,!1)})).apply(this,arguments)}function $5(n,t,e,i){return pR.apply(this,arguments)}function pR(){return(pR=(0,G.A)(function*(n,t,e,i){const r=yield bm(n.localStore,io(t)),o=r.targetId,s=n.sharedClientState.addLocalQueryTarget(o,e);let a;return i&&(a=yield gR(n,t,o,"current"===s,r.resumeToken)),n.isPrimaryClient&&e&&Zx(n.remoteStore,r),a})).apply(this,arguments)}function gR(n,t,e,i,r){return _R.apply(this,arguments)}function _R(){return _R=(0,G.A)(function*(n,t,e,i,r){n.Ka=(u,p,b)=>{return(v=(0,G.A)(function*(x,P,S,B){let $=P.view.ma(S);$.ns&&($=yield Kx(x.localStore,P.query,!1).then(({documents:R})=>P.view.ma(R,$)));const J=B&&B.targetChanges.get(P.targetId),te=B&&null!=B.targetMismatches.get(P.targetId),V=P.view.applyChanges($,x.isPrimaryClient,J,te);return kR(x,P.targetId,V.wa),V.snapshot}),function w(x,P,S,B){return v.apply(this,arguments)})(n,u,p,b);var v};const o=yield Kx(n.localStore,t,!0),s=new G5(t,o.Ts),a=s.ma(o.documents),c=X_.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),l=s.applyChanges(a,n.isPrimaryClient,c);kR(n,e,l.wa);const d=new The(t,e,s);return n.Fa.set(t,d),n.Ma.has(e)?n.Ma.get(e).push(t):n.Ma.set(e,[t]),l.snapshot}),_R.apply(this,arguments)}function Dhe(n,t,e){return bR.apply(this,arguments)}function bR(){return(bR=(0,G.A)(function*(n,t,e){const i=Ve(n),r=i.Fa.get(t),o=i.Ma.get(r.targetId);if(o.length>1)return i.Ma.set(r.targetId,o.filter(s=>!H_(s,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield vm(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&wm(i.remoteStore,r.targetId),Am(i,r.targetId)}).catch(Pl))):(Am(i,r.targetId),yield vm(i.localStore,r.targetId,!0))})).apply(this,arguments)}function Rhe(n,t){return vR.apply(this,arguments)}function vR(){return(vR=(0,G.A)(function*(n,t){const e=Ve(n),i=e.Fa.get(t),r=e.Ma.get(i.targetId);e.isPrimaryClient&&1===r.length&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),wm(e.remoteStore,i.targetId))})).apply(this,arguments)}function yR(){return(yR=(0,G.A)(function*(n,t,e){const i=BR(n);try{const r=yield function(s,a){const c=Ve(s),l=Ti.now(),d=a.reduce((b,v)=>b.add(v.key),Ft());let u,p;return c.persistence.runTransaction("Locally write mutations","readwrite",b=>{let v=Uo(),w=Ft();return c.cs.getEntries(b,d).next(x=>{v=x,v.forEach((P,S)=>{S.isValidDocument()||(w=w.add(P))})}).next(()=>c.localDocuments.getOverlayedDocuments(b,v)).next(x=>{u=x;const P=[];for(const S of a){const B=rue(S,u.get(S.key).overlayedDocument);null!=B&&P.push(new Cc(S.key,B,LH(B.value.mapValue),Ai.exists(!0)))}return c.mutationQueue.addMutationBatch(b,l,P,a)}).next(x=>{p=x;const P=x.applyToLocalDocumentSet(u,w);return c.documentOverlayCache.saveOverlays(b,x.batchId,P)})}).then(()=>({batchId:p.batchId,changes:r3(u)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let l=s.Ba[s.currentUser.toKey()];l||(l=new oi(At)),l=l.insert(a,c),s.Ba[s.currentUser.toKey()]=l}(i,r.batchId,e),yield kc(i,r.changes),yield xm(i.remoteStore)}catch(r){const o=Im(r,"Failed to persist write");e.reject(o)}})).apply(this,arguments)}function K5(n,t){return wR.apply(this,arguments)}function wR(){return(wR=(0,G.A)(function*(n,t){const e=Ve(n);try{const i=yield function Yue(n,t){const e=Ve(n),i=t.snapshotVersion;let r=e.os;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=e.cs.newChangeBuffer({trackRemovals:!0});r=e.os;const a=[];t.targetChanges.forEach((d,u)=>{const p=r.get(u);if(!p)return;a.push(e.Ur.removeMatchingKeys(o,d.removedDocuments,u).next(()=>e.Ur.addMatchingKeys(o,d.addedDocuments,u)));let b=p.withSequenceNumber(o.currentSequenceNumber);var w,x,P;null!==t.targetMismatches.get(u)?b=b.withResumeToken(Ui.EMPTY_BYTE_STRING,it.min()).withLastLimboFreeSnapshotVersion(it.min()):d.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(d.resumeToken,i)),r=r.insert(u,b),x=b,P=d,(0===(w=p).resumeToken.approximateByteSize()||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0)&&a.push(e.Ur.updateTargetData(o,b))});let c=Uo(),l=Ft();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(E5(o,s,t.documentUpdates).next(d=>{c=d.Ps,l=d.Is})),!i.isEqual(it.min())){const d=e.Ur.getLastRemoteSnapshotVersion(o).next(u=>e.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(d)}return ie.waitFor(a).next(()=>s.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(e.os=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const s=e.Na.get(o);s&&(Je(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.va=!0:r.modifiedDocuments.size>0?Je(s.va):r.removedDocuments.size>0&&(Je(s.va),s.va=!1))}),yield kc(e,i,t)}catch(i){yield Pl(i)}})).apply(this,arguments)}function Q5(n,t,e){const i=Ve(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.Fa.forEach((o,s)=>{const a=s.view.Z_(t);a.snapshot&&r.push(a.snapshot)}),function(s,a){const c=Ve(s);c.onlineState=a;let l=!1;c.queries.forEach((d,u)=>{for(const p of u.j_)p.Z_(a)&&(l=!0)}),l&&dR(c)}(i.eventManager,t),r.length&&i.Ca.d_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Phe(n,t,e){return xR.apply(this,arguments)}function xR(){return(xR=(0,G.A)(function*(n,t,e){const i=Ve(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Na.get(t),o=r&&r.key;if(o){let s=new oi(ze.comparator);s=s.insert(o,pi.newNoDocument(o,it.min()));const a=Ft().add(o),c=new Y_(it.min(),new Map,new oi(At),s,a);yield K5(i,c),i.Oa=i.Oa.remove(o),i.Na.delete(t),SR(i)}else yield vm(i.localStore,t,!1).then(()=>Am(i,t,e)).catch(Pl)})).apply(this,arguments)}function Ohe(n,t){return ER.apply(this,arguments)}function ER(){return(ER=(0,G.A)(function*(n,t){const e=Ve(n),i=t.batch.batchId;try{const r=yield function Que(n,t){const e=Ve(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,d){const u=l.batch,p=u.keys();let b=ie.resolve();return p.forEach(v=>{b=b.next(()=>d.getEntry(c,v)).next(w=>{const x=l.docVersions.get(v);Je(null!==x),w.version.compareTo(x)<0&&(u.applyToRemoteDocument(w,l),w.isValidDocument()&&(w.setReadTime(l.commitVersion),d.addEntry(w)))})}),b.next(()=>a.mutationQueue.removeMutationBatch(c,u))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=Ft();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);AR(e,i,null),CR(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield kc(e,r)}catch(r){yield Pl(r)}})).apply(this,arguments)}function Nhe(n,t,e){return IR.apply(this,arguments)}function IR(){return(IR=(0,G.A)(function*(n,t,e){const i=Ve(n);try{const r=yield function(s,a){const c=Ve(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(u=>(Je(null!==u),d=u.keys(),c.mutationQueue.removeMutationBatch(l,u))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})}(i.localStore,t);AR(i,t,e),CR(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield kc(i,r)}catch(r){yield Pl(r)}})).apply(this,arguments)}function TR(){return(TR=(0,G.A)(function*(n,t){const e=Ve(n);ql(e.remoteStore)||Te("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=Ve(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ka.get(i)||[];r.push(t),e.ka.set(i,r)}catch(i){const r=Im(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}})).apply(this,arguments)}function CR(n,t){(n.ka.get(t)||[]).forEach(e=>{e.resolve()}),n.ka.delete(t)}function AR(n,t,e){const i=Ve(n);let r=i.Ba[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ba[i.currentUser.toKey()]=r}}function Am(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Ma.get(t))n.Fa.delete(i),e&&n.Ca.$a(i,e);n.Ma.delete(t),n.isPrimaryClient&&n.La.gr(t).forEach(i=>{n.La.containsKey(i)||Y5(n,i)})}function Y5(n,t){n.xa.delete(t.path.canonicalString());const e=n.Oa.get(t);null!==e&&(wm(n.remoteStore,e),n.Oa=n.Oa.remove(t),n.Na.delete(e),SR(n))}function kR(n,t,e){for(const i of e)i instanceof W5?(n.La.addReference(i.key,t),Lhe(n,i)):i instanceof q5?(Te("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,t),n.La.containsKey(i.key)||Y5(n,i.key)):$e()}function Lhe(n,t){const e=t.key,i=e.path.canonicalString();n.Oa.get(e)||n.xa.has(i)||(Te("SyncEngine","New document in limbo: "+e),n.xa.add(i),SR(n))}function SR(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const t=n.xa.values().next().value;n.xa.delete(t);const e=new ze(sn.fromString(t)),i=n.qa.next();n.Na.set(i,new Che(e)),n.Oa=n.Oa.insert(e,i),Zx(n.remoteStore,new Ac(io(om(e.path)),i,"TargetPurposeLimboResolution",ds.oe))}}function kc(n,t,e){return DR.apply(this,arguments)}function DR(){return DR=(0,G.A)(function*(n,t,e){const i=Ve(n),r=[],o=[],s=[];var a;i.Fa.isEmpty()||(i.Fa.forEach((a,c)=>{s.push(i.Ka(c,t,e).then(l=>{var d;if((l||e)&&i.isPrimaryClient){const u=l?!l.fromCache:null===(d=e?.targetChanges.get(c.targetId))||void 0===d?void 0:d.current;i.sharedClientState.updateQueryState(c.targetId,u?"current":"not-current")}if(l){r.push(l);const u=DD.Wi(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),i.Ca.d_(r),yield(a=(0,G.A)(function*(l,d){const u=Ve(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>ie.forEach(d,b=>ie.forEach(b.$i,v=>u.persistence.referenceDelegate.addReference(p,b.targetId,v)).next(()=>ie.forEach(b.Ui,v=>u.persistence.referenceDelegate.removeReference(p,b.targetId,v)))))}catch(p){if(!Ol(p))throw p;Te("LocalStore","Failed to update sequence numbers: "+p)}for(const p of d){const b=p.targetId;if(!p.fromCache){const v=u.os.get(b),x=v.withLastLimboFreeSnapshotVersion(v.snapshotVersion);u.os=u.os.insert(b,x)}}}),function c(l,d){return a.apply(this,arguments)})(i.localStore,o))}),DR.apply(this,arguments)}function Vhe(n,t){return RR.apply(this,arguments)}function RR(){return(RR=(0,G.A)(function*(n,t){const e=Ve(n);if(!e.currentUser.isEqual(t)){Te("SyncEngine","User change. New user:",t.toKey());const i=yield w5(e.localStore,t);e.currentUser=t,(o=e).ka.forEach(a=>{a.forEach(c=>{c.reject(new Ee(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ka.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield kc(e,i.hs)}var o})).apply(this,arguments)}function Bhe(n,t){const e=Ve(n),i=e.Na.get(t);if(i&&i.va)return Ft().add(i.key);{let r=Ft();const o=e.Ma.get(t);if(!o)return r;for(const s of o){const a=e.Fa.get(s);r=r.unionWith(a.view.Va)}return r}}function Uhe(n,t){return MR.apply(this,arguments)}function MR(){return(MR=(0,G.A)(function*(n,t){const e=Ve(n),i=yield Kx(e.localStore,t.query,!0),r=t.view.ba(i);return e.isPrimaryClient&&kR(e,t.targetId,r.wa),r})).apply(this,arguments)}function jhe(n,t){return PR.apply(this,arguments)}function PR(){return(PR=(0,G.A)(function*(n,t){const e=Ve(n);return T5(e.localStore,t).then(i=>kc(e,i))})).apply(this,arguments)}function zhe(n,t,e,i){return OR.apply(this,arguments)}function OR(){return(OR=(0,G.A)(function*(n,t,e,i){const r=Ve(n),o=yield function(a,c){const l=Ve(a),d=Ve(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",u=>d.Mn(u,c).next(p=>p?l.localDocuments.getDocuments(u,p):ie.resolve(null)))}(r.localStore,t);var c;null!==o?("pending"===e?yield xm(r.remoteStore):"acknowledged"===e||"rejected"===e?(AR(r,t,i||null),CR(r,t),c=t,Ve(Ve(r.localStore).mutationQueue).On(c)):$e(),yield kc(r,o)):Te("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function NR(){return(NR=(0,G.A)(function*(n,t){const e=Ve(n);if(tE(e),BR(e),!0===t&&!0!==e.Qa){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield X5(e,i.toArray());e.Qa=!0,yield iR(e.remoteStore,!0);for(const o of r)Zx(e.remoteStore,o)}else if(!1===t&&!1!==e.Qa){const i=[];let r=Promise.resolve();e.Ma.forEach((o,s)=>{e.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Am(e,s),vm(e.localStore,s,!0))),wm(e.remoteStore,s)}),yield r,yield X5(e,i),function(s){const a=Ve(s);a.Na.forEach((c,l)=>{wm(a.remoteStore,l)}),a.La.pr(),a.Na=new Map,a.Oa=new oi(ze.comparator)}(e),e.Qa=!1,yield iR(e.remoteStore,!1)}})).apply(this,arguments)}function X5(n,t,e){return FR.apply(this,arguments)}function FR(){return(FR=(0,G.A)(function*(n,t,e){const i=Ve(n),r=[],o=[];for(const s of t){let a;const c=i.Ma.get(s);if(c&&0!==c.length){a=yield bm(i.localStore,io(c[0]));for(const l of c){const d=i.Fa.get(l),u=yield Uhe(i,d);u.snapshot&&o.push(u.snapshot)}}else{const l=yield I5(i.localStore,s);a=yield bm(i.localStore,l),yield gR(i,J5(l),s,!1,a.resumeToken)}r.push(a)}return i.Ca.d_(o),r})).apply(this,arguments)}function J5(n){return QH(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Whe(n){return e=Ve(n).localStore,Ve(Ve(e).persistence).Qi();var e}function qhe(n,t,e,i){return LR.apply(this,arguments)}function LR(){return(LR=(0,G.A)(function*(n,t,e,i){const r=Ve(n);if(r.Qa)return void Te("SyncEngine","Ignoring unexpected query state notification.");const o=r.Ma.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const s=yield T5(r.localStore,e3(o[0])),a=Y_.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Ui.EMPTY_BYTE_STRING);yield kc(r,s,a);break}case"rejected":yield vm(r.localStore,t,!0),Am(r,t,i);break;default:$e()}})).apply(this,arguments)}function Ghe(n,t,e){return VR.apply(this,arguments)}function VR(){return(VR=(0,G.A)(function*(n,t,e){const i=tE(n);if(i.Qa){for(const r of t){if(i.Ma.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){Te("SyncEngine","Adding an already active target "+r);continue}const o=yield I5(i.localStore,r),s=yield bm(i.localStore,o);yield gR(i,J5(o),s.targetId,!1,s.resumeToken),Zx(i.remoteStore,s)}for(const r of e)i.Ma.has(r)&&(yield vm(i.localStore,r,!1).then(()=>{wm(i.remoteStore,r),Am(i,r)}).catch(Pl))}})).apply(this,arguments)}function tE(n){const t=Ve(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=K5.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bhe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Phe.bind(null,t),t.Ca.d_=whe.bind(null,t.eventManager),t.Ca.$a=xhe.bind(null,t.eventManager),t}function BR(n){const t=Ve(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ohe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Nhe.bind(null,t),t}let km=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){var i=this;return(0,G.A)(function*(){i.serializer=ab(e.databaseInfo.databaseId),i.sharedClientState=i.Wa(e),i.persistence=i.Ga(e),yield i.persistence.start(),i.localStore=i.za(e),i.gcScheduler=i.ja(e,i.localStore),i.indexBackfillerScheduler=i.Ha(e,i.localStore)})()}ja(e,i){return null}Ha(e,i){return null}za(e){return y5(this.persistence,new v5,e.initialUser,this.serializer)}Ga(e){return new CD(qx.Zr,this.serializer)}Wa(e){return new S5}terminate(){var e=this;return(0,G.A)(function*(){var i,r;null===(i=e.gcScheduler)||void 0===i||i.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}return n.provider={build:()=>new n},n})();class UR extends km{constructor(t,e,i){super(),this.Ja=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,G.A)(function*(){yield e().call(i,t),yield i.Ja.initialize(i,t),yield BR(i.Ja.syncEngine),yield xm(i.Ja.remoteStore),yield i.persistence.yi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(t){return y5(this.persistence,new v5,t.initialUser,this.serializer)}ja(t,e){return new d5(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ha(t,e){const i=new pde(e,this.persistence);return new mde(t.asyncQueue,i)}Ga(t){const e=SD(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ro.withCacheSize(this.cacheSizeBytes):ro.DEFAULT;return new kD(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,R5(),Jx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(t){return new S5}}class Z5 extends UR{constructor(t,e){super(t,e,!1),this.Ja=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,G.A)(function*(){yield e().call(i,t);const r=i.Ja.syncEngine;i.sharedClientState instanceof VD&&(i.sharedClientState.syncEngine={no:zhe.bind(null,r),ro:qhe.bind(null,r),io:Ghe.bind(null,r),Qi:Whe.bind(null,r),eo:jhe.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.yi(function(){var o=(0,G.A)(function*(s){yield function Hhe(n,t){return NR.apply(this,arguments)}(i.Ja.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}Wa(t){const e=R5();if(!VD.D(e))throw new Ee(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=SD(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new VD(e,t.asyncQueue,i,t.clientId,t.initialUser)}}let Sm=(()=>{class n{initialize(e,i){var r=this;return(0,G.A)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(i),r.remoteStore=r.createRemoteStore(i),r.eventManager=r.createEventManager(i),r.syncEngine=r.createSyncEngine(i,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>Q5(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=Vhe.bind(null,r.syncEngine),yield iR(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new yhe}createDatastore(e){const i=ab(e.databaseInfo.databaseId),r=new ihe(e.databaseInfo);return new she(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return r=this.localStore,o=this.datastore,s=e.asyncQueue,a=i=>Q5(this.syncEngine,i,0),c=D5.D()?new D5:new ehe,new che(r,o,s,a,c);var r,o,s,a,c}createSyncEngine(e,i){return function(o,s,a,c,l,d,u){const p=new Ahe(o,s,a,c,l,d);return u&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){var e=this;return(0,G.A)(function*(){var i,r,o;yield(o=(0,G.A)(function*(a){const c=Ve(a);Te("RemoteStore","RemoteStore shutting down."),c.L_.add(5),yield ym(c),c.k_.shutdown(),c.q_.set("Unknown")}),function s(a){return o.apply(this,arguments)})(e.remoteStore),null===(i=e.datastore)||void 0===i||i.terminate(),null===(r=e.eventManager)||void 0===r||r.terminate()})()}}return n.provider={build:()=>new n},n})();function e6(n,t=10240){let e=0;return{read:()=>(0,G.A)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,G.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class nE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Yi("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,e){setTimeout(()=>{this.muted||t(e)},0)}}class Qhe{constructor(t,e){this.Xa=t,this.serializer=e,this.metadata=new Sr,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(i=>{i&&i.ua()?this.metadata.resolve(i.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.aa)}`))},i=>this.metadata.reject(i))}close(){return this.Xa.cancel()}getMetadata(){var t=this;return(0,G.A)(function*(){return t.metadata.promise})()}Ua(){var t=this;return(0,G.A)(function*(){return yield t.getMetadata(),t.tu()})()}tu(){var t=this;return(0,G.A)(function*(){const e=yield t.nu();if(null===e)return null;const i=t.eu.decode(e),r=Number(i);isNaN(r)&&t.ru(`length string (${i}) is not valid number`);const o=yield t.iu(r);return new Ehe(JSON.parse(o),e.length+r)})()}su(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}nu(){var t=this;return(0,G.A)(function*(){for(;t.su()<0&&!(yield t.ou()););if(0===t.buffer.length)return null;const e=t.su();e<0&&t.ru("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}iu(t){var e=this;return(0,G.A)(function*(){for(;e.buffer.length<t;)(yield e.ou())&&e.ru("Reached the end of bundle when more is expected.");const i=e.eu.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}ru(t){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${t}`)}ou(){var t=this;return(0,G.A)(function*(){const e=yield t.Xa.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Yhe{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,G.A)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw e.lastTransactionError=new Ee(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),e.lastTransactionError;const i=yield(r=(0,G.A)(function*(s,a){const c=Ve(s),l={documents:a.map(b=>J_(c.serializer,b))},d=yield c.Lo("BatchGetDocuments",c.serializer.databaseId,sn.emptyPath(),l,a.length),u=new Map;d.forEach(b=>{const v=function fue(n,t){return"found"in t?function(i,r){Je(!!r.found);const o=Ua(i,r.found.name),s=Xi(r.found.updateTime),a=r.found.createTime?Xi(r.found.createTime):it.min(),c=new Br({mapValue:{fields:r.found.fields}});return pi.newFoundDocument(o,s,a,c)}(n,t):"missing"in t?function(i,r){Je(!!r.missing),Je(!!r.readTime);const o=Ua(i,r.missing),s=Xi(r.readTime);return pi.newNoDocument(o,s)}(n,t):$e()}(c.serializer,b);u.set(v.key.toString(),v)});const p=[];return a.forEach(b=>{const v=u.get(b.toString());Je(!!v),p.push(v)}),p}),function o(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new um(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,G.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=ze.fromPath(r);t.mutations.push(new cD(o,t.precondition(o)))}),yield(i=(0,G.A)(function*(o,s){const a=Ve(o),c={writes:s.map(l=>Z_(a.serializer,l))};yield a.Mo("Commit",a.serializer.databaseId,sn.emptyPath(),c)}),function r(o,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw $e();e=it.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ee(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(it.min())?Ai.exists(!1):Ai.updateTime(e):Ai.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(it.min()))throw new Ee(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ai.updateTime(e)}return Ai.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Xhe{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this._u=i.maxAttempts,this.t_=new UD(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var t=this;this.t_.Go((0,G.A)(function*(){const e=new Yhe(t.datastore),i=t.cu(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.lu(o)}))}).catch(r=>{t.lu(r)})}))}cu(t){try{const e=this.updateFunction(t);return!N_(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}lu(t){this._u>0&&this.hu(t)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(t)}hu(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!v3(e)}return!1}}class Jhe{constructor(t,e,i,r,o){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=kr.UNAUTHENTICATED,this.clientId=lH.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,function(){var a=(0,G.A)(function*(c){Te("FirestoreClient","Received user=",c.uid),yield s.authCredentialListener(c),s.user=c});return function(c){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(Te("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,G.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Im(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function jR(n,t){return zR.apply(this,arguments)}function zR(){return zR=(0,G.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Te("FirestoreClient","Initializing OfflineComponentProvider");const e=n.configuration;yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,G.A)(function*(o){i.isEqual(o)||(yield w5(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),zR.apply(this,arguments)}function t6(n,t){return HR.apply(this,arguments)}function HR(){return(HR=(0,G.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield WR(n);Te("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>V5(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>V5(t.remoteStore,r)),n._onlineComponents=t})).apply(this,arguments)}function WR(n){return qR.apply(this,arguments)}function qR(){return(qR=(0,G.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield jR(n,n._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===(r=t).name?r.code===le.FAILED_PRECONDITION||r.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code))throw t;cs("Error using user provided cache. Falling back to memory cache: "+t),yield jR(n,new km)}}else Te("FirestoreClient","Using default OfflineComponentProvider"),yield jR(n,new km);var r;return n._offlineComponents})).apply(this,arguments)}function iE(n){return GR.apply(this,arguments)}function GR(){return(GR=(0,G.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te("FirestoreClient","Using user provided OnlineComponentProvider"),yield t6(n,n._uninitializedComponentsProvider._online)):(Te("FirestoreClient","Using default OnlineComponentProvider"),yield t6(n,new Sm))),n._onlineComponents})).apply(this,arguments)}function n6(n){return WR(n).then(t=>t.persistence)}function Dm(n){return WR(n).then(t=>t.localStore)}function i6(n){return iE(n).then(t=>t.remoteStore)}function $R(n){return iE(n).then(t=>t.syncEngine)}function Rm(n){return KR.apply(this,arguments)}function KR(){return(KR=(0,G.A)(function*(n){const t=yield iE(n),e=t.eventManager;return e.onListen=khe.bind(null,t.syncEngine),e.onUnlisten=Dhe.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=She.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Rhe.bind(null,t.syncEngine),e})).apply(this,arguments)}function o6(n,t,e={}){const i=new Sr;return n.asyncQueue.enqueueAndForget((0,G.A)(function*(){return function(o,s,a,c,l){const d=new nE({next:p=>{d.Za(),s.enqueueAndForget(()=>cR(o,u));const b=p.docs.has(a);!b&&p.fromCache?l.reject(new Ee(le.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&p.fromCache&&c&&"server"===c.source?l.reject(new Ee(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(p)},error:p=>l.reject(p)}),u=new hR(om(a.path),d,{includeMetadataChanges:!0,_a:!0});return sR(o,u)}(yield Rm(n),n.asyncQueue,t,e,i)})),i.promise}function s6(n,t,e={}){const i=new Sr;return n.asyncQueue.enqueueAndForget((0,G.A)(function*(){return function(o,s,a,c,l){const d=new nE({next:p=>{d.Za(),s.enqueueAndForget(()=>cR(o,u)),p.fromCache&&"server"===c.source?l.reject(new Ee(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(p)},error:p=>l.reject(p)}),u=new hR(a,d,{includeMetadataChanges:!0,_a:!0});return sR(o,u)}(yield Rm(n),n.asyncQueue,t,e,i)})),i.promise}function a6(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const c6=new Map;function QR(n,t,e){if(!e)throw new Ee(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function l6(n,t,e,i){if(!0===t&&!0===i)throw new Ee(le.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function d6(n){if(!ze.isDocumentKey(n))throw new Ee(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function u6(n){if(ze.isDocumentKey(n))throw new Ee(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function rE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":$e()}function Jt(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ee(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=rE(n);throw new Ee(le.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function h6(n,t){if(t<=0)throw new Ee(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class f6{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Ee(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ee(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}l6("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=a6(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Ee(le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ee(le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ee(le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lb{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f6({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ee(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f6(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new nde;switch(i.type){case"firstParty":return new sde(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ee(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var t=this;return(0,G.A)(function*(){"notTerminated"===t._terminateTask?yield t._terminate():t._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=c6.get(e);i&&(Te("ComponentProvider","Removing Datastore"),c6.delete(e),i.terminate())}(this),Promise.resolve()}}function m6(n,t,e,i={}){var r;const o=(n=Jt(n,lb))._getSettings(),s=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=kr.MOCK_USER;else{a=(0,yn.Fy)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new Ee(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new kr(l)}n._authCredentials=new ide(new aH(a,c))}}class Ur{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ur(this.firestore,t,this._query)}}class gi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new gi(this.firestore,t,this._key)}}class ja extends Ur{constructor(t,e,i){super(t,e,om(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new gi(this.firestore,null,new ze(t))}withConverter(t){return new ja(this.firestore,t,this._path)}}function p6(n,t,...e){if(n=(0,yn.Ku)(n),QR("collection","path",t),n instanceof lb){const i=sn.fromString(t,...e);return u6(i),new ja(n,null,i)}{if(!(n instanceof gi||n instanceof ja))throw new Ee(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(sn.fromString(t,...e));return u6(i),new ja(n.firestore,null,i)}}function db(n,t,...e){if(n=(0,yn.Ku)(n),1===arguments.length&&(t=lH.newId()),QR("doc","path",t),n instanceof lb){const i=sn.fromString(t,...e);return d6(i),new gi(n,null,new ze(i))}{if(!(n instanceof gi||n instanceof ja))throw new Ee(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(sn.fromString(t,...e));return d6(i),new gi(n.firestore,n instanceof ja?n.converter:null,new ze(i))}}function g6(n,t){return n=(0,yn.Ku)(n),t=(0,yn.Ku)(t),(n instanceof gi||n instanceof ja)&&(t instanceof gi||t instanceof ja)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function YR(n,t){return n=(0,yn.Ku)(n),t=(0,yn.Ku)(t),n instanceof Ur&&t instanceof Ur&&n.firestore===t.firestore&&H_(n._query,t._query)&&n.converter===t.converter}class _6{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new UD(this,"async_queue_retry"),this.Vu=()=>{const i=Jx();i&&Te("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=t;const e=Jx();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const e=Jx();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const e=new Sr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}pu(){var t=this;return(0,G.A)(function*(){if(0!==t.Pu.length){try{yield t.Pu[0](),t.Pu.shift(),t.t_.reset()}catch(e){if(!Ol(e))throw e;Te("AsyncQueue","Operation failed with retryable error: "+e)}t.Pu.length>0&&t.t_.Go(()=>t.pu())}})()}gu(t){const e=this.mu.then(()=>(this.du=!0,t().catch(i=>{throw this.Eu=i,this.du=!1,Yi("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.du=!1,i))));return this.mu=e,e}enqueueAfterDelay(t,e,i){this.fu(),this.Ru.indexOf(t)>-1&&(e=0);const r=oR.createAndSchedule(this,t,e,i,o=>this.yu(o));return this.Tu.push(r),r}fu(){this.Eu&&$e()}verifyOperationInProgress(){}wu(){var t=this;return(0,G.A)(function*(){let e;do{e=t.mu,yield e}while(e!==t.mu)})()}Su(t){for(const e of this.Tu)if(e.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Tu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const e=this.Tu.indexOf(t);this.Tu.splice(e,1)}}function XR(n){return function(e,i){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class ufe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Sr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Qn extends lb{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new _6,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){var t=this;return(0,G.A)(function*(){if(t._firestoreClient){const e=t._firestoreClient.terminate();t._queue=new _6(e),t._firestoreClient=void 0,yield e}})()}}function ffe(n,t){const e="object"==typeof n?n:(0,to.getApp)(),i="string"==typeof n?n:t||"(default)",r=(0,to._getProvider)(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(0,yn.yU)("firestore");o&&m6(r,...o)}return r}function ki(n){if(n._terminated)throw new Ee(le.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||b6(n),n._firestoreClient}function b6(n){var t,e,i;const r=n._freezeSettings(),o=(c=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Lde(n._databaseId,c,n._persistenceKey,(d=r).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,a6(d.experimentalLongPollingOptions),d.useFetchStreams));var c,d;n._componentsProvider||!(null===(e=r.localCache)||void 0===e)&&e._offlineComponentProvider&&!(null===(i=r.localCache)||void 0===i)&&i._onlineComponentProvider&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new Jhe(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}function JR(){return(JR=(0,G.A)(function*(n){cs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();v6(n,Sm.provider,{build:e=>new Z5(e,t.cacheSizeBytes)})})).apply(this,arguments)}function v6(n,t,e){if((n=Jt(n,Qn))._firestoreClient||n._terminated)throw new Ee(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new Ee(le.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:t,_offline:e},b6(n)}class za{constructor(t){this._byteString=t}static fromBase64String(t){try{return new za(Ui.fromBase64String(t))}catch(e){throw new Ee(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new za(Ui.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Sc{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ee(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Du{constructor(t){this._methodName=t}}class oE{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ee(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ee(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return At(this._lat,t._lat)||At(this._long,t._long)}}class sE{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}}const Efe=/^__.*__$/;class Ife{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Cc(t,this.data,this.fieldMask,e,this.fieldTransforms):new dm(t,this.data,e,this.fieldTransforms)}}class y6{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Cc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function w6(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e()}}class aE{constructor(t,e,i,r,o,s){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new aE(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fu({path:i,xu:!1});return r.Ou(t),r}Nu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return dE(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if(w6(this.Cu)&&Efe.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class Tfe{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||ab(t)}Qu(t,e,i,r=!1){return new aE({Cu:t,methodName:e,qu:i,path:mi.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ru(n){const t=n._freezeSettings(),e=ab(n._databaseId);return new Tfe(n._databaseId,!!t.ignoreUndefinedProperties,e)}function cE(n,t,e,i,r,o={}){const s=n.Qu(o.merge||o.mergeFields?2:0,t,e,r);oM("Data must be an object, but it was:",s,i);const a=I6(i,s);let c,l;if(o.merge)c=new Bo(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const u of o.mergeFields){const p=fb(t,u,e);if(!s.contains(p))throw new Ee(le.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);C6(d,p)||d.push(p)}c=new Bo(d),l=s.fieldTransforms.filter(u=>c.covers(u.field))}else c=null,l=s.fieldTransforms;return new Ife(new Br(a),c,l)}class hb extends Du{_toFieldTransform(t){if(2!==t.Cu)throw t.Bu(1===t.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof hb}}function x6(n,t,e){return new aE({Cu:3,qu:t.settings.qu,methodName:n._methodName,xu:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ZR extends Du{_toFieldTransform(t){return new $_(t.path,new cm)}isEqual(t){return t instanceof ZR}}class eM extends Du{constructor(t,e){super(t),this.Ku=e}_toFieldTransform(t){const e=x6(this,t,!0),i=this.Ku.map(o=>Mu(o,e)),r=new wu(i);return new $_(t.path,r)}isEqual(t){return t instanceof eM&&(0,yn.bD)(this.Ku,t.Ku)}}class tM extends Du{constructor(t,e){super(t),this.Ku=e}_toFieldTransform(t){const e=x6(this,t,!0),i=this.Ku.map(o=>Mu(o,e)),r=new xu(i);return new $_(t.path,r)}isEqual(t){return t instanceof tM&&(0,yn.bD)(this.Ku,t.Ku)}}class nM extends Du{constructor(t,e){super(t),this.$u=e}_toFieldTransform(t){const e=new lm(t.serializer,a3(t.serializer,this.$u));return new $_(t.path,e)}isEqual(t){return t instanceof nM&&this.$u===t.$u}}function iM(n,t,e,i){const r=n.Qu(1,t,e);oM("Data must be an object, but it was:",r,i);const o=[],s=Br.empty();Nl(i,(c,l)=>{const d=lE(t,c,e);l=(0,yn.Ku)(l);const u=r.Nu(d);if(l instanceof hb)o.push(d);else{const p=Mu(l,u);null!=p&&(o.push(d),s.set(d,p))}});const a=new Bo(o);return new y6(s,a,r.fieldTransforms)}function rM(n,t,e,i,r,o){const s=n.Qu(1,t,e),a=[fb(t,i,e)],c=[r];if(o.length%2!=0)throw new Ee(le.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(fb(t,o[p])),c.push(o[p+1]);const l=[],d=Br.empty();for(let p=a.length-1;p>=0;--p)if(!C6(l,a[p])){const b=a[p];let v=c[p];v=(0,yn.Ku)(v);const w=s.Nu(b);if(v instanceof hb)l.push(b);else{const x=Mu(v,w);null!=x&&(l.push(b),d.set(b,x))}}const u=new Bo(l);return new y6(d,u,s.fieldTransforms)}function E6(n,t,e,i=!1){return Mu(e,n.Qu(i?4:3,t))}function Mu(n,t){if(T6(n=(0,yn.Ku)(n)))return oM("Unsupported field value:",t,n),I6(n,t);if(n instanceof Du)return function(i,r){if(!w6(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let c=Mu(a,r.Lu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if(null===(i=(0,yn.Ku)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return a3(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=Ti.fromDate(i);return{timestampValue:hm(r.serializer,o)}}if(i instanceof Ti){const o=new Ti(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:hm(r.serializer,o)}}if(i instanceof oE)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof za)return{bytesValue:S3(r.serializer,i._byteString)};if(i instanceof gi){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:mD(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof sE)return a=r,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(c=>{if("number"!=typeof c)throw a.Bu("VectorValues must only contain numeric values.");return aD(a.serializer,c)})}}}}};var a;throw r.Bu(`Unsupported field value: ${rE(i)}`)}(n,t)}function I6(n,t){const e={};return CH(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Nl(n,(i,r)=>{const o=Mu(r,t.Mu(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function T6(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ti||n instanceof oE||n instanceof za||n instanceof gi||n instanceof Du||n instanceof sE)}function oM(n,t,e){if(!T6(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=rE(e);throw t.Bu("an object"===i?n+" a custom object":n+" "+i)}var r}function fb(n,t,e){if((t=(0,yn.Ku)(t))instanceof Sc)return t._internalPath;if("string"==typeof t)return lE(n,t);throw dE("Field path arguments must be of type string or ",n,!1,void 0,e)}const Cfe=new RegExp("[~\\*/\\[\\]]");function lE(n,t,e){if(t.search(Cfe)>=0)throw dE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Sc(...t.split("."))._internalPath}catch{throw dE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function dE(n,t,e,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new Ee(le.INVALID_ARGUMENT,a+n+c)}function C6(n,t){return n.some(e=>e.isEqual(t))}class mb{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new gi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Afe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(uE("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Afe extends mb{data(){return super.data()}}function uE(n,t){return"string"==typeof t?lE(n,t):t instanceof Sc?t._internalPath:t._delegate._internalPath}function A6(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ee(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sM{}class pb extends sM{}function $l(n,t,...e){let i=[];t instanceof sM&&i.push(t),i=i.concat(e),function(o){const s=o.filter(c=>c instanceof Mm).length,a=o.filter(c=>c instanceof gb).length;if(s>1||s>0&&a>0)throw new Ee(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class gb extends pb{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new gb(t,e,i)}_apply(t){const e=this._parse(t);return R6(t._query,e),new Ur(t.firestore,t.converter,oD(t._query,e))}_parse(t){const e=Ru(t.firestore);return function(o,s,a,c,l,d,u){let p;if(l.isKeyField()){if("array-contains"===d||"array-contains-any"===d)throw new Ee(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if("in"===d||"not-in"===d){D6(u,d);const b=[];for(const v of u)b.push(S6(c,o,v));p={arrayValue:{values:b}}}else p=S6(c,o,u)}else"in"!==d&&"not-in"!==d&&"array-contains-any"!==d||D6(u,d),p=E6(a,"where",u,"in"===d||"not-in"===d);return an.create(l,d,p)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Mm extends sM{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Mm(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Rn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const c of a)R6(s,c),s=oD(s,c)}(t._query,e),new Ur(t.firestore,t.converter,oD(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class aM extends pb{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new aM(t,e)}_apply(t){const e=function(r,o,s){if(null!==r.startAt)throw new Ee(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ee(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new j_(o,s)}(t._query,this._field,this._direction);return new Ur(t.firestore,t.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new Ic(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class hE extends pb{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new hE(t,e,i)}_apply(t){return new Ur(t.firestore,t.converter,Rx(t._query,this._limit,this._limitType))}}class fE extends pb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new fE(t,e,i)}_apply(t){const e=k6(t,this.type,this._docOrFields,this._inclusive);return new Ur(t.firestore,t.converter,(o=e,new Ic((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class mE extends pb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new mE(t,e,i)}_apply(t){const e=k6(t,this.type,this._docOrFields,this._inclusive);return new Ur(t.firestore,t.converter,(o=e,new Ic((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function k6(n,t,e,i){if(e[0]=(0,yn.Ku)(e[0]),e[0]instanceof mb)return function(o,s,a,c,l){if(!c)throw new Ee(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const u of sm(o))if(u.field.isKeyField())d.push(vu(s,c.key));else{const p=c.data.field(u.field);if(Ex(p))throw new Ee(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===p){const b=u.field.canonicalString();throw new Ee(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}d.push(p)}return new Ul(d,l)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Ru(n.firestore);return function(s,a,c,l,d,u){const p=s.explicitOrderBy;if(d.length>p.length)throw new Ee(le.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let v=0;v<d.length;v++){const w=d[v];if(p[v].field.isKeyField()){if("string"!=typeof w)throw new Ee(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof w}`);if(!rD(s)&&-1!==w.indexOf("/"))throw new Ee(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${w}' contains a slash.`);const x=s.path.child(sn.fromString(w));if(!ze.isDocumentKey(x))throw new Ee(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const P=new ze(x);b.push(vu(a,P))}else{const x=E6(c,l,w);b.push(x)}}return new Ul(b,u)}(n._query,n.firestore._databaseId,r,t,e,i)}}function S6(n,t,e){if("string"==typeof(e=(0,yn.Ku)(e))){if(""===e)throw new Ee(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rD(t)&&-1!==e.indexOf("/"))throw new Ee(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(sn.fromString(e));if(!ze.isDocumentKey(i))throw new Ee(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return vu(n,new ze(i))}if(e instanceof gi)return vu(n,e._key);throw new Ee(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rE(e)}.`)}function D6(n,t){if(!Array.isArray(n)||0===n.length)throw new Ee(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function R6(n,t){const e=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Ee(le.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class cM{convertValue(t,e="none"){switch(Vl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ci(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ec(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw $e()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Nl(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,r;const o=null===(r=null===(i=null===(e=t.fields)||void 0===e?void 0:e.value.arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.map(s=>Ci(s.doubleValue));return new sE(o)}convertGeoPoint(t){return new oE(Ci(t.latitude),Ci(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Ix(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(L_(t));default:return null}}convertTimestamp(t){const e=xc(t);return new Ti(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=sn.fromString(t);Je(j3(i));const r=new Fl(i.get(1),i.get(3)),o=new ze(i.popFirst(5));return r.isEqual(e)||Yi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function pE(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class Ffe extends cM{constructor(t){super(),this.firestore=t}convertBytes(t){return new za(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new gi(this.firestore,null,e)}}class Pu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Dc extends mb{constructor(t,e,i,r,o,s){super(t,e,i,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new _b(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(uE("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class _b extends Dc{data(t={}){return super.data(t)}}class Kl{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Pu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new _b(this._firestore,this._userDataWriter,i.key,i,new Pu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ee(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new _b(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Pu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new _b(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Pu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,d=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:Vfe(a.type),doc:c,oldIndex:l,newIndex:d}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Vfe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e()}}function P6(n,t){return n instanceof Dc&&t instanceof Dc?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Kl&&t instanceof Kl&&n._firestore===t._firestore&&YR(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function O6(n){n=Jt(n,gi);const t=Jt(n.firestore,Qn);return o6(ki(t),n._key).then(e=>dM(t,n,e))}class Ql extends cM{constructor(t){super(),this.firestore=t}convertBytes(t){return new za(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new gi(this.firestore,null,e)}}function lM(n,t,e){n=Jt(n,gi);const i=Jt(n.firestore,Qn),r=pE(n.converter,t,e);return Pm(i,[cE(Ru(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Ai.none())])}function N6(n,t,e,...i){n=Jt(n,gi);const r=Jt(n.firestore,Qn),o=Ru(r);let s;return s="string"==typeof(t=(0,yn.Ku)(t))||t instanceof Sc?rM(o,"updateDoc",n._key,t,e,i):iM(o,"updateDoc",n._key,t),Pm(r,[s.toMutation(n._key,Ai.exists(!0))])}function F6(n,...t){var e,i,r;n=(0,yn.Ku)(n);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof t[s]||XR(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(XR(t[s])){const u=t[s];t[s]=null===(e=u.next)||void 0===e?void 0:e.bind(u),t[s+1]=null===(i=u.error)||void 0===i?void 0:i.bind(u),t[s+2]=null===(r=u.complete)||void 0===r?void 0:r.bind(u)}let c,l,d;if(n instanceof gi)l=Jt(n.firestore,Qn),d=om(n._key.path),c={next:u=>{t[s]&&t[s](dM(l,n,u))},error:t[s+1],complete:t[s+2]};else{const u=Jt(n,Ur);l=Jt(u.firestore,Qn),d=u._query;const p=new Ql(l);c={next:b=>{t[s]&&t[s](new Kl(l,p,u,b))},error:t[s+1],complete:t[s+2]},A6(n._query)}return function(p,b,v,w){const x=new nE(w),P=new hR(b,x,v);return p.asyncQueue.enqueueAndForget((0,G.A)(function*(){return sR(yield Rm(p),P)})),()=>{x.Za(),p.asyncQueue.enqueueAndForget((0,G.A)(function*(){return cR(yield Rm(p),P)}))}}(ki(l),d,a,c)}function Pm(n,t){return function(i,r){const o=new Sr;return i.asyncQueue.enqueueAndForget((0,G.A)(function*(){return function Mhe(n,t,e){return yR.apply(this,arguments)}(yield $R(i),r,o)})),o.promise}(ki(n),t)}function dM(n,t,e){const i=e.docs.get(t._key),r=new Ql(n);return new Dc(n,r,t._key,i,new Pu(e.hasPendingWrites,e.fromCache),t.converter)}const tme={maxAttempts:5};class L6{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ru(t)}set(t,e,i){this._verifyNotCommitted();const r=Yl(t,this._firestore),o=pE(r.converter,e,i),s=cE(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,Ai.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Yl(t,this._firestore);let s;return s="string"==typeof(e=(0,yn.Ku)(e))||e instanceof Sc?rM(this._dataReader,"WriteBatch.update",o._key,e,i,r):iM(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Ai.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Yl(t,this._firestore);return this._mutations=this._mutations.concat(new um(e._key,Ai.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ee(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yl(n,t){if((n=(0,yn.Ku)(n)).firestore!==t)throw new Ee(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class nme extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=Ru(e)}get(e){const i=Yl(e,this._firestore),r=new Ffe(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return $e();const s=o[0];if(s.isFoundDocument())return new mb(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new mb(this._firestore,r,i._key,null,i.converter);throw $e()})}set(e,i,r){const o=Yl(e,this._firestore),s=pE(o.converter,i,r),a=cE(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(e,i,r,...o){const s=Yl(e,this._firestore);let a;return a="string"==typeof(i=(0,yn.Ku)(i))||i instanceof Sc?rM(this._dataReader,"Transaction.update",s._key,i,r,o):iM(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(e){const i=Yl(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Yl(t,this._firestore),i=new Ql(this._firestore);return super.get(t).then(r=>new Dc(this._firestore,i,e._key,r._document,new Pu(!1,!1),e.converter))}}function hM(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ee("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function j6(){if(typeof Uint8Array>"u")throw new Ee("unimplemented","Uint8Arrays are not available in this environment.")}function z6(){if(!function Nde(){return typeof atob<"u"}())throw new Ee("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){Xf=to.SDK_VERSION,(0,to._registerComponent)(new X4.uA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new Qn(new rde(i.getProvider("auth-internal")),new ade(i.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Ee(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(l.options.projectId,d)}(s,r),s);return o=Object.assign({useFetchStreams:e},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,to.registerVersion)(sH,"4.7.3",t),(0,to.registerVersion)(sH,"4.7.3","esm2017")}();class bb{constructor(t){this._delegate=t}static fromBase64String(t){return z6(),new bb(za.fromBase64String(t))}static fromUint8Array(t){return j6(),new bb(za.fromUint8Array(t))}toBase64(){return z6(),this._delegate.toBase64()}toUint8Array(){return j6(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function fM(n){return function hme(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class fme{enableIndexedDbPersistence(t,e){return function mfe(n,t){cs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();return v6(n,Sm.provider,{build:i=>new UR(i,e.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function pfe(n){return JR.apply(this,arguments)}(t._delegate)}clearIndexedDbPersistence(t){return function gfe(n){if(n._initialized&&!n._terminated)throw new Ee(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Sr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,G.A)(function*(){try{yield(e=(0,G.A)(function*(r){if(!Fa.D())return Promise.resolve();const o=r+"main";yield Fa.delete(o)}),function i(r){return e.apply(this,arguments)})(SD(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class H6{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Fl||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&cs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){m6(this._delegate,t,e,i)}enableNetwork(){return function bfe(n){return function Zhe(n){return n.asyncQueue.enqueue((0,G.A)(function*(){const t=yield n6(n),e=yield i6(n);return t.setNetworkEnabled(!0),function(r){const o=Ve(r);return o.L_.delete(0),cb(o)}(e)}))}(ki(n=Jt(n,Qn)))}(this._delegate)}disableNetwork(){return function vfe(n){return function efe(n){return n.asyncQueue.enqueue((0,G.A)(function*(){const t=yield n6(n),e=yield i6(n);return t.setNetworkEnabled(!1),(i=(0,G.A)(function*(o){const s=Ve(o);s.L_.add(0),yield ym(s),s.q_.set("Offline")}),function r(o){return i.apply(this,arguments)})(e);var i}))}(ki(n=Jt(n,Qn)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,l6("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function _fe(n){return function(e){const i=new Sr;return e.asyncQueue.enqueueAndForget((0,G.A)(function*(){return function Fhe(n,t){return TR.apply(this,arguments)}(yield $R(e),i)})),i.promise}(ki(n=Jt(n,Qn)))}(this._delegate)}onSnapshotsInSync(t){return function Gfe(n,t){return function rfe(n,t){const e=new nE(t);return n.asyncQueue.enqueueAndForget((0,G.A)(function*(){return r=yield Rm(n),o=e,Ve(r).Y_.add(o),void o.next();var r,o})),()=>{e.Za(),n.asyncQueue.enqueueAndForget((0,G.A)(function*(){return r=yield Rm(n),o=e,void Ve(r).Y_.delete(o);var r,o}))}}(ki(n=Jt(n,Qn)),XR(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ee("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Om(this,p6(this._delegate,t))}catch(e){throw Io(e,"collection()","Firestore.collection()")}}doc(t){try{return new Ps(this,db(this._delegate,t))}catch(e){throw Io(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new To(this,function dfe(n,t){if(n=Jt(n,lb),QR("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ee(le.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ur(n,null,(i=t,new Ic(sn.emptyPath(),i)));var i}(this._delegate,t))}catch(e){throw Io(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function ime(n,t,e){n=Jt(n,Qn);const i=Object.assign(Object.assign({},tme),e);return function(o){if(o.maxAttempts<1)throw new Ee(le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const c=new Sr;return o.asyncQueue.enqueueAndForget((0,G.A)(function*(){const l=yield function r6(n){return iE(n).then(t=>t.datastore)}(o);new Xhe(o.asyncQueue,l,a,s,c).au()})),c.promise}(ki(n),r=>t(new nme(n,r)),i)}(this._delegate,e=>t(new W6(this,e)))}batch(){return ki(this._delegate),new q6(new L6(this._delegate,t=>Pm(this._delegate,t)))}loadBundle(t){return function yfe(n,t){const e=ki(n=Jt(n,Qn)),i=new ufe;return function ofe(n,t,e,i){const r=function(s,a){let c;return c="string"==typeof s?w3().encode(s):s,d=function(d,u){if(d instanceof Uint8Array)return e6(d,u);if(d instanceof ArrayBuffer)return e6(new Uint8Array(d),u);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new Qhe(d,a);var d}(e,ab(t));n.asyncQueue.enqueueAndForget((0,G.A)(function*(){!function $he(n,t,e){const i=Ve(n);var r;(r=(0,G.A)(function*(s,a,c){try{const l=yield a.getMetadata();if(yield function(v,w){const x=Ve(v),P=Xi(w.createTime);return x.persistence.runTransaction("hasNewerBundle","readonly",S=>x.Gr.getBundleMetadata(S,w.id)).then(S=>!!S&&S.createTime.compareTo(P)>=0)}(s.localStore,l))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(v=l).totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}),Promise.resolve(new Set);c._updateProgress(H5(l));const d=new Ihe(l,s.localStore,a.serializer);let u=yield a.Ua();for(;u;){const b=yield d.la(u);b&&c._updateProgress(b),u=yield a.Ua()}const p=yield d.complete();return yield kc(s,p.Ia,void 0),yield function(v,w){const x=Ve(v);return x.persistence.runTransaction("Save bundle","readwrite",P=>x.Gr.saveBundleMetadata(P,w))}(s.localStore,l),c._completeWith(p.progress),Promise.resolve(p.Pa)}catch(l){return cs("SyncEngine",`Loading bundle failed with ${l}`),c._failWith(l),Promise.resolve(new Set)}var v}),function o(s,a,c){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield $R(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function wfe(n,t){return function sfe(n,t){return n.asyncQueue.enqueue((0,G.A)(function*(){return function(i,r){const o=Ve(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Gr.getNamedQuery(s,r))}(yield Dm(n),t)}))}(ki(n=Jt(n,Qn)),t).then(e=>e?new Ur(n,null,e.query):null)}(this._delegate,t).then(e=>e?new To(this,e):null)}}class _E extends cM{constructor(t){super(),this.firestore=t}convertBytes(t){return new bb(new za(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Ps.forKey(e,this.firestore,null)}}class W6{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new _E(t)}get(t){const e=Nu(t);return this._delegate.get(e).then(i=>new vb(this._firestore,new Dc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Nu(t);return i?(hM("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Nu(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Nu(t);return this._delegate.delete(e),this}}class q6{constructor(t){this._delegate=t}set(t,e,i){const r=Nu(t);return i?(hM("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Nu(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Nu(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Ou{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new _b(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new yb(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Ou.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Ou(t,new _E(t),e),r.set(e,o)),o}}Ou.INSTANCES=new WeakMap;class Ps{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new _E(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ee("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ps(e,new gi(e._delegate,i,new ze(t)))}static forKey(t,e,i){return new Ps(e,new gi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Om(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Om(this.firestore,p6(this._delegate,t))}catch(e){throw Io(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,yn.Ku)(t))instanceof gi&&g6(this._delegate,t)}set(t,e){e=hM("DocumentReference.set",e);try{return e?lM(this._delegate,t,e):lM(this._delegate,t)}catch(i){throw Io(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?N6(this._delegate,t):N6(this._delegate,t,e,...i)}catch(r){throw Io(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Wfe(n){return Pm(Jt(n.firestore,Qn),[new um(n._key,Ai.none())])}(this._delegate)}onSnapshot(...t){const e=G6(t),i=$6(t,r=>new vb(this.firestore,new Dc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return F6(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function Bfe(n){n=Jt(n,gi);const t=Jt(n.firestore,Qn),e=ki(t),i=new Ql(t);return function tfe(n,t){const e=new Sr;return n.asyncQueue.enqueueAndForget((0,G.A)(function*(){return(i=(0,G.A)(function*(o,s,a){try{const c=yield function(d,u){const p=Ve(d);return p.persistence.runTransaction("read document","readonly",b=>p.localDocuments.getDocument(b,u))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new Ee(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const l=Im(c,`Failed to get document '${s} from cache`);a.reject(l)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Dm(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Dc(t,i,n._key,r,new Pu(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function Ufe(n){n=Jt(n,gi);const t=Jt(n.firestore,Qn);return o6(ki(t),n._key,{source:"server"}).then(e=>dM(t,n,e))}(this._delegate):O6(this._delegate),e.then(i=>new vb(this.firestore,new Dc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Ps(this.firestore,this._delegate.withConverter(t?Ou.getInstance(this.firestore,t):null))}}function Io(n,t,e){return n.message=n.message.replace(t,e),n}function G6(n){for(const t of n)if("object"==typeof t&&!fM(t))return t;return{}}function $6(n,t){var e,i;let r;return r=fM(n[0])?n[0]:fM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class vb{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Ps(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return P6(this._delegate,t._delegate)}}class yb extends vb{data(t){const e=this._delegate.data(t);return this._delegate._converter||function tde(n,t){n||$e()}(void 0!==e),e}}class To{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new _E(t)}where(t,e,i){try{return new To(this.firestore,$l(this._delegate,function kfe(n,t,e){const i=t,r=uE("where",n);return gb._create(r,i,e)}(t,e,i)))}catch(r){throw Io(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new To(this.firestore,$l(this._delegate,function Sfe(n,t="asc"){const e=t,i=uE("orderBy",n);return aM._create(i,e)}(t,e)))}catch(i){throw Io(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new To(this.firestore,$l(this._delegate,function Dfe(n){return h6("limit",n),hE._create("limit",n,"F")}(t)))}catch(e){throw Io(e,"limit()","Query.limit()")}}limitToLast(t){try{return new To(this.firestore,$l(this._delegate,function Rfe(n){return h6("limitToLast",n),hE._create("limitToLast",n,"L")}(t)))}catch(e){throw Io(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new To(this.firestore,$l(this._delegate,function Mfe(...n){return fE._create("startAt",n,!0)}(...t)))}catch(e){throw Io(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new To(this.firestore,$l(this._delegate,function Pfe(...n){return fE._create("startAfter",n,!1)}(...t)))}catch(e){throw Io(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new To(this.firestore,$l(this._delegate,function Ofe(...n){return mE._create("endBefore",n,!1)}(...t)))}catch(e){throw Io(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new To(this.firestore,$l(this._delegate,function Nfe(...n){return mE._create("endAt",n,!0)}(...t)))}catch(e){throw Io(e,"endAt()","Query.endAt()")}}isEqual(t){return YR(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function zfe(n){n=Jt(n,Ur);const t=Jt(n.firestore,Qn),e=ki(t),i=new Ql(t);return function nfe(n,t){const e=new Sr;return n.asyncQueue.enqueueAndForget((0,G.A)(function*(){return(i=(0,G.A)(function*(o,s,a){try{const c=yield Kx(o,s,!0),l=new G5(s,c.Ts),d=l.ma(c.documents),u=l.applyChanges(d,!1);a.resolve(u.snapshot)}catch(c){const l=Im(c,`Failed to execute query '${s} against cache`);a.reject(l)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Dm(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Kl(t,i,n,r))}(this._delegate):"server"===t?.source?function Hfe(n){n=Jt(n,Ur);const t=Jt(n.firestore,Qn),e=ki(t),i=new Ql(t);return s6(e,n._query,{source:"server"}).then(r=>new Kl(t,i,n,r))}(this._delegate):function jfe(n){n=Jt(n,Ur);const t=Jt(n.firestore,Qn),e=ki(t),i=new Ql(t);return A6(n._query),s6(e,n._query).then(r=>new Kl(t,i,n,r))}(this._delegate),e.then(i=>new mM(this.firestore,new Kl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=G6(t),i=$6(t,r=>new mM(this.firestore,new Kl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return F6(this._delegate,e,i)}withConverter(t){return new To(this.firestore,this._delegate.withConverter(t?Ou.getInstance(this.firestore,t):null))}}class pme{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new yb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class mM{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new To(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new yb(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new pme(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new yb(this._firestore,i))})}isEqual(t){return P6(this._delegate,t._delegate)}}class Om extends To{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ps(this.firestore,t):null}doc(t){try{return new Ps(this.firestore,void 0===t?db(this._delegate):db(this._delegate,t))}catch(e){throw Io(e,"doc()","CollectionReference.doc()")}}add(t){return function qfe(n,t){const e=Jt(n.firestore,Qn),i=db(n),r=pE(n.converter,t);return Pm(e,[cE(Ru(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ai.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Ps(this.firestore,e))}isEqual(t){return g6(this._delegate,t._delegate)}withConverter(t){return new Om(this.firestore,this._delegate.withConverter(t?Ou.getInstance(this.firestore,t):null))}}function Nu(n){return Jt(n,gi)}class pM{constructor(...t){this._delegate=new Sc(...t)}static documentId(){return new pM(mi.keyField().canonicalString())}isEqual(t){return(t=(0,yn.Ku)(t))instanceof Sc&&this._delegate._internalPath.isEqual(t._internalPath)}}class Fu{constructor(t){this._delegate=t}static serverTimestamp(){const t=function ome(){return new ZR("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Fu(t)}static delete(){const t=function rme(){return new hb("deleteField")}();return t._methodName="FieldValue.delete",new Fu(t)}static arrayUnion(...t){const e=function sme(...n){return new eM("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Fu(e)}static arrayRemove(...t){const e=function ame(...n){return new tM("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Fu(e)}static increment(t){const e=function cme(n){return new nM("increment",n)}(t);return e._methodName="FieldValue.increment",new Fu(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const gme={Firestore:H6,GeoPoint:oE,Timestamp:Ti,Blob:bb,Transaction:W6,WriteBatch:q6,DocumentReference:Ps,DocumentSnapshot:vb,Query:To,QueryDocumentSnapshot:yb,QuerySnapshot:mM,CollectionReference:Om,FieldPath:pM,FieldValue:Fu,setLogLevel:function mme(n){!function ede(n){Ml.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function K6(n,t){return function vme(n,t=Kf){return new at(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function gM(n,t){return K6(n,t).pipe(me(e=>({payload:e,type:"query"})))}!function bme(n){(function _me(n,t){n.INTERNAL.registerComponent(new X4.uA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},gme)))})(n,(t,e)=>new H6(t,e,new fme)),n.registerVersion("@firebase/firestore-compat","0.3.38")}(Rl.A);class Q6{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=tW(i,e);return new J6(r,o,this.afs)}snapshotChanges(){return function yme(n,t){return K6(n,t).pipe(oa(void 0),HS(),me(e=>{const[i,r]=e;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(as)}valueChanges(t={}){return this.snapshotChanges().pipe(me(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return C(this.ref.get(t)).pipe(as)}}function bE(n,t){return gM(n,t).pipe(oa(void 0),HS(),me(e=>{const[i,r]=e,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{const l=o.find(u=>u.doc.ref.isEqual(a.ref)),d=i?.payload.docs.find(u=>u.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function Y6(n,t,e){return bE(n,e).pipe(Kw((i,r)=>function wme(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function xme(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return _M(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return _M(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return _M(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),Ze(),me(i=>i.map(r=>({type:r.type,payload:r}))))}function _M(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function X6(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class J6{ref;query;afs;constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=bE(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(me(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(oa(void 0),HS(),Zt(([i,r])=>r.length>0||!i),me(([,i])=>i),as)}auditTrail(t){return this.stateChanges(t).pipe(Kw((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=X6(t);return Y6(this.query,e,this.afs.schedulers.outsideAngular).pipe(as)}valueChanges(t={}){return gM(this.query,this.afs.schedulers.outsideAngular).pipe(me(e=>e.payload.docs.map(i=>t.idField?{...i.data(),[t.idField]:i.id}:i.data())),as)}get(t){return C(this.query.get(t)).pipe(as)}add(t){return this.ref.add(t)}doc(t){return new Q6(this.ref.doc(t),this.afs)}}class Eme{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?bE(this.query,this.afs.schedulers.outsideAngular).pipe(me(e=>e.filter(i=>t.indexOf(i.type)>-1)),Zt(e=>e.length>0),as):bE(this.query,this.afs.schedulers.outsideAngular).pipe(as)}auditTrail(t){return this.stateChanges(t).pipe(Kw((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=X6(t);return Y6(this.query,e,this.afs.schedulers.outsideAngular).pipe(as)}valueChanges(t={}){return gM(this.query,this.afs.schedulers.outsideAngular).pipe(me(i=>i.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),as)}get(t){return C(this.query.get(t)).pipe(as)}}const Z6=new de("angularfire2.enableFirestorePersistence"),eW=new de("angularfire2.firestore.persistenceSettings"),Ime=new de("angularfire2.firestore.settings"),Tme=new de("angularfire2.firestore.use-emulator");function tW(n,t=(e=>e)){return{query:t(n),ref:n}}let bM=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(e,i,r,o,s,a,c,l,d,u,p,b,v,w,x,P,S){this.schedulers=c;const B=jS(e,a,i),$=d;u&&Q4(B,a,p,v,w,x,b,P),[this.firestore,this.persistenceEnabled$]=U4(`${B.name}.firestore`,"AngularFirestore",B.name,()=>{const J=a.runOutsideAngular(()=>B.firestore());if(o&&J.settings(o),$&&J.useEmulator(...$),r&&!jw(s)){const te=()=>{try{return C(J.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(V){return typeof console<"u"&&console.warn(V),M(!1)}};return[J,a.runOutsideAngular(te)]}return[J,M(!1)]},[o,$,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:s}=tW(r,i),a=this.schedulers.ngZone.run(()=>o);return new J6(a,s,this)}collectionGroup(e,i){const r=i||(s=>s),o=this.firestore.collectionGroup(e);return new Eme(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new Q6(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(Y(gx),Y(_x,8),Y(Z6,8),Y(Ime,8),Y(Oo),Y(Ge),Y(R_),Y(eW,8),Y(Tme,8),Y(Y4,8),Y(H4,8),Y(W4,8),Y(q4,8),Y(G4,8),Y($4,8),Y(K4,8),Y(px,8))};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Cme=(()=>{class n{constructor(){Rl.A.registerVersion("angularfire",fu.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:Z6,useValue:!0},{provide:eW,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ct({type:n});static \u0275inj=ut({providers:[bM]})}return n})(),Ame=(()=>{class n{constructor(e){this.firestore=e,this.tables=[],this.menu=[],this.waiters=[],this.tablesSubject=new k(this.tables),this.tables$=this.tablesSubject.asObservable(),this.loadInitialData()}loadInitialData(){this.firestore.collection("tables").valueChanges().subscribe(e=>{this.tables=e,this.tablesSubject.next([...this.tables])}),this.firestore.collection("menu").valueChanges().subscribe(e=>{this.menu=e}),this.firestore.collection("waiters").valueChanges().subscribe(e=>{this.waiters=e})}updateFirestore(e,i,r){this.firestore.collection(e).doc(i.toString()).set(r,{merge:!0})}getTables(){return this.tables}getMenu(){return this.menu}getWaiters(){return this.waiters}addTable(e){const i=this.firestore.collection("tables").doc();i.set({id:i.ref.id,name:e,available:!0,orders:[],linkedTables:[]})}editTable(e,i,r){this.updateFirestore("tables",e,{name:i,available:r})}deleteTable(e){this.firestore.collection("tables").doc(e.toString()).delete()}releaseTable(e){const i=this.tables.find(r=>r.id===e);if(i){if(i.orders.length>0){const r=i.orders.reduce((s,a)=>s+a.price*(a.quantity||1),0),o={date:(new Date).getTime(),tableName:i.name,waiterName:i.waiterName||"Desconocido",revenue:r};this.firestore.collection("daily_statistics").add(o)}i.orders=[],i.waiterId=void 0,i.waiterName=void 0,i.available=!0,i.controlledBy=void 0,i.linkedTables=[],this.updateFirestore("tables",e,{orders:[],waiterId:null,waiterName:null,available:!0,controlledBy:null,linkedTables:[]}),this.tablesSubject.next([...this.tables])}}editMenuItem(e,i,r){this.updateFirestore("menu",e,{name:i,price:r})}deleteMenuItem(e){this.firestore.collection("menu").doc(e.toString()).delete()}addWaiter(e){const i={id:this.waiters.length>0?Math.max(...this.waiters.map(r=>r.id))+1:1,name:e};this.firestore.collection("waiters").doc(i.id.toString()).set(i)}editWaiter(e,i){this.updateFirestore("waiters",e,{name:i})}deleteWaiter(e){this.firestore.collection("waiters").doc(e.toString()).delete()}linkMultipleTables(e,i){const r=this.tables.find(o=>o.id===e);if(r){r.available=!1;const o=[];i.forEach(s=>{const a=this.tables.find(c=>c.id===s);a&&!r.linkedTables.includes(s)&&(r.linkedTables.push(s),a.linkedTables.push(e),a.controlledBy=e,a.available=!1,o.push(s))}),this.updateFirestore("tables",e,{linkedTables:r.linkedTables,available:!1}),o.forEach(s=>{this.updateFirestore("tables",s,{linkedTables:this.tables.find(a=>a.id===s)?.linkedTables,controlledBy:e,available:!1})}),this.tablesSubject.next([...this.tables])}}static{this.\u0275fac=function(i){return new(i||n)(Y(bM))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class vE{}class yE{}class Ha{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ha?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ha;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ha?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Sme{encodeKey(t){return nW(t)}encodeValue(t){return nW(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Rme=/%(\d[a-f0-9])/gi,Mme={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function nW(n){return encodeURIComponent(n).replace(Rme,(t,e)=>Mme[e]??t)}function wE(n){return`${n}`}class Xl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Sme,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Dme(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(wE):[wE(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Xl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(wE(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(wE(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Pme{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function iW(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function rW(n){return typeof Blob<"u"&&n instanceof Blob}function oW(n){return typeof FormData<"u"&&n instanceof FormData}class wb{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Ome(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ha),this.context||(this.context=new Pme),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Xl,this.urlWithParams=e}serializeBody(){return null===this.body?null:iW(this.body)||rW(this.body)||oW(this.body)||function Nme(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||oW(this.body)?null:rW(this.body)?this.body.type||null:iW(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,l=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((u,p)=>u.set(p,t.setHeaders[p]),c)),t.setParams&&(l=Object.keys(t.setParams).reduce((u,p)=>u.set(p,t.setParams[p]),l)),new wb(e,i,o,{params:l,headers:c,context:d,reportProgress:a,responseType:r,withCredentials:s})}}var Nm=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Nm||{});class vM{constructor(t,e=200,i="OK"){this.headers=t.headers||new Ha,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class yM extends vM{constructor(t={}){super(t),this.type=Nm.ResponseHeader}clone(t={}){return new yM({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Fm extends vM{constructor(t={}){super(t),this.type=Nm.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Fm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class sW extends vM{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function wM(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let xb=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof wb)o=e;else{let c,l;c=r.headers instanceof Ha?r.headers:new Ha(r.headers),r.params&&(l=r.params instanceof Xl?r.params:new Xl({fromObject:r.params})),o=new wb(e,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=M(o).pipe(Ff(c=>this.handler.handle(c)));if(e instanceof wb||"events"===r.observe)return s;const a=s.pipe(Zt(c=>c instanceof Fm));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(me(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(me(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(me(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(me(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Xl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,wM(r,i))}post(e,i,r={}){return this.request("POST",e,wM(r,i))}put(e,i,r={}){return this.request("PUT",e,wM(r,i))}static{this.\u0275fac=function(i){return new(i||n)(Y(vE))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();function lW(n,t){return t(n)}function Lme(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const Bme=new de(""),Eb=new de(""),dW=new de("");function Ume(){let n=null;return(t,e)=>{null===n&&(n=(De(Bme,{optional:!0})??[]).reduceRight(Lme,lW));const i=De(xw),r=i.add();return n(t,e).pipe(Lf(()=>i.remove(r)))}}let uW=(()=>{class n extends vE{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=De(xw)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Eb),...this.injector.get(dW,[])]));this.chain=r.reduceRight((o,s)=>function Vme(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(o,s,this.injector),lW)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Lf(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||n)(Y(yE),Y(ns))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();const Wme=/^\)\]\}',?\n/;let fW=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new he(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?C(i.\u0275loadImpl()):M(null)).pipe(ke(()=>new at(o=>{const s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((w,x)=>s.setRequestHeader(w,x.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const w=e.detectContentTypeHeader();null!==w&&s.setRequestHeader("Content-Type",w)}if(e.responseType){const w=e.responseType.toLowerCase();s.responseType="json"!==w?w:"text"}const a=e.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const w=s.statusText||"OK",x=new Ha(s.getAllResponseHeaders()),P=function qme(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return c=new yM({headers:x,status:s.status,statusText:w,url:P}),c},d=()=>{let{headers:w,status:x,statusText:P,url:S}=l(),B=null;204!==x&&(B=typeof s.response>"u"?s.responseText:s.response),0===x&&(x=B?200:0);let $=x>=200&&x<300;if("json"===e.responseType&&"string"==typeof B){const J=B;B=B.replace(Wme,"");try{B=""!==B?JSON.parse(B):null}catch(te){B=J,$&&($=!1,B={error:te,text:B})}}$?(o.next(new Fm({body:B,headers:w,status:x,statusText:P,url:S||void 0})),o.complete()):o.error(new sW({error:B,headers:w,status:x,statusText:P,url:S||void 0}))},u=w=>{const{url:x}=l(),P=new sW({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:x||void 0});o.error(P)};let p=!1;const b=w=>{p||(o.next(l()),p=!0);let x={type:Nm.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(x.total=w.total),"text"===e.responseType&&s.responseText&&(x.partialText=s.responseText),o.next(x)},v=w=>{let x={type:Nm.UploadProgress,loaded:w.loaded};w.lengthComputable&&(x.total=w.total),o.next(x)};return s.addEventListener("load",d),s.addEventListener("error",u),s.addEventListener("timeout",u),s.addEventListener("abort",u),e.reportProgress&&(s.addEventListener("progress",b),null!==a&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),o.next({type:Nm.Sent}),()=>{s.removeEventListener("error",u),s.removeEventListener("abort",u),s.removeEventListener("load",d),s.removeEventListener("timeout",u),e.reportProgress&&(s.removeEventListener("progress",b),null!==a&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(Y(az))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();const xM=new de("XSRF_ENABLED"),mW=new de("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),pW=new de("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class gW{}let Kme=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xj(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct),Y(Oo),Y(mW))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();function Qme(n,t){const e=n.url.toLowerCase();if(!De(xM)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=De(gW).getToken(),r=De(pW);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Jl=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Jl||{});function Lu(n,t){return{\u0275kind:n,\u0275providers:t}}function Yme(...n){const t=[xb,fW,uW,{provide:vE,useExisting:uW},{provide:yE,useExisting:fW},{provide:Eb,useValue:Qme,multi:!0},{provide:xM,useValue:!0},{provide:gW,useClass:Kme}];for(const e of n)t.push(...e.\u0275providers);return U0(t)}const _W=new de("LEGACY_INTERCEPTOR_FN");let Jme=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({providers:[Yme(Lu(Jl.LegacyInterceptors,[{provide:_W,useFactory:Ume},{provide:Eb,useExisting:_W,multi:!0}]))]})}}return n})(),aa=(()=>{class n{constructor(e){this.http=e,this.menuCache$=new k(null),this.apiUrl="https://coffe-manager-api-1.onrender.com/api"}handleError(e){let i="Ocurri\xf3 un error inesperado";return i=e.error instanceof ErrorEvent?`Error: ${e.error.message}`:`Error ${e.status}: ${e.message}`,console.error(i),Al(()=>new Error(i))}getTables(){return this.http.get(`${this.apiUrl}/tables`).pipe(me(e=>e.map(i=>({...i,id:i._id,available:0===i.orders.length,waiterId:i.waiterId,waiterName:i.waiter?i.waiter.name:"Sin asignar"}))),hn(this.handleError))}addTable(e){return this.http.post(`${this.apiUrl}/tables`,{name:e,available:!0,orders:[],linkedTables:[]}).pipe(hn(this.handleError))}editTable(e,i,r){return this.http.put(`${this.apiUrl}/tables/${e}`,{name:i,available:r}).pipe(hn(this.handleError))}deleteTable(e){return this.http.delete(`${this.apiUrl}/tables/${e}`).pipe(hn(this.handleError))}addItemsToTable(e,i){const r=i.map(o=>({id:o._id,quantity:o.quantity||1,name:o.name}));return this.http.put(`${this.apiUrl}/tables/${e}/add-items`,{items:r}).pipe(me(o=>(o.available=0===o.orders.length,o)),hn(this.handleError))}deleteOrdersFromTable(e,i){return this.http.put(`${this.apiUrl}/tables/${e}/remove-order`,{orderIds:i}).pipe(me(r=>{const o=r.table;return o.available=0===o.orders?.length,o}),hn(this.handleError))}getTableById(e){return this.http.get(`${this.apiUrl}/tables/${e}`).pipe(me(i=>({...i,id:i._id})),hn(this.handleError))}releaseTable(e){return this.http.put(`${this.apiUrl}/tables/${e}/release`,{}).pipe(hn(this.handleError))}resetTable(e){return this.http.put(`${this.apiUrl}/tables/${e}/reset`,{}).pipe(me(i=>({...i,waiterId:null,waiterName:"No asignado",linkedTables:[],orders:[],available:!0,controlledBy:null})),hn(this.handleError))}linkTables(e,i){return this.http.put(`${this.apiUrl}/tables/${e}/link-tables`,{linkedTableIds:i}).pipe(me(r=>{const o=this.tables.find(s=>s.id===e);return o&&(o.linkedTables=i,o.available=!1),i.forEach(s=>{const a=this.tables.find(c=>c.id===s);a&&(a.controlledBy=e,a.available=!1)}),r}),hn(this.handleError))}unlinkTables(e,i){return this.http.put(`${this.apiUrl}/tables/${e}/unlink-tables`,{linkedTableIds:i}).pipe(me(r=>({...r,linkedTables:r.linkedTables})),hn(this.handleError))}getBalance(){return this.http.get(`${this.apiUrl}/balances`).pipe(hn(this.handleError))}addBalanceEntry(e){return this.http.post(`${this.apiUrl}/balances`,e).pipe(hn(this.handleError))}deleteAllBalances(){return this.http.delete(`${this.apiUrl}/balances`).pipe(hn(this.handleError))}getMenu(){const e=this.menuCache$.getValue();return e?M(e):this.http.get(`${this.apiUrl}/menu`).pipe(Ii(i=>this.menuCache$.next(i)),hn(this.handleError))}refreshMenu(){return this.http.get(`${this.apiUrl}/menu`).pipe(Ii(e=>this.menuCache$.next(e)),hn(this.handleError))}addMenuItem(e,i){return this.http.post(`${this.apiUrl}/menu`,{name:e,price:i,quantity:1}).pipe(hn(this.handleError))}editMenuItem(e,i,r){return this.http.put(`${this.apiUrl}/menu/${e}`,{name:i,price:r}).pipe(hn(this.handleError))}deleteMenuItem(e){return this.http.delete(`${this.apiUrl}/menu/${e}`).pipe(hn(this.handleError))}getWaiters(){return this.http.get(`${this.apiUrl}/waiters`).pipe(hn(this.handleError))}addWaiter(e){return this.http.post(`${this.apiUrl}/waiters`,{name:e}).pipe(hn(this.handleError))}editWaiter(e,i){return this.http.put(`${this.apiUrl}/waiters/${e}`,{name:i}).pipe(hn(this.handleError))}deleteWaiter(e){return this.http.delete(`${this.apiUrl}/waiters/${e}`).pipe(hn(this.handleError))}getWaiterByName(e){return this.http.get(`${this.apiUrl}/waiter-by-name/${e}`).pipe(hn(this.handleError))}getWaiterById(e){return this.http.get(`${this.apiUrl}/waiters/${e}`).pipe(hn(this.handleError))}assignWaiterToTable(e,i){return this.http.put(`${this.apiUrl}/tables/${e}/assign-waiter`,{waiterId:i}).pipe(hn(this.handleError))}saveLog(e){const r={action:e,timestamp:(new Date).toISOString()},o=JSON.parse(localStorage.getItem("appLogs")||"[]");o.push(r),localStorage.setItem("appLogs",JSON.stringify(o)),console.log("[LOG GUARDADO]",r)}getLogs(){return JSON.parse(localStorage.getItem("appLogs")||"[]")}clearLogs(){localStorage.removeItem("appLogs")}static{this.\u0275fac=function(i){return new(i||n)(Y(xb))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),rpe=(()=>{class n{constructor(e){this.http=e,this.apiUrl="http://localhost:8000/api/imprimir"}imprimirTicket(e){return this.http.post(this.apiUrl,{printerName:"nictomPrinter",imprimirEn:"nictomPrinter",operaciones:e})}static{this.\u0275fac=function(i){return new(i||n)(Y(xb))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function cn(n){return null!=n&&"false"!=`${n}`}function Ib(n,t=0){return function bW(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function EE(n){return Array.isArray(n)?n:[n]}function ar(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Rc(n){return n instanceof ft?n.nativeElement:n}const ope=["addListener","removeListener"],spe=["addEventListener","removeEventListener"],ape=["on","off"];function Vu(n,t,e,i){if(F(e)&&(i=e,e=void 0),i)return Vu(n,t,e).pipe(pS(i));const[r,o]=function dpe(n){return F(n.addEventListener)&&F(n.removeEventListener)}(n)?spe.map(s=>a=>n[s](t,a,e)):function cpe(n){return F(n.addListener)&&F(n.removeListener)}(n)?ope.map(vW(n,t)):function lpe(n){return F(n.on)&&F(n.off)}(n)?ape.map(vW(n,t)):[];if(!r&&En(n))return Wn(s=>Vu(s,t,e))($t(n));if(!r)throw new TypeError("Invalid event target");return new at(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function vW(n,t){return e=>i=>n[e](t,i)}const Tb={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Tb;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new kt(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Tb;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Tb;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class hpe extends mx{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class upe extends fx{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Tb.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Tb.cancelAnimationFrame(e),t._scheduled=void 0)}});let EM,mpe=1;const IE={};function yW(n){return n in IE&&(delete IE[n],!0)}const ppe={setImmediate(n){const t=mpe++;return IE[t]=!0,EM||(EM=Promise.resolve()),EM.then(()=>yW(t)&&n()),t},clearImmediate(n){yW(n)}},{setImmediate:gpe,clearImmediate:_pe}=ppe,TE={setImmediate(...n){const{delegate:t}=TE;return(t?.setImmediate||gpe)(...n)},clearImmediate(n){const{delegate:t}=TE;return(t?.clearImmediate||_pe)(n)},delegate:void 0};new class vpe extends mx{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class bpe extends fx{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=TE.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(TE.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function wW(n=0,t,e=Nle){let i=-1;return null!=t&&(vn(t)?e=t:i=t),new at(r=>{let o=function xpe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function xW(n,t=Kf){return function wpe(n){return ee((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const l=r;r=null,e.next(l)}s&&e.complete()},c=()=>{o=null,s&&e.complete()};t.subscribe(pe(e,l=>{i=!0,r=l,o||$t(n(l)).subscribe(o=pe(e,a,c))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>wW(n,t))}let IM;try{IM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{IM=!1}let Lm,Oi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?tS(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!IM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(Y(Oo))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const EW=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function IW(){if(Lm)return Lm;if("object"!=typeof document||!document)return Lm=new Set(EW),Lm;let n=document.createElement("input");return Lm=new Set(EW.filter(t=>(n.setAttribute("type",t),n.type===t))),Lm}let Cb,CE,Bu,TM;function Ab(n){return function Epe(){if(null==Cb&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Cb=!0}))}finally{Cb=Cb||!1}return Cb}()?n:!!n.capture}function TW(){if(null==Bu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Bu=!1,Bu;if("scrollBehavior"in document.documentElement.style)Bu=!0;else{const n=Element.prototype.scrollTo;Bu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Bu}function kb(){if("object"!=typeof document||!document)return 0;if(null==CE){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),CE=0,0===n.scrollLeft&&(n.scrollLeft=1,CE=0===n.scrollLeft?1:2),n.remove()}return CE}function AE(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Zl(n){return n.composedPath?n.composedPath()[0]:n.target}function CM(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Cpe=new de("cdk-dir-doc",{providedIn:"root",factory:function Ape(){return De(Ct)}}),kpe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Uu=(()=>{class n{constructor(e){this.value="ltr",this.change=new jt,e&&(this.value=function Spe(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?kpe.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(Y(Cpe,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Sb=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({})}}return n})(),AM=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new K,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new at(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(xW(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):M()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Zt(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Rc(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Vu(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(Y(Ge),Y(Oi),Y(Ct,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kM=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new K,this._elementScrolled=new at(s=>this.ngZone.runOutsideAngular(()=>Vu(this.elementRef.nativeElement,"scroll").pipe(ri(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=kb()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==kb()?e.left=e.right:1==kb()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;TW()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?r:i:"end"==e&&(e=s?i:r),s&&2==kb()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==kb()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static{this.\u0275fac=function(i){return new(i||n)(O(ft),O(AM),O(Ge),O(Uu,8))}}static{this.\u0275dir=_e({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}}return n})(),kE=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new K,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(xW(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(Y(Oi),Y(Ge),Y(Ct,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Db=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({})}}return n})(),SM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[Sb,Db,Sb,Db]})}}return n})();class DM{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Rb extends DM{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class SE extends DM{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Mpe extends DM{constructor(t){super(),this.element=t instanceof ft?t.nativeElement:t}}class DE{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Rb?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof SE?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Mpe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ppe extends DE{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Fn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Vm=(()=>{class n extends DE{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new jt,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static{this.\u0275fac=function(i){return new(i||n)(O(hf),O(Ar),O(Ct))}}static{this.\u0275dir=_e({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[We]})}}return n})(),Bm=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({})}}return n})();const CW=TW();class Ope{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ar(-this._previousScrollPosition.left),t.style.top=ar(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),CW&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),CW&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Npe{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Zt(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class AW{enable(){}disable(){}attach(){}}function RM(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function kW(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Fpe{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();RM(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Lpe=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new AW,this.close=s=>new Npe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Ope(this._viewportRuler,this._document),this.reposition=s=>new Fpe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(i){return new(i||n)(Y(AM),Y(kE),Y(Ge),Y(Ct))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class MM{constructor(t){if(this.scrollStrategy=new AW,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Vpe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let SW=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Bpe=(()=>{class n extends SW{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct),Y(Ge,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Upe=(()=>{class n extends SW{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Zl(o)},this._clickListener=o=>{const s=Zl(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const d=c[l];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(s)||d.overlayElement.contains(a))break;const u=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(o)):u.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct),Y(Oi),Y(Ge,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),RE=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||CM()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),CM()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct),Y(Oi))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Mb{constructor(t,e,i,r,o,s,a,c,l,d=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new K,this._attachments=new K,this._detachments=new K,this._locationChanges=kt.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new K,this._outsidePointerEvents=new K,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ln(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ar(this._config.width),t.height=ar(this._config.height),t.minWidth=ar(this._config.minWidth),t.minHeight=ar(this._config.minHeight),t.maxWidth=ar(this._config.maxWidth),t.maxHeight=ar(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=EE(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(ri(E(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const DW="cdk-overlay-connected-position-bounding-box",jpe=/([A-Za-z%]+)$/;class zpe{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new K,this._resizeSubscription=kt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(DW),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(t,r,a),l=this._getOverlayPoint(c,e,a),d=this._getOverlayFit(l,e,i,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(d,l,i)?o.push({position:a,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:l,originPoint:c,position:a,overlayRect:e})}if(o.length){let a=null,c=-1;for(const l of o){const d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ju(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(DW),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=MW(e);let{x:s,y:a}=t,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let p=0-a,b=a+o.height-i.height,v=this._subtractOverflows(o.width,0-s,s+o.width-i.width),w=this._subtractOverflows(o.height,p,b),x=v*w;return{visibleArea:x,isCompletelyWithinViewport:o.width*o.height===x,fitsInViewportVertically:w===o.height,fitsInViewportHorizontally:v==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=RW(this._overlayRef.getConfig().minHeight),a=RW(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=MW(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),c=Math.max(o.top-i.top-t.y,0),l=Math.max(o.left-i.left-t.x,0);let d=0,u=0;return d=r.width<=o.width?l||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,u=r.height<=o.height?c||-a:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Vpe(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,d,u,p;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const b=Math.min(i.bottom-t.y+i.top,t.y),v=this._lastBoundingBoxSize.height;o=2*b,s=t.y-b,o>v&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-v/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)p=i.width-t.x+this._viewportMargin,d=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,d=i.right-t.x;else{const b=Math.min(i.right-t.x+i.left,t.x),v=this._lastBoundingBoxSize.width;d=2*b,u=t.x-b,d>v&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-v/2)}return{top:s,left:u,bottom:a,right:p,width:d,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=ar(i.height),r.top=ar(i.top),r.bottom=ar(i.bottom),r.width=ar(i.width),r.left=ar(i.left),r.right=ar(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=ar(o)),s&&(r.maxWidth=ar(s))}this._lastBoundingBoxSize=i,ju(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ju(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ju(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();ju(i,this._getExactOverlayY(e,t,d)),ju(i,this._getExactOverlayX(e,t,d))}else i.position="static";let a="",c=this._getOffset(e,"x"),l=this._getOffset(e,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=ar(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=ar(s.maxWidth):o&&(i.maxWidth="")),ju(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=ar(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=ar(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:kW(t,i),isOriginOutsideView:RM(t,i),isOverlayClipped:kW(e,i),isOverlayOutsideView:RM(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&EE(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ft)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function ju(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function RW(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(jpe);return e&&"px"!==e?null:parseFloat(t)}return n||null}function MW(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const PW="cdk-global-overlay-wrapper";class Hpe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(PW),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),d=this._xPosition,u=this._xOffset,p="rtl"===this._overlayRef.getConfig().direction;let b="",v="",w="";c?w="flex-start":"center"===d?(w="center",p?v=u:b=u):p?"left"===d||"end"===d?(w="flex-end",b=u):("right"===d||"start"===d)&&(w="flex-start",v=u):"left"===d||"start"===d?(w="flex-start",b=u):("right"===d||"end"===d)&&(w="flex-end",v=u),t.position=this._cssPosition,t.marginLeft=c?"0":b,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":v,e.justifyContent=w,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(PW),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Wpe=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Hpe}flexibleConnectedTo(e){return new zpe(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(Y(kE),Y(Ct),Y(Oi),Y(RE))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qpe=0,Mc=(()=>{class n{constructor(e,i,r,o,s,a,c,l,d,u,p,b){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=d,this._location=u,this._outsideClickDispatcher=p,this._animationsModuleType=b}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new MM(e);return s.direction=s.direction||this._directionality.value,new Mb(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+qpe++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(hc)),new Ppe(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(Y(Lpe),Y(RE),Y(hf),Y(Wpe),Y(Bpe),Y(Fn),Y(Ge),Y(Ct),Y(Uu),Y(l_),Y(Upe),Y(Jr,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Kpe={provide:new de("cdk-connected-overlay-scroll-strategy"),deps:[Mc],useFactory:function $pe(n){return()=>n.scrollStrategies.reposition()}};let ME=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({providers:[Mc,Kpe],imports:[Sb,Bm,SM,SM]})}}return n})();function Um(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function PE(n,t=Kf){return ee((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,i.next(l)}};function c(){const l=s+n,d=t.now();if(d<l)return r=this.schedule(void 0,l-d),void i.add(r);a()}e.subscribe(pe(i,l=>{o=l,s=t.now(),r||(r=t.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function LW(n){return Zt((t,e)=>n<=e)}let VW=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),hge=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Rc(e);return new at(r=>{const s=this._observeElement(i).subscribe(r);return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new K,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}static{this.\u0275fac=function(i){return new(i||n)(Y(VW))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fge=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=cn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Ib(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new jt,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(PE(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(O(hge),O(ft),O(Ge))}}static{this.\u0275dir=_e({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}}return n})(),OM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({providers:[VW]})}}return n})();const BW=new Set;let zu,mge=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):gge}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function pge(n,t){if(!BW.has(n))try{zu||(zu=document.createElement("style"),t&&(zu.nonce=t),zu.setAttribute("type","text/css"),document.head.appendChild(zu)),zu.sheet&&(zu.sheet.insertRule(`@media ${n} {body{ }}`,0),BW.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(i){return new(i||n)(Y(Oi),Y(mA,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function gge(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let NM=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new K}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return UW(EE(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=du(UW(EE(e)).map(s=>this._registerQuery(s).observable));return o=Of(o.pipe(Ln(1)),o.pipe(LW(1),PE(0))),o.pipe(me(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new at(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(oa(i),me(({matches:s})=>({query:e,matches:s})),ri(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static{this.\u0275fac=function(i){return new(i||n)(Y(mge),Y(Ge))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function UW(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class yge{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new K,this._typeaheadSubscription=kt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new K,this.change=new K,t instanceof au&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Ii(e=>this._pressedLetters.push(e)),PE(t),Zt(()=>this._pressedLetters.length>0),me(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||Um(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof au?this._items.toArray():this._items}}class HW extends yge{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Pb=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function xge(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function wge(n){try{return n.frameElement}catch{return null}}(function Dge(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===qW(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=qW(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function kge(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Sge(n){return!function Ige(n){return function Cge(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Ege(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Tge(n){return function Age(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||WW(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static{this.\u0275fac=function(i){return new(i||n)(Y(Oi))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function WW(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function qW(n){if(!WW(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class GW{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ln(1)).subscribe(t)}}let OE=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new GW(e,this._checker,this._ngZone,this._document,i)}static{this.\u0275fac=function(i){return new(i||n)(Y(Pb),Y(Ge),Y(Ct))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $W(n){return 0===n.buttons||0===n.detail}function KW(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Rge=new de("cdk-input-modality-detector-options"),Mge={ignoreKeys:[18,17,224,91,16]},jm=Ab({passive:!0,capture:!0});let Pge=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new k(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Zl(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next($W(s)?"keyboard":"mouse"),this._mostRecentTarget=Zl(s))},this._onTouchstart=s=>{KW(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Zl(s))},this._options={...Mge,...o},this.modalityDetected=this._modality.pipe(LW(1)),this.modalityChanged=this.modalityDetected.pipe(Ze()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,jm),r.addEventListener("mousedown",this._onMousedown,jm),r.addEventListener("touchstart",this._onTouchstart,jm)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,jm),document.removeEventListener("mousedown",this._onMousedown,jm),document.removeEventListener("touchstart",this._onTouchstart,jm))}static{this.\u0275fac=function(i){return new(i||n)(Y(Oi),Y(Ge),Y(Ct),Y(Rge,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Oge=new de("liveAnnouncerElement",{providedIn:"root",factory:function Nge(){return null}}),Fge=new de("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Lge=0,YW=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+Lge++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static{this.\u0275fac=function(i){return new(i||n)(Y(Oge,8),Y(Ge),Y(Ct),Y(Fge,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Vge=new de("cdk-focus-monitor-default-options"),NE=Ab({passive:!0,capture:!0});let zm=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new K,this._rootNodeFocusAndBlurListener=a=>{for(let l=Zl(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,i=!1){const r=Rc(e);if(!this._platform.isBrowser||1!==r.nodeType)return M();const o=function Tpe(n){if(function Ipe(){if(null==TM){const n=typeof document<"u"?document.head:null;TM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return TM}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new K,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=Rc(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Rc(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Zl(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,NE),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,NE)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ri(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,NE),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,NE),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static{this.\u0275fac=function(i){return new(i||n)(Y(Ge),Y(Oi),Y(Pge),Y(Ct,8),Y(Vge,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const XW="cdk-high-contrast-black-on-white",JW="cdk-high-contrast-white-on-black",FM="cdk-high-contrast-active";let ZW=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=De(NM).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(FM,XW,JW),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(FM,XW):2===i&&e.add(FM,JW)}}static{this.\u0275fac=function(i){return new(i||n)(Y(Oi),Y(Ct))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Bge=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||n)(Y(ZW))}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[OM]})}}return n})();function Uge(n,t){}class FE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let eq=(()=>{class n extends DE{constructor(e,i,r,o,s,a,c,l){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=l,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const u=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),u},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=AE(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=AE();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=AE())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(i){return new(i||n)(O(ft),O(OE),O(Ct,8),O(FE),O(Pb),O(Ge),O(Mb),O(zm))}}static{this.\u0275cmp=ht({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&ni(Vm,7),2&i){let o;gt(o=_t())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&Sn("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[We],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Re(0,Uge,0,0,"ng-template",0)},dependencies:[Vm],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return n})();class LM{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new K,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Um(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const tq=new de("DialogScrollStrategy"),jge=new de("DialogData"),zge=new de("DefaultDialogConfig"),Wge={provide:tq,deps:[Mc],useFactory:function Hge(n){return()=>n.scrollStrategies.block()}};let qge=0,nq=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,s,a){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new K,this._afterOpenedAtThisLevel=new K,this._ariaHiddenElements=new Map,this.afterAllClosed=Nf(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(oa(void 0))),this._scrollStrategy=a}open(e,i){(i={...this._defaultOptions||new FE,...i}).id=i.id||"cdk-dialog-"+qge++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new LM(s,i),c=this._attachContainer(s,a,i);return a.containerInstance=c,this._attachDialogContent(e,a,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){VM(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){VM(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),VM(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new MM({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:FE,useValue:r},{provide:LM,useValue:i},{provide:Mb,useValue:e}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=eq;const c=new Rb(a,r.viewContainerRef,Fn.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return e.attach(c).instance}_attachDialogContent(e,i,r,o){if(e instanceof rr){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new SE(e,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new Rb(e,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(e,i,r,o){const s=e.injector||e.viewContainerRef?.injector,a=[{provide:jge,useValue:e.data},{provide:LM,useValue:i}];return e.providers&&("function"==typeof e.providers?a.push(...e.providers(i,e,r)):a.push(...e.providers)),e.direction&&(!s||!s.get(Uu,null,{optional:!0}))&&a.push({provide:Uu,useValue:{value:e.direction,change:M()}}),Fn.create({parent:s||o,providers:a})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(i){return new(i||n)(Y(Mc),Y(Fn),Y(zge,8),Y(n,12),Y(RE),Y(tq))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();function VM(n,t){let e=n.length;for(;e--;)t(n[e])}let Gge=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({providers:[nq,Wge],imports:[ME,Bm,Bge,Bm]})}}return n})();const Kge=new de("mat-sanity-checks",{providedIn:"root",factory:function $ge(){return!0}});let wn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!CM()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static{this.\u0275fac=function(i){return new(i||n)(Y(ZW),Y(Kge,8),Y(Ct))}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[Sb,Sb]})}}return n})();function oq(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=cn(t)}constructor(...t){super(...t),this._disabled=!1}}}function LE(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function sq(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=cn(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function aq(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Ib(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function Qge(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let Xge=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Jge{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const cq=Ab({passive:!0,capture:!0});class Zge{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Zl(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,cq)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,cq)))}}const lq={enterDuration:225,exitDuration:150},dq=Ab({passive:!0,capture:!0}),uq=["mousedown","touchstart"],hq=["mouseup","mouseleave","touchend","touchcancel"];class Nb{static{this._eventManager=new Zge}constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Rc(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...lq,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function t_e(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,c=e-r.top,l=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-s+"px",d.style.top=c-s+"px",d.style.height=2*s+"px",d.style.width=2*s+"px",null!=i.color&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);const u=window.getComputedStyle(d),b=u.transitionDuration,v="none"===u.transitionProperty||"0s"===b||"0s, 0s"===b||0===r.width&&0===r.height,w=new Jge(this,d,i,v);d.style.transform="scale3d(1, 1, 1)",w.state=0,i.persistent||(this._mostRecentTransientRipple=w);let x=null;return!v&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const P=()=>this._finishRippleTransition(w),S=()=>this._destroyRipple(w);d.addEventListener("transitionend",P),d.addEventListener("transitioncancel",S),x={onTransitionEnd:P,onTransitionCancel:S}}),this._activeRipples.set(w,x),(v||!l)&&this._finishRippleTransition(w),w}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...lq,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Rc(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,uq.forEach(i=>{Nb._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{hq.forEach(e=>{this._triggerElement.addEventListener(e,this,dq)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=$W(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!KW(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(uq.forEach(e=>Nb._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&hq.forEach(e=>t.removeEventListener(e,this,dq)))}}const VE=new de("mat-ripple-global-options");let BM=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Nb(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static{this.\u0275fac=function(i){return new(i||n)(O(ft),O(Ge),O(Oi),O(VE,8),O(Jr,8))}}static{this.\u0275dir=_e({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&Xt("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}}return n})(),BE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[wn,wn]})}}return n})(),fq=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[wn]})}}return n})(),mq=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[BE,bc,wn,fq]})}}return n})();const pq={capture:!0},gq=["focus","click","mouseenter","touchstart"],UM="mat-ripple-loader-uninitialized",jM="mat-ripple-loader-class-name",_q="mat-ripple-loader-centered",UE="mat-ripple-loader-disabled";let n_e=(()=>{class n{constructor(){this._document=De(Ct,{optional:!0}),this._animationMode=De(Jr,{optional:!0}),this._globalRippleOptions=De(VE,{optional:!0}),this._platform=De(Oi),this._ngZone=De(Ge),this._hosts=new Map,this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${UM}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of gq)this._document?.addEventListener(e,this._onInteraction,pq)})}ngOnDestroy(){const e=this._hosts.keys();for(const i of e)this.destroyRipple(i);for(const i of gq)this._document?.removeEventListener(i,this._onInteraction,pq)}configureRipple(e,i){e.setAttribute(UM,""),(i.className||!e.hasAttribute(jM))&&e.setAttribute(jM,i.className||""),i.centered&&e.setAttribute(_q,""),i.disabled&&e.setAttribute(UE,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,i){const r=this._hosts.get(e);r?r.disabled=i:i?e.setAttribute(UE,""):e.removeAttribute(UE)}_createRipple(e){if(!this._document)return;const i=this._hosts.get(e);if(i)return i;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(jM)),e.append(r);const o=new BM(new ft(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,o.centered=e.hasAttribute(_q),o.disabled=e.hasAttribute(UE),this.attachRipple(e,o),o}attachRipple(e,i){e.removeAttribute(UM),this._hosts.set(e,i)}destroyRipple(e){const i=this._hosts.get(e);i&&(i.ngOnDestroy(),this._hosts.delete(e))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class bq{}class i_e{}const Pc="*";function ed(n,t){return{type:7,name:n,definitions:t,options:{}}}function ca(n,t=null){return{type:4,styles:t,timings:n}}function yq(n,t=null){return{type:2,steps:n,options:t}}function cr(n){return{type:6,styles:n,offset:null}}function Os(n,t,e){return{type:0,name:n,styles:t,options:e}}function Ns(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}class Fb{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class wq{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function r_e(n,t){}class jE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const qM="mdc-dialog--open",xq="mdc-dialog--opening",Eq="mdc-dialog--closing";let a_e=(()=>{class n extends eq{constructor(e,i,r,o,s,a,c,l){super(e,i,r,o,s,a,c,l),this._animationStateChanged=new jt}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}static{this.\u0275fac=function(i){return new(i||n)(O(ft),O(OE),O(Ct,8),O(jE),O(Pb),O(Ge),O(Mb),O(zm))}}static{this.\u0275cmp=ht({type:n,selectors:[["ng-component"]],features:[We],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return n})();const Iq="--mat-dialog-transition-duration";function Tq(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Ib(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Ib(n.substring(0,n.length-1)):"0"===n?0:null}let c_e=(()=>{class n extends a_e{constructor(e,i,r,o,s,a,c,l,d){super(e,i,r,o,s,a,c,d),this._animationMode=l,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Tq(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Tq(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Iq,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(xq,qM)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(qM),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(qM),this._animationsEnabled?(this._hostElement.style.setProperty(Iq,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Eq)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(xq,Eq)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}static{this.\u0275fac=function(i){return new(i||n)(O(ft),O(OE),O(Ct,8),O(jE),O(Pb),O(Ge),O(Mb),O(Jr,8),O(zm))}}static{this.\u0275cmp=ht({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,r){2&i&&(ru("id",r._config.id),Sn("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Xt("_mat-animation-noopable",!r._animationsEnabled))},features:[We],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(H(0,"div",0)(1,"div",1),Re(2,r_e,0,0,"ng-template",2),j()())},dependencies:[Vm],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}}return n})();class Oc{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new K,this._beforeClosed=new K,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(Zt(r=>"opened"===r.state),Ln(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Zt(r=>"closed"===r.state),Ln(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),E(this.backdropClick(),this.keydownEvents().pipe(Zt(r=>27===r.keyCode&&!this.disableClose&&!Um(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),Cq(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Zt(e=>"closing"===e.state),Ln(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function Cq(n,t,e){return n._closeInteractionType=t,n.close(e)}const Hm=new de("MatMdcDialogData"),l_e=new de("mat-mdc-dialog-default-options"),Aq=new de("mat-mdc-dialog-scroll-strategy"),u_e={provide:Aq,deps:[Mc],useFactory:function d_e(n){return()=>n.scrollStrategies.block()}};let h_e=0,f_e=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,o,s,a,c,l,d,u){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=c,this._dialogContainerType=l,this._dialogDataToken=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new K,this._afterOpenedAtThisLevel=new K,this._idPrefix="mat-dialog-",this.dialogConfigClass=jE,this.afterAllClosed=Nf(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(oa(void 0))),this._scrollStrategy=a,this._dialog=i.get(nq)}open(e,i){let r;(i={...this._defaultOptions||new jE,...i}).id=i.id||`${this._idPrefix}${h_e++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:FE,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,c)=>(r=new this._dialogRefConstructor(s,i,c),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static{this.\u0275fac=function(i){Ug()}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})(),Lb=(()=>{class n extends f_e{constructor(e,i,r,o,s,a,c,l){super(e,i,o,a,c,s,Oc,c_e,Hm,l),this._idPrefix="mat-mdc-dialog-"}static{this.\u0275fac=function(i){return new(i||n)(Y(Mc),Y(Fn),Y(l_,8),Y(l_e,8),Y(Aq),Y(n,12),Y(RE),Y(Jr,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})(),m_e=0,kq=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=Dq(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){Cq(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}static{this.\u0275fac=function(i){return new(i||n)(O(Oc,8),O(ft),O(Lb))}}static{this.\u0275dir=_e({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,r){1&i&&Me("click",function(s){return r._onButtonClick(s)}),2&i&&Sn("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Pi]})}}return n})(),Sq=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+m_e++}ngOnInit(){this._dialogRef||(this._dialogRef=Dq(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._ariaLabelledByQueue?.push(this.id)})}ngOnDestroy(){const e=this._dialogRef?._containerInstance?._ariaLabelledByQueue;e&&Promise.resolve().then(()=>{const i=e.indexOf(this.id);i>-1&&e.splice(i,1)})}static{this.\u0275fac=function(i){return new(i||n)(O(Oc,8),O(ft),O(Lb))}}static{this.\u0275dir=_e({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){2&i&&ru("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}}return n})(),GM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}}return n})(),$M=(()=>{class n{constructor(){this.align="start"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(i,r){2&i&&Xt("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}})}}return n})();function Dq(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let p_e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({providers:[Lb,u_e],imports:[Gge,ME,Bm,wn,wn]})}}return n})();function Mq(...n){const t=Ko(n),{args:e,keys:i}=Dz(n),r=new at(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let d=0;d<s;d++){let u=!1;$t(e[d]).subscribe(pe(o,p=>{u||(u=!0,l--),a[d]=p},()=>c--,void 0,()=>{(!c||!u)&&(l||o.next(i?Rz(i,a):a),o.complete())}))}});return t?r.pipe(pS(t)):r}let Pq=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(O(lc),O(ft))}}static{this.\u0275dir=_e({type:n})}}return n})(),Hu=(()=>{class n extends Pq{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(n)))(r||n)}}()}static{this.\u0275dir=_e({type:n,features:[We]})}}return n})();const Fs=new de("NgValueAccessor"),g_e={provide:Fs,useExisting:dn(()=>KM),multi:!0};let KM=(()=>{class n extends Hu{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(n)))(r||n)}}()}static{this.\u0275dir=_e({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&Me("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[mt([g_e]),We]})}}return n})();const __e={provide:Fs,useExisting:dn(()=>td),multi:!0},v_e=new de("CompositionEventMode");let td=(()=>{class n extends Pq{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function b_e(){const n=Tl()?Tl().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(O(lc),O(ft),O(v_e,8))}}static{this.\u0275dir=_e({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Me("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[mt([__e]),We]})}}return n})();function nd(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Oq(n){return null!=n&&"number"==typeof n.length}const jr=new de("NgValidators"),id=new de("NgAsyncValidators"),y_e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class w_e{static min(t){return function Nq(n){return t=>{if(nd(t.value)||nd(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Fq(n){return t=>{if(nd(t.value)||nd(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return Lq(t)}static requiredTrue(t){return function Vq(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function Bq(n){return nd(n.value)||y_e.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Uq(n){return t=>nd(t.value)||!Oq(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function jq(n){return t=>Oq(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function zq(n){if(!n)return zE;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(nd(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Kq(t)}static composeAsync(t){return Qq(t)}}function Lq(n){return nd(n.value)?{required:!0}:null}function zE(n){return null}function Hq(n){return null!=n}function Wq(n){return Qg(n)?C(n):n}function qq(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Gq(n,t){return t.map(e=>e(n))}function $q(n){return n.map(t=>function x_e(n){return!n.validate}(t)?t:e=>t.validate(e))}function Kq(n){if(!n)return null;const t=n.filter(Hq);return 0==t.length?null:function(e){return qq(Gq(e,t))}}function QM(n){return null!=n?Kq($q(n)):null}function Qq(n){if(!n)return null;const t=n.filter(Hq);return 0==t.length?null:function(e){return Mq(Gq(e,t).map(Wq)).pipe(me(qq))}}function YM(n){return null!=n?Qq($q(n)):null}function Yq(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Xq(n){return n._rawValidators}function Jq(n){return n._rawAsyncValidators}function XM(n){return n?Array.isArray(n)?n:[n]:[]}function HE(n,t){return Array.isArray(n)?n.includes(t):n===t}function Zq(n,t){const e=XM(t);return XM(n).forEach(r=>{HE(e,r)||e.push(r)}),e}function e8(n,t){return XM(t).filter(e=>!HE(n,e))}class t8{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=QM(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=YM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Co extends t8{get formDirective(){return null}get path(){return null}}class Nc extends t8{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class n8{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Wu=(()=>{class n extends n8{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(O(Nc,2))}}static{this.\u0275dir=_e({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Xt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[We]})}}return n})(),WE=(()=>{class n extends n8{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(O(Co,10))}}static{this.\u0275dir=_e({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Xt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[We]})}}return n})();const Vb="VALID",GE="INVALID",Wm="PENDING",Bb="DISABLED";function e1(n){return($E(n)?n.validators:n)||null}function t1(n,t){return($E(t)?t.asyncValidators:n)||null}function $E(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class n1{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Vb}get invalid(){return this.status===GE}get pending(){return this.status==Wm}get disabled(){return this.status===Bb}get enabled(){return this.status!==Bb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Zq(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Zq(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(e8(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(e8(t,this._rawAsyncValidators))}hasValidator(t){return HE(this._rawValidators,t)}hasAsyncValidator(t){return HE(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Wm,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Bb,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Vb,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vb||this.status===Wm)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bb:Vb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Wm,this._hasOwnPendingAsyncValidator=!0;const e=Wq(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new jt,this.statusChanges=new jt}_calculateStatus(){return this._allControlsDisabled()?Bb:this.errors?GE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wm)?Wm:this._anyControlsHaveStatus(GE)?GE:Vb}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){$E(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function C_e(n){return Array.isArray(n)?QM(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function A_e(n){return Array.isArray(n)?YM(n):n||null}(this._rawAsyncValidators)}}class Ub extends n1{constructor(t,e,i){super(e1(e),t1(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function s8(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new he(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function o8(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new he(1e3,"");if(!i[e])throw new he(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const qu=new de("CallSetDisabledState",{providedIn:"root",factory:()=>jb}),jb="always";function KE(n,t){return[...t.path,n]}function zb(n,t,e=jb){r1(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function D_e(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&a8(n,t)})}(n,t),function M_e(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function R_e(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&a8(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function S_e(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function QE(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),XE(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function YE(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function r1(n,t){const e=Xq(n);null!==t.validator?n.setValidators(Yq(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Jq(n);null!==t.asyncValidator?n.setAsyncValidators(Yq(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();YE(t._rawValidators,r),YE(t._rawAsyncValidators,r)}function XE(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Xq(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=Jq(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return YE(t._rawValidators,i),YE(t._rawAsyncValidators,i),e}function a8(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function c8(n,t){r1(n,t)}function s1(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function l8(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function a1(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===td?e=o:function N_e(n){return Object.getPrototypeOf(n.constructor)===Hu}(o)?i=o:r=o}),r||i||e||null}const L_e={provide:Co,useExisting:dn(()=>Wb)},Hb=(()=>Promise.resolve())();let Wb=(()=>{class n extends Co{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new jt,this.form=new Ub({},QM(e),YM(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Hb.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),zb(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Hb.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Hb.then(()=>{const i=this._findContainer(e.path),r=new Ub({});c8(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Hb.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Hb.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,l8(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||n)(O(jr,10),O(id,10),O(qu,8))}}static{this.\u0275dir=_e({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Me("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[mt([L_e]),We]})}}return n})();function d8(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function u8(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const qm=class extends n1{constructor(t=null,e,i){super(e1(e),t1(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$E(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=u8(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){d8(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){d8(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){u8(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},U_e={provide:Nc,useExisting:dn(()=>Gm)},m8=(()=>Promise.resolve())();let Gm=(()=>{class n extends Nc{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new qm,this._registered=!1,this.name="",this.update=new jt,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=a1(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),s1(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){zb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){m8.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&Mf(i);m8.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?KE(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||n)(O(Co,9),O(jr,10),O(id,10),O(Fs,10),O(Vo,8),O(qu,8))}}static{this.\u0275dir=_e({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[mt([U_e]),We,Pi]})}}return n})(),JE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const j_e={provide:Fs,useExisting:dn(()=>c1),multi:!0};let c1=(()=>{class n extends Hu{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(n)))(r||n)}}()}static{this.\u0275dir=_e({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&Me("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[mt([j_e]),We]})}}return n})(),p8=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({})}}return n})();const l1=new de("NgModelWithFormControlWarning"),G_e={provide:Co,useExisting:dn(()=>$m)};let $m=(()=>{class n extends Co{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new jt,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(XE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return zb(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){QE(e.control||null,e,!1),function F_e(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,l8(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(QE(i||null,e),(n=>n instanceof qm)(r)&&(zb(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);c8(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function P_e(n,t){return XE(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){r1(this.form,this),this._oldForm&&XE(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(i){return new(i||n)(O(jr,10),O(id,10),O(qu,8))}}static{this.\u0275dir=_e({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&Me("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[mt([G_e]),We,Pi]})}}return n})();const Q_e={provide:Nc,useExisting:dn(()=>ZE)};let ZE=(()=>{class n extends Nc{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new jt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=a1(0,o)}ngOnChanges(e){this._added||this._setUpControl(),s1(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return KE(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(O(Co,13),O(jr,10),O(id,10),O(Fs,10),O(l1,8))}}static{this.\u0275dir=_e({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[mt([Q_e]),We,Pi]})}}return n})();const Y_e={provide:Fs,useExisting:dn(()=>eI),multi:!0};function y8(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let eI=(()=>{class n extends Hu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=y8(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function X_e(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(n)))(r||n)}}()}static{this.\u0275dir=_e({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&Me("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[mt([Y_e]),We]})}}return n})(),w8=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(y8(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(O(ft),O(lc),O(eI,9))}}static{this.\u0275dir=_e({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const J_e={provide:Fs,useExisting:dn(()=>h1),multi:!0};function x8(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let h1=(()=>{class n extends Hu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const l=this._getOptionValue(s[a].value);r.push(l)}}else{const s=i.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function Z_e(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(n)))(r||n)}}()}static{this.\u0275dir=_e({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&Me("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[mt([J_e]),We]})}}return n})(),E8=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(x8(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(x8(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(O(ft),O(lc),O(h1,9))}}static{this.\u0275dir=_e({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),Gu=(()=>{class n{constructor(){this._validator=zE}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):zE,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,features:[Pi]})}}return n})();const nbe={provide:jr,useExisting:dn(()=>Km),multi:!0};let Km=(()=>{class n extends Gu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Mf,this.createValidator=e=>Lq}enabled(e){return e}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(n)))(r||n)}}()}static{this.\u0275dir=_e({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&Sn("required",r._enabled?"":null)},inputs:{required:"required"},features:[mt([nbe]),We]})}}return n})(),M8=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[p8]})}}return n})(),lbe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:qu,useValue:e.callSetDisabledState??jb}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[M8]})}}return n})(),dbe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:l1,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:qu,useValue:e.callSetDisabledState??jb}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[M8]})}}return n})();const ube=["*"];let tI;function qb(n){return function hbe(){if(void 0===tI&&(tI=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(tI=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return tI}()?.createHTML(n)||n}function P8(n){return Error(`Unable to find icon with the name "${n}"`)}function O8(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function N8(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class $u{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let nI=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new $u(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(Lr.HTML,r);if(!s)throw N8(r);const a=qb(s);return this._addSvgIconConfig(e,i,new $u("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new $u(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(Lr.HTML,i);if(!o)throw N8(i);const s=qb(o);return this._addSvgIconSetConfig(e,new $u("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(Lr.RESOURCE_URL,e);if(!i)throw O8(e);const r=this._cachedIconsByUrl.get(i);return r?M(iI(r)):this._loadSvgIconFromConfig(new $u(e,null)).pipe(Ii(o=>this._cachedIconsByUrl.set(i,o)),me(o=>iI(o)))}getNamedSvgIcon(e,i=""){const r=F8(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):Al(P8(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?M(iI(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(me(i=>iI(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?M(r):Mq(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(hn(a=>{const l=`Loading icon set URL: ${this._sanitizer.sanitize(Lr.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),M(null)})))).pipe(me(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw P8(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Ii(i=>e.svgText=i),me(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?M(null):this._fetchIcon(e).pipe(Ii(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(qb("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(qb("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function fbe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(Lr.RESOURCE_URL,i);if(!s)throw O8(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(me(l=>qb(l)),Lf(()=>this._inProgressUrlFetches.delete(s)),z());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(F8(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return pbe(o)?new $u(o.url,null,o.options):new $u(o,null)}}static{this.\u0275fac=function(i){return new(i||n)(Y(xb,8),Y(fS),Y(Ct,8),Y(As))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function iI(n){return n.cloneNode(!0)}function F8(n,t){return n+":"+t}function pbe(n){return!(!n.url||!n.options)}const gbe=LE(class{constructor(n){this._elementRef=n}}),_be=new de("MAT_ICON_DEFAULT_OPTIONS"),bbe=new de("mat-icon-location",{providedIn:"root",factory:function vbe(){const n=De(Ct),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),L8=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ybe=L8.map(n=>`[${n}]`).join(", "),wbe=/^url\(['"]?#(.*?)['"]?\)$/;let Gb=(()=>{class n extends gbe{get inline(){return this._inline}set inline(e){this._inline=cn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,s,a){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=kt.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(ybe),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)L8.forEach(s=>{const a=i[o],c=a.getAttribute(s),l=c?c.match(wbe):null;if(l){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:s,value:l[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Ln(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static{this.\u0275fac=function(i){return new(i||n)(O(ft),O(nI),vl("aria-hidden"),O(bbe),O(As),O(_be,8))}}static{this.\u0275cmp=ht({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(Sn("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Xt("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[We],ngContentSelectors:ube,decls:1,vars:0,template:function(i,r){1&i&&(nr(),Tt(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return n})(),xbe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[wn,wn]})}}return n})();function Ebe(n,t){1&n&&et(0,"mat-icon",20)}function Ibe(n,t){1&n&&et(0,"mat-icon",21)}function Tbe(n,t){if(1&n){const e=Li();H(0,"div",11)(1,"div",12)(2,"div")(3,"label",13),se(4),j(),H(5,"p",14),se(6),j()(),H(7,"div",15)(8,"input",16),Me("input",function(r){const s=Pt(e).$implicit;return Ot(Oe().updateQuantity(s,r))}),j()(),H(9,"button",17),Me("click",function(){const o=Pt(e).$implicit;return Ot(Oe().addItem(o))}),Re(10,Ebe,1,0,"mat-icon",18),Re(11,Ibe,1,0,"mat-icon",19),se(12),j()()()}if(2&n){const e=t.$implicit,i=Oe();ue(4),Vi(e.name),ue(2),ir("$ ",e.price,""),ue(2),ye("value",e.quantity),ue(1),ye("ngClass",i.addedItems[e._id]?"btn-primary":"btn-success"),ue(1),ye("ngIf",!i.addedItems[e._id]),ue(1),ye("ngIf",i.addedItems[e._id]),ue(1),ir(" ",i.addedItems[e._id]?"Agregado":"Agregar"," ")}}let m1=(()=>{class n{constructor(e,i,r){this.gestionService=e,this.dialogRef=i,this.data=r,this.menuItems=[],this.selectedItems=[],this.canPrint=!1,this.filterText="",this.waiterName="",this.addedItems={}}ngOnInit(){console.log("Datos recibidos en MenuDialogComponent:",this.data),this.loadMenu(),this.waiterName=this.data&&this.data.waiter&&"object"==typeof this.data.waiter&&this.data.waiter.name?this.data.waiter.name:"Desconocido",window.addEventListener("message",e=>{"closeDialog"===e.data&&this.dialogRef.close(this.selectedItems)})}loadMenu(){this.gestionService.getMenu().subscribe(e=>{this.menuItems=e.map(i=>({...i,quantity:1})),console.log(this.menuItems,"menuItems desde dialog menu")})}get filteredMenuItems(){return this.menuItems.filter(e=>e.name.toLowerCase().includes(this.filterText.toLowerCase()))}toggleSelection(e,i){const r=this.selectedItems.findIndex(o=>o._id===e._id);i.target.checked?-1===r&&this.selectedItems.push({...e,quantity:1}):r>-1&&this.selectedItems.splice(r,1)}updateQuantity(e,i){const o=parseInt(i.target.value,10);e.quantity=o;const s=this.selectedItems.findIndex(a=>a._id===e._id);s>-1&&(this.selectedItems[s].quantity=o,this.gestionService.saveLog(`Se actualiz\xf3 la cantidad de <strong>${e.name}</strong> a <strong>${o}</strong> en la mesa <strong>${this.data.name}</strong> por el mozo <strong>${this.waiterName||(this.data.waiter?.name??"Desconocido")}</strong>.`))}printTicket(){this.selectedItems.length?this.gestionService.addItemsToTable(this.data.id,this.selectedItems).subscribe(e=>{this.data.orders=e.orders,this.data.available=!1,this.canPrint=!1;const i=this.selectedItems.map(c=>`${c.quantity}x ${c.name}`).join(", "),r=this.waiterName||(this.data.waiter?.name??"Desconocido");console.log(r),this.gestionService.saveLog(`Se agregaron: <strong>${i}</strong> a la mesa <strong>${this.data.name}</strong> por el mozo <strong>${r}</strong>`);const o=`\n          <html>\n            <head>\n              <title>Ticket</title>\n              <style>\n                @page { size: 58mm landscape; margin: 0; }\n                body { font-family: 'Courier New', monospace; font-size: 14px; font-weight: bold; margin: 0; padding: 0; text-align: left; }\n                .ticket { width: 58mm; padding: 5px; }\n                .header { text-align: left; margin-bottom: 5px; }\n                .order-list { text-align: left; word-wrap: break-word; }\n                .order-item { display: flex; justify-content: space-between; width: 100%; }\n                .order-item p { margin: 0; padding-right: 5px; }\n                .totals { margin-top: 5px; text-align: left; }\n                .line { border-top: 1px dashed #000; margin: 3px 0; }\n                .logo { text-align: center; margin-bottom: 10px; }\n                .logo img { width: 70px; max-width: 58mm; height: auto; }\n              </style>\n            </head>\n            <body>\n              <div class="ticket">\n                <div class="logo"><img src="\n                data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBUODAsLDBkSEw8VHhsgHx4bHR0hJTApISMtJB0dKjkqLTEzNjY2ICg7Pzo0PjA1NjP/wAALCADhAOEBAREA/8QAGgABAAIDAQAAAAAAAAAAAAAAAAYHBAUIA//EAFIQAAIBAwQBAgMEBQQKEAcBAAECAwQFEQAGEiEHEzEUIkEIFTJRFiNCYYEkM1ZxFxg3UlWRpKWz0iU0NVNXYmZ1goOTlbHR0+MnQ0VjcnN0of/aAAgBAQAAPwC/9NNNNNNNNYdyu1ts1OtRdLhSUMDPwWSqmWJS2CcAsQM4B6/cdVff/tCbUtqMtnhq7xPwDKVQwRZ5YKszjkCB30hHYGffEIuX2kr9LUK1rsdtpoOGGSqd52LZPYZSgAxjrH0PffUT/s2eQ/6Q/wCRU/8Aqaf2bPIf9If8ip/9TT+zZ5D/AKQ/5FT/AOpp/Zs8h/0h/wAip/8AU1KKH7SG5I6yNq+zWqelGeccAkiduusMWYDvH7J/h76m9k+0Rtav9CO7Udda5n5eo/ETwx4zj5l+c5AH7HRP5d6sjb26rFuujaqsdzgrY1/GEJDx9kDkhwy54nGQM4yOtbjTTTTTTTTTTTTTTTTUb3XvvbmzKcvebjHHOU5R0kfzzydNjCDsAlSORwueiRqhN5efr7evWo9vRfdFC2V9bIapkX5hnl7R5BU4XLAjp9V3RWrc29rpJLS01yvFY7ok055SlSflX1JD0owMZYgAD8hqyLB9nbcdwRZb1cKS0oyE+mo+IlVg2AGAIXBGTkOfp1743du8X+LrJbqG63vdX3tTvV/BtNDOq0jzMCVVvTyyYXBJMgHWSQDjWRMPEFlo7xUJs+uqPuS6pTViBHmMbqZAkhLycfSZlZSCezx5L+HUovFJZ7b+kvw3iihrfun4b4T07en+yHq458MRH+bz3jl7d40jj236V4qZvE/GloYqSSnWOzRtPVesoLKsZQDlGThgGOMH2xjWvu1v8bVN4u1ruexZ6Oqt1qF0mEcCU6vEi5IRopAGYGRlOPlLJgseC408/jnxLd6y3COvrrHNWWpblHSGpCgwEFi7NKHHIAHID9BCcYBOtBc/s73QW6Kt29f6G7xvEZQGT0fUGAU9NgXVuX5kqPbvB6ru+bP3Xseopqq6W2rt7h1eGqjcMqvklcSISA/yk4znrOpZtHznunbnGnuT/flCM/JVyETL+I9S9k9kfiDdKAMavfZflXbW9fhaWmqvhrvLEXe3zBgylfxBXwFf8xg549kDBAnGmmmmmmmmmmmmvOeeGlp5aioljhgiQvJJIwVUUDJJJ6AA+uuePIPnyaujmtezxJT07o0ctxlUrKfmxmEZ+QFR+Jhy+boKVzqp7Nt3ce9bpMtroau5VbuXnmJyAzZbMkjHAJw3bHs/mdXXY/C20dsVlFFva8QV1Zc8QUdGGeBPWxluLBgz/RQTxHzAEcmUCcWS7bgrqOzjbW1ILDaY7hLBX0dzpmp5I4MhxLCi4HzAsD0cO2OwC2sim8fVFVR21dzblrrvV226/eVNUIgpxnIYRsmWVlDciD0VB4qVHR3lt2dty0U7U9FZ6SOA1vx6xsnNY6jAHqIGyEIAGOOAPpjW81h3K7W2zU61F0uFJQwM/BZKqZYlLYJwCxAzgHr9x1C/7Nnjz+kP+RVH+pqcUNfR3OjjrKCrgq6WTPCaCQSI2Dg4YHBwQR/DWPX2O13P4k1lBBJJVUjUc03DEjQNnlHzHzBTknAPv3760cewqGgultuFmrKu3G10UlJR0SPypAGyS0kfTOSxVm+cFiiknIzrDoG3jQ0dst26KGhvVDLSVX3xXQfMQcsUUQBBzUphOKqSSfYY+eBy+OPHnkGyW+62GWTblZdXnelhdlJmKPiT9QXIwoVsCMqAGBPQA1Tm8dgbg2PWeldqXlTtx9OtgDNBISCeIcgYb5W+UgHrOMYJnGwfO10sHCg3L691to5kVGedWhPYHJmAdc56PY5e+FC66TtV1ob5a6e52ypjqaOoTnFKnsw/8QQcgg9ggg9jWZppppppppprT7m3Na9oWKa73ef0qePpVXt5XPsiD6scH/EScAEjlDyJ5NunkGsiEsfwVsgwYaFJOYD4wXZsDk3ZA6GB0PckyjYvhr16Mbh31UfctoglHKlq/wBQ8y5x87MR6SluIH7Td445VjadkqGrag2bx9SR2O32G8JBd/iKNQtaqHjII5AW5PxQZLAMeSHkv13lk2Htvalumlqj8f6NXJcTX3j05ZIJCF5yCQqOP82rFvfIyTrabd3baN1PcRZ5pKiKgqPh3qBGfSkbiCTG/s4Gcdfln2Klt5pprnjYcT+ZfIty3BuNfUtNs4PT2tp2eKN36QcSMFcREvjjybGQQSNdBzwQ1VPLT1EUc0EqFJI5FDK6kYIIPRBH01Qd4qovDXmZKqkp/R21fYkNRCqOsMHzYcpjIZkI54A6WQqAMg66A001o7xtK0XuviuU8MkN0gp5aenuFNIY54VkVlJUjokBmK5B4kkj3Oo2Fvu06M266Rffu1KKyTT3G41sgepnmBdnQIzHkpXoK2AAe3OMGsN8eFYqq3R7l2APXtk1ItQKAlzIykAhouQLNlTyKseWQcZyFFZ7N3xetiXR66zyxkSpwmp5wWimHeOQBByCcgggjsexIPWexd9WvftiFfQH0qiPC1dI7Zenc/Q/mpwcN9cfQggSjTTTTTTTWn3Nua17QsU13u8/pU8fSqvbyufZEH1Y4P8AiJOACRyBvrfV035fTX159KnjytJSI2Up0P0H5scDLfXH0AAFv+O/FlPsy0y743ZF8RUUdIa2nokQ5pwqcyWVwv60dgKelIzknBWxJduTbyeqbcYjqts19PT1FJaqqlMNVRTBfmBdSCp/PsnLFegDzyNyeRLDtq6UVpkkkrrtWVCU8dBRMjSqzY4l+TKEB5LjkRnlkZAJGZubZ9u3d8LFdp65qGHn6lDDUtFDU5xj1QuC3EqCvYwfz1C/Gs9Xsq8z+NL3LHJJEj1lpqlZFWop2Y5Tj+IOG5tg8j+PvioJtTTWvvts++9u3O0+t6Px1JLT+rx5cOaFeWMjOM5xkapP7OEi0lRue1VMMdPcI3hZo5CyzkKXVlKE9BGx7AEF8EnoC/Nc/wDneGs3Pv7a20qCmzVNE0iSkkj9a/E8gASFUQlie+ieuu+gNNNUH5XuVXt7zHt+r2osibirKdI54yEWCrVpOEaP2CxJUglj0FjIIK5F0WCqu9Va1N8t8dFcI3McohlDxS4/+ZGc5CN7gNhh2COsnR3qxXi23G5bh2wfjb3cPh6cw3KrcUlPCpwWWNcZxksQTkcnK9kq8P3749s3lP4y57aq4Ib7b6tqGrkkR0jlePAZH+XPJQRhwDkfL2MFefLBf71sbcq19A0lLX0zmKaCZSAwB+aORejjI7HRBGRggEdd7F31a9+2IV9AfSqI8LV0jtl6dz9D+anBw31x9CCBKNNNNNNec88NLTy1FRLHDBEheSSRgqooGSST0AB9dcgeS/Jddv8AugRBJTWWncmlpCeyfb1JMdFyPp7KDge5LTzxvsmxbLsVJ5B3xVQQrJwe3QuDII+XaSFVBLSEfMFAPEDkex8lr2jb9fdb7T7l3VSwQXa3y1MNvgo6qR4UgfCh2B6MhAb5gFyrDkoIAWUV9L8dbqmj+Inp/XiaP1qd+EkfIEckb6MM5B+h1Qnl3x0u0zSb32qskD0dQJa1pqlpmEpkBjm/W8ixLnDZJ916/EdXHsvdlHvba9Le6NPS9TKTQGQO0MinDKSP4EZwSpU4Gca0flSxzVe2juK2VUlHfNvJJWUVSshUBQAZUYYIYMinojsgAniWBlliuf33t22Xb0fR+OpIqj0uXLhzQNxzgZxnGcDWw01B92bDqLjeF3Lte6fcm5Y4miaoEYeOrTjgJKp6OCFw2DgAdHivHDnj8xTU8sSTbKgd0KrLGKkshI/EOQIyPfsEfmDrM2p41o7BfajcdzuE973HU59SvqUChM5H6tBnh8uF9zgDA4gkanGmmqHpW/TH7UU8olgqqGwxMFSaPHH014EKOPbLPIWBP5ZB6XVyX/cVo2ta2uV6ro6SkDhObAsWY+wVQCWPucAHoE+wOq/8Z1+/IqhqG7WW5T7flqJWo7jdqlEraeIF+KyoTyckhR7DGSQSuMSzeVqrKiKkvVFX3VJLN6lUbdQTFBceK8hC4AOcsij2PRYYy2RXe99i03lCzC+Wyljtm8YKeN6y2SzJ6hDLlUlAPyOVHyMwUkYDAfsUp4/3jUbG3bTXaL5qdsQ1kYQMZICwLBckYboEdjsDPWQez6Ctp7nbqavo5PUpaqJZoX4kckYAqcHsZBHvrI00001Q/wBoLfSRUa7Mojymm4T1zhlIVASUiI7IYkK59sAL7hjiIeFPHH6V3gX65xQS2SglKNDL83xEwUELxz+FeSsc9HpcEFsXHY6cb/vNTuKonvMdj4NQybdu9FGIXkjYEvxPIEBvrjmHQjlgcdWJprHr6GnuduqaCsj9SlqomhmTkRyRgQwyOxkE+2ufLHX13gzyDU2i8mrbadydmppQ3qKBkcZelGXVcK6qAewcMAmZvcvLC7lqF2945SS43iqQH46WFo6ejTJDSPzGSV6644yw/EfkM82rt6n2pte3WOlbnHSRBS+CPUcnLvgk45MWOM9ZwOtbjTWvud9s9k9L72utDQetn0/iqhIueMZxyIzjI/xjWw00001zJ4lvV6r91bnvFo27HX364uD8Q0xhpKJZXZnZ8klhz9MhBliqNg9HNx7d8epBcY9w7qq/v7cpijVqidF9GmKnkBAnEBcHHzYySCRx5MDONNQfcFmnse4xu+zpaqSM/rNw1dWJXmkpY0A4xAA8cKCxC4yyR5yMg1J5p2paK610fkHa4jloa9/5a8GeBZvwy8cfISwZXyR8xUY5Fs+fgHfSWe8SbVrjilucoelkLKqxz8cEHOCeYVQOz8wUAfMSOl9NNNafdW4afam17jfKpecdJEWCZI9RycImQDjkxUZx1nJ61xhQ0l03pu2OnjPr3O61ZLuUwObsSzsFHSjJY4HQB/LXU90syUtHYfHlDabrFZp4hyvNFIsZpHgIlViVU4kZ0BLELktkEnOJxTGng40EU/OSniTKPMZJAhyFZixLHPFvmPuVPZOdZGmmsO5Wm23mnWnulvpK6BX5rHVQrKobBGQGBGcE9/vOlttNts1O1Pa7fSUMDPzaOlhWJS2AMkKAM4A7/cNZmmoP5X3jUbJ2NNX0PVfUSrTUrlA6xuwJLEE/RVbHv83HIIzqu9qeFq7dNQN0eQa6rarrH9Z6EfJIwyvH1G/YBUEemoBUce1I4i/NNNNec8ENVTy09RFHNBKhSSORQyupGCCD0QR9NedDQUdso46OgpIKSljzwhgjEaLk5OFHQyST/HWRpppqv6OslsW722jfar7xob36i2ijitqR01JSxxsWidsAN18nEcsBFJxzxrmTfGza7Yu5ZLPXSRzAoJaedOhNESQGx7qcqQQfYg+4wT1X4y3d+mmxqK5Styrov5PW9Y/XKBlvYD5gVfA6HLH01MNNNc6faM3Q090t+14JIzBTIKup4urH1WyqKwxlSq5Pv2JB10Dr08DbTqKe3XTept/xdVHFJBaqdyI/VcDLkMy4XJxGHB6zICNWn4/sENHHcNzNaqu0XDcLrU1lunnEogYM5BB4ggtzLFT7FsYGMahdtTyNYLxfN7QWGC50l7lEslslk9GvhgjWQQjAHEMEKgqObHoYzkiebY8jbc3VUPRUtTJSXSN2SS216ejUIwLZHEnDEBCSFJwPfGpZpppppqD+V9nVG9tjTUFD3X08q1NKhcIsjqCCpJH1Vmx7fNxyQM6j+zvLqLWfoxvtPufcNLySaon4xwS8QCCWzhWYZP8AeHGVPzBdWxppppppprDuV2ttmp1qLpcKShgZ+CyVUyxKWwTgFiBnAPX7jqN2zynsW7+r8Nuahj9LHL4tjTZzn29ULy9vpnHWfca3G6LPWX7bdXbKC7T2mqm4cK2DPOLDhjjDKewCPce+qj8rQQ+SfFdt3rZoqsJQPK/oSqOZhL8JCVXl2DGrZ5ABQxOoZ4B3Mll3zJa6mf06W7xCJQeIUzqcx5Y9jILqAPdnUY/LqfTTXDF8udZu7dtbcRDPJVXKrLRQBjM45NhI1OMtgcVAA+gAH010nuDaS0e09r+OaazXK4W2qfjV19FUtAKYoyu8r8g6kMWdgjHGRhewuJpuPe+2to+mL5d4KSSTHGLDSSEHOG4KC3H5SOWMZGM51B637QuyqSskghiutbGuMTwU6hHyM9B3VuvbsD2/LvVabr33W+VKcpbfHMdTPTpxlq40lqp4shuGHiCFQCXPFuSk9461P/FzeWaOvoaXclJJNYZkLvUV8qNUQAqzL+36mSxUEOCQOvlxq5NNNNNNafcO1bFuujFLfLZBWxr+AuCHj7BPFxhlzxGcEZxg9ar+ot+5fE0UdfQXGu3DtCD5au31IV6miiCqPUjfrkq8T8vyqAfb3dbY000001j19bT2y3VNfWSenS0sTTTPxJ4ooJY4HZ6B9tc8Wnam4PON9qNy3upnte3llxSwBmkBA4qywhjgdL80mMF/2TghbHofBewKSjjgmtc9bIuczz1cgd8nPYQqvXt0B7fn3rH2dBdNgb0/Q653Oe4Wa5xNJYp55ObxekBzgIx1hCDnIT5OgCxA2FNFbqTfN92jcrjfLq1/pGrBBUMz01LTsXRolZTmPJL94UY4LnkBy5cutFXbJ3tUUsUsiVlprcwTPDxLFGyknBsjBAVgDkEEe412vablDebNQ3SnWRYK2njqI1kADBXUMAcEjOD+Z1mag/l68/cni69yq8AmqYhSRpMfx+qeDBRkZYIXYf8A45wQDrnzwnYFv3k2haVY2gtyNWurMyklCAnHHuRIyHBwMA+/seg7JQ/G+Vtw3qe0XWhmpKSKhhnqZ+cFXGx5lo1wQuCg6VsfNllVidR/dXhj9Nrjcbvd77PDc5pSlGIF509PTqcIpRvmLFQWbDKOTnAOO9HZoofGEdHTby2DbWpKV1MW5LbTCoCNyTDylx6ikMxPLrsAIhA1cFt3HZbvZmvFBdKSe3onOSoWUBYgFDHnn8BCkEhsEfXGtppppppppqF32vbeUd12rYzIY1dKa6XEMqxQozfroY2Ktzm9PIxxwvLtgwAMwgghpaeKnp4o4YIkCRxxqFVFAwAAOgAPpr000001p92UNRc9m3ygo4/Uqqq3zwwpyA5O0bBRk9DJI99afxZVUdZ4u29LQ0/oQrSCNk4BcyISkjYH986s2fc5yeydTDVP+Ra/7x8xbAtNnq+dzoat5auKGTi0ULemzBjkDuNJCVzkr9PmGZR5HqHtcFlvc+4a61Wq33CJ6yKkpWl+JBdQBIykFYwOWc5B5DotxBpj7RFk+A3zSXaOn4Q3KkHOXnn1JozxbrPWEMQ9gD/XnVj/AGfbz94eOmtzvB6ltq3jWND84jf9YGYZ+rNIAeh8v5g6tjVJ/aSuUMW1bNa2WT16itNQjADiFjQqwPec5lXHX0P8dB9nmkWip907jkt1XUPS06RQNAjM0owzyRoMgM54xde/a+2e7b8Z2ajsmy4IKBL5DSyyySJTXsBZ4O+JXiAAqkqWA/45P11MNNU/vDw1a7vvTb09qs0FHbGlka8NA3BCihCiCMMOPLiy5QdcuR1cGmmmmmmmmmmvOeeGlp5aioljhgiQvJJIwVUUDJJJ6AA+uoX/AGYNgfePwP6Rwet6vpcvSk9PlnGfU48OOf2s8cd5x3qYUNfR3OjjrKCrgq6WTPCaCQSI2Dg4YHBwQR/DWRpqs7xtjd+1Lzc73sB6Srgubmess9wdivxBYZliPJQCRkkFgOvr8oWCVe9PNO54haaTbM9rkn5A1ENBJTnjxOR6kzFU/MEENkDBz7zvxT41m2jHPfb5PJUbkuKH4gmUuIVZgxUnPzuWALN32MD6lppupqiPa9xmpbx9zyQRGY1/wwqPRRDyc+mfxfKGH8eu9Uv5kjp9zeKdt7noq+e7fCS+g9alOYklDApJKyEZTMkSgewHLHeRrE+zVcoYrzf7WyyevUU8VQjADiFjZlYHvOcyrjr6H+PReucPtJ3P1dw2O0+jj4akeo9Xl+L1X48cY6x6Oc575fTHeZ4wvENi+z/umvnnq6dBWyxCekUNLE0kcMauoLL2rOD+Ie3vq69pzfEbNsc/xM9V6lvgf16gYklzGp5OMt8x9z2ez7n31uNNNNNNNau/7itG1rW1yvVdHSUgcJzYFizH2CqASx9zgA9An2B1B4fKV3vtaV2hsW5Xi38GZbhUTijil4uVPAupDD2+ob3yowdbCOi8pXBJqeuu+2LSjJlKq3Uk1RKrBh1xlYLgjOSc/wBX1Hn+iXkP/hP/AMwU/wD56fol5D/4T/8AMFP/AOet4RvalqEZZNv3SBkYOhSagZGyOJDZmDDHLIwv071IIDM1PE1RHHHOUBkSNy6q2OwGIBIz9cDP5DVH+Str733/AOSIdvLHJS7ZgRJoqrgfQAKgO7YPzyhiyqnRx3gAsxllD4L2BSUccE1rnrZFzmeerkDvk57CFV69ugPb8+9Rvx7RzeN/LNz2NLVySWu5U/xdtM2SzsP3KeKnisgYkDl6SnroG7NNNNNNUfuCrqKr7Nl2SqvVqu01NLHTma1xhIYwlTGAgAAHQxghVBUrgEfM0A8BXP4DyjDTej6n3hSTU/Llj08AS8sY7/msY698/TB6v1zB9o3+6HQf81R/6WXU72hVLR/ZopZnvsliThKjXKOBpmgDVTL0q95OeOR2M5Htq2LSzNZqFnr47i5p4y1bGqqtQeI/WAL0A3vgdd9azNNNNNNNVH5Os96Te1r3PHtePdVlo6JoXtjOWMcrMQZFjwQSQydhX6Q5AwrDMpfPWzpLjPRXGO62mSHkHNdSezg4KFYyzBvf3A9j9dSS2+TdkXWnaen3PbURX4EVUwp2zgHpZOJI798Y9/yOtpQ7s23c6yOjoNwWqrqpM8IYK2OR2wMnCg5OACf4a3Go/wDp3s/+ldj/AO8Yf9bUPufn3YtB6Xw1RXXLnnl8LSlfTxj39Up75+mfY5x1myKCtp7nbqavo5PUpaqJZoX4kckYAqcHsZBHvrI1V9sip90efrtdVWB4dtW+OiR0nLEzyFyWAAx8oaWMgk4I/P8ADaGmmmmmqnNDUT+GN40lXHY7ZUU/xfqR7ZYRxgxKDxkxnDNwwynvgwBAOQKY8J/3X7F/1/8AoJNdf65g+0b/AHQ6D/mqP/Sy6meyK1q37N5pbXdrbQVdO8lNPUXMKKeItPyZX5qykNHIB7EZcD39rkoJviLdTT/EwVXqRK/r04xHLkA8kGW+U+47PR9z76yNNNNNNNUWdx11v+1PUUD3SSK31SR00kMsv6th8MHjUA9A+q3WO8uQPxHNyXOxWe9+l97Wqhr/AEc+n8VTpLwzjOOQOM4H+Iaic/hnx9U1Es77djDyOXYR1MyKCTnpVcBR+4AAfTUb/tctn/4Svn/bw/8Apaf2uWz/APCV8/7eH/0tP7XLZ/8AhK+f9vD/AOlqSWDw7sjb6Lxs8dwn4FGmuOJywLZ/ARwBHQBCg4/rOZ5qL7s3DUUnGwWJfX3LcIm+FQEcaVPY1MpIIWNT7ZB5MAoB7xmbS21DtTb8VtSokq5y7TVVZKAJKmZzl5HPuST12ScAAk4zreaaaaaaqueOHbvhzeElbtiPaoqUqP5JHViqV5JY1jVgU6QFiF4gALxz0NUp4T/uv2L/AK//AEEmuv8AXOn2lLbDFebBdFaT16inlp3UkcQsbBlI6znMrZ7+g/jn+EnhuPijdFpgoqS5XCKoeoSgq4g8UjNEvohuWFILxH69Yz10dXJtSrSu2laaiMUK8qSMOlA6tBG4UBkjKkrxVgVGCcY1uNNNNNNNUX50o2se6tp75jp5KhKOoSKdDKqqTG/qxqOsgt+tyewOI9vrdlBW09zt1NX0cnqUtVEs0L8SOSMAVOD2Mgj31kaaaaaa844IYXmeKKNHmfnKyqAXbiFy35niqjJ+gA+mvTTTTTTWPX1XwNuqaz4eeo9CJpPRp05yScQTxRfqxxgD6k6ou722h2/9mSthW3VdnnrqhXakuM3KdpfiFH1VMn04gQAo+UZ77Jin2eqGnq/JUs08fOSkt8s0B5EcHLIhPXv8rsO/z/PGup9U/wDaIsnx+xqS7R0/Oa21Y5y88enDIOLdZ7y4iHsSP6s6hn2c6yGW87hsNRSRzwV1EssnqYZSqNwKFSMMGE3/APnsc9XP46o6627TW3123Y7AKaolWno0rPiR6TNzDc+ROcsQcn3UnABAEs0000001o9x2ah3ntO5WZ542gqkeH1UPIRyo3R6IyUkXtc+6kH66r/w5uualp5Ng7kMlLuC1uyQQ1GcywgcgAxJDFQTgDA4cSuQCRbmmmmmmmmmmmmmo/viqo6PY16luNPXT0LUjx1CUCBphG44Myg9fKGLEnoAE/TVR+fa1qHYm1bE8VW7yv6zTVkyvODDGExIVyGc+rksDjKnGc68/s2WT/dy/wAtP/eUdPPz/wCnKvHP/wCk5I/qPvroDUb39YG3RsK82eJZGnnpy0CIyqXlQh0XLdAFlUHP0J7HvrlDxneodveSLHcaj0/QWo9KRpJBGsayKYy5Y9AKH5fw9x766f29ZVsHkHcSUVgkhpLmiV810NWzq8pJHpCMqOJ5eq5wzY5DOAyqJpppppppqL7Mq043u0SD06633WqM0RdSeE0rzxOACflZJBjOOww+msfe2yf0j+Gu1pqvuzc9u+aguCj+v9XJ0eUZyRjBxk9EFlbX0PkGsscsdv8AINt+56p5THFcoFL2+fLEJiTJMbEBjh8YC8iVzgTihr6O50cdZQVcFXSyZ4TQSCRGwcHDA4OCCP4ayNNNNaOTeFgi3ZDtdrlGb1KnNaVUZiBxLfMwHFTxUnBIOMfmM7zTTTTTUD3dcmqN+7U25DcbzbZ5Kj40SU8K/C1iRhmeF35Bs4X2GRhxlTkEUR52vUN48m1EMHplLdTx0hkSQOHYFnb29iGcqR3gqf6hd/hOwNYfGVC0qyLPcXatdWZWAD4CccewMaocHJyT7ewsTTXFnkna67Q37crVBHItHzE1JyRgPSccgFJJLBTlOWeyh+uRq85rtR7u8dbY3t9yV2473ZZUPw1JKI3FQOKyF1TPy8lSQBVJ/BkBS2rg0000001G9y7amuNRBerLUR0O4qJCtPUuCY5485MEwHbRMf4qfmXvIOrofJVHT1kdt3db59r3J88BXOGppcDkfTqB8jYXjnOMFgvZ1NIJ4aqniqKeWOaCVA8ckbBldSMggjogj66i8njTZ7XSG5wWWOhrIU4Ry26aSjKjvP8AMsoyQxBPuR17almmoHf/ADFsjb6NyvEdwn4B1ht2JywLY/GDwBHZILA4/rGasu3kHyN5KrJaTZVtrqO0GVo45qZfTduIVv1k5PFG6zhWX8fElsjM/wDFviKn2Pyud1eCtvrclSSPJjpk9sJkAliPdiB0eI6yWtDTTTTTVZ7e3XTSru/fdTdLzDaadxTtZq+JIvhZYY15BQXPzsxAABTLMQQTgjmShpLpvTdsdPGfXud1qyXcpgc3YlnYKOlGSxwOgD+Wu36Chp7Zbqago4/TpaWJYYU5E8UUAKMns9Ae+sjTVJ/aJ2u1dt+h3JTxx87c5hqiEUMYpCApLZyQr9BcH+cJ6wcwjwTuuGg3BU7Wuhjktd6Qosc+DGJsYwQx44dcqRglj6Y1d+xQ1ip6jbD2SS0W+21Hwttnqa1ZWuJIeRnUYHZX5yBkDLAY4ECaaaaaaaax62go7nRyUdfSQVdLJjnDPGJEbByMqejggH+GoPU+HttC4tX2We67eqn5+q9nrGh9QMQeJBBCqCOlXA/d0Ma+l8a7xtlxnqbd5SuojfkqR11N8XxQnIB9STiW6HzBR9fYHGlz8c76u/pfE+VK6P0s8fhbeKbOce/pSLy9vrnHePc6083gasu9ZTNuXft1u1LDyxG8Z5rkfss7uF7C5+U5x/ESSweE9kWF1la3yXOdXLLJcXEoAK448AAhHuRlScn36GLAgghpaeKnp4o4YIkCRxxqFVFAwAAOgAPpr0000001D9/XD+R0W3ozfKaqvkvw9NcLVHk0sikMGduQIXAJIHZRZPbGdVR5w3R93bdtOwUrp62up4oJLhWerj1eKEBXXJJZjiQhj18h7zkef2c9rtPdLhuieOMwUyGkpuSKx9VsM7Kc5UquB7diQ99Ea6L001j19DT3O3VNBWR+pS1UTQzJyI5IwIYZHYyCfbXFm7dtXLx/vGW2vUSCeldZqWsiDR8190kQ+4IIx0ThlIBOM66Dtl4ffmy6TfdjsNDVb3tmaWJHZkRHJAkUksgZTG5cAsePMgEnObIs13o73bkqqOsoarGEmNDUiojSTALKHGM4yPcA4IOBnWw0000000000000000001V9FfKy22e9eS77HfLappPTTb1bUEwpIGCqyDjleZEYBKAqWkJyrA65w/2Y8h75/wB9ud3q/wDjskeT/wBJhGi/18VX92ux9q7ep9qbXt1jpW5x0kQUvgj1HJy74JOOTFjjPWcDrW40001V/mbx1+mNiF1oOrvbInZEWLkaqP3MfQ5FhglB2MsRj5sihPGm/pvH+5TWNFJUW+pQRVlOjkErnIdRnBde8Z+hYZGcjov06fY9V9+0Nfard4/+E9aeGnpzK0tRLJ1KhQZ4kNGAcsAowFAwVsDTTTTWj3Tuqh2ja4q6uhq6gz1CU1PT0kXqSzyvnCqMgZwCeyPbHuQDp4d5XyiNEdx7Oq7fHW1ENNHLSVkVWsMkkhQCbHEoM8TyHIfOBkN8uthvTeVDse10dwuEcjQVFbFSll9ow2SztjJwqqxwASSAPrkZm6rzUbe2vcbxS2/4+SiiMxp/WEXJAcueRBxheTe3eMDs6ido8g7krI7XX3HY0lFZbg8CrXJdYZiomZVib08BsFnTP1AJOOsax4/Im8KncF2stH4+jqqu1Oi1Pp3uNVAcFkYF0GQyjP5j6gHrXncvLFxoK/btGNqYkvUrUoM9xVBDVJOYZYzwR8qrcTzHuG6GQRrcbKuG4qe7V9g3BabqrJzqoLlUVUdVDKpfBQSJHGF7PJUI5BSelAUanGmmmmq7ulFD5MvL2yqhttx2ZTok8VfQV4eQ1isMxtxb5QY3cEYPTAhgSAtIeXvJa76ukNDbBIlloXYxMxZTUuevUK+wAGQoIyAzE45cRY/gXx8tttY3bc4I2rK1P5ArxsHp4uwX76y4xggfhxg4cjV2aaaaaa5086eNGo6iq3razH8JK6mvp8KnpOSFEi4xkMxHIe/I57BPGP8AibyzNs2oSz3h5Jtvyv0cFmo2J7ZR7lCe2Uf1jvIa91lu+zq8rVfF3q23S51NTPXSTiNbRCVDKpDsR6ShX+bKgY6BJCmWUNfR3OjjrKCrgq6WTPCaCQSI2Dg4YHBwQR/DWRppqr/KVP6G7diX6rofXtFuuDLVzNL6aUzSNGI5Hb6KrLyyflPEKSOQzPL3f6Hb6ULVzSZrq2Kip1ReRaWRsD9wAGSSfoD7nANb7utu49+7lvFPt5rNNaaKie0Tm5HknxEhSSVovTDHmnGDt8BWU4GQTr0sV2qLh4D3BQV1N8PX2O31lqqkGOIeGEgYIY5+Urk/33LHWNbDxpZdwUkVpudVefjbJPt+lSnppGZHpX4qeIRcRsuM/OwL/hXOAS2rpbXd7l5g3m1qvElCKettEtVCFHGqhVOToWxyU4Bxg4OSrDByNh5AAbyf48Q3KS2l3r0WpjMfJWaJAoHqKy5YkLgg55dd41INl0y7Yt1HtK4XeOuvSpU1jNli8sTVDH1WzkgkyLnJ7PLBbBOpZpppqP1NTcbteJLdbpa61fdlXTy1FTNQq8NfCylmiiYn+oMw7U/nnVGeWfJdNFTvsrZgpKWzomKmooCgjmDjkY4+HQT5vmI7Y5HQzy0/hvxo28Lot8uBjFlt9QA0ZCuamVcN6ZU5HDBXkSOwcD3JXqvTTTTTTXnPBDVU8tPURRzQSoUkjkUMrqRggg9EEfTXLHlnxNNs2oe8WdJJtvyv2Mlmo2J6Vj7lCelY/wBR7wW8/FvlH9F+W39wL8Ztiq5I6SJ6nw3L8RC/tRnJ5J+8kd5DXHir2dQVG4NpSSbi278PHS0FgtaIY4eLANKJVLM55epyIVmJcculys8tl6oLt6sdLVQPVU+BVUqzxySUrnPySBGYKwIYe/upxnWw015zwQ1VPLT1EUc0EqFJI5FDK6kYIIPRBH01q6Tae27fKZaLb9qppDxy8NFGhPFg47A+jKrD96g+41kWyxWeyer902qhoPWx6nwlOkXPGcZ4gZxk/wCM61/6CbP/AKKWP/u6H/V1tLbabbZqdqe12+koYGfm0dLCsSlsAZIUAZwB3+4aw6Hae27ZWR1lBt+1UlVHnhNBRRxuuRg4YDIyCR/HXpcttWG81C1F0sltrp1TgslVSpKwXJOAWBOMk9fvOlt21YbNUNUWuyW2hnZODSUtKkTFcg4JUA4yB1+4a2mmserraehiElRJx5cuCKpZ5CFLlUUZZ24qx4qCTg9artqxfKdketkqI6LYk1FKtZHVxNDVesj5EgfPAInBWDAsueasD+zWnlHynTtbl2Ts2X07LSxLTT1Ubk+sijiIkYnJjAGC2fn9vw5LxPxp40rt/wB0LuZKay07gVVWB2T7+nHnouR9fZQcnOQG63tVqobHa6e2WymjpqOnThFEnso/8SSckk9kkk9nWZppppppprznghqqeWnqIo5oJUKSRyKGV1IwQQeiCPprnjyX4Lmo3F02VSSTUnA+vbhIWeLiueUZY5cHH4clsnrIOFrfY/kG9bEukc9DPJNQFyai3vIRFMDgE49lfCjDgZGB7jIN72e/7V8iOqbSusm1Lt95x1VWqQRQ1VwVVdiOmIkB5MTy54IJZcHuSfpndLHcfht1Wn0I7he/u+zyUQ5+pGxwjy9lU+n7XI/NhAFJMwpa+jrvX+Dq4Kj0JWhm9GQP6ci/iRsHphkZB7GsjTTTTTTTTUTn3lNU3Sjptu2iS8U/3nJbrlUrKYRQSJxLFgy/OApY5HRIABywGoveo7Rte1266+UbzHebtQ1ss9pkghML9cWVVjjIDH9WhJf5VLhScYJpTf3lq+7650f+59mbgfgInDcmXvLvgFuznHS9L1kZ1IPGXhWs3J8FfNwD4ayP+sSmyVmql64/T5Y277zyIHQAYNrpehoKO2UcdHQUkFJSx54QwRiNFycnCjoZJJ/jrI00000000001W/kfxFa98+rcqZ/gb6IuKTD+bnIxxEoxk9DiGHYBGeQUDXNm69ibj2ZUFLzbpI4C/GOrj+eCTtsYcdAkKTxOGx2QNTjann/AHHY6cUt5p473AicY3kk9KdcBQMuAQwwD7qWJbJb6as/aNd4/wBwPSUm0b7V2Z1rRcZrVTS/DmolKglGVweSBUIKRHgB/wBE63n/AMRrVbv/AKVe66a9/wD88cNAR/AqwI/+4QG/bxpXeTbdZfvSW/Wu62uko7hHRQVM9K3Cr5Zy8ePdRwkY4z8oUjJYLrcNvfbSS3WNrvAPumWKGuchuEDytwQM2OP4uj38uDyxg6zKncthoqipp6u922CelQPURy1SK0KkqAXBOVBLr2f74fmNen37Z/8ACtD/ALU+N/2wn+1/9+9/5v8A43t+/WHHvHbk10tttp7xSVFXckkekSnf1RIqZ5HkuQB8rDJIyVYDJB1q4fI1rq4LBUUNBdaylvlXLTUs8FNlEKOVLSZIKqQrOOs8VYkDBGsemrd9bjo7bVxUEG2mp7rxr6OqcTvU0qEBijhcLk8gBx7wGDgfi0df+he13I3zuuO8XClvBrqJqgs1VRFlVkThESQnyhscVQkr8o61BN3faIuNZyptqUf3fD1/LKpVeY/hPSdovYYd88gg/KdVfbLJunf14laip6671zY9aokctj5Tx5yOcDpSByPeMDXQex/BFl288dffpI7zXhCPQeIGljJUZ+UglyDywzYGCDxBAOrc000000000000015zwQ1VPLT1EUc0EqFJI5FDK6kYIIPRBH01T+6/s92C405l21NJaatEwsUjtNBIQG9+RLKSSo5AkAD8JOqc3D4j3rt6sED2ae4Rt+Ce2o1QjYAJ6A5L74+YDODjIGdauwb+3XtdFis98q4IFQosDESxIC3I8Y3BUHPeQM9n8zqxLN9o7cFJwS72mhuEaRBeULNTyO4x87H5l77yAo7PWAMa2EPnnbdfWVK3jYUApa7j8dIkkc7zcB+r5KyKHwQMcm6+ntjWXX+XPFt0qLjUVu1blNPcqdaarkalh5SxqcgZ9XIIOPmGD8qd/KuPRPMXi9IqWM7UrpfhKQUcDzUMEjpAFKenyaQsV4lgQT3k59zrzk86bJoUhNo2bJzoEzbg0MMAiaRj6oUry9MFcHK55EkEDGTrLn9pO8S+l907foaXGfU+Kmeo5e2MceGPr+ecj2x3Xd68mb03DT/D3HcFW0HBkaOHjAsisMMHEYUOMfRs+5/M689veOt3bqo2rLPZJ56Ue0zskSP2R8rOQGwVIPHOPrjVz7R+zvbqPjU7rrPvCbv+R0jMkI/EO36duuJ64YII+YauihoKO2UcdHQUkFJSx54QwRiNFycnCjoZJJ/jrI000000000000000001o7/s7bm6UZb1Z6SrcoE9Zk4yqobkAsgwyjOegR7n8zqD3L7P2yK6oWWnFyt6BOJipakMpOT8x9RXOe8e+Oh176jdb9mmjkrJGoNzzwUpxwjnoxK69d5YMoPef2R/H31j/wBrN/yu/wA2/wDu6f2s3/K7/Nv/ALun9rN/yu/zb/7upRQ/Z62VSVkc80t1rY1zmCeoUI+Rjsoit179Ee35danFk2PtbbnoNabDQ080HL06j0g8y8s5/WNlz0SPf269tSDTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTX/2Q==\n\n                " alt="Logo"></div>\n                <div class="header">\n                  <h2 style="font-size: 14px;">\u{1f37d}\ufe0f NUOVO CAFFE</h2>\n                  <p style="font-size: 14px;">Mesa: <strong>${this.data.name}</strong></p>\n                  <p>${(new Date).toLocaleString()}</p>\n                </div>\n                <div class="line"></div>\n                <div class="order-list">\n                  ${this.selectedItems.map(c=>`\n                    <div class="order-item">\n                      <p>${c.name}</p>\n                      <p>x${c.quantity}</p>\n                    </div>\n                  `).join("")}\n                </div>\n                <div class="line"></div>\n                <div class="totals"><p>Aclaracion:</p></div>\n                <div class="line"></div>\n                <br><br>\n                <div class="line"></div>\n                <p style="text-align:center; font-size:8px;"><br></p>\n              </div>\n              <script>\n                window.print();\n                window.onafterprint = function() {\n                  window.close();\n                  window.opener.postMessage('closeDialog', '*');\n                   window.opener.location.reload();\n                }\n              <\/script>\n            </body>\n          </html>\n        `,s=window.open("","","width=900,height=900");s&&(s.document.write(o),s.document.close(),s.focus(),this.dialogRef.close(),location.reload()),this.gestionService.saveLog(`Se imprimi\xf3 <strong>la comanda</strong> de la mesa <strong>${this.data.name}</strong> atendida por <strong>${this.data.waiterName||"Sin asignar"}</strong>`)},e=>{console.error("Error al actualizar la mesa:",e),alert("Ocurri\xf3 un error al actualizar la mesa antes de imprimir.")}):alert("No hay \xedtems seleccionados para imprimir.")}addItem(e){const i=this.selectedItems.findIndex(r=>r._id===e._id);-1===i?this.selectedItems.push({...e,quantity:e.quantity??1}):this.selectedItems[i].quantity=(this.selectedItems[i].quantity??0)+1,this.addedItems[e._id]=!0,setTimeout(()=>{this.addedItems[e._id]=!1},2e3),this.canPrint=this.selectedItems.length>0}cancel(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||n)(O(aa),O(Oc),O(Hm))}}static{this.\u0275cmp=ht({type:n,selectors:[["app-menu-dialog"]],decls:14,vars:3,consts:[[1,"text-center","mb-4"],["fontIcon","restaurant_menu"],["type","text","placeholder","Buscar men\xfa...",1,"form-control","mb-3",3,"ngModel","ngModelChange"],[1,"container"],[1,"scrollable-menu"],["class","card mb-3 shadow-sm border-0",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","mt-4","gap-2"],[1,"btn","btn-outline-secondary","d-flex","align-items-center","gap-2",3,"click"],["fontIcon","cancel"],[1,"btn","btn-primary","d-flex","align-items-center","gap-2",3,"disabled","click"],["fontIcon","print"],[1,"card","mb-3","shadow-sm","border-0"],[1,"card-body","d-flex","justify-content-between","align-items-center"],[1,"fw-bold"],[1,"text-muted","small","m-0"],[1,"input-group","w-25"],["type","number","min","1",1,"form-control","rounded-end","shadow-sm","border-0","text-center","stylish-input",3,"value","input"],[1,"btn","btn-sm","d-flex","align-items-center","gap-2",3,"ngClass","click"],["fontIcon","add",4,"ngIf"],["fontIcon","check",4,"ngIf"],["fontIcon","add"],["fontIcon","check"]],template:function(i,r){1&i&&(H(0,"h2",0),et(1,"mat-icon",1),se(2," Selecciona Men\xfas\n"),j(),H(3,"input",2),Me("ngModelChange",function(s){return r.filterText=s}),j(),H(4,"div",3)(5,"div",4),Re(6,Tbe,13,7,"div",5),j()(),H(7,"div",6)(8,"button",7),Me("click",function(){return r.cancel()}),et(9,"mat-icon",8),se(10," Cancelar "),j(),H(11,"button",9),Me("click",function(){return r.printTicket()}),et(12,"mat-icon",10),se(13," Imprimir Comanda "),j()()),2&i&&(ue(3),ye("ngModel",r.filterText),ue(3),ye("ngForOf",r.filteredMenuItems),ue(5),ye("disabled",0===r.selectedItems.length||!r.canPrint))},dependencies:[Yk,_c,Rs,td,Wu,Gm,Gb],styles:['@charset "UTF-8";.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.quantity-input[_ngcontent-%COMP%]{width:80px;margin-left:16px}.ticket[_ngcontent-%COMP%]{font-family:Courier New,monospace;width:80mm;padding:10px;border:1px dashed #000}.title[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:16px}p[_ngcontent-%COMP%], .thanks[_ngcontent-%COMP%]{text-align:center;margin:5px 0}.item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:5px 0}.quantity[_ngcontent-%COMP%], .price[_ngcontent-%COMP%]{text-align:right;font-size:12px}.footer[_ngcontent-%COMP%]{margin-top:10px;font-weight:700;text-align:center}@media print{body[_ngcontent-%COMP%]{margin:0}.no-print[_ngcontent-%COMP%]{display:none}}.scrollable-menu[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;padding-right:10px}']})}}return n})();class $b{constructor(t){return t}}class p1{constructor(){return(0,to.getApps)()}}const g1=new de("angularfire2._apps"),Abe={provide:$b,useFactory:function Cbe(n){return n&&1===n.length?n[0]:new $b((0,to.getApp)())},deps:[[new Fr,g1]]},kbe={provide:p1,deps:[[new Fr,g1]]};function Sbe(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new $b(i)}}let Dbe=(()=>{class n{constructor(e){(0,to.registerVersion)("angularfire",fu.full,"core"),(0,to.registerVersion)("angularfire",fu.full,"app"),(0,to.registerVersion)("angular",TA.full,e.toString())}static \u0275fac=function(i){return new(i||n)(Y(Oo))};static \u0275mod=ct({type:n});static \u0275inj=ut({providers:[Abe,kbe]})}return n})();function Rbe(n,...t){return{ngModule:Dbe,providers:[{provide:g1,useFactory:Sbe(n),multi:!0,deps:[Ge,Fn,R_,...t]}]}}const Mbe=Ms(to.initializeApp,!0),V8=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t},B8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],s=r+1<n.length,a=s?n[r+1]:0,c=r+2<n.length,l=c?n[r+2]:0;let p=(15&a)<<2|l>>6,b=63&l;c||(b=64,s||(p=64)),i.push(e[o>>2],e[(3&o)<<4|a>>4],e[p],e[b])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(V8(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const c=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(c>>10)),t[i++]=String.fromCharCode(56320+(1023&c))}else{const o=n[e++],s=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],a=r<n.length?e[n.charAt(r)]:0;++r;const l=r<n.length?e[n.charAt(r)]:64;++r;const u=r<n.length?e[n.charAt(r)]:64;if(++r,null==o||null==a||null==l||null==u)throw new Fbe;i.push(o<<2|a>>4),64!==l&&(i.push(a<<4&240|l>>2),64!==u&&i.push(l<<6&192|u))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Fbe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rI=function(n){return function(n){const t=V8(n);return B8.encodeByteArray(t,!0)}(n).replace(/\./g,"")},Kb=function(n){try{return B8.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function us(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class rd extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,rd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qb.prototype.create)}}class Qb{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],s=o?function tve(n,t){return n.replace(nve,(e,i)=>{const r=t[i];return null!=r?String(r):`<${i}?>`})}(o,i):"Error";return new rd(r,`${this.serviceName}: ${s} (${r}).`,i)}}const nve=/\{\$([^}]+)}/g;function b1(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}class ove{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");r=function sve(n,t){if("object"!=typeof n||null===n)return!1;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:i},void 0===r.next&&(r.next=v1),void 0===r.error&&(r.error=v1),void 0===r.complete&&(r.complete=v1);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v1(){}function Yb(n){return n&&n._delegate?n._delegate:n}class Qm{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const w1=[];var Yn=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Yn||{});const H8={debug:Yn.DEBUG,verbose:Yn.VERBOSE,info:Yn.INFO,warn:Yn.WARN,error:Yn.ERROR,silent:Yn.SILENT},pve=Yn.INFO,gve={[Yn.DEBUG]:"log",[Yn.VERBOSE]:"log",[Yn.INFO]:"info",[Yn.WARN]:"warn",[Yn.ERROR]:"error"},_ve=(n,t,...e)=>{if(t<n.logLevel)return;const i=(new Date).toISOString(),r=gve[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${n.name}:`,...e)};class W8{constructor(t){this.name=t,this._logLevel=pve,this._logHandler=_ve,this._userLogHandler=null,w1.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Yn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?H8[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Yn.DEBUG,...t),this._logHandler(this,Yn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Yn.VERBOSE,...t),this._logHandler(this,Yn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Yn.INFO,...t),this._logHandler(this,Yn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Yn.WARN,...t),this._logHandler(this,Yn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Yn.ERROR,...t),this._logHandler(this,Yn.ERROR,...t)}}var bve=rt(749);class vve{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function yve(n){const t=n.getComponent();return"VERSION"===t?.type}(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}return null}).filter(e=>e).join(" ")}}const aI="@firebase/app",Fc=new W8("@firebase/app"),Kve={[aI]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Qu=new Map,Xb=new Map,Jb=new Map;function q8(n,t){try{n.container.addComponent(t)}catch(e){Fc.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Zb(n){const t=n.name;if(Jb.has(t))return Fc.debug(`There were multiple attempts to register component ${t}.`),!1;Jb.set(t,n);for(const e of Qu.values())q8(e,n);for(const e of Xb.values())q8(e,n);return!0}function od(n){return null!=n&&void 0!==n.settings}const Ls=new Qb("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."}),E1="11.3.0";function Ym(n,t,e){var i;let r=null!==(i=Kve[n])&&void 0!==i?i:n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${r}" with version "${t}":`];return o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Fc.warn(a.join(" "))}Zb(new Qm(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const tye="firebase-heartbeat-database",nye=1,ev="firebase-heartbeat-store";let T1=null;function K8(){return T1||(T1=(0,bve.P2)(tye,nye,{upgrade:(n,t)=>{if(0===t)try{n.createObjectStore(ev)}catch(e){console.warn(e)}}}).catch(n=>{throw Ls.create("idb-open",{originalErrorMessage:n.message})})),T1}function C1(){return(C1=(0,G.A)(function*(n){try{const e=(yield K8()).transaction(ev),i=yield e.objectStore(ev).get(Y8(n));return yield e.done,i}catch(t){if(t instanceof rd)Fc.warn(t.message);else{const e=Ls.create("idb-get",{originalErrorMessage:t?.message});Fc.warn(e.message)}}})).apply(this,arguments)}function Q8(n,t){return A1.apply(this,arguments)}function A1(){return(A1=(0,G.A)(function*(n,t){try{const i=(yield K8()).transaction(ev,"readwrite");yield i.objectStore(ev).put(t,Y8(n)),yield i.done}catch(e){if(e instanceof rd)Fc.warn(e.message);else{const i=Ls.create("idb-set",{originalErrorMessage:e?.message});Fc.warn(i.message)}}})).apply(this,arguments)}function Y8(n){return`${n.name}!${n.options.appId}`}class sye{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new cye(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var t=this;return(0,G.A)(function*(){var e,i;try{const o=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=X8();if(null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(t._heartbeatsCache=yield t._heartbeatsCachePromise,null==(null===(i=t._heartbeatsCache)||void 0===i?void 0:i.heartbeats))||t._heartbeatsCache.lastSentHeartbeatDate===s||t._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(t._heartbeatsCache.heartbeats.push({date:s,agent:o}),t._heartbeatsCache.heartbeats.length>30){const a=function lye(n){if(0===n.length)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}(t._heartbeatsCache.heartbeats);t._heartbeatsCache.heartbeats.splice(a,1)}return t._storage.overwrite(t._heartbeatsCache)}catch(r){Fc.warn(r)}})()}getHeartbeatsHeader(){var t=this;return(0,G.A)(function*(){var e;try{if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const i=X8(),{heartbeatsToSend:r,unsentEntries:o}=function aye(n,t=1024){const e=[];let i=n.slice();for(const r of n){const o=e.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),J8(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),J8(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}(t._heartbeatsCache.heartbeats),s=rI(JSON.stringify({version:2,heartbeats:r}));return t._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(t._heartbeatsCache.heartbeats=o,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),s}catch(i){return Fc.warn(i),""}})()}}function X8(){return(new Date).toISOString().substring(0,10)}class cye{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,G.A)(function*(){return!!function Jbe(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Zbe(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t((null===(o=r.error)||void 0===o?void 0:o.message)||"")}}catch(e){t(e)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return(0,G.A)(function*(){if(yield t._canUseIndexedDBPromise){const i=yield function iye(n){return C1.apply(this,arguments)}(t.app);return i?.heartbeats?i:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var e=this;return(0,G.A)(function*(){var i;if(yield e._canUseIndexedDBPromise){const o=yield e.read();return Q8(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var e=this;return(0,G.A)(function*(){var i;if(yield e._canUseIndexedDBPromise){const o=yield e.read();return Q8(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}})()}}function J8(n){return rI(JSON.stringify({version:2,heartbeats:n})).length}!function dye(n){Zb(new Qm("platform-logger",t=>new vve(t),"PRIVATE")),Zb(new Qm("heartbeat",t=>new sye(t),"PRIVATE")),Ym(aI,"0.11.0",n),Ym(aI,"0.11.0","esm2017"),Ym("fire-js","")}("");const uye=function Z8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},eG=new Qb("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),lI=new W8("@firebase/auth");function dI(n,...t){lI.logLevel<=Yn.ERROR&&lI.error(`Auth (${E1}): ${n}`,...t)}function jo(n,...t){throw S1(n,...t)}function Vs(n,...t){return S1(n,...t)}function k1(n,t,e){const i=Object.assign(Object.assign({},uye()),{[t]:e});return new Qb("auth","Firebase",i).create(t,{appName:n.name})}function Rr(n){return k1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S1(n,...t){if("string"!=typeof n){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return eG.create(n,...t)}function Fe(n,t,...e){if(!n)throw S1(t,...e)}function Wa(n){const t="INTERNAL ASSERTION FAILED: "+n;throw dI(t),new Error(t)}function sd(n,t){n||Wa(t)}function tG(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function fye(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function D1(){return"http:"===tG()||"https:"===tG()}()||function Ybe(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class nv{constructor(t,e){this.shortDelay=t,this.longDelay=e,sd(e>t,"Short delay should be less than long delay!"),this.isMobile=function Gbe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(us())}()||function Xbe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return fye()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class nG{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Wa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Wa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Wa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},gye=new nv(3e4,6e4);function _i(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function bi(n,t,e,i){return M1.apply(this,arguments)}function M1(){return(M1=(0,G.A)(function*(n,t,e,i,r={}){return iG(n,r,(0,G.A)(function*(){let o={},s={};i&&("GET"===t?s=i:o={body:JSON.stringify(i)});const a=b1(Object.assign({key:n.config.apiKey},s)).slice(1),c=yield n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const l=Object.assign({method:t,headers:c},o);return function Qbe(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(l.referrerPolicy="no-referrer"),nG.fetch()(rG(n,n.config.apiHost,e,a),l)}))})).apply(this,arguments)}function iG(n,t,e){return P1.apply(this,arguments)}function P1(){return(P1=(0,G.A)(function*(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},pye),t);try{const r=new bye(n),o=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw iv(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw iv(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw iv(n,"email-already-in-use",s);if("USER_DISABLED"===c)throw iv(n,"user-disabled",s);const d=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw k1(n,d,l);jo(n,d)}}catch(r){if(r instanceof rd)throw r;jo(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function rG(n,t,e,i){const r=`${t}${e}?${i}`;return n.config.emulator?function R1(n,t){sd(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}(n.config,r):`${n.config.apiScheme}://${r}`}class bye{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Vs(this.auth,"network-request-failed")),gye.get())})}}function iv(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Vs(n,t,i);return r.customData._tokenResponse=e,r}function L1(){return(L1=(0,G.A)(function*(n,t){return bi(n,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function lG(n,t){return B1.apply(this,arguments)}function B1(){return(B1=(0,G.A)(function*(n,t){return bi(n,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function rv(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function U1(){return(U1=(0,G.A)(function*(n,t=!1){const e=Yb(n),i=yield e.getIdToken(t),r=uI(i);Fe(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:rv(j1(r.auth_time)),issuedAtTime:rv(j1(r.iat)),expirationTime:rv(j1(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function j1(n){return 1e3*Number(n)}function uI(n){const[t,e,i]=n.split(".");if(void 0===t||void 0===e||void 0===i)return dI("JWT malformed, contained fewer than 3 sections"),null;try{const r=Kb(e);return r?JSON.parse(r):(dI("Failed to decode base64 JWT payload"),null)}catch(r){return dI("Caught error parsing JWT payload as JSON",r?.toString()),null}}function dG(n){const t=uI(n);return Fe(t,"internal-error"),Fe(typeof t.exp<"u","internal-error"),Fe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Vc(n,t){return z1.apply(this,arguments)}function z1(){return(z1=(0,G.A)(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(i){throw i instanceof rd&&function Eye({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class Iye{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout((0,G.A)(function*(){yield e.iteration()}),i)}iteration(){var t=this;return(0,G.A)(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class H1{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=rv(this.lastLoginAt),this.creationTime=rv(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ov(n){return W1.apply(this,arguments)}function W1(){return(W1=(0,G.A)(function*(n){var t;const e=n.auth,i=yield n.getIdToken(),r=yield Vc(n,lG(e,{idToken:i}));Fe(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const s=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?uG(o.providerUserInfo):[],a=function Cye(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}(n.providerData,s),d=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),u={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new H1(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,u)})).apply(this,arguments)}function q1(){return(q1=(0,G.A)(function*(n){const t=Yb(n);yield ov(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function uG(n){return n.map(t=>{var{providerId:e}=t,i=(0,st.Tt)(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function G1(){return(G1=(0,G.A)(function*(n,t){const e=yield iG(n,{},(0,G.A)(function*(){const i=b1({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=rG(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nG.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}function $1(){return($1=(0,G.A)(function*(n,t){return bi(n,"POST","/v2/accounts:revokeToken",_i(n,t))})).apply(this,arguments)}class Jm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Fe(t.idToken,"internal-error"),Fe(typeof t.idToken<"u","internal-error"),Fe(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):dG(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Fe(0!==t.length,"internal-error");const e=dG(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){var i=this;return(0,G.A)(function*(){return e||!i.accessToken||i.isExpired?(Fe(i.refreshToken,t,"user-token-expired"),i.refreshToken?(yield i.refresh(t,i.refreshToken),i.accessToken):null):i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var i=this;return(0,G.A)(function*(){const{accessToken:r,refreshToken:o,expiresIn:s}=yield function Aye(n,t){return G1.apply(this,arguments)}(t,e);i.updateTokensAndExpiration(r,o,Number(s))})()}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,s=new Jm;return i&&(Fe("string"==typeof i,"internal-error",{appName:t}),s.refreshToken=i),r&&(Fe("string"==typeof r,"internal-error",{appName:t}),s.accessToken=r),o&&(Fe("number"==typeof o,"internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Jm,this.toJSON())}_performRefresh(){return Wa("not implemented")}}function ad(n,t){Fe("string"==typeof n||typeof n>"u","internal-error",{appName:t})}class Bc{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,o=(0,st.Tt)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Iye(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new H1(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){var e=this;return(0,G.A)(function*(){const i=yield Vc(e,e.stsTokenManager.getToken(e.auth,t));return Fe(i,e.auth,"internal-error"),e.accessToken!==i&&(e.accessToken=i,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),i})()}getIdTokenResult(t){return function xye(n){return U1.apply(this,arguments)}(this,t)}reload(){return function Tye(n){return q1.apply(this,arguments)}(this)}_assign(t){this!==t&&(Fe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Bc(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var i=this;return(0,G.A)(function*(){let r=!1;t.idToken&&t.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield ov(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var t=this;return(0,G.A)(function*(){if(od(t.auth.app))return Promise.reject(Rr(t.auth));const e=yield t.getIdToken();return yield Vc(t,function yye(n,t){return L1.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,o,s,a,c,l,d;const u=null!==(i=e.displayName)&&void 0!==i?i:void 0,p=null!==(r=e.email)&&void 0!==r?r:void 0,b=null!==(o=e.phoneNumber)&&void 0!==o?o:void 0,v=null!==(s=e.photoURL)&&void 0!==s?s:void 0,w=null!==(a=e.tenantId)&&void 0!==a?a:void 0,x=null!==(c=e._redirectEventId)&&void 0!==c?c:void 0,P=null!==(l=e.createdAt)&&void 0!==l?l:void 0,S=null!==(d=e.lastLoginAt)&&void 0!==d?d:void 0,{uid:B,emailVerified:$,isAnonymous:J,providerData:te,stsTokenManager:V}=e;Fe(B&&V,t,"internal-error");const R=Jm.fromJSON(this.name,V);Fe("string"==typeof B,t,"internal-error"),ad(u,t.name),ad(p,t.name),Fe("boolean"==typeof $,t,"internal-error"),Fe("boolean"==typeof J,t,"internal-error"),ad(b,t.name),ad(v,t.name),ad(w,t.name),ad(x,t.name),ad(P,t.name),ad(S,t.name);const L=new Bc({uid:B,auth:t,email:p,emailVerified:$,displayName:u,isAnonymous:J,photoURL:v,phoneNumber:b,tenantId:w,stsTokenManager:R,createdAt:P,lastLoginAt:S});return te&&Array.isArray(te)&&(L.providerData=te.map(q=>Object.assign({},q))),x&&(L._redirectEventId=x),L}static _fromIdTokenResponse(t,e,i=!1){return(0,G.A)(function*(){const r=new Jm;r.updateFromServerResponse(e);const o=new Bc({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield ov(o),o})()}static _fromGetAccountInfoResponse(t,e,i){return(0,G.A)(function*(){const r=e.users[0];Fe(void 0!==r.localId,"internal-error");const o=void 0!==r.providerUserInfo?uG(r.providerUserInfo):[],s=!(r.email&&r.passwordHash||o?.length),a=new Jm;a.updateFromIdToken(i);const c=new Bc({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new H1(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||o?.length)};return Object.assign(c,l),c})()}}const hG=new Map;function Uc(n){sd(n instanceof Function,"Expected a class definition");let t=hG.get(n);return t?(sd(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,hG.set(n,t),t)}const fG=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,G.A)(function*(){return!0})()}_set(e,i){var r=this;return(0,G.A)(function*(){r.storage[e]=i})()}_get(e){var i=this;return(0,G.A)(function*(){const r=i.storage[e];return void 0===r?null:r})()}_remove(e){var i=this;return(0,G.A)(function*(){delete i.storage[e]})()}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})();function hI(n,t,e){return`firebase:${n}:${t}:${e}`}class Zm{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=hI(this.userKey,r.apiKey,o),this.fullPersistenceKey=hI("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return(0,G.A)(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?Bc._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return(0,G.A)(function*(){if(e.persistence===t)return;const i=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,i?e.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return(0,G.A)(function*(){if(!e.length)return new Zm(Uc(fG),t,i);const r=(yield Promise.all(e.map(function(){var l=(0,G.A)(function*(d){if(yield d._isAvailable())return d});return function(d){return l.apply(this,arguments)}}()))).filter(l=>l);let o=r[0]||Uc(fG);const s=hI(i,t.config.apiKey,t.name);let a=null;for(const l of e)try{const d=yield l._get(s);if(d){const u=Bc._fromJSON(t,d);l!==o&&(a=u),o=l;break}}catch{}const c=r.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(e.map(function(){var l=(0,G.A)(function*(d){if(d!==o)try{yield d._remove(s)}catch{}});return function(d){return l.apply(this,arguments)}}())),new Zm(o,t,i)):new Zm(o,t,i)})()}}function mG(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(function bG(n=us()){return/iemobile/i.test(n)}(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(function pG(n=us()){return/firefox\//i.test(n)}(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(function yG(n=us()){return/blackberry/i.test(n)}(t))return"Blackberry";if(function wG(n=us()){return/webos/i.test(n)}(t))return"Webos";if(function gG(n=us()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}(t))return"Safari";if((t.includes("chrome/")||function _G(n=us()){return/crios\//i.test(n)}(t))&&!t.includes("edge/"))return"Chrome";if(function vG(n=us()){return/android/i.test(n)}(t))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function xG(n,t=[]){let e;switch(n){case"Browser":e=mG(us());break;case"Worker":e=`${mG(us())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${E1}/${i}`}class Rye{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((s,a)=>{try{s(t(o))}catch(c){a(c)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return(0,G.A)(function*(){if(e.auth.currentUser===t)return;const i=[];try{for(const r of e.queue)yield r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}function Q1(){return(Q1=(0,G.A)(function*(n,t={}){return bi(n,"GET","/v2/passwordPolicy",_i(n,t))})).apply(this,arguments)}class Oye{constructor(t){var e,i,r,o;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=s.minPasswordLength)&&void 0!==e?e:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(i=t.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(o=t.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=null===(e=c.meetsMinPasswordLength)||void 0===e||e),c.isValid&&(c.isValid=null===(i=c.meetsMaxPasswordLength)||void 0===i||i),c.isValid&&(c.isValid=null===(r=c.containsLowercaseLetter)||void 0===r||r),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){let i;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class Nye{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EG(this),this.idTokenSubscription=new EG(this),this.beforeStateQueue=new Rye(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eG,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){var i=this;return e&&(this._popupRedirectResolver=Uc(e)),this._initializationPromise=this.queue((0,G.A)(function*(){var r,o;if(!i._deleted&&(i.persistenceManager=yield Zm.create(i,t),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(e),i.lastNotifiedUid=(null===(o=i.currentUser)||void 0===o?void 0:o.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return(0,G.A)(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUserFromIdToken(t){var e=this;return(0,G.A)(function*(){try{const i=yield lG(e,{idToken:t}),r=yield Bc._fromGetAccountInfoResponse(e,i,t);yield e.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),yield e.directlySetCurrentUser(null)}})()}initializeCurrentUser(t){var e=this;return(0,G.A)(function*(){var i;if(od(e.app)){const a=e.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>e.initializeCurrentUserFromIdToken(a).then(c,c))}):e.directlySetCurrentUser(null)}const r=yield e.assertedPersistence.getCurrentUser();let o=r,s=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const a=null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId,c=o?._redirectEventId,l=yield e.tryRedirectSignIn(t);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return e.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield e.beforeStateQueue.runMiddleware(o)}catch(a){o=r,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(a))}return o?e.reloadAndSetCurrentUserOrClear(o):e.directlySetCurrentUser(null)}return Fe(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===o._redirectEventId?e.directlySetCurrentUser(o):e.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(t){var e=this;return(0,G.A)(function*(){let i=null;try{i=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(t){var e=this;return(0,G.A)(function*(){try{yield ov(t)}catch(i){if("auth/network-request-failed"!==i?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function mye(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return(0,G.A)(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return(0,G.A)(function*(){if(od(e.app))return Promise.reject(Rr(e));const i=t?Yb(t):null;return i&&Fe(i.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(i&&i._clone(e))})()}_updateCurrentUser(t,e=!1){var i=this;return(0,G.A)(function*(){if(!i._deleted)return t&&Fe(i.tenantId===t.tenantId,i,"tenant-id-mismatch"),e||(yield i.beforeStateQueue.runMiddleware(t)),i.queue((0,G.A)(function*(){yield i.directlySetCurrentUser(t),i.notifyAuthListeners()}))})()}signOut(){var t=this;return(0,G.A)(function*(){return od(t.app)?Promise.reject(Rr(t)):(yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0))})()}setPersistence(t){var e=this;return od(this.app)?Promise.reject(Rr(this)):this.queue((0,G.A)(function*(){yield e.assertedPersistence.setPersistence(Uc(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var e=this;return(0,G.A)(function*(){e._getPasswordPolicyInternal()||(yield e._updatePasswordPolicy());const i=e._getPasswordPolicyInternal();return i.schemaVersion!==e.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(e._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return(0,G.A)(function*(){const e=yield function Mye(n){return Q1.apply(this,arguments)}(t),i=new Oye(e);null===t.tenantId?t._projectPasswordPolicy=i:t._tenantPasswordPolicies[t.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Qb("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}revokeAccessToken(t){var e=this;return(0,G.A)(function*(){if(e.currentUser){const i=yield e.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};null!=e.tenantId&&(r.tenantId=e.tenantId),yield function kye(n,t){return $1.apply(this,arguments)}(e,r)}})()}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var i=this;return(0,G.A)(function*(){const r=yield i.getOrInitRedirectPersistenceManager(e);return null===t?r.removeCurrentUser():r.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return(0,G.A)(function*(){if(!e.redirectPersistenceManager){const i=t&&Uc(t)||e._popupRedirectResolver;Fe(i,e,"argument-error"),e.redirectPersistenceManager=yield Zm.create(e,[Uc(i._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return(0,G.A)(function*(){var i,r;return e._isInitialized&&(yield e.queue((0,G.A)(function*(){}))),(null===(i=e._currentUser)||void 0===i?void 0:i._redirectEventId)===t?e._currentUser:(null===(r=e.redirectUser)||void 0===r?void 0:r._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return(0,G.A)(function*(){if(t===e.currentUser)return e.queue((0,G.A)(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o="function"==typeof e?e:e.next.bind(e);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof e){const c=t.addObserver(e,i,r);return()=>{s=!0,c()}}{const c=t.addObserver(e);return()=>{s=!0,c()}}}directlySetCurrentUser(t){var e=this;return(0,G.A)(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=xG(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return(0,G.A)(function*(){var e;const i={"X-Client-Version":t.clientVersion};t.app.options.appId&&(i["X-Firebase-gmpid"]=t.app.options.appId);const r=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const o=yield t._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i})()}_getAppCheckToken(){var t=this;return(0,G.A)(function*(){var e;if(od(t.app)&&t.app.settings.appCheckToken)return t.app.settings.appCheckToken;const i=yield null===(e=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken();return i?.error&&function hye(n,...t){lI.logLevel<=Yn.WARN&&lI.warn(`Auth (${E1}): ${n}`,...t)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}class EG{constructor(t){this.auth=t,this.observer=null,this.addObserver=function rve(n,t){const e=new ove(n,t);return e.subscribe.bind(e)}(e=>this.observer=e)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sv={loadJS:()=>(0,G.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UG(n,t,e,i){return Yb(n).onIdTokenChanged(t,e,i)}(function IG(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new nv(3e4,6e4),new nv(2e3,1e4),new nv(3e4,6e4),new nv(5e3,15e3),encodeURIComponent("fac");var s9="@firebase/auth";class Nwe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return(0,G.A)(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function l9(n){return new at(function(t){return{unsubscribe:UG(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}(()=>{try{return function Bbe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Kb(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}})(),function Fye(n){sv=n}({loadJS:n=>new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=Vs("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",function jwe(){var n,t;return null!==(t=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==t?t:document}().appendChild(i)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Lwe(n){Zb(new Qm("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;Fe(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xG(n)},l=new Nye(i,r,o,c);return function Qye(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Uc);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}(l,e),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Zb(new Qm("auth-internal",t=>{const e=function Ji(n){return Yb(n)}(t.getProvider("auth").getImmediate());return new Nwe(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ym(s9,"1.9.0",function Fwe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),Ym(s9,"1.9.0","esm2017")}("Browser");var Ju=rt(443);class gv{constructor(t){return t}}class u9{constructor(){return US("auth")}}const BO=new de("angularfire2.auth-instances");function Hwe(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new gv(i)}}const Wwe={provide:u9,deps:[[new Fr,BO]]},qwe={provide:gv,useFactory:function zwe(n,t){const e=L4("auth",n,t);return e&&new gv(e)},deps:[[new Fr,BO],$b]};let Gwe=(()=>{class n{constructor(){(0,to.registerVersion)("angularfire",fu.full,"auth")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ct({type:n});static \u0275inj=ut({providers:[qwe,Wwe]})}return n})();function $we(n,...t){return{ngModule:Gwe,providers:[{provide:BO,useFactory:Hwe(n),multi:!0,deps:[Ge,Fn,R_,p1,[new Fr,px],...t]}]}}const Kwe=Ms(l9,!0),Qwe=Ms(Ju.aa,!0),Ywe=Ms(Ju.o,!0),Xwe=Ms(Ju.y,!0),Jwe=Ms(Ju.ab,!0),Zwe=Ms(Ju.c,!0),exe=Ms(Ju.C,!0);class II{constructor(t){return t}}const h9="firestore",UO=new de("angularfire2.firestore-instances");function ixe(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new II(i)}}const rxe={provide:class txe{constructor(){return US(h9)}},deps:[[new Fr,UO]]},oxe={provide:II,useFactory:function nxe(n,t){const e=L4(h9,n,t);return e&&new II(e)},deps:[[new Fr,UO],$b]};let sxe=(()=>{class n{constructor(){(0,to.registerVersion)("angularfire",fu.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ct({type:n});static \u0275inj=ut({providers:[oxe,rxe]})}return n})();function axe(n,...t){return{ngModule:sxe,providers:[{provide:UO,useFactory:ixe(n),multi:!0,deps:[Ge,Fn,R_,p1,[new Fr,u9],[new Fr,px],...t]}]}}const f9=Ms(db,!0),cxe=Ms(O6,!0),lxe=Ms(ffe,!0),dxe=Ms(lM,!0);let tp=(()=>{class n{constructor(e,i){var r=this;this.auth=e,this.firestore=i,this.authState=new k(null),this.roleState=new k(null),Xwe(this.auth,function(){var o=(0,G.A)(function*(s){if(r.authState.next(s),s){const a=yield r.getUserRole(s.uid);r.roleState.next(a)}else r.roleState.next(null)});return function(s){return o.apply(this,arguments)}}())}register({email:e,password:i},r="user"){var o=this;return(0,G.A)(function*(){const s=yield Qwe(o.auth,e,i);return s.user&&(yield o.setUserRole(s.user.uid,r)),s})()}login({email:e,password:i}){return Jwe(this.auth,e,i)}loginWithGoogle(){return Zwe(this.auth,new Ju.X)}logout(){return exe(this.auth)}getAuthState(){return this.authState.asObservable()}isAuthenticated(){return null!==this.authState.value}getRoleState(){return this.roleState.asObservable()}getUserRole(e){var i=this;return(0,G.A)(function*(){const r=f9(i.firestore,`users/${e}`),o=yield cxe(r);return o.exists()?o.data().role:null})()}setUserRole(e,i){var r=this;return(0,G.A)(function*(){console.log(e,"uuid");const o=f9(r.firestore,`users/${e}`);yield dxe(o,{role:i},{merge:!0})})()}static{this.\u0275fac=function(i){return new(i||n)(Y(gv),Y(II))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const uxe=["mat-button",""],hxe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],fxe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],pxe=["mat-icon-button",""],gxe=["*"],_xe=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],bxe=LE(oq(sq(class{constructor(n){this._elementRef=n}})));let m9=(()=>{class n extends bxe{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=cn(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=cn(e),this._updateRippleDisabled()}constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=De(zm),this._rippleLoader=De(n_e),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=e.nativeElement.classList;for(const a of _xe)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(c=>{s.add(c)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){Ug()}}static{this.\u0275dir=_e({type:n,features:[We]})}}return n})(),Zu=(()=>{class n extends m9{constructor(e,i,r,o){super(e,i,r,o)}static{this.\u0275fac=function(i){return new(i||n)(O(ft),O(Oi),O(Ge),O(Jr,8))}}static{this.\u0275cmp=ht({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Sn("disabled",r.disabled||null),Xt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[We],attrs:uxe,ngContentSelectors:fxe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(nr(hxe),et(0,"span",0),Tt(1),H(2,"span",1),Tt(3,1),j(),Tt(4,2),et(5,"span",2)(6,"span",3)),2&i&&Xt("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})(),p9=(()=>{class n extends m9{constructor(e,i,r,o){super(e,i,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(i){return new(i||n)(O(ft),O(Oi),O(Ge),O(Jr,8))}}static{this.\u0275cmp=ht({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Sn("disabled",r.disabled||null),Xt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[We],attrs:pxe,ngContentSelectors:gxe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(nr(),et(0,"span",0),Tt(1),et(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})(),g9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[wn,BE,wn]})}}return n})(),wxe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[wn,wn]})}}return n})();function jO(n){return n&&"function"==typeof n.connect&&!(n instanceof Gw)}class b9{applyChanges(t,e,i,r,o){t.forEachOperation((s,a,c)=>{let l,d;if(null==s.previousIndex){const u=i(s,a,c);l=e.createEmbeddedView(u.templateRef,u.context,u.index),d=1}else null==c?(e.remove(a),d=3):(l=e.get(a),e.move(l,c),d=2);o&&o({context:l?.context,operation:d,record:s})})}detach(){}}class y9{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new K,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}let w9=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const _v=new de("_ViewRepeater"),xxe=["*"],Ixe=["unscopedContent"];function Txe(n,t){1&n&&Tt(0,4)}function Cxe(n,t){if(1&n&&(H(0,"div",11),et(1,"input",12),H(2,"div",13),function fg(){pt.lFrame.currentNamespace=Lh}(),H(3,"svg",14),et(4,"path",15),j(),function mg(){!function RC(){pt.lFrame.currentNamespace=null}()}(),et(5,"div",16),j()()),2&n){const e=Oe();Xt("mdc-checkbox--disabled",e.disabled),ue(1),ye("checked",e.selected)("disabled",e.disabled)}}function Axe(n,t){if(1&n&&(H(0,"div",17),et(1,"input",18),H(2,"div",19),et(3,"div",20)(4,"div",21),j()()),2&n){const e=Oe();Xt("mdc-radio--disabled",e.disabled),ue(1),ye("checked",e.selected)("disabled",e.disabled)}}function kxe(n,t){}function Sxe(n,t){if(1&n&&(H(0,"span",22),Re(1,kxe,0,0,"ng-template",23),j()),2&n){Oe();const e=rs(3);ue(1),ye("ngTemplateOutlet",e)}}function Dxe(n,t){}function Rxe(n,t){if(1&n&&(H(0,"span",24),Re(1,Dxe,0,0,"ng-template",23),j()),2&n){Oe();const e=rs(5);ue(1),ye("ngTemplateOutlet",e)}}function Mxe(n,t){}function Pxe(n,t){1&n&&Re(0,Mxe,0,0,"ng-template",23),2&n&&(Oe(),ye("ngTemplateOutlet",rs(1)))}function Oxe(n,t){}function Nxe(n,t){if(1&n&&(H(0,"span",25),Re(1,Oxe,0,0,"ng-template",23),j()),2&n){Oe();const e=rs(3);ue(1),ye("ngTemplateOutlet",e)}}function Fxe(n,t){}function Lxe(n,t){if(1&n&&(H(0,"span",25),Re(1,Fxe,0,0,"ng-template",23),j()),2&n){Oe();const e=rs(5);ue(1),ye("ngTemplateOutlet",e)}}function Vxe(n,t){}function Bxe(n,t){1&n&&Re(0,Vxe,0,0,"ng-template",23),2&n&&(Oe(),ye("ngTemplateOutlet",rs(1)))}const Uxe=[[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["mat-divider"]],[["","matListItemAvatar",""],["","matListItemIcon",""]]],jxe=["[matListItemTitle]","[matListItemLine]","*","mat-divider","[matListItemAvatar],[matListItemIcon]"],x9=new de("ListOption");let zxe=(()=>{class n{constructor(e){this._elementRef=e}static{this.\u0275fac=function(i){return new(i||n)(O(ft))}}static{this.\u0275dir=_e({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}}return n})(),Hxe=(()=>{class n{constructor(e){this._elementRef=e}static{this.\u0275fac=function(i){return new(i||n)(O(ft))}}static{this.\u0275dir=_e({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}}return n})(),E9=(()=>{class n{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static{this.\u0275fac=function(i){return new(i||n)(O(x9,8))}}static{this.\u0275dir=_e({type:n,hostVars:4,hostBindings:function(i,r){2&i&&Xt("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())}})}}return n})(),Wxe=(()=>{class n extends E9{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(n)))(r||n)}}()}static{this.\u0275dir=_e({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[We]})}}return n})(),qxe=(()=>{class n extends E9{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(n)))(r||n)}}()}static{this.\u0275dir=_e({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[We]})}}return n})();const Gxe=new de("MAT_LIST_CONFIG");let zO=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=De(Gxe,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=cn(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=cn(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,hostVars:1,hostBindings:function(i,r){2&i&&Sn("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}}return n})(),I9=(()=>{class n{set lines(e){this._explicitLines=Ib(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=cn(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=cn(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,i,r,o,s,a){this._elementRef=e,this._ngZone=i,this._listBase=r,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new kt,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=s||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===a,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Nb(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(E(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const o=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!(!e.textContent||!e.textContent.trim()))}static{this.\u0275fac=function(i){return new(i||n)(O(ft),O(Ge),O(zO,8),O(Oi),O(VE,8),O(Jr,8))}}static{this.\u0275dir=_e({type:n,contentQueries:function(i,r,o){if(1&i&&($n(o,Wxe,4),$n(o,qxe,4)),2&i){let s;gt(s=_t())&&(r._avatars=s),gt(s=_t())&&(r._icons=s)}},hostVars:4,hostBindings:function(i,r){2&i&&(Sn("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),Xt("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}}return n})();const T9=new de("SelectionList");let C9=(()=>{class n extends I9{get checkboxPosition(){return this.togglePosition}set checkboxPosition(e){this.togglePosition=e}get color(){return this._color||this._selectionList.color}set color(e){this._color=e}get value(){return this._value}set value(e){this.selected&&e!==this.value&&this._inputsInitialized&&(this.selected=!1),this._value=e}get selected(){return this._selectionList.selectedOptions.isSelected(this)}set selected(e){const i=cn(e);i!==this._selected&&(this._setSelected(i),(i||this._selectionList.multiple)&&this._selectionList._reportValueChange())}constructor(e,i,r,o,s,a,c){super(e,i,r,o,a,c),this._selectionList=r,this._changeDetectorRef=s,this.selectedChange=new jt,this.togglePosition="after",this._selected=!1,this._inputsInitialized=!1}ngOnInit(){const e=this._selectionList;e._value&&e._value.some(r=>e.compareWith(this._value,r))&&this._setSelected(!0);const i=this._selected;Promise.resolve().then(()=>{(this._selected||i)&&(this.selected=!0,this._changeDetectorRef.markForCheck())}),this._inputsInitialized=!0}ngOnDestroy(){super.ngOnDestroy(),this.selected&&Promise.resolve().then(()=>{this.selected=!1})}toggle(){this.selected=!this.selected}focus(){this._hostElement.focus()}getLabel(){return(this._titles?.get(0)?._elementRef.nativeElement||this._unscopedContent?.nativeElement)?.textContent||""}_hasCheckboxAt(e){return this._selectionList.multiple&&this._getTogglePosition()===e}_hasRadioAt(e){return!this._selectionList.multiple&&this._getTogglePosition()===e&&!this._selectionList.hideSingleSelectionIndicator}_hasIconsOrAvatarsAt(e){return this._hasProjected("icons",e)||this._hasProjected("avatars",e)}_hasProjected(e,i){return this._getTogglePosition()!==i&&("avatars"===e?0!==this._avatars.length:0!==this._icons.length)}_handleBlur(){this._selectionList._onTouched()}_getTogglePosition(){return this.togglePosition||"after"}_setSelected(e){return e!==this._selected&&(this._selected=e,e?this._selectionList.selectedOptions.select(this):this._selectionList.selectedOptions.deselect(this),this.selectedChange.emit(e),this._changeDetectorRef.markForCheck(),!0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_toggleOnInteraction(){this.disabled||(this._selectionList.multiple?(this.selected=!this.selected,this._selectionList._emitChangeEvent([this])):this.selected||(this.selected=!0,this._selectionList._emitChangeEvent([this])))}_setTabindex(e){this._hostElement.setAttribute("tabindex",e+"")}static{this.\u0275fac=function(i){return new(i||n)(O(ft),O(Ge),O(T9),O(Oi),O(Vo),O(VE,8),O(Jr,8))}}static{this.\u0275cmp=ht({type:n,selectors:[["mat-list-option"]],contentQueries:function(i,r,o){if(1&i&&($n(o,Hxe,5),$n(o,zxe,5)),2&i){let s;gt(s=_t())&&(r._lines=s),gt(s=_t())&&(r._titles=s)}},viewQuery:function(i,r){if(1&i&&ni(Ixe,5),2&i){let o;gt(o=_t())&&(r._unscopedContent=o.first)}},hostAttrs:["role","option",1,"mat-mdc-list-item","mat-mdc-list-option","mdc-list-item"],hostVars:25,hostBindings:function(i,r){1&i&&Me("blur",function(){return r._handleBlur()})("click",function(){return r._toggleOnInteraction()}),2&i&&(Sn("aria-selected",r.selected),Xt("mdc-list-item--selected",r.selected&&!r._selectionList.multiple&&r._selectionList.hideSingleSelectionIndicator)("mdc-list-item--with-leading-avatar",r._hasProjected("avatars","before"))("mdc-list-item--with-leading-icon",r._hasProjected("icons","before"))("mdc-list-item--with-trailing-icon",r._hasProjected("icons","after"))("mat-mdc-list-option-with-trailing-avatar",r._hasProjected("avatars","after"))("mdc-list-item--with-leading-checkbox",r._hasCheckboxAt("before"))("mdc-list-item--with-trailing-checkbox",r._hasCheckboxAt("after"))("mdc-list-item--with-leading-radio",r._hasRadioAt("before"))("mdc-list-item--with-trailing-radio",r._hasRadioAt("after"))("mat-accent","primary"!==r.color&&"warn"!==r.color)("mat-warn","warn"===r.color)("_mat-animation-noopable",r._noopAnimations))},inputs:{togglePosition:"togglePosition",checkboxPosition:"checkboxPosition",color:"color",value:"value",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[mt([{provide:I9,useExisting:n},{provide:x9,useExisting:n}]),We],ngContentSelectors:jxe,decls:20,vars:6,consts:[["icons",""],["checkbox",""],["radio",""],["class","mdc-list-item__start mat-mdc-list-option-checkbox-before",4,"ngIf"],["class","mdc-list-item__start mat-mdc-list-option-radio-before",4,"ngIf"],[3,"ngIf"],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],["class","mdc-list-item__end",4,"ngIf"],[1,"mat-mdc-focus-indicator"],[1,"mdc-checkbox"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","disabled"],[1,"mdc-checkbox__background"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],[1,"mdc-radio"],["type","radio",1,"mdc-radio__native-control",3,"checked","disabled"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],[1,"mdc-list-item__start","mat-mdc-list-option-checkbox-before"],[3,"ngTemplateOutlet"],[1,"mdc-list-item__start","mat-mdc-list-option-radio-before"],[1,"mdc-list-item__end"]],template:function(i,r){1&i&&(nr(Uxe),Re(0,Txe,1,0,"ng-template",null,0,Sf),Re(2,Cxe,6,4,"ng-template",null,1,Sf),Re(4,Axe,5,4,"ng-template",null,2,Sf),Re(6,Sxe,2,1,"span",3),Re(7,Rxe,2,1,"span",4),Re(8,Pxe,1,1,"ng-template",5),H(9,"span",6),Tt(10),Tt(11,1),H(12,"span",7,8),Me("cdkObserveContent",function(){return r._updateItemLines(!0)}),Tt(14,2),j()(),Re(15,Nxe,2,1,"span",9),Re(16,Lxe,2,1,"span",9),Re(17,Bxe,1,1,"ng-template",5),Tt(18,3),et(19,"div",10)),2&i&&(ue(6),ye("ngIf",r._hasCheckboxAt("before")),ue(1),ye("ngIf",r._hasRadioAt("before")),ue(1),ye("ngIf",r._hasIconsOrAvatarsAt("before")),ue(7),ye("ngIf",r._hasCheckboxAt("after")),ue(1),ye("ngIf",r._hasRadioAt("after")),ue(1),ye("ngIf",r._hasIconsOrAvatarsAt("after")))},dependencies:[fge,Rs,Jk],styles:['.mat-mdc-list-option-with-trailing-avatar.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mat-mdc-list-option-with-trailing-avatar.mdc-list-item,.mat-mdc-list-option-with-trailing-avatar.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end,.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{width:40px;height:40px}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{border-radius:50%}.mat-mdc-list-option .mdc-touch-target-wrapper{display:inline}.mat-mdc-list-option .mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mat-mdc-list-option .mdc-checkbox[hidden]{display:none}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-list-option .mdc-checkbox__mixedmark{margin:0 1px}}.mat-mdc-list-option .mdc-checkbox--disabled{cursor:default;pointer-events:none}.mat-mdc-list-option .mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color}.mat-mdc-list-option .mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0}.mdc-checkbox--upgraded .mat-mdc-list-option .mdc-checkbox__checkmark{opacity:1}.mat-mdc-list-option .mdc-checkbox__checkmark-path{stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mat-mdc-list-option .mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mat-mdc-list-option .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mat-mdc-list-option .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mat-mdc-list-option .mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mat-mdc-list-option .mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size, 48px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mat-mdc-list-option .mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);width:var(--mdc-checkbox-state-layer-size, 48px);height:var(--mdc-checkbox-state-layer-size, 48px)}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{opacity:1}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mat-mdc-list-option .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0}.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mat-mdc-list-option .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mat-mdc-list-option .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mat-mdc-list-option .mdc-radio[hidden]{display:none}.mat-mdc-list-option .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-list-option .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:""}.mat-mdc-list-option .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%}.mat-mdc-list-option .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%}.mat-mdc-list-option .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mat-mdc-list-option .mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mat-mdc-list-option .mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mat-mdc-list-option .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mat-mdc-list-option .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mat-mdc-list-option .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mat-mdc-list-option .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mat-mdc-list-option .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mat-mdc-list-option .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mat-mdc-list-option .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mat-mdc-list-option .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mat-mdc-list-option .mdc-radio--disabled{cursor:default;pointer-events:none}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5)}.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background,.mat-mdc-list-option [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mat-mdc-list-option .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}@media all and (-ms-high-contrast: none){.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox .mdc-checkbox__focus-ring{display:none}}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__background{transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__mixedmark{transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__background::before{transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:focus+.mdc-radio__background::before{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-checkbox{padding:calc((40px - 18px) / 2);padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);margin:calc((40px - 40px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0, 0, 0, 0.38);border-color:var(--mdc-checkbox-disabled-unselected-icon-color, rgba(0, 0, 0, 0.38));background-color:transparent}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:rgba(0, 0, 0, 0.38);background-color:var(--mdc-checkbox-disabled-selected-icon-color, rgba(0, 0, 0, 0.38))}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:#fff;color:var(--mdc-checkbox-selected-checkmark-color, "#fff")}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:#fff;border-color:var(--mdc-checkbox-selected-checkmark-color, "#fff")}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:#fff;color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:#fff;border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:#f44336;border-color:var(--mdc-checkbox-selected-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-icon-color, #f44336)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:#f44336;border-color:var(--mdc-checkbox-selected-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-icon-color, #f44336)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:#f44336;border-color:var(--mdc-checkbox-selected-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-icon-color, #f44336)}100%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mat-mdc-list-option .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:#212121;border-color:var(--mdc-checkbox-unselected-hover-icon-color, #212121);background-color:transparent}.mat-mdc-list-option .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:#f44336;border-color:var(--mdc-checkbox-selected-hover-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-hover-icon-color, #f44336)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:#212121;border-color:var(--mdc-checkbox-unselected-hover-icon-color, #212121);background-color:transparent}50%{border-color:#f44336;border-color:var(--mdc-checkbox-selected-hover-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-hover-icon-color, #f44336)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:#f44336;border-color:var(--mdc-checkbox-selected-hover-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-hover-icon-color, #f44336)}100%{border-color:#212121;border-color:var(--mdc-checkbox-unselected-hover-icon-color, #212121);background-color:transparent}}.mat-mdc-list-option .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mat-mdc-list-option .mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:#212121;border-color:var(--mdc-checkbox-unselected-focus-icon-color, #212121);background-color:transparent}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:#f44336;border-color:var(--mdc-checkbox-selected-focus-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-focus-icon-color, #f44336)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:#212121;border-color:var(--mdc-checkbox-unselected-focus-icon-color, #212121);background-color:transparent}50%{border-color:#f44336;border-color:var(--mdc-checkbox-selected-focus-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-focus-icon-color, #f44336)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:#f44336;border-color:var(--mdc-checkbox-selected-focus-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-focus-icon-color, #f44336)}100%{border-color:#212121;border-color:var(--mdc-checkbox-unselected-focus-icon-color, #212121);background-color:transparent}}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mat-mdc-list-option .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-list-option .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:#f44336;border-color:var(--mdc-checkbox-selected-pressed-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-pressed-icon-color, #f44336)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:#f44336;border-color:var(--mdc-checkbox-selected-pressed-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-pressed-icon-color, #f44336)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:#f44336;border-color:var(--mdc-checkbox-selected-pressed-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-pressed-icon-color, #f44336)}100%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-list-option .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mat-mdc-list-option .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__ripple::before,.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__ripple::after{background-color:black;background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, black)}.mat-mdc-list-option .mdc-checkbox:hover .mdc-checkbox__ripple::before,.mat-mdc-list-option .mdc-checkbox.mdc-ripple-surface--hover .mdc-checkbox__ripple::before{opacity:0.04;opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, 0.04)}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__ripple::before,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__ripple::before{transition-duration:75ms;opacity:0.16;opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, 0.16)}.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded) .mdc-checkbox__ripple::after{transition:opacity 150ms linear}.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):active .mdc-checkbox__ripple::after{transition-duration:75ms;opacity:0.16;opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, 0.16)}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, 0.16)}.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--selected .mdc-checkbox__ripple::before,.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--selected .mdc-checkbox__ripple::after{background-color:#f44336;background-color:var(--mdc-checkbox-selected-hover-state-layer-color, #f44336)}.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--selected:hover .mdc-checkbox__ripple::before,.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--selected.mdc-ripple-surface--hover .mdc-checkbox__ripple::before{opacity:0.04;opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, 0.04)}.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--selected.mdc-ripple-upgraded--background-focused .mdc-checkbox__ripple::before,.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded):focus .mdc-checkbox__ripple::before{transition-duration:75ms;opacity:0.16;opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, 0.16)}.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded) .mdc-checkbox__ripple::after{transition:opacity 150ms linear}.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded):active .mdc-checkbox__ripple::after{transition-duration:75ms;opacity:0.16;opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, 0.16)}.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, 0.16)}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--selected .mdc-checkbox__ripple::before,.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--selected .mdc-checkbox__ripple::after{background-color:#f44336;background-color:var(--mdc-checkbox-selected-hover-state-layer-color, #f44336)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__background{top:calc((40px - 18px) / 2);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);left:calc((40px - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control{top:calc((40px - 40px) / 2);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);right:calc((40px - 40px) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);left:calc((40px - 40px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);width:40px;width:var(--mdc-checkbox-state-layer-size, 40px);height:40px;height:var(--mdc-checkbox-state-layer-size, 40px)}.mat-mdc-list-option .mdc-radio{padding:calc((40px - 20px) / 2);padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px) / 2)}.mat-mdc-list-option .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:#000;border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-list-option .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:#000;border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-list-option .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:0.38;opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:0.38;opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:#000;border-color:var(--mdc-radio-disabled-unselected-icon-color, #000)}.mat-mdc-list-option .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:0.38;opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-list-option .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:#f44336;border-color:var(--mdc-radio-selected-focus-icon-color, #f44336)}.mat-mdc-list-option .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-list-option .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:#f44336;border-color:var(--mdc-radio-selected-focus-icon-color, #f44336)}.mat-mdc-list-option .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:#f44336;border-color:var(--mdc-radio-selected-hover-icon-color, #f44336)}.mat-mdc-list-option .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:#f44336;border-color:var(--mdc-radio-selected-hover-icon-color, #f44336)}.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:#f44336;border-color:var(--mdc-radio-selected-icon-color, #f44336)}.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:#f44336;border-color:var(--mdc-radio-selected-icon-color, #f44336)}.mat-mdc-list-option .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:#f44336;border-color:var(--mdc-radio-selected-pressed-icon-color, #f44336)}.mat-mdc-list-option .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:#f44336;border-color:var(--mdc-radio-selected-pressed-icon-color, #f44336)}.mat-mdc-list-option .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:#212121;border-color:var(--mdc-radio-unselected-hover-icon-color, #212121)}.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-radio-unselected-icon-color, rgba(0, 0, 0, 0.54))}.mat-mdc-list-option .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-radio-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54))}.mat-mdc-list-option .mdc-radio .mdc-radio__background::before{top:calc(-1 * (40px - 20px) / 2);top:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);left:calc(-1 * (40px - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);width:40px;width:var(--mdc-radio-state-layer-size, 40px);height:40px;height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-list-option .mdc-radio .mdc-radio__native-control{top:calc((40px - 40px) / 2);top:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);right:calc((40px - 40px) / 2);right:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);left:calc((40px - 40px) / 2);left:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);width:40px;width:var(--mdc-radio-state-layer-size, 40px);height:40px;height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-list-option .mdc-checkbox__native-control,.mat-mdc-list-option .mdc-radio__native-control{display:none}.cdk-high-contrast-active .mat-mdc-list-option.mdc-list-item--selected::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active .mat-mdc-list-option.mdc-list-item--selected [dir=rtl]::after{right:auto;left:16px}'],encapsulation:2,changeDetection:0})}}return n})();const $xe={provide:Fs,useExisting:dn(()=>A9),multi:!0};class Kxe{constructor(t,e){this.source=t,this.options=e}}let A9=(()=>{class n extends zO{get multiple(){return this._multiple}set multiple(e){const i=cn(e);i!==this._multiple&&(this._multiple=i,this.selectedOptions=new y9(this._multiple,this.selectedOptions.selected))}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=cn(e)}constructor(e,i){super(),this._element=e,this._ngZone=i,this._initialized=!1,this._destroyed=new K,this._onChange=r=>{},this.selectionChange=new jt,this.color="accent",this.compareWith=(r,o)=>r===o,this._multiple=!0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this.selectedOptions=new y9(this._multiple),this._onTouched=()=>{},this._selectionListDisabled=!1,this._handleFocusout=()=>{setTimeout(()=>{this._containsFocus()||this._resetActiveOption()})},this._handleFocusin=r=>{if(this.disabled)return;const o=this._items.toArray().findIndex(s=>s._elementRef.nativeElement.contains(r.target));o>-1?this._setActiveOption(o):this._resetActiveOption()},this._isNonInteractive=!1}ngAfterViewInit(){this._initialized=!0,this._setupRovingTabindex(),this._ngZone.runOutsideAngular(()=>{this._element.nativeElement.addEventListener("focusin",this._handleFocusin),this._element.nativeElement.addEventListener("focusout",this._handleFocusout)}),this._value&&this._setOptionsFromValues(this._value),this._watchForSelectionChange()}ngOnChanges(e){const i=e.disabled,r=e.disableRipple,o=e.hideSingleSelectionIndicator;(r&&!r.firstChange||i&&!i.firstChange||o&&!o.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._keyManager?.destroy(),this._element.nativeElement.removeEventListener("focusin",this._handleFocusin),this._element.nativeElement.removeEventListener("focusout",this._handleFocusout),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(e){this._element.nativeElement.focus(e)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_reportValueChange(){if(this.options&&!this._isDestroyed){const e=this._getSelectedOptionValues();this._onChange(e),this._value=e}}_emitChangeEvent(e){this.selectionChange.emit(new Kxe(this,e))}writeValue(e){this._value=e,this.options&&this._setOptionsFromValues(e||[])}setDisabledState(e){this.disabled=e}get disabled(){return this._selectionListDisabled}set disabled(e){this._selectionListDisabled=cn(e),this._selectionListDisabled&&this._keyManager?.setActiveItem(-1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}_watchForSelectionChange(){this.selectedOptions.changed.pipe(ri(this._destroyed)).subscribe(e=>{for(let i of e.added)i.selected=!0;for(let i of e.removed)i.selected=!1;this._containsFocus()||this._resetActiveOption()})}_setOptionsFromValues(e){this.options.forEach(i=>i._setSelected(!1)),e.forEach(i=>{const r=this.options.find(o=>!o.selected&&this.compareWith(o.value,i));r&&r._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(e=>e.selected).map(e=>e.value)}_markOptionsForCheck(){this.options&&this.options.forEach(e=>e._markForCheck())}_setAllOptionsSelected(e,i){const r=[];return this.options.forEach(o=>{(!i||!o.disabled)&&o._setSelected(e)&&r.push(o)}),r.length&&this._reportValueChange(),r}get options(){return this._items}_handleKeydown(e){const i=this._keyManager.activeItem;if(13!==e.keyCode&&32!==e.keyCode||this._keyManager.isTyping()||!i||i.disabled)if(65===e.keyCode&&this.multiple&&!this._keyManager.isTyping()&&Um(e,"ctrlKey")){const r=this.options.some(o=>!o.disabled&&!o.selected);e.preventDefault(),this._emitChangeEvent(this._setAllOptionsSelected(r,!0))}else this._keyManager.onKeydown(e);else e.preventDefault(),i._toggleOnInteraction()}_setupRovingTabindex(){this._keyManager=new HW(this._items).withHomeAndEnd().withTypeAhead().withWrap().skipPredicate(()=>this.disabled),this._resetActiveOption(),this._keyManager.change.subscribe(e=>this._setActiveOption(e)),this._items.changes.pipe(ri(this._destroyed)).subscribe(()=>{const e=this._keyManager.activeItem;(!e||!this._items.toArray().indexOf(e))&&this._resetActiveOption()})}_setActiveOption(e){this._items.forEach((i,r)=>i._setTabindex(r===e?0:-1)),this._keyManager.updateActiveItem(e)}_resetActiveOption(){if(this.disabled)return void this._setActiveOption(-1);const e=this._items.find(i=>i.selected&&!i.disabled)||this._items.first;this._setActiveOption(e?this._items.toArray().indexOf(e):-1)}_containsFocus(){const e=AE();return e&&this._element.nativeElement.contains(e)}static{this.\u0275fac=function(i){return new(i||n)(O(ft),O(Ge))}}static{this.\u0275cmp=ht({type:n,selectors:[["mat-selection-list"]],contentQueries:function(i,r,o){if(1&i&&$n(o,C9,5),2&i){let s;gt(s=_t())&&(r._items=s)}},hostAttrs:["role","listbox",1,"mat-mdc-selection-list","mat-mdc-list-base","mdc-list"],hostVars:1,hostBindings:function(i,r){1&i&&Me("keydown",function(s){return r._handleKeydown(s)}),2&i&&Sn("aria-multiselectable",r.multiple)},inputs:{color:"color",compareWith:"compareWith",multiple:"multiple",hideSingleSelectionIndicator:"hideSingleSelectionIndicator",disabled:"disabled"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[mt([$xe,{provide:zO,useExisting:n},{provide:T9,useExisting:n}]),We,Pi],ngContentSelectors:xxe,decls:1,vars:0,template:function(i,r){1&i&&(nr(),Tt(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0})}}return n})(),Qxe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[OM,bc,wn,BE,fq,wxe]})}}return n})();function Yxe(n,t){if(1&n&&(H(0,"mat-list-option",8)(1,"div",9)(2,"span"),se(3),j()()()),2&n){const e=t.$implicit;ye("value",e._id),ue(3),hw("",e.name||"Nombre no disponible"," x (",e.quantity,")")}}function Xxe(n,t){if(1&n&&(H(0,"p"),se(1),j()),2&n){Oe();const e=rs(4);ue(1),ir(" Total de \xedtems seleccionados: ",e.selectedOptions.selected.length," ")}}function Jxe(n,t){if(1&n){const e=Li();H(0,"button",10),Me("click",function(){Pt(e);const r=Oe(),o=rs(4);return Ot(r.removeSelectedOrders(o.selectedOptions.selected))}),se(1," Eliminar Seleccionados "),j()}}function Zxe(n,t){if(1&n){const e=Li();H(0,"button",11),Me("click",function(){return Pt(e),Ot(Oe().releaseTable())}),se(1," Liberar Mesa "),j()}}let eEe=(()=>{class n{constructor(e,i,r,o){this.dialogRef=e,this.data=i,this.gestionService=r,this.userService=o,this.orders=[],this.table=i,console.log(this.table,"Mesa seleccionada"),this.orders=this.table.orders||[],this.role$=this.userService.getRoleState()}ngOnInit(){this.printMenuItems()}printMenuItems(){this.orders.forEach(e=>{e&&e.menuItem&&void 0!==e.quantity&&this.gestionService.getMenu().subscribe(i=>{const r=i.find(o=>o._id===e.menuItem);e.name=r?r.name:"No encontrado"})})}removeSelectedOrders(e){const i=e.map(o=>o.value),r=e.map(o=>{const s=this.orders.find(a=>a._id===o.value);return s&&s.name?s.name:`Item ID: ${o.value}`});this.gestionService.deleteOrdersFromTable(this.table.id,i).subscribe(o=>{this.gestionService.saveLog(`<strong style="color: red;">Se eliminaron</strong> \xf3rdenes: <strong> ${r.join(", ")}</strong> de la mesa <strong>${this.table.name}</strong> atendida por <strong>${this.table.waiterName||"Desconocido"}</strong>`),this.table=o,this.orders=this.table.orders,this.printMenuItems(),this.dialogRef.close(),location.reload()},o=>{console.error("Error eliminando \xf3rdenes:",o)})}releaseTable(){this.gestionService.releaseTable(this.table.id).subscribe(()=>{this.dialogRef.close()},e=>{console.error("Error liberando la mesa:",e)})}static{this.\u0275fac=function(i){return new(i||n)(O(Oc),O(Hm),O(aa),O(tp))}}static{this.\u0275cmp=ht({type:n,selectors:[["app-order-info-dialog"]],decls:13,vars:6,consts:[["mat-dialog-title",""],["orders",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["align","end"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],[3,"value"],[1,"order-info"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,r){if(1&i&&(H(0,"h2",0),se(1,"\xd3rdenes Asignadas"),j(),H(2,"mat-dialog-content")(3,"mat-selection-list",null,1),Re(5,Yxe,4,3,"mat-list-option",2),j(),Re(6,Xxe,2,1,"p",3),j(),H(7,"mat-dialog-actions",4),Re(8,Jxe,2,0,"button",5),Fo(9,"async"),H(10,"button",6),se(11," Cerrar "),j(),Re(12,Zxe,2,0,"button",7),j()),2&i){const o=rs(4);ue(5),ye("ngForOf",null==r.table?null:r.table.orders),ue(1),ye("ngIf",o.selectedOptions.selected.length>0),ue(2),ye("ngIf","admin"===os(9,4,r.role$)),ue(4),ye("ngIf",0===(null==r.table||null==r.table.orders?null:r.table.orders.length))}},dependencies:[_c,Rs,Zu,kq,Sq,GM,$M,A9,C9,h_],styles:["mat-list-option[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0}.order-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.order-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-weight:700}mat-dialog-content[_ngcontent-%COMP%]{max-height:400px;overflow:auto}mat-dialog-actions[_ngcontent-%COMP%]{margin-top:16px}"]})}}return n})();function tEe(n,t){if(1&n&&(H(0,"option",9),se(1),j()),2&n){const e=t.$implicit;ye("value",e._id),ue(1),ir(" ",e.name," ")}}let k9=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.gestionService=r,this.waiters=[],this.selectedWaiterId=""}ngOnInit(){this.gestionService.getWaiters().subscribe({next:e=>{this.waiters=e,console.log(e,"LOS MOZOS")},error:e=>{console.error("Error al cargar los mozos:",e)}})}onCancel(){this.dialogRef.close(null)}onConfirm(){const e=this.waiters.find(i=>i._id===this.selectedWaiterId);e?this.dialogRef.close({waiterId:e._id,waiterName:e.name}):(console.error("Mozo no seleccionado"),alert("Por favor selecciona un mozo v\xe1lido."))}static{this.\u0275fac=function(i){return new(i||n)(O(Oc),O(Hm),O(aa))}}static{this.\u0275cmp=ht({type:n,selectors:[["app-waiter-dialog"]],decls:14,vars:2,consts:[[1,"mb-4","text-center"],[1,"mb-3"],["for","waiterSelect",1,"form-label"],["id","waiterSelect",1,"form-select","form-select-lg","shadow-sm",3,"ngModel","ngModelChange"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","mt-4"],[1,"btn","btn-outline-danger","btn-lg",3,"click"],[1,"btn","btn-success","btn-lg",3,"click"],[3,"value"]],template:function(i,r){1&i&&(H(0,"h2",0),se(1,"Asignar Mozo"),j(),H(2,"div",1)(3,"label",2),se(4,"Seleccionar Mozo"),j(),H(5,"select",3),Me("ngModelChange",function(s){return r.selectedWaiterId=s}),H(6,"option",4),se(7,"Seleccione un mozo..."),j(),Re(8,tEe,2,2,"option",5),j()(),H(9,"div",6)(10,"button",7),Me("click",function(){return r.onCancel()}),se(11,"Cancelar"),j(),H(12,"button",8),Me("click",function(){return r.onConfirm()}),se(13,"Asignar"),j()()),2&i&&(ue(5),ye("ngModel",r.selectedWaiterId),ue(3),ye("ngForOf",r.waiters))},dependencies:[_c,w8,E8,eI,Wu,Gm]})}}return n})(),nEe=0;const HO=new de("CdkAccordion");let iEe=(()=>{class n{constructor(){this._stateChanges=new K,this._openCloseAllActions=new K,this.id="cdk-accordion-"+nEe++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=cn(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[mt([{provide:HO,useExisting:n}]),Pi]})}}return n})(),rEe=0,oEe=(()=>{class n{get expanded(){return this._expanded}set expanded(e){e=cn(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=cn(e)}constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=kt.EMPTY,this.closed=new jt,this.opened=new jt,this.destroyed=new jt,this.expandedChange=new jt,this.id="cdk-accordion-child-"+rEe++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,s)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===s&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static{this.\u0275fac=function(i){return new(i||n)(O(HO,12),O(Vo),O(w9))}}static{this.\u0275dir=_e({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[mt([{provide:HO,useValue:void 0}])]})}}return n})(),sEe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({})}}return n})();const aEe=["body"];function cEe(n,t){}const lEe=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],dEe=["mat-expansion-panel-header","*","mat-action-row"];function uEe(n,t){1&n&&et(0,"span",2),2&n&&ye("@indicatorRotate",Oe()._getExpandedState())}const hEe=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],fEe=["mat-panel-title","mat-panel-description","*"],WO=new de("MAT_ACCORDION"),S9="225ms cubic-bezier(0.4,0.0,0.2,1)",D9={indicatorRotate:ed("indicatorRotate",[Os("collapsed, void",cr({transform:"rotate(0deg)"})),Os("expanded",cr({transform:"rotate(180deg)"})),Ns("expanded <=> collapsed, void => collapsed",ca(S9))]),bodyExpansion:ed("bodyExpansion",[Os("collapsed, void",cr({height:"0px",visibility:"hidden"})),Os("expanded",cr({height:"*",visibility:""})),Ns("expanded <=> collapsed, void => collapsed",ca(S9))])},R9=new de("MAT_EXPANSION_PANEL");let mEe=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}static{this.\u0275fac=function(i){return new(i||n)(O(rr),O(R9,8))}}static{this.\u0275dir=_e({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]})}}return n})(),pEe=0;const M9=new de("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let qO=(()=>{class n extends oEe{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=cn(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,i,r,o,s,a,c){super(e,i,r),this._viewContainerRef=o,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new jt,this.afterCollapse=new jt,this._inputChanges=new K,this._headerId="mat-expansion-panel-header-"+pEe++,this._bodyAnimationDone=new K,this.accordion=e,this._document=s,this._bodyAnimationDone.pipe(Ze((l,d)=>l.fromState===d.fromState&&l.toState===d.toState)).subscribe(l=>{"void"!==l.fromState&&("expanded"===l.toState?this.afterExpand.emit():"collapsed"===l.toState&&this.afterCollapse.emit())}),c&&(this.hideToggle=c.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(oa(null),Zt(()=>this.expanded&&!this._portal),Ln(1)).subscribe(()=>{this._portal=new SE(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}static{this.\u0275fac=function(i){return new(i||n)(O(WO,12),O(Vo),O(w9),O(Ar),O(Ct),O(Jr,8),O(M9,8))}}static{this.\u0275cmp=ht({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,r,o){if(1&i&&$n(o,mEe,5),2&i){let s;gt(s=_t())&&(r._lazyContent=s.first)}},viewQuery:function(i,r){if(1&i&&ni(aEe,5),2&i){let o;gt(o=_t())&&(r._body=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,r){2&i&&Xt("mat-expanded",r.expanded)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[mt([{provide:WO,useValue:void 0},{provide:R9,useExisting:n}]),We,Pi],ngContentSelectors:dEe,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,r){1&i&&(nr(lEe),Tt(0),H(1,"div",0,1),Me("@bodyExpansion.done",function(s){return r._bodyAnimationDone.next(s)}),H(3,"div",2),Tt(4,1),Re(5,cEe,0,0,"ng-template",3),j(),Tt(6,2),j()),2&i&&(ue(1),ye("@bodyExpansion",r._getExpandedState())("id",r.id),Sn("aria-labelledby",r._headerId),ue(4),ye("cdkPortalOutlet",r._portal))},dependencies:[Vm],styles:['.mat-expansion-panel{--mat-expansion-container-shape:4px;box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[D9.bodyExpansion]},changeDetection:0})}}return n})();class gEe{}const _Ee=aq(gEe);let GO=(()=>{class n extends _Ee{constructor(e,i,r,o,s,a,c){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=a,this._parentChangeSubscription=kt.EMPTY;const l=e.accordion?e.accordion._stateChanges.pipe(Zt(d=>!(!d.hideToggle&&!d.togglePosition))):ei;this.tabIndex=parseInt(c||"")||0,this._parentChangeSubscription=E(e.opened,e.closed,l,e._inputChanges.pipe(Zt(d=>!!(d.hideToggle||d.disabled||d.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(Zt(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),s&&(this.expandedHeight=s.expandedHeight,this.collapsedHeight=s.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Um(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static{this.\u0275fac=function(i){return new(i||n)(O(qO,1),O(ft),O(zm),O(Vo),O(M9,8),O(Jr,8),vl("tabindex"))}}static{this.\u0275cmp=ht({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,r){1&i&&Me("click",function(){return r._toggle()})("keydown",function(s){return r._keydown(s)}),2&i&&(Sn("id",r.panel._headerId)("tabindex",r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),El("height",r._getHeaderHeight()),Xt("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[We],ngContentSelectors:fEe,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(i,r){1&i&&(nr(hEe),H(0,"span",0),Tt(1),Tt(2,1),Tt(3,2),j(),Re(4,uEe,1,1,"span",1)),2&i&&(Xt("mat-content-hide-toggle",!r._showToggle()),ue(4),ye("ngIf",r._showToggle()))},dependencies:[Rs],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[D9.indicatorRotate]},changeDetection:0})}}return n})(),bEe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]})}}return n})(),P9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}}return n})(),O9=(()=>{class n extends iEe{constructor(){super(...arguments),this._ownHeaders=new au,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=cn(e)}ngAfterContentInit(){this._headers.changes.pipe(oa(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new HW(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(n)))(r||n)}}()}static{this.\u0275dir=_e({type:n,selectors:[["mat-accordion"]],contentQueries:function(i,r,o){if(1&i&&$n(o,GO,5),2&i){let s;gt(s=_t())&&(r._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(i,r){2&i&&Xt("mat-accordion-multi",r.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[mt([{provide:WO,useExisting:n}]),We]})}}return n})(),vEe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[bc,wn,sEe,Bm]})}}return n})();function yEe(n,t){if(1&n&&(H(0,"div",15)(1,"div",2),se(2),j(),H(3,"div",3),se(4),Fo(5,"currency"),j(),H(6,"div",4),se(7),Fo(8,"currency"),j()()),2&n){const e=t.$implicit;ue(2),hw("",e.name," (x",e.quantity||1,")"),ue(2),Vi(os(5,4,e.price)),ue(3),Vi(os(8,6,e.price*(e.quantity||1)))}}let wEe=(()=>{class n{constructor(e,i,r){this.data=e,this.dialogRef=i,this.gestionService=r,this.total=0,this.discountedTotal=0,this.discountPercentage=0,this.orders=[],this.table={},this.tableName="",this.waiterName="",this.isTicketPrinted=!1,this.orders=e.orders||[],this.table=e.table||[],this.tableName=e.tableName||"",this.waiterName=e.waiterName||"",this.calculateTotal()}ngOnInit(){console.log("Nombre de la mesa:",this.tableName),console.log("Nombre del mozo:",this.waiterName),this.printMenuItems(),console.log(this.orders,"ORDENES EN TOTAL"),console.log(this.table,"TABLESS"),this.getTable()}getTable(){this.gestionService.getTables().subscribe(e=>{const i=e.find(r=>r.id===this.data.tableId);i?(this.table=i,console.log("Datos de la mesa:",i)):console.warn("No se encontr\xf3 la mesa.")})}printMenuItems(){let e=0;this.orders.forEach(i=>{i&&i.menuItem&&void 0!==i.quantity&&this.gestionService.getMenu().subscribe(r=>{const o=r.find(s=>s._id===i.menuItem);o?(i.name=o.name,i.price=o.price):(i.name="No encontrado",i.price=0),e++,e===this.orders.length&&this.calculateTotal()})})}calculateTotal(){if(0===this.orders.length)return console.warn("No hay \xf3rdenes disponibles."),this.total=0,void(this.discountedTotal=0);console.log("Datos de las \xf3rdenes:"),this.orders.forEach(e=>{console.log(`Producto: ${e.name}, Cantidad: ${e.quantity||1}, Precio: ${e.price}`)}),this.total=this.orders.reduce((e,i)=>e+i.price*(i.quantity??1),0),this.calculateDiscountedTotal()}applyDiscount(e){this.discountPercentage=e,this.calculateDiscountedTotal()}calculateDiscountedTotal(){this.discountedTotal=this.total-this.total*this.discountPercentage/100}liberarMesa(){this.data.tableId?this.gestionService.resetTable(this.data.tableId).subscribe({next:e=>{console.log("Mesa liberada correctamente:",e),this.gestionService.addBalanceEntry({tableName:this.data.tableName,waiterName:this.data.waiterName||"Desconocido",totalAmount:this.discountedTotal}).subscribe({next:()=>console.log("Balance actualizado"),error:r=>console.error("Error al actualizar balance:",r)}),this.dialogRef.close({status:"mesa_liberada",tableId:this.data.tableId}),location.reload()},error:e=>{console.error("Error al liberar la mesa:",e),alert("Hubo un error al liberar la mesa. Int\xe9ntalo nuevamente.")}}):console.error("No se pudo liberar la mesa: ID de la mesa no encontrado.")}printTicket(){const e=this.tableName,i=this.waiterName;this.isTicketPrinted=!0;const r=`\n      <html>\n        <head>\n          <title>Ticket</title>\n          <style>\n            @page { size: 58mm landscape; margin: 0; }\n            body { \n              font-family: 'Courier New', monospace; \n              font-size: 14px;\n              font-weight: bold;\n              margin: 0;\n              padding: 0;\n              text-align: left;\n            }\n            .ticket { width: 58mm; padding: 5px; }\n            .header { text-align: left; margin-bottom: 5px; font-size: 14px; }\n            .order-list { text-align: left; word-wrap: break-word; font-size: 14px; }\n            .order-item { display: flex; justify-content: space-between; width: 100%; }\n            .order-item p { margin: 0; padding-right: 5px; }\n            .totals { margin-top: 5px; text-align: left; font-size: 14px; }\n            .line { border-top: 1px dashed #000; margin: 3px 0; }\n            .logo { text-align: center; margin-bottom: 10px; }\n            .logo img { width: 70px; height: auto; max-width: 58mm; }\n          </style>\n        </head>\n        <body>\n          <div class="ticket">\n            <div class="logo">\n            <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBUODAsLDBkSEw8VHhsgHx4bHR0hJTApISMtJB0dKjkqLTEzNjY2ICg7Pzo0PjA1NjP/wAALCADhAOEBAREA/8QAGgABAAIDAQAAAAAAAAAAAAAAAAYHBAUIA//EAFIQAAIBAwQBAgMEBQQKEAcBAAECAwQFEQAGEiEHEzEUIkEIFTJRFiNCYYEkM1ZxFxg3UlWRpKWz0iU0NVNXYmZ1goOTlbHR0+MnQ0VjcnN0of/aAAgBAQAAPwC/9NNNNNNNNYdyu1ts1OtRdLhSUMDPwWSqmWJS2CcAsQM4B6/cdVff/tCbUtqMtnhq7xPwDKVQwRZ5YKszjkCB30hHYGffEIuX2kr9LUK1rsdtpoOGGSqd52LZPYZSgAxjrH0PffUT/s2eQ/6Q/wCRU/8Aqaf2bPIf9If8ip/9TT+zZ5D/AKQ/5FT/AOpp/Zs8h/0h/wAip/8AU1KKH7SG5I6yNq+zWqelGeccAkiduusMWYDvH7J/h76m9k+0Rtav9CO7Udda5n5eo/ETwx4zj5l+c5AH7HRP5d6sjb26rFuujaqsdzgrY1/GEJDx9kDkhwy54nGQM4yOtbjTTTTTTTTTTTTTTTTUb3XvvbmzKcvebjHHOU5R0kfzzydNjCDsAlSORwueiRqhN5efr7evWo9vRfdFC2V9bIapkX5hnl7R5BU4XLAjp9V3RWrc29rpJLS01yvFY7ok055SlSflX1JD0owMZYgAD8hqyLB9nbcdwRZb1cKS0oyE+mo+IlVg2AGAIXBGTkOfp1743du8X+LrJbqG63vdX3tTvV/BtNDOq0jzMCVVvTyyYXBJMgHWSQDjWRMPEFlo7xUJs+uqPuS6pTViBHmMbqZAkhLycfSZlZSCezx5L+HUovFJZ7b+kvw3iihrfun4b4T07en+yHq458MRH+bz3jl7d40jj236V4qZvE/GloYqSSnWOzRtPVesoLKsZQDlGThgGOMH2xjWvu1v8bVN4u1ruexZ6Oqt1qF0mEcCU6vEi5IRopAGYGRlOPlLJgseC408/jnxLd6y3COvrrHNWWpblHSGpCgwEFi7NKHHIAHID9BCcYBOtBc/s73QW6Kt29f6G7xvEZQGT0fUGAU9NgXVuX5kqPbvB6ru+bP3Xseopqq6W2rt7h1eGqjcMqvklcSISA/yk4znrOpZtHznunbnGnuT/flCM/JVyETL+I9S9k9kfiDdKAMavfZflXbW9fhaWmqvhrvLEXe3zBgylfxBXwFf8xg549kDBAnGmmmmmmmmmmmmvOeeGlp5aioljhgiQvJJIwVUUDJJJ6AA+uuePIPnyaujmtezxJT07o0ctxlUrKfmxmEZ+QFR+Jhy+boKVzqp7Nt3ce9bpMtroau5VbuXnmJyAzZbMkjHAJw3bHs/mdXXY/C20dsVlFFva8QV1Zc8QUdGGeBPWxluLBgz/RQTxHzAEcmUCcWS7bgrqOzjbW1ILDaY7hLBX0dzpmp5I4MhxLCi4HzAsD0cO2OwC2sim8fVFVR21dzblrrvV226/eVNUIgpxnIYRsmWVlDciD0VB4qVHR3lt2dty0U7U9FZ6SOA1vx6xsnNY6jAHqIGyEIAGOOAPpjW81h3K7W2zU61F0uFJQwM/BZKqZYlLYJwCxAzgHr9x1C/7Nnjz+kP+RVH+pqcUNfR3OjjrKCrgq6WTPCaCQSI2Dg4YHBwQR/DWPX2O13P4k1lBBJJVUjUc03DEjQNnlHzHzBTknAPv3760cewqGgultuFmrKu3G10UlJR0SPypAGyS0kfTOSxVm+cFiiknIzrDoG3jQ0dst26KGhvVDLSVX3xXQfMQcsUUQBBzUphOKqSSfYY+eBy+OPHnkGyW+62GWTblZdXnelhdlJmKPiT9QXIwoVsCMqAGBPQA1Tm8dgbg2PWeldqXlTtx9OtgDNBISCeIcgYb5W+UgHrOMYJnGwfO10sHCg3L691to5kVGedWhPYHJmAdc56PY5e+FC66TtV1ob5a6e52ypjqaOoTnFKnsw/8QQcgg9ggg9jWZppppppppprT7m3Na9oWKa73ef0qePpVXt5XPsiD6scH/EScAEjlDyJ5NunkGsiEsfwVsgwYaFJOYD4wXZsDk3ZA6GB0PckyjYvhr16Mbh31UfctoglHKlq/wBQ8y5x87MR6SluIH7Td445VjadkqGrag2bx9SR2O32G8JBd/iKNQtaqHjII5AW5PxQZLAMeSHkv13lk2Htvalumlqj8f6NXJcTX3j05ZIJCF5yCQqOP82rFvfIyTrabd3baN1PcRZ5pKiKgqPh3qBGfSkbiCTG/s4Gcdfln2Klt5pprnjYcT+ZfIty3BuNfUtNs4PT2tp2eKN36QcSMFcREvjjybGQQSNdBzwQ1VPLT1EUc0EqFJI5FDK6kYIIPRBH01Qd4qovDXmZKqkp/R21fYkNRCqOsMHzYcpjIZkI54A6WQqAMg66A001o7xtK0XuviuU8MkN0gp5aenuFNIY54VkVlJUjokBmK5B4kkj3Oo2Fvu06M266Rffu1KKyTT3G41sgepnmBdnQIzHkpXoK2AAe3OMGsN8eFYqq3R7l2APXtk1ItQKAlzIykAhouQLNlTyKseWQcZyFFZ7N3xetiXR66zyxkSpwmp5wWimHeOQBByCcgggjsexIPWexd9WvftiFfQH0qiPC1dI7Zenc/Q/mpwcN9cfQggSjTTTTTTTWn3Nua17QsU13u8/pU8fSqvbyufZEH1Y4P8AiJOACRyBvrfV035fTX159KnjytJSI2Up0P0H5scDLfXH0AAFv+O/FlPsy0y743ZF8RUUdIa2nokQ5pwqcyWVwv60dgKelIzknBWxJduTbyeqbcYjqts19PT1FJaqqlMNVRTBfmBdSCp/PsnLFegDzyNyeRLDtq6UVpkkkrrtWVCU8dBRMjSqzY4l+TKEB5LjkRnlkZAJGZubZ9u3d8LFdp65qGHn6lDDUtFDU5xj1QuC3EqCvYwfz1C/Gs9Xsq8z+NL3LHJJEj1lpqlZFWop2Y5Tj+IOG5tg8j+PvioJtTTWvvts++9u3O0+t6Px1JLT+rx5cOaFeWMjOM5xkapP7OEi0lRue1VMMdPcI3hZo5CyzkKXVlKE9BGx7AEF8EnoC/Nc/wDneGs3Pv7a20qCmzVNE0iSkkj9a/E8gASFUQlie+ieuu+gNNNUH5XuVXt7zHt+r2osibirKdI54yEWCrVpOEaP2CxJUglj0FjIIK5F0WCqu9Va1N8t8dFcI3McohlDxS4/+ZGc5CN7gNhh2COsnR3qxXi23G5bh2wfjb3cPh6cw3KrcUlPCpwWWNcZxksQTkcnK9kq8P3749s3lP4y57aq4Ib7b6tqGrkkR0jlePAZH+XPJQRhwDkfL2MFefLBf71sbcq19A0lLX0zmKaCZSAwB+aORejjI7HRBGRggEdd7F31a9+2IV9AfSqI8LV0jtl6dz9D+anBw31x9CCBKNNNNNNec88NLTy1FRLHDBEheSSRgqooGSST0AB9dcgeS/Jddv8AugRBJTWWncmlpCeyfb1JMdFyPp7KDge5LTzxvsmxbLsVJ5B3xVQQrJwe3QuDII+XaSFVBLSEfMFAPEDkex8lr2jb9fdb7T7l3VSwQXa3y1MNvgo6qR4UgfCh2B6MhAb5gFyrDkoIAWUV9L8dbqmj+Inp/XiaP1qd+EkfIEckb6MM5B+h1Qnl3x0u0zSb32qskD0dQJa1pqlpmEpkBjm/W8ixLnDZJ916/EdXHsvdlHvba9Le6NPS9TKTQGQO0MinDKSP4EZwSpU4Gca0flSxzVe2juK2VUlHfNvJJWUVSshUBQAZUYYIYMinojsgAniWBlliuf33t22Xb0fR+OpIqj0uXLhzQNxzgZxnGcDWw01B92bDqLjeF3Lte6fcm5Y4miaoEYeOrTjgJKp6OCFw2DgAdHivHDnj8xTU8sSTbKgd0KrLGKkshI/EOQIyPfsEfmDrM2p41o7BfajcdzuE973HU59SvqUChM5H6tBnh8uF9zgDA4gkanGmmqHpW/TH7UU8olgqqGwxMFSaPHH014EKOPbLPIWBP5ZB6XVyX/cVo2ta2uV6ro6SkDhObAsWY+wVQCWPucAHoE+wOq/8Z1+/IqhqG7WW5T7flqJWo7jdqlEraeIF+KyoTyckhR7DGSQSuMSzeVqrKiKkvVFX3VJLN6lUbdQTFBceK8hC4AOcsij2PRYYy2RXe99i03lCzC+Wyljtm8YKeN6y2SzJ6hDLlUlAPyOVHyMwUkYDAfsUp4/3jUbG3bTXaL5qdsQ1kYQMZICwLBckYboEdjsDPWQez6Ctp7nbqavo5PUpaqJZoX4kckYAqcHsZBHvrI00001Q/wBoLfSRUa7Mojymm4T1zhlIVASUiI7IYkK59sAL7hjiIeFPHH6V3gX65xQS2SglKNDL83xEwUELxz+FeSsc9HpcEFsXHY6cb/vNTuKonvMdj4NQybdu9FGIXkjYEvxPIEBvrjmHQjlgcdWJprHr6GnuduqaCsj9SlqomhmTkRyRgQwyOxkE+2ufLHX13gzyDU2i8mrbadydmppQ3qKBkcZelGXVcK6qAewcMAmZvcvLC7lqF2945SS43iqQH46WFo6ejTJDSPzGSV6644yw/EfkM82rt6n2pte3WOlbnHSRBS+CPUcnLvgk45MWOM9ZwOtbjTWvud9s9k9L72utDQetn0/iqhIueMZxyIzjI/xjWw00001zJ4lvV6r91bnvFo27HX364uD8Q0xhpKJZXZnZ8klhz9MhBliqNg9HNx7d8epBcY9w7qq/v7cpijVqidF9GmKnkBAnEBcHHzYySCRx5MDONNQfcFmnse4xu+zpaqSM/rNw1dWJXmkpY0A4xAA8cKCxC4yyR5yMg1J5p2paK610fkHa4jloa9/5a8GeBZvwy8cfISwZXyR8xUY5Fs+fgHfSWe8SbVrjilucoelkLKqxz8cEHOCeYVQOz8wUAfMSOl9NNNafdW4afam17jfKpecdJEWCZI9RycImQDjkxUZx1nJ61xhQ0l03pu2OnjPr3O61ZLuUwObsSzsFHSjJY4HQB/LXU90syUtHYfHlDabrFZp4hyvNFIsZpHgIlViVU4kZ0BLELktkEnOJxTGng40EU/OSniTKPMZJAhyFZixLHPFvmPuVPZOdZGmmsO5Wm23mnWnulvpK6BX5rHVQrKobBGQGBGcE9/vOlttNts1O1Pa7fSUMDPzaOlhWJS2AMkKAM4A7/cNZmmoP5X3jUbJ2NNX0PVfUSrTUrlA6xuwJLEE/RVbHv83HIIzqu9qeFq7dNQN0eQa6rarrH9Z6EfJIwyvH1G/YBUEemoBUce1I4i/NNNNec8ENVTy09RFHNBKhSSORQyupGCCD0QR9NedDQUdso46OgpIKSljzwhgjEaLk5OFHQyST/HWRpppqv6OslsW722jfar7xob36i2ijitqR01JSxxsWidsAN18nEcsBFJxzxrmTfGza7Yu5ZLPXSRzAoJaedOhNESQGx7qcqQQfYg+4wT1X4y3d+mmxqK5Styrov5PW9Y/XKBlvYD5gVfA6HLH01MNNNc6faM3Q090t+14JIzBTIKup4urH1WyqKwxlSq5Pv2JB10Dr08DbTqKe3XTept/xdVHFJBaqdyI/VcDLkMy4XJxGHB6zICNWn4/sENHHcNzNaqu0XDcLrU1lunnEogYM5BB4ggtzLFT7FsYGMahdtTyNYLxfN7QWGC50l7lEslslk9GvhgjWQQjAHEMEKgqObHoYzkiebY8jbc3VUPRUtTJSXSN2SS216ejUIwLZHEnDEBCSFJwPfGpZpppppqD+V9nVG9tjTUFD3X08q1NKhcIsjqCCpJH1Vmx7fNxyQM6j+zvLqLWfoxvtPufcNLySaon4xwS8QCCWzhWYZP8AeHGVPzBdWxppppppprDuV2ttmp1qLpcKShgZ+CyVUyxKWwTgFiBnAPX7jqN2zynsW7+r8Nuahj9LHL4tjTZzn29ULy9vpnHWfca3G6LPWX7bdXbKC7T2mqm4cK2DPOLDhjjDKewCPce+qj8rQQ+SfFdt3rZoqsJQPK/oSqOZhL8JCVXl2DGrZ5ABQxOoZ4B3Mll3zJa6mf06W7xCJQeIUzqcx5Y9jILqAPdnUY/LqfTTXDF8udZu7dtbcRDPJVXKrLRQBjM45NhI1OMtgcVAA+gAH010nuDaS0e09r+OaazXK4W2qfjV19FUtAKYoyu8r8g6kMWdgjHGRhewuJpuPe+2to+mL5d4KSSTHGLDSSEHOG4KC3H5SOWMZGM51B637QuyqSskghiutbGuMTwU6hHyM9B3VuvbsD2/LvVabr33W+VKcpbfHMdTPTpxlq40lqp4shuGHiCFQCXPFuSk9461P/FzeWaOvoaXclJJNYZkLvUV8qNUQAqzL+36mSxUEOCQOvlxq5NNNNNNafcO1bFuujFLfLZBWxr+AuCHj7BPFxhlzxGcEZxg9ar+ot+5fE0UdfQXGu3DtCD5au31IV6miiCqPUjfrkq8T8vyqAfb3dbY000001j19bT2y3VNfWSenS0sTTTPxJ4ooJY4HZ6B9tc8Wnam4PON9qNy3upnte3llxSwBmkBA4qywhjgdL80mMF/2TghbHofBewKSjjgmtc9bIuczz1cgd8nPYQqvXt0B7fn3rH2dBdNgb0/Q653Oe4Wa5xNJYp55ObxekBzgIx1hCDnIT5OgCxA2FNFbqTfN92jcrjfLq1/pGrBBUMz01LTsXRolZTmPJL94UY4LnkBy5cutFXbJ3tUUsUsiVlprcwTPDxLFGyknBsjBAVgDkEEe412vablDebNQ3SnWRYK2njqI1kADBXUMAcEjOD+Z1mag/l68/cni69yq8AmqYhSRpMfx+qeDBRkZYIXYf8A45wQDrnzwnYFv3k2haVY2gtyNWurMyklCAnHHuRIyHBwMA+/seg7JQ/G+Vtw3qe0XWhmpKSKhhnqZ+cFXGx5lo1wQuCg6VsfNllVidR/dXhj9Nrjcbvd77PDc5pSlGIF509PTqcIpRvmLFQWbDKOTnAOO9HZoofGEdHTby2DbWpKV1MW5LbTCoCNyTDylx6ikMxPLrsAIhA1cFt3HZbvZmvFBdKSe3onOSoWUBYgFDHnn8BCkEhsEfXGtppppppppqF32vbeUd12rYzIY1dKa6XEMqxQozfroY2Ktzm9PIxxwvLtgwAMwgghpaeKnp4o4YIkCRxxqFVFAwAAOgAPpr000001p92UNRc9m3ygo4/Uqqq3zwwpyA5O0bBRk9DJI99afxZVUdZ4u29LQ0/oQrSCNk4BcyISkjYH986s2fc5yeydTDVP+Ra/7x8xbAtNnq+dzoat5auKGTi0ULemzBjkDuNJCVzkr9PmGZR5HqHtcFlvc+4a61Wq33CJ6yKkpWl+JBdQBIykFYwOWc5B5DotxBpj7RFk+A3zSXaOn4Q3KkHOXnn1JozxbrPWEMQ9gD/XnVj/AGfbz94eOmtzvB6ltq3jWND84jf9YGYZ+rNIAeh8v5g6tjVJ/aSuUMW1bNa2WT16itNQjADiFjQqwPec5lXHX0P8dB9nmkWip907jkt1XUPS06RQNAjM0owzyRoMgM54xde/a+2e7b8Z2ajsmy4IKBL5DSyyySJTXsBZ4O+JXiAAqkqWA/45P11MNNU/vDw1a7vvTb09qs0FHbGlka8NA3BCihCiCMMOPLiy5QdcuR1cGmmmmmmmmmmvOeeGlp5aioljhgiQvJJIwVUUDJJJ6AA+uoX/AGYNgfePwP6Rwet6vpcvSk9PlnGfU48OOf2s8cd5x3qYUNfR3OjjrKCrgq6WTPCaCQSI2Dg4YHBwQR/DWRpqs7xtjd+1Lzc73sB6Srgubmess9wdivxBYZliPJQCRkkFgOvr8oWCVe9PNO54haaTbM9rkn5A1ENBJTnjxOR6kzFU/MEENkDBz7zvxT41m2jHPfb5PJUbkuKH4gmUuIVZgxUnPzuWALN32MD6lppupqiPa9xmpbx9zyQRGY1/wwqPRRDyc+mfxfKGH8eu9Uv5kjp9zeKdt7noq+e7fCS+g9alOYklDApJKyEZTMkSgewHLHeRrE+zVcoYrzf7WyyevUU8VQjADiFjZlYHvOcyrjr6H+PReucPtJ3P1dw2O0+jj4akeo9Xl+L1X48cY6x6Oc575fTHeZ4wvENi+z/umvnnq6dBWyxCekUNLE0kcMauoLL2rOD+Ie3vq69pzfEbNsc/xM9V6lvgf16gYklzGp5OMt8x9z2ez7n31uNNNNNNNau/7itG1rW1yvVdHSUgcJzYFizH2CqASx9zgA9An2B1B4fKV3vtaV2hsW5Xi38GZbhUTijil4uVPAupDD2+ob3yowdbCOi8pXBJqeuu+2LSjJlKq3Uk1RKrBh1xlYLgjOSc/wBX1Hn+iXkP/hP/AMwU/wD56fol5D/4T/8AMFP/AOet4RvalqEZZNv3SBkYOhSagZGyOJDZmDDHLIwv071IIDM1PE1RHHHOUBkSNy6q2OwGIBIz9cDP5DVH+Str733/AOSIdvLHJS7ZgRJoqrgfQAKgO7YPzyhiyqnRx3gAsxllD4L2BSUccE1rnrZFzmeerkDvk57CFV69ugPb8+9Rvx7RzeN/LNz2NLVySWu5U/xdtM2SzsP3KeKnisgYkDl6SnroG7NNNNNNUfuCrqKr7Nl2SqvVqu01NLHTma1xhIYwlTGAgAAHQxghVBUrgEfM0A8BXP4DyjDTej6n3hSTU/Llj08AS8sY7/msY698/TB6v1zB9o3+6HQf81R/6WXU72hVLR/ZopZnvsliThKjXKOBpmgDVTL0q95OeOR2M5Htq2LSzNZqFnr47i5p4y1bGqqtQeI/WAL0A3vgdd9azNNNNNNNVH5Os96Te1r3PHtePdVlo6JoXtjOWMcrMQZFjwQSQydhX6Q5AwrDMpfPWzpLjPRXGO62mSHkHNdSezg4KFYyzBvf3A9j9dSS2+TdkXWnaen3PbURX4EVUwp2zgHpZOJI798Y9/yOtpQ7s23c6yOjoNwWqrqpM8IYK2OR2wMnCg5OACf4a3Go/wDp3s/+ldj/AO8Yf9bUPufn3YtB6Xw1RXXLnnl8LSlfTxj39Up75+mfY5x1myKCtp7nbqavo5PUpaqJZoX4kckYAqcHsZBHvrI1V9sip90efrtdVWB4dtW+OiR0nLEzyFyWAAx8oaWMgk4I/P8ADaGmmmmmqnNDUT+GN40lXHY7ZUU/xfqR7ZYRxgxKDxkxnDNwwynvgwBAOQKY8J/3X7F/1/8AoJNdf65g+0b/AHQ6D/mqP/Sy6meyK1q37N5pbXdrbQVdO8lNPUXMKKeItPyZX5qykNHIB7EZcD39rkoJviLdTT/EwVXqRK/r04xHLkA8kGW+U+47PR9z76yNNNNNNNUWdx11v+1PUUD3SSK31SR00kMsv6th8MHjUA9A+q3WO8uQPxHNyXOxWe9+l97Wqhr/AEc+n8VTpLwzjOOQOM4H+Iaic/hnx9U1Es77djDyOXYR1MyKCTnpVcBR+4AAfTUb/tctn/4Svn/bw/8Apaf2uWz/APCV8/7eH/0tP7XLZ/8AhK+f9vD/AOlqSWDw7sjb6Lxs8dwn4FGmuOJywLZ/ARwBHQBCg4/rOZ5qL7s3DUUnGwWJfX3LcIm+FQEcaVPY1MpIIWNT7ZB5MAoB7xmbS21DtTb8VtSokq5y7TVVZKAJKmZzl5HPuST12ScAAk4zreaaaaaaqueOHbvhzeElbtiPaoqUqP5JHViqV5JY1jVgU6QFiF4gALxz0NUp4T/uv2L/AK//AEEmuv8AXOn2lLbDFebBdFaT16inlp3UkcQsbBlI6znMrZ7+g/jn+EnhuPijdFpgoqS5XCKoeoSgq4g8UjNEvohuWFILxH69Yz10dXJtSrSu2laaiMUK8qSMOlA6tBG4UBkjKkrxVgVGCcY1uNNNNNNNUX50o2se6tp75jp5KhKOoSKdDKqqTG/qxqOsgt+tyewOI9vrdlBW09zt1NX0cnqUtVEs0L8SOSMAVOD2Mgj31kaaaaaa844IYXmeKKNHmfnKyqAXbiFy35niqjJ+gA+mvTTTTTTWPX1XwNuqaz4eeo9CJpPRp05yScQTxRfqxxgD6k6ou722h2/9mSthW3VdnnrqhXakuM3KdpfiFH1VMn04gQAo+UZ77Jin2eqGnq/JUs08fOSkt8s0B5EcHLIhPXv8rsO/z/PGup9U/wDaIsnx+xqS7R0/Oa21Y5y88enDIOLdZ7y4iHsSP6s6hn2c6yGW87hsNRSRzwV1EssnqYZSqNwKFSMMGE3/APnsc9XP46o6627TW3123Y7AKaolWno0rPiR6TNzDc+ROcsQcn3UnABAEs0000001o9x2ah3ntO5WZ542gqkeH1UPIRyo3R6IyUkXtc+6kH66r/w5uualp5Ng7kMlLuC1uyQQ1GcywgcgAxJDFQTgDA4cSuQCRbmmmmmmmmmmmmmo/viqo6PY16luNPXT0LUjx1CUCBphG44Myg9fKGLEnoAE/TVR+fa1qHYm1bE8VW7yv6zTVkyvODDGExIVyGc+rksDjKnGc68/s2WT/dy/wAtP/eUdPPz/wCnKvHP/wCk5I/qPvroDUb39YG3RsK82eJZGnnpy0CIyqXlQh0XLdAFlUHP0J7HvrlDxneodveSLHcaj0/QWo9KRpJBGsayKYy5Y9AKH5fw9x766f29ZVsHkHcSUVgkhpLmiV810NWzq8pJHpCMqOJ5eq5wzY5DOAyqJpppppppqL7Mq043u0SD06633WqM0RdSeE0rzxOACflZJBjOOww+msfe2yf0j+Gu1pqvuzc9u+aguCj+v9XJ0eUZyRjBxk9EFlbX0PkGsscsdv8AINt+56p5THFcoFL2+fLEJiTJMbEBjh8YC8iVzgTihr6O50cdZQVcFXSyZ4TQSCRGwcHDA4OCCP4ayNNNNaOTeFgi3ZDtdrlGb1KnNaVUZiBxLfMwHFTxUnBIOMfmM7zTTTTTUD3dcmqN+7U25DcbzbZ5Kj40SU8K/C1iRhmeF35Bs4X2GRhxlTkEUR52vUN48m1EMHplLdTx0hkSQOHYFnb29iGcqR3gqf6hd/hOwNYfGVC0qyLPcXatdWZWAD4CccewMaocHJyT7ewsTTXFnkna67Q37crVBHItHzE1JyRgPSccgFJJLBTlOWeyh+uRq85rtR7u8dbY3t9yV2473ZZUPw1JKI3FQOKyF1TPy8lSQBVJ/BkBS2rg0000001G9y7amuNRBerLUR0O4qJCtPUuCY5485MEwHbRMf4qfmXvIOrofJVHT1kdt3db59r3J88BXOGppcDkfTqB8jYXjnOMFgvZ1NIJ4aqniqKeWOaCVA8ckbBldSMggjogj66i8njTZ7XSG5wWWOhrIU4Ry26aSjKjvP8AMsoyQxBPuR17almmoHf/ADFsjb6NyvEdwn4B1ht2JywLY/GDwBHZILA4/rGasu3kHyN5KrJaTZVtrqO0GVo45qZfTduIVv1k5PFG6zhWX8fElsjM/wDFviKn2Pyud1eCtvrclSSPJjpk9sJkAliPdiB0eI6yWtDTTTTTVZ7e3XTSru/fdTdLzDaadxTtZq+JIvhZYY15BQXPzsxAABTLMQQTgjmShpLpvTdsdPGfXud1qyXcpgc3YlnYKOlGSxwOgD+Wu36Chp7Zbqago4/TpaWJYYU5E8UUAKMns9Ae+sjTVJ/aJ2u1dt+h3JTxx87c5hqiEUMYpCApLZyQr9BcH+cJ6wcwjwTuuGg3BU7Wuhjktd6Qosc+DGJsYwQx44dcqRglj6Y1d+xQ1ip6jbD2SS0W+21Hwttnqa1ZWuJIeRnUYHZX5yBkDLAY4ECaaaaaaaax62go7nRyUdfSQVdLJjnDPGJEbByMqejggH+GoPU+HttC4tX2We67eqn5+q9nrGh9QMQeJBBCqCOlXA/d0Ma+l8a7xtlxnqbd5SuojfkqR11N8XxQnIB9STiW6HzBR9fYHGlz8c76u/pfE+VK6P0s8fhbeKbOce/pSLy9vrnHePc6083gasu9ZTNuXft1u1LDyxG8Z5rkfss7uF7C5+U5x/ESSweE9kWF1la3yXOdXLLJcXEoAK448AAhHuRlScn36GLAgghpaeKnp4o4YIkCRxxqFVFAwAAOgAPpr0000001D9/XD+R0W3ozfKaqvkvw9NcLVHk0sikMGduQIXAJIHZRZPbGdVR5w3R93bdtOwUrp62up4oJLhWerj1eKEBXXJJZjiQhj18h7zkef2c9rtPdLhuieOMwUyGkpuSKx9VsM7Kc5UquB7diQ99Ea6L001j19DT3O3VNBWR+pS1UTQzJyI5IwIYZHYyCfbXFm7dtXLx/vGW2vUSCeldZqWsiDR8190kQ+4IIx0ThlIBOM66Dtl4ffmy6TfdjsNDVb3tmaWJHZkRHJAkUksgZTG5cAsePMgEnObIs13o73bkqqOsoarGEmNDUiojSTALKHGM4yPcA4IOBnWw0000000000000000001V9FfKy22e9eS77HfLappPTTb1bUEwpIGCqyDjleZEYBKAqWkJyrA65w/2Y8h75/wB9ud3q/wDjskeT/wBJhGi/18VX92ux9q7ep9qbXt1jpW5x0kQUvgj1HJy74JOOTFjjPWcDrW40001V/mbx1+mNiF1oOrvbInZEWLkaqP3MfQ5FhglB2MsRj5sihPGm/pvH+5TWNFJUW+pQRVlOjkErnIdRnBde8Z+hYZGcjov06fY9V9+0Nfard4/+E9aeGnpzK0tRLJ1KhQZ4kNGAcsAowFAwVsDTTTTWj3Tuqh2ja4q6uhq6gz1CU1PT0kXqSzyvnCqMgZwCeyPbHuQDp4d5XyiNEdx7Oq7fHW1ENNHLSVkVWsMkkhQCbHEoM8TyHIfOBkN8uthvTeVDse10dwuEcjQVFbFSll9ow2SztjJwqqxwASSAPrkZm6rzUbe2vcbxS2/4+SiiMxp/WEXJAcueRBxheTe3eMDs6ido8g7krI7XX3HY0lFZbg8CrXJdYZiomZVib08BsFnTP1AJOOsax4/Im8KncF2stH4+jqqu1Oi1Pp3uNVAcFkYF0GQyjP5j6gHrXncvLFxoK/btGNqYkvUrUoM9xVBDVJOYZYzwR8qrcTzHuG6GQRrcbKuG4qe7V9g3BabqrJzqoLlUVUdVDKpfBQSJHGF7PJUI5BSelAUanGmmmmq7ulFD5MvL2yqhttx2ZTok8VfQV4eQ1isMxtxb5QY3cEYPTAhgSAtIeXvJa76ukNDbBIlloXYxMxZTUuevUK+wAGQoIyAzE45cRY/gXx8tttY3bc4I2rK1P5ArxsHp4uwX76y4xggfhxg4cjV2aaaaaa5086eNGo6iq3razH8JK6mvp8KnpOSFEi4xkMxHIe/I57BPGP8AibyzNs2oSz3h5Jtvyv0cFmo2J7ZR7lCe2Uf1jvIa91lu+zq8rVfF3q23S51NTPXSTiNbRCVDKpDsR6ShX+bKgY6BJCmWUNfR3OjjrKCrgq6WTPCaCQSI2Dg4YHBwQR/DWRppqr/KVP6G7diX6rofXtFuuDLVzNL6aUzSNGI5Hb6KrLyyflPEKSOQzPL3f6Hb6ULVzSZrq2Kip1ReRaWRsD9wAGSSfoD7nANb7utu49+7lvFPt5rNNaaKie0Tm5HknxEhSSVovTDHmnGDt8BWU4GQTr0sV2qLh4D3BQV1N8PX2O31lqqkGOIeGEgYIY5+Urk/33LHWNbDxpZdwUkVpudVefjbJPt+lSnppGZHpX4qeIRcRsuM/OwL/hXOAS2rpbXd7l5g3m1qvElCKettEtVCFHGqhVOToWxyU4Bxg4OSrDByNh5AAbyf48Q3KS2l3r0WpjMfJWaJAoHqKy5YkLgg55dd41INl0y7Yt1HtK4XeOuvSpU1jNli8sTVDH1WzkgkyLnJ7PLBbBOpZpppqP1NTcbteJLdbpa61fdlXTy1FTNQq8NfCylmiiYn+oMw7U/nnVGeWfJdNFTvsrZgpKWzomKmooCgjmDjkY4+HQT5vmI7Y5HQzy0/hvxo28Lot8uBjFlt9QA0ZCuamVcN6ZU5HDBXkSOwcD3JXqvTTTTTTXnPBDVU8tPURRzQSoUkjkUMrqRggg9EEfTXLHlnxNNs2oe8WdJJtvyv2Mlmo2J6Vj7lCelY/wBR7wW8/FvlH9F+W39wL8Ztiq5I6SJ6nw3L8RC/tRnJ5J+8kd5DXHir2dQVG4NpSSbi278PHS0FgtaIY4eLANKJVLM55epyIVmJcculys8tl6oLt6sdLVQPVU+BVUqzxySUrnPySBGYKwIYe/upxnWw015zwQ1VPLT1EUc0EqFJI5FDK6kYIIPRBH01q6Tae27fKZaLb9qppDxy8NFGhPFg47A+jKrD96g+41kWyxWeyer902qhoPWx6nwlOkXPGcZ4gZxk/wCM61/6CbP/AKKWP/u6H/V1tLbabbZqdqe12+koYGfm0dLCsSlsAZIUAZwB3+4aw6Hae27ZWR1lBt+1UlVHnhNBRRxuuRg4YDIyCR/HXpcttWG81C1F0sltrp1TgslVSpKwXJOAWBOMk9fvOlt21YbNUNUWuyW2hnZODSUtKkTFcg4JUA4yB1+4a2mmserraehiElRJx5cuCKpZ5CFLlUUZZ24qx4qCTg9artqxfKdketkqI6LYk1FKtZHVxNDVesj5EgfPAInBWDAsueasD+zWnlHynTtbl2Ts2X07LSxLTT1Ubk+sijiIkYnJjAGC2fn9vw5LxPxp40rt/wB0LuZKay07gVVWB2T7+nHnouR9fZQcnOQG63tVqobHa6e2WymjpqOnThFEnso/8SSckk9kkk9nWZppppppprznghqqeWnqIo5oJUKSRyKGV1IwQQeiCPprnjyX4Lmo3F02VSSTUnA+vbhIWeLiueUZY5cHH4clsnrIOFrfY/kG9bEukc9DPJNQFyai3vIRFMDgE49lfCjDgZGB7jIN72e/7V8iOqbSusm1Lt95x1VWqQRQ1VwVVdiOmIkB5MTy54IJZcHuSfpndLHcfht1Wn0I7he/u+zyUQ5+pGxwjy9lU+n7XI/NhAFJMwpa+jrvX+Dq4Kj0JWhm9GQP6ci/iRsHphkZB7GsjTTTTTTTTUTn3lNU3Sjptu2iS8U/3nJbrlUrKYRQSJxLFgy/OApY5HRIABywGoveo7Rte1266+UbzHebtQ1ss9pkghML9cWVVjjIDH9WhJf5VLhScYJpTf3lq+7650f+59mbgfgInDcmXvLvgFuznHS9L1kZ1IPGXhWs3J8FfNwD4ayP+sSmyVmql64/T5Y277zyIHQAYNrpehoKO2UcdHQUkFJSx54QwRiNFycnCjoZJJ/jrI00000000001W/kfxFa98+rcqZ/gb6IuKTD+bnIxxEoxk9DiGHYBGeQUDXNm69ibj2ZUFLzbpI4C/GOrj+eCTtsYcdAkKTxOGx2QNTjann/AHHY6cUt5p473AicY3kk9KdcBQMuAQwwD7qWJbJb6as/aNd4/wBwPSUm0b7V2Z1rRcZrVTS/DmolKglGVweSBUIKRHgB/wBE63n/AMRrVbv/AKVe66a9/wD88cNAR/AqwI/+4QG/bxpXeTbdZfvSW/Wu62uko7hHRQVM9K3Cr5Zy8ePdRwkY4z8oUjJYLrcNvfbSS3WNrvAPumWKGuchuEDytwQM2OP4uj38uDyxg6zKncthoqipp6u922CelQPURy1SK0KkqAXBOVBLr2f74fmNen37Z/8ACtD/ALU+N/2wn+1/9+9/5v8A43t+/WHHvHbk10tttp7xSVFXckkekSnf1RIqZ5HkuQB8rDJIyVYDJB1q4fI1rq4LBUUNBdaylvlXLTUs8FNlEKOVLSZIKqQrOOs8VYkDBGsemrd9bjo7bVxUEG2mp7rxr6OqcTvU0qEBijhcLk8gBx7wGDgfi0df+he13I3zuuO8XClvBrqJqgs1VRFlVkThESQnyhscVQkr8o61BN3faIuNZyptqUf3fD1/LKpVeY/hPSdovYYd88gg/KdVfbLJunf14laip6671zY9aokctj5Tx5yOcDpSByPeMDXQex/BFl288dffpI7zXhCPQeIGljJUZ+UglyDywzYGCDxBAOrc000000000000015zwQ1VPLT1EUc0EqFJI5FDK6kYIIPRBH01T+6/s92C405l21NJaatEwsUjtNBIQG9+RLKSSo5AkAD8JOqc3D4j3rt6sED2ae4Rt+Ce2o1QjYAJ6A5L74+YDODjIGdauwb+3XtdFis98q4IFQosDESxIC3I8Y3BUHPeQM9n8zqxLN9o7cFJwS72mhuEaRBeULNTyO4x87H5l77yAo7PWAMa2EPnnbdfWVK3jYUApa7j8dIkkc7zcB+r5KyKHwQMcm6+ntjWXX+XPFt0qLjUVu1blNPcqdaarkalh5SxqcgZ9XIIOPmGD8qd/KuPRPMXi9IqWM7UrpfhKQUcDzUMEjpAFKenyaQsV4lgQT3k59zrzk86bJoUhNo2bJzoEzbg0MMAiaRj6oUry9MFcHK55EkEDGTrLn9pO8S+l907foaXGfU+Kmeo5e2MceGPr+ecj2x3Xd68mb03DT/D3HcFW0HBkaOHjAsisMMHEYUOMfRs+5/M689veOt3bqo2rLPZJ56Ue0zskSP2R8rOQGwVIPHOPrjVz7R+zvbqPjU7rrPvCbv+R0jMkI/EO36duuJ64YII+YauihoKO2UcdHQUkFJSx54QwRiNFycnCjoZJJ/jrI000000000000000001o7/s7bm6UZb1Z6SrcoE9Zk4yqobkAsgwyjOegR7n8zqD3L7P2yK6oWWnFyt6BOJipakMpOT8x9RXOe8e+Oh176jdb9mmjkrJGoNzzwUpxwjnoxK69d5YMoPef2R/H31j/wBrN/yu/wA2/wDu6f2s3/K7/Nv/ALun9rN/yu/zb/7upRQ/Z62VSVkc80t1rY1zmCeoUI+Rjsoit179Ee35danFk2PtbbnoNabDQ080HL06j0g8y8s5/WNlz0SPf269tSDTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTX/2Q=="\n\n            </div>\n            <div class="header">\n              <h2 style="font-size: 14px; margin-left: 4rem">NUOVO CAFFE</h2>\n              <div class="line"></div>\n              <p><strong style="font-size: 10px;">De Aylen Leonela Lupino</strong></p>\n              <p><strong style="font-size: 10px;">Cuit: 27-37630138-4</strong></p>\n              <p><strong style="font-size: 10px;">Dom.Comer: Libertad 321</strong></p>\n              <p><strong style="font-size: 10px;">CP: 5196</strong></p>\n              <p><strong style="font-size: 10px;">Sta Rosa de Calamuchita</strong></p>\n              <p><strong style="font-size: 10px;">Documento no v\xe1lido como factura</strong></p>\n              <p><strong style="font-size: 10px;">Pida su factura en caja</strong></p>\n              <div class="line"></div>\n              <p>${(new Date).toLocaleString()}</p>\n            </div>\n            <div class="order-list">\n              ${this.orders.map(a=>{const c=a.quantity??1;return`\n                    <div class="order-item">\n                      <p style="font-size: 12px">${a.name}</p>\n                      <p style="font-size: 12px">x${c}</p>\n                      <p style="font-size: 12px">$${(a.price*c).toFixed(2)}</p>\n                    </div>\n                  `}).join("")}\n            </div>\n            <div class="line"></div>\n            <div class="totals">\n              <p><strong>Total:</strong> $${this.total.toFixed(2)}</p>\n              ${this.discountPercentage>0?`<p><strong>Descuento (${this.discountPercentage}%):</strong> -$${(this.total*this.discountPercentage/100).toFixed(2)}</p>\n                     <p><strong>Total con descuento:</strong> $${this.discountedTotal.toFixed(2)}</p>`:""}\n            </div>\n            <div class="line"></div>\n             \x3c!-- Aqu\xed agregamos el nombre de la mesa y del mozo --\x3e\n              <p style="font-size: 10px"><strong style="font-size: 10px">Nro de mesa:</strong> ${e}</p>\n              <p style="font-size: 10px"><strong style="font-size: 10px">Atendido por:</strong> ${i}</p>\n               <div class="line"></div>\n          </div>\n          <script>\n            window.print();\n            window.onafterprint = function() {\n              window.close();\n              window.opener.postMessage('closeDialog', '*');\n            }\n          <\/script>\n        </body>\n      </html>\n    `,o=window.open("","","width=600,height=400");o&&(o.document.write(r),o.document.close(),o.focus()),this.gestionService.saveLog(`Se imprimi\xf3 <strong>el ticket final</strong> de la mesa <strong>${e}</strong> atendida por <strong>${i||"Sin asignar"}</strong>`)}static{this.\u0275fac=function(i){return new(i||n)(O(Hm),O(Oc),O(aa))}}static{this.\u0275cmp=ht({type:n,selectors:[["app-total-dialog"]],decls:64,vars:8,consts:[["mat-dialog-title","",1,"text-center","mb-4"],[1,"row","mb-3"],[1,"col-8"],[1,"col-2","text-center"],[1,"col-2","text-end"],["class","row mb-2",4,"ngFor","ngForOf"],[1,"row","mt-4"],[1,"col-4","text-end"],[1,"mt-4"],[1,"d-flex","flex-wrap"],[1,"btn","btn-primary","m-1",3,"click"],["align","end"],["mat-button","","mat-dialog-close","",1,"btn","btn-secondary"],["mat-button","",1,"btn","btn-primary",3,"click"],["mat-button","","color","warn",1,"btn","btn-danger",3,"disabled","click"],[1,"row","mb-2"]],template:function(i,r){1&i&&(H(0,"h2",0),se(1,"Detalle de la Orden"),j(),H(2,"mat-dialog-content")(3,"div",1)(4,"div",2)(5,"strong"),se(6,"Producto"),j()(),H(7,"div",3)(8,"strong"),se(9,"Unit"),j()(),H(10,"div",4)(11,"strong"),se(12,"Subtotal"),j()()(),Re(13,yEe,9,8,"div",5),H(14,"div",6)(15,"div",2)(16,"strong"),se(17,"Total:"),j()(),H(18,"div",7)(19,"strong"),se(20),Fo(21,"currency"),j()()(),H(22,"div",8)(23,"h5"),se(24,"Aplicar Descuento"),j(),H(25,"mat-accordion")(26,"mat-expansion-panel")(27,"mat-expansion-panel-header")(28,"mat-panel-title"),se(29," Escoge un descuento "),j()(),H(30,"div",9)(31,"button",10),Me("click",function(){return r.applyDiscount(0)}),se(32,"0%"),j(),H(33,"button",10),Me("click",function(){return r.applyDiscount(5)}),se(34,"5%"),j(),H(35,"button",10),Me("click",function(){return r.applyDiscount(10)}),se(36,"10%"),j(),H(37,"button",10),Me("click",function(){return r.applyDiscount(15)}),se(38,"15%"),j(),H(39,"button",10),Me("click",function(){return r.applyDiscount(20)}),se(40,"20%"),j(),H(41,"button",10),Me("click",function(){return r.applyDiscount(25)}),se(42,"25%"),j(),H(43,"button",10),Me("click",function(){return r.applyDiscount(30)}),se(44,"30%"),j(),H(45,"button",10),Me("click",function(){return r.applyDiscount(35)}),se(46,"35%"),j(),H(47,"button",10),Me("click",function(){return r.applyDiscount(50)}),se(48,"50%"),j()()()()(),H(49,"div",6)(50,"div",2)(51,"strong"),se(52,"Total con Descuento:"),j()(),H(53,"div",7)(54,"strong"),se(55),Fo(56,"currency"),j()()()(),H(57,"mat-dialog-actions",11)(58,"button",12),se(59,"Cerrar"),j(),H(60,"button",13),Me("click",function(){return r.printTicket()}),se(61,"Imprimir"),j(),H(62,"button",14),Me("click",function(){return r.liberarMesa()}),se(63,"Liberar Mesa"),j()()),2&i&&(ue(13),ye("ngForOf",r.data.orders),ue(7),Vi(os(21,4,r.total)),ue(35),Vi(os(56,6,r.discountedTotal)),ue(7),ye("disabled",!r.isTicketPrinted))},dependencies:[_c,Zu,kq,Sq,GM,$M,O9,qO,GO,P9,oz],styles:["mat-list-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #e0e0e0}.order-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.total-amount[_ngcontent-%COMP%]{margin-top:16px;text-align:right;font-size:1.2rem;font-weight:700}mat-dialog-content[_ngcontent-%COMP%]{max-height:400px;overflow:auto}mat-dialog-actions[_ngcontent-%COMP%]{margin-top:16px}.header-row[_ngcontent-%COMP%], .data-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;font-weight:400;padding:8px 0}.header-row[_ngcontent-%COMP%]{font-weight:700;border-bottom:2px solid #ccc}"]})}}return n})();function xEe(n,t){if(1&n){const e=Li();H(0,"div",10)(1,"input",11),Me("change",function(r){const s=Pt(e).$implicit;return Ot(Oe().onTableSelectionChange(r,s.id))}),j(),H(2,"label",12),se(3),j()()}if(2&n){const e=t.$implicit;ue(1),Yg("id","table-",e.id,""),ue(1),Yg("for","table-",e.id,""),ue(1),ir(" ",e.name," ")}}let EEe=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.gestionService=r,this.tables=[],this.selectedTableIds=[]}ngOnInit(){this.loadTables()}loadTables(){this.gestionService.getTables().subscribe(e=>{this.tables=e.filter(i=>i.id!==this.data.table.id&&i.available)})}onTableSelectionChange(e,i){e.checked?this.selectedTableIds.push(i):this.selectedTableIds=this.selectedTableIds.filter(r=>r!==i)}onCancel(){this.dialogRef.close(null)}onConfirm(){this.dialogRef.close(this.selectedTableIds)}static{this.\u0275fac=function(i){return new(i||n)(O(Oc),O(Hm),O(aa))}}static{this.\u0275cmp=ht({type:n,selectors:[["app-link-tables-dialog"]],decls:17,vars:2,consts:[[1,"text-center","mb-3"],[1,"fw-bold","text-center"],[1,"text-primary"],[1,"table-list-container","border","rounded","p-3","overflow-auto",2,"max-height","300px"],["class","form-check d-flex align-items-center gap-2",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","mt-4","gap-2"],[1,"btn","btn-outline-secondary","d-flex","align-items-center","gap-2",3,"click"],["fontIcon","cancel"],[1,"btn","btn-primary","d-flex","align-items-center","gap-2",3,"click"],["fontIcon","link"],[1,"form-check","d-flex","align-items-center","gap-2"],["type","checkbox",1,"form-check-input","cursor-pointer",3,"id","change"],[1,"form-check-label","fs-5","table-hover",3,"for"]],template:function(i,r){1&i&&(H(0,"h2",0),se(1,"Vincular Mesas"),j(),H(2,"div")(3,"p",1),se(4," Selecciona las mesas que deseas vincular con la "),H(5,"span",2),se(6),j(),se(7,": "),j(),H(8,"div",3),Re(9,xEe,4,3,"div",4),j()(),H(10,"div",5)(11,"button",6),Me("click",function(){return r.onCancel()}),et(12,"mat-icon",7),se(13," Cancelar "),j(),H(14,"button",8),Me("click",function(){return r.onConfirm()}),et(15,"mat-icon",9),se(16," Vincular "),j()()),2&i&&(ue(6),Vi(r.data.table.name),ue(3),ye("ngForOf",r.tables))},dependencies:[_c,Gb],styles:['@charset "UTF-8";.table-list-container[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;padding-right:10px;margin-bottom:20px}',"\n\n  .table-hover[_ngcontent-%COMP%] {\n    transition: color 0.3s ease, text-decoration 0.3s ease;\n  }\n  \n  .table-hover[_ngcontent-%COMP%]:hover {\n    color: #007bff; \n\n    text-decoration: none;\n    cursor: pointer;\n  }\n\n  \n\n  .cursor-pointer[_ngcontent-%COMP%] {\n    cursor: pointer;\n  }"]})}}return n})(),bv=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]})}}return n})(),VEe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[wn,bc,wn]})}}return n})();function BEe(n,t){if(1&n&&(H(0,"p",20),se(1," Mozo: "),H(2,"strong",21),se(3),j()()),2&n){const e=Oe().$implicit;ue(3),Vi(e.waiterName)}}function UEe(n,t){if(1&n&&(H(0,"p",22),se(1),j()),2&n){const e=Oe().$implicit,i=Oe();ue(1),ir(" Mesa administrada por ",i.getTableNameById(e.controlledBy)," ")}}function jEe(n,t){1&n&&(H(0,"span"),se(1,", "),j())}function zEe(n,t){if(1&n&&(H(0,"span"),se(1),Re(2,jEe,2,0,"span",12),j()),2&n){const e=t.$implicit,i=Oe(2).$implicit,r=Oe();ue(1),ir(" ",r.getTableNameById(e)," "),ue(1),ye("ngIf",!r.isLastLinkedTable(i.linkedTables,e))}}function HEe(n,t){if(1&n&&(H(0,"div")(1,"p",20),se(2," Mesa vinculada con: "),Re(3,zEe,3,2,"span",23),j()()),2&n){const e=Oe().$implicit;ue(3),ye("ngForOf",e.linkedTables)}}function WEe(n,t){if(1&n){const e=Li();H(0,"button",24),Me("click",function(){Pt(e);const r=Oe().$implicit;return Ot(Oe().unlinkTables(r))}),et(1,"mat-icon",25),se(2," Desvincular\n"),j()}2&n&&ye("disabled",Oe().$implicit.controlledBy)}function qEe(n,t){if(1&n){const e=Li();H(0,"button",29),Me("click",function(){Pt(e);const r=Oe(2).$implicit;return Ot(Oe().openTableInfoDialog(r))}),et(1,"mat-icon",30),se(2," Ordenes "),j()}2&n&&ye("disabled",Oe(2).$implicit.controlledBy)}function GEe(n,t){if(1&n){const e=Li();H(0,"button",31),Me("click",function(){Pt(e);const r=Oe(2).$implicit;return Ot(Oe().openTableInfoDialog(r))}),et(1,"mat-icon",30),se(2," Ordenes "),j()}2&n&&ye("disabled",Oe(2).$implicit.controlledBy)}const $O=function(n,t){return{"btn-success":n,"btn-danger":t}};function $Ee(n,t){if(1&n){const e=Li();H(0,"button",14),Me("click",function(){Pt(e);const r=Oe(2).$implicit;return Ot(Oe().openTotalDialog(r))}),et(1,"mat-icon",32),se(2," Total "),j()}if(2&n){const e=Oe(2).$implicit;ye("ngClass",i_(2,$O,e.available&&!e.controlledBy,!e.available||e.controlledBy))("disabled",e.controlledBy)}}function KEe(n,t){if(1&n&&(H(0,"div",13),Re(1,qEe,3,1,"button",26),Fo(2,"async"),Re(3,GEe,3,1,"button",27),Fo(4,"async"),Re(5,$Ee,3,5,"button",28),Fo(6,"async"),j()),2&n){const e=Oe(2);ue(1),ye("ngIf","admin"===os(2,3,e.role$)),ue(2),ye("ngIf","user"===os(4,5,e.role$)),ue(2),ye("ngIf","admin"===os(6,7,e.role$))}}function QEe(n,t){if(1&n){const e=Li();H(0,"button",33),Me("click",function(){Pt(e);const r=Oe().$implicit;return Ot(Oe().printTicket(r.id))}),et(1,"mat-icon",34),se(2," Imprimir Comanda\n"),j()}}const YEe=function(n,t){return{"bg-free":n,"bg-bussy":t}};function XEe(n,t){if(1&n){const e=Li();H(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h4",7),se(5),j(),H(6,"div",8),et(7,"img",9),j()(),Re(8,BEe,4,1,"p",10),Re(9,UEe,2,1,"p",11),Re(10,HEe,4,1,"div",12),j(),H(11,"div",13)(12,"button",14),Me("click",function(){const o=Pt(e).$implicit;return Ot(Oe().addMenuItems(o))}),et(13,"mat-icon",15),se(14," Ordenar "),j(),H(15,"button",14),Me("click",function(){const o=Pt(e).$implicit;return Ot(Oe().openLinkTablesDialog(o))}),et(16,"mat-icon",16),se(17," Vincular "),j()(),Re(18,WEe,3,1,"button",17),Re(19,KEe,7,9,"div",18),Re(20,QEe,3,0,"button",19),j()()}if(2&n){const e=t.$implicit;ue(1),ye("ngClass",i_(12,YEe,e.available&&!e.controlledBy,!e.available||e.controlledBy)),ue(4),Vi(e.name),ue(3),ye("ngIf",null==e.waiterName?null:e.waiterName.trim()),ue(1),ye("ngIf",e.controlledBy),ue(1),ye("ngIf",e.linkedTables&&e.linkedTables.length>0),ue(2),ye("ngClass",i_(15,$O,e.available&&!e.controlledBy,!e.available||e.controlledBy))("disabled",e.controlledBy),ue(3),ye("ngClass",i_(18,$O,e.available&&!e.controlledBy,!e.available||e.controlledBy))("disabled",e.controlledBy||e.orders.length>0),ue(3),ye("ngIf",!e.orders||0===e.orders.length&&e.linkedTables.length>0),ue(1),ye("ngIf",e.orders&&e.orders.length>0),ue(1),ye("ngIf",e.orders&&e.orders.length>0)}}let JEe=(()=>{class n{constructor(e,i,r){this.gestionService=e,this.dialog=i,this.userService=r,this.tables=[],this.waiters=[],this.selectedItems=[],this.menuItems=[],this.role$=this.userService.getRoleState()}ngOnInit(){this.loadTables(),this.loadMenu(),this.gestionService.getWaiters().subscribe({next:e=>{this.waiters=e,console.log(e,"LOS MOZOS dede HOME")},error:e=>{console.error("Error al cargar los mozos:",e)}})}loadMenu(){this.gestionService.getMenu().subscribe({next:e=>{this.menuItems=e,console.log("Men\xfa cargado:",this.menuItems)},error:e=>console.error("Error al cargar el men\xfa:",e)})}loadTables(){this.gestionService.getTables().subscribe(e=>{console.log(e,"LAS MESAS desde CARD"),this.tables=e.map(i=>{const r=this.waiters.find(o=>o._id===i.waiterId);return{...i,waiterName:r?r.name:"No asignado",available:!i.controlledBy&&i.available,linkedTables:i.linkedTables||[]}})})}addMenuItems(e){e.waiterId?this.dialog.open(m1,{width:"400px",data:{...e,waiter:this.waiters.find(r=>r._id===e.waiterId)||null}}).afterClosed().subscribe(r=>{r&&r.length>0&&this.gestionService.addItemsToTable(e.id,r).subscribe(()=>{this.loadTables()})}):this.dialog.open(k9,{width:"400px",data:{table:e}}).afterClosed().subscribe(r=>{if(r){const{waiterId:o,waiterName:s}=r;this.gestionService.assignWaiterToTable(e.id,o).subscribe({next:()=>{e.waiterId=o,e.waiterName=s,this.gestionService.saveLog(`Se asign\xf3 el mozo <strong>${s}</strong> a la mesa <strong>${e.name}</strong>`),this.dialog.open(m1,{width:"400px",data:{...e,waiter:this.waiters.find(l=>l._id===o)||null}}).afterClosed().subscribe(l=>{l&&l.length>0&&this.gestionService.addItemsToTable(e.id,l).subscribe(()=>{this.loadTables()})})},error:a=>{console.error("Error al asignar el mozo:",a),alert("No se pudo asignar el mozo. Int\xe9ntalo nuevamente.")}})}})}openTableInfoDialog(e){e&&Array.isArray(e.orders)?this.dialog.open(eEe,{width:"600px",data:e}).afterClosed().subscribe(r=>{this.loadTables()}):console.error("La mesa no tiene \xf3rdenes o es undefined:",e)}openTotalDialog(e){e&&e.orders&&e.orders.length>0?this.dialog.open(wEe,{width:"600px",data:{tableId:e.id,orders:e.orders,tableName:e.name,waiterName:e.waiterName}}).afterClosed().subscribe(r=>{"mesa_liberada"===r?.status&&(console.log(`Mesa con ID ${r.tableId} liberada correctamente.`),this.loadTables())}):console.warn("La mesa no tiene \xf3rdenes.")}openWaiterDialog(e){this.dialog.open(k9,{width:"400px",data:{table:e}}).afterClosed().subscribe(r=>{if(r){const{waiterId:o}=r;this.gestionService.assignWaiterToTable(e.id,o).subscribe({next:a=>{console.log("Mozo asignado correctamente:",a),e.waiterId=a.table.waiterId,e.waiterName=a.table.waiterName,this.gestionService.saveLog(`Se asign\xf3 el mozo <strong>${e.waiterName}</strong> a la mesa <strong>${e.name}</strong>`),this.dialog.open(m1,{width:"400px",data:{...e,waiter:this.waiters.find(d=>d._id===e.waiterId)||null}}).afterClosed().subscribe(d=>{d&&d.length>0&&this.gestionService.addItemsToTable(e.id,d).subscribe(()=>{this.loadTables()})})},error:a=>{console.error("Error al asignar el mozo:",a),alert("No se pudo asignar el mozo. Int\xe9ntalo nuevamente.")}})}})}openLinkTablesDialog(e){this.dialog.open(EEe,{width:"400px",data:{table:e}}).afterClosed().subscribe(r=>{r&&this.gestionService.linkTables(e.id,r).subscribe({next:o=>{console.log("Mesas vinculadas correctamente:",o),this.tables=this.tables.map(s=>s.id===e.id?{...s,linkedTables:r,available:!1}:r.includes(s.id)?{...s,controlledBy:e.id,available:!1}:s)},error:o=>{console.error("Error al vincular las mesas:",o)}})})}unlinkTables(e){this.gestionService.unlinkTables(e.id,e.linkedTables).subscribe({next:r=>{console.log("Mesas desvinculadas correctamente:",r),this.loadTables()},error:r=>{console.error("Error al desvincular las mesas:",r)}})}getTableNameById(e){const i=this.tables.find(r=>r.id===e);return i?i.name:"Desconocida"}getControllingTableName(e){const i=this.tables.find(r=>r.id===e);return i?i.name:"Desconocida"}isLastLinkedTable(e,i){return e.indexOf(i)===e.length-1}printTicket(e){const i=this.tables.find(a=>a.id===e);if(!i)return void alert("Mesa no encontrada.");if(!i.orders||0===i.orders.length)return void alert("No hay \xf3rdenes registradas para imprimir.");const r=(new Date).toLocaleString(),o=`\n    <html>\n      <head>\n        <title>Ticket</title>\n        <style>\n          @page { size: 58mm landscape; margin: 0; }\n          body { font-family: 'Courier New', monospace; font-size: 14px; font-weight: bold; margin: 0; padding: 0; text-align: left; }\n          .ticket { width: 58mm; padding: 5px; }\n          .header { text-align: left; margin-bottom: 5px; }\n          .order-list { text-align: left; word-wrap: break-word; }\n          .order-item { display: flex; justify-content: space-between; width: 100%; }\n          .order-item p { margin: 0; padding-right: 5px; }\n          .totals { margin-top: 5px; text-align: left; }\n          .line { border-top: 1px dashed #000; margin: 3px 0; }\n          .logo { text-align: center; margin-bottom: 10px; }\n          .logo img { width: 70px; max-width: 58mm; height: auto; }\n        </style>\n      </head>\n      <body>\n        <div class="ticket">\n          <div class="logo"><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBUODAsLDBkSEw8VHhsgHx4bHR0hJTApISMtJB0dKjkqLTEzNjY2ICg7Pzo0PjA1NjP/wAALCADhAOEBAREA/8QAGgABAAIDAQAAAAAAAAAAAAAAAAYHBAUIA//EAFIQAAIBAwQBAgMEBQQKEAcBAAECAwQFEQAGEiEHEzEUIkEIFTJRFiNCYYEkM1ZxFxg3UlWRpKWz0iU0NVNXYmZ1goOTlbHR0+MnQ0VjcnN0of/aAAgBAQAAPwC/9NNNNNNNNYdyu1ts1OtRdLhSUMDPwWSqmWJS2CcAsQM4B6/cdVff/tCbUtqMtnhq7xPwDKVQwRZ5YKszjkCB30hHYGffEIuX2kr9LUK1rsdtpoOGGSqd52LZPYZSgAxjrH0PffUT/s2eQ/6Q/wCRU/8Aqaf2bPIf9If8ip/9TT+zZ5D/AKQ/5FT/AOpp/Zs8h/0h/wAip/8AU1KKH7SG5I6yNq+zWqelGeccAkiduusMWYDvH7J/h76m9k+0Rtav9CO7Udda5n5eo/ETwx4zj5l+c5AH7HRP5d6sjb26rFuujaqsdzgrY1/GEJDx9kDkhwy54nGQM4yOtbjTTTTTTTTTTTTTTTTUb3XvvbmzKcvebjHHOU5R0kfzzydNjCDsAlSORwueiRqhN5efr7evWo9vRfdFC2V9bIapkX5hnl7R5BU4XLAjp9V3RWrc29rpJLS01yvFY7ok055SlSflX1JD0owMZYgAD8hqyLB9nbcdwRZb1cKS0oyE+mo+IlVg2AGAIXBGTkOfp1743du8X+LrJbqG63vdX3tTvV/BtNDOq0jzMCVVvTyyYXBJMgHWSQDjWRMPEFlo7xUJs+uqPuS6pTViBHmMbqZAkhLycfSZlZSCezx5L+HUovFJZ7b+kvw3iihrfun4b4T07en+yHq458MRH+bz3jl7d40jj236V4qZvE/GloYqSSnWOzRtPVesoLKsZQDlGThgGOMH2xjWvu1v8bVN4u1ruexZ6Oqt1qF0mEcCU6vEi5IRopAGYGRlOPlLJgseC408/jnxLd6y3COvrrHNWWpblHSGpCgwEFi7NKHHIAHID9BCcYBOtBc/s73QW6Kt29f6G7xvEZQGT0fUGAU9NgXVuX5kqPbvB6ru+bP3Xseopqq6W2rt7h1eGqjcMqvklcSISA/yk4znrOpZtHznunbnGnuT/flCM/JVyETL+I9S9k9kfiDdKAMavfZflXbW9fhaWmqvhrvLEXe3zBgylfxBXwFf8xg549kDBAnGmmmmmmmmmmmmvOeeGlp5aioljhgiQvJJIwVUUDJJJ6AA+uuePIPnyaujmtezxJT07o0ctxlUrKfmxmEZ+QFR+Jhy+boKVzqp7Nt3ce9bpMtroau5VbuXnmJyAzZbMkjHAJw3bHs/mdXXY/C20dsVlFFva8QV1Zc8QUdGGeBPWxluLBgz/RQTxHzAEcmUCcWS7bgrqOzjbW1ILDaY7hLBX0dzpmp5I4MhxLCi4HzAsD0cO2OwC2sim8fVFVR21dzblrrvV226/eVNUIgpxnIYRsmWVlDciD0VB4qVHR3lt2dty0U7U9FZ6SOA1vx6xsnNY6jAHqIGyEIAGOOAPpjW81h3K7W2zU61F0uFJQwM/BZKqZYlLYJwCxAzgHr9x1C/7Nnjz+kP+RVH+pqcUNfR3OjjrKCrgq6WTPCaCQSI2Dg4YHBwQR/DWPX2O13P4k1lBBJJVUjUc03DEjQNnlHzHzBTknAPv3760cewqGgultuFmrKu3G10UlJR0SPypAGyS0kfTOSxVm+cFiiknIzrDoG3jQ0dst26KGhvVDLSVX3xXQfMQcsUUQBBzUphOKqSSfYY+eBy+OPHnkGyW+62GWTblZdXnelhdlJmKPiT9QXIwoVsCMqAGBPQA1Tm8dgbg2PWeldqXlTtx9OtgDNBISCeIcgYb5W+UgHrOMYJnGwfO10sHCg3L691to5kVGedWhPYHJmAdc56PY5e+FC66TtV1ob5a6e52ypjqaOoTnFKnsw/8QQcgg9ggg9jWZppppppppprT7m3Na9oWKa73ef0qePpVXt5XPsiD6scH/EScAEjlDyJ5NunkGsiEsfwVsgwYaFJOYD4wXZsDk3ZA6GB0PckyjYvhr16Mbh31UfctoglHKlq/wBQ8y5x87MR6SluIH7Td445VjadkqGrag2bx9SR2O32G8JBd/iKNQtaqHjII5AW5PxQZLAMeSHkv13lk2Htvalumlqj8f6NXJcTX3j05ZIJCF5yCQqOP82rFvfIyTrabd3baN1PcRZ5pKiKgqPh3qBGfSkbiCTG/s4Gcdfln2Klt5pprnjYcT+ZfIty3BuNfUtNs4PT2tp2eKN36QcSMFcREvjjybGQQSNdBzwQ1VPLT1EUc0EqFJI5FDK6kYIIPRBH01Qd4qovDXmZKqkp/R21fYkNRCqOsMHzYcpjIZkI54A6WQqAMg66A001o7xtK0XuviuU8MkN0gp5aenuFNIY54VkVlJUjokBmK5B4kkj3Oo2Fvu06M266Rffu1KKyTT3G41sgepnmBdnQIzHkpXoK2AAe3OMGsN8eFYqq3R7l2APXtk1ItQKAlzIykAhouQLNlTyKseWQcZyFFZ7N3xetiXR66zyxkSpwmp5wWimHeOQBByCcgggjsexIPWexd9WvftiFfQH0qiPC1dI7Zenc/Q/mpwcN9cfQggSjTTTTTTTWn3Nua17QsU13u8/pU8fSqvbyufZEH1Y4P8AiJOACRyBvrfV035fTX159KnjytJSI2Up0P0H5scDLfXH0AAFv+O/FlPsy0y743ZF8RUUdIa2nokQ5pwqcyWVwv60dgKelIzknBWxJduTbyeqbcYjqts19PT1FJaqqlMNVRTBfmBdSCp/PsnLFegDzyNyeRLDtq6UVpkkkrrtWVCU8dBRMjSqzY4l+TKEB5LjkRnlkZAJGZubZ9u3d8LFdp65qGHn6lDDUtFDU5xj1QuC3EqCvYwfz1C/Gs9Xsq8z+NL3LHJJEj1lpqlZFWop2Y5Tj+IOG5tg8j+PvioJtTTWvvts++9u3O0+t6Px1JLT+rx5cOaFeWMjOM5xkapP7OEi0lRue1VMMdPcI3hZo5CyzkKXVlKE9BGx7AEF8EnoC/Nc/wDneGs3Pv7a20qCmzVNE0iSkkj9a/E8gASFUQlie+ieuu+gNNNUH5XuVXt7zHt+r2osibirKdI54yEWCrVpOEaP2CxJUglj0FjIIK5F0WCqu9Va1N8t8dFcI3McohlDxS4/+ZGc5CN7gNhh2COsnR3qxXi23G5bh2wfjb3cPh6cw3KrcUlPCpwWWNcZxksQTkcnK9kq8P3749s3lP4y57aq4Ib7b6tqGrkkR0jlePAZH+XPJQRhwDkfL2MFefLBf71sbcq19A0lLX0zmKaCZSAwB+aORejjI7HRBGRggEdd7F31a9+2IV9AfSqI8LV0jtl6dz9D+anBw31x9CCBKNNNNNNec88NLTy1FRLHDBEheSSRgqooGSST0AB9dcgeS/Jddv8AugRBJTWWncmlpCeyfb1JMdFyPp7KDge5LTzxvsmxbLsVJ5B3xVQQrJwe3QuDII+XaSFVBLSEfMFAPEDkex8lr2jb9fdb7T7l3VSwQXa3y1MNvgo6qR4UgfCh2B6MhAb5gFyrDkoIAWUV9L8dbqmj+Inp/XiaP1qd+EkfIEckb6MM5B+h1Qnl3x0u0zSb32qskD0dQJa1pqlpmEpkBjm/W8ixLnDZJ916/EdXHsvdlHvba9Le6NPS9TKTQGQO0MinDKSP4EZwSpU4Gca0flSxzVe2juK2VUlHfNvJJWUVSshUBQAZUYYIYMinojsgAniWBlliuf33t22Xb0fR+OpIqj0uXLhzQNxzgZxnGcDWw01B92bDqLjeF3Lte6fcm5Y4miaoEYeOrTjgJKp6OCFw2DgAdHivHDnj8xTU8sSTbKgd0KrLGKkshI/EOQIyPfsEfmDrM2p41o7BfajcdzuE973HU59SvqUChM5H6tBnh8uF9zgDA4gkanGmmqHpW/TH7UU8olgqqGwxMFSaPHH014EKOPbLPIWBP5ZB6XVyX/cVo2ta2uV6ro6SkDhObAsWY+wVQCWPucAHoE+wOq/8Z1+/IqhqG7WW5T7flqJWo7jdqlEraeIF+KyoTyckhR7DGSQSuMSzeVqrKiKkvVFX3VJLN6lUbdQTFBceK8hC4AOcsij2PRYYy2RXe99i03lCzC+Wyljtm8YKeN6y2SzJ6hDLlUlAPyOVHyMwUkYDAfsUp4/3jUbG3bTXaL5qdsQ1kYQMZICwLBckYboEdjsDPWQez6Ctp7nbqavo5PUpaqJZoX4kckYAqcHsZBHvrI00001Q/wBoLfSRUa7Mojymm4T1zhlIVASUiI7IYkK59sAL7hjiIeFPHH6V3gX65xQS2SglKNDL83xEwUELxz+FeSsc9HpcEFsXHY6cb/vNTuKonvMdj4NQybdu9FGIXkjYEvxPIEBvrjmHQjlgcdWJprHr6GnuduqaCsj9SlqomhmTkRyRgQwyOxkE+2ufLHX13gzyDU2i8mrbadydmppQ3qKBkcZelGXVcK6qAewcMAmZvcvLC7lqF2945SS43iqQH46WFo6ejTJDSPzGSV6644yw/EfkM82rt6n2pte3WOlbnHSRBS+CPUcnLvgk45MWOM9ZwOtbjTWvud9s9k9L72utDQetn0/iqhIueMZxyIzjI/xjWw00001zJ4lvV6r91bnvFo27HX364uD8Q0xhpKJZXZnZ8klhz9MhBliqNg9HNx7d8epBcY9w7qq/v7cpijVqidF9GmKnkBAnEBcHHzYySCRx5MDONNQfcFmnse4xu+zpaqSM/rNw1dWJXmkpY0A4xAA8cKCxC4yyR5yMg1J5p2paK610fkHa4jloa9/5a8GeBZvwy8cfISwZXyR8xUY5Fs+fgHfSWe8SbVrjilucoelkLKqxz8cEHOCeYVQOz8wUAfMSOl9NNNafdW4afam17jfKpecdJEWCZI9RycImQDjkxUZx1nJ61xhQ0l03pu2OnjPr3O61ZLuUwObsSzsFHSjJY4HQB/LXU90syUtHYfHlDabrFZp4hyvNFIsZpHgIlViVU4kZ0BLELktkEnOJxTGng40EU/OSniTKPMZJAhyFZixLHPFvmPuVPZOdZGmmsO5Wm23mnWnulvpK6BX5rHVQrKobBGQGBGcE9/vOlttNts1O1Pa7fSUMDPzaOlhWJS2AMkKAM4A7/cNZmmoP5X3jUbJ2NNX0PVfUSrTUrlA6xuwJLEE/RVbHv83HIIzqu9qeFq7dNQN0eQa6rarrH9Z6EfJIwyvH1G/YBUEemoBUce1I4i/NNNNec8ENVTy09RFHNBKhSSORQyupGCCD0QR9NedDQUdso46OgpIKSljzwhgjEaLk5OFHQyST/HWRpppqv6OslsW722jfar7xob36i2ijitqR01JSxxsWidsAN18nEcsBFJxzxrmTfGza7Yu5ZLPXSRzAoJaedOhNESQGx7qcqQQfYg+4wT1X4y3d+mmxqK5Styrov5PW9Y/XKBlvYD5gVfA6HLH01MNNNc6faM3Q090t+14JIzBTIKup4urH1WyqKwxlSq5Pv2JB10Dr08DbTqKe3XTept/xdVHFJBaqdyI/VcDLkMy4XJxGHB6zICNWn4/sENHHcNzNaqu0XDcLrU1lunnEogYM5BB4ggtzLFT7FsYGMahdtTyNYLxfN7QWGC50l7lEslslk9GvhgjWQQjAHEMEKgqObHoYzkiebY8jbc3VUPRUtTJSXSN2SS216ejUIwLZHEnDEBCSFJwPfGpZpppppqD+V9nVG9tjTUFD3X08q1NKhcIsjqCCpJH1Vmx7fNxyQM6j+zvLqLWfoxvtPufcNLySaon4xwS8QCCWzhWYZP8AeHGVPzBdWxppppppprDuV2ttmp1qLpcKShgZ+CyVUyxKWwTgFiBnAPX7jqN2zynsW7+r8Nuahj9LHL4tjTZzn29ULy9vpnHWfca3G6LPWX7bdXbKC7T2mqm4cK2DPOLDhjjDKewCPce+qj8rQQ+SfFdt3rZoqsJQPK/oSqOZhL8JCVXl2DGrZ5ABQxOoZ4B3Mll3zJa6mf06W7xCJQeIUzqcx5Y9jILqAPdnUY/LqfTTXDF8udZu7dtbcRDPJVXKrLRQBjM45NhI1OMtgcVAA+gAH010nuDaS0e09r+OaazXK4W2qfjV19FUtAKYoyu8r8g6kMWdgjHGRhewuJpuPe+2to+mL5d4KSSTHGLDSSEHOG4KC3H5SOWMZGM51B637QuyqSskghiutbGuMTwU6hHyM9B3VuvbsD2/LvVabr33W+VKcpbfHMdTPTpxlq40lqp4shuGHiCFQCXPFuSk9461P/FzeWaOvoaXclJJNYZkLvUV8qNUQAqzL+36mSxUEOCQOvlxq5NNNNNNafcO1bFuujFLfLZBWxr+AuCHj7BPFxhlzxGcEZxg9ar+ot+5fE0UdfQXGu3DtCD5au31IV6miiCqPUjfrkq8T8vyqAfb3dbY000001j19bT2y3VNfWSenS0sTTTPxJ4ooJY4HZ6B9tc8Wnam4PON9qNy3upnte3llxSwBmkBA4qywhjgdL80mMF/2TghbHofBewKSjjgmtc9bIuczz1cgd8nPYQqvXt0B7fn3rH2dBdNgb0/Q653Oe4Wa5xNJYp55ObxekBzgIx1hCDnIT5OgCxA2FNFbqTfN92jcrjfLq1/pGrBBUMz01LTsXRolZTmPJL94UY4LnkBy5cutFXbJ3tUUsUsiVlprcwTPDxLFGyknBsjBAVgDkEEe412vablDebNQ3SnWRYK2njqI1kADBXUMAcEjOD+Z1mag/l68/cni69yq8AmqYhSRpMfx+qeDBRkZYIXYf8A45wQDrnzwnYFv3k2haVY2gtyNWurMyklCAnHHuRIyHBwMA+/seg7JQ/G+Vtw3qe0XWhmpKSKhhnqZ+cFXGx5lo1wQuCg6VsfNllVidR/dXhj9Nrjcbvd77PDc5pSlGIF509PTqcIpRvmLFQWbDKOTnAOO9HZoofGEdHTby2DbWpKV1MW5LbTCoCNyTDylx6ikMxPLrsAIhA1cFt3HZbvZmvFBdKSe3onOSoWUBYgFDHnn8BCkEhsEfXGtppppppppqF32vbeUd12rYzIY1dKa6XEMqxQozfroY2Ktzm9PIxxwvLtgwAMwgghpaeKnp4o4YIkCRxxqFVFAwAAOgAPpr000001p92UNRc9m3ygo4/Uqqq3zwwpyA5O0bBRk9DJI99afxZVUdZ4u29LQ0/oQrSCNk4BcyISkjYH986s2fc5yeydTDVP+Ra/7x8xbAtNnq+dzoat5auKGTi0ULemzBjkDuNJCVzkr9PmGZR5HqHtcFlvc+4a61Wq33CJ6yKkpWl+JBdQBIykFYwOWc5B5DotxBpj7RFk+A3zSXaOn4Q3KkHOXnn1JozxbrPWEMQ9gD/XnVj/AGfbz94eOmtzvB6ltq3jWND84jf9YGYZ+rNIAeh8v5g6tjVJ/aSuUMW1bNa2WT16itNQjADiFjQqwPec5lXHX0P8dB9nmkWip907jkt1XUPS06RQNAjM0owzyRoMgM54xde/a+2e7b8Z2ajsmy4IKBL5DSyyySJTXsBZ4O+JXiAAqkqWA/45P11MNNU/vDw1a7vvTb09qs0FHbGlka8NA3BCihCiCMMOPLiy5QdcuR1cGmmmmmmmmmmvOeeGlp5aioljhgiQvJJIwVUUDJJJ6AA+uoX/AGYNgfePwP6Rwet6vpcvSk9PlnGfU48OOf2s8cd5x3qYUNfR3OjjrKCrgq6WTPCaCQSI2Dg4YHBwQR/DWRpqs7xtjd+1Lzc73sB6Srgubmess9wdivxBYZliPJQCRkkFgOvr8oWCVe9PNO54haaTbM9rkn5A1ENBJTnjxOR6kzFU/MEENkDBz7zvxT41m2jHPfb5PJUbkuKH4gmUuIVZgxUnPzuWALN32MD6lppupqiPa9xmpbx9zyQRGY1/wwqPRRDyc+mfxfKGH8eu9Uv5kjp9zeKdt7noq+e7fCS+g9alOYklDApJKyEZTMkSgewHLHeRrE+zVcoYrzf7WyyevUU8VQjADiFjZlYHvOcyrjr6H+PReucPtJ3P1dw2O0+jj4akeo9Xl+L1X48cY6x6Oc575fTHeZ4wvENi+z/umvnnq6dBWyxCekUNLE0kcMauoLL2rOD+Ie3vq69pzfEbNsc/xM9V6lvgf16gYklzGp5OMt8x9z2ez7n31uNNNNNNNau/7itG1rW1yvVdHSUgcJzYFizH2CqASx9zgA9An2B1B4fKV3vtaV2hsW5Xi38GZbhUTijil4uVPAupDD2+ob3yowdbCOi8pXBJqeuu+2LSjJlKq3Uk1RKrBh1xlYLgjOSc/wBX1Hn+iXkP/hP/AMwU/wD56fol5D/4T/8AMFP/AOet4RvalqEZZNv3SBkYOhSagZGyOJDZmDDHLIwv071IIDM1PE1RHHHOUBkSNy6q2OwGIBIz9cDP5DVH+Str733/AOSIdvLHJS7ZgRJoqrgfQAKgO7YPzyhiyqnRx3gAsxllD4L2BSUccE1rnrZFzmeerkDvk57CFV69ugPb8+9Rvx7RzeN/LNz2NLVySWu5U/xdtM2SzsP3KeKnisgYkDl6SnroG7NNNNNNUfuCrqKr7Nl2SqvVqu01NLHTma1xhIYwlTGAgAAHQxghVBUrgEfM0A8BXP4DyjDTej6n3hSTU/Llj08AS8sY7/msY698/TB6v1zB9o3+6HQf81R/6WXU72hVLR/ZopZnvsliThKjXKOBpmgDVTL0q95OeOR2M5Htq2LSzNZqFnr47i5p4y1bGqqtQeI/WAL0A3vgdd9azNNNNNNNVH5Os96Te1r3PHtePdVlo6JoXtjOWMcrMQZFjwQSQydhX6Q5AwrDMpfPWzpLjPRXGO62mSHkHNdSezg4KFYyzBvf3A9j9dSS2+TdkXWnaen3PbURX4EVUwp2zgHpZOJI798Y9/yOtpQ7s23c6yOjoNwWqrqpM8IYK2OR2wMnCg5OACf4a3Go/wDp3s/+ldj/AO8Yf9bUPufn3YtB6Xw1RXXLnnl8LSlfTxj39Up75+mfY5x1myKCtp7nbqavo5PUpaqJZoX4kckYAqcHsZBHvrI1V9sip90efrtdVWB4dtW+OiR0nLEzyFyWAAx8oaWMgk4I/P8ADaGmmmmmqnNDUT+GN40lXHY7ZUU/xfqR7ZYRxgxKDxkxnDNwwynvgwBAOQKY8J/3X7F/1/8AoJNdf65g+0b/AHQ6D/mqP/Sy6meyK1q37N5pbXdrbQVdO8lNPUXMKKeItPyZX5qykNHIB7EZcD39rkoJviLdTT/EwVXqRK/r04xHLkA8kGW+U+47PR9z76yNNNNNNNUWdx11v+1PUUD3SSK31SR00kMsv6th8MHjUA9A+q3WO8uQPxHNyXOxWe9+l97Wqhr/AEc+n8VTpLwzjOOQOM4H+Iaic/hnx9U1Es77djDyOXYR1MyKCTnpVcBR+4AAfTUb/tctn/4Svn/bw/8Apaf2uWz/APCV8/7eH/0tP7XLZ/8AhK+f9vD/AOlqSWDw7sjb6Lxs8dwn4FGmuOJywLZ/ARwBHQBCg4/rOZ5qL7s3DUUnGwWJfX3LcIm+FQEcaVPY1MpIIWNT7ZB5MAoB7xmbS21DtTb8VtSokq5y7TVVZKAJKmZzl5HPuST12ScAAk4zreaaaaaaqueOHbvhzeElbtiPaoqUqP5JHViqV5JY1jVgU6QFiF4gALxz0NUp4T/uv2L/AK//AEEmuv8AXOn2lLbDFebBdFaT16inlp3UkcQsbBlI6znMrZ7+g/jn+EnhuPijdFpgoqS5XCKoeoSgq4g8UjNEvohuWFILxH69Yz10dXJtSrSu2laaiMUK8qSMOlA6tBG4UBkjKkrxVgVGCcY1uNNNNNNNUX50o2se6tp75jp5KhKOoSKdDKqqTG/qxqOsgt+tyewOI9vrdlBW09zt1NX0cnqUtVEs0L8SOSMAVOD2Mgj31kaaaaaa844IYXmeKKNHmfnKyqAXbiFy35niqjJ+gA+mvTTTTTTWPX1XwNuqaz4eeo9CJpPRp05yScQTxRfqxxgD6k6ou722h2/9mSthW3VdnnrqhXakuM3KdpfiFH1VMn04gQAo+UZ77Jin2eqGnq/JUs08fOSkt8s0B5EcHLIhPXv8rsO/z/PGup9U/wDaIsnx+xqS7R0/Oa21Y5y88enDIOLdZ7y4iHsSP6s6hn2c6yGW87hsNRSRzwV1EssnqYZSqNwKFSMMGE3/APnsc9XP46o6627TW3123Y7AKaolWno0rPiR6TNzDc+ROcsQcn3UnABAEs0000001o9x2ah3ntO5WZ542gqkeH1UPIRyo3R6IyUkXtc+6kH66r/w5uualp5Ng7kMlLuC1uyQQ1GcywgcgAxJDFQTgDA4cSuQCRbmmmmmmmmmmmmmo/viqo6PY16luNPXT0LUjx1CUCBphG44Myg9fKGLEnoAE/TVR+fa1qHYm1bE8VW7yv6zTVkyvODDGExIVyGc+rksDjKnGc68/s2WT/dy/wAtP/eUdPPz/wCnKvHP/wCk5I/qPvroDUb39YG3RsK82eJZGnnpy0CIyqXlQh0XLdAFlUHP0J7HvrlDxneodveSLHcaj0/QWo9KRpJBGsayKYy5Y9AKH5fw9x766f29ZVsHkHcSUVgkhpLmiV810NWzq8pJHpCMqOJ5eq5wzY5DOAyqJpppppppqL7Mq043u0SD06633WqM0RdSeE0rzxOACflZJBjOOww+msfe2yf0j+Gu1pqvuzc9u+aguCj+v9XJ0eUZyRjBxk9EFlbX0PkGsscsdv8AINt+56p5THFcoFL2+fLEJiTJMbEBjh8YC8iVzgTihr6O50cdZQVcFXSyZ4TQSCRGwcHDA4OCCP4ayNNNNaOTeFgi3ZDtdrlGb1KnNaVUZiBxLfMwHFTxUnBIOMfmM7zTTTTTUD3dcmqN+7U25DcbzbZ5Kj40SU8K/C1iRhmeF35Bs4X2GRhxlTkEUR52vUN48m1EMHplLdTx0hkSQOHYFnb29iGcqR3gqf6hd/hOwNYfGVC0qyLPcXatdWZWAD4CccewMaocHJyT7ewsTTXFnkna67Q37crVBHItHzE1JyRgPSccgFJJLBTlOWeyh+uRq85rtR7u8dbY3t9yV2473ZZUPw1JKI3FQOKyF1TPy8lSQBVJ/BkBS2rg0000001G9y7amuNRBerLUR0O4qJCtPUuCY5485MEwHbRMf4qfmXvIOrofJVHT1kdt3db59r3J88BXOGppcDkfTqB8jYXjnOMFgvZ1NIJ4aqniqKeWOaCVA8ckbBldSMggjogj66i8njTZ7XSG5wWWOhrIU4Ry26aSjKjvP8AMsoyQxBPuR17almmoHf/ADFsjb6NyvEdwn4B1ht2JywLY/GDwBHZILA4/rGasu3kHyN5KrJaTZVtrqO0GVo45qZfTduIVv1k5PFG6zhWX8fElsjM/wDFviKn2Pyud1eCtvrclSSPJjpk9sJkAliPdiB0eI6yWtDTTTTTVZ7e3XTSru/fdTdLzDaadxTtZq+JIvhZYY15BQXPzsxAABTLMQQTgjmShpLpvTdsdPGfXud1qyXcpgc3YlnYKOlGSxwOgD+Wu36Chp7Zbqago4/TpaWJYYU5E8UUAKMns9Ae+sjTVJ/aJ2u1dt+h3JTxx87c5hqiEUMYpCApLZyQr9BcH+cJ6wcwjwTuuGg3BU7Wuhjktd6Qosc+DGJsYwQx44dcqRglj6Y1d+xQ1ip6jbD2SS0W+21Hwttnqa1ZWuJIeRnUYHZX5yBkDLAY4ECaaaaaaaax62go7nRyUdfSQVdLJjnDPGJEbByMqejggH+GoPU+HttC4tX2We67eqn5+q9nrGh9QMQeJBBCqCOlXA/d0Ma+l8a7xtlxnqbd5SuojfkqR11N8XxQnIB9STiW6HzBR9fYHGlz8c76u/pfE+VK6P0s8fhbeKbOce/pSLy9vrnHePc6083gasu9ZTNuXft1u1LDyxG8Z5rkfss7uF7C5+U5x/ESSweE9kWF1la3yXOdXLLJcXEoAK448AAhHuRlScn36GLAgghpaeKnp4o4YIkCRxxqFVFAwAAOgAPpr0000001D9/XD+R0W3ozfKaqvkvw9NcLVHk0sikMGduQIXAJIHZRZPbGdVR5w3R93bdtOwUrp62up4oJLhWerj1eKEBXXJJZjiQhj18h7zkef2c9rtPdLhuieOMwUyGkpuSKx9VsM7Kc5UquB7diQ99Ea6L001j19DT3O3VNBWR+pS1UTQzJyI5IwIYZHYyCfbXFm7dtXLx/vGW2vUSCeldZqWsiDR8190kQ+4IIx0ThlIBOM66Dtl4ffmy6TfdjsNDVb3tmaWJHZkRHJAkUksgZTG5cAsePMgEnObIs13o73bkqqOsoarGEmNDUiojSTALKHGM4yPcA4IOBnWw0000000000000000001V9FfKy22e9eS77HfLappPTTb1bUEwpIGCqyDjleZEYBKAqWkJyrA65w/2Y8h75/wB9ud3q/wDjskeT/wBJhGi/18VX92ux9q7ep9qbXt1jpW5x0kQUvgj1HJy74JOOTFjjPWcDrW40001V/mbx1+mNiF1oOrvbInZEWLkaqP3MfQ5FhglB2MsRj5sihPGm/pvH+5TWNFJUW+pQRVlOjkErnIdRnBde8Z+hYZGcjov06fY9V9+0Nfard4/+E9aeGnpzK0tRLJ1KhQZ4kNGAcsAowFAwVsDTTTTWj3Tuqh2ja4q6uhq6gz1CU1PT0kXqSzyvnCqMgZwCeyPbHuQDp4d5XyiNEdx7Oq7fHW1ENNHLSVkVWsMkkhQCbHEoM8TyHIfOBkN8uthvTeVDse10dwuEcjQVFbFSll9ow2SztjJwqqxwASSAPrkZm6rzUbe2vcbxS2/4+SiiMxp/WEXJAcueRBxheTe3eMDs6ido8g7krI7XX3HY0lFZbg8CrXJdYZiomZVib08BsFnTP1AJOOsax4/Im8KncF2stH4+jqqu1Oi1Pp3uNVAcFkYF0GQyjP5j6gHrXncvLFxoK/btGNqYkvUrUoM9xVBDVJOYZYzwR8qrcTzHuG6GQRrcbKuG4qe7V9g3BabqrJzqoLlUVUdVDKpfBQSJHGF7PJUI5BSelAUanGmmmmq7ulFD5MvL2yqhttx2ZTok8VfQV4eQ1isMxtxb5QY3cEYPTAhgSAtIeXvJa76ukNDbBIlloXYxMxZTUuevUK+wAGQoIyAzE45cRY/gXx8tttY3bc4I2rK1P5ArxsHp4uwX76y4xggfhxg4cjV2aaaaaa5086eNGo6iq3razH8JK6mvp8KnpOSFEi4xkMxHIe/I57BPGP8AibyzNs2oSz3h5Jtvyv0cFmo2J7ZR7lCe2Uf1jvIa91lu+zq8rVfF3q23S51NTPXSTiNbRCVDKpDsR6ShX+bKgY6BJCmWUNfR3OjjrKCrgq6WTPCaCQSI2Dg4YHBwQR/DWRppqr/KVP6G7diX6rofXtFuuDLVzNL6aUzSNGI5Hb6KrLyyflPEKSOQzPL3f6Hb6ULVzSZrq2Kip1ReRaWRsD9wAGSSfoD7nANb7utu49+7lvFPt5rNNaaKie0Tm5HknxEhSSVovTDHmnGDt8BWU4GQTr0sV2qLh4D3BQV1N8PX2O31lqqkGOIeGEgYIY5+Urk/33LHWNbDxpZdwUkVpudVefjbJPt+lSnppGZHpX4qeIRcRsuM/OwL/hXOAS2rpbXd7l5g3m1qvElCKettEtVCFHGqhVOToWxyU4Bxg4OSrDByNh5AAbyf48Q3KS2l3r0WpjMfJWaJAoHqKy5YkLgg55dd41INl0y7Yt1HtK4XeOuvSpU1jNli8sTVDH1WzkgkyLnJ7PLBbBOpZpppqP1NTcbteJLdbpa61fdlXTy1FTNQq8NfCylmiiYn+oMw7U/nnVGeWfJdNFTvsrZgpKWzomKmooCgjmDjkY4+HQT5vmI7Y5HQzy0/hvxo28Lot8uBjFlt9QA0ZCuamVcN6ZU5HDBXkSOwcD3JXqvTTTTTTXnPBDVU8tPURRzQSoUkjkUMrqRggg9EEfTXLHlnxNNs2oe8WdJJtvyv2Mlmo2J6Vj7lCelY/wBR7wW8/FvlH9F+W39wL8Ztiq5I6SJ6nw3L8RC/tRnJ5J+8kd5DXHir2dQVG4NpSSbi278PHS0FgtaIY4eLANKJVLM55epyIVmJcculys8tl6oLt6sdLVQPVU+BVUqzxySUrnPySBGYKwIYe/upxnWw015zwQ1VPLT1EUc0EqFJI5FDK6kYIIPRBH01q6Tae27fKZaLb9qppDxy8NFGhPFg47A+jKrD96g+41kWyxWeyer902qhoPWx6nwlOkXPGcZ4gZxk/wCM61/6CbP/AKKWP/u6H/V1tLbabbZqdqe12+koYGfm0dLCsSlsAZIUAZwB3+4aw6Hae27ZWR1lBt+1UlVHnhNBRRxuuRg4YDIyCR/HXpcttWG81C1F0sltrp1TgslVSpKwXJOAWBOMk9fvOlt21YbNUNUWuyW2hnZODSUtKkTFcg4JUA4yB1+4a2mmserraehiElRJx5cuCKpZ5CFLlUUZZ24qx4qCTg9artqxfKdketkqI6LYk1FKtZHVxNDVesj5EgfPAInBWDAsueasD+zWnlHynTtbl2Ts2X07LSxLTT1Ubk+sijiIkYnJjAGC2fn9vw5LxPxp40rt/wB0LuZKay07gVVWB2T7+nHnouR9fZQcnOQG63tVqobHa6e2WymjpqOnThFEnso/8SSckk9kkk9nWZppppppprznghqqeWnqIo5oJUKSRyKGV1IwQQeiCPprnjyX4Lmo3F02VSSTUnA+vbhIWeLiueUZY5cHH4clsnrIOFrfY/kG9bEukc9DPJNQFyai3vIRFMDgE49lfCjDgZGB7jIN72e/7V8iOqbSusm1Lt95x1VWqQRQ1VwVVdiOmIkB5MTy54IJZcHuSfpndLHcfht1Wn0I7he/u+zyUQ5+pGxwjy9lU+n7XI/NhAFJMwpa+jrvX+Dq4Kj0JWhm9GQP6ci/iRsHphkZB7GsjTTTTTTTTUTn3lNU3Sjptu2iS8U/3nJbrlUrKYRQSJxLFgy/OApY5HRIABywGoveo7Rte1266+UbzHebtQ1ss9pkghML9cWVVjjIDH9WhJf5VLhScYJpTf3lq+7650f+59mbgfgInDcmXvLvgFuznHS9L1kZ1IPGXhWs3J8FfNwD4ayP+sSmyVmql64/T5Y277zyIHQAYNrpehoKO2UcdHQUkFJSx54QwRiNFycnCjoZJJ/jrI00000000001W/kfxFa98+rcqZ/gb6IuKTD+bnIxxEoxk9DiGHYBGeQUDXNm69ibj2ZUFLzbpI4C/GOrj+eCTtsYcdAkKTxOGx2QNTjann/AHHY6cUt5p473AicY3kk9KdcBQMuAQwwD7qWJbJb6as/aNd4/wBwPSUm0b7V2Z1rRcZrVTS/DmolKglGVweSBUIKRHgB/wBE63n/AMRrVbv/AKVe66a9/wD88cNAR/AqwI/+4QG/bxpXeTbdZfvSW/Wu62uko7hHRQVM9K3Cr5Zy8ePdRwkY4z8oUjJYLrcNvfbSS3WNrvAPumWKGuchuEDytwQM2OP4uj38uDyxg6zKncthoqipp6u922CelQPURy1SK0KkqAXBOVBLr2f74fmNen37Z/8ACtD/ALU+N/2wn+1/9+9/5v8A43t+/WHHvHbk10tttp7xSVFXckkekSnf1RIqZ5HkuQB8rDJIyVYDJB1q4fI1rq4LBUUNBdaylvlXLTUs8FNlEKOVLSZIKqQrOOs8VYkDBGsemrd9bjo7bVxUEG2mp7rxr6OqcTvU0qEBijhcLk8gBx7wGDgfi0df+he13I3zuuO8XClvBrqJqgs1VRFlVkThESQnyhscVQkr8o61BN3faIuNZyptqUf3fD1/LKpVeY/hPSdovYYd88gg/KdVfbLJunf14laip6671zY9aokctj5Tx5yOcDpSByPeMDXQex/BFl288dffpI7zXhCPQeIGljJUZ+UglyDywzYGCDxBAOrc000000000000015zwQ1VPLT1EUc0EqFJI5FDK6kYIIPRBH01T+6/s92C405l21NJaatEwsUjtNBIQG9+RLKSSo5AkAD8JOqc3D4j3rt6sED2ae4Rt+Ce2o1QjYAJ6A5L74+YDODjIGdauwb+3XtdFis98q4IFQosDESxIC3I8Y3BUHPeQM9n8zqxLN9o7cFJwS72mhuEaRBeULNTyO4x87H5l77yAo7PWAMa2EPnnbdfWVK3jYUApa7j8dIkkc7zcB+r5KyKHwQMcm6+ntjWXX+XPFt0qLjUVu1blNPcqdaarkalh5SxqcgZ9XIIOPmGD8qd/KuPRPMXi9IqWM7UrpfhKQUcDzUMEjpAFKenyaQsV4lgQT3k59zrzk86bJoUhNo2bJzoEzbg0MMAiaRj6oUry9MFcHK55EkEDGTrLn9pO8S+l907foaXGfU+Kmeo5e2MceGPr+ecj2x3Xd68mb03DT/D3HcFW0HBkaOHjAsisMMHEYUOMfRs+5/M689veOt3bqo2rLPZJ56Ue0zskSP2R8rOQGwVIPHOPrjVz7R+zvbqPjU7rrPvCbv+R0jMkI/EO36duuJ64YII+YauihoKO2UcdHQUkFJSx54QwRiNFycnCjoZJJ/jrI000000000000000001o7/s7bm6UZb1Z6SrcoE9Zk4yqobkAsgwyjOegR7n8zqD3L7P2yK6oWWnFyt6BOJipakMpOT8x9RXOe8e+Oh176jdb9mmjkrJGoNzzwUpxwjnoxK69d5YMoPef2R/H31j/wBrN/yu/wA2/wDu6f2s3/K7/Nv/ALun9rN/yu/zb/7upRQ/Z62VSVkc80t1rY1zmCeoUI+Rjsoit179Ee35danFk2PtbbnoNabDQ080HL06j0g8y8s5/WNlz0SPf269tSDTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTX/2Q==\n" alt="Logo"></div>\n          <div class="header">\n            <h2 style="font-size: 14px;">\u{1f37d}\ufe0f NUOVO CAFFE</h2>\n            <p style="font-size: 14px;">Mesa: <strong>${i.name}</strong></p>\n            <p>Mozo: <strong>${i.waiterName||"No asignado"}</strong></p>\n            <p>${r}</p>\n          </div>\n          <div class="line"></div>\n          <div class="order-list">\n            ${i.orders.map(a=>{const c=this.menuItems.find(l=>l._id===a.menuItem);return`\n                <div class="order-item">\n                  <p>${c?c.name:"Producto desconocido"}</p>\n                  <p>x${a.quantity}</p>\n                </div>\n              `}).join("")}\n          </div>\n          <div class="line"></div>\n          <div class="totals"><p>Aclaraci\xf3n:</p></div>\n          <div class="line"></div>\n          <br><br>\n          <div class="line"></div>\n          <p style="text-align:center; font-size:8px;"><br></p>\n        </div>\n        <script>\n          window.print();\n          window.onafterprint = function() {\n            window.close();\n            window.opener.postMessage('closeDialog', '*');\n          }\n        <\/script>\n      </body>\n    </html>\n  `;for(let a=0;a<2;a++){const c=window.open("","","width=900,height=900");c&&(c.document.write(o),c.document.close(),c.focus())}location.reload(),this.gestionService.saveLog(`Se imprimi\xf3 <strong>la comanda</strong> de la mesa <strong>${i.name}</strong> atendida por <strong>${i.waiterName||"Sin asignar"}</strong>`)}static{this.\u0275fac=function(i){return new(i||n)(O(aa),O(Lb),O(tp))}}static{this.\u0275cmp=ht({type:n,selectors:[["app-card"]],decls:3,vars:1,consts:[[1,"container","my-5"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3","row-cols-xl-4","g-4"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","shadow-lg","rounded-3","p-4","d-flex","flex-column","justify-between",3,"ngClass"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"card-title","m-0","fw-bold"],[1,"image-container"],["mat-card-image","","src","./assets/nuovo-cafe.jpg","alt","table",1,"rounded-circle",2,"width","3rem","height","3rem"],["class","text-info","style","color: white !important;",4,"ngIf"],["class","text-warning","style","color: white !important;",4,"ngIf"],[4,"ngIf"],[1,"card-footer","d-flex","justify-content-between"],[1,"btn","btn-sm",3,"ngClass","disabled","click"],["fontIcon","add_circle"],["fontIcon","link"],["class","btn btn-success btn-sm w-100 my-2",3,"disabled","click",4,"ngIf"],["class","card-footer d-flex justify-content-between",4,"ngIf"],["class","btn btn-danger btn-sm w-100 my-2",3,"click",4,"ngIf"],[1,"text-info",2,"color","white !important"],[2,"color","white"],[1,"text-warning",2,"color","white !important"],[4,"ngFor","ngForOf"],[1,"btn","btn-success","btn-sm","w-100","my-2",3,"disabled","click"],["fontIcon","link_off"],["class","btn btn-danger btn-sm",3,"disabled","click",4,"ngIf"],["class","btn btn-danger btn-sm d-flex justify-content-center w-100",3,"disabled","click",4,"ngIf"],["class","btn btn-sm",3,"ngClass","disabled","click",4,"ngIf"],[1,"btn","btn-danger","btn-sm",3,"disabled","click"],["fontIcon","local_cafe"],[1,"btn","btn-danger","btn-sm","d-flex","justify-content-center","w-100",3,"disabled","click"],["fontIcon","paid"],[1,"btn","btn-danger","btn-sm","w-100","my-2",3,"click"],["fontIcon","print"]],template:function(i,r){1&i&&(H(0,"div",0)(1,"div",1),Re(2,XEe,21,21,"div",2),j()()),2&i&&(ue(2),ye("ngForOf",r.tables))},dependencies:[Yk,_c,Rs,bv,Gb,h_],styles:['@charset "UTF-8";.card[_ngcontent-%COMP%]{color:#fff!important;border:1px solid #ccc!important;border-radius:10px!important;box-shadow:5px 5px 15px #0003!important;transition:transform .2s ease-in-out}.card[_ngcontent-%COMP%]:hover{transform:scale(1.08);box-shadow:7px 7px 20px #0000004d!important}.card.bg-free[_ngcontent-%COMP%]{background-color:#4caf50!important}.card.bg-bussy[_ngcontent-%COMP%]{background-color:#d32f2f!important}.card.text-info[_ngcontent-%COMP%]{color:#fff!important}.card-text.text-success[_ngcontent-%COMP%]{color:#49d93d}.card-text.text-danger[_ngcontent-%COMP%]{color:#dc3545}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-color:#fff!important}.card[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{color:#fff!important}.card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.5rem}.card-footer[_ngcontent-%COMP%]{border:none!important;background:transparent!important;padding:.5rem 0}.card-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100px;height:40px;display:flex;justify-content:center;align-items:center;font-size:14px}.card-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;margin-right:5px}.btn.w-100[_ngcontent-%COMP%]{height:40px}.btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem}.btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px}.center-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}']})}}return n})(),ZEe=(()=>{class n{constructor(e,i,r){this.coffeService=e,this.gestionService=i,this.printService=r,this.tables=[],this.refreshLinkedTables=!1}ngOnInit(){this.loadTables()}loadTables(){this.gestionService.getTables().subscribe(e=>{this.tables=e,console.log(e,"MESAS DESDE")})}handleAddOrder(e){console.log("A\xf1adiendo orden a la mesa:",e.tableId)}handleRemoveOrder(e){console.log("Removiendo orden",e.orderId,"de la mesa",e.tableId)}handleLinkTables(){this.refreshLinkedTables=!this.refreshLinkedTables}static{this.\u0275fac=function(i){return new(i||n)(O(Ame),O(aa),O(rpe))}}static{this.\u0275cmp=ht({type:n,selectors:[["app-home"]],decls:4,vars:0,consts:[[1,"container"],[1,"row"],[2,"cursor","pointer"]],template:function(i,r){1&i&&(H(0,"div",0),et(1,"div"),H(2,"div",1),et(3,"app-card",2),j()())},dependencies:[JEe]})}}return n})();class eIe{constructor(t){this._box=t,this._destroyed=new K,this._resizeSubject=new K,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new at(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Zt(e=>e.some(i=>i.target===t)),zS({bufferSize:1,refCount:!0}),ri(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let tIe=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=De(Ge)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new eIe(r)),this._observers.get(r).observe(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const nIe=["notch"],iIe=["matFormFieldNotchedOutline",""],rIe=["*"],oIe=["textField"],sIe=["iconPrefixContainer"],aIe=["textPrefixContainer"];function cIe(n,t){1&n&&et(0,"span",19)}function lIe(n,t){if(1&n&&(H(0,"label",17),Tt(1,1),Re(2,cIe,1,0,"span",18),j()),2&n){const e=Oe(2);ye("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Sn("for",e._control.id),ue(2),ye("ngIf",!e.hideRequiredMarker&&e._control.required)}}function dIe(n,t){1&n&&Re(0,lIe,3,5,"label",16),2&n&&ye("ngIf",Oe()._hasFloatingLabel())}function uIe(n,t){1&n&&et(0,"div",20)}function hIe(n,t){}function fIe(n,t){1&n&&Re(0,hIe,0,0,"ng-template",22),2&n&&(Oe(2),ye("ngTemplateOutlet",rs(1)))}function mIe(n,t){if(1&n&&(H(0,"div",21),Re(1,fIe,1,1,"ng-template",9),j()),2&n){const e=Oe();ye("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),ue(1),ye("ngIf",!e._forceDisplayInfixLabel())}}function pIe(n,t){1&n&&(H(0,"div",23,24),Tt(2,2),j())}function gIe(n,t){1&n&&(H(0,"div",25,26),Tt(2,3),j())}function _Ie(n,t){}function bIe(n,t){1&n&&Re(0,_Ie,0,0,"ng-template",22),2&n&&(Oe(),ye("ngTemplateOutlet",rs(1)))}function vIe(n,t){1&n&&(H(0,"div",27),Tt(1,4),j())}function yIe(n,t){1&n&&(H(0,"div",28),Tt(1,5),j())}function wIe(n,t){1&n&&et(0,"div",29)}function xIe(n,t){1&n&&(H(0,"div",30),Tt(1,6),j()),2&n&&ye("@transitionMessages",Oe()._subscriptAnimationState)}function EIe(n,t){if(1&n&&(H(0,"mat-hint",34),se(1),j()),2&n){const e=Oe(2);ye("id",e._hintLabelId),ue(1),Vi(e.hintLabel)}}function IIe(n,t){if(1&n&&(H(0,"div",31),Re(1,EIe,2,2,"mat-hint",32),Tt(2,7),et(3,"div",33),Tt(4,8),j()),2&n){const e=Oe();ye("@transitionMessages",e._subscriptAnimationState),ue(1),ye("ngIf",e.hintLabel)}}const TIe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],CIe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let vv=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,selectors:[["mat-label"]]})}}return n})();const AIe=new de("MatError");let kIe=0,N9=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+kIe++}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(ru("id",r.id),Sn("align",null),Xt("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}}return n})();const SIe=new de("MatPrefix"),F9=new de("MatSuffix");let DIe=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[mt([{provide:F9,useExisting:n}])]})}}return n})();const L9=new de("FloatingLabelParent");let V9=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=De(tIe),this._ngZone=De(Ge),this._parent=De(L9),this._resizeSubscription=new kt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function RIe(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(i){return new(i||n)(O(ft))}}static{this.\u0275dir=_e({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&Xt("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}}return n})();const B9="mdc-line-ripple--active",TI="mdc-line-ripple--deactivating";let U9=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains(TI);"opacity"===r.propertyName&&s&&o.remove(B9,TI)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(TI),e.add(B9)}deactivate(){this._elementRef.nativeElement.classList.add(TI)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(i){return new(i||n)(O(ft),O(Ge))}}static{this.\u0275dir=_e({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}}return n})(),j9=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static{this.\u0275fac=function(i){return new(i||n)(O(ft),O(Ge))}}static{this.\u0275cmp=ht({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&ni(nIe,5),2&i){let o;gt(o=_t())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&Xt("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:iIe,ngContentSelectors:rIe,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(nr(),et(0,"div",0),H(1,"div",1,2),Tt(3),j(),et(4,"div",3))},encapsulation:2,changeDetection:0})}}return n})();const MIe={transitionMessages:ed("transitionMessages",[Os("enter",cr({opacity:1,transform:"translateY(0%)"})),Ns("void => enter",[cr({opacity:0,transform:"translateY(-5px)"}),ca("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let z9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n})}}return n})();const H9=new de("MatFormField"),PIe=new de("MAT_FORM_FIELD_DEFAULT_OPTIONS");let W9=0,KO=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=cn(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,s,a,c,l){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=c,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+W9++,this._hintLabelId="mat-mdc-hint-"+W9++,this._subscriptAnimationState="",this._destroyed=new K,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(ri(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),E(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ri(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(ri(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static{this.\u0275fac=function(i){return new(i||n)(O(ft),O(Vo),O(Ge),O(Uu),O(Oi),O(PIe,8),O(Jr,8),O(Ct))}}static{this.\u0275cmp=ht({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&($n(o,vv,5),$n(o,vv,7),$n(o,z9,5),$n(o,SIe,5),$n(o,F9,5),$n(o,AIe,5),$n(o,N9,5)),2&i){let s;gt(s=_t())&&(r._labelChildNonStatic=s.first),gt(s=_t())&&(r._labelChildStatic=s.first),gt(s=_t())&&(r._formFieldControl=s.first),gt(s=_t())&&(r._prefixChildren=s),gt(s=_t())&&(r._suffixChildren=s),gt(s=_t())&&(r._errorChildren=s),gt(s=_t())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(1&i&&(ni(oIe,5),ni(sIe,5),ni(aIe,5),ni(V9,5),ni(j9,5),ni(U9,5)),2&i){let o;gt(o=_t())&&(r._textField=o.first),gt(o=_t())&&(r._iconPrefixContainer=o.first),gt(o=_t())&&(r._textPrefixContainer=o.first),gt(o=_t())&&(r._floatingLabel=o.first),gt(o=_t())&&(r._notchedOutline=o.first),gt(o=_t())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&Xt("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[mt([{provide:H9,useExisting:n},{provide:L9,useExisting:n}])],ngContentSelectors:CIe,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(nr(TIe),Re(0,dIe,1,1,"ng-template",null,0,Sf),H(2,"div",1,2),Me("click",function(s){return r._control.onContainerClick(s)}),Re(4,uIe,1,0,"div",3),H(5,"div",4),Re(6,mIe,2,2,"div",5),Re(7,pIe,3,0,"div",6),Re(8,gIe,3,0,"div",7),H(9,"div",8),Re(10,bIe,1,1,"ng-template",9),Tt(11),j(),Re(12,vIe,2,0,"div",10),Re(13,yIe,2,0,"div",11),j(),Re(14,wIe,1,0,"div",12),j(),H(15,"div",13),Re(16,xIe,2,1,"div",14),Re(17,IIe,5,2,"div",15),j()),2&i&&(ue(2),Xt("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),ue(2),ye("ngIf",!r._hasOutline()&&!r._control.disabled),ue(2),ye("ngIf",r._hasOutline()),ue(1),ye("ngIf",r._hasIconPrefix),ue(1),ye("ngIf",r._hasTextPrefix),ue(2),ye("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),ue(2),ye("ngIf",r._hasTextSuffix),ue(1),ye("ngIf",r._hasIconSuffix),ue(1),ye("ngIf",!r._hasOutline()),ue(1),Xt("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),ye("ngSwitch",r._getDisplayedMessages()),ue(1),ye("ngSwitchCase","error"),ue(1),ye("ngSwitchCase","hint"))},dependencies:[Rs,Jk,Bw,nz,N9,V9,j9,U9],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[MIe.transitionMessages]},changeDetection:0})}}return n})(),CI=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[wn,bc,OM,wn]})}}return n})();const $9=Ab({passive:!0});let FIe=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return ei;const i=Rc(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new K,s="cdk-text-field-autofilled",a=c=>{"cdk-text-field-autofill-start"!==c.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===c.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,$9),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,$9)}}),o}stopMonitoring(e){const i=Rc(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static{this.\u0275fac=function(i){return new(i||n)(Y(Oi),Y(Ge))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),LIe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({})}}return n})();const VIe=new de("MAT_INPUT_VALUE_ACCESSOR"),BIe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let UIe=0;const jIe=Qge(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new K}});let QO=(()=>{class n extends jIe{get disabled(){return this._disabled}set disabled(e){this._disabled=cn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(w_e.required)??!1}set required(e){this._required=cn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&IW().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=cn(e)}constructor(e,i,r,o,s,a,c,l,d,u){super(a,o,s,r),this._elementRef=e,this._platform=i,this._autofillMonitor=l,this._formField=u,this._uid="mat-input-"+UIe++,this.focused=!1,this.stateChanges=new K,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(v=>IW().has(v)),this._iOSKeyupListener=v=>{const w=v.target;!w.value&&0===w.selectionStart&&0===w.selectionEnd&&(w.setSelectionRange(1,1),w.setSelectionRange(0,0))};const p=this._elementRef.nativeElement,b=p.nodeName.toLowerCase();this._inputValueAccessor=c||p,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&d.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===b,this._isTextarea="textarea"===b,this._isInFormField=!!u,this._isNativeSelect&&(this.controlType=p.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){BIe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static{this.\u0275fac=function(i){return new(i||n)(O(ft),O(Oi),O(Nc,10),O(Wb,8),O($m,8),O(Xge),O(VIe,10),O(FIe),O(Ge),O(H9,8))}}static{this.\u0275dir=_e({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&Me("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(ru("id",r.id)("disabled",r.disabled)("required",r.required),Sn("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Xt("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[mt([{provide:z9,useExisting:n}]),We,Pi]})}}return n})(),zIe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[wn,CI,CI,LIe,wn]})}}return n})(),HIe=(()=>{class n{constructor(e,i){this.userService=e,this.router=i,this.formLogin=new Ub({email:new qm,password:new qm})}ngOnInit(){}onSubmit(){this.userService.login(this.formLogin.value).then(e=>{console.log(e,"respuesta"),this.router.navigate([""])}).catch(e=>{console.log(e,"este es el error")})}loginWithGoogle(){this.userService.loginWithGoogle().then(()=>{this.router.navigate(["/home"])}).then(e=>console.log(e))}static{this.\u0275fac=function(i){return new(i||n)(O(tp),O(eo))}}static{this.\u0275cmp=ht({type:n,selectors:[["app-login"]],decls:23,vars:2,consts:[[1,"container-fluid","vh-100","d-flex","justify-content-center","align-items-center","login-background"],[1,"login-container","p-5","rounded","shadow"],[1,"text-center","fw-bold","login-title"],[1,"text-center","text-muted","login-subtitle"],[1,"text-center","my-4"],["src","./assets/nuovo-cafe.jpg","alt","Cafe Logo",1,"rounded-circle","login-image"],[1,"w-100",3,"formGroup","ngSubmit"],["appearance","outline",1,"w-100","mb-3"],["matInput","","type","email","formControlName","email","required",""],["appearance","outline",1,"w-100","mb-4"],["matInput","","type","password","formControlName","password","required",""],[1,"text-center"],["type","submit",1,"btn","login-btn",3,"disabled"],[1,"text-center","mt-3"],["routerLink","/register",1,"btn","login-btn-outline"]],template:function(i,r){1&i&&(H(0,"div",0)(1,"div",1)(2,"h2",2),se(3,"Nuovo caff\xe9"),j(),H(4,"p",3),se(5,"Bienvenido"),j(),H(6,"div",4),et(7,"img",5),j(),H(8,"form",6),Me("ngSubmit",function(){return r.onSubmit()}),H(9,"mat-form-field",7)(10,"mat-label"),se(11,"Email"),j(),et(12,"input",8),j(),H(13,"mat-form-field",9)(14,"mat-label"),se(15,"Contrase\xf1a"),j(),et(16,"input",10),j(),H(17,"div",11)(18,"button",12),se(19," Login "),j()(),H(20,"div",13)(21,"button",14),se(22," Sign Up "),j()()()()()),2&i&&(ue(8),ye("formGroup",r.formLogin),ue(10),ye("disabled",r.formLogin.invalid))},dependencies:[$f,JE,td,Wu,WE,Km,$m,ZE,KO,vv,QO],styles:[".shadow-box[_ngcontent-%COMP%]{max-width:400px;background:white;padding:20px;border:1px solid #ccc;border-radius:10px;box-shadow:5px 5px 15px #0003}.image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:2rem}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}","\n\n  .login-background[_ngcontent-%COMP%] {\n    background: linear-gradient(to right, #d2a679, #c0936b);\n  }\n\n  \n\n  .login-container[_ngcontent-%COMP%] {\n    max-width: 400px;\n    background: white;\n    border-radius: 12px;\n    box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.2);\n  }\n\n  \n\n  .login-image[_ngcontent-%COMP%] {\n    width: 100px;\n    height: 100px;\n    object-fit: cover;\n  }\n\n  \n\n  .login-title[_ngcontent-%COMP%] {\n    font-size: 28px;\n    color: #5a3e2b;\n  }\n\n  .login-subtitle[_ngcontent-%COMP%] {\n    font-size: 16px;\n    color: #7a5e47;\n  }\n\n  \n\n  .login-btn[_ngcontent-%COMP%] {\n    width: 100%;\n    padding: 10px;\n    background: #5a3e2b;\n    color: white;\n    border: none;\n    border-radius: 8px;\n    font-size: 16px;\n    transition: 0.3s;\n  }\n\n  .login-btn[_ngcontent-%COMP%]:hover {\n    background: #3e2b1c;\n  }\n\n  \n\n  .login-btn-outline[_ngcontent-%COMP%] {\n    width: 100%;\n    padding: 10px;\n    background: transparent;\n    border: 2px solid #5a3e2b;\n    color: #5a3e2b;\n    border-radius: 8px;\n    font-size: 16px;\n    transition: 0.3s;\n  }\n\n  .login-btn-outline[_ngcontent-%COMP%]:hover {\n    background: #5a3e2b;\n    color: white;\n  }"]})}}return n})(),WIe=(()=>{class n{constructor(e,i){this.userService=e,this.router=i,this.formRegister=new Ub({email:new qm,password:new qm})}ngOnInit(){}onSubmit(){this.userService.register(this.formRegister.value).then(e=>{console.log(e,"respuesta"),this.router.navigate(["/login"])}).catch(e=>{console.log(e,"este es el error")})}static{this.\u0275fac=function(i){return new(i||n)(O(tp),O(eo))}}static{this.\u0275cmp=ht({type:n,selectors:[["app-register"]],decls:19,vars:2,consts:[[1,"container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"register-container","w-100","shadow-box"],[1,"image-container"],["mat-card-image","","src","./assets/nuovo-cafe.jpg","alt","table",1,"rounded-circle"],[1,"w-100","p-4",3,"formGroup","ngSubmit"],["appearance","outline",1,"w-100","mb-3"],["matInput","","type","email","formControlName","email","required",""],["matInput","","type","password","formControlName","password","required",""],[1,"text-center"],["mat-raised-button","","color","primary","type","submit",1,"btn","btn-primary",3,"disabled"],[1,"text-center","mt-3"],["mat-raised-button","","color","accent","routerLink","/login"]],template:function(i,r){1&i&&(H(0,"div",0)(1,"div",1)(2,"div",2),et(3,"img",3),j(),H(4,"form",4),Me("ngSubmit",function(){return r.onSubmit()}),H(5,"mat-form-field",5)(6,"mat-label"),se(7,"Email"),j(),et(8,"input",6),j(),H(9,"mat-form-field",5)(10,"mat-label"),se(11,"Contrase\xf1a"),j(),et(12,"input",7),j(),H(13,"div",8)(14,"button",9),se(15," Registrarse "),j()(),H(16,"div",10)(17,"button",11),se(18," Iniciar sesi\xf3n "),j()()()()()),2&i&&(ue(4),ye("formGroup",r.formRegister),ue(10),ye("disabled",r.formRegister.invalid))},dependencies:[$f,JE,td,Wu,WE,Km,$m,ZE,bv,Zu,KO,vv,QO],styles:[".shadow-box[_ngcontent-%COMP%]{max-width:400px;background:white;padding:20px;border:1px solid #ccc;border-radius:10px;box-shadow:5px 5px 15px #0003}.image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:2rem}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}"]})}}return n})();function qIe(n,t){if(1&n){const e=Li();H(0,"tr")(1,"td"),se(2),j(),H(3,"td"),se(4),j(),H(5,"td"),se(6),j(),H(7,"td")(8,"div",21)(9,"button",22),Me("click",function(){const o=Pt(e).$implicit;return Ot(Oe(2).startEditingTable(o))}),se(10," Editar "),j(),H(11,"button",23),Me("click",function(){const o=Pt(e).$implicit;return Ot(Oe(2).deleteTable(o.id))}),se(12," Eliminar "),j()()()()}if(2&n){const e=t.$implicit;ue(2),Vi(e.id),ue(2),Vi(e.name),ue(2),Vi(e.available?"S\xed":"No")}}function GIe(n,t){if(1&n){const e=Li();H(0,"div",24)(1,"h3"),se(2,"Editar Mesa"),j(),H(3,"input",25),Me("ngModelChange",function(r){return Pt(e),Ot(Oe(2).editTableName=r)}),j(),H(4,"div",26)(5,"input",27),Me("ngModelChange",function(r){return Pt(e),Ot(Oe(2).editTableAvailability=r)}),j(),H(6,"label",28),se(7,"Disponible"),j()(),H(8,"button",29),Me("click",function(){return Pt(e),Ot(Oe(2).saveTableEdit())}),se(9,"Guardar"),j()()}if(2&n){const e=Oe(2);ue(3),ye("ngModel",e.editTableName),ue(2),ye("ngModel",e.editTableAvailability)}}function $Ie(n,t){if(1&n){const e=Li();H(0,"tr")(1,"td"),se(2),j(),H(3,"td"),se(4),j(),H(5,"td"),se(6),j(),H(7,"td")(8,"div",21)(9,"button",22),Me("click",function(){const o=Pt(e).$implicit;return Ot(Oe(2).startEditingMenu(o))}),se(10," Editar "),j(),H(11,"button",23),Me("click",function(){const o=Pt(e).$implicit;return Ot(Oe(2).deleteMenuItem(o._id))}),se(12," Eliminar "),j()()()()}if(2&n){const e=t.$implicit;ue(2),Vi(e._id),ue(2),Vi(e.name),ue(2),ir("$",e.price,"")}}function KIe(n,t){if(1&n){const e=Li();H(0,"div",24)(1,"h2"),se(2,"Editar \xcdtem del Men\xfa"),j(),H(3,"input",25),Me("ngModelChange",function(r){return Pt(e),Ot(Oe(2).editItemName=r)}),j(),H(4,"input",30),Me("ngModelChange",function(r){return Pt(e),Ot(Oe(2).editItemPrice=r)}),j(),H(5,"button",29),Me("click",function(){return Pt(e),Ot(Oe(2).saveMenuItemEdit())}),se(6,"Guardar"),j()()}if(2&n){const e=Oe(2);ue(3),ye("ngModel",e.editItemName),ue(1),ye("ngModel",e.editItemPrice)}}function QIe(n,t){if(1&n){const e=Li();H(0,"tr")(1,"td"),se(2),j(),H(3,"td"),se(4),j(),H(5,"td")(6,"div",21)(7,"button",22),Me("click",function(){const o=Pt(e).$implicit;return Ot(Oe(2).startEditingWaiter(o))}),se(8," Editar "),j(),H(9,"button",23),Me("click",function(){const o=Pt(e).$implicit;return Ot(Oe(2).deleteWaiter(o._id))}),se(10," Eliminar "),j()()()()}if(2&n){const e=t.$implicit;ue(2),Vi(e._id),ue(2),Vi(e.name)}}function YIe(n,t){if(1&n){const e=Li();H(0,"div",24)(1,"h3"),se(2,"Editar Mesero"),j(),H(3,"input",25),Me("ngModelChange",function(r){return Pt(e),Ot(Oe(2).editWaiterName=r)}),j(),H(4,"button",29),Me("click",function(){return Pt(e),Ot(Oe(2).saveWaiterEdit())}),se(5,"Guardar"),j()()}if(2&n){const e=Oe(2);ue(3),ye("ngModel",e.editWaiterName)}}function XIe(n,t){if(1&n){const e=Li();H(0,"div")(1,"h2",2),se(2,"Panel de Administrador"),j(),H(3,"div",3),et(4,"div",4),j(),H(5,"mat-accordion")(6,"mat-expansion-panel")(7,"mat-expansion-panel-header")(8,"mat-panel-title"),se(9," Administrar mesas "),j(),H(10,"mat-panel-description"),se(11," Agrega, edita o elimina tus mesas "),j()(),H(12,"div",5)(13,"div",6)(14,"h2"),se(15,"Agregar Mesa"),j(),H(16,"div",7)(17,"input",8),Me("ngModelChange",function(r){return Pt(e),Ot(Oe().newTableName=r)}),j(),H(18,"button",9),Me("click",function(){return Pt(e),Ot(Oe().addTable())}),se(19,"Agregar"),j()(),H(20,"h2"),se(21,"Lista de Mesas"),j(),H(22,"div",10)(23,"table",11)(24,"thead",12)(25,"tr")(26,"th"),se(27,"ID"),j(),H(28,"th"),se(29,"Nombre"),j(),H(30,"th"),se(31,"Disponible"),j(),H(32,"th"),se(33,"Acciones"),j()()(),H(34,"tbody"),Re(35,qIe,13,3,"tr",13),j()()(),Re(36,GIe,10,2,"div",14),j()()()(),H(37,"mat-accordion")(38,"mat-expansion-panel")(39,"mat-expansion-panel-header")(40,"mat-panel-title"),se(41," Administrar lista de men\xfa "),j(),H(42,"mat-panel-description"),se(43," Agrega, edita o elimina tus men\xfa "),j()(),H(44,"div",5)(45,"div",6)(46,"h2"),se(47,"Agregar \xcdtem al Men\xfa"),j(),H(48,"div",7)(49,"input",15),Me("ngModelChange",function(r){return Pt(e),Ot(Oe().newItemName=r)}),j(),H(50,"input",16),Me("ngModelChange",function(r){return Pt(e),Ot(Oe().newItemPrice=r)})("change",function(){return Pt(e),Ot(Oe().formatPrice())}),j(),H(51,"button",9),Me("click",function(){return Pt(e),Ot(Oe().addMenuItem())}),se(52,"Agregar"),j()(),H(53,"div",17)(54,"h2",18),se(55,"Buscar \xedtem del men\xfa:"),j(),H(56,"input",19),Me("ngModelChange",function(r){return Pt(e),Ot(Oe().searchTerm=r)}),j()(),H(57,"h2"),se(58,"Lista del Men\xfa"),j(),H(59,"div",10)(60,"table",11)(61,"thead",12)(62,"tr")(63,"th"),se(64,"ID"),j(),H(65,"th"),se(66,"Nombre"),j(),H(67,"th"),se(68,"Precio"),j(),H(69,"th"),se(70,"Acciones"),j()()(),H(71,"tbody"),Re(72,$Ie,13,3,"tr",13),j()()(),Re(73,KIe,7,2,"div",14),j()()()(),H(74,"mat-accordion")(75,"mat-expansion-panel")(76,"mat-expansion-panel-header")(77,"mat-panel-title"),se(78," Administrar lista de mozos "),j(),H(79,"mat-panel-description"),se(80," Agrega, edita o elimina los datos de tus mozos "),j()(),H(81,"div",5)(82,"div",6)(83,"h2"),se(84,"Agregar Mesero"),j(),H(85,"div",7)(86,"input",20),Me("ngModelChange",function(r){return Pt(e),Ot(Oe().newWaiterName=r)}),j(),H(87,"button",9),Me("click",function(){return Pt(e),Ot(Oe().addWaiter())}),se(88,"Agregar"),j()(),H(89,"h2"),se(90,"Lista de Meseros"),j(),H(91,"div",10)(92,"table",11)(93,"thead",12)(94,"tr")(95,"th"),se(96,"ID"),j(),H(97,"th"),se(98,"Nombre"),j(),H(99,"th"),se(100,"Acciones"),j()()(),H(101,"tbody"),Re(102,QIe,11,2,"tr",13),j()()(),Re(103,YIe,6,1,"div",14),j()()()()()}if(2&n){const e=Oe();ue(17),ye("ngModel",e.newTableName),ue(18),ye("ngForOf",e.tables),ue(1),ye("ngIf",void 0!==e.editTableId),ue(13),ye("ngModel",e.newItemName),ue(1),ye("ngModel",e.newItemPrice),ue(6),ye("ngModel",e.searchTerm),ue(16),ye("ngForOf",e.filteredMenuItems),ue(1),ye("ngIf",void 0!==e.editItemId),ue(13),ye("ngModel",e.newWaiterName),ue(16),ye("ngForOf",e.waiters),ue(1),ye("ngIf",void 0!==e.editWaiterId)}}function JIe(n,t){1&n&&(H(0,"div",31)(1,"h1"),se(2,"ACCESO DENEGADO"),j(),H(3,"p"),se(4,"No tienes los permisos suficientes para visualizar el contenido de esta p\xe1gina."),j()())}let ZIe=(()=>{class n{constructor(e,i){this.userService=e,this.gestionService=i,this.tables=[],this.newTableName="",this.editTableName="",this.editTableAvailability=!0,this.menuItems=[],this.newItemName="",this.newItemPrice=0,this.editItemName="",this.editItemPrice=0,this.waiters=[],this.newWaiterName="",this.editWaiterName="",this.role$=this.userService.getRoleState(),this.loadTables(),this.loadMenuItems(),this.loadWaiters(),this.searchTerm=""}loadTables(){this.gestionService.getTables().subscribe(e=>{this.tables=e})}get filteredMenuItems(){return this.searchTerm?this.menuItems.filter(e=>e.name.toLowerCase().includes(this.searchTerm.toLowerCase())):this.menuItems}addTable(){this.newTableName.trim()&&this.gestionService.addTable(this.newTableName.trim()).subscribe(()=>{this.loadTables(),this.newTableName=""})}startEditingTable(e){this.editTableId=e.id,this.editTableName=e.name,this.editTableAvailability=e.available}saveTableEdit(){void 0!==this.editTableId&&this.gestionService.editTable(this.editTableId,this.editTableName,this.editTableAvailability).subscribe(()=>{this.loadTables(),this.editTableId=void 0})}deleteTable(e){this.gestionService.deleteTable(e).subscribe(()=>{this.loadTables()})}loadMenuItems(){this.gestionService.getMenu().subscribe(e=>{this.menuItems=e})}addMenuItem(){this.newItemName.trim()&&this.newItemPrice>0&&this.gestionService.addMenuItem(this.newItemName.trim(),this.newItemPrice).subscribe(()=>{this.loadMenuItems(),this.newItemName="",this.newItemPrice=0})}startEditingMenu(e){this.editItemId=e._id,this.editItemName=e.name,this.editItemPrice=e.price}saveMenuItemEdit(){void 0!==this.editItemId&&this.gestionService.editMenuItem(this.editItemId,this.editItemName,this.editItemPrice).subscribe(()=>{this.loadMenuItems(),this.editItemId=void 0})}deleteMenuItem(e){this.gestionService.deleteMenuItem(e).subscribe(()=>{this.loadMenuItems()})}loadWaiters(){this.gestionService.getWaiters().subscribe(e=>{this.waiters=e})}addWaiter(){this.newWaiterName.trim()&&this.gestionService.addWaiter(this.newWaiterName.trim()).subscribe(()=>{this.loadWaiters(),this.newWaiterName=""})}startEditingWaiter(e){this.editWaiterId=e._id,this.editWaiterName=e.name}saveWaiterEdit(){void 0!==this.editWaiterId&&this.gestionService.editWaiter(this.editWaiterId,this.editWaiterName).subscribe(()=>{this.loadWaiters(),this.editWaiterId=void 0})}deleteWaiter(e){this.gestionService.deleteWaiter(e).subscribe(()=>{this.loadWaiters()})}formatPrice(){this.newItemPrice=Number(this.newItemPrice)}static{this.\u0275fac=function(i){return new(i||n)(O(tp),O(aa))}}static{this.\u0275cmp=ht({type:n,selectors:[["app-admin-panel"]],decls:4,vars:3,consts:[[4,"ngIf"],["accessDenied",""],[1,"text-center","my-4"],[1,"row"],[1,"d-flex","flex-column","flex-md-row","gap-3"],[1,"col-md-12"],[1,"card","p-3","shadow"],[1,"input-group","mb-3"],["placeholder","Nombre de la mesa",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-bordered","table-striped"],[1,"table-dark"],[4,"ngFor","ngForOf"],["class","mt-3",4,"ngIf"],["placeholder","Nombre del \xedtem",1,"form-control",3,"ngModel","ngModelChange"],["type","number","placeholder","Precio",1,"form-control",3,"ngModel","ngModelChange","change"],[1,"mb-3"],["for","searchMenu",1,"form-label"],["id","searchMenu","placeholder","Buscar por nombre",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Nombre del mesero",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","gap-2"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"mt-3"],["placeholder","Nuevo nombre",1,"form-control","mb-2",3,"ngModel","ngModelChange"],[1,"form-check"],["type","checkbox","id","disponibleCheck",1,"form-check-input",3,"ngModel","ngModelChange"],["for","disponibleCheck",1,"form-check-label"],[1,"btn","btn-success","mt-2",3,"click"],["type","number","placeholder","Nuevo precio",1,"form-control","mb-2",3,"ngModel","ngModelChange"],[1,"text-center","text-danger"]],template:function(i,r){1&i&&(Re(0,XIe,104,11,"div",0),Fo(1,"async"),Re(2,JIe,5,0,"ng-template",null,1,Sf)),2&i&&ye("ngIf","admin"===os(1,1,r.role$))},dependencies:[_c,Rs,td,c1,KM,Wu,Gm,O9,qO,GO,P9,bEe,h_]})}}return n})();const YO=me(n=>!!n);let eTe=(()=>{class n{router;auth;constructor(e,i){this.router=e,this.auth=i}canActivate=(e,i)=>{const r=e.data.authGuardPipe||(()=>YO);return Kwe(this.auth).pipe(Ln(1),r(e,i),me(o=>"boolean"==typeof o?o:Array.isArray(o)?this.router.createUrlTree(o):this.router.parseUrl(o)))};static \u0275fac=function(i){return new(i||n)(Y(eo),Y(gv))};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();const XO=n=>({canActivate:[eTe],data:{authGuardPipe:n}});function np(n){return n+.5|0}const Hc=(n,t,e)=>Math.max(Math.min(n,e),t);function yv(n){return Hc(np(2.55*n),0,255)}function ld(n){return Hc(np(255*n),0,255)}function Wc(n){return Hc(np(n/2.55)/100,0,1)}function K9(n){return Hc(np(100*n),0,100)}const Us={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},JO=[..."0123456789ABCDEF"],rTe=n=>JO[15&n],oTe=n=>JO[(240&n)>>4]+JO[15&n],AI=n=>(240&n)>>4==(15&n);const dTe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Q9(n,t,e){const i=t*Math.min(e,1-e),r=(o,s=(o+n/30)%12)=>e-i*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function uTe(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function hTe(n,t,e){const i=Q9(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function ZO(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),s=Math.min(e,i,r),a=(o+s)/2;let c,l,d;return o!==s&&(d=o-s,l=a>.5?d/(2-o-s):d/(o+s),c=function fTe(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}(e,i,r,d,o),c=60*c+.5),[0|c,l||0,a]}function eN(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(ld)}function tN(n,t,e){return eN(Q9,n,t,e)}function Y9(n){return(n%360+360)%360}const X9={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},J9={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let kI;const wTe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,nN=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,ip=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function SI(n,t,e){if(n){let i=ZO(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,0===t?360:1)),i=tN(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Z9(n,t){return n&&Object.assign(t||{},n)}function e$(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ld(n[3]))):(t=Z9(n,{r:0,g:0,b:0,a:1})).a=ld(t.a),t}function TTe(n){return"r"===n.charAt(0)?function xTe(n){const t=wTe.exec(n);let i,r,o,e=255;if(t){if(t[7]!==i){const s=+t[7];e=t[8]?yv(s):Hc(255*s,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?yv(i):Hc(i,0,255)),r=255&(t[4]?yv(r):Hc(r,0,255)),o=255&(t[6]?yv(o):Hc(o,0,255)),{r:i,g:r,b:o,a:e}}}(n):function gTe(n){const t=dTe.exec(n);let i,e=255;if(!t)return;t[5]!==i&&(e=t[6]?yv(+t[5]):ld(+t[5]));const r=Y9(+t[2]),o=+t[3]/100,s=+t[4]/100;return i="hwb"===t[1]?function mTe(n,t,e){return eN(hTe,n,t,e)}(r,o,s):"hsv"===t[1]?function pTe(n,t,e){return eN(uTe,n,t,e)}(r,o,s):tN(r,o,s),{r:i[0],g:i[1],b:i[2],a:e}}(n)}class rp{constructor(t){if(t instanceof rp)return t;const e=typeof t;let i;"object"===e?i=e$(t):"string"===e&&(i=function aTe(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*Us[n[1]],g:255&17*Us[n[2]],b:255&17*Us[n[3]],a:5===t?17*Us[n[4]]:255}:(7===t||9===t)&&(e={r:Us[n[1]]<<4|Us[n[2]],g:Us[n[3]]<<4|Us[n[4]],b:Us[n[5]]<<4|Us[n[6]],a:9===t?Us[n[7]]<<4|Us[n[8]]:255})),e}(t)||function yTe(n){kI||(kI=function vTe(){const n={},t=Object.keys(J9),e=Object.keys(X9);let i,r,o,s,a;for(i=0;i<t.length;i++){for(s=a=t[i],r=0;r<e.length;r++)o=e[r],a=a.replace(o,X9[o]);o=parseInt(J9[s],16),n[a]=[o>>16&255,o>>8&255,255&o]}return n}(),kI.transparent=[0,0,0,0]);const t=kI[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||TTe(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Z9(this._rgb);return t&&(t.a=Wc(t.a)),t}set rgb(t){this._rgb=e$(t)}rgbString(){return this._valid?function ETe(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Wc(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function lTe(n){var t=(n=>AI(n.r)&&AI(n.g)&&AI(n.b)&&AI(n.a))(n)?rTe:oTe;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function bTe(n){if(!n)return;const t=ZO(n),e=t[0],i=K9(t[1]),r=K9(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Wc(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const s=e===o?.5:e,a=2*s-1,c=i.a-r.a,l=((a*c==-1?a:(a+c)/(1+a*c))+1)/2;o=1-l,i.r=255&l*i.r+o*r.r+.5,i.g=255&l*i.g+o*r.g+.5,i.b=255&l*i.b+o*r.b+.5,i.a=s*i.a+(1-s)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function ITe(n,t,e){const i=ip(Wc(n.r)),r=ip(Wc(n.g)),o=ip(Wc(n.b));return{r:ld(nN(i+e*(ip(Wc(t.r))-i))),g:ld(nN(r+e*(ip(Wc(t.g))-r))),b:ld(nN(o+e*(ip(Wc(t.b))-o))),a:n.a+e*(t.a-n.a)}}(this._rgb,t._rgb,e)),this}clone(){return new rp(this.rgb)}alpha(t){return this._rgb.a=ld(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=np(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return SI(this._rgb,2,t),this}darken(t){return SI(this._rgb,2,-t),this}saturate(t){return SI(this._rgb,1,t),this}desaturate(t){return SI(this._rgb,1,-t),this}rotate(t){return function _Te(n,t){var e=ZO(n);e[0]=Y9(e[0]+t),e=tN(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function qc(){}const CTe=(()=>{let n=0;return()=>n++})();function _n(n){return null==n}function vi(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function ln(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function ji(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function hs(n,t){return ji(n)?n:t}function Lt(n,t){return typeof n>"u"?t:n}const t$=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function si(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function Mn(n,t,e,i){let r,o,s;if(vi(n))if(o=n.length,i)for(r=o-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<o;r++)t.call(e,n[r],r);else if(ln(n))for(s=Object.keys(n),o=s.length,r=0;r<o;r++)t.call(e,n[s[r]],s[r])}function DI(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function RI(n){if(vi(n))return n.map(RI);if(ln(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=RI(n[e[r]]);return t}return n}function n$(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function kTe(n,t,e,i){if(!n$(n))return;const r=t[n],o=e[n];ln(r)&&ln(o)?wv(r,o,i):t[n]=RI(o)}function wv(n,t,e){const i=vi(t)?t:[t],r=i.length;if(!ln(n))return n;const o=(e=e||{}).merger||kTe;let s;for(let a=0;a<r;++a){if(s=i[a],!ln(s))continue;const c=Object.keys(s);for(let l=0,d=c.length;l<d;++l)o(c[l],n,s,e)}return n}function xv(n,t){return wv(n,t,{merger:STe})}function STe(n,t,e){if(!n$(n))return;const i=t[n],r=e[n];ln(i)&&ln(r)?xv(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=RI(r))}const i$={"":n=>n,x:n=>n.x,y:n=>n.y};function dd(n,t){return(i$[t]||(i$[t]=function RTe(n){const t=function DTe(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}(n);return e=>{for(const i of t){if(""===i)break;e=e&&e[i]}return e}}(t)))(n)}function iN(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Ev=n=>typeof n<"u",ud=n=>"function"==typeof n,r$=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},yi=Math.PI,wi=2*yi,PTe=wi+yi,MI=Number.POSITIVE_INFINITY,OTe=yi/180,Zi=yi/2,eh=yi/4,o$=2*yi/3,hd=Math.log10,qa=Math.sign;function Iv(n,t,e){return Math.abs(n-t)<e}function s$(n){const t=Math.round(n);n=Iv(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(hd(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function op(n){return!isNaN(parseFloat(n))&&isFinite(n)}function a$(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function la(n){return n*(yi/180)}function rN(n){return n*(180/yi)}function c$(n){if(!ji(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function l$(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*yi&&(o+=wi),{angle:o,distance:r}}function oN(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function LTe(n,t){return(n-t+PTe)%wi-yi}function fs(n){return(n%wi+wi)%wi}function Tv(n,t,e,i){const r=fs(n),o=fs(t),s=fs(e),a=fs(o-r),c=fs(s-r),l=fs(r-o),d=fs(r-s);return r===o||r===s||i&&o===s||a>c&&l<d}function Mr(n,t,e){return Math.max(t,Math.min(e,n))}function Gc(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function sN(n,t,e){e=e||(s=>n[s]<t);let o,i=n.length-1,r=0;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const $c=(n,t,e,i)=>sN(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),BTe=(n,t,e)=>sN(n,e,i=>n[i][t]>=e),d$=["push","pop","shift","splice","unshift"];function u$(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),!(i.length>0)&&(d$.forEach(o=>{delete n[o]}),delete n._chartjs)}function h$(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const f$=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function m$(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,f$.call(window,()=>{i=!1,n.apply(t,e)}))}}const aN=n=>"start"===n?"left":"end"===n?"right":"center",so=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function p$(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:s,_parsed:a}=n,c=s.axis,{min:l,max:d,minDefined:u,maxDefined:p}=s.getUserBounds();u&&(r=Mr(Math.min($c(a,c,l).lo,e?i:$c(t,c,s.getPixelForValue(l)).lo),0,i-1)),o=p?Mr(Math.max($c(a,s.axis,d,!0).hi+1,e?0:$c(t,c,s.getPixelForValue(d),!0).hi+1),r,i)-r:i-r}return{start:r,count:o}}function g$(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const PI=n=>0===n||1===n,_$=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*wi/e),b$=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*wi/e)+1,Cv={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*Zi),easeOutSine:n=>Math.sin(n*Zi),easeInOutSine:n=>-.5*(Math.cos(yi*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>PI(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>PI(n)?n:_$(n,.075,.3),easeOutElastic:n=>PI(n)?n:b$(n,.075,.3),easeInOutElastic:n=>PI(n)?n:n<.5?.5*_$(2*n,.1125,.45):.5+.5*b$(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-Cv.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*Cv.easeInBounce(2*n):.5*Cv.easeOutBounce(2*n-1)+.5};function cN(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function v$(n){return cN(n)?n:new rp(n)}function lN(n){return cN(n)?n:new rp(n).saturate(.5).darken(.1).hexString()}const WTe=["x","y","borderWidth","radius","tension"],qTe=["color","borderColor","backgroundColor"],y$=new Map;function Av(n,t,e){return function KTe(n,t){t=t||{};const e=n+JSON.stringify(t);let i=y$.get(e);return i||(i=new Intl.NumberFormat(n,t),y$.set(e,i)),i}(t,e).format(n)}const w$={values:n=>vi(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const l=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(l<1e-4||l>1e15)&&(r="scientific"),o=function QTe(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const s=hd(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Av(n,i,c)},logarithmic(n,t,e){if(0===n)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(hd(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?w$.numeric.call(this,n,t,e):""}};var OI={formatters:w$};const th=Object.create(null),dN=Object.create(null);function kv(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function uN(n,t,e){return"string"==typeof t?wv(kv(n,t),e):wv(kv(n,""),t)}class XTe{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>lN(r.backgroundColor),this.hoverBorderColor=(i,r)=>lN(r.borderColor),this.hoverColor=(i,r)=>lN(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return uN(this,t,e)}get(t){return kv(this,t)}describe(t,e){return uN(dN,t,e)}override(t,e){return uN(th,t,e)}route(t,e,i,r){const o=kv(this,t),s=kv(this,i),a="_"+e;Object.defineProperties(o,{[a]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const c=this[a],l=s[r];return ln(c)?Object.assign({},l,c):Lt(c,l)},set(c){this[a]=c}}})}apply(t){t.forEach(e=>e(this))}}var Si=new XTe({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function GTe(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),n.set("animations",{colors:{type:"color",properties:qTe},numbers:{type:"number",properties:WTe}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function $Te(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function YTe(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:OI.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function NI(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function ZTe(n,t,e,i){let r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let s=0;const a=e.length;let c,l,d,u,p;for(c=0;c<a;c++)if(u=e[c],null==u||vi(u)){if(vi(u))for(l=0,d=u.length;l<d;l++)p=u[l],null!=p&&!vi(p)&&(s=NI(n,r,o,s,p))}else s=NI(n,r,o,s,u);n.restore();const b=o.length/2;if(b>e.length){for(c=0;c<b;c++)delete r[o[c]];o.splice(0,b)}return s}function nh(n,t,e){const i=n.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function x$(n,t){!t&&!n||((t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function hN(n,t,e,i){E$(n,t,e,i,null)}function E$(n,t,e,i,r){let o,s,a,c,l,d,u,p;const b=t.pointStyle,v=t.rotation,w=t.radius;let x=(v||0)*OTe;if(b&&"object"==typeof b&&(o=b.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return n.save(),n.translate(e,i),n.rotate(x),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),void n.restore();if(!(isNaN(w)||w<=0)){switch(n.beginPath(),b){default:r?n.ellipse(e,i,r/2,w,0,0,wi):n.arc(e,i,w,0,wi),n.closePath();break;case"triangle":d=r?r/2:w,n.moveTo(e+Math.sin(x)*d,i-Math.cos(x)*w),x+=o$,n.lineTo(e+Math.sin(x)*d,i-Math.cos(x)*w),x+=o$,n.lineTo(e+Math.sin(x)*d,i-Math.cos(x)*w),n.closePath();break;case"rectRounded":l=.516*w,c=w-l,s=Math.cos(x+eh)*c,u=Math.cos(x+eh)*(r?r/2-l:c),a=Math.sin(x+eh)*c,p=Math.sin(x+eh)*(r?r/2-l:c),n.arc(e-u,i-a,l,x-yi,x-Zi),n.arc(e+p,i-s,l,x-Zi,x),n.arc(e+u,i+a,l,x,x+Zi),n.arc(e-p,i+s,l,x+Zi,x+yi),n.closePath();break;case"rect":if(!v){c=Math.SQRT1_2*w,d=r?r/2:c,n.rect(e-d,i-c,2*d,2*c);break}x+=eh;case"rectRot":u=Math.cos(x)*(r?r/2:w),s=Math.cos(x)*w,a=Math.sin(x)*w,p=Math.sin(x)*(r?r/2:w),n.moveTo(e-u,i-a),n.lineTo(e+p,i-s),n.lineTo(e+u,i+a),n.lineTo(e-p,i+s),n.closePath();break;case"crossRot":x+=eh;case"cross":u=Math.cos(x)*(r?r/2:w),s=Math.cos(x)*w,a=Math.sin(x)*w,p=Math.sin(x)*(r?r/2:w),n.moveTo(e-u,i-a),n.lineTo(e+u,i+a),n.moveTo(e+p,i-s),n.lineTo(e-p,i+s);break;case"star":u=Math.cos(x)*(r?r/2:w),s=Math.cos(x)*w,a=Math.sin(x)*w,p=Math.sin(x)*(r?r/2:w),n.moveTo(e-u,i-a),n.lineTo(e+u,i+a),n.moveTo(e+p,i-s),n.lineTo(e-p,i+s),x+=eh,u=Math.cos(x)*(r?r/2:w),s=Math.cos(x)*w,a=Math.sin(x)*w,p=Math.sin(x)*(r?r/2:w),n.moveTo(e-u,i-a),n.lineTo(e+u,i+a),n.moveTo(e+p,i-s),n.lineTo(e-p,i+s);break;case"line":s=r?r/2:Math.cos(x)*w,a=Math.sin(x)*w,n.moveTo(e-s,i-a),n.lineTo(e+s,i+a);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(x)*(r?r/2:w),i+Math.sin(x)*w);break;case!1:n.closePath()}n.fill(),t.borderWidth>0&&n.stroke()}}function Kc(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function FI(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function LI(n){n.restore()}function eCe(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if("middle"===r){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else"after"===r!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function tCe(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function iCe(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),s=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=e+o.actualBoundingBoxDescent,d=r.strikethrough?(e-o.actualBoundingBoxAscent+l)/2:l;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(s,d),n.lineTo(a,d),n.stroke()}}function rCe(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function ih(n,t,e,i,r,o={}){const s=vi(t)?t:[t],a=o.strokeWidth>0&&""!==o.strokeColor;let c,l;for(n.save(),n.font=r.string,function nCe(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),_n(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,o),c=0;c<s.length;++c)l=s[c],o.backdrop&&rCe(n,o.backdrop),a&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),_n(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(l,e,i,o.maxWidth)),n.fillText(l,e,i,o.maxWidth),iCe(n,e,i,l,o),i+=Number(r.lineHeight);n.restore()}function Sv(n,t){const{x:e,y:i,w:r,h:o,radius:s}=t;n.arc(e+s.topLeft,i+s.topLeft,s.topLeft,1.5*yi,yi,!0),n.lineTo(e,i+o-s.bottomLeft),n.arc(e+s.bottomLeft,i+o-s.bottomLeft,s.bottomLeft,yi,Zi,!0),n.lineTo(e+r-s.bottomRight,i+o),n.arc(e+r-s.bottomRight,i+o-s.bottomRight,s.bottomRight,Zi,0,!0),n.lineTo(e+r,i+s.topRight),n.arc(e+r-s.topRight,i+s.topRight,s.topRight,0,-Zi,!0),n.lineTo(e+s.topLeft,i)}const oCe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,sCe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function aCe(n,t){const e=(""+n).match(oCe);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const cCe=n=>+n||0;function fN(n,t){const e={},i=ln(t),r=i?Object.keys(t):t,o=ln(n)?i?s=>Lt(n[s],n[t[s]]):s=>n[s]:()=>n;for(const s of r)e[s]=cCe(o(s));return e}function I$(n){return fN(n,{top:"y",right:"x",bottom:"y",left:"x"})}function rh(n){return fN(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ao(n){const t=I$(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function br(n,t){let e=Lt((n=n||{}).size,(t=t||Si.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=Lt(n.style,t.style);i&&!(""+i).match(sCe)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Lt(n.family,t.family),lineHeight:aCe(Lt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Lt(n.weight,t.weight),string:""};return r.string=function JTe(n){return!n||_n(n.size)||_n(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function Dv(n,t,e,i){let o,s,a,r=!0;for(o=0,s=n.length;o<s;++o)if(a=n[o],void 0!==a&&(void 0!==t&&"function"==typeof a&&(a=a(t),r=!1),void 0!==e&&vi(a)&&(a=a[e%a.length],r=!1),void 0!==a))return i&&!r&&(i.cacheable=!1),a}function fd(n,t){return Object.assign(Object.create(n),t)}function mN(n,t=[""],e,i,r=(()=>n[0])){const o=e||n;typeof i>"u"&&(i=S$("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:a=>mN([a,...n],t,o,i)};return new Proxy(s,{deleteProperty:(a,c)=>(delete a[c],delete a._keys,delete n[0][c],!0),get:(a,c)=>C$(a,c,()=>function _Ce(n,t,e,i){let r;for(const o of t)if(r=S$(dCe(o,n),e),typeof r<"u")return pN(n,r)?gN(e,i,n,r):r}(c,t,n,a)),getOwnPropertyDescriptor:(a,c)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],c),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(a,c)=>D$(a).includes(c),ownKeys:a=>D$(a),set(a,c,l){const d=a._storage||(a._storage=r());return a[c]=d[c]=l,delete a._keys,!0}})}function sp(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:T$(n,i),setContext:o=>sp(n,o,e,i),override:o=>sp(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty:(o,s)=>(delete o[s],delete n[s],!0),get:(o,s,a)=>C$(o,s,()=>function uCe(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:s}=n;let a=i[t];return ud(a)&&s.isScriptable(t)&&(a=function hCe(n,t,e,i){const{_proxy:r,_context:o,_subProxy:s,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let c=t(o,s||i);return a.delete(n),pN(n,c)&&(c=gN(r._scopes,r,n,c)),c}(t,a,n,e)),vi(a)&&a.length&&(a=function fCe(n,t,e,i){const{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(ln(t[0])){const c=t,l=r._scopes.filter(d=>d!==c);t=[];for(const d of c){const u=gN(l,r,n,d);t.push(sp(u,o,s&&s[n],a))}}return t}(t,a,n,s.isIndexable)),pN(t,a)&&(a=sp(a,r,o&&o[t],s)),a}(o,s,a)),getOwnPropertyDescriptor:(o,s)=>o._descriptors.allKeys?Reflect.has(n,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,s),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(o,s)=>Reflect.has(n,s),ownKeys:()=>Reflect.ownKeys(n),set:(o,s,a)=>(n[s]=a,delete o[s],!0)})}function T$(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:ud(e)?e:()=>e,isIndexable:ud(i)?i:()=>i}}const dCe=(n,t)=>n?n+iN(t):t,pN=(n,t)=>ln(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function C$(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||"constructor"===t)return n[t];const i=e();return n[t]=i,i}function A$(n,t,e){return ud(n)?n(t,e):n}const mCe=(n,t)=>!0===n?t:"string"==typeof n?dd(t,n):void 0;function pCe(n,t,e,i,r){for(const o of t){const s=mCe(e,o);if(s){n.add(s);const a=A$(s._fallback,e,r);if(typeof a<"u"&&a!==e&&a!==i)return a}else if(!1===s&&typeof i<"u"&&e!==i)return null}return!1}function gN(n,t,e,i){const r=t._rootScopes,o=A$(t._fallback,e,i),s=[...n,...r],a=new Set;a.add(i);let c=k$(a,s,e,o||e,i);return!(null===c||typeof o<"u"&&o!==e&&(c=k$(a,s,o,c,i),null===c))&&mN(Array.from(a),[""],r,o,()=>function gCe(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return vi(r)&&ln(e)?e:r||{}}(t,e,i))}function k$(n,t,e,i,r){for(;e;)e=pCe(n,t,e,i,r);return e}function S$(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function D$(n){let t=n._keys;return t||(t=n._keys=function bCe(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}(n._scopes)),t}function R$(n,t,e,i){const{iScale:r}=n,{key:o="r"}=this._parsing,s=new Array(i);let a,c,l,d;for(a=0,c=i;a<c;++a)l=a+e,d=t[l],s[a]={r:r.parse(dd(d,o),l)};return s}const vCe=Number.EPSILON||1e-14,ap=(n,t)=>t<n.length&&!n[t].skip&&n[t],M$=n=>"x"===n?"y":"x";function yCe(n,t,e,i){const r=n.skip?t:n,o=t,s=e.skip?t:e,a=oN(o,r),c=oN(s,o);let l=a/(a+c),d=c/(a+c);l=isNaN(l)?0:l,d=isNaN(d)?0:d;const u=i*l,p=i*d;return{previous:{x:o.x-u*(s.x-r.x),y:o.y-u*(s.y-r.y)},next:{x:o.x+p*(s.x-r.x),y:o.y+p*(s.y-r.y)}}}function VI(n,t,e){return Math.max(Math.min(n,e),t)}function TCe(n,t,e,i,r){let o,s,a,c;if(t.spanGaps&&(n=n.filter(l=>!l.skip)),"monotone"===t.cubicInterpolationMode)!function ECe(n,t="x"){const e=M$(t),i=n.length,r=Array(i).fill(0),o=Array(i);let s,a,c,l=ap(n,0);for(s=0;s<i;++s)if(a=c,c=l,l=ap(n,s+1),c){if(l){const d=l[t]-c[t];r[s]=0!==d?(l[e]-c[e])/d:0}o[s]=a?l?qa(r[s-1])!==qa(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}(function wCe(n,t,e){const i=n.length;let r,o,s,a,c,l=ap(n,0);for(let d=0;d<i-1;++d)if(c=l,l=ap(n,d+1),c&&l){if(Iv(t[d],0,vCe)){e[d]=e[d+1]=0;continue}r=e[d]/t[d],o=e[d+1]/t[d],a=Math.pow(r,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),e[d]=r*s*t[d],e[d+1]=o*s*t[d])}})(n,r,o),function xCe(n,t,e="x"){const i=M$(e),r=n.length;let o,s,a,c=ap(n,0);for(let l=0;l<r;++l){if(s=a,a=c,c=ap(n,l+1),!a)continue;const d=a[e],u=a[i];s&&(o=(d-s[e])/3,a[`cp1${e}`]=d-o,a[`cp1${i}`]=u-o*t[l]),c&&(o=(c[e]-d)/3,a[`cp2${e}`]=d+o,a[`cp2${i}`]=u+o*t[l])}}(n,o,t)}(n,r);else{let l=i?n[n.length-1]:n[0];for(o=0,s=n.length;o<s;++o)a=n[o],c=yCe(l,a,n[Math.min(o+1,s-(i?0:1))%s],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}t.capBezierPoints&&function ICe(n,t){let e,i,r,o,s,a=Kc(n[0],t);for(e=0,i=n.length;e<i;++e)s=o,o=a,a=e<i-1&&Kc(n[e+1],t),o&&(r=n[e],s&&(r.cp1x=VI(r.cp1x,t.left,t.right),r.cp1y=VI(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=VI(r.cp2x,t.left,t.right),r.cp2y=VI(r.cp2y,t.top,t.bottom)))}(n,e)}function _N(){return typeof window<"u"&&typeof document<"u"}function bN(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function BI(n,t,e){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*t.parentNode[e])):i=n,i}const UI=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),ACe=["top","right","bottom","left"];function oh(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=ACe[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const kCe=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function sh(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=UI(e),o="border-box"===r.boxSizing,s=oh(r,"padding"),a=oh(r,"border","width"),{x:c,y:l,box:d}=function SCe(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let a,c,s=!1;if(kCe(r,o,n.target))a=r,c=o;else{const l=t.getBoundingClientRect();a=i.clientX-l.left,c=i.clientY-l.top,s=!0}return{x:a,y:c,box:s}}(n,e),u=s.left+(d&&a.left),p=s.top+(d&&a.top);let{width:b,height:v}=t;return o&&(b-=s.width+a.width,v-=s.height+a.height),{x:Math.round((c-u)/b*e.width/i),y:Math.round((l-p)/v*e.height/i)}}const jI=n=>Math.round(10*n)/10;function P$(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const s=n.canvas;return s.style&&(e||!s.style.height&&!s.style.width)&&(s.style.height=`${n.height}px`,s.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||s.height!==r||s.width!==o)&&(n.currentDevicePixelRatio=i,s.height=r,s.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0)}const MCe=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};_N()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function O$(n,t){const e=function CCe(n,t){return UI(n).getPropertyValue(t)}(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ah(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function PCe(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:"middle"===i?e<.5?n.y:t.y:"after"===i?e<1?n.y:t.y:e>0?t.y:n.y}}function OCe(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},s=ah(n,r,e),a=ah(r,o,e),c=ah(o,t,e),l=ah(s,a,e),d=ah(a,c,e);return ah(l,d,e)}function cp(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function N$(n,t){let e,i;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function F$(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function L$(n){return"angle"===n?{between:Tv,compare:LTe,normalize:fs}:{between:Gc,compare:(t,e)=>t-e,normalize:t=>t}}function V$({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:r}}function B$(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,s=t.length,{compare:a,between:c,normalize:l}=L$(i),{start:d,end:u,loop:p,style:b}=function LCe(n,t,e){const{property:i,start:r,end:o}=e,{between:s,normalize:a}=L$(i),c=t.length;let p,b,{start:l,end:d,loop:u}=n;if(u){for(l+=c,d+=c,p=0,b=c;p<b&&s(a(t[l%c][i]),r,o);++p)l--,d--;l%=c,d%=c}return d<l&&(d+=c),{start:l,end:d,loop:u,style:n.style}}(n,t,e),v=[];let P,S,B,w=!1,x=null;for(let R=d,L=d;R<=u;++R)S=t[R%s],!S.skip&&(P=l(S[i]),P!==B&&(w=c(P,r,o),null===x&&(w||c(r,B,P)&&0!==a(r,B))&&(x=0===a(P,r)?R:L),null!==x&&(!w||0===a(o,P)||c(o,B,P))&&(v.push(V$({start:x,end:R,loop:p,count:s,style:b})),x=null),L=R,B=P));return null!==x&&v.push(V$({start:x,end:u,loop:p,count:s,style:b})),v}function U$(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=B$(i[r],n.points,t);o.length&&e.push(...o)}return e}function z$(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function zCe(n,t){if(!t)return!1;const e=[],i=function(r,o){return cN(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}class HCe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const s=e.duration;e.listeners[r].forEach(a=>a({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(i-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=f$.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c,s=o.length-1,a=!1;for(;s>=0;--s)c=o[s],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(t),a=!0):(o[s]=o[o.length-1],o.pop());a&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Qc=new HCe;const H$="transparent",WCe={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const i=v$(n||H$),r=i.valid&&v$(t||H$);return r&&r.valid?r.mix(i,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class qCe{constructor(t,e,i,r){const o=e[i];r=Dv([t.to,r,o,t.from]);const s=Dv([t.from,o,r]);this._active=!0,this._fn=t.fn||WCe[t.type||typeof s],this._easing=Cv[t.easing]||Cv.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,s=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Dv([t.to,e,r,t.from]),this._from=Dv([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,s=this._loop,a=this._to;let c;if(this._active=o!==a&&(s||e<i),!this._active)return this._target[r]=a,void this._notify(!0);e<0?this._target[r]=o:(c=e/i%2,c=s&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(o,a,c))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class W${constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!ln(t))return;const e=Object.keys(Si.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!ln(o))return;const s={};for(const a of e)s[a]=o[a];(vi(o.properties)&&o.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,s)})})}_animateOptions(t,e){const i=e.options,r=function $Ce(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&function GCe(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),s=Object.keys(e),a=Date.now();let c;for(c=s.length-1;c>=0;--c){const l=s[c];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(t,e));continue}const d=e[l];let u=o[l];const p=i.get(l);if(u){if(p&&u.active()){u.update(p,d,a);continue}u.cancel()}p&&p.duration?(o[l]=u=new qCe(p,t,l,d),r.push(u)):t[l]=d}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(Qc.add(this._chart,i),!0):void 0}}function q$(n,t){const e=n&&n.options||{},i=e.reverse,r=void 0===e.min?t:0,o=void 0===e.max?t:0;return{start:i?o:r,end:i?r:o}}function G$(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function $$(n,t,e,i={}){const r=n.keys,o="single"===i.mode;let s,a,c,l;if(null===t)return;let d=!1;for(s=0,a=r.length;s<a;++s){if(c=+r[s],c===e){if(d=!0,i.all)continue;break}l=n.values[c],ji(l)&&(o||0===t||qa(t)===qa(l))&&(t+=l)}return d||i.all?t:0}function vN(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function ZCe(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function K$(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function Q$(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:s,index:a}=i,c=o.axis,l=s.axis,d=function XCe(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(o,s,i),u=t.length;let p;for(let b=0;b<u;++b){const v=t[b],{[c]:w,[l]:x}=v;p=(v._stacks||(v._stacks={}))[l]=ZCe(r,d,w),p[a]=x,p._top=K$(p,s,!0,i.type),p._bottom=K$(p,s,!1,i.type),(p._visualValues||(p._visualValues={}))[a]=x}}function yN(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Rv(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||void 0===o[i]||void 0===o[i][e])return;delete o[i][e],void 0!==o[i]._visualValues&&void 0!==o[i]._visualValues[e]&&delete o[i]._visualValues[e]}}}const wN=n=>"reset"===n||"none"===n,Y$=(n,t)=>t?n:Object.assign({},n);let md=(()=>class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=vN(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Rv(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,r=this.getDataset(),o=(p,b,v,w)=>"x"===p?b:"r"===p?w:v,s=i.xAxisID=Lt(r.xAxisID,yN(e,"x")),a=i.yAxisID=Lt(r.yAxisID,yN(e,"y")),c=i.rAxisID=Lt(r.rAxisID,yN(e,"r")),l=i.indexAxis,d=i.iAxisID=o(l,s,a,c),u=i.vAxisID=o(l,a,s,c);i.xScale=this.getScaleForId(s),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(c),i.iScale=this.getScaleForId(d),i.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&u$(this._data,this),e._stacked&&Rv(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),r=this._data;if(ln(i))this._data=function YCe(n,t){const{iScale:e,vScale:i}=t,r="x"===e.axis?"x":"y",o="x"===i.axis?"x":"y",s=Object.keys(n),a=new Array(s.length);let c,l,d;for(c=0,l=s.length;c<l;++c)d=s[c],a[c]={[r]:d,[o]:n[d]};return a}(i,this._cachedMeta);else if(r!==i){if(r){u$(r,this);const o=this._cachedMeta;Rv(o),o._parsed=[]}i&&Object.isExtensible(i)&&function jTe(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),d$.forEach(e=>{const i="_onData"+iN(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const s=r.apply(this,o);return n._chartjs.listeners.forEach(a=>{"function"==typeof a[i]&&a[i](...o)}),s}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const s=i._stacked;i._stacked=vN(i.vScale,i),i.stack!==r.stack&&(o=!0,Rv(i),i.stack=r.stack),this._resyncElements(e),(o||s!==i._stacked)&&(Q$(this,i._parsed),i._stacked=vN(i.vScale,i))}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:r,_data:o}=this,{iScale:s,_stacked:a}=r,c=s.axis;let u,p,b,l=0===e&&i===o.length||r._sorted,d=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=o,r._sorted=!0,b=o;else{b=vi(o[e])?this.parseArrayData(r,o,e,i):ln(o[e])?this.parseObjectData(r,o,e,i):this.parsePrimitiveData(r,o,e,i);const v=()=>null===p[c]||d&&p[c]<d[c];for(u=0;u<i;++u)r._parsed[u+e]=p=b[u],l&&(v()&&(l=!1),d=p);r._sorted=l}a&&Q$(this,b)}parsePrimitiveData(e,i,r,o){const{iScale:s,vScale:a}=e,c=s.axis,l=a.axis,d=s.getLabels(),u=s===a,p=new Array(o);let b,v,w;for(b=0,v=o;b<v;++b)w=b+r,p[b]={[c]:u||s.parse(d[w],w),[l]:a.parse(i[w],w)};return p}parseArrayData(e,i,r,o){const{xScale:s,yScale:a}=e,c=new Array(o);let l,d,u,p;for(l=0,d=o;l<d;++l)u=l+r,p=i[u],c[l]={x:s.parse(p[0],u),y:a.parse(p[1],u)};return c}parseObjectData(e,i,r,o){const{xScale:s,yScale:a}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=new Array(o);let u,p,b,v;for(u=0,p=o;u<p;++u)b=u+r,v=i[b],d[u]={x:s.parse(dd(v,c),b),y:a.parse(dd(v,l),b)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,r){const s=this._cachedMeta,a=i[e.axis];return $$({keys:G$(this.chart,!0),values:i._stacks[e.axis]._visualValues},a,s.index,{mode:r})}updateRangeFromParsed(e,i,r,o){const s=r[i.axis];let a=null===s?NaN:s;const c=o&&r._stacks[i.axis];o&&c&&(o.values=c,a=$$(o,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,i){const r=this._cachedMeta,o=r._parsed,s=r._sorted&&e===r.iScale,a=o.length,c=this._getOtherScale(e),l=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:G$(this.chart,!0),values:null})(i,r),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:p}=function JCe(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(c);let b,v;function w(){v=o[b];const x=v[c.axis];return!ji(v[e.axis])||u>x||p<x}for(b=0;b<a&&(w()||(this.updateRangeFromParsed(d,e,v,l),!s));++b);if(s)for(b=a-1;b>=0;--b)if(!w()){this.updateRangeFromParsed(d,e,v,l);break}return d}getAllParsedValues(e){const i=this._cachedMeta._parsed,r=[];let o,s,a;for(o=0,s=i.length;o<s;++o)a=i[o][e.axis],ji(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,r=i.iScale,o=i.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=function QCe(n){let t,e,i,r;return ln(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:!1===n}}(Lt(this.options.clip,function KCe(n,t,e){if(!1===e)return!1;const i=q$(n,e),r=q$(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this._cachedMeta,o=r.data||[],s=this.chart.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||o.length-c,d=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,c,l),u=c;u<c+l;++u){const p=o[u];p.hidden||(p.active&&d?a.push(p):p.draw(e,s))}for(u=0;u<a.length;++u)a[u].draw(e,s)}getStyle(e,i){const r=i?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,i,r){const o=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=function tAe(n,t,e){return fd(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=o.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function eAe(n,t){return fd(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!i,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",r){const o="active"===i,s=this._cachedDataOpts,a=e+"-"+i,c=s[a],l=this.enableOptionSharing&&Ev(r);if(c)return Y$(c,l);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),p=o?[`${e}Hover`,"hover",e,""]:[e,""],b=d.getOptionScopes(this.getDataset(),u),v=Object.keys(Si.elements[e]),x=d.resolveNamedOptions(b,v,()=>this.getContext(r,o,i),p);return x.$shared&&(x.$shared=l,s[a]=Object.freeze(Y$(x,l))),x}_resolveAnimations(e,i,r){const o=this.chart,s=this._cachedDataOpts,a=`animation-${i}`,c=s[a];if(c)return c;let l;if(!1!==o.options.animation){const u=this.chart.config,p=u.datasetAnimationScopeKeys(this._type,i),b=u.getOptionScopes(this.getDataset(),p);l=u.createResolver(b,this.getContext(e,r,i))}const d=new W$(o,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||wN(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){const r=this.resolveDataElementOptions(e,i),o=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(i,s)||s!==o;return this.updateSharedOptions(s,i,r),{sharedOptions:s,includeOptions:a}}updateElement(e,i,r,o){wN(o)?Object.assign(e,r):this._resolveAnimations(i,o).update(e,r)}updateSharedOptions(e,i,r){e&&!wN(i)&&this._resolveAnimations(void 0,i).update(e,r)}_setStyle(e,i,r,o){e.active=o;const s=this.getStyle(i,o);this._resolveAnimations(i,r,o).update(e,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(e,i,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,i,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,r=this._cachedMeta.data;for(const[c,l,d]of this._syncList)this[c](l,d);this._syncList=[];const o=r.length,s=i.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,e):s<o&&this._removeElements(s,o-s)}_insertElements(e,i,r=!0){const o=this._cachedMeta,s=o.data,a=e+i;let c;const l=d=>{for(d.length+=i,c=d.length-1;c>=a;c--)d[c]=d[c-i]};for(l(s),c=e;c<a;++c)s[c]=new this.dataElementType;this._parsing&&l(o._parsed),this.parse(e,i),r&&this.updateElements(s,e,i,"reset")}updateElements(e,i,r,o){}_removeElements(e,i){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(e,i);r._stacked&&Rv(r,o)}r.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,r,o]=e;this[i](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function rAe(n){const t=n.iScale,e=function iAe(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=h$(i.sort((r,o)=>r-o))}return n._cache.$bar}(t,n.type);let r,o,s,a,i=t._length;const c=()=>{32767===s||-32768===s||(Ev(a)&&(i=Math.min(i,Math.abs(s-a)||i)),a=s)};for(r=0,o=e.length;r<o;++r)s=t.getPixelForValue(e[r]),c();for(a=void 0,r=0,o=t.ticks.length;r<o;++r)s=t.getPixelForTick(r),c();return i}function X$(n,t,e,i){return vi(n)?function aAe(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),s=Math.min(r,o),a=Math.max(r,o);let c=s,l=a;Math.abs(s)>Math.abs(a)&&(c=a,l=s),t[e.axis]=l,t._custom={barStart:c,barEnd:l,start:r,end:o,min:s,max:a}}(n,t,e,i):t[e.axis]=e.parse(n,i),t}function J$(n,t,e,i){const r=n.iScale,o=n.vScale,s=r.getLabels(),a=r===o,c=[];let l,d,u,p;for(l=e,d=e+i;l<d;++l)p=t[l],u={},u[r.axis]=a||r.parse(s[l],l),c.push(X$(p,u,o,l));return c}function xN(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function dAe(n,t,e,i){let r=t.borderSkipped;const o={};if(!r)return void(n.borderSkipped=o);if(!0===r)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:a,reverse:c,top:l,bottom:d}=function lAe(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}(n);"middle"===r&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=l:(e._bottom||0)===i?r=d:(o[Z$(d,s,a,c)]=!0,r=l)),o[Z$(r,s,a,c)]=!0,n.borderSkipped=o}function Z$(n,t,e,i){return i?(n=function uAe(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=e7(n,e,t)):n=e7(n,t,e),n}function e7(n,t,e){return"start"===n?t:"end"===n?e:n}function hAe(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}let fAe=(()=>class n extends md{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,i,r,o){return J$(e,i,r,o)}parseArrayData(e,i,r,o){return J$(e,i,r,o)}parseObjectData(e,i,r,o){const{iScale:s,vScale:a}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d="x"===s.axis?c:l,u="x"===a.axis?c:l,p=[];let b,v,w,x;for(b=r,v=r+o;b<v;++b)x=i[b],w={},w[s.axis]=s.parse(dd(x,d),b),p.push(X$(dd(x,u),w,a,b));return p}updateRangeFromParsed(e,i,r,o){super.updateRangeFromParsed(e,i,r,o);const s=r._custom;s&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const i=this._cachedMeta,{iScale:r,vScale:o}=i,s=this.getParsed(e),a=s._custom,c=xN(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,r,o){const s="reset"===o,{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),d=c.isHorizontal(),u=this._getRuler(),{sharedOptions:p,includeOptions:b}=this._getSharedOptions(i,o);for(let v=i;v<i+r;v++){const w=this.getParsed(v),x=s||_n(w[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(v),P=this._calculateBarIndexPixels(v,u),S=(w._stacks||{})[c.axis],B={horizontal:d,base:x.base,enableBorderRadius:!S||xN(w._custom)||a===S._top||a===S._bottom,x:d?x.head:P.center,y:d?P.center:x.head,height:d?P.size:Math.abs(x.size),width:d?Math.abs(x.size):P.size};b&&(B.options=p||this.resolveDataElementOptions(v,e[v].active?"active":o));const $=B.options||e[v].options;dAe(B,$,S,a),hAe(B,$,u.ratio),this.updateElement(e[v],v,B,o)}}_getStacks(e,i){const{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(i),l=c&&c[r.axis],d=u=>{const p=u._parsed.find(v=>v[r.axis]===l),b=p&&p[u.vScale.axis];if(_n(b)||isNaN(b))return!0};for(const u of o)if((void 0===i||!d(u))&&((!1===s||-1===a.indexOf(u.stack)||void 0===s&&void 0===u.stack)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,r){const o=this._getStacks(e,r),s=void 0!==i?o.indexOf(i):-1;return-1===s?o.length-1:s}_getRuler(){const e=this.options,i=this._cachedMeta,r=i.iScale,o=[];let s,a;for(s=0,a=i.data.length;s<a;++s)o.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const c=e.barThickness;return{min:c||rAe(i),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:i,_stacked:r,index:o},options:{base:s,minBarLength:a}}=this,c=s||0,l=this.getParsed(e),d=l._custom,u=xN(d);let w,x,p=l[i.axis],b=0,v=r?this.applyStack(i,l,r):p;v!==p&&(b=v-p,v=p),u&&(p=d.barStart,v=d.barEnd-d.barStart,0!==p&&qa(p)!==qa(d.barEnd)&&(b=0),b+=p);const P=_n(s)||u?b:s;let S=i.getPixelForValue(P);if(w=this.chart.getDataVisibility(e)?i.getPixelForValue(b+v):S,x=w-S,Math.abs(x)<a){x=function cAe(n,t,e){return 0!==n?qa(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(x,i,c)*a,p===c&&(S-=x/2);const B=i.getPixelForDecimal(0),$=i.getPixelForDecimal(1),J=Math.min(B,$),te=Math.max(B,$);S=Math.max(Math.min(S,te),J),w=S+x,r&&!u&&(l._stacks[i.axis]._visualValues[o]=i.getValueForPixel(w)-i.getValueForPixel(S))}if(S===i.getPixelForValue(c)){const B=qa(x)*i.getLineWidthForValue(c)/2;S+=B,x-=B}return{size:x,base:S,head:w,center:w+x/2}}_calculateBarIndexPixels(e,i){const r=i.scale,o=this.options,s=o.skipNull,a=Lt(o.maxBarThickness,1/0);let c,l;if(i.grouped){const d=s?this._getStackCount(e):i.stackCount,u="flex"===o.barThickness?function sAe(n,t,e,i){const r=t.pixels,o=r[n];let s=n>0?r[n-1]:null,a=n<r.length-1?r[n+1]:null;const c=e.categoryPercentage;null===s&&(s=o-(null===a?t.end-t.start:a-o)),null===a&&(a=o+o-s);const l=o-(o-Math.min(s,a))/2*c;return{chunk:Math.abs(a-s)/2*c/i,ratio:e.barPercentage,start:l}}(e,i,o,d):function oAe(n,t,e,i){const r=e.barThickness;let o,s;return _n(r)?(o=t.min*e.categoryPercentage,s=e.barPercentage):(o=r*i,s=1),{chunk:o/i,ratio:s,start:t.pixels[n]-o/2}}(e,i,o,d),p=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);c=u.start+u.chunk*p+u.chunk/2,l=Math.min(a,u.chunk*u.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,i.min*i.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){const e=this._cachedMeta,i=e.vScale,r=e.data,o=r.length;let s=0;for(;s<o;++s)null!==this.getParsed(s)[i.axis]&&!r[s].hidden&&r[s].draw(this._ctx)}})(),mAe=(()=>class n extends md{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,r,o){const s=super.parsePrimitiveData(e,i,r,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(e,i,r,o){const s=super.parseArrayData(e,i,r,o);for(let a=0;a<s.length;a++)s[a]._custom=Lt(i[r+a][2],this.resolveDataElementOptions(a+r).radius);return s}parseObjectData(e,i,r,o){const s=super.parseObjectData(e,i,r,o);for(let a=0;a<s.length;a++){const c=i[r+a];s[a]._custom=Lt(c&&c.r&&+c.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let i=0;for(let r=e.length-1;r>=0;--r)i=Math.max(i,e[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(e){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=i,a=this.getParsed(e),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y),d=a._custom;return{label:r[e]||"",value:"("+c+", "+l+(d?", "+d:"")+")"}}update(e){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,r,o){const s="reset"===o,{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:d}=this._getSharedOptions(i,o),u=a.axis,p=c.axis;for(let b=i;b<i+r;b++){const v=e[b],w=!s&&this.getParsed(b),x={},P=x[u]=s?a.getPixelForDecimal(.5):a.getPixelForValue(w[u]),S=x[p]=s?c.getBasePixel():c.getPixelForValue(w[p]);x.skip=isNaN(P)||isNaN(S),d&&(x.options=l||this.resolveDataElementOptions(b,v.active?"active":o),s&&(x.options.radius=0)),this.updateElement(v,b,x,o)}}resolveDataElementOptions(e,i){const r=this.getParsed(e);let o=super.resolveDataElementOptions(e,i);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const s=o.radius;return"active"!==i&&(o.radius=0),o.radius+=Lt(r&&r._custom,s),o}})(),EN=(()=>class n extends md{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const i=e.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:r,color:o}}=e.legend.options;return i.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const r=this.getDataset().data,o=this._cachedMeta;if(!1===this._parsing)o._parsed=r;else{let a,c,s=l=>+r[l];if(ln(r[e])){const{key:l="value"}=this._parsing;s=d=>+dd(r[d],l)}for(a=e,c=e+i;a<c;++a)o._parsed[a]=s(a)}}_getRotation(){return la(this.options.rotation-90)}_getCircumference(){return la(this.options.circumference)}_getRotationExtents(){let e=wi,i=-wi;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const o=this.chart.getDatasetMeta(r).controller,s=o._getRotation(),a=o._getCircumference();e=Math.min(e,s),i=Math.max(i,s+a)}return{rotation:e,circumference:i-e}}update(e){const i=this.chart,{chartArea:r}=i,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/t)(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:u,rotation:p}=this._getRotationExtents(),{ratioX:b,ratioY:v,offsetX:w,offsetY:x}=function pAe(n,t,e){let i=1,r=1,o=0,s=0;if(t<wi){const a=n,c=a+t,l=Math.cos(a),d=Math.sin(a),u=Math.cos(c),p=Math.sin(c),b=(B,$,J)=>Tv(B,a,c,!0)?1:Math.max($,$*e,J,J*e),v=(B,$,J)=>Tv(B,a,c,!0)?-1:Math.min($,$*e,J,J*e),w=b(0,l,u),x=b(Zi,d,p),P=v(yi,l,u),S=v(yi+Zi,d,p);i=(w-P)/2,r=(x-S)/2,o=-(w+P)/2,s=-(x+S)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:s}}(p,u,l),B=Math.max(Math.min((r.width-a)/b,(r.height-a)/v)/2,0),$=t$(this.options.radius,B),te=($-Math.max($*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=w*$,this.offsetY=x*$,o.total=this.calculateTotal(),this.outerRadius=$-te*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-te*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,i){const r=this.options,o=this._cachedMeta,s=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===o._parsed[e]||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*s/wi)}updateElements(e,i,r,o){const s="reset"===o,a=this.chart,c=a.chartArea,u=(c.left+c.right)/2,p=(c.top+c.bottom)/2,b=s&&a.options.animation.animateScale,v=b?0:this.innerRadius,w=b?0:this.outerRadius,{sharedOptions:x,includeOptions:P}=this._getSharedOptions(i,o);let B,S=this._getRotation();for(B=0;B<i;++B)S+=this._circumference(B,s);for(B=i;B<i+r;++B){const $=this._circumference(B,s),J=e[B],te={x:u+this.offsetX,y:p+this.offsetY,startAngle:S,endAngle:S+$,circumference:$,outerRadius:w,innerRadius:v};P&&(te.options=x||this.resolveDataElementOptions(B,J.active?"active":o)),S+=$,this.updateElement(J,B,te,o)}}calculateTotal(){const e=this._cachedMeta,i=e.data;let o,r=0;for(o=0;o<i.length;o++){const s=e._parsed[o];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!i[o].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?wi*(Math.abs(e)/i):0}getLabelAndValue(e){const r=this.chart,o=r.data.labels||[],s=Av(this._cachedMeta._parsed[e],r.options.locale);return{label:o[e]||"",value:s}}getMaxBorderWidth(e){let i=0;const r=this.chart;let o,s,a,c,l;if(!e)for(o=0,s=r.data.datasets.length;o<s;++o)if(r.isDatasetVisible(o)){a=r.getDatasetMeta(o),e=a.data,c=a.controller;break}if(!e)return 0;for(o=0,s=e.length;o<s;++o)l=c.resolveDataElementOptions(o),"inner"!==l.borderAlign&&(i=Math.max(i,l.borderWidth||0,l.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let r=0,o=e.length;r<o;++r){const s=this.resolveDataElementOptions(r);i=Math.max(i,s.offset||0,s.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(e){return Math.max(Lt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),gAe=(()=>class n extends md{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:r,data:o=[],_dataset:s}=i,a=this.chart._animationsDisabled;let{start:c,count:l}=p$(i,o,a);this._drawStart=c,this._drawCount=l,g$(i)&&(c=0,l=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=o;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},e),this.updateElements(o,c,l,e)}updateElements(e,i,r,o){const s="reset"===o,{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:p}=this._getSharedOptions(i,o),b=a.axis,v=c.axis,{spanGaps:w,segment:x}=this.options,P=op(w)?w:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||s||"none"===o,B=i+r,$=e.length;let J=i>0&&this.getParsed(i-1);for(let te=0;te<$;++te){const V=e[te],R=S?V:{};if(te<i||te>=B){R.skip=!0;continue}const L=this.getParsed(te),q=_n(L[v]),Q=R[b]=a.getPixelForValue(L[b],te),Z=R[v]=s||q?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,L,l):L[v],te);R.skip=isNaN(Q)||isNaN(Z)||q,R.stop=te>0&&Math.abs(L[b]-J[b])>P,x&&(R.parsed=L,R.raw=d.data[te]),p&&(R.options=u||this.resolveDataElementOptions(te,V.active?"active":o)),S||this.updateElement(V,te,R,o),J=L}}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,r=i.options&&i.options.borderWidth||0,o=e.data||[];if(!o.length)return r;const s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}})(),t7=(()=>class n extends md{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const i=e.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:r,color:o}}=e.legend.options;return i.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this.chart,o=r.data.labels||[],s=Av(this._cachedMeta._parsed[e].r,r.options.locale);return{label:o[e]||"",value:s}}parseObjectData(e,i,r,o){return R$.bind(this)(e,i,r,o)}update(e){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,o)=>{const s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<i.min&&(i.min=s),s>i.max&&(i.max=s))}),i}_updateRadius(){const e=this.chart,i=e.chartArea,r=e.options,o=Math.min(i.right-i.left,i.bottom-i.top),s=Math.max(o/2,0),c=(s-Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=s-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,i,r,o){const s="reset"===o,a=this.chart,l=a.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,p=d.yCenter,b=d.getIndexAngle(0)-.5*yi;let w,v=b;const x=360/this.countVisibleElements();for(w=0;w<i;++w)v+=this._computeAngle(w,o,x);for(w=i;w<i+r;w++){const P=e[w];let S=v,B=v+this._computeAngle(w,o,x),$=a.getDataVisibility(w)?d.getDistanceFromCenterForValue(this.getParsed(w).r):0;v=B,s&&(l.animateScale&&($=0),l.animateRotate&&(S=B=b));const J={x:u,y:p,innerRadius:0,outerRadius:$,startAngle:S,endAngle:B,options:this.resolveDataElementOptions(w,P.active?"active":o)};this.updateElement(P,w,J,o)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&i++}),i}_computeAngle(e,i,r){return this.chart.getDataVisibility(e)?la(this.resolveDataElementOptions(e,i).angle||r):0}})();var _Ae=Object.freeze({__proto__:null,BarController:fAe,BubbleController:mAe,DoughnutController:EN,LineController:gAe,PieController:(()=>class n extends EN{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:t7,RadarController:(()=>class n extends md{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const i=this._cachedMeta.vScale,r=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(e,i,r,o){return R$.bind(this)(e,i,r,o)}update(e){const i=this._cachedMeta,r=i.dataset,o=i.data||[],s=i.iScale.getLabels();if(r.points=o,"resize"!==e){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:s.length===o.length,options:a},e)}this.updateElements(o,0,o.length,e)}updateElements(e,i,r,o){const s=this._cachedMeta.rScale,a="reset"===o;for(let c=i;c<i+r;c++){const l=e[c],d=this.resolveDataElementOptions(c,l.active?"active":o),u=s.getPointPositionForValue(c,this.getParsed(c).r),p=a?s.xCenter:u.x,b=a?s.yCenter:u.y,v={x:p,y:b,angle:u.angle,skip:isNaN(p)||isNaN(b),options:d};this.updateElement(l,c,v,o)}}})(),ScatterController:(()=>class n extends md{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=i,a=this.getParsed(e),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y);return{label:r[e]||"",value:"("+c+", "+l+")"}}update(e){const i=this._cachedMeta,{data:r=[]}=i,o=this.chart._animationsDisabled;let{start:s,count:a}=p$(i,r,o);if(this._drawStart=s,this._drawCount=a,g$(i)&&(s=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:l}=i;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=r;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!o,options:d},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,r,o){const s="reset"===o,{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(i,o),p=this.getSharedOptions(u),b=this.includeOptions(o,p),v=a.axis,w=c.axis,{spanGaps:x,segment:P}=this.options,S=op(x)?x:Number.POSITIVE_INFINITY,B=this.chart._animationsDisabled||s||"none"===o;let $=i>0&&this.getParsed(i-1);for(let J=i;J<i+r;++J){const te=e[J],V=this.getParsed(J),R=B?te:{},L=_n(V[w]),q=R[v]=a.getPixelForValue(V[v],J),Q=R[w]=s||L?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,V,l):V[w],J);R.skip=isNaN(q)||isNaN(Q)||L,R.stop=J>0&&Math.abs(V[v]-$[v])>S,P&&(R.parsed=V,R.raw=d.data[J]),b&&(R.options=p||this.resolveDataElementOptions(J,te.active?"active":o)),B||this.updateElement(te,J,R,o),$=V}this.updateSharedOptions(p,o,u)}getMaxOverflow(){const e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let c=0;for(let l=i.length-1;l>=0;--l)c=Math.max(c,i[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}const r=e.dataset,o=r.options&&r.options.borderWidth||0;if(!i.length)return o;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(o,s,a)/2}})()});function ch(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class IN{static override(t){Object.assign(IN.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ch()}parse(){return ch()}format(){return ch()}add(){return ch()}diff(){return ch()}startOf(){return ch()}endOf(){return ch()}}var bAe__date=IN;function vAe(n,t,e,i){const{controller:r,data:o,_sorted:s}=n,a=r._cachedMeta.iScale;if(a&&t===a.axis&&"r"!==t&&s&&o.length){const c=a._reversePixels?BTe:$c;if(!i)return c(o,t,e);if(r._sharedOptions){const l=o[0],d="function"==typeof l.getRange&&l.getRange(t);if(d){const u=c(o,t,e-d),p=c(o,t,e+d);return{lo:u.lo,hi:p.hi}}}}return{lo:0,hi:o.length-1}}function Mv(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),s=e[t];for(let a=0,c=o.length;a<c;++a){const{index:l,data:d}=o[a],{lo:u,hi:p}=vAe(o[a],t,s,r);for(let b=u;b<=p;++b){const v=d[b];v.skip||i(v,l,b)}}}function TN(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||Mv(n,e,t,function(a,c,l){!r&&!Kc(a,n.chartArea,0)||a.inRange(t.x,t.y,i)&&o.push({element:a,datasetIndex:c,index:l})},!0),o}function CN(n,t,e,i,r,o){return o||n.isPointInArea(t)?"r"!==e||i?function xAe(n,t,e,i,r,o){let s=[];const a=function yAe(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(i,r){const o=t?Math.abs(i.x-r.x):0,s=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}(e);let c=Number.POSITIVE_INFINITY;return Mv(n,e,t,function l(d,u,p){const b=d.inRange(t.x,t.y,r);if(i&&!b)return;const v=d.getCenterPoint(r);if(!o&&!n.isPointInArea(v)&&!b)return;const x=a(t,v);x<c?(s=[{element:d,datasetIndex:u,index:p}],c=x):x===c&&s.push({element:d,datasetIndex:u,index:p})}),s}(n,t,e,i,r,o):function wAe(n,t,e,i){let r=[];return Mv(n,e,t,function o(s,a,c){const{startAngle:l,endAngle:d}=s.getProps(["startAngle","endAngle"],i),{angle:u}=l$(s,{x:t.x,y:t.y});Tv(u,l,d)&&r.push({element:s,datasetIndex:a,index:c})}),r}(n,t,e,r):[]}function n7(n,t,e,i,r){const o=[],s="x"===e?"inXRange":"inYRange";let a=!1;return Mv(n,e,t,(c,l,d)=>{c[s]&&c[s](t[e],r)&&(o.push({element:c,datasetIndex:l,index:d}),a=a||c.inRange(t.x,t.y,r))}),i&&!a?[]:o}var EAe={evaluateInteractionItems:Mv,modes:{index(n,t,e,i){const r=sh(t,n),o=e.axis||"x",s=e.includeInvisible||!1,a=e.intersect?TN(n,r,o,i,s):CN(n,r,o,!1,i,s),c=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(l=>{const d=a[0].index,u=l.data[d];u&&!u.skip&&c.push({element:u,datasetIndex:l.index,index:d})}),c):[]},dataset(n,t,e,i){const r=sh(t,n),o=e.axis||"xy",s=e.includeInvisible||!1;let a=e.intersect?TN(n,r,o,i,s):CN(n,r,o,!1,i,s);if(a.length>0){const c=a[0].datasetIndex,l=n.getDatasetMeta(c).data;a=[];for(let d=0;d<l.length;++d)a.push({element:l[d],datasetIndex:c,index:d})}return a},point:(n,t,e,i)=>TN(n,sh(t,n),e.axis||"xy",i,e.includeInvisible||!1),nearest:(n,t,e,i)=>CN(n,sh(t,n),e.axis||"xy",e.intersect,i,e.includeInvisible||!1),x:(n,t,e,i)=>n7(n,sh(t,n),"x",e.intersect,i),y:(n,t,e,i)=>n7(n,sh(t,n),"y",e.intersect,i)}};const r7=["left","top","right","bottom"];function Pv(n,t){return n.filter(e=>e.pos===t)}function o7(n,t){return n.filter(e=>-1===r7.indexOf(e.pos)&&e.box.axis===t)}function Ov(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function s7(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function a7(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function kAe(n,t,e,i){const{pos:r,box:o}=e,s=n.maxPadding;if(!ln(r)){e.size&&(n[r]-=e.size);const u=i[e.stack]||{size:0,count:1};u.size=Math.max(u.size,e.horizontal?o.height:o.width),e.size=u.size/u.count,n[r]+=e.size}o.getPadding&&a7(s,o.getPadding());const a=Math.max(0,t.outerWidth-s7(s,n,"left","right")),c=Math.max(0,t.outerHeight-s7(s,n,"top","bottom")),l=a!==n.w,d=c!==n.h;return n.w=a,n.h=c,e.horizontal?{same:l,other:d}:{same:d,other:l}}function DAe(n,t){const e=t.maxPadding;return function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{o[s]=Math.max(t[s],e[s])}),o}(n?["left","right"]:["top","bottom"])}function Nv(n,t,e,i){const r=[];let o,s,a,c,l,d;for(o=0,s=n.length,l=0;o<s;++o){a=n[o],c=a.box,c.update(a.width||t.w,a.height||t.h,DAe(a.horizontal,t));const{same:u,other:p}=kAe(t,e,a,i);l|=u&&r.length,d=d||p,c.fullSize||r.push(a)}return l&&Nv(r,t,e,i)||d}function zI(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function c7(n,t,e,i){const r=e.padding;let{x:o,y:s}=t;for(const a of n){const c=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/l.weight||1;if(a.horizontal){const u=t.w*d,p=l.size||c.height;Ev(l.start)&&(s=l.start),c.fullSize?zI(c,r.left,s,e.outerWidth-r.right-r.left,p):zI(c,t.left+l.placed,s,u,p),l.start=s,l.placed+=u,s=c.bottom}else{const u=t.h*d,p=l.size||c.width;Ev(l.start)&&(o=l.start),c.fullSize?zI(c,o,r.top,p,e.outerHeight-r.bottom-r.top):zI(c,o,t.top+l.placed,p,u),l.start=o,l.placed+=u,o=c.right}}t.x=o,t.y=s}var co={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=ao(n.options.layout.padding),o=Math.max(t-r.width,0),s=Math.max(e-r.height,0),a=function AAe(n){const t=function IAe(n){const t=[];let e,i,r,o,s,a;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],({position:o,options:{stack:s,stackWeight:a=1}}=r),t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return t}(n),e=Ov(t.filter(l=>l.box.fullSize),!0),i=Ov(Pv(t,"left"),!0),r=Ov(Pv(t,"right")),o=Ov(Pv(t,"top"),!0),s=Ov(Pv(t,"bottom")),a=o7(t,"x"),c=o7(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(c).concat(s).concat(a),chartArea:Pv(t,"chartArea"),vertical:i.concat(r).concat(c),horizontal:o.concat(s).concat(a)}}(n.boxes),c=a.vertical,l=a.horizontal;Mn(n.boxes,w=>{"function"==typeof w.beforeLayout&&w.beforeLayout()});const d=c.reduce((w,x)=>x.box.options&&!1===x.box.options.display?w:w+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/d,hBoxMaxHeight:s/2}),p=Object.assign({},r);a7(p,ao(i));const b=Object.assign({maxPadding:p,w:o,h:s,x:r.left,y:r.top},r),v=function CAe(n,t){const e=function TAe(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!r7.includes(r))continue;const s=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return t}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,s,a;for(o=0,s=n.length;o<s;++o){a=n[o];const{fullSize:c}=a.box,l=e[a.stack],d=l&&a.stackWeight/l.weight;a.horizontal?(a.width=d?d*i:c&&t.availableWidth,a.height=r):(a.width=i,a.height=d?d*r:c&&t.availableHeight)}return e}(c.concat(l),u);Nv(a.fullSize,b,u,v),Nv(c,b,u,v),Nv(l,b,u,v)&&Nv(c,b,u,v),function SAe(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(b),c7(a.leftAndTop,b,u,v),b.x+=b.w,b.y+=b.h,c7(a.rightAndBottom,b,u,v),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Mn(a.chartArea,w=>{const x=w.box;Object.assign(x,n.chartArea),x.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class l7{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class RAe extends l7{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const HI="$chartjs",MAe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},d7=n=>null===n||""===n,u7=!!MCe&&{passive:!0};function NAe(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,u7)}function WI(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function LAe(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||WI(a.addedNodes,i),s=s&&!WI(a.removedNodes,i);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function VAe(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||WI(a.removedNodes,i),s=s&&!WI(a.addedNodes,i);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Fv=new Map;let h7=0;function f7(){const n=window.devicePixelRatio;n!==h7&&(h7=n,Fv.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function jAe(n,t,e){const i=n.canvas,r=i&&bN(i);if(!r)return;const o=m$((a,c)=>{const l=r.clientWidth;e(a,c),l<r.clientWidth&&e()},window),s=new ResizeObserver(a=>{const c=a[0],l=c.contentRect.width,d=c.contentRect.height;0===l&&0===d||o(l,d)});return s.observe(r),function BAe(n,t){Fv.size||window.addEventListener("resize",f7),Fv.set(n,t)}(n,o),s}function AN(n,t,e){e&&e.disconnect(),"resize"===t&&function UAe(n){Fv.delete(n),Fv.size||window.removeEventListener("resize",f7)}(n)}function zAe(n,t,e){const i=n.canvas,r=m$(o=>{null!==n.ctx&&e(function FAe(n,t){const e=MAe[n.type]||n.type,{x:i,y:r}=sh(n,t);return{type:e,chart:t,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(o,n))},n);return function OAe(n,t,e){n&&n.addEventListener(t,e,u7)}(i,t,r),r}class HAe extends l7{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function PAe(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[HI]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",d7(r)){const o=O$(n,"width");void 0!==o&&(n.width=o)}if(d7(i))if(""===n.style.height)n.height=n.width/(t||2);else{const o=O$(n,"height");void 0!==o&&(n.height=o)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[HI])return!1;const i=e[HI].initial;["height","width"].forEach(o=>{const s=i[o];_n(s)?e.removeAttribute(o):e.setAttribute(o,s)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[HI],!0}addEventListener(t,e,i){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:LAe,detach:VAe,resize:jAe}[e]||zAe)(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];r&&(({attach:AN,detach:AN,resize:AN}[e]||NAe)(t,e,r),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return function RCe(n,t,e,i){const r=UI(n),o=oh(r,"margin"),s=BI(r.maxWidth,n,"clientWidth")||MI,a=BI(r.maxHeight,n,"clientHeight")||MI,c=function DCe(n,t,e){let i,r;if(void 0===t||void 0===e){const o=n&&bN(n);if(o){const s=o.getBoundingClientRect(),a=UI(o),c=oh(a,"border","width"),l=oh(a,"padding");t=s.width-l.width-c.width,e=s.height-l.height-c.height,i=BI(a.maxWidth,o,"clientWidth"),r=BI(a.maxHeight,o,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:i||MI,maxHeight:r||MI}}(n,t,e);let{width:l,height:d}=c;if("content-box"===r.boxSizing){const p=oh(r,"border","width"),b=oh(r,"padding");l-=b.width+p.width,d-=b.height+p.height}return l=Math.max(0,l-o.width),d=Math.max(0,i?l/i:d-o.height),l=jI(Math.min(l,s,c.maxWidth)),d=jI(Math.min(d,a,c.maxHeight)),l&&!d&&(d=jI(l/2)),(void 0!==t||void 0!==e)&&i&&c.height&&d>c.height&&(d=c.height,l=jI(Math.floor(d*i))),{width:l,height:d}}(t,e,i,r)}isAttached(t){const e=t&&bN(t);return!(!e||!e.isConnected)}}class Yc{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return op(this.x)&&op(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function qI(n,t,e,i,r){const o=Lt(i,0),s=Math.min(Lt(r,n.length),n.length);let c,l,d,a=0;for(e=Math.ceil(e),r&&(c=r-i,e=c/Math.floor(c/e)),d=o;d<0;)a++,d=Math.round(o+a*e);for(l=Math.max(o,0);l<s;l++)l===d&&(t.push(n[l]),a++,d=Math.round(o+a*e))}const m7=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e,p7=(n,t)=>Math.min(t||n,n);function g7(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function JAe(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,s=n._endPixel,a=1e-6;let l,c=n.getPixelForTick(r);if(!(e&&(l=1===i?Math.max(c-o,s-c):0===t?(n.getPixelForTick(1)-c)/2:(c-n.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<o-a||c>s+a)))return c}function Lv(n){return n.drawTicks?n.tickLength:0}function _7(n,t){if(!n.display)return 0;const e=br(n.font,t),i=ao(n.padding);return(vi(n.text)?n.text.length:1)*e.lineHeight+i.height}function nke(n,t,e){let i=aN(n);return(e&&"right"!==t||!e&&"right"===t)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class lh extends Yc{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=hs(t,Number.POSITIVE_INFINITY),e=hs(e,Number.NEGATIVE_INFINITY),i=hs(i,Number.POSITIVE_INFINITY),r=hs(r,Number.NEGATIVE_INFINITY),{min:hs(t,i),max:hs(e,r),minDefined:ji(t),maxDefined:ji(e)}}getMinMax(t){let s,{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds();if(r&&o)return{min:e,max:i};const a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)s=a[c].controller.getMinMax(this,t),r||(e=Math.min(e,s.min)),o||(i=Math.max(i,s.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:hs(e,hs(i,e)),max:hs(i,hs(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){si(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function lCe(n,t,e){const{min:i,max:r}=n,o=t$(t,(r-i)/2),s=(a,c)=>e&&0===a?0:a+c;return{min:s(i,-Math.abs(o)),max:s(r,o)}}(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?g7(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=function qAe(n,t){const e=n.options.ticks,i=function GAe(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?function KAe(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}(t):[],s=o.length,a=o[0],c=o[s-1],l=[];if(s>r)return function QAe(n,t,e,i){let s,r=0,o=e[0];for(i=Math.ceil(i),s=0;s<n.length;s++)s===o&&(t.push(n[s]),r++,o=e[r*i])}(t,l,o,s/r),l;const d=function $Ae(n,t,e){const i=function YAe(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}(n),r=t.length/e;if(!i)return Math.max(r,1);const o=function NTe(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(0|e)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}(i);for(let s=0,a=o.length-1;s<a;s++){const c=o[s];if(c>r)return c}return Math.max(r,1)}(o,t,r);if(s>0){let u,p;const b=s>1?Math.round((c-a)/(s-1)):null;for(qI(t,l,d,_n(b)?0:a-b,a),u=0,p=s-1;u<p;u++)qI(t,l,d,o[u],o[u+1]);return qI(t,l,d,c,_n(b)?t.length:c+b),l}return qI(t,l,d),l}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,t=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){si(this.options.afterUpdate,[this])}beforeSetDimensions(){si(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){si(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),si(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){si(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=si(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){si(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){si(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=p7(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let a,c,l,s=r;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const d=this._getLabelSizes(),u=d.widest.width,p=d.highest.height,b=Mr(this.chart.width-u,0,this.maxWidth);a=t.offset?this.maxWidth/i:b/(i-1),u+6>a&&(a=b/(i-(t.offset?.5:1)),c=this.maxHeight-Lv(t.grid)-e.padding-_7(t.title,this.chart.options.font),l=Math.sqrt(u*u+p*p),s=rN(Math.min(Math.asin(Mr((d.highest.height+6)/a,-1,1)),Math.asin(Mr(c/l,-1,1))-Math.asin(Mr(p/l,-1,1)))),s=Math.max(r,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){si(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){si(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const c=_7(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=Lv(o)+c):(t.height=this.maxHeight,t.width=Lv(o)+c),i.display&&this.ticks.length){const{first:l,last:d,widest:u,highest:p}=this._getLabelSizes(),b=2*i.padding,v=la(this.labelRotation),w=Math.cos(v),x=Math.sin(v);a?t.height=Math.min(this.maxHeight,t.height+(i.mirror?0:x*u.width+w*p.height)+b):t.width=Math.min(this.maxWidth,t.width+(i.mirror?0:w*u.width+x*p.height)+b),this._calculatePadding(l,d,x,w)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:s},position:a}=this.options,c=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,b=0;c?l?(p=r*t.width,b=i*e.height):(p=i*t.height,b=r*e.width):"start"===o?b=e.width:"end"===o?p=t.width:"inner"!==o&&(p=t.width/2,b=e.width/2),this.paddingLeft=Math.max((p-d+s)*this.width/(this.width-d),0),this.paddingRight=Math.max((b-u+s)*this.width/(this.width-u),0)}else{let d=e.height/2,u=t.height/2;"start"===o?(d=0,u=t.height):"end"===o&&(d=e.height,u=0),this.paddingTop=d+s,this.paddingBottom=u+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){si(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)_n(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=g7(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,s=[],a=[],c=Math.floor(e/p7(e,i));let u,p,b,v,w,x,P,S,B,$,J,l=0,d=0;for(u=0;u<e;u+=c){if(v=t[u].label,w=this._resolveTickFontOptions(u),r.font=x=w.string,P=o[x]=o[x]||{data:{},gc:[]},S=w.lineHeight,B=$=0,_n(v)||vi(v)){if(vi(v))for(p=0,b=v.length;p<b;++p)J=v[p],!_n(J)&&!vi(J)&&(B=NI(r,P.data,P.gc,B,J),$+=S)}else B=NI(r,P.data,P.gc,B,v),$=S;s.push(B),a.push($),l=Math.max(B,l),d=Math.max($,d)}!function ZAe(n,t){Mn(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}(o,e);const te=s.indexOf(l),V=a.indexOf(d),R=L=>({width:s[L]||0,height:a[L]||0});return{first:R(0),last:R(e-1),widest:R(te),highest:R(V),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function VTe(n){return Mr(n,-32768,32767)}(this._alignToPixels?nh(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function tke(n,t,e){return fd(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=function eke(n,t){return fd(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=la(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),s=t.autoSkipPadding||0,a=o?o.widest.width+s:0,c=o?o.highest.height+s:0;return this.isHorizontal()?c*i>a*r?a/i:c/r:c*r<a*i?c/i:a/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:s,border:a}=r,c=o.offset,l=this.isHorizontal(),u=this.ticks.length+(c?1:0),p=Lv(o),b=[],v=a.setContext(this.getContext()),w=v.display?v.width:0,x=w/2,P=function(Pe){return nh(i,Pe,w)};let S,B,$,J,te,V,R,L,q,Q,Z,W;if("top"===s)S=P(this.bottom),V=this.bottom-p,L=S-x,Q=P(t.top)+x,W=t.bottom;else if("bottom"===s)S=P(this.top),Q=t.top,W=P(t.bottom)-x,V=S+x,L=this.top+p;else if("left"===s)S=P(this.right),te=this.right-p,R=S-x,q=P(t.left)+x,Z=t.right;else if("right"===s)S=P(this.left),q=t.left,Z=P(t.right)-x,te=S+x,R=this.left+p;else if("x"===e){if("center"===s)S=P((t.top+t.bottom)/2+.5);else if(ln(s)){const Pe=Object.keys(s)[0];S=P(this.chart.scales[Pe].getPixelForValue(s[Pe]))}Q=t.top,W=t.bottom,V=S+x,L=V+p}else if("y"===e){if("center"===s)S=P((t.left+t.right)/2);else if(ln(s)){const Pe=Object.keys(s)[0];S=P(this.chart.scales[Pe].getPixelForValue(s[Pe]))}te=S-x,R=te-p,q=t.left,Z=t.right}const ai=Lt(r.ticks.maxTicksLimit,u),en=Math.max(1,Math.ceil(u/ai));for(B=0;B<u;B+=en){const Pe=this.getContext(B),Ue=o.setContext(Pe),Qe=a.setContext(Pe),lt=Ue.lineWidth,Bn=Ue.color,zr=Qe.dash||[],Pn=Qe.dashOffset,Cn=Ue.tickWidth,bn=Ue.tickColor,Wo=Ue.tickBorderDash||[],ua=Ue.tickBorderDashOffset;$=JAe(this,B,c),void 0!==$&&(J=nh(i,$,lt),l?te=R=q=Z=J:V=L=Q=W=J,b.push({tx1:te,ty1:V,tx2:R,ty2:L,x1:q,y1:Q,x2:Z,y2:W,width:lt,color:Bn,borderDash:zr,borderDashOffset:Pn,tickWidth:Cn,tickColor:bn,tickBorderDash:Wo,tickBorderDashOffset:ua}))}return this._ticksLength=u,this._borderValue=S,b}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,s=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:d,mirror:u}=o,p=Lv(i.grid),b=p+d,v=u?-d:b,w=-la(this.labelRotation),x=[];let P,S,B,$,J,te,V,R,L,q,Q,Z,W="middle";if("top"===r)te=this.bottom-v,V=this._getXAxisLabelAlignment();else if("bottom"===r)te=this.top+v,V=this._getXAxisLabelAlignment();else if("left"===r){const en=this._getYAxisLabelAlignment(p);V=en.textAlign,J=en.x}else if("right"===r){const en=this._getYAxisLabelAlignment(p);V=en.textAlign,J=en.x}else if("x"===e){if("center"===r)te=(t.top+t.bottom)/2+b;else if(ln(r)){const en=Object.keys(r)[0];te=this.chart.scales[en].getPixelForValue(r[en])+b}V=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)J=(t.left+t.right)/2-b;else if(ln(r)){const en=Object.keys(r)[0];J=this.chart.scales[en].getPixelForValue(r[en])}V=this._getYAxisLabelAlignment(p).textAlign}"y"===e&&("start"===c?W="top":"end"===c&&(W="bottom"));const ai=this._getLabelSizes();for(P=0,S=a.length;P<S;++P){B=a[P],$=B.label;const en=o.setContext(this.getContext(P));R=this.getPixelForTick(P)+o.labelOffset,L=this._resolveTickFontOptions(P),q=L.lineHeight,Q=vi($)?$.length:1;const Pe=Q/2,Ue=en.color,Qe=en.textStrokeColor,lt=en.textStrokeWidth;let zr,Bn=V;if(s?(J=R,"inner"===V&&(Bn=P===S-1?this.options.reverse?"left":"right":0===P?this.options.reverse?"right":"left":"center"),Z="top"===r?"near"===l||0!==w?-Q*q+q/2:"center"===l?-ai.highest.height/2-Pe*q+q:q/2-ai.highest.height:"near"===l||0!==w?q/2:"center"===l?ai.highest.height/2-Pe*q:ai.highest.height-Q*q,u&&(Z*=-1),0!==w&&!en.showLabelBackdrop&&(J+=q/2*Math.sin(w))):(te=R,Z=(1-Q)*q/2),en.showLabelBackdrop){const Pn=ao(en.backdropPadding),Cn=ai.heights[P],bn=ai.widths[P];let Wo=Z-Pn.top,ua=0-Pn.left;switch(W){case"middle":Wo-=Cn/2;break;case"bottom":Wo-=Cn}switch(V){case"center":ua-=bn/2;break;case"right":ua-=bn;break;case"inner":P===S-1?ua-=bn:P>0&&(ua-=bn/2)}zr={left:ua,top:Wo,width:bn+Pn.width,height:Cn+Pn.height,color:en.backdropColor}}x.push({label:$,font:L,textOffset:Z,options:{rotation:w,color:Ue,strokeColor:Qe,strokeWidth:lt,textAlign:Bn,textBaseline:W,translation:[J,te],backdrop:zr}})}return x}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-la(this.labelRotation))return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,a=t+o,c=this._getLabelSizes().widest.width;let l,d;return"left"===e?r?(d=this.right+o,"near"===i?l="left":"center"===i?(l="center",d+=c/2):(l="right",d+=c)):(d=this.right-a,"near"===i?l="right":"center"===i?(l="center",d-=c/2):(l="left",d=this.left)):"right"===e?r?(d=this.left+o,"near"===i?l="right":"center"===i?(l="center",d-=c/2):(l="left",d-=c)):(d=this.left+a,"near"===i?l="left":"center"===i?(l="center",d+=c/2):(l="right",d=this.right)):l="right",{textAlign:l,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,s;const a=(c,l,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(l.x,l.y),i.stroke(),i.restore())};if(e.display)for(o=0,s=r.length;o<s;++o){const c=r[o];e.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),e.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),s=i.display?o.width:0;if(!s)return;const a=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let l,d,u,p;this.isHorizontal()?(l=nh(t,this.left,s)-s/2,d=nh(t,this.right,a)+a/2,u=p=c):(u=nh(t,this.top,s)-s/2,p=nh(t,this.bottom,a)+a/2,l=d=c),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(l,u),e.lineTo(d,p),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&FI(i,r);const o=this.getLabelItems(t);for(const s of o)ih(i,s.label,0,s.textOffset,s.font,s.options);r&&LI(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=br(i.font),s=ao(i.padding),a=i.align;let c=o.lineHeight/2;"bottom"===e||"center"===e||ln(e)?(c+=s.bottom,vi(i.text)&&(c+=o.lineHeight*(i.text.length-1))):c+=s.top;const{titleX:l,titleY:d,maxWidth:u,rotation:p}=function ike(n,t,e,i){const{top:r,left:o,bottom:s,right:a,chart:c}=n,{chartArea:l,scales:d}=c;let p,b,v,u=0;const w=s-r,x=a-o;if(n.isHorizontal()){if(b=so(i,o,a),ln(e)){const P=Object.keys(e)[0];v=d[P].getPixelForValue(e[P])+w-t}else v="center"===e?(l.bottom+l.top)/2+w-t:m7(n,e,t);p=a-o}else{if(ln(e)){const P=Object.keys(e)[0];b=d[P].getPixelForValue(e[P])-x+t}else b="center"===e?(l.left+l.right)/2-x+t:m7(n,e,t);v=so(i,s,r),u="left"===e?-Zi:Zi}return{titleX:b,titleY:v,maxWidth:p,rotation:u}}(this,c,e,a);ih(t,i.text,0,0,o,{color:i.color,maxWidth:u,rotation:p,textAlign:nke(a,e,r),textBaseline:"middle",translation:[l,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Lt(t.grid&&t.grid.z,-1),r=Lt(t.border&&t.border.z,0);return this._isVisible()&&this.draw===lh.prototype.draw?[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]:[{z:e,draw:o=>{this.draw(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,s;for(o=0,s=e.length;o<s;++o){const a=e[o];a[i]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){return br(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class GI{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function ske(n){return"id"in n&&"defaults"in n})(e)&&(i=this.register(e));const r=this.items,o=t.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,function rke(n,t,e){const i=wv(Object.create(null),[e?Si.get(e):{},Si.get(t),n.defaults]);Si.set(t,i),n.defaultRoutes&&function oke(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),s=t[e].split("."),a=s.pop(),c=s.join(".");Si.route(o,r,c,a)})}(t,n.defaultRoutes),n.descriptors&&Si.describe(t,n.descriptors)}(t,s,i),this.override&&Si.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Si[r]&&(delete Si[r][i],this.override&&delete th[i])}}class ake{constructor(){this.controllers=new GI(md,"datasets",!0),this.elements=new GI(Yc,"elements"),this.plugins=new GI(Object,"plugins"),this.scales=new GI(lh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Mn(r,s=>{const a=i||this._getRegistryForType(s);this._exec(t,a,s)})})}_exec(t,e,i){const r=iN(t);si(i["before"+r],[],i),e[t](i),si(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Ga=new ake;class cke{constructor(){this._init=[]}notify(t,e,i,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),s=this._notify(o,t,e,i);return"afterDestroy"===e&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,i,r){r=r||{};for(const o of t){const s=o.plugin;if(!1===si(s[i],[e,r,o.options],s)&&r.cancelable)return!1}return!0}invalidate(){_n(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Lt(i.options&&i.options.plugins,{}),o=function lke(n){const t={},e=[],i=Object.keys(Ga.plugins.items);for(let o=0;o<i.length;o++)e.push(Ga.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const s=r[o];-1===e.indexOf(s)&&(e.push(s),t[s.id]=!0)}return{plugins:e,localIds:t}}(i);return!1!==r||e?function uke(n,{plugins:t,localIds:e},i,r){const o=[],s=n.getContext();for(const a of t){const c=a.id,l=dke(i[c],r);null!==l&&o.push({plugin:a,options:hke(n.config,{plugin:a,local:e[c]},l,s)})}return o}(t,o,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,s)=>o.filter(a=>!s.some(c=>a.plugin.id===c.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function dke(n,t){return t||!1!==n?!0===n?{}:n:null}function hke(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),s=n.getOptionScopes(i,o);return e&&t.defaults&&s.push(t.defaults),n.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function kN(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(Si.datasets[n]||{}).indexAxis||"x"}function b7(n){if("x"===n||"y"===n||"r"===n)return n}function pke(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function SN(n,...t){if(b7(n))return n;for(const e of t){const i=e.axis||pke(e.position)||n.length>1&&b7(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function v7(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function y7(n){const t=n.options||(n.options={});t.plugins=Lt(t.plugins,{}),t.scales=function _ke(n,t){const e=th[n.type]||{scales:{}},i=t.scales||{},r=kN(n.type,t),o=Object.create(null);return Object.keys(i).forEach(s=>{const a=i[s];if(!ln(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const c=SN(s,a,function gke(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return v7(n,"x",e[0])||v7(n,"y",e[0])}return{}}(s,n),Si.scales[a.type]),l=function mke(n,t){return n===t?"_index_":"_value_"}(c,r),d=e.scales||{};o[s]=xv(Object.create(null),[{axis:c},a,d[c],d[l]])}),n.data.datasets.forEach(s=>{const a=s.type||n.type,c=s.indexAxis||kN(a,t),d=(th[a]||{}).scales||{};Object.keys(d).forEach(u=>{const p=function fke(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(u,c),b=s[p+"AxisID"]||p;o[b]=o[b]||Object.create(null),xv(o[b],[{axis:p},i[b],d[u]])})}),Object.keys(o).forEach(s=>{const a=o[s];xv(a,[Si.scales[a.type],Si.scale])}),o}(n,t)}function w7(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const x7=new Map,E7=new Set;function $I(n,t){let e=x7.get(n);return e||(e=t(),x7.set(n,e),E7.add(e)),e}const Vv=(n,t,e)=>{const i=dd(t,e);void 0!==i&&n.add(i)};class vke{constructor(t){this._config=function bke(n){return(n=n||{}).data=w7(n.data),y7(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=w7(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),y7(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return $I(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return $I(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return $I(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return $I(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,s=this._cachedScopes(t,i),a=s.get(e);if(a)return a;const c=new Set;e.forEach(d=>{t&&(c.add(t),d.forEach(u=>Vv(c,t,u))),d.forEach(u=>Vv(c,r,u)),d.forEach(u=>Vv(c,th[o]||{},u)),d.forEach(u=>Vv(c,Si,u)),d.forEach(u=>Vv(c,dN,u))});const l=Array.from(c);return 0===l.length&&l.push(Object.create(null)),E7.has(e)&&s.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,th[e]||{},Si.datasets[e]||{},{type:e},Si,dN]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:s,subPrefixes:a}=I7(this._resolverCache,t,r);let c=s;(function wke(n,t){const{isScriptable:e,isIndexable:i}=T$(n);for(const r of t){const o=e(r),s=i(r),a=(s||o)&&n[r];if(o&&(ud(a)||yke(a))||s&&vi(a))return!0}return!1})(s,e)&&(o.$shared=!1,c=sp(s,i=ud(i)?i():i,this.createResolver(t,i,a)));for(const l of e)o[l]=c[l];return o}createResolver(t,e,i=[""],r){const{resolver:o}=I7(this._resolverCache,t,i);return ln(e)?sp(o,e,void 0,r):o}}function I7(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:mN(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,o)),o}const yke=n=>ln(n)&&Object.getOwnPropertyNames(n).some(t=>ud(n[t])),Eke=["top","bottom","left","right","chartArea"];function T7(n,t){return"top"===n||"bottom"===n||-1===Eke.indexOf(n)&&"x"===t}function C7(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function A7(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),si(e&&e.onComplete,[n],t)}function Ike(n){const t=n.chart,e=t.options.animation;si(e&&e.onProgress,[n],t)}function k7(n){return _N()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const KI={},S7=n=>{const t=k7(n);return Object.values(KI).filter(e=>e.canvas===t).pop()};function Tke(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const s=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=s)}}}function QI(n,t,e){return n.options.clip?n[e]:t[e]}let Bv=(()=>class n{static defaults=Si;static instances=KI;static overrides=th;static registry=Ga;static version="4.4.7";static getChart=S7;static register(...e){Ga.add(...e),D7()}static unregister(...e){Ga.remove(...e),D7()}constructor(e,i){const r=this.config=new vke(i),o=k7(e),s=S7(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function WAe(n){return!_N()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?RAe:HAe}(o)),this.platform.updateConfig(r);const c=this.platform.acquireContext(o,a.aspectRatio),l=c&&c.canvas,d=l&&l.height,u=l&&l.width;this.id=CTe(),this.ctx=c,this.canvas=l,this.width=u,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new cke,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function zTe(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}(p=>this.update(p),a.resizeDelay||0),this._dataChanges=[],KI[this.id]=this,c&&l?(Qc.listen(this,"complete",A7),Qc.listen(this,"progress",Ike),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:i},width:r,height:o,_aspectRatio:s}=this;return _n(e)?i&&s?s:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ga}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():P$(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return x$(this.canvas,this.ctx),this}stop(){return Qc.stop(this),this}resize(e,i){Qc.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){const r=this.options,a=this.platform.getMaximumSize(this.canvas,e,i,r.maintainAspectRatio&&this.aspectRatio),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,P$(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),si(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){Mn(this.options.scales||{},(r,o)=>{r.id=o})}buildOrUpdateScales(){const e=this.options,i=e.scales,r=this.scales,o=Object.keys(r).reduce((a,c)=>(a[c]=!1,a),{});let s=[];i&&(s=s.concat(Object.keys(i).map(a=>{const c=i[a],l=SN(a,c),d="r"===l,u="x"===l;return{options:c,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),Mn(s,a=>{const c=a.options,l=c.id,d=SN(l,c),u=Lt(c.type,a.dtype);(void 0===c.position||T7(c.position,d)!==T7(a.dposition))&&(c.position=a.dposition),o[l]=!0;let p=null;l in r&&r[l].type===u?p=r[l]:(p=new(Ga.getScale(u))({id:l,type:u,ctx:this.ctx,chart:this}),r[p.id]=p),p.init(c,e)}),Mn(o,(a,c)=>{a||delete r[c]}),Mn(r,a=>{co.configure(this,a,a.options),co.addBox(this,a)})}_updateMetasets(){const e=this._metasets,i=this.data.datasets.length,r=e.length;if(e.sort((o,s)=>o.index-s.index),r>i){for(let o=i;o<r;++o)this._destroyDatasetMeta(o);e.splice(i,r-i)}this._sortedMetasets=e.slice(0).sort(C7("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((r,o)=>{0===i.filter(s=>s===r._dataset).length&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],i=this.data.datasets;let r,o;for(this._removeUnreferencedMetasets(),r=0,o=i.length;r<o;r++){const s=i[r];let a=this.getDatasetMeta(r);const c=s.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=c,a.indexAxis=s.indexAxis||kN(c,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=Ga.getController(c),{datasetElementType:d,dataElementType:u}=Si.datasets[c];Object.assign(l,{dataElementType:Ga.getElement(u),datasetElementType:d&&Ga.getElement(d)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Mn(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const i=this.config;i.update();const r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:p}=this.getDatasetMeta(d),b=!o&&-1===s.indexOf(p);p.buildOrUpdateElements(b),a=Math.max(+p.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),o||Mn(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(C7("z","_idx"));const{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Mn(this.scales,e=>{co.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!r$(i,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(const{method:r,start:o,count:s}of i)Tke(e,o,"_removeElements"===r?-s:s)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const i=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,c)=>c+","+a.splice(1).join(","))),o=r(0);for(let s=1;s<i;s++)if(!r$(o,r(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;co.update(this,this.width,this.height,e);const i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],Mn(this.boxes,o=>{r&&"chartArea"===o.position||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,ud(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){const r=this.getDatasetMeta(e),o={meta:r,index:e,mode:i,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",o)&&(r.controller._update(i),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Qc.has(this)?this.attached&&!Qc.running(this)&&Qc.start(this):(this.draw(),A7({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const i=this._sortedMetasets,r=[];let o,s;for(o=0,s=i.length;o<s;++o){const a=i[o];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const i=this.ctx,r=e._clip,o=!r.disabled,s=function Ake(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:QI(e,t,"left"),right:QI(e,t,"right"),top:QI(i,t,"top"),bottom:QI(i,t,"bottom")}:t}(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(o&&FI(i,{left:!1===r.left?0:s.left-r.left,right:!1===r.right?this.width:s.right+r.right,top:!1===r.top?0:s.top-r.top,bottom:!1===r.bottom?this.height:s.bottom+r.bottom}),e.controller.draw(),o&&LI(i),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return Kc(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,r,o){const s=EAe.modes[i];return"function"==typeof s?s(this,e,r,o):[]}getDatasetMeta(e){const i=this.data.datasets[e],r=this._metasets;let o=r.filter(s=>s&&s._dataset===i).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=fd(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const i=this.data.datasets[e];if(!i)return!1;const r=this.getDatasetMeta(e);return"boolean"==typeof r.hidden?!r.hidden:!i.hidden}setDatasetVisibility(e,i){this.getDatasetMeta(e).hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,r){const o=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,o);Ev(i)?(s.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(c=>c.datasetIndex===e?o:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){const i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),Qc.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),x$(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete KI[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,i=this.platform,r=(s,a)=>{i.addEventListener(this,s,a),e[s]=a},o=(s,a,c)=>{s.offsetX=a,s.offsetY=c,this._eventHandler(s)};Mn(this.options.events,s=>r(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,i=this.platform,r=(l,d)=>{i.addEventListener(this,l,d),e[l]=d},o=(l,d)=>{e[l]&&(i.removeEventListener(this,l,d),delete e[l])},s=(l,d)=>{this.canvas&&this.resize(l,d)};let a;const c=()=>{o("attach",c),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),r("attach",c)},i.isAttached(this.canvas)?c():a()}unbindEvents(){Mn(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},Mn(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,r){const o=r?"set":"remove";let s,a,c,l;for("dataset"===i&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),c=0,l=e.length;c<l;++c){a=e[c];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const i=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[a],index:a}});!DI(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(e,i,r){return this._plugins.notify(this,e,i,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter(i=>i.plugin.id===e).length}_updateHoverStyles(e,i,r){const o=this.options.hover,s=(l,d)=>l.filter(u=>!d.some(p=>u.datasetIndex===p.datasetIndex&&u.index===p.index)),a=s(i,e),c=r?e:s(e,i);a.length&&this.updateHoverStyle(a,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(e,i){const r={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},o=a=>(a.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,o))return;const s=this._handleEvent(e,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(s||r.changed)&&this.render(),this}_handleEvent(e,i,r){const{_active:o=[],options:s}=this,c=this._getActiveElements(e,o,r,i),l=function MTe(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(e),d=function Cke(n,t,e,i){return e&&"mouseout"!==n.type?i?t:n:null}(e,this._lastEvent,r,l);r&&(this._lastEvent=null,si(s.onHover,[e,c,this],this),l&&si(s.onClick,[e,c,this],this));const u=!DI(c,o);return(u||i)&&(this._active=c,this._updateHoverStyles(c,o,i)),this._lastEvent=d,u}_getActiveElements(e,i,r,o){if("mouseout"===e.type)return[];if(!r)return i;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,o)}})();function D7(){return Mn(Bv.instances,n=>n._plugins.invalidate())}function lp(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function YI(n,t,e,i,r,o){const{x:s,y:a,startAngle:c,pixelMargin:l,innerRadius:d}=t,u=Math.max(t.outerRadius+i+e-l,0),p=d>0?d+i+e+l:0;let b=0;const v=r-c;if(i){const Ue=((d>0?d-i:0)+(u>0?u-i:0))/2;b=(v-(0!==Ue?v*Ue/(Ue+i):v))/2}const x=(v-Math.max(.001,v*u-e/yi)/u)/2,P=c+x+b,S=r-x-b,{outerStart:B,outerEnd:$,innerStart:J,innerEnd:te}=function Dke(n,t,e,i){const r=function Ske(n){return fN(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),o=(e-t)/2,s=Math.min(o,i*t/2),a=c=>{const l=(e-Math.min(o,c))*i/2;return Mr(c,0,Math.min(o,l))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Mr(r.innerStart,0,s),innerEnd:Mr(r.innerEnd,0,s)}}(t,p,u,S-P),V=u-B,R=u-$,L=P+B/V,q=S-$/R,Q=p+J,Z=p+te,W=P+J/Q,ai=S-te/Z;if(n.beginPath(),o){const en=(L+q)/2;if(n.arc(s,a,u,L,en),n.arc(s,a,u,en,q),$>0){const lt=lp(R,q,s,a);n.arc(lt.x,lt.y,$,q,S+Zi)}const Pe=lp(Z,S,s,a);if(n.lineTo(Pe.x,Pe.y),te>0){const lt=lp(Z,ai,s,a);n.arc(lt.x,lt.y,te,S+Zi,ai+Math.PI)}const Ue=(S-te/p+(P+J/p))/2;if(n.arc(s,a,p,S-te/p,Ue,!0),n.arc(s,a,p,Ue,P+J/p,!0),J>0){const lt=lp(Q,W,s,a);n.arc(lt.x,lt.y,J,W+Math.PI,P-Zi)}const Qe=lp(V,P,s,a);if(n.lineTo(Qe.x,Qe.y),B>0){const lt=lp(V,L,s,a);n.arc(lt.x,lt.y,B,P-Zi,L)}}else{n.moveTo(s,a);const en=Math.cos(L)*u+s,Pe=Math.sin(L)*u+a;n.lineTo(en,Pe);const Ue=Math.cos(q)*u+s,Qe=Math.sin(q)*u+a;n.lineTo(Ue,Qe)}n.closePath()}function R7(n,t,e=t){n.lineCap=Lt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Lt(e.borderDash,t.borderDash)),n.lineDashOffset=Lt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Lt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Lt(e.borderWidth,t.borderWidth),n.strokeStyle=Lt(e.borderColor,t.borderColor)}function Oke(n,t,e){n.lineTo(e.x,e.y)}function M7(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:s,end:a}=t,c=Math.max(r,s),l=Math.min(o,a);return{count:i,start:c,loop:t.loop,ilen:l<c&&!(r<s&&o<s||r>a&&o>a)?i+l-c:l-c}}function Fke(n,t,e,i){const{points:r,options:o}=t,{count:s,start:a,loop:c,ilen:l}=M7(r,e,i),d=function Nke(n){return n.stepped?eCe:n.tension||"monotone"===n.cubicInterpolationMode?tCe:Oke}(o);let b,v,w,{move:u=!0,reverse:p}=i||{};for(b=0;b<=l;++b)v=r[(a+(p?l-b:b))%s],!v.skip&&(u?(n.moveTo(v.x,v.y),u=!1):d(n,w,v,p,o.stepped),w=v);return c&&(v=r[(a+(p?l:0))%s],d(n,w,v,p,o.stepped)),!!c}function Lke(n,t,e,i){const r=t.points,{count:o,start:s,ilen:a}=M7(r,e,i),{move:c=!0,reverse:l}=i||{};let p,b,v,w,x,P,d=0,u=0;const S=$=>(s+(l?a-$:$))%o,B=()=>{w!==x&&(n.lineTo(d,x),n.lineTo(d,w),n.lineTo(d,P))};for(c&&(b=r[S(0)],n.moveTo(b.x,b.y)),p=0;p<=a;++p){if(b=r[S(p)],b.skip)continue;const $=b.x,J=b.y,te=0|$;te===v?(J<w?w=J:J>x&&(x=J),d=(u*d+$)/++u):(B(),n.lineTo($,J),v=te,u=0,w=x=J),P=J}B()}function DN(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?Fke:Lke}const jke="function"==typeof Path2D;let XI=(()=>class n extends Yc{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(TCe(this._points,r,e,r.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function UCe(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:s,end:a}=function VCe(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}(e,r,o,i);return function j$(n,t,e,i){return i&&i.setContext&&e?function jCe(n,t,e,i){const r=n._chart.getContext(),o=z$(n.options),{_datasetIndex:s,options:{spanGaps:a}}=n,c=e.length,l=[];let d=o,u=t[0].start,p=u;function b(v,w,x,P){const S=a?-1:1;if(v!==w){for(v+=c;e[v%c].skip;)v-=S;for(;e[w%c].skip;)w+=S;v%c!=w%c&&(l.push({start:v%c,end:w%c,loop:x,style:P}),d=P,u=w%c)}}for(const v of t){u=a?u:v.start;let x,w=e[u%c];for(p=u+1;p<=v.end;p++){const P=e[p%c];x=z$(i.setContext(fd(r,{type:"segment",p0:w,p1:P,p0DataIndex:(p-1)%c,p1DataIndex:p%c,datasetIndex:s}))),zCe(x,d)&&b(u,p-1,v.loop,d),w=P,d=x}u<p-1&&b(u,p-1,v.loop,d)}return l}(n,t,e,i):t}(n,!0===i?[{start:s,end:a,loop:o}]:function BCe(n,t,e,i){const r=n.length,o=[];let c,s=t,a=n[t];for(c=t+1;c<=e;++c){const l=n[c%r];l.skip||l.stop?a.skip||(o.push({start:t%r,end:(c-1)%r,loop:i=!1}),t=s=l.stop?c:null):(s=c,a.skip&&(t=c)),a=l}return null!==s&&o.push({start:t%r,end:s%r,loop:i}),o}(e,s,a<s?a+r:a,!!n._fullLoop&&0===s&&a===r-1),e,t)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,i){const r=this.options,o=e[i],s=this.points,a=U$(this,{property:i,start:o,end:o});if(!a.length)return;const c=[],l=function Vke(n){return n.stepped?PCe:n.tension||"monotone"===n.cubicInterpolationMode?OCe:ah}(r);let d,u;for(d=0,u=a.length;d<u;++d){const{start:p,end:b}=a[d],v=s[p],w=s[b];if(v===w){c.push(v);continue}const P=l(v,w,Math.abs((o-v[i])/(w[i]-v[i])),r.stepped);P[i]=e[i],c.push(P)}return 1===c.length?c[0]:c}pathSegment(e,i,r){return DN(this)(e,this,i,r)}path(e,i,r){const o=this.segments,s=DN(this);let a=this._loop;i=i||0,r=r||this.points.length-i;for(const c of o)a&=s(e,this,c,{start:i,end:i+r-1});return!!a}draw(e,i,r,o){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function zke(n,t,e,i){jke&&!t.options.segment?function Bke(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),R7(n,t.options),n.stroke(r)}(n,t,e,i):function Uke(n,t,e,i){const{segments:r,options:o}=t,s=DN(t);for(const a of r)R7(n,o,a.style),n.beginPath(),s(n,t,a,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}(n,t,e,i)}(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function P7(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}let Hke=(()=>class n extends Yc{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const o=this.options,{x:s,y:a}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(i-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,i){return P7(this,e,"x",i)}inYRange(e,i){return P7(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){let i=(e=e||this.options||{}).radius||0;return i=Math.max(i,i&&e.hoverRadius||0),2*(i+(i&&e.borderWidth||0))}draw(e,i){const r=this.options;this.skip||r.radius<.1||!Kc(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,hN(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}})();function O7(n,t){const{x:e,y:i,base:r,width:o,height:s}=n.getProps(["x","y","base","width","height"],t);let a,c,l,d,u;return n.horizontal?(u=s/2,a=Math.min(e,r),c=Math.max(e,r),l=i-u,d=i+u):(u=o/2,a=e-u,c=e+u,l=Math.min(i,r),d=Math.max(i,r)),{left:a,top:l,right:c,bottom:d}}function pd(n,t,e,i){return n?0:Mr(t,e,i)}function RN(n,t,e,i){const r=null===t,o=null===e,a=n&&!(r&&o)&&O7(n,i);return a&&(r||Gc(t,a.left,a.right))&&(o||Gc(e,a.top,a.bottom))}function Kke(n,t){n.rect(t.x,t.y,t.w,t.h)}function MN(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-i),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-r),radius:n.radius}}var Yke=Object.freeze({__proto__:null,ArcElement:class Pke extends Yc{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:s}=l$(r,{x:t,y:e}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:d,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,b=Lt(u,c-a),v=Tv(o,a,c)&&a!==c,w=b>=wi||v,x=Gc(s,l+p,d+p);return w&&x}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:l}=this.options,d=(r+o)/2,u=(s+a+l+c)/2;return{x:e+Math.cos(d)*u,y:i+Math.sin(d)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>wi?Math.floor(i/wi):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*r,Math.sin(a)*r);const l=r*(1-Math.sin(Math.min(yi,i||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function Rke(n,t,e,i,r){const{fullCircles:o,startAngle:s,circumference:a}=t;let c=t.endAngle;if(o){YI(n,t,e,i,c,r);for(let l=0;l<o;++l)n.fill();isNaN(a)||(c=s+(a%wi||wi))}YI(n,t,e,i,c,r),n.fill()}(t,this,l,o,s),function Mke(n,t,e,i,r){const{fullCircles:o,startAngle:s,circumference:a,options:c}=t,{borderWidth:l,borderJoinStyle:d,borderDash:u,borderDashOffset:p}=c,b="inner"===c.borderAlign;if(!l)return;n.setLineDash(u||[]),n.lineDashOffset=p,b?(n.lineWidth=2*l,n.lineJoin=d||"round"):(n.lineWidth=l,n.lineJoin=d||"bevel");let v=t.endAngle;if(o){YI(n,t,e,i,v,r);for(let w=0;w<o;++w)n.stroke();isNaN(a)||(v=s+(a%wi||wi))}b&&function kke(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:c}=t;let l=r/a;n.beginPath(),n.arc(o,s,a,i-l,e+l),c>r?(l=r/c,n.arc(o,s,c,e+l,i-l,!0)):n.arc(o,s,r,e+Zi,i-Zi),n.closePath(),n.clip()}(n,t,v),o||(YI(n,t,e,i,v,r),n.stroke())}(t,this,l,o,s),t.restore()}},BarElement:class Qke extends Yc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:s}=function Gke(n){const t=O7(n),e=t.right-t.left,i=t.bottom-t.top,r=function Wke(n,t,e){const r=n.borderSkipped,o=I$(n.options.borderWidth);return{t:pd(r.top,o.top,0,e),r:pd(r.right,o.right,0,t),b:pd(r.bottom,o.bottom,0,e),l:pd(r.left,o.left,0,t)}}(n,e/2,i/2),o=function qke(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=rh(r),s=Math.min(t,e),a=n.borderSkipped,c=i||ln(r);return{topLeft:pd(!c||a.top||a.left,o.topLeft,0,s),topRight:pd(!c||a.top||a.right,o.topRight,0,s),bottomLeft:pd(!c||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:pd(!c||a.bottom||a.right,o.bottomRight,0,s)}}(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}(this),a=function $ke(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(s.radius)?Sv:Kke;t.save(),(s.w!==o.w||s.h!==o.h)&&(t.beginPath(),a(t,MN(s,e,o)),t.clip(),a(t,MN(o,-e,s)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,MN(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return RN(this,t,e,i)}inXRange(t,e){return RN(this,t,null,e)}inYRange(t,e){return RN(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}},LineElement:XI,PointElement:Hke});const PN=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],N7=PN.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function F7(n){return PN[n%PN.length]}function L7(n){return N7[n%N7.length]}function V7(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}var iSe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:o}=r,s=V7(i)||function tSe(n){return n&&(n.borderColor||n.backgroundColor)}(r)||o&&V7(o)||function nSe(){return"rgba(0,0,0,0.1)"!==Si.borderColor||"rgba(0,0,0,0.1)"!==Si.backgroundColor}();if(!e.forceOverride&&s)return;const a=function eSe(n){let t=0;return(e,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof EN?t=function Jke(n,t){return n.backgroundColor=n.data.map(()=>F7(t++)),t}(e,t):r instanceof t7?t=function Zke(n,t){return n.backgroundColor=n.data.map(()=>L7(t++)),t}(e,t):r&&(t=function Xke(n,t){return n.borderColor=F7(t),n.backgroundColor=L7(t),++t}(e,t))}}(n);i.forEach(a)}};function B7(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function U7(n){n.data.datasets.forEach(t=>{B7(t)})}var aSe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void U7(n);const i=n.width;n.data.datasets.forEach((r,o)=>{const{_data:s,indexAxis:a}=r,c=n.getDatasetMeta(o),l=s||r.data;if("y"===Dv([a,n.options.indexAxis])||!c.controller.supportsDecimation)return;const d=n.scales[c.xAxisID];if("linear"!==d.type&&"time"!==d.type||n.options.parsing)return;let v,{start:u,count:p}=function sSe(n,t){const e=t.length;let r,i=0;const{iScale:o}=n,{min:s,max:a,minDefined:c,maxDefined:l}=o.getUserBounds();return c&&(i=Mr($c(t,o.axis,s).lo,0,e-1)),r=l?Mr($c(t,o.axis,a).hi+1,i,e)-i:e-i,{start:i,count:r}}(c,l);if(p<=(e.threshold||4*i))B7(r);else{switch(_n(s)&&(r._data=l,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}})),e.algorithm){case"lttb":v=function rSe(n,t,e,i,r){const o=r.samples||i;if(o>=e)return n.slice(t,t+e);const s=[],a=(e-2)/(o-2);let c=0;const l=t+e-1;let u,p,b,v,w,d=t;for(s[c++]=n[d],u=0;u<o-2;u++){let S,x=0,P=0;const B=Math.floor((u+1)*a)+1+t,$=Math.min(Math.floor((u+2)*a)+1,e)+t,J=$-B;for(S=B;S<$;S++)x+=n[S].x,P+=n[S].y;x/=J,P/=J;const te=Math.floor(u*a)+1+t,V=Math.min(Math.floor((u+1)*a)+1,e)+t,{x:R,y:L}=n[d];for(b=v=-1,S=te;S<V;S++)v=.5*Math.abs((R-x)*(n[S].y-L)-(R-n[S].x)*(P-L)),v>b&&(b=v,p=n[S],w=S);s[c++]=p,d=w}return s[c++]=n[l],s}(l,u,p,i,e);break;case"min-max":v=function oSe(n,t,e,i){let s,a,c,l,d,u,p,b,v,w,r=0,o=0;const x=[],S=n[t].x,$=n[t+e-1].x-S;for(s=t;s<t+e;++s){a=n[s],c=(a.x-S)/$*i,l=a.y;const J=0|c;if(J===d)l<v?(v=l,u=s):l>w&&(w=l,p=s),r=(o*r+a.x)/++o;else{const te=s-1;if(!_n(u)&&!_n(p)){const V=Math.min(u,p),R=Math.max(u,p);V!==b&&V!==te&&x.push({...n[V],x:r}),R!==b&&R!==te&&x.push({...n[R],x:r})}s>0&&te!==b&&x.push(n[te]),x.push(a),d=J,o=0,v=w=l,u=p=b=s}}return x}(l,u,p,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=v}})},destroy(n){U7(n)}};function ON(n,t,e,i){if(i)return;let r=t[n],o=e[n];return"angle"===n&&(r=fs(r),o=fs(o)),{property:n,start:r,end:o}}function NN(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function j7(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function z7(n,t){let e=[],i=!1;return vi(n)?(i=!0,e=n):e=function lSe(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,o=[];return t.segments.forEach(({start:s,end:a})=>{a=NN(s,a,r);const c=r[s],l=r[a];null!==i?(o.push({x:c.x,y:i}),o.push({x:l.x,y:i})):null!==e&&(o.push({x:e,y:c.y}),o.push({x:e,y:l.y}))}),o}(n,t),e.length?new XI({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function H7(n){return n&&!1!==n.fill}function dSe(n,t,e){let r=n[t].fill;const o=[t];let s;if(!e)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!ji(r))return r;if(s=n[r],!s)return!1;if(s.visible)return r;o.push(r),r=s.fill}return!1}function uSe(n,t,e){const i=function pSe(n){const t=n.options,e=t.fill;let i=Lt(e&&e.target,e);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(ln(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return ji(r)&&Math.floor(r)===r?function hSe(n,t,e,i){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=i)&&e}(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function bSe(n,t,e){const i=[];for(let r=0;r<e.length;r++){const o=e[r],{first:s,last:a,point:c}=vSe(o,t,"x");if(!(!c||s&&a))if(s)i.unshift(c);else if(n.push(c),!a)break}n.push(...i)}function vSe(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],o=n.segments,s=n.points;let a=!1,c=!1;for(let l=0;l<o.length;l++){const d=o[l],u=s[d.start][e],p=s[d.end][e];if(Gc(r,u,p)){a=r===u,c=r===p;break}}return{first:a,last:c,point:i}}class W7{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:o,radius:s}=this;return t.arc(r,o,s,(e=e||{start:0,end:wi}).end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function FN(n,t,e){const i=function ySe(n){const{chart:t,fill:e,line:i}=n;if(ji(e))return function wSe(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function gSe(n){const{scale:t,index:e,line:i}=n,r=[],o=i.segments,s=i.points,a=function _Se(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}(t,e);a.push(z7({x:null,y:t.bottom},i));for(let c=0;c<o.length;c++){const l=o[c];for(let d=l.start;d<=l.end;d++)bSe(r,s[d],a)}return new XI({points:r,options:{}})}(n);if("shape"===e)return!0;const r=function xSe(n){return(n.scale||{}).getPointPositionForValue?function ISe(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,s=function mSe(n,t,e){let i;return i="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:ln(n)?n.value:t.getBaseValue(),i}(e,t,o),a=[];if(i.grid.circular){const c=t.getPointPositionForValue(0,o);return new W7({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(s)})}for(let c=0;c<r;++c)a.push(t.getPointPositionForValue(c,s));return a}(n):function ESe(n){const{scale:t={},fill:e}=n,i=function fSe(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:ln(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(ji(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof W7?r:z7(r,i)}(t),{line:r,scale:o,axis:s}=t,a=r.options,c=a.fill,l=a.backgroundColor,{above:d=l,below:u=l}=c||{};i&&r.points.length&&(FI(n,e),function TSe(n,t){const{line:e,target:i,above:r,below:o,area:s,scale:a}=t,c=e._loop?"angle":t.axis;n.save(),"x"===c&&o!==r&&(q7(n,i,s.top),G7(n,{line:e,target:i,color:r,scale:a,property:c}),n.restore(),n.save(),q7(n,i,s.bottom)),G7(n,{line:e,target:i,color:o,scale:a,property:c}),n.restore()}(n,{line:r,target:i,above:d,below:u,area:e,scale:o,axis:s}),LI(n))}function q7(n,t,e){const{segments:i,points:r}=t;let o=!0,s=!1;n.beginPath();for(const a of i){const{start:c,end:l}=a,d=r[c],u=r[NN(c,l,r)];o?(n.moveTo(d.x,d.y),o=!1):(n.lineTo(d.x,e),n.lineTo(d.x,d.y)),s=!!t.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(u.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function G7(n,t){const{line:e,target:i,property:r,color:o,scale:s}=t,a=function cSe(n,t,e){const i=n.segments,r=n.points,o=t.points,s=[];for(const a of i){let{start:c,end:l}=a;l=NN(c,l,r);const d=ON(e,r[c],r[l],a.loop);if(!t.segments){s.push({source:a,target:d,start:r[c],end:r[l]});continue}const u=U$(t,d);for(const p of u){const b=ON(e,o[p.start],o[p.end],p.loop),v=B$(a,r,b);for(const w of v)s.push({source:w,target:p,start:{[e]:j7(d,b,"start",Math.max)},end:{[e]:j7(d,b,"end",Math.min)}})}}return s}(e,i,r);for(const{source:c,target:l,start:d,end:u}of a){const{style:{backgroundColor:p=o}={}}=c,b=!0!==i;n.save(),n.fillStyle=p,CSe(n,s,b&&ON(r,d,u)),n.beginPath();const v=!!e.pathSegment(n,c);let w;if(b){v?n.closePath():$7(n,i,u,r);const x=!!i.pathSegment(n,l,{move:v,reverse:!0});w=v&&x,w||$7(n,i,d,r)}n.closePath(),n.fill(w?"evenodd":"nonzero"),n.restore()}}function CSe(n,t,e){const{top:i,bottom:r}=t.chart.chartArea,{property:o,start:s,end:a}=e||{};"x"===o&&(n.beginPath(),n.rect(s,i,a-s,r-i),n.clip())}function $7(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var ASe={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let o,s,a,c;for(s=0;s<i;++s)o=n.getDatasetMeta(s),a=o.dataset,c=null,a&&a.options&&a instanceof XI&&(c={visible:n.isDatasetVisible(s),index:s,fill:uSe(a,s,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=c,r.push(c);for(s=0;s<i;++s)c=r[s],c&&!1!==c.fill&&(c.fill=dSe(r,s,e.propagate))},beforeDraw(n,t,e){const i="beforeDraw"===e.drawTime,r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let s=r.length-1;s>=0;--s){const a=r[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),i&&a.fill&&FN(n.ctx,a,o))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;H7(o)&&FN(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!H7(i)||"beforeDatasetDraw"!==e.drawTime||FN(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const K7=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}};class Q7 extends Yc{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=si(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,r=br(i.font),o=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=K7(i,o);let l,d;e.font=r.string,this.isHorizontal()?(l=this.maxWidth,d=this._fitRows(s,o,a,c)+10):(d=this.maxHeight,l=this._fitCols(s,r,a,c)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],d=r+a;let u=t;o.textAlign="left",o.textBaseline="middle";let p=-1,b=-d;return this.legendItems.forEach((v,w)=>{const x=i+e/2+o.measureText(v.text).width;(0===w||l[l.length-1]+x+2*a>s)&&(u+=d,l[l.length-(w>0?0:1)]=0,b+=d,p++),c[w]={left:0,top:b,row:p,width:x,height:r},l[l.length-1]+=x+a}),u}_fitCols(t,e,i,r){const{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],d=s-t;let u=a,p=0,b=0,v=0,w=0;return this.legendItems.forEach((x,P)=>{const{itemWidth:S,itemHeight:B}=function SSe(n,t,e,i,r){const o=function DSe(n,t,e,i){let r=n.text;return r&&"string"!=typeof r&&(r=r.reduce((o,s)=>o.length>s.length?o:s)),t+e.size/2+i.measureText(r).width}(i,n,t,e),s=function RSe(n,t,e){let i=n;return"string"!=typeof t.text&&(i=Y7(t,e)),i}(r,i,t.lineHeight);return{itemWidth:o,itemHeight:s}}(i,e,o,x,r);P>0&&b+B+2*a>d&&(u+=p+a,l.push({width:p,height:b}),v+=p+a,w++,p=b=0),c[P]={left:v,top:b,col:w,width:S,height:B},p=Math.max(p,S),b+=B+a}),u+=p,l.push({width:p,height:b}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,s=cp(o,this.left,this.width);if(this.isHorizontal()){let a=0,c=so(i,this.left+r,this.right-this.lineWidths[a]);for(const l of e)a!==l.row&&(a=l.row,c=so(i,this.left+r,this.right-this.lineWidths[a])),l.top+=this.top+t+r,l.left=s.leftForLtr(s.x(c),l.width),c+=l.width+r}else{let a=0,c=so(i,this.top+t+r,this.bottom-this.columnSizes[a].height);for(const l of e)l.col!==a&&(a=l.col,c=so(i,this.top+t+r,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+r,l.left=s.leftForLtr(s.x(l.left),l.width),c+=l.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;FI(t,this),this._draw(),LI(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:s}=t,a=Si.color,c=cp(t.rtl,this.left,this.width),l=br(s.font),{padding:d}=s,u=l.size,p=u/2;let b;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:v,boxHeight:w,itemHeight:x}=K7(s,u),B=this.isHorizontal(),$=this._computeTitleHeight();b=B?{x:so(o,this.left+d,this.right-i[0]),y:this.top+d+$,line:0}:{x:this.left+d,y:so(o,this.top+$+d,this.bottom-e[0].height),line:0},N$(this.ctx,t.textDirection);const J=x+d;this.legendItems.forEach((te,V)=>{r.strokeStyle=te.fontColor,r.fillStyle=te.fontColor;const R=r.measureText(te.text).width,L=c.textAlign(te.textAlign||(te.textAlign=s.textAlign)),q=v+p+R;let Q=b.x,Z=b.y;c.setWidth(this.width),B?V>0&&Q+q+d>this.right&&(Z=b.y+=J,b.line++,Q=b.x=so(o,this.left+d,this.right-i[b.line])):V>0&&Z+J>this.bottom&&(Q=b.x=Q+e[b.line].width+d,b.line++,Z=b.y=so(o,this.top+$+d,this.bottom-e[b.line].height)),function(te,V,R){if(isNaN(v)||v<=0||isNaN(w)||w<0)return;r.save();const L=Lt(R.lineWidth,1);if(r.fillStyle=Lt(R.fillStyle,a),r.lineCap=Lt(R.lineCap,"butt"),r.lineDashOffset=Lt(R.lineDashOffset,0),r.lineJoin=Lt(R.lineJoin,"miter"),r.lineWidth=L,r.strokeStyle=Lt(R.strokeStyle,a),r.setLineDash(Lt(R.lineDash,[])),s.usePointStyle){const q={radius:w*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:L},Q=c.xPlus(te,v/2);E$(r,q,Q,V+p,s.pointStyleWidth&&v)}else{const q=V+Math.max((u-w)/2,0),Q=c.leftForLtr(te,v),Z=rh(R.borderRadius);r.beginPath(),Object.values(Z).some(W=>0!==W)?Sv(r,{x:Q,y:q,w:v,h:w,radius:Z}):r.rect(Q,q,v,w),r.fill(),0!==L&&r.stroke()}r.restore()}(c.x(Q),Z,te),Q=((n,t,e,i)=>n===(i?"left":"right")?e:"center"===n?(t+e)/2:t)(L,Q+v+p,B?Q+q:this.right,t.rtl),function(te,V,R){ih(r,R.text,te,V+x/2,l,{strikethrough:R.hidden,textAlign:c.textAlign(R.textAlign)})}(c.x(Q),Z,te),B?b.x+=q+d:b.y+="string"!=typeof te.text?Y7(te,l.lineHeight)+d:J}),F$(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=br(e.font),r=ao(e.padding);if(!e.display)return;const o=cp(t.rtl,this.left,this.width),s=this.ctx,a=e.position,l=r.top+i.size/2;let d,u=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),d=this.top+l,u=so(t.align,u,this.right-p);else{const v=this.columnSizes.reduce((w,x)=>Math.max(w,x.height),0);d=l+so(t.align,this.top,this.bottom-v-t.labels.padding-this._computeTitleHeight())}const b=so(a,u,u+p);s.textAlign=o.textAlign(aN(a)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=i.string,ih(s,e.text,b,d,i)}_computeTitleHeight(){const t=this.options.title,e=br(t.font),i=ao(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Gc(t,this.left,this.right)&&Gc(e,this.top,this.bottom))for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Gc(t,r.left,r.left+r.width)&&Gc(e,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function MSe(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,o=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(r,i);r&&!o&&si(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&si(e.onHover,[t,i,this],this)}else i&&si(e.onClick,[t,i,this],this)}}function Y7(n,t){return t*(n.text?n.text.length:0)}var PSe={id:"legend",_element:Q7,start(n,t,e){const i=n.legend=new Q7({ctx:n.ctx,options:e,chart:n});co.configure(n,i,e),co.addBox(n,i)},stop(n){co.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;co.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:s,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const l=c.controller.getStyle(e?0:void 0),d=ao(l.borderWidth);return{text:t[c.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:s&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class LN extends Yc{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=vi(i.text)?i.text.length:1;this._padding=ao(i.padding);const o=r*br(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:s}=this,a=s.align;let l,d,u,c=0;return this.isHorizontal()?(d=so(a,i,o),u=e+t,l=o-i):("left"===s.position?(d=i+t,u=so(a,r,e),c=-.5*yi):(d=o-t,u=so(a,e,r),c=.5*yi),l=r-e),{titleX:d,titleY:u,maxWidth:l,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=br(e.font),o=i.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(o);ih(t,e.text,0,0,i,{color:e.color,maxWidth:c,rotation:l,textAlign:aN(e.align),textBaseline:"middle",translation:[s,a]})}}var NSe={id:"title",_element:LN,start(n,t,e){!function OSe(n,t){const e=new LN({ctx:n.ctx,options:t,chart:n});co.configure(n,e,t),co.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){co.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;co.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const JI=new WeakMap;var FSe={id:"subtitle",start(n,t,e){const i=new LN({ctx:n.ctx,options:e,chart:n});co.configure(n,i,e),co.addBox(n,i),JI.set(n,i)},stop(n){co.removeBox(n,JI.get(n)),JI.delete(n)},beforeUpdate(n,t,e){const i=JI.get(n);co.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Uv={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const a=n[t].element;if(a&&a.hasValue()){const c=a.tooltipPosition();i.add(c.x),r+=c.y,++o}}return 0!==o&&0!==i.size&&{x:[...i].reduce((a,c)=>a+c)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let o,s,a,e=t.x,i=t.y,r=Number.POSITIVE_INFINITY;for(o=0,s=n.length;o<s;++o){const c=n[o].element;if(c&&c.hasValue()){const d=oN(t,c.getCenterPoint());d<r&&(r=d,a=c)}}if(a){const c=a.tooltipPosition();e=c.x,i=c.y}return{x:e,y:i}}};function $a(n,t){return t&&(vi(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Xc(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function LSe(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:n,label:s,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function X7(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:s,boxHeight:a}=t,c=br(t.bodyFont),l=br(t.titleFont),d=br(t.footerFont),u=o.length,p=r.length,b=i.length,v=ao(t.padding);let w=v.height,x=0,P=i.reduce(($,J)=>$+J.before.length+J.lines.length+J.after.length,0);P+=n.beforeBody.length+n.afterBody.length,u&&(w+=u*l.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),P&&(w+=b*(t.displayColors?Math.max(a,c.lineHeight):c.lineHeight)+(P-b)*c.lineHeight+(P-1)*t.bodySpacing),p&&(w+=t.footerMarginTop+p*d.lineHeight+(p-1)*t.footerSpacing);let S=0;const B=function($){x=Math.max(x,e.measureText($).width+S)};return e.save(),e.font=l.string,Mn(n.title,B),e.font=c.string,Mn(n.beforeBody.concat(n.afterBody),B),S=t.displayColors?s+2+t.boxPadding:0,Mn(i,$=>{Mn($.before,B),Mn($.lines,B),Mn($.after,B)}),S=0,e.font=d.string,Mn(n.footer,B),e.restore(),x+=v.width,{width:x,height:w}}function USe(n,t,e,i){const{x:r,width:o}=e,{width:s,chartArea:{left:a,right:c}}=n;let l="center";return"center"===i?l=r<=(a+c)/2?"left":"right":r<=o/2?l="left":r>=s-o/2&&(l="right"),function BSe(n,t,e,i){const{x:r,width:o}=i,s=e.caretSize+e.caretPadding;if("left"===n&&r+o+s>t.width||"right"===n&&r-o-s<0)return!0}(l,n,t,e)&&(l="center"),l}function J7(n,t,e){const i=e.yAlign||t.yAlign||function VSe(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||USe(n,t,e,i),yAlign:i}}function Z7(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:s}=n,{xAlign:a,yAlign:c}=e,l=r+o,{topLeft:d,topRight:u,bottomLeft:p,bottomRight:b}=rh(s);let v=function jSe(n,t){let{x:e,width:i}=n;return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(t,a);const w=function zSe(n,t,e){let{y:i,height:r}=n;return"top"===t?i+=e:i-="bottom"===t?r+e:r/2,i}(t,c,l);return"center"===c?"left"===a?v+=l:"right"===a&&(v-=l):"left"===a?v-=Math.max(d,p)+r:"right"===a&&(v+=Math.max(u,b)+r),{x:Mr(v,0,i.width-t.width),y:Mr(w,0,i.height-t.height)}}function ZI(n,t,e){const i=ao(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-i.right:n.x+i.left}function eK(n){return $a([],Xc(n))}function tK(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const nK={beforeTitle:qc,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:qc,beforeBody:qc,beforeLabel:qc,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return _n(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:qc,afterBody:qc,beforeFooter:qc,footer:qc,afterFooter:qc};function zo(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?nK[t].call(e,i):r}let iK=(()=>class n extends Yc{static positioners=Uv;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&i.options.animation&&r.animations,s=new W$(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=function HSe(n,t,e){return fd(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:r}=i,o=zo(r,"beforeTitle",this,e),s=zo(r,"title",this,e),a=zo(r,"afterTitle",this,e);let c=[];return c=$a(c,Xc(o)),c=$a(c,Xc(s)),c=$a(c,Xc(a)),c}getBeforeBody(e,i){return eK(zo(i.callbacks,"beforeBody",this,e))}getBody(e,i){const{callbacks:r}=i,o=[];return Mn(e,s=>{const a={before:[],lines:[],after:[]},c=tK(r,s);$a(a.before,Xc(zo(c,"beforeLabel",this,s))),$a(a.lines,zo(c,"label",this,s)),$a(a.after,Xc(zo(c,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(e,i){return eK(zo(i.callbacks,"afterBody",this,e))}getFooter(e,i){const{callbacks:r}=i,o=zo(r,"beforeFooter",this,e),s=zo(r,"footer",this,e),a=zo(r,"afterFooter",this,e);let c=[];return c=$a(c,Xc(o)),c=$a(c,Xc(s)),c=$a(c,Xc(a)),c}_createItems(e){const i=this._active,r=this.chart.data,o=[],s=[],a=[];let l,d,c=[];for(l=0,d=i.length;l<d;++l)c.push(LSe(this.chart,i[l]));return e.filter&&(c=c.filter((u,p,b)=>e.filter(u,p,b,r))),e.itemSort&&(c=c.sort((u,p)=>e.itemSort(u,p,r))),Mn(c,u=>{const p=tK(e.callbacks,u);o.push(zo(p,"labelColor",this,u)),s.push(zo(p,"labelPointStyle",this,u)),a.push(zo(p,"labelTextColor",this,u))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=c,c}update(e,i){const r=this.options.setContext(this.getContext()),o=this._active;let s,a=[];if(o.length){const c=Uv[r.position].call(this,o,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=X7(this,r),d=Object.assign({},c,l),u=J7(this.chart,r,d),p=Z7(r,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:p.x,y:p.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,r,o){const s=this.getCaretPosition(e,r,o);i.lineTo(s.x1,s.y1),i.lineTo(s.x2,s.y2),i.lineTo(s.x3,s.y3)}getCaretPosition(e,i,r){const{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:c}=r,{topLeft:l,topRight:d,bottomLeft:u,bottomRight:p}=rh(c),{x:b,y:v}=e,{width:w,height:x}=i;let P,S,B,$,J,te;return"center"===s?(J=v+x/2,"left"===o?(P=b,S=P-a,$=J+a,te=J-a):(P=b+w,S=P+a,$=J-a,te=J+a),B=P):(S="left"===o?b+Math.max(l,u)+a:"right"===o?b+w-Math.max(d,p)-a:this.caretX,"top"===s?($=v,J=$-a,P=S-a,B=S+a):($=v+x,J=$+a,P=S+a,B=S-a),te=$),{x1:P,x2:S,x3:B,y1:$,y2:J,y3:te}}drawTitle(e,i,r){const o=this.title,s=o.length;let a,c,l;if(s){const d=cp(r.rtl,this.x,this.width);for(e.x=ZI(this,r.titleAlign,r),i.textAlign=d.textAlign(r.titleAlign),i.textBaseline="middle",a=br(r.titleFont),c=r.titleSpacing,i.fillStyle=r.titleColor,i.font=a.string,l=0;l<s;++l)i.fillText(o[l],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+c,l+1===s&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,i,r,o,s){const a=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:l,boxWidth:d}=s,u=br(s.bodyFont),p=ZI(this,"left",s),b=o.x(p),w=i.y+(l<u.lineHeight?(u.lineHeight-l)/2:0);if(s.usePointStyle){const x={radius:Math.min(d,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},P=o.leftForLtr(b,d)+d/2,S=w+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,hN(e,x,P,S),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,hN(e,x,P,S)}else{e.lineWidth=ln(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const x=o.leftForLtr(b,d),P=o.leftForLtr(o.xPlus(b,1),d-2),S=rh(a.borderRadius);Object.values(S).some(B=>0!==B)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Sv(e,{x,y:w,w:d,h:l,radius:S}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Sv(e,{x:P,y:w+1,w:d-2,h:l-2,radius:S}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(x,w,d,l),e.strokeRect(x,w,d,l),e.fillStyle=a.backgroundColor,e.fillRect(P,w+1,d-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,i,r){const{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:d,boxPadding:u}=r,p=br(r.bodyFont);let b=p.lineHeight,v=0;const w=cp(r.rtl,this.x,this.width),x=function(L){i.fillText(L,w.x(e.x+v),e.y+b/2),e.y+=b+s},P=w.textAlign(a);let S,B,$,J,te,V,R;for(i.textAlign=a,i.textBaseline="middle",i.font=p.string,e.x=ZI(this,P,r),i.fillStyle=r.bodyColor,Mn(this.beforeBody,x),v=c&&"right"!==P?"center"===a?d/2+u:d+2+u:0,J=0,V=o.length;J<V;++J){for(S=o[J],B=this.labelTextColors[J],i.fillStyle=B,Mn(S.before,x),$=S.lines,c&&$.length&&(this._drawColorBox(i,e,J,w,r),b=Math.max(p.lineHeight,l)),te=0,R=$.length;te<R;++te)x($[te]),b=p.lineHeight;Mn(S.after,x)}v=0,b=p.lineHeight,Mn(this.afterBody,x),e.y-=s}drawFooter(e,i,r){const o=this.footer,s=o.length;let a,c;if(s){const l=cp(r.rtl,this.x,this.width);for(e.x=ZI(this,r.footerAlign,r),e.y+=r.footerMarginTop,i.textAlign=l.textAlign(r.footerAlign),i.textBaseline="middle",a=br(r.footerFont),i.fillStyle=r.footerColor,i.font=a.string,c=0;c<s;++c)i.fillText(o[c],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,i,r,o){const{xAlign:s,yAlign:a}=this,{x:c,y:l}=e,{width:d,height:u}=r,{topLeft:p,topRight:b,bottomLeft:v,bottomRight:w}=rh(o.cornerRadius);i.fillStyle=o.backgroundColor,i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.beginPath(),i.moveTo(c+p,l),"top"===a&&this.drawCaret(e,i,r,o),i.lineTo(c+d-b,l),i.quadraticCurveTo(c+d,l,c+d,l+b),"center"===a&&"right"===s&&this.drawCaret(e,i,r,o),i.lineTo(c+d,l+u-w),i.quadraticCurveTo(c+d,l+u,c+d-w,l+u),"bottom"===a&&this.drawCaret(e,i,r,o),i.lineTo(c+v,l+u),i.quadraticCurveTo(c,l+u,c,l+u-v),"center"===a&&"left"===s&&this.drawCaret(e,i,r,o),i.lineTo(c,l+p),i.quadraticCurveTo(c,l,c+p,l),i.closePath(),i.fill(),o.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,r=this.$animations,o=r&&r.x,s=r&&r.y;if(o||s){const a=Uv[e.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=X7(this,e),l=Object.assign({},a,this._size),d=J7(i,e,l),u=Z7(e,l,d,i);(o._to!==u.x||s._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const i=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(i);const o={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=ao(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,o,i),N$(e,i.textDirection),s.y+=a.top,this.drawTitle(s,e,i),this.drawBody(s,e,i),this.drawFooter(s,e,i),F$(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const r=this._active,o=e.map(({datasetIndex:c,index:l})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[l],index:l}}),s=!DI(r,o),a=this._positionChanged(o,i);(s||a)&&(this._active=o,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,s=this._active||[],a=this._getActiveElements(e,s,i,r),c=this._positionChanged(a,e),l=i||!DI(a,s)||c;return l&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),l}_getActiveElements(e,i,r,o){const s=this.options;if("mouseout"===e.type)return[];if(!o)return i.filter(c=>this.chart.data.datasets[c.datasetIndex]&&void 0!==this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index));const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,i){const{caretX:r,caretY:o,options:s}=this,a=Uv[s.position].call(this,e,i);return!1!==a&&(r!==a.x||o!==a.y)}})();var WSe={id:"tooltip",_element:iK,positioners:Uv,afterInit(n,t,e){e&&(n.tooltip=new iK({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:nK},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},qSe=Object.freeze({__proto__:null,Colors:iSe,Decimation:aSe,Filler:ASe,Legend:PSe,SubTitle:FSe,Title:NSe,Tooltip:WSe});function rK(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}let QSe=(()=>class n extends lh{static id="category";static defaults={ticks:{callback:rK}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const i=this._addedLabels;if(i.length){const r=this.getLabels();for(const{index:o,label:s}of i)r[o]===s&&r.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(_n(e))return null;const r=this.getLabels();return((n,t)=>null===n?null:Mr(Math.round(n),0,t))(i=isFinite(i)&&r[i]===e?i:function $Se(n,t,e,i){const r=n.indexOf(t);return-1===r?((n,t,e,i)=>("string"==typeof t?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,i):r!==n.lastIndexOf(t)?e:r}(r,e,Lt(i,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),i||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){const e=this.min,i=this.max,r=this.options.offset,o=[];let s=this.getLabels();s=0===e&&i===s.length-1?s:s.slice(e,i+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=i;a++)o.push({value:a});return o}getLabelForValue(e){return rK.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}})();function oK(n,t,{horizontal:e,minRotation:i}){const r=la(i),o=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(t/o,.75*t*(""+n).length)}class eT extends lh{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return _n(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const s=c=>r=e?r:c,a=c=>o=i?o:c;if(t){const c=qa(r),l=qa(o);c<0&&l<0?a(0):c>0&&l>0&&s(0)}if(r===o){let c=0===o?1:Math.abs(.05*o);a(o+c),t||s(r-c)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let r,{maxTicksLimit:e,stepSize:i}=t;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s=function YSe(n,t){const e=[],{bounds:r,step:o,min:s,max:a,precision:c,count:l,maxTicks:d,maxDigits:u,includeBounds:p}=n,b=o||1,v=d-1,{min:w,max:x}=t,P=!_n(s),S=!_n(a),B=!_n(l),$=(x-w)/(u+1);let te,V,R,L,J=s$((x-w)/v/b)*b;if(J<1e-14&&!P&&!S)return[{value:w},{value:x}];L=Math.ceil(x/J)-Math.floor(w/J),L>v&&(J=s$(L*J/v/b)*b),_n(c)||(te=Math.pow(10,c),J=Math.ceil(J*te)/te),"ticks"===r?(V=Math.floor(w/J)*J,R=Math.ceil(x/J)*J):(V=w,R=x),P&&S&&o&&function FTe(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((a-s)/o,J/1e3)?(L=Math.round(Math.min((a-s)/J,d)),J=(a-s)/L,V=s,R=a):B?(V=P?s:V,R=S?a:R,L=l-1,J=(R-V)/L):(L=(R-V)/J,L=Iv(L,Math.round(L),J/1e3)?Math.round(L):Math.ceil(L));const q=Math.max(c$(J),c$(V));te=Math.pow(10,_n(c)?q:c),V=Math.round(V*te)/te,R=Math.round(R*te)/te;let Q=0;for(P&&(p&&V!==s?(e.push({value:s}),V<s&&Q++,Iv(Math.round((V+Q*J)*te)/te,s,oK(s,$,n))&&Q++):V<s&&Q++);Q<L;++Q){const Z=Math.round((V+Q*J)*te)/te;if(S&&Z>a)break;e.push({value:Z})}return S&&p&&R!==a?e.length&&Iv(e[e.length-1].value,a,oK(a,$,n))?e[e.length-1].value=a:e.push({value:a}):(!S||R===a)&&e.push({value:R}),e}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&a$(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Av(t,this.chart.options.locale,this.options.ticks.format)}}const jv=n=>Math.floor(hd(n)),dh=(n,t)=>Math.pow(10,jv(n)+t);function sK(n){return n/Math.pow(10,jv(n))==1}function aK(n,t,e){const i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}function VN(n){const t=n.ticks;if(t.display&&n.display){const e=ao(t.backdropPadding);return Lt(t.font&&t.font.size,Si.font.size)+e.height}return 0}function tDe(n,t,e){return e=vi(e)?e:[e],{w:ZTe(n,t.string,e),h:e.length*t.lineHeight}}function cK(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function iDe(n,t,e,i,r){const o=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e));let a=0,c=0;i.start<t.l?(a=(t.l-i.start)/o,n.l=Math.min(n.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/o,n.r=Math.max(n.r,t.r+a)),r.start<t.t?(c=(t.t-r.start)/s,n.t=Math.min(n.t,t.t-c)):r.end>t.b&&(c=(r.end-t.b)/s,n.b=Math.max(n.b,t.b+c))}function rDe(n,t,e){const i=n.drawingArea,{extra:r,additionalAngle:o,padding:s,size:a}=e,c=n.getPointPosition(t,i+r+s,o),l=Math.round(rN(fs(c.angle+Zi))),d=function lDe(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}(c.y,a.h,l),u=function aDe(n){return 0===n||180===n?"center":n<180?"left":"right"}(l),p=function cDe(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}(c.x,a.w,u);return{visible:!0,x:c.x,y:d,textAlign:u,left:p,top:d,right:p+a.w,bottom:d+a.h}}function oDe(n,t){if(!t)return!0;const{left:e,top:i,right:r,bottom:o}=n;return!(Kc({x:e,y:i},t)||Kc({x:e,y:o},t)||Kc({x:r,y:i},t)||Kc({x:r,y:o},t))}function dDe(n,t,e){const{left:i,top:r,right:o,bottom:s}=e,{backdropColor:a}=t;if(!_n(a)){const c=rh(t.borderRadius),l=ao(t.backdropPadding);n.fillStyle=a;const d=i-l.left,u=r-l.top,p=o-i+l.width,b=s-r+l.height;Object.values(c).some(v=>0!==v)?(n.beginPath(),Sv(n,{x:d,y:u,w:p,h:b,radius:c}),n.fill()):n.fillRect(d,u,p,b)}}function lK(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,wi);else{let o=n.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let s=1;s<i;s++)o=n.getPointPosition(s,t),r.lineTo(o.x,o.y)}}const tT={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ho=Object.keys(tT);function dK(n,t){return n-t}function uK(n,t){if(_n(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let s=t;return"function"==typeof i&&(s=i(s)),ji(s)||(s="string"==typeof i?e.parse(s,i):e.parse(s)),null===s?null:(r&&(s="week"!==r||!op(o)&&!0!==o?e.startOf(s,r):e.startOf(s,"isoWeek",o)),+s)}function hK(n,t,e,i){const r=Ho.length;for(let o=Ho.indexOf(n);o<r-1;++o){const s=tT[Ho[o]];if(s.common&&Math.ceil((e-t)/((s.steps?s.steps:Number.MAX_SAFE_INTEGER)*s.size))<=i)return Ho[o]}return Ho[r-1]}function fK(n,t,e){if(e){if(e.length){const{lo:i,hi:r}=sN(e,t);n[e[i]>=t?e[i]:e[r]]=!0}}else n[t]=!0}function mK(n,t,e){const i=[],r={},o=t.length;let s,a;for(s=0;s<o;++s)a=t[s],r[a]=s,i.push({value:a,major:!1});return 0!==o&&e?function _De(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),s=t[t.length-1].value;let a,c;for(a=o;a<=s;a=+r.add(a,1,i))c=e[a],c>=0&&(t[c].major=!0);return t}(n,i,r,e):i}let BN=(()=>class n extends lh{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){const r=e.time||(e.time={}),o=this._adapter=new bAe__date(e.adapters.date);o.init(i),xv(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return void 0===e?null:uK(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,r=e.time.unit||"day";let{min:o,max:s,minDefined:a,maxDefined:c}=this.getUserBounds();function l(d){!a&&!isNaN(d.min)&&(o=Math.min(o,d.min)),!c&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!c)&&(l(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&l(this.getMinMax(!1))),o=ji(o)&&!isNaN(o)?o:+i.startOf(Date.now(),r),s=ji(s)&&!isNaN(s)?s:+i.endOf(Date.now(),r)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],r=e[e.length-1]),{min:i,max:r}}buildTicks(){const e=this.options,i=e.time,r=e.ticks,o="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const s=this.min,c=function UTe(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}(o,s,this.max);return this._unit=i.unit||(r.autoSkip?hK(i.minUnit,this.min,this.max,this._getLabelCapacity(s)):function pDe(n,t,e,i,r){for(let o=Ho.length-1;o>=Ho.indexOf(e);o--){const s=Ho[o];if(tT[s].common&&n._adapter.diff(r,i,s)>=t-1)return s}return Ho[e?Ho.indexOf(e):0]}(this,c.length,i.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function gDe(n){for(let t=Ho.indexOf(n)+1,e=Ho.length;t<e;++t)if(tT[Ho[t]].common)return Ho[t]}(this._unit):void 0,this.initOffsets(o),e.reverse&&c.reverse(),mK(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let o,s,i=0,r=0;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),i=1===e.length?1-o:(this.getDecimalForValue(e[1])-o)/2,s=this.getDecimalForValue(e[e.length-1]),r=1===e.length?s:(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;i=Mr(i,0,a),r=Mr(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,i=this.min,r=this.max,o=this.options,s=o.time,a=s.unit||hK(s.minUnit,i,r,this._getLabelCapacity(i)),c=Lt(o.ticks.stepSize,1),l="week"===a&&s.isoWeekday,d=op(l)||!0===l,u={};let b,v,p=i;if(d&&(p=+e.startOf(p,"isoWeek",l)),p=+e.startOf(p,d?"day":a),e.diff(r,i,a)>1e5*c)throw new Error(i+" and "+r+" are too far apart with stepSize of "+c+" "+a);const w="data"===o.ticks.source&&this.getDataTimestamps();for(b=p,v=0;b<r;b=+e.add(b,c,a),v++)fK(u,b,w);return(b===r||"ticks"===o.bounds||1===v)&&fK(u,b,w),Object.keys(u).sort(dK).map(x=>+x)}getLabelForValue(e){const r=this.options.time;return this._adapter.format(e,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}format(e,i){return this._adapter.format(e,i||this.options.time.displayFormats[this._unit])}_tickFormatFunction(e,i,r,o){const s=this.options,a=s.ticks.callback;if(a)return si(a,[e,i,r],this);const c=s.time.displayFormats,l=this._unit,d=this._majorUnit,p=d&&c[d],b=r[i];return this._adapter.format(e,o||(d&&p&&b&&b.major?p:l&&c[l]))}generateTickLabels(e){let i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i],o.label=this._tickFormatFunction(o.value,i,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(e){const i=this._offsets,r=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,r=this.ctx.measureText(e).width,o=la(this.isHorizontal()?i.maxRotation:i.minRotation),s=Math.cos(o),a=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:r*s+c*a,h:r*a+c*s}}_getLabelCapacity(e){const i=this.options.time,r=i.displayFormats,o=r[i.unit]||r.millisecond,s=this._tickFormatFunction(e,0,mK(this,[e],this._majorUnit),o),a=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let i,r,e=this._cache.data||[];if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(i=0,r=o.length;i<r;++i)e=e.concat(o[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,r;if(e.length)return e;const o=this.getLabels();for(i=0,r=o.length;i<r;++i)e.push(uK(this,o[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return h$(e.sort(dK))}})();function nT(n,t,e){let o,s,a,c,i=0,r=n.length-1;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=$c(n,"pos",t)),({pos:o,time:a}=n[i]),({pos:s,time:c}=n[r])):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=$c(n,"time",t)),({time:o,pos:a}=n[i]),({time:s,pos:c}=n[r]));const l=s-o;return l?a+(c-a)*(t-o)/l:a}var vDe=Object.freeze({__proto__:null,CategoryScale:QSe,LinearScale:class XSe extends eT{static id="linear";static defaults={ticks:{callback:OI.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ji(t)?t:0,this.max=ji(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=la(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},LogarithmicScale:class eDe extends lh{static id="logarithmic";static defaults={ticks:{callback:OI.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=eT.prototype.parse.apply(this,[t,e]);if(0!==i)return ji(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ji(t)?Math.max(0,t):null,this.max=ji(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ji(this._userMin)&&(this.min=t===dh(this.min,0)?dh(this.min,-1):dh(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const o=a=>i=t?i:a,s=a=>r=e?r:a;i===r&&(i<=0?(o(1),s(10)):(o(dh(i,-1)),s(dh(r,1)))),i<=0&&o(dh(r,-1)),r<=0&&s(dh(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,i=function ZSe(n,{min:t,max:e}){t=hs(n.min,t);const i=[],r=jv(t);let o=function JSe(n,t){let i=jv(t-n);for(;aK(n,t,i)>10;)i++;for(;aK(n,t,i)<10;)i--;return Math.min(i,jv(n))}(t,e),s=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),c=r>o?Math.pow(10,r):0,l=Math.round((t-c)*s)/s,d=Math.floor((t-c)/a/10)*a*10;let u=Math.floor((l-d)/Math.pow(10,o)),p=hs(n.min,Math.round((c+d+u*Math.pow(10,o))*s)/s);for(;p<e;)i.push({value:p,major:sK(p),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(o++,u=2,s=o>=0?1:s),p=Math.round((c+d+u*Math.pow(10,o))*s)/s;const b=hs(n.max,p);return i.push({value:b,major:sK(b),significand:u}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&a$(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":Av(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=hd(t),this._valueRange=hd(this.max)-hd(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(hd(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}},RadialLinearScale:class mDe extends eT{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:OI.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ao(VN(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=ji(t)&&!isNaN(t)?t:0,this.max=ji(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/VN(this.options))}generateTickLabels(t){eT.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=si(this.options.pointLabels.callback,[e,i],this);return r||0===r?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?function nDe(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],o=n._pointLabels.length,s=n.options.pointLabels,a=s.centerPointLabels?yi/o:0;for(let c=0;c<o;c++){const l=s.setContext(n.getPointLabelContext(c));r[c]=l.padding;const d=n.getPointPosition(c,n.drawingArea+r[c],a),u=br(l.font),p=tDe(n.ctx,u,n._pointLabels[c]);i[c]=p;const b=fs(n.getIndexAngle(c)+a),v=Math.round(rN(b));iDe(e,t,b,cK(v,d.x,p.w,0,180),cK(v,d.y,p.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function sDe(n,t,e){const i=[],r=n._pointLabels.length,o=n.options,{centerPointLabels:s,display:a}=o.pointLabels,c={extra:VN(o)/2,additionalAngle:s?yi/r:0};let l;for(let d=0;d<r;d++){c.padding=e[d],c.size=t[d];const u=rDe(n,d,c);i.push(u),"auto"===a&&(u.visible=oDe(u,l),u.visible&&(l=u))}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){return fs(t*(wi/(this._pointLabels.length||1))+la(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(_n(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(_n(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function fDe(n,t,e){return fd(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-Zi+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),lK(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r,border:o}=e,s=this._pointLabels.length;let a,c,l;if(e.pointLabels.display&&function uDe(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const o=n._pointLabelItems[r];if(!o.visible)continue;const s=i.setContext(n.getPointLabelContext(r));dDe(e,s,o);const a=br(s.font),{x:c,y:l,textAlign:d}=o;ih(e,n._pointLabels[r],c,l+a.lineHeight/2,a,{color:s.color,textAlign:d,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach((d,u)=>{if(0!==u||0===u&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const p=this.getContext(u),b=r.setContext(p),v=o.setContext(p);!function hDe(n,t,e,i,r){const o=n.ctx,s=t.circular,{color:a,lineWidth:c}=t;!s&&!i||!a||!c||e<0||(o.save(),o.strokeStyle=a,o.lineWidth=c,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),lK(n,e,s,i),o.closePath(),o.stroke(),o.restore())}(this,b,c,s,v)}}),i.display){for(t.save(),a=s-1;a>=0;a--){const d=i.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:p}=d;!p||!u||(t.lineWidth=p,t.strokeStyle=u,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),l=this.getPointPosition(a,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let o,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,c)=>{if(0===c&&this.min>=0&&!e.reverse)return;const l=i.setContext(this.getContext(c)),d=br(l.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){t.font=d.string,s=t.measureText(a.label).width,t.fillStyle=l.backdropColor;const u=ao(l.backdropPadding);t.fillRect(-s/2-u.left,-o-d.size/2-u.top,s+u.width,d.size+u.height)}ih(t,a.label,0,-o,d,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),t.restore()}drawTitle(){}},TimeScale:BN,TimeSeriesScale:class bDe extends BN{static id="timeseries";static defaults=BN.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=nT(e,this.min),this._tableRange=nT(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let s,a,c,l,d;for(s=0,a=t.length;s<a;++s)l=t[s],l>=e&&l<=i&&r.push(l);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(s=0,a=r.length;s<a;++s)d=r[s+1],c=r[s-1],l=r[s],Math.round((d+c)/2)!==l&&o.push({time:l,pos:s/(a-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||1===i.length)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(nT(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return nT(this._table,i*this._tableRange+this._minPos,!0)}}});Bv.register(_Ae,Yke,qSe,vDe);let wDe=(()=>{class n{constructor(e){this.firestore=e,this.statistics=[],this.totalRevenue=0}ngOnInit(){this.loadStatistics(),this.cleanupOldStatistics()}loadStatistics(){this.firestore.collection("daily_statistics").valueChanges().subscribe(e=>{this.statistics=e,this.calculateTotalRevenue(),this.generateCharts()})}calculateTotalRevenue(){this.totalRevenue=this.statistics.reduce((e,i)=>e+i.revenue,0)}generateCharts(){setTimeout(()=>{this.createTableRevenueChart(),this.createWaiterChart(),this.createSalesByDayChart()},500)}createTableRevenueChart(){const e={};this.statistics.forEach(o=>{e[o.tableName]=(e[o.tableName]||0)+o.revenue});const i=Object.keys(e),r=Object.values(e);this.tableChart&&this.tableChart.destroy(),this.tableChart=new Bv("tableRevenueChart",{type:"bar",data:{labels:i,datasets:[{label:"Ingresos por Mesa ($)",data:r,backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1,barThickness:48}]}})}createWaiterChart(){const e={};this.statistics.forEach(o=>{e[o.waiterName]=(e[o.waiterName]||0)+1});const i=Object.keys(e),r=Object.values(e);this.waiterChart&&this.waiterChart.destroy(),this.waiterChart=new Bv("waiterChart",{type:"bar",data:{labels:i,datasets:[{label:"Mesas Atendidas",data:r,backgroundColor:"rgba(255, 99, 132, 0.6)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1,barThickness:48}]}})}createSalesByDayChart(){const e=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],i={};this.statistics.forEach(s=>{const a=new Date(s.date),c=e[a.getDay()];i[c]=(i[c]||0)+s.revenue});const r=Object.keys(i),o=Object.values(i);this.salesChart&&this.salesChart.destroy(),this.salesChart=new Bv("salesByDayChart",{type:"bar",data:{labels:r,datasets:[{label:"Ingresos por D\xeda ($)",data:o,backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1,barThickness:48}]}})}cleanupOldStatistics(){const e=(new Date).getTime()-6048e5;this.firestore.collection("daily_statistics").get().subscribe(i=>{i.forEach(r=>{r.data().date<e&&this.firestore.collection("daily_statistics").doc(r.id).delete()})})}static{this.\u0275fac=function(i){return new(i||n)(O(bM))}}static{this.\u0275cmp=ht({type:n,selectors:[["app-stadistics"]],decls:16,vars:0,consts:[[1,"container","mt-4"],[1,"text-center","mb-4"],["mat-card-image","","src","./assets/nuovo-cafe.jpg","alt","table",1,"rounded-circle",2,"width","50px","height","50px"],[1,"card","shadow-lg","p-4","mb-4"],[1,"text-center"],["id","tableRevenueChart"],["id","waiterChart"],["id","salesByDayChart"]],template:function(i,r){1&i&&(H(0,"div",0)(1,"h2",1),et(2,"img",2),se(3," Estad\xedsticas de nuovo caff\xe9"),j(),H(4,"div",3)(5,"h4",4),se(6,"\u{1f4b0} Mesas con m\xe1s ingresos"),j(),et(7,"canvas",5),j(),H(8,"div",3)(9,"h4",4),se(10,"\u{1f9d1}\u200d\u{1f373} Mozos con m\xe1s mesas atendidas"),j(),et(11,"canvas",6),j(),H(12,"div",3)(13,"h4",4),se(14,"\u{1f4c5} D\xedas con m\xe1s ventas"),j(),et(15,"canvas",7),j()())},dependencies:[bv],styles:[".container[_ngcontent-%COMP%]{max-width:900px}.card[_ngcontent-%COMP%]{border-radius:15px;background:#ffffff;box-shadow:0 4px 10px #0000001a;padding:20px}h4[_ngcontent-%COMP%]{font-weight:700;margin-bottom:20px}canvas[_ngcontent-%COMP%]{width:100%!important;height:300px!important}.btn[_ngcontent-%COMP%]{font-size:1.2rem;padding:12px 25px;border-radius:10px}.badge[_ngcontent-%COMP%]{font-size:1.2rem;padding:10px 15px}"]})}}return n})();function xDe(n,t){if(1&n&&(H(0,"tr")(1,"td"),se(2),j(),H(3,"td"),se(4),j(),H(5,"td"),se(6),j()()),2&n){const e=t.$implicit;ue(2),Vi(e.tableName),ue(2),Vi(e.waiterName),ue(2),ir("$",e.totalAmount.toFixed(2),"")}}let EDe=(()=>{class n{constructor(e){this.gestionService=e,this.balanceData=[],this.totalRevenue=0}ngOnInit(){this.loadBalance()}loadBalance(){this.gestionService.getBalance().subscribe({next:e=>{this.balanceData=e,this.calculateTotalRevenue()},error:e=>{console.error("Error al obtener el balance:",e)}})}calculateTotalRevenue(){this.totalRevenue=this.balanceData.reduce((e,i)=>e+i.totalAmount,0)}deleteBalance(){confirm("\xbfEst\xe1s seguro de que deseas eliminar todos los datos del balance?")&&this.gestionService.deleteAllBalances().subscribe({next:e=>{console.log(e.message),this.balanceData=[],this.totalRevenue=0},error:e=>{console.error("Error al eliminar balance:",e)}})}static{this.\u0275fac=function(i){return new(i||n)(O(aa))}}static{this.\u0275cmp=ht({type:n,selectors:[["app-balance"]],decls:19,vars:2,consts:[[1,"balance-container"],[4,"ngFor","ngForOf"],[1,"total-revenue"],[1,"btn","btn-danger",3,"click"]],template:function(i,r){1&i&&(H(0,"div",0)(1,"h2"),se(2,"Balance de Mesas Liberadas"),j(),H(3,"table")(4,"thead")(5,"tr")(6,"th"),se(7,"Mesa"),j(),H(8,"th"),se(9,"Mozo"),j(),H(10,"th"),se(11,"Total Ingresado"),j()()(),H(12,"tbody"),Re(13,xDe,7,3,"tr",1),j()(),H(14,"div",2)(15,"h3"),se(16),j()(),H(17,"button",3),Me("click",function(){return r.deleteBalance()}),se(18," Comenzar un nuevo turno "),j()()),2&i&&(ue(13),ye("ngForOf",r.balanceData),ue(3),ir("Total Recaudado: $",r.totalRevenue.toFixed(2),""))},dependencies:[_c],styles:[".balance-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:auto;text-align:center}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:10px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px}th[_ngcontent-%COMP%]{background-color:#f4f4f4}.total-revenue[_ngcontent-%COMP%]{margin-top:20px;font-size:18px;font-weight:700}"]})}}return n})();const IDe=[[["caption"]],[["colgroup"],["col"]]],TDe=["caption","colgroup, col"];function UN(n){return class extends n{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=cn(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const dp=new de("CDK_TABLE");let up=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(O(rr))}}static{this.\u0275dir=_e({type:n,selectors:[["","cdkCellDef",""]]})}}return n})(),hp=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(O(rr))}}static{this.\u0275dir=_e({type:n,selectors:[["","cdkHeaderCellDef",""]]})}}return n})(),iT=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(O(rr))}}static{this.\u0275dir=_e({type:n,selectors:[["","cdkFooterCellDef",""]]})}}return n})();class SDe{}const DDe=UN(SDe);let Jc=(()=>{class n extends DDe{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=cn(e),this._hasStickyChanged=i!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static{this.\u0275fac=function(i){return new(i||n)(O(dp,8))}}static{this.\u0275dir=_e({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,r,o){if(1&i&&($n(o,up,5),$n(o,hp,5),$n(o,iT,5)),2&i){let s;gt(s=_t())&&(r.cell=s.first),gt(s=_t())&&(r.headerCell=s.first),gt(s=_t())&&(r.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[mt([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),We]})}}return n})();class jN{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let zN=(()=>{class n extends jN{constructor(e,i){super(e,i)}static{this.\u0275fac=function(i){return new(i||n)(O(Jc),O(ft))}}static{this.\u0275dir=_e({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[We]})}}return n})(),HN=(()=>{class n extends jN{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}static{this.\u0275fac=function(i){return new(i||n)(O(Jc),O(ft))}}static{this.\u0275dir=_e({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[We]})}}return n})();class gK{constructor(){this.tasks=[],this.endTasks=[]}}const WN=new de("_COALESCED_STYLE_SCHEDULER");let _K=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new K}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new gK,this._getScheduleObservable().pipe(ri(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new gK;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?C(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Ln(1))}static{this.\u0275fac=function(i){return new(i||n)(Y(Ge))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})(),qN=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof zv?e.headerCell.template:this instanceof Hv?e.footerCell.template:e.cell.template}static{this.\u0275fac=function(i){return new(i||n)(O(rr),O(fc))}}static{this.\u0275dir=_e({type:n,features:[Pi]})}}return n})();class RDe extends qN{}const MDe=UN(RDe);let zv=(()=>{class n extends MDe{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}static{this.\u0275fac=function(i){return new(i||n)(O(rr),O(fc),O(dp,8))}}static{this.\u0275dir=_e({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[We,Pi]})}}return n})();class PDe extends qN{}const ODe=UN(PDe);let Hv=(()=>{class n extends ODe{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}static{this.\u0275fac=function(i){return new(i||n)(O(rr),O(fc),O(dp,8))}}static{this.\u0275dir=_e({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[We,Pi]})}}return n})(),rT=(()=>{class n extends qN{constructor(e,i,r){super(e,i),this._table=r}static{this.\u0275fac=function(i){return new(i||n)(O(rr),O(fc),O(dp,8))}}static{this.\u0275dir=_e({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[We]})}}return n})(),Zc=(()=>{class n{static{this.mostRecentCellOutlet=null}constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}static{this.\u0275fac=function(i){return new(i||n)(O(Ar))}}static{this.\u0275dir=_e({type:n,selectors:[["","cdkCellOutlet",""]]})}}return n})(),GN=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ht({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&Sa(0,0)},dependencies:[Zc],encapsulation:2})}}return n})(),KN=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ht({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&Sa(0,0)},dependencies:[Zc],encapsulation:2})}}return n})(),oT=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}static{this.\u0275fac=function(i){return new(i||n)(O(rr))}}static{this.\u0275dir=_e({type:n,selectors:[["ng-template","cdkNoDataRow",""]]})}}return n})();const bK=["top","bottom","left","right"];class NDe{constructor(t,e,i,r,o=!0,s=!0,a){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=s,this._positionListener=a,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(p=>p)&&!i.some(p=>p))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],s=o.children.length,a=this._getCellWidths(o,r),c=this._getStickyStartColumnPositions(a,e),l=this._getStickyEndColumnPositions(a,i),d=e.lastIndexOf(!0),u=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const p="rtl"===this.direction,b=p?"right":"left",v=p?"left":"right";for(const w of t)for(let x=0;x<s;x++){const P=w.children[x];e[x]&&this._addStickyStyle(P,b,c[x],x===d),i[x]&&this._addStickyStyle(P,v,l[x],x===u)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===d?[]:a.slice(0,d+1).map((w,x)=>e[x]?w:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===u?[]:a.slice(u).map((w,x)=>i[x+u]?w:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,s=[],a=[],c=[];for(let d=0,u=0;d<r.length;d++){if(!o[d])continue;s[d]=u;const p=r[d];c[d]=this._isNativeHtmlTable?Array.from(p.children):[p];const b=p.getBoundingClientRect().height;u+=b,a[d]=b}const l=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let d=0;d<r.length;d++){if(!o[d])continue;const u=s[d],p=d===l;for(const b of c[d])this._addStickyStyle(b,i,u,p)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:a,offsets:s,elements:c}):this._positionListener?.stickyFooterRowsUpdated({sizes:a,offsets:s,elements:c})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);bK.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of bK)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=r,r+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=r,r+=t[o]);return i}}const QN=new de("CDK_SPL");let sT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}static{this.\u0275fac=function(i){return new(i||n)(O(Ar),O(ft))}}static{this.\u0275dir=_e({type:n,selectors:[["","rowOutlet",""]]})}}return n})(),aT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}static{this.\u0275fac=function(i){return new(i||n)(O(Ar),O(ft))}}static{this.\u0275dir=_e({type:n,selectors:[["","headerRowOutlet",""]]})}}return n})(),cT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}static{this.\u0275fac=function(i){return new(i||n)(O(Ar),O(ft))}}static{this.\u0275dir=_e({type:n,selectors:[["","footerRowOutlet",""]]})}}return n})(),lT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}static{this.\u0275fac=function(i){return new(i||n)(O(Ar),O(ft))}}static{this.\u0275dir=_e({type:n,selectors:[["","noDataRowOutlet",""]]})}}return n})(),dT=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=cn(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=cn(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,r,o,s,a,c,l,d,u,p,b){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=s,this._platform=c,this._viewRepeater=l,this._coalescedStyleScheduler=d,this._viewportRuler=u,this._stickyPositioningListener=p,this._ngZone=b,this._onDestroy=new K,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new jt,this.viewChange=new k({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=a,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(ri(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),jO(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,s)=>this._getEmbeddedViewArgs(r.item,s),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&Ge.isInAngularZone()?this._ngZone.onStable.pipe(Ln(1),ri(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,s)=>{this._addStickyColumnStyles([o],this._headerRowDefs[s])}),this._rowDefs.forEach(o=>{const s=[];for(let a=0;a<i.length;a++)this._renderRows[a].rowDef===o&&s.push(i[a]);this._addStickyColumnStyles(s,o)}),r.forEach((o,s)=>{this._addStickyColumnStyles([o],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const s=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let a=0;a<s.length;a++){let c=s[a];const l=this._cachedRenderRowsMap.get(c.data);l.has(c.rowDef)?l.get(c.rowDef).push(c):l.set(c.rowDef,[c]),e.push(c)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(s=>{const a=r&&r.has(s)?r.get(s):[];if(a.length){const c=a.shift();return c.dataIndex=i,c}return{data:e,rowDef:s,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),uT(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=uT(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=uT(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=uT(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(s,a)=>s||!!a.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],jO(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;jO(this.dataSource)?e=this.dataSource.connect(this):mS(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=M(this.dataSource)),this._renderChangeSubscription=e.pipe(ri(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(a=>this._columnDefsByName.get(a)),o=r.map(a=>a.sticky),s=r.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(s=>s.when&&s.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const s=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),s}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Zc.mostRecentCellOutlet&&Zc.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const s=e.get(i).context;s.count=r,s.first=0===i,s.last=i===r-1,s.even=i%2==0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[i].dataIndex,s.renderIndex=i):s.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const s of r.outlets)o.appendChild(s.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new NDe(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:M()).pipe(ri(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),s=o.rootNodes[0];1===o.rootNodes.length&&s?.nodeType===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(i){return new(i||n)(O(fc),O(Vo),O(ft),vl("role"),O(Uu,8),O(Ct),O(Oi),O(_v),O(WN),O(kE),O(QN,12),O(Ge,8))}}static{this.\u0275cmp=ht({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,r,o){if(1&i&&($n(o,oT,5),$n(o,Jc,5),$n(o,rT,5),$n(o,zv,5),$n(o,Hv,5)),2&i){let s;gt(s=_t())&&(r._noDataRow=s.first),gt(s=_t())&&(r._contentColumnDefs=s),gt(s=_t())&&(r._contentRowDefs=s),gt(s=_t())&&(r._contentHeaderRowDefs=s),gt(s=_t())&&(r._contentFooterRowDefs=s)}},viewQuery:function(i,r){if(1&i&&(ni(sT,7),ni(aT,7),ni(cT,7),ni(lT,7)),2&i){let o;gt(o=_t())&&(r._rowOutlet=o.first),gt(o=_t())&&(r._headerRowOutlet=o.first),gt(o=_t())&&(r._footerRowOutlet=o.first),gt(o=_t())&&(r._noDataRowOutlet=o.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(i,r){2&i&&Xt("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[mt([{provide:dp,useExisting:n},{provide:_v,useClass:b9},{provide:WN,useClass:_K},{provide:QN,useValue:null}])],ngContentSelectors:TDe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){1&i&&(nr(IDe),Tt(0),Tt(1,1),Sa(2,0)(3,1)(4,2)(5,3))},dependencies:[sT,aT,cT,lT],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}}return n})();function uT(n,t){return n.concat(Array.from(t))}let LDe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[SM]})}}return n})();const VDe=[[["caption"]],[["colgroup"],["col"]]],BDe=["caption","colgroup, col"];let yK=(()=>{class n extends dT{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(n)))(r||n)}}()}static{this.\u0275cmp=ht({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,r){2&i&&Xt("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[mt([{provide:dT,useExisting:n},{provide:dp,useExisting:n},{provide:WN,useClass:_K},{provide:_v,useClass:b9},{provide:QN,useValue:null}]),We],ngContentSelectors:BDe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){1&i&&(nr(VDe),Tt(0),Tt(1,1),Sa(2,0)(3,1)(4,2)(5,3))},dependencies:[sT,aT,cT,lT],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{--mat-table-row-item-outline-width:1px;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}}return n})(),YN=(()=>{class n extends up{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(n)))(r||n)}}()}static{this.\u0275dir=_e({type:n,selectors:[["","matCellDef",""]],features:[mt([{provide:up,useExisting:n}]),We]})}}return n})(),XN=(()=>{class n extends hp{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(n)))(r||n)}}()}static{this.\u0275dir=_e({type:n,selectors:[["","matHeaderCellDef",""]],features:[mt([{provide:hp,useExisting:n}]),We]})}}return n})(),JN=(()=>{class n extends Jc{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(n)))(r||n)}}()}static{this.\u0275dir=_e({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[mt([{provide:Jc,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),We]})}}return n})(),ZN=(()=>{class n extends zN{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(n)))(r||n)}}()}static{this.\u0275dir=_e({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[We]})}}return n})(),eF=(()=>{class n extends HN{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(n)))(r||n)}}()}static{this.\u0275dir=_e({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[We]})}}return n})(),wK=(()=>{class n extends zv{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(n)))(r||n)}}()}static{this.\u0275dir=_e({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[mt([{provide:zv,useExisting:n}]),We]})}}return n})(),xK=(()=>{class n extends rT{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(n)))(r||n)}}()}static{this.\u0275dir=_e({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[mt([{provide:rT,useExisting:n}]),We]})}}return n})(),EK=(()=>{class n extends GN{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(n)))(r||n)}}()}static{this.\u0275cmp=ht({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[mt([{provide:GN,useExisting:n}]),We],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&Sa(0,0)},dependencies:[Zc],encapsulation:2})}}return n})(),IK=(()=>{class n extends KN{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(n)))(r||n)}}()}static{this.\u0275cmp=ht({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[mt([{provide:KN,useExisting:n}]),We],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&Sa(0,0)},dependencies:[Zc],encapsulation:2})}}return n})(),$De=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[wn,LDe,wn]})}}return n})();function QDe(n,t){1&n&&(H(0,"div")(1,"p"),se(2,"No hay acciones registradas."),j()())}function YDe(n,t){1&n&&(H(0,"th",11),se(1," Fecha "),j())}function XDe(n,t){if(1&n&&(H(0,"td",12),se(1),Fo(2,"date"),j()),2&n){const e=t.$implicit;ue(1),ir(" ",function TU(n,t,e,i){const r=n+Wt,o=xe(),s=gl(o,r);return o_(o,r)?wU(o,mr(),t,s.transform,e,i,s):s.transform(e,i)}(2,1,e.timestamp,"short")," ")}}function JDe(n,t){1&n&&(H(0,"th",11),se(1," Acci\xf3n "),j())}function ZDe(n,t){if(1&n&&(H(0,"td",12),et(1,"span",13),j()),2&n){const e=t.$implicit;ue(1),ye("innerHTML",e.action,b2)}}function eRe(n,t){1&n&&et(0,"tr",14)}function tRe(n,t){1&n&&et(0,"tr",15)}function nRe(n,t){if(1&n&&(H(0,"table",4),tu(1,5),Re(2,YDe,2,0,"th",6),Re(3,XDe,3,4,"td",7),nu(),tu(4,8),Re(5,JDe,2,0,"th",6),Re(6,ZDe,2,1,"td",7),nu(),Re(7,eRe,1,0,"tr",9),Re(8,tRe,1,0,"tr",10),j()),2&n){const e=Oe();ye("dataSource",e.logs),ue(7),ye("matHeaderRowDef",e.displayedColumns),ue(1),ye("matRowDefColumns",e.displayedColumns)}}let iRe=(()=>{class n{constructor(e){this.gestionService=e,this.displayedColumns=["timestamp","action"],this.logs=[]}ngOnInit(){this.logs=this.gestionService.getLogs()}clearLogs(){this.gestionService.clearLogs(),this.logs=[]}static{this.\u0275fac=function(i){return new(i||n)(O(aa))}}static{this.\u0275cmp=ht({type:n,selectors:[["app-logs"]],decls:7,vars:2,consts:[[1,"logs-container"],[4,"ngIf"],["mat-table","","class","mat-elevation-z8","style","width: 100%; margin-top: 1rem;",3,"dataSource",4,"ngIf"],["mat-raised-button","","color","warn",2,"margin-top","1rem",3,"click"],["mat-table","",1,"mat-elevation-z8",2,"width","100%","margin-top","1rem",3,"dataSource"],["matColumnDef","timestamp"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"innerHTML"],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(H(0,"div",0)(1,"h2"),se(2,"Historial de Acciones"),j(),Re(3,QDe,3,0,"div",1),Re(4,nRe,9,3,"table",2),H(5,"button",3),Me("click",function(){return r.clearLogs()}),se(6," Borrar Logs "),j()()),2&i&&(ue(3),ye("ngIf",0===r.logs.length),ue(1),ye("ngIf",r.logs.length>0))},dependencies:[Rs,Zu,yK,XN,wK,JN,YN,xK,ZN,eF,EK,IK,Uw],styles:[".logs-container[_ngcontent-%COMP%]{padding:1rem}.logs-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem}.logs-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.logs-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .logs-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;text-align:left}"]})}}return n})(),rRe=(()=>{class n{constructor(e){this.dialogRef=e,this.password="",this.hide=!0}cancel(){this.dialogRef.close(null)}submit(){this.dialogRef.close(this.password)}static{this.\u0275fac=function(i){return new(i||n)(O(Oc))}}static{this.\u0275cmp=ht({type:n,selectors:[["app-password-dialog"]],decls:14,vars:3,consts:[[3,"ngSubmit"],["appearance","outline",2,"width","100%"],["matInput","","name","password","required","",3,"type","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["align","end"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"click"]],template:function(i,r){1&i&&(H(0,"mat-dialog-content")(1,"form",0),Me("ngSubmit",function(){return r.submit()}),H(2,"mat-form-field",1)(3,"mat-label"),se(4,"Contrase\xf1a"),j(),H(5,"input",2),Me("ngModelChange",function(s){return r.password=s}),j(),H(6,"button",3),Me("click",function(){return r.hide=!r.hide}),H(7,"mat-icon"),se(8),j()()()()(),H(9,"mat-dialog-actions",4)(10,"button",5),Me("click",function(){return r.cancel()}),se(11,"Cancelar"),j(),H(12,"button",6),Me("click",function(){return r.submit()}),se(13,"Ingresar"),j()()),2&i&&(ue(5),ye("type",r.hide?"password":"text")("ngModel",r.password),ue(3),Vi(r.hide?"visibility_off":"visibility"))},dependencies:[JE,td,Wu,WE,Km,Gm,Wb,Zu,p9,GM,$M,KO,vv,DIe,QO,Gb]})}}return n})();function oRe(n,t){if(1&n){const e=Li();H(0,"div",2)(1,"button",3),Me("click",function(){return Pt(e),Ot(Oe().action())}),se(2),j()()}if(2&n){const e=Oe();ue(2),ir(" ",e.data.action," ")}}const sRe=["label"];function aRe(n,t){}const cRe=Math.pow(2,31)-1;class tF{constructor(t,e){this._overlayRef=e,this._afterDismissed=new K,this._afterOpened=new K,this._onAction=new K,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,cRe))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const TK=new de("MatSnackBarData");class hT{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let lRe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}}return n})(),dRe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}}return n})(),uRe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}}return n})(),hRe=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static{this.\u0275fac=function(i){return new(i||n)(O(tF),O(TK))}}static{this.\u0275cmp=ht({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){1&i&&(H(0,"div",0),se(1),j(),Re(2,oRe,3,1,"div",1)),2&i&&(ue(1),ir(" ",r.data.message,"\n"),ue(1),ye("ngIf",r.hasAction))},dependencies:[Rs,Zu,lRe,dRe,uRe],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}}return n})();const fRe={snackBarState:ed("state",[Os("void, hidden",cr({transform:"scale(0.8)",opacity:0})),Os("visible",cr({transform:"scale(1)",opacity:1})),Ns("* => visible",ca("150ms cubic-bezier(0, 0, 0.2, 1)")),Ns("* => void, * => hidden",ca("75ms cubic-bezier(0.4, 0.0, 1, 1)",cr({opacity:0})))])};let mRe=0,pRe=(()=>{class n extends DE{constructor(e,i,r,o,s){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=s,this._document=De(Ct),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new K,this._onExit=new K,this._onEnter=new K,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+mRe++,this.attachDomPortal=a=>{this._assertNotAttached();const c=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),c},this._live="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Ln(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),this._exposeToModals()}_exposeToModals(){const e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const i=e.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static{this.\u0275fac=function(i){return new(i||n)(O(Ge),O(ft),O(Vo),O(Oi),O(hT))}}static{this.\u0275dir=_e({type:n,viewQuery:function(i,r){if(1&i&&ni(Vm,7),2&i){let o;gt(o=_t())&&(r._portalOutlet=o.first)}},features:[We]})}}return n})(),gRe=(()=>{class n extends pRe{_afterPortalAttached(){super._afterPortalAttached();const e=this._label.nativeElement,i="mdc-snackbar__label";e.classList.toggle(i,!e.querySelector(`.${i}`))}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(n)))(r||n)}}()}static{this.\u0275cmp=ht({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(1&i&&ni(sRe,7),2&i){let o;gt(o=_t())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(i,r){1&i&&lw("@state.done",function(s){return r.onAnimationEnd(s)}),2&i&&fw("@state",r._animationState)},features:[We],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(H(0,"div",0)(1,"div",1,2)(3,"div",3),Re(4,aRe,0,0,"ng-template",4),j(),et(5,"div"),j()()),2&i&&(ue(5),Sn("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Vm],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[fRe.snackBarState]}})}}return n})(),CK=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[ME,Bm,bc,g9,wn,wn]})}}return n})();const AK=new de("mat-snack-bar-default-options",{providedIn:"root",factory:function _Re(){return new hT}});let bRe=(()=>{class n{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,i,r,o,s,a){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=Fn.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:hT,useValue:i}]}),s=new Rb(this.snackBarContainerComponent,i.viewContainerRef,o),a=e.attach(s);return a.instance.snackBarConfig=i,a.instance}_attach(e,i){const r={...new hT,...this._defaultConfig,...i},o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new tF(s,o);if(e instanceof rr){const c=new SE(e,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{const c=this._createInjector(r,a),l=new Rb(e,void 0,c),d=s.attachComponentPortal(l);a.instance=d.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(ri(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new MM;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,s="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,a=!s&&"center"!==e.horizontalPosition;return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return Fn.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:tF,useValue:i},{provide:TK,useValue:e.data}]})}static{this.\u0275fac=function(i){return new(i||n)(Y(Mc),Y(YW),Y(Fn),Y(NM),Y(n,12),Y(AK))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})(),vRe=(()=>{class n extends bRe{constructor(e,i,r,o,s,a){super(e,i,r,o,s,a),this.simpleSnackBarComponent=hRe,this.snackBarContainerComponent=gRe,this.handsetCssClass="mat-mdc-snack-bar-handset"}static{this.\u0275fac=function(i){return new(i||n)(Y(Mc),Y(YW),Y(Fn),Y(NM),Y(n,12),Y(AK))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:CK})}}return n})(),fT=(()=>{class n{constructor(e,i){this.dialog=e,this.snackBar=i}canActivate(){return this.dialog.open(rRe,{width:"300px",disableClose:!0}).afterClosed().pipe(ke(i=>"cachica2025"===i?M(!0):(null!==i&&this.snackBar.open("Contrase\xf1a incorrecta","Cerrar",{duration:3e3,panelClass:["snackbar-error","snackbar-center"]}),M(!1))))}static{this.\u0275fac=function(i){return new(i||n)(Y(Lb),Y(vRe))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const kK=()=>(n=>jn(YO,me(t=>t&&n||!0)))(["/home"]),wRe=[{path:"",pathMatch:"full",redirectTo:"/home"},{path:"home",component:ZEe,...XO(()=>(n=>jn(YO,me(t=>t||n)))(["/login"]))},{path:"login",component:HIe,...XO(kK)},{path:"register",component:WIe,...XO(kK)},{path:"admin",component:ZIe,canActivate:[fT]},{path:"stadistic",component:wDe,canActivate:[fT]},{path:"balance",component:EDe,canActivate:[fT]},{path:"logs",component:iRe,canActivate:[fT]}];let xRe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[N4.forRoot(wRe),N4]})}}return n})();function SK(n){return new he(3e3,!1)}function gd(n){switch(n.length){case 0:return new Fb;case 1:return n[0];default:return new wq(n)}}function DK(n,t,e=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(t.forEach(c=>{const l=c.get("offset"),d=l==s,u=d&&a||new Map;c.forEach((p,b)=>{let v=b,w=p;if("offset"!==b)switch(v=n.normalizePropertyName(v,r),w){case"!":w=e.get(b);break;case Pc:w=i.get(b);break;default:w=n.normalizeStyleValue(b,v,w,r)}u.set(v,w)}),d||o.push(u),a=u,s=l}),r.length)throw function qRe(n){return new he(3502,!1)}();return o}function nF(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&iF(e,"start",n)));break;case"done":n.onDone(()=>i(e&&iF(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&iF(e,"destroy",n)))}}function iF(n,t,e){const o=rF(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function rF(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function ms(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function RK(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const iMe=(()=>typeof document>"u"?null:document.documentElement)();function oF(n){const t=n.parentNode||n.host||null;return t===iMe?null:t}let uh=null,MK=!1;function PK(n,t){for(;t;){if(t===n)return!0;t=oF(t)}return!1}function OK(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let NK=(()=>{class n{validateStyleProperty(e){return function oMe(n){uh||(uh=function sMe(){return typeof document<"u"?document.body:null}()||{},MK=!!uh.style&&"WebkitAppearance"in uh.style);let t=!0;return uh.style&&!function rMe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in uh.style,!t&&MK&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in uh.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return PK(e,i)}getParentElement(e){return oF(e)}query(e,i,r){return OK(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],c){return new Fb(r,o)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})(),sF=(()=>{class n{static{this.NOOP=new NK}}return n})();const aMe=1e3,aF="ng-enter",mT="ng-leave",pT="ng-trigger",gT=".ng-trigger",LK="ng-animating",cF=".ng-animating";function el(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:lF(parseFloat(t[1]),t[2])}function lF(n,t){return"s"===t?n*aMe:n}function _T(n,t,e){return n.hasOwnProperty("duration")?n:function lMe(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(SK()),{duration:0,delay:0,easing:""};r=lF(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=lF(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else r=n;if(!e){let a=!1,c=t.length;r<0&&(t.push(function ERe(){return new he(3100,!1)}()),a=!0),o<0&&(t.push(function IRe(){return new he(3101,!1)}()),a=!0),a&&t.splice(c,0,SK())}return{duration:r,delay:o,easing:s}}(n,t,e)}function Wv(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function VK(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function _d(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Ka(n,t,e){t.forEach((i,r)=>{const o=uF(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function hh(n,t){t.forEach((e,i)=>{const r=uF(i);n.style[r]=""})}function qv(n){return Array.isArray(n)?1==n.length?n[0]:yq(n):n}const dF=new RegExp("{{\\s*(.+?)\\s*}}","g");function UK(n){let t=[];if("string"==typeof n){let e;for(;e=dF.exec(n);)t.push(e[1]);dF.lastIndex=0}return t}function Gv(n,t,e){const i=n.toString(),r=i.replace(dF,(o,s)=>{let a=t[s];return null==a&&(e.push(function CRe(n){return new he(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function bT(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const hMe=/-+([a-z0-9])/g;function uF(n){return n.replace(hMe,(...t)=>t[1].toUpperCase())}function ps(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function ARe(n){return new he(3004,!1)}()}}function jK(n,t){return window.getComputedStyle(n)[t]}const vT="*";function pMe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function gMe(n,t,e){if(":"==n[0]){const c=function _Me(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function jRe(n){return new he(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof c)return void t.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function URe(n){return new he(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push(zK(r,s));"<"==o[0]&&!(r==vT&&s==vT)&&t.push(zK(s,r))}(i,e,t)):e.push(n),e}const yT=new Set(["true","1"]),wT=new Set(["false","0"]);function zK(n,t){const e=yT.has(n)||wT.has(n),i=yT.has(t)||wT.has(t);return(r,o)=>{let s=n==vT||n==r,a=t==vT||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?yT.has(n):wT.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?yT.has(t):wT.has(t)),s&&a}}const bMe=new RegExp("s*:selfs*,?","g");function hF(n,t,e,i){return new vMe(n).build(t,e,i)}class vMe{constructor(t){this._driver=t}build(t,e,i){const r=new xMe(e);return this._resetContextStyleTimingState(r),ps(this,qv(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function SRe(){return new he(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,e))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,e);i+=c.queryCount,r+=c.depCount,s.push(c)}else e.errors.push(function DRe(){return new he(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{UK(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&(bT(o.values()),e.errors.push(function RRe(n,t){return new he(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ps(this,qv(t.animation),e);return{type:1,matchers:pMe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:fh(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ps(this,i,e)),options:fh(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=ps(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:fh(t.options)}}visitAnimate(t,e){const i=function IMe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return fF(_T(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=fF(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=_T(e,t);return fF(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:cr({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const l={};i.easing&&(l.easing=i.easing),s=cr(l)}e.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,e);c.isEmptyStep=a,r=c}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Pc?i.push(a):e.errors.push(new he(3002,!1)):i.push(VK(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=e.collectedStyles.get(e.currentQuerySelector),d=l.get(c);let u=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push(function PRe(n,t,e,i,r){return new he(3010,!1)}()),u=!1),o=d.startTime),u&&l.set(c,{startTime:o,endTime:r}),e.options&&function uMe(n,t,e){const i=t.params||{},r=UK(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function TRe(n){return new he(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function ORe(){return new he(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,l=0;const d=t.steps.map(P=>{const S=this._makeStyleAst(P,e);let B=null!=S.offset?S.offset:function EMe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(S.styles),$=0;return null!=B&&(o++,$=S.offset=B),c=c||$<0||$>1,a=a||$<l,l=$,s.push($),S});c&&e.errors.push(function NRe(){return new he(3012,!1)}()),a&&e.errors.push(function FRe(){return new he(3200,!1)}());const u=t.steps.length;let p=0;o>0&&o<u?e.errors.push(function LRe(){return new he(3202,!1)}()):0==o&&(p=1/(u-1));const b=u-1,v=e.currentTime,w=e.currentAnimateTimings,x=w.duration;return d.forEach((P,S)=>{const B=p>0?S==b?1:p*S:s[S],$=B*x;e.currentTime=v+w.delay+$,w.duration=$,this._validateStyleAst(P,e),P.offset=B,i.styles.push(P)}),i}visitReference(t,e){return{type:8,animation:ps(this,qv(t.animation),e),options:fh(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:fh(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:fh(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function yMe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(bMe,"")),n=n.replace(/@\*/g,gT).replace(/@\w+/g,e=>gT+"-"+e.slice(1)).replace(/:animating/g,cF),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,ms(e.collectedStyles,e.currentQuerySelector,new Map);const a=ps(this,qv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:fh(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function VRe(){return new he(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:_T(t.timings,e.errors,!0);return{type:12,animation:ps(this,qv(t.animation),e),timings:i,options:null}}}class xMe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function fh(n){return n?(n=Wv(n)).params&&(n.params=function wMe(n){return n?Wv(n):null}(n.params)):n={},n}function fF(n,t,e){return{duration:n,delay:t,easing:e}}function mF(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class xT{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const AMe=new RegExp(":enter","g"),SMe=new RegExp(":leave","g");function pF(n,t,e,i,r,o=new Map,s=new Map,a,c,l=[]){return(new DMe).buildKeyframes(n,t,e,i,r,o,s,a,c,l)}class DMe{buildKeyframes(t,e,i,r,o,s,a,c,l,d=[]){l=l||new xT;const u=new gF(t,e,l,r,o,d,[]);u.options=c;const p=c.delay?el(c.delay):0;u.currentTimeline.delayNextStep(p),u.currentTimeline.setStyles([s],null,u.errors,c),ps(this,i,u);const b=u.timelines.filter(v=>v.containsAnimation());if(b.length&&a.size){let v;for(let w=b.length-1;w>=0;w--){const x=b[w];if(x.element===e){v=x;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,u.errors,c)}return b.length?b.map(v=>v.buildKeyframes()):[mF(e,[],[],[],0,p,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:el(Gv(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?el(i.duration):null,a=null!=i.delay?el(i.delay):null;return 0!==s&&t.forEach(c=>{const l=e.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),ps(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ET);const s=el(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>ps(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?el(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),ps(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return _T(e.params?Gv(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?el(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ET);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{e.currentQueryIndex=d;const u=e.createSubContext(t.options,l);o&&u.delayNextStep(o),l===e.element&&(c=u.currentTimeline),ps(this,t.animation,u),u.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,u.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let c=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const d=e.currentTimeline;c&&d.delayNextStep(c);const u=d.currentTime;ps(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-u+(r.startTime-i.currentTimeline.startTime)}}const ET={};class gF{constructor(t,e,i,r,o,s,a,c){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ET,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new IT(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=el(i.duration)),null!=i.delay&&(r.delay=el(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Gv(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new gF(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=ET,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new RMe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(AMe,"."+this._enterClassName)).replace(SMe,"."+this._leaveClassName);let l=this._driver.query(this.element,t,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&0==a.length&&s.push(function BRe(n){return new he(3014,!1)}()),a}}class IT{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new IT(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Pc),this._currentKeyframe.set(e,Pc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function MMe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Pc)}else _d(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,c]of s){const l=Gv(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Pc),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=_d(a,new Map,this._backFill);l.forEach((d,u)=>{"!"===d?t.add(u):d===Pc&&e.add(u)}),i||l.set("offset",c/this.duration),r.push(l)});const o=t.size?bT(t.values()):[],s=e.size?bT(e.values()):[];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return mF(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class RMe extends IT{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,c=_d(t[0]);c.set("offset",0),o.push(c);const l=_d(t[0]);l.set("offset",qK(a)),o.push(l);const d=t.length-1;for(let u=1;u<=d;u++){let p=_d(t[u]);const b=p.get("offset");p.set("offset",qK((e+b*i)/s)),o.push(p)}i=s,e=0,r="",t=o}return mF(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function qK(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class _F{}const PMe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class OMe extends _F{normalizePropertyName(t,e){return uF(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(PMe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function kRe(n,t){return new he(3005,!1)}())}return s+o}}function GK(n,t,e,i,r,o,s,a,c,l,d,u,p){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:u,errors:p}}const bF={};class $K{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function NMe(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,c,l,d){const u=[],p=this.ast.options&&this.ast.options.params||bF,v=this.buildStyles(i,a&&a.params||bF,u),w=c&&c.params||bF,x=this.buildStyles(r,w,u),P=new Set,S=new Map,B=new Map,$="void"===r,J={params:FMe(w,p),delay:this.ast.options?.delay},te=d?[]:pF(t,e,this.ast.animation,o,s,v,x,J,l,u);let V=0;if(te.forEach(L=>{V=Math.max(L.duration+L.delay,V)}),u.length)return GK(e,this._triggerName,i,r,$,v,x,[],[],S,B,V,u);te.forEach(L=>{const q=L.element,Q=ms(S,q,new Set);L.preStyleProps.forEach(W=>Q.add(W));const Z=ms(B,q,new Set);L.postStyleProps.forEach(W=>Z.add(W)),q!==e&&P.add(q)});const R=bT(P.values());return GK(e,this._triggerName,i,r,$,v,x,te,R,S,B,V)}}function FMe(n,t){const e=Wv(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class LMe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Wv(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Gv(s,r,e));const c=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,c,s,e),i.set(a,s)})}),i}}class BMe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new LMe(r.style,r.options&&r.options.params||{},i))}),KK(this.states,"true","1"),KK(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new $K(t,r,this.states))}),this.fallbackTransition=function UMe(n,t,e){return new $K(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function KK(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const jMe=new xT;class zMe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=hF(this._driver,e,i,[]);if(i.length)throw function GRe(n){return new he(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=DK(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=pF(this._driver,e,o,aF,mT,new Map,new Map,i,jMe,r),s.forEach(d=>{const u=ms(a,d.element,new Map);d.postStyleProps.forEach(p=>u.set(p,null))})):(r.push(function $Re(){return new he(3300,!1)}()),s=[]),r.length)throw function KRe(n){return new he(3504,!1)}();a.forEach((d,u)=>{d.forEach((p,b)=>{d.set(b,this._driver.computeStyle(u,b,Pc))})});const l=gd(s.map(d=>{const u=a.get(d.element);return this._buildPlayer(d,new Map,u)}));return this._playersById.set(t,l),l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function QRe(n){return new he(3301,!1)}();return e}listen(t,e,i,r){const o=rF(e,"","","");return nF(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const QK="ng-animate-queued",vF="ng-animate-disabled",$Me=[],YK={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},KMe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},da="__ng_removed";class yF{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function JMe(n){return n??null}(i?t.value:t),i){const o=Wv(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const $v="void",wF=new yF($v);class QMe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,js(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function YRe(n,t){return new he(3302,!1)}();if(null==i||0==i.length)throw function XRe(n){return new he(3303,!1)}();if(!function ZMe(n){return"start"==n||"done"==n}(i))throw function JRe(n,t){return new he(3400,!1)}();const o=ms(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=ms(this._engine.statesByElement,t,new Map);return a.has(e)||(js(t,pT),js(t,pT+"-"+e),a.set(e,wF)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function ZRe(n){return new he(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new xF(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(js(t,pT),js(t,pT+"-"+e),this._engine.statesByElement.set(t,a=new Map));let c=a.get(e);const l=new yF(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(e,l),c||(c=wF),l.value!==$v&&c.value===l.value){if(!function n1e(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(c.params,l.params)){const w=[],x=o.matchStyles(c.value,c.params,w),P=o.matchStyles(l.value,l.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{hh(t,x),Ka(t,P)})}return}const p=ms(this._engine.playersByElement,t,[]);p.forEach(w=>{w.namespaceId==this.id&&w.triggerName==e&&w.queued&&w.destroy()});let b=o.matchTransition(c.value,l.value,t,l.params),v=!1;if(!b){if(!r)return;b=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:b,fromState:c,toState:l,player:s,isFallbackTransition:v}),v||(js(t,QK),s.onStart(()=>{fp(t,QK)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);const x=this._engine.playersByElement.get(t);if(x){let P=x.indexOf(s);P>=0&&x.splice(P,1)}}),this.players.push(s),p.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,gT,!0);i.forEach(r=>{if(r[da])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const d=this.trigger(t,l,$v,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&gd(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=i.get(s)||wF,d=new yF($v),u=new xF(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:c,fromState:l,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[da];(!o||o===YK)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){js(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=rF(o,i.triggerName,i.fromState.value,i.toState.value);c._data=t,nF(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class YMe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new QMe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const c=r.get(a);if(c){const l=i.indexOf(c);i.splice(l+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(TT(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!TT(e))return;const o=e[da];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),js(t,vF)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),fp(t,vF))}removeNode(t,e,i){if(TT(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[da]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return TT(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,gT,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,cF,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return gd(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[da];if(e&&e.setForRemoval){if(t[da]=YK,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(vF)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)js(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?gd(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function eMe(n){return new he(3402,!1)}()}_flushAnimations(t,e){const i=new xT,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(Pe=>{d.add(Pe);const Ue=this.driver.query(Pe,".ng-animate-queued",!0);for(let Qe=0;Qe<Ue.length;Qe++)d.add(Ue[Qe])});const u=this.bodyNode,p=Array.from(this.statesByElement.keys()),b=ZK(p,this.collectedEnterElements),v=new Map;let w=0;b.forEach((Pe,Ue)=>{const Qe=aF+w++;v.set(Ue,Qe),Pe.forEach(lt=>js(lt,Qe))});const x=[],P=new Set,S=new Set;for(let Pe=0;Pe<this.collectedLeaveElements.length;Pe++){const Ue=this.collectedLeaveElements[Pe],Qe=Ue[da];Qe&&Qe.setForRemoval&&(x.push(Ue),P.add(Ue),Qe.hasAnimation?this.driver.query(Ue,".ng-star-inserted",!0).forEach(lt=>P.add(lt)):S.add(Ue))}const B=new Map,$=ZK(p,Array.from(P));$.forEach((Pe,Ue)=>{const Qe=mT+w++;B.set(Ue,Qe),Pe.forEach(lt=>js(lt,Qe))}),t.push(()=>{b.forEach((Pe,Ue)=>{const Qe=v.get(Ue);Pe.forEach(lt=>fp(lt,Qe))}),$.forEach((Pe,Ue)=>{const Qe=B.get(Ue);Pe.forEach(lt=>fp(lt,Qe))}),x.forEach(Pe=>{this.processLeaveNode(Pe)})});const J=[],te=[];for(let Pe=this._namespaceList.length-1;Pe>=0;Pe--)this._namespaceList[Pe].drainQueuedTransitions(e).forEach(Qe=>{const lt=Qe.player,Bn=Qe.element;if(J.push(lt),this.collectedEnterElements.length){const zi=Bn[da];if(zi&&zi.setForMove){if(zi.previousTriggersValues&&zi.previousTriggersValues.has(Qe.triggerName)){const tl=zi.previousTriggersValues.get(Qe.triggerName),qo=this.statesByElement.get(Qe.element);if(qo&&qo.has(Qe.triggerName)){const nl=qo.get(Qe.triggerName);nl.value=tl,qo.set(Qe.triggerName,nl)}}return void lt.destroy()}}const zr=!u||!this.driver.containsElement(u,Bn),Pn=B.get(Bn),Cn=v.get(Bn),bn=this._buildInstruction(Qe,i,Cn,Pn,zr);if(bn.errors&&bn.errors.length)return void te.push(bn);if(zr)return lt.onStart(()=>hh(Bn,bn.fromStyles)),lt.onDestroy(()=>Ka(Bn,bn.toStyles)),void r.push(lt);if(Qe.isFallbackTransition)return lt.onStart(()=>hh(Bn,bn.fromStyles)),lt.onDestroy(()=>Ka(Bn,bn.toStyles)),void r.push(lt);const Wo=[];bn.timelines.forEach(zi=>{zi.stretchStartingKeyframe=!0,this.disabledNodes.has(zi.element)||Wo.push(zi)}),bn.timelines=Wo,i.append(Bn,bn.timelines),s.push({instruction:bn,player:lt,element:Bn}),bn.queriedElements.forEach(zi=>ms(a,zi,[]).push(lt)),bn.preStyleProps.forEach((zi,tl)=>{if(zi.size){let qo=c.get(tl);qo||c.set(tl,qo=new Set),zi.forEach((nl,vd)=>qo.add(vd))}}),bn.postStyleProps.forEach((zi,tl)=>{let qo=l.get(tl);qo||l.set(tl,qo=new Set),zi.forEach((nl,vd)=>qo.add(vd))})});if(te.length){const Pe=[];te.forEach(Ue=>{Pe.push(function tMe(n,t){return new he(3505,!1)}())}),J.forEach(Ue=>Ue.destroy()),this.reportError(Pe)}const V=new Map,R=new Map;s.forEach(Pe=>{const Ue=Pe.element;i.has(Ue)&&(R.set(Ue,Ue),this._beforeAnimationBuild(Pe.player.namespaceId,Pe.instruction,V))}),r.forEach(Pe=>{const Ue=Pe.element;this._getPreviousPlayers(Ue,!1,Pe.namespaceId,Pe.triggerName,null).forEach(lt=>{ms(V,Ue,[]).push(lt),lt.destroy()})});const L=x.filter(Pe=>tQ(Pe,c,l)),q=new Map;JK(q,this.driver,S,l,Pc).forEach(Pe=>{tQ(Pe,c,l)&&L.push(Pe)});const Z=new Map;b.forEach((Pe,Ue)=>{JK(Z,this.driver,new Set(Pe),c,"!")}),L.forEach(Pe=>{const Ue=q.get(Pe),Qe=Z.get(Pe);q.set(Pe,new Map([...Ue?.entries()??[],...Qe?.entries()??[]]))});const W=[],ai=[],en={};s.forEach(Pe=>{const{element:Ue,player:Qe,instruction:lt}=Pe;if(i.has(Ue)){if(d.has(Ue))return Qe.onDestroy(()=>Ka(Ue,lt.toStyles)),Qe.disabled=!0,Qe.overrideTotalTime(lt.totalTime),void r.push(Qe);let Bn=en;if(R.size>1){let Pn=Ue;const Cn=[];for(;Pn=Pn.parentNode;){const bn=R.get(Pn);if(bn){Bn=bn;break}Cn.push(Pn)}Cn.forEach(bn=>R.set(bn,Bn))}const zr=this._buildAnimation(Qe.namespaceId,lt,V,o,Z,q);if(Qe.setRealPlayer(zr),Bn===en)W.push(Qe);else{const Pn=this.playersByElement.get(Bn);Pn&&Pn.length&&(Qe.parentPlayer=gd(Pn)),r.push(Qe)}}else hh(Ue,lt.fromStyles),Qe.onDestroy(()=>Ka(Ue,lt.toStyles)),ai.push(Qe),d.has(Ue)&&r.push(Qe)}),ai.forEach(Pe=>{const Ue=o.get(Pe.element);if(Ue&&Ue.length){const Qe=gd(Ue);Pe.setRealPlayer(Qe)}}),r.forEach(Pe=>{Pe.parentPlayer?Pe.syncPlayerEvents(Pe.parentPlayer):Pe.destroy()});for(let Pe=0;Pe<x.length;Pe++){const Ue=x[Pe],Qe=Ue[da];if(fp(Ue,mT),Qe&&Qe.hasAnimation)continue;let lt=[];if(a.size){let zr=a.get(Ue);zr&&zr.length&&lt.push(...zr);let Pn=this.driver.query(Ue,cF,!0);for(let Cn=0;Cn<Pn.length;Cn++){let bn=a.get(Pn[Cn]);bn&&bn.length&&lt.push(...bn)}}const Bn=lt.filter(zr=>!zr.destroyed);Bn.length?e1e(this,Ue,Bn):this.processLeaveNode(Ue)}return x.length=0,W.forEach(Pe=>{this.players.push(Pe),Pe.onDone(()=>{Pe.destroy();const Ue=this.players.indexOf(Pe);this.players.splice(Ue,1)}),Pe.play()}),W}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const c=!o||o==$v;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const c of e.timelines){const l=c.element,d=l!==o,u=ms(i,l,[]);this._getPreviousPlayers(l,d,s,a,e.toState).forEach(b=>{const v=b.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),b.destroy(),u.push(b)})}hh(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,c=e.element,l=[],d=new Set,u=new Set,p=e.timelines.map(v=>{const w=v.element;d.add(w);const x=w[da];if(x&&x.removedBeforeQueried)return new Fb(v.duration,v.delay);const P=w!==c,S=function t1e(n){const t=[];return eQ(n,t),t}((i.get(w)||$Me).map(V=>V.getRealPlayer())).filter(V=>!!V.element&&V.element===w),B=o.get(w),$=s.get(w),J=DK(this._normalizer,v.keyframes,B,$),te=this._buildPlayer(v,J,S);if(v.subTimeline&&r&&u.add(w),P){const V=new xF(t,a,w);V.setRealPlayer(te),l.push(V)}return te});l.forEach(v=>{ms(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function XMe(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,v.element,v))}),d.forEach(v=>js(v,LK));const b=gd(p);return b.onDestroy(()=>{d.forEach(v=>fp(v,LK)),Ka(c,e.toStyles)}),u.forEach(v=>{ms(r,v,[]).push(b)}),b}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Fb(t.duration,t.delay)}}class xF{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Fb,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>nF(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ms(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function TT(n){return n&&1===n.nodeType}function XK(n,t){const e=n.style.display;return n.style.display=t??"none",e}function JK(n,t,e,i,r){const o=[];e.forEach(c=>o.push(XK(c)));const s=[];i.forEach((c,l)=>{const d=new Map;c.forEach(u=>{const p=t.computeStyle(l,u,r);d.set(u,p),(!p||0==p.length)&&(l[da]=KMe,s.push(l))}),n.set(l,d)});let a=0;return e.forEach(c=>XK(c,o[a++])),s}function ZK(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=e.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return t.forEach(a=>{const c=s(a);1!==c&&e.get(c).push(a)}),e}function js(n,t){n.classList?.add(t)}function fp(n,t){n.classList?.remove(t)}function e1e(n,t,e){gd(e).onDone(()=>n.processLeaveNode(t))}function eQ(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof wq?eQ(i.players,t):t.push(i)}}function tQ(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class CT{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new YMe(t,e,i),this._timelineEngine=new zMe(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],d=hF(this._driver,o,c,[]);if(c.length)throw function WRe(n,t){return new he(3404,!1)}();a=function VMe(n,t,e){return new BMe(n,t,e)}(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=RK(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=RK(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let r1e=(()=>{class n{static{this.initialStylesByElement=new WeakMap}constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ka(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ka(this._element,this._initialStyles),this._endStyles&&(Ka(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(hh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hh(this._element,this._endStyles),this._endStyles=null),Ka(this._element,this._initialStyles),this._state=3)}}return n})();function EF(n){let t=null;return n.forEach((e,i)=>{(function o1e(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class nQ{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:jK(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class s1e{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return PK(t,e)}getParentElement(t){return oF(t)}query(t,e,i){return OK(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,d=s.filter(b=>b instanceof nQ);(function fMe(n,t){return 0===n||0===t})(i,r)&&d.forEach(b=>{b.currentSnapshot.forEach((v,w)=>l.set(w,v))});let u=function dMe(n){return n.length?n[0]instanceof Map?n:n.map(t=>VK(t)):[]}(e).map(b=>_d(b));u=function mMe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,jK(n,a)))}}return t}(t,u,l);const p=function i1e(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=EF(t[0]),t.length>1&&(i=EF(t[t.length-1]))):t instanceof Map&&(e=EF(t)),e||i?new r1e(n,e,i):null}(t,u);return new nQ(t,u,c,p)}}let a1e=(()=>{class n extends bq{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:dr.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?yq(e):e;return iQ(this._renderer,null,i,"register",[r]),new c1e(i,this._renderer)}static{this.\u0275fac=function(i){return new(i||n)(Y(Vg),Y(Ct))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();class c1e extends i_e{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new l1e(this._id,t,e||{},this._renderer)}}class l1e{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return iQ(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function iQ(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const rQ="@.disabled";let d1e=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(o);return d||(d=new oQ("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,d)),d}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const c=d=>{Array.isArray(d)?d.forEach(c):this.engine.registerTrigger(s,a,e,d.name,d)};return i.data.animation.forEach(c),new u1e(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(i){return new(i||n)(Y(Vg),Y(CT),Y(Ge))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();class oQ{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==rQ?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class u1e extends oQ{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==rQ?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function h1e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function f1e(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let m1e=(()=>{class n extends CT{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(Y(Ct),Y(sF),Y(_F),Y(hc))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();const sQ=[{provide:bq,useClass:a1e},{provide:_F,useFactory:function p1e(){return new OMe}},{provide:CT,useClass:m1e},{provide:Vg,useFactory:function g1e(n,t,e){return new d1e(n,t,e)},deps:[lS,CT,Ge]}],IF=[{provide:sF,useFactory:()=>new s1e},{provide:Jr,useValue:"BrowserAnimations"},...sQ],aQ=[{provide:sF,useClass:NK},{provide:Jr,useValue:"NoopAnimations"},...sQ];let _1e=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?aQ:IF}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({providers:IF,imports:[Iz]})}}return n})();const b1e=["*",[["mat-toolbar-row"]]],v1e=["*","mat-toolbar-row"],y1e=LE(class{constructor(n){this._elementRef=n}});let w1e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}}return n})(),x1e=(()=>{class n extends y1e{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static{this.\u0275fac=function(i){return new(i||n)(O(ft),O(Oi),O(Ct))}}static{this.\u0275cmp=ht({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&$n(o,w1e,5),2&i){let s;gt(s=_t())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&Xt("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[We],ngContentSelectors:v1e,decls:2,vars:0,template:function(i,r){1&i&&(nr(b1e),Tt(0),Tt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})(),E1e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[wn,wn]})}}return n})();const cQ=["*"],I1e=["content"];function T1e(n,t){if(1&n){const e=Li();H(0,"div",2),Me("click",function(){return Pt(e),Ot(Oe()._onBackdropClicked())}),j()}2&n&&Xt("mat-drawer-shown",Oe()._isShowingBackdrop())}function C1e(n,t){1&n&&(H(0,"mat-drawer-content"),Tt(1,2),j())}const A1e=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],k1e=["mat-drawer","mat-drawer-content","*"],S1e={transformDrawer:ed("transform",[Os("open, open-instant",cr({transform:"none",visibility:"visible"})),Os("void",cr({"box-shadow":"none",visibility:"hidden"})),Ns("void => open-instant",ca("0ms")),Ns("void <=> open, open-instant => void",ca("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},D1e=new de("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function R1e(){return!1}}),lQ=new de("MAT_DRAWER_CONTAINER");let kT=(()=>{class n extends kM{constructor(e,i,r,o,s){super(r,o,s),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static{this.\u0275fac=function(i){return new(i||n)(O(Vo),O(dn(()=>uQ)),O(ft),O(AM),O(Ge))}}static{this.\u0275cmp=ht({type:n,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,r){2&i&&El("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[mt([{provide:kM,useExisting:n}]),We],ngContentSelectors:cQ,decls:1,vars:0,template:function(i,r){1&i&&(nr(),Tt(0))},encapsulation:2,changeDetection:0})}}return n})(),dQ=(()=>{class n{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=cn(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=cn(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(cn(e))}constructor(e,i,r,o,s,a,c,l){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=s,this._interactivityChecker=a,this._doc=c,this._container=l,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new K,this._animationEnd=new K,this._animationState="void",this.openedChange=new jt(!0),this._openedStream=this.openedChange.pipe(Zt(d=>d),me(()=>{})),this.openedStart=this._animationStarted.pipe(Zt(d=>d.fromState!==d.toState&&0===d.toState.indexOf("open")),Qw(void 0)),this._closedStream=this.openedChange.pipe(Zt(d=>!d),me(()=>{})),this.closedStart=this._animationStarted.pipe(Zt(d=>d.fromState!==d.toState&&"void"===d.toState),Qw(void 0)),this._destroyed=new K,this.onPositionChanged=new jt,this._modeChanged=new K,this.openedChange.subscribe(d=>{d?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Vu(this._elementRef.nativeElement,"keydown").pipe(Zt(d=>27===d.keyCode&&!this.disableClose&&!Um(d)),ri(this._destroyed)).subscribe(d=>this._ngZone.run(()=>{this.close(),d.stopPropagation(),d.preventDefault()}))}),this._animationEnd.pipe(Ze((d,u)=>d.fromState===u.fromState&&d.toState===u.toState)).subscribe(d=>{const{fromState:u,toState:p}=d;(0===p.indexOf("open")&&"void"===u||"void"===p&&0===u.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Ln(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}static{this.\u0275fac=function(i){return new(i||n)(O(ft),O(OE),O(zm),O(Oi),O(Ge),O(Pb),O(Ct,8),O(lQ,8))}}static{this.\u0275cmp=ht({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(1&i&&ni(I1e,5),2&i){let o;gt(o=_t())&&(r._content=o.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){1&i&&lw("@transform.start",function(s){return r._animationStarted.next(s)})("@transform.done",function(s){return r._animationEnd.next(s)}),2&i&&(Sn("align",null),fw("@transform",r._animationState),Xt("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:cQ,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(nr(),H(0,"div",0,1),Tt(2),j())},dependencies:[kM],encapsulation:2,data:{animation:[S1e.transformDrawer]},changeDetection:0})}}return n})(),uQ=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=cn(e)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=null==e?null:cn(e)}get scrollable(){return this._userContent||this._content}constructor(e,i,r,o,s,a=!1,c){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=c,this._drawers=new au,this.backdropClick=new jt,this._destroyed=new K,this._doCheckSubject=new K,this._contentMargins={left:null,right:null},this._contentMarginChanges=new K,e&&e.change.pipe(ri(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(ri(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}ngAfterContentInit(){this._allDrawers.changes.pipe(oa(this._allDrawers),ri(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(oa(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(PE(10),ri(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Zt(i=>i.fromState!==i.toState),ri(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(ri(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(ri(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Ln(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(ri(E(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return null!=e&&e.opened}_drawerHasBackdrop(e){return null==this._backdropOverride?!!e&&"side"!==e.mode:this._backdropOverride}static{this.\u0275fac=function(i){return new(i||n)(O(Uu,8),O(ft),O(Ge),O(Vo),O(kE),O(D1e),O(Jr,8))}}static{this.\u0275cmp=ht({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,o){if(1&i&&($n(o,kT,5),$n(o,dQ,5)),2&i){let s;gt(s=_t())&&(r._content=s.first),gt(s=_t())&&(r._allDrawers=s)}},viewQuery:function(i,r){if(1&i&&ni(kT,5),2&i){let o;gt(o=_t())&&(r._userContent=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){2&i&&Xt("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[mt([{provide:lQ,useExisting:n}])],ngContentSelectors:k1e,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(nr(A1e),Re(0,T1e,1,2,"div",0),Tt(1),Tt(2,1),Re(3,C1e,2,0,"mat-drawer-content",1)),2&i&&(ye("ngIf",r.hasBackdrop),ue(3),ye("ngIf",!r._content))},dependencies:[Rs,kT],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}}return n})(),M1e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[bc,wn,Db,Db,wn]})}}return n})(),mQ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({})}}return n})(),q1e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({imports:[wn,BE,mQ,wn,mQ]})}}return n})();const Y1e={provide:new de("mat-select-scroll-strategy"),deps:[Mc],useFactory:function Q1e(n){return()=>n.scrollStrategies.reposition()}};let X1e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({providers:[Y1e],imports:[bc,ME,mq,wn,Db,CI,mq,wn]})}}return n})();const J1e=["sidenav"];function Z1e(n,t){1&n&&(H(0,"button",12),et(1,"mat-icon",13),se(2," Administrar "),j())}function ePe(n,t){1&n&&(H(0,"button",14),et(1,"mat-icon",15),se(2," Balance "),j())}function tPe(n,t){1&n&&(H(0,"button",16),et(1,"mat-icon",17),se(2," Logs "),j())}function nPe(n,t){if(1&n){const e=Li();H(0,"button",18),Me("click",function(){return Pt(e),Ot(Oe(2).logout())}),se(1,"Cerrar sesi\xf3n"),j()}}function iPe(n,t){if(1&n&&(H(0,"mat-drawer",3,4)(2,"h2",5),se(3,"Bienvenido"),j(),H(4,"button",6),et(5,"mat-icon",7),se(6," Inicio "),j(),Re(7,Z1e,3,0,"button",8),Fo(8,"async"),Re(9,ePe,3,0,"button",9),Fo(10,"async"),Re(11,tPe,3,0,"button",10),Fo(12,"async"),Re(13,nPe,2,0,"button",11),j()),2&n){const e=Oe();ue(7),ye("ngIf","admin"===os(8,4,e.role$)),ue(2),ye("ngIf","admin"===os(10,6,e.role$)),ue(2),ye("ngIf","admin"===os(12,8,e.role$)),ue(2),ye("ngIf",e.isLoggedIn)}}function rPe(n,t){if(1&n){const e=Li();H(0,"div")(1,"mat-toolbar",19)(2,"div",20)(3,"button",21),Me("click",function(){return Pt(e),Ot(Oe().sidenav.toggle())}),H(4,"mat-icon",22),se(5,"menu"),j()(),H(6,"span",22),se(7,"Nuovo Caffe"),j(),et(8,"img",23),j(),H(9,"div",24),et(10,"mat-icon",25),H(11,"span",22),se(12),j()()()()}if(2&n){const e=Oe();ue(12),Vi(e.shift)}}let oPe=(()=>{class n{constructor(e,i,r,o){this.datePipe=e,this.userService=i,this.router=r,this.gestionService=o,this.showFiller=!1,this.isLoggedIn=!1,this.tables=[],this.menu=[],this.waiters=[],this.currentDate=this.getFormattedDate(),this.shift=this.getShift(),this.role$=this.userService.getRoleState()}ngOnInit(){this.userService.getAuthState().subscribe(e=>{this.isLoggedIn=!!e})}toggleSidenav(){this.sidenav.toggle()}getFormattedDate(){return this.datePipe.transform(new Date,"dd/MM/yyyy")||""}getShift(){const e=(new Date).getHours();return e>=6&&e<12?"Turno Ma\xf1ana":e>=12&&e<18?"Turno Tarde":"Turno Noche"}logout(){this.userService.logout().then(()=>{this.router.navigate(["/login"])}).catch(e=>console.log(e))}static{this.\u0275fac=function(i){return new(i||n)(O(Uw),O(tp),O(eo),O(aa))}}static{this.\u0275cmp=ht({type:n,selectors:[["app-root"]],viewQuery:function(i,r){if(1&i&&ni(J1e,5),2&i){let o;gt(o=_t())&&(r.sidenav=o.first)}},decls:5,vars:2,consts:[["autosize","",1,"example-container"],["class","example-sidenav d-flex flex-column","mode","side",4,"ngIf"],[4,"ngIf"],["mode","side",1,"example-sidenav","d-flex","flex-column"],["sidenav",""],[2,"color","#aa7e67","font-weight","bold"],["mat-button","","routerLink","/home",2,"color","#aa7e67"],["fontIcon","storefront"],["mat-button","","routerLink","/admin","style","color: #aa7e67;",4,"ngIf"],["mat-button","","routerLink","/balance","style","color: #aa7e67;",4,"ngIf"],["mat-button","","routerLink","/logs","style","color: #aa7e67;",4,"ngIf"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["mat-button","","routerLink","/admin",2,"color","#aa7e67"],["fontIcon","settings"],["mat-button","","routerLink","/balance",2,"color","#aa7e67"],["fontIcon","paid"],["mat-button","","routerLink","/logs",2,"color","#aa7e67"],["fontIcon","visibility_lock"],["mat-flat-button","","color","warn",3,"click"],[1,"custom-toolbar","d-flex","justify-content-between","align-items-center"],[1,"cont-1","d-flex","align-items-center","gap-2"],["mat-icon-button","",3,"click"],[2,"color","#aa7e67"],["mat-card-image","","src","./assets/nuovo-cafe.jpg","alt","table",1,"rounded-circle",2,"width","50px","height","50px"],[1,"cont-2","d-flex","align-items-center",2,"gap","0.5rem","color","#aa7e67"],["fontIcon","schedule",2,"color","#aa7e67"]],template:function(i,r){1&i&&(H(0,"mat-drawer-container",0),Re(1,iPe,14,10,"mat-drawer",1),H(2,"mat-drawer-content"),Re(3,rPe,13,1,"div",2),et(4,"router-outlet"),j()()),2&i&&(ue(1),ye("ngIf",r.isLoggedIn),ue(2),ye("ngIf",r.isLoggedIn))},dependencies:[Rs,DS,$f,bv,Zu,p9,dQ,uQ,kT,Gb,x1e,h_],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;background-color:#f3e498!important;color:#fff!important}[_nghost-%COMP%]{display:block;min-height:100vh;background-color:#f6efcc!important;color:#fff}mat-drawer-container[_ngcontent-%COMP%]{background-color:#f6efcc!important}mat-drawer[_ngcontent-%COMP%]{background-color:#f6efcc!important}mat-drawer-content[_ngcontent-%COMP%]{background-color:#f6efcc!important}.example-container[_ngcontent-%COMP%]{height:100vh}.example-sidenav[_ngcontent-%COMP%]{width:250px;padding:20px}.custom-toolbar[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem;margin-top:0rem;border:solid #aa7e67 1px;border-right:none;border-left:none;border-top:none;background-color:#f6efcc!important}.example-spacer[_ngcontent-%COMP%]{flex:1}.example-sidenav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%;text-align:left;margin-bottom:10px}"]})}}return n})();const bd=new at(Ye),aPe={connector:()=>new K};function pQ(n,t=aPe){const{connector:e}=t;return ee((i,r)=>{const o=e();$t(n(function sPe(n){return new at(t=>n.subscribe(t))}(o))).subscribe(r),r.add(i.subscribe(o))})}function gQ(n,t){return t?e=>Of(t.pipe(Ln(1),function dPe(){return ee((n,t)=>{n.subscribe(pe(t,Ye))})}()),e.pipe(gQ(n))):Wn((e,i)=>$t(n(e,i)).pipe(Ln(1),Qw(e)))}const Kv="Service workers are disabled or not supported by this browser";class ST{constructor(t){if(this.serviceWorker=t,t){const i=Vu(t,"controllerchange").pipe(me(()=>t.controller)),o=Of(Nf(()=>M(t.controller)),i);this.worker=o.pipe(Zt(d=>!!d)),this.registration=this.worker.pipe(ke(()=>t.getRegistration()));const l=Vu(t,"message").pipe(me(d=>d.data)).pipe(Zt(d=>d&&d.type)).pipe(function lPe(n){return n?t=>pQ(n)(t):t=>function cPe(n,t){const e=F(n)?n:()=>n;return F(t)?pQ(t,{connector:e}):i=>new Gw(i,e)}(new K)(t)}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function hPe(n){return Nf(()=>Al(new Error(n)))}(Kv)}postMessage(t,e){return this.worker.pipe(Ln(1),Ii(i=>{i.postMessage({action:t,...e})})).toPromise().then(()=>{})}postMessageWithOperation(t,e,i){const r=this.waitForOperationCompleted(i),o=this.postMessage(t,e);return Promise.all([o,r]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?i=>i.type===t:i=>t.includes(i.type),this.events.pipe(Zt(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(Ln(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(Zt(e=>e.nonce===t),Ln(1),me(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let _Q=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.pushManager=null,this.subscriptionChanges=new K,!e.isEnabled)return this.messages=bd,this.notificationClicks=bd,void(this.subscription=bd);this.messages=this.sw.eventsOfType("PUSH").pipe(me(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(me(r=>r.data)),this.pushManager=this.sw.registration.pipe(me(r=>r.pushManager));const i=this.pushManager.pipe(ke(r=>r.getSubscription()));this.subscription=E(i,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Kv));const i={userVisibleOnly:!0};let r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(r.length));for(let s=0;s<r.length;s++)o[s]=r.charCodeAt(s);return i.applicationServerKey=o,this.pushManager.pipe(ke(s=>s.subscribe(i)),Ln(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Ln(1),ke(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Kv))}decodeBase64(e){return atob(e)}static{this.\u0275fac=function(i){return new(i||n)(Y(ST))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})(),bQ=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=bd,this.available=bd,this.activated=bd,void(this.unrecoverable=bd);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Zt(i=>"VERSION_READY"===i.type),me(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Kv));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Kv));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static{this.\u0275fac=function(i){return new(i||n)(Y(ST))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();const vQ=new de("NGSW_REGISTER_SCRIPT");function fPe(n,t,e,i){return()=>{if(!tS(i)||!("serviceWorker"in navigator)||!1===e.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)r=e.registrationStrategy();else{const[s,...a]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":r=M(null);break;case"registerWithDelay":r=yQ(+a[0]||0);break;case"registerWhenStable":r=a[0]?E(wQ(n),yQ(+a[0])):wQ(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}n.get(Ge).runOutsideAngular(()=>r.pipe(Ln(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function yQ(n){return M(null).pipe(function uPe(n,t=Kf){const e=wW(n,t);return gQ(()=>e)}(n))}function wQ(n){return n.get(hc).isStable.pipe(Zt(e=>e))}function mPe(n,t){return new ST(tS(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class TF{}function pPe(n,t={}){return U0([_Q,bQ,{provide:vQ,useValue:n},{provide:TF,useValue:t},{provide:ST,useFactory:mPe,deps:[TF,Oo]},{provide:ww,useFactory:fPe,deps:[Fn,vQ,TF,Oo],multi:!0}])}let gPe=(()=>{class n{static register(e,i={}){return{ngModule:n,providers:[pPe(e,i)]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n})}static{this.\u0275inj=ut({providers:[_Q,bQ]})}}return n})();const xQ_firebase={apiKey:"AIzaSyBuYr748J1j9TCFcjUpuznXnk_4Jo8pPiQ",authDomain:"nuovo-caffe.firebaseapp.com",projectId:"nuovo-caffe",storageBucket:"nuovo-caffe.appspot.com",messagingSenderId:"1013495355496",appId:"1:1013495355496:web:fdaaf0fb143f3f2c0303dd",measurementId:"G-L1Q71BEWLK"};let _Pe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ct({type:n,bootstrap:[oPe]})}static{this.\u0275inj=ut({providers:[Uw],imports:[Iz,xRe,_1e,lbe,dbe,VEe,g9,p_e,CI,vEe,q1e,CK,zIe,M1e,X1e,Qxe,xbe,E1e,$De,Jme,Cme,Kle.initializeApp(xQ_firebase),Rbe(()=>Mbe(xQ_firebase)),$we(()=>Ywe()),axe(()=>lxe()),gPe.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})}}return n})();Kse().bootstrapModule(_Pe).catch(n=>console.error(n))},574:(Go,Ni,rt)=>{rt.d(Ni,{A:()=>Di});var F=rt(401),Ne=rt(779),U=rt(631),Ke=rt(398);class kt{constructor(bt,ot){this._delegate=bt,this.firebase=ot,(0,U._addComponent)(bt,new Ne.uA("app-compat",()=>this,"PUBLIC")),this.container=bt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(bt){this._delegate.automaticDataCollectionEnabled=bt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(bt=>{this._delegate.checkDestroyed(),bt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(bt,ot=U._DEFAULT_ENTRY_NAME){var ci;this._delegate.checkDestroyed();const Un=this._delegate.container.getProvider(bt);return!Un.isInitialized()&&"EXPLICIT"===(null===(ci=Un.getComponent())||void 0===ci?void 0:ci.instantiationMode)&&Un.initialize(),Un.getImmediate({identifier:ot})}_removeServiceInstance(bt,ot=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(bt).clearInstance(ot)}_addComponent(bt){(0,U._addComponent)(this._delegate,bt)}_addOrOverwriteComponent(bt){(0,U._addOrOverwriteComponent)(this._delegate,bt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Zn=new F.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),be=function Mt(){const Vt=function tn(Vt){const bt={},ot={__esModule:!0,initializeApp:function mn(xt,Se={}){const re=U.initializeApp(xt,Se);if((0,F.gR)(bt,re.name))return bt[re.name];const tt=new Vt(re,ot);return bt[re.name]=tt,tt},app:Un,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function vr(xt){const Se=xt.name,re=Se.replace("-compat","");if(U._registerComponent(xt)&&"PUBLIC"===xt.type){const tt=(Et=Un())=>{if("function"!=typeof Et[re])throw Zn.create("invalid-app-argument",{appName:Se});return Et[re]()};void 0!==xt.serviceProps&&(0,F.zw)(tt,xt.serviceProps),ot[re]=tt,Vt.prototype[re]=function(...Et){return this._getService.bind(this,Se).apply(this,xt.multipleInstances?Et:[])}}return"PUBLIC"===xt.type?ot[re]:null},removeApp:function ci(xt){delete bt[xt]},useAsService:function zt(xt,Se){return"serverAuth"===Se?null:Se},modularAPIs:U}};function Un(xt){if(!(0,F.gR)(bt,xt=xt||U._DEFAULT_ENTRY_NAME))throw Zn.create("no-app",{appName:xt});return bt[xt]}return ot.default=ot,Object.defineProperty(ot,"apps",{get:function pn(){return Object.keys(bt).map(xt=>bt[xt])}}),Un.App=Vt,ot}(kt);return Vt.INTERNAL=Object.assign(Object.assign({},Vt.INTERNAL),{createFirebaseNamespace:Mt,extendNamespace:function bt(ot){(0,F.zw)(Vt,ot)},createSubscribe:F.tD,ErrorFactory:F.FA,deepExtend:F.zw}),Vt}(),Ce=new Ke.Vy("@firebase/app-compat");try{const Vt=(0,F.mS)();if(void 0!==Vt.firebase){Ce.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const bt=Vt.firebase.SDK_VERSION;bt&&bt.indexOf("LITE")>=0&&Ce.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Di=be;!function qt(Vt){(0,U.registerVersion)("@firebase/app-compat","0.2.43",Vt)}()},631:(Go,Ni,rt)=>{rt.r(Ni),rt.d(Ni,{FirebaseError:()=>Ke.g,SDK_VERSION:()=>er,_DEFAULT_ENTRY_NAME:()=>K,_addComponent:()=>Ae,_addOrOverwriteComponent:()=>me,_apps:()=>oe,_clearComponents:()=>qi,_components:()=>pe,_getProvider:()=>En,_isFirebaseApp:()=>nn,_isFirebaseServerApp:()=>Hn,_registerComponent:()=>st,_removeServiceInstance:()=>dt,_serverApps:()=>ee,deleteApp:()=>bs,getApp:()=>zs,getApps:()=>fa,initializeApp:()=>$t,initializeServerApp:()=>qr,onLog:()=>Hs,registerVersion:()=>So,setLogLevel:()=>$i});var F=rt(467),Ne=rt(779),U=rt(398),Ke=rt(401),kt=rt(749);class Jn{constructor(ve){this.container=ve}getPlatformInfoString(){return this.container.getProviders().map(C=>{if(function Zn(Be){const ve=Be.getComponent();return"VERSION"===ve?.type}(C)){const E=C.getImmediate();return`${E.library}/${E.version}`}return null}).filter(C=>C).join(" ")}}const tn="@firebase/app",Mt="0.10.13",be=new U.Vy("@firebase/app"),K="[DEFAULT]",ce={[tn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},oe=new Map,ee=new Map,pe=new Map;function Ae(Be,ve){try{Be.container.addComponent(ve)}catch(C){be.debug(`Component ${ve.name} failed to register with FirebaseApp ${Be.name}`,C)}}function me(Be,ve){Be.container.addOrOverwriteComponent(ve)}function st(Be){const ve=Be.name;if(pe.has(ve))return be.debug(`There were multiple attempts to register component ${ve}.`),!1;pe.set(ve,Be);for(const C of oe.values())Ae(C,Be);for(const C of ee.values())Ae(C,Be);return!0}function En(Be,ve){const C=Be.container.getProvider("heartbeat").getImmediate({optional:!0});return C&&C.triggerHeartbeat(),Be.container.getProvider(ve)}function dt(Be,ve,C=K){En(Be,ve).clearInstance(C)}function nn(Be){return void 0!==Be.options}function Hn(Be){return void 0!==Be.settings}function qi(){pe.clear()}const on=new Ke.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ei{constructor(ve,C,E){this._isDeleted=!1,this._options=Object.assign({},ve),this._config=Object.assign({},C),this._name=C.name,this._automaticDataCollectionEnabled=C.automaticDataCollectionEnabled,this._container=E,this.container.addComponent(new Ne.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ve){this._isDeleted=ve}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}}class Gi extends Ei{constructor(ve,C,E,k){const M=void 0!==C.automaticDataCollectionEnabled&&C.automaticDataCollectionEnabled,z={name:E,automaticDataCollectionEnabled:M};super(void 0!==ve.apiKey?ve:ve.options,z,k),this._serverConfig=Object.assign({automaticDataCollectionEnabled:M},C),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,C.releaseOnDeref=void 0,So(tn,Mt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ve){this.isDeleted||(this._refCount++,void 0!==ve&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(ve,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){bs(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw on.create("server-app-deleted")}}const er="10.14.1";function $t(Be,ve={}){let C=Be;"object"!=typeof ve&&(ve={name:ve});const E=Object.assign({name:K,automaticDataCollectionEnabled:!1},ve),k=E.name;if("string"!=typeof k||!k)throw on.create("bad-app-name",{appName:String(k)});if(C||(C=(0,Ke.T9)()),!C)throw on.create("no-options");const M=oe.get(k);if(M){if((0,Ke.bD)(C,M.options)&&(0,Ke.bD)(E,M.config))return M;throw on.create("duplicate-app",{appName:k})}const z=new Ne.h1(k);for(const ke of pe.values())z.addComponent(ke);const ge=new Ei(C,E,z);return oe.set(k,ge),ge}function qr(Be,ve){if((0,Ke.Bd)()&&!(0,Ke.p7)())throw on.create("invalid-server-app-environment");let C;void 0===ve.automaticDataCollectionEnabled&&(ve.automaticDataCollectionEnabled=!1),C=nn(Be)?Be.options:Be;const E=Object.assign(Object.assign({},ve),C);if(void 0!==E.releaseOnDeref&&delete E.releaseOnDeref,void 0!==ve.releaseOnDeref&&typeof FinalizationRegistry>"u")throw on.create("finalization-registry-not-supported",{});const M=""+(Ze=JSON.stringify(E),[...Ze].reduce((Kt,Xe)=>Math.imul(31,Kt)+Xe.charCodeAt(0)|0,0)),z=ee.get(M);var Ze;if(z)return z.incRefCount(ve.releaseOnDeref),z;const ge=new Ne.h1(M);for(const Ze of pe.values())ge.addComponent(Ze);const ke=new Gi(C,ve,M,ge);return ee.set(M,ke),ke}function zs(Be=K){const ve=oe.get(Be);if(!ve&&Be===K&&(0,Ke.T9)())return $t();if(!ve)throw on.create("no-app",{appName:Be});return ve}function fa(){return Array.from(oe.values())}function bs(Be){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,F.A)(function*(Be){let ve=!1;const C=Be.name;oe.has(C)?(ve=!0,oe.delete(C)):ee.has(C)&&Be.decRefCount()<=0&&(ee.delete(C),ve=!0),ve&&(yield Promise.all(Be.container.getProviders().map(E=>E.delete())),Be.isDeleted=!0)})).apply(this,arguments)}function So(Be,ve,C){var E;let k=null!==(E=ce[Be])&&void 0!==E?E:Be;C&&(k+=`-${C}`);const M=k.match(/\s|\//),z=ve.match(/\s|\//);if(M||z){const ge=[`Unable to register library "${k}" with version "${ve}":`];return M&&ge.push(`library name "${k}" contains illegal characters (whitespace or "/")`),M&&z&&ge.push("and"),z&&ge.push(`version name "${ve}" contains illegal characters (whitespace or "/")`),void be.warn(ge.join(" "))}st(new Ne.uA(`${k}-version`,()=>({library:k,version:ve}),"VERSION"))}function Hs(Be,ve){if(null!==Be&&"function"!=typeof Be)throw on.create("invalid-log-argument");(0,U.Ey)(Be,ve)}function $i(Be){(0,U.He)(Be)}const fo="firebase-heartbeat-database",Wn=1,tr="firebase-heartbeat-store";let ei=null;function Ws(){return ei||(ei=(0,kt.P2)(fo,Wn,{upgrade:(Be,ve)=>{if(0===ve)try{Be.createObjectStore(tr)}catch(C){console.warn(C)}}}).catch(Be=>{throw on.create("idb-open",{originalErrorMessage:Be.message})})),ei}function vn(){return(vn=(0,F.A)(function*(Be){try{const C=(yield Ws()).transaction(tr),E=yield C.objectStore(tr).get(Qo(Be));return yield C.done,E}catch(ve){if(ve instanceof Ke.g)be.warn(ve.message);else{const C=on.create("idb-get",{originalErrorMessage:ve?.message});be.warn(C.message)}}})).apply(this,arguments)}function mo(Be,ve){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,F.A)(function*(Be,ve){try{const E=(yield Ws()).transaction(tr,"readwrite");yield E.objectStore(tr).put(ve,Qo(Be)),yield E.done}catch(C){if(C instanceof Ke.g)be.warn(C.message);else{const E=on.create("idb-set",{originalErrorMessage:C?.message});be.warn(E.message)}}})).apply(this,arguments)}function Qo(Be){return`${Be.name}!${Be.options.appId}`}class wr{constructor(ve){this.container=ve,this._heartbeatsCache=null;const C=this.container.getProvider("app").getImmediate();this._storage=new $s(C),this._heartbeatsCachePromise=this._storage.read().then(E=>(this._heartbeatsCache=E,E))}triggerHeartbeat(){var ve=this;return(0,F.A)(function*(){var C,E;try{const M=ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),z=qs();return null==(null===(C=ve._heartbeatsCache)||void 0===C?void 0:C.heartbeats)&&(ve._heartbeatsCache=yield ve._heartbeatsCachePromise,null==(null===(E=ve._heartbeatsCache)||void 0===E?void 0:E.heartbeats))||ve._heartbeatsCache.lastSentHeartbeatDate===z||ve._heartbeatsCache.heartbeats.some(ge=>ge.date===z)?void 0:(ve._heartbeatsCache.heartbeats.push({date:z,agent:M}),ve._heartbeatsCache.heartbeats=ve._heartbeatsCache.heartbeats.filter(ge=>{const ke=new Date(ge.date).valueOf();return Date.now()-ke<=2592e6}),ve._storage.overwrite(ve._heartbeatsCache))}catch(k){be.warn(k)}})()}getHeartbeatsHeader(){var ve=this;return(0,F.A)(function*(){var C;try{if(null===ve._heartbeatsCache&&(yield ve._heartbeatsCachePromise),null==(null===(C=ve._heartbeatsCache)||void 0===C?void 0:C.heartbeats)||0===ve._heartbeatsCache.heartbeats.length)return"";const E=qs(),{heartbeatsToSend:k,unsentEntries:M}=function Gs(Be,ve=1024){const C=[];let E=Be.slice();for(const k of Be){const M=C.find(z=>z.agent===k.agent);if(M){if(M.dates.push(k.date),ma(C)>ve){M.dates.pop();break}}else if(C.push({agent:k.agent,dates:[k.date]}),ma(C)>ve){C.pop();break}E=E.slice(1)}return{heartbeatsToSend:C,unsentEntries:E}}(ve._heartbeatsCache.heartbeats),z=(0,Ke.Uj)(JSON.stringify({version:2,heartbeats:k}));return ve._heartbeatsCache.lastSentHeartbeatDate=E,M.length>0?(ve._heartbeatsCache.heartbeats=M,yield ve._storage.overwrite(ve._heartbeatsCache)):(ve._heartbeatsCache.heartbeats=[],ve._storage.overwrite(ve._heartbeatsCache)),z}catch(E){return be.warn(E),""}})()}}function qs(){return(new Date).toISOString().substring(0,10)}class $s{constructor(ve){this.app=ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,F.A)(function*(){return!!(0,Ke.zW)()&&(0,Ke.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ve=this;return(0,F.A)(function*(){if(yield ve._canUseIndexedDBPromise){const E=yield function $o(Be){return vn.apply(this,arguments)}(ve.app);return E?.heartbeats?E:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ve){var C=this;return(0,F.A)(function*(){var E;if(yield C._canUseIndexedDBPromise){const M=yield C.read();return mo(C.app,{lastSentHeartbeatDate:null!==(E=ve.lastSentHeartbeatDate)&&void 0!==E?E:M.lastSentHeartbeatDate,heartbeats:ve.heartbeats})}})()}add(ve){var C=this;return(0,F.A)(function*(){var E;if(yield C._canUseIndexedDBPromise){const M=yield C.read();return mo(C.app,{lastSentHeartbeatDate:null!==(E=ve.lastSentHeartbeatDate)&&void 0!==E?E:M.lastSentHeartbeatDate,heartbeats:[...M.heartbeats,...ve.heartbeats]})}})()}}function ma(Be){return(0,Ke.Uj)(JSON.stringify({version:2,heartbeats:Be})).length}!function Qa(Be){st(new Ne.uA("platform-logger",ve=>new Jn(ve),"PRIVATE")),st(new Ne.uA("heartbeat",ve=>new wr(ve),"PRIVATE")),So(tn,Mt,Be),So(tn,Mt,"esm2017"),So("fire-js","")}("")},779:(Go,Ni,rt)=>{rt.d(Ni,{h1:()=>tn,uA:()=>U});var F=rt(467),Ne=rt(401);class U{constructor(be,Ce,Ye){this.name=be,this.instanceFactory=Ce,this.type=Ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(be){return this.instantiationMode=be,this}setMultipleInstances(be){return this.multipleInstances=be,this}setServiceProps(be){return this.serviceProps=be,this}setInstanceCreatedCallback(be){return this.onInstanceCreated=be,this}}const Ke="[DEFAULT]";class kt{constructor(be,Ce){this.name=be,this.container=Ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(be){const Ce=this.normalizeInstanceIdentifier(be);if(!this.instancesDeferred.has(Ce)){const Ye=new Ne.cY;if(this.instancesDeferred.set(Ce,Ye),this.isInitialized(Ce)||this.shouldAutoInitialize())try{const St=this.getOrInitializeService({instanceIdentifier:Ce});St&&Ye.resolve(St)}catch{}}return this.instancesDeferred.get(Ce).promise}getImmediate(be){var Ce;const Ye=this.normalizeInstanceIdentifier(be?.identifier),St=null!==(Ce=be?.optional)&&void 0!==Ce&&Ce;if(!this.isInitialized(Ye)&&!this.shouldAutoInitialize()){if(St)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ye})}catch(qt){if(St)return null;throw qt}}getComponent(){return this.component}setComponent(be){if(be.name!==this.name)throw Error(`Mismatching Component ${be.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=be,this.shouldAutoInitialize()){if(function Zn(Mt){return"EAGER"===Mt.instantiationMode}(be))try{this.getOrInitializeService({instanceIdentifier:Ke})}catch{}for(const[Ce,Ye]of this.instancesDeferred.entries()){const St=this.normalizeInstanceIdentifier(Ce);try{const qt=this.getOrInitializeService({instanceIdentifier:St});Ye.resolve(qt)}catch{}}}}clearInstance(be=Ke){this.instancesDeferred.delete(be),this.instancesOptions.delete(be),this.instances.delete(be)}delete(){var be=this;return(0,F.A)(function*(){const Ce=Array.from(be.instances.values());yield Promise.all([...Ce.filter(Ye=>"INTERNAL"in Ye).map(Ye=>Ye.INTERNAL.delete()),...Ce.filter(Ye=>"_delete"in Ye).map(Ye=>Ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(be=Ke){return this.instances.has(be)}getOptions(be=Ke){return this.instancesOptions.get(be)||{}}initialize(be={}){const{options:Ce={}}=be,Ye=this.normalizeInstanceIdentifier(be.instanceIdentifier);if(this.isInitialized(Ye))throw Error(`${this.name}(${Ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const St=this.getOrInitializeService({instanceIdentifier:Ye,options:Ce});for(const[qt,Di]of this.instancesDeferred.entries())Ye===this.normalizeInstanceIdentifier(qt)&&Di.resolve(St);return St}onInit(be,Ce){var Ye;const St=this.normalizeInstanceIdentifier(Ce),qt=null!==(Ye=this.onInitCallbacks.get(St))&&void 0!==Ye?Ye:new Set;qt.add(be),this.onInitCallbacks.set(St,qt);const Di=this.instances.get(St);return Di&&be(Di,St),()=>{qt.delete(be)}}invokeOnInitCallbacks(be,Ce){const Ye=this.onInitCallbacks.get(Ce);if(Ye)for(const St of Ye)try{St(be,Ce)}catch{}}getOrInitializeService({instanceIdentifier:be,options:Ce={}}){let Ye=this.instances.get(be);if(!Ye&&this.component&&(Ye=this.component.instanceFactory(this.container,{instanceIdentifier:(Mt=be,Mt===Ke?void 0:Mt),options:Ce}),this.instances.set(be,Ye),this.instancesOptions.set(be,Ce),this.invokeOnInitCallbacks(Ye,be),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,be,Ye)}catch{}var Mt;return Ye||null}normalizeInstanceIdentifier(be=Ke){return this.component?this.component.multipleInstances?be:Ke:be}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class tn{constructor(be){this.name=be,this.providers=new Map}addComponent(be){const Ce=this.getProvider(be.name);if(Ce.isComponentSet())throw new Error(`Component ${be.name} has already been registered with ${this.name}`);Ce.setComponent(be)}addOrOverwriteComponent(be){this.getProvider(be.name).isComponentSet()&&this.providers.delete(be.name),this.addComponent(be)}getProvider(be){if(this.providers.has(be))return this.providers.get(be);const Ce=new kt(be,this);return this.providers.set(be,Ce),Ce}getProviders(){return Array.from(this.providers.values())}}},398:(Go,Ni,rt)=>{rt.d(Ni,{$b:()=>Ne,Ey:()=>Mt,He:()=>tn,Vy:()=>Zn});const F=[];var Ne=function(be){return be[be.DEBUG=0]="DEBUG",be[be.VERBOSE=1]="VERBOSE",be[be.INFO=2]="INFO",be[be.WARN=3]="WARN",be[be.ERROR=4]="ERROR",be[be.SILENT=5]="SILENT",be}(Ne||{});const U={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},Ke=Ne.INFO,kt={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},Jn=(be,Ce,...Ye)=>{if(Ce<be.logLevel)return;const St=(new Date).toISOString(),qt=kt[Ce];if(!qt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ce})`);console[qt](`[${St}]  ${be.name}:`,...Ye)};class Zn{constructor(Ce){this.name=Ce,this._logLevel=Ke,this._logHandler=Jn,this._userLogHandler=null,F.push(this)}get logLevel(){return this._logLevel}set logLevel(Ce){if(!(Ce in Ne))throw new TypeError(`Invalid value "${Ce}" assigned to \`logLevel\``);this._logLevel=Ce}setLogLevel(Ce){this._logLevel="string"==typeof Ce?U[Ce]:Ce}get logHandler(){return this._logHandler}set logHandler(Ce){if("function"!=typeof Ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ce){this._userLogHandler=Ce}debug(...Ce){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...Ce),this._logHandler(this,Ne.DEBUG,...Ce)}log(...Ce){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...Ce),this._logHandler(this,Ne.VERBOSE,...Ce)}info(...Ce){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...Ce),this._logHandler(this,Ne.INFO,...Ce)}warn(...Ce){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...Ce),this._logHandler(this,Ne.WARN,...Ce)}error(...Ce){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...Ce),this._logHandler(this,Ne.ERROR,...Ce)}}function tn(be){F.forEach(Ce=>{Ce.setLogLevel(be)})}function Mt(be,Ce){for(const Ye of F){let St=null;Ce&&Ce.level&&(St=U[Ce.level]),Ye.userLogHandler=null===be?null:(qt,Di,...Vt)=>{const bt=Vt.map(ot=>{if(null==ot)return null;if("string"==typeof ot)return ot;if("number"==typeof ot||"boolean"==typeof ot)return ot.toString();if(ot instanceof Error)return ot.message;try{return JSON.stringify(ot)}catch{return null}}).filter(ot=>ot).join(" ");Di>=(St??qt.logLevel)&&be({level:Ne[Di].toLowerCase(),message:bt,args:Vt,type:qt.name})}}}},46:(Go,Ni,rt)=>{var F=rt(467),Ne=rt(574),U=rt(443),Ke=rt(401),Zn=(rt(631),rt(398),rt(779));function tn(){return window}function Ce(){return Ce=(0,F.A)(function*(C,E,k){var M;const{BuildInfo:z}=tn();(0,U.au)(E.sessionId,"AuthEvent did not contain a session ID");const ge=yield function ot(C){return ci.apply(this,arguments)}(E.sessionId),ke={};return(0,U.av)()?ke.ibi=z.packageName:(0,U.aw)()?ke.apn=z.packageName:(0,U.ax)(C,"operation-not-supported-in-this-environment"),z.displayName&&(ke.appDisplayName=z.displayName),ke.sessionId=ge,(0,U.ay)(C,k,E.type,void 0,null!==(M=E.eventId)&&void 0!==M?M:void 0,ke)}),Ce.apply(this,arguments)}function St(){return(St=(0,F.A)(function*(C){const{BuildInfo:E}=tn(),k={};(0,U.av)()?k.iosBundleId=E.packageName:(0,U.aw)()?k.androidPackageName=E.packageName:(0,U.ax)(C,"operation-not-supported-in-this-environment"),yield(0,U.az)(C,k)})).apply(this,arguments)}function Vt(){return(Vt=(0,F.A)(function*(C,E,k){const{cordova:M}=tn();let z=()=>{};try{yield new Promise((ge,ke)=>{let Ze=null;function Kt(){var Le;ge();const li=null===(Le=M.plugins.browsertab)||void 0===Le?void 0:Le.close;"function"==typeof li&&li(),"function"==typeof k?.close&&k.close()}function Xe(){Ze||(Ze=window.setTimeout(()=>{ke((0,U.aB)(C,"redirect-cancelled-by-user"))},2e3))}function qn(){"visible"===document?.visibilityState&&Xe()}E.addPassiveListener(Kt),document.addEventListener("resume",Xe,!1),(0,U.aw)()&&document.addEventListener("visibilitychange",qn,!1),z=()=>{E.removePassiveListener(Kt),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",qn,!1),Ze&&window.clearTimeout(Ze)}})}finally{z()}})).apply(this,arguments)}function ci(){return(ci=(0,F.A)(function*(C){const E=function Un(C){if((0,U.au)(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(C);const E=new ArrayBuffer(C.length),k=new Uint8Array(E);for(let M=0;M<C.length;M++)k[M]=C.charCodeAt(M);return k}(C),k=yield crypto.subtle.digest("SHA-256",E);return Array.from(new Uint8Array(k)).map(z=>z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class pn extends U.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(E=>{this.resolveInitialized=E})}addPassiveListener(E){this.passiveListeners.add(E)}removePassiveListener(E){this.passiveListeners.delete(E)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(E){return this.resolveInitialized(),this.passiveListeners.forEach(k=>k(E)),super.onEvent(E)}initialized(){var E=this;return(0,F.A)(function*(){yield E.initPromise})()}}function xt(C){return Se.apply(this,arguments)}function Se(){return(Se=(0,F.A)(function*(C){const E=yield Et()._get(Gt(C));return E&&(yield Et()._remove(Gt(C))),E})).apply(this,arguments)}function tt(){const C=[];for(let k=0;k<20;k++){const M=Math.floor(62*Math.random());C.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(M))}return C.join("")}function Et(){return(0,U.aE)(U.b)}function Gt(C){return(0,U.aF)("authEvent",C.config.apiKey,C.name)}function at(C){if(!C?.includes("?"))return{};const[E,...k]=C.split("?");return(0,Ke.I9)(k.join("?"))}const Wr=class Wi{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aG,this._overrideRedirectResult=U.aH}_initialize(E){var k=this;return(0,F.A)(function*(){const M=E._key();let z=k.eventManagers.get(M);return z||(z=new pn(E),k.eventManagers.set(M,z),k.attachCallbackListeners(E,z)),z})()}_openPopup(E){(0,U.ax)(E,"operation-not-supported-in-this-environment")}_openRedirect(E,k,M,z){var ge=this;return(0,F.A)(function*(){!function bt(C){var E,k,M,z,ge,ke,Ze,Kt,Xe,qn;const Le=tn();(0,U.aC)("function"==typeof(null===(E=Le?.universalLinks)||void 0===E?void 0:E.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.aC)(typeof(null===(k=Le?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.aC)("function"==typeof(null===(ge=null===(z=null===(M=Le?.cordova)||void 0===M?void 0:M.plugins)||void 0===z?void 0:z.browsertab)||void 0===ge?void 0:ge.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aC)("function"==typeof(null===(Kt=null===(Ze=null===(ke=Le?.cordova)||void 0===ke?void 0:ke.plugins)||void 0===Ze?void 0:Ze.browsertab)||void 0===Kt?void 0:Kt.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aC)("function"==typeof(null===(qn=null===(Xe=Le?.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===qn?void 0:qn.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(E);const ke=yield ge._initialize(E);yield ke.initialized(),ke.resetRedirect(),(0,U.aI)(),yield ge._originValidation(E);const Ze=function vr(C,E,k=null){return{type:E,eventId:k,urlResponse:null,sessionId:tt(),postBody:null,tenantId:C.tenantId,error:(0,U.aB)(C,"no-auth-event")}}(E,M,z);yield function zt(C,E){return Et()._set(Gt(C),E)}(E,Ze);const Kt=yield function be(C,E,k){return Ce.apply(this,arguments)}(E,Ze,k),Xe=yield function qt(C){const{cordova:E}=tn();return new Promise(k=>{E.plugins.browsertab.isAvailable(M=>{let z=null;M?E.plugins.browsertab.openUrl(C):z=E.InAppBrowser.open(C,(0,U.aA)()?"_blank":"_system","location=yes"),k(z)})})}(Kt);return function Di(C,E,k){return Vt.apply(this,arguments)}(E,ke,Xe)})()}_isIframeWebStorageSupported(E,k){throw new Error("Method not implemented.")}_originValidation(E){const k=E._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function Ye(C){return St.apply(this,arguments)}(E)),this.originValidationPromises[k]}attachCallbackListeners(E,k){const{universalLinks:M,handleOpenURL:z,BuildInfo:ge}=tn(),ke=setTimeout((0,F.A)(function*(){yield xt(E),k.onEvent(_s())}),500),Ze=function(){var qn=(0,F.A)(function*(Le){clearTimeout(ke);const li=yield xt(E);let vs=null;li&&Le?.url&&(vs=function re(C,E){var k,M;const z=function kn(C){const E=at(C),k=E.link?decodeURIComponent(E.link):void 0,M=at(k).link,z=E.deep_link_id?decodeURIComponent(E.deep_link_id):void 0;return at(z).link||z||M||k||C}(E);if(z.includes("/__/auth/callback")){const ge=at(z),ke=ge.firebaseError?function jn(C){try{return JSON.parse(C)}catch{return null}}(decodeURIComponent(ge.firebaseError)):null,Ze=null===(M=null===(k=ke?.code)||void 0===k?void 0:k.split("auth/"))||void 0===M?void 0:M[1],Kt=Ze?(0,U.aB)(Ze):null;return Kt?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:Kt,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:z,postBody:null}}return null}(li,Le.url)),k.onEvent(vs||_s())});return function(li){return qn.apply(this,arguments)}}();typeof M<"u"&&"function"==typeof M.subscribe&&M.subscribe(null,Ze);const Kt=z,Xe=`${ge.packageName.toLowerCase()}://`;tn().handleOpenURL=function(){var qn=(0,F.A)(function*(Le){if(Le.toLowerCase().startsWith(Xe)&&Ze({url:Le}),"function"==typeof Kt)try{Kt(Le)}catch(li){console.error(li)}});return function(Le){return qn.apply(this,arguments)}}()}};function _s(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.aB)("no-auth-event")}}function pe(){var C;return(null===(C=self?.location)||void 0===C?void 0:C.protocol)||null}function me(C=(0,Ke.ZQ)()){return!("file:"!==pe()&&"ionic:"!==pe()&&"capacitor:"!==pe()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hn(){try{const C=self.localStorage,E=U.aN();if(C)return C.setItem(E,"1"),C.removeItem(E),!function nn(C=(0,Ke.ZQ)()){return function En(){return(0,Ke.lT)()&&11===document?.documentMode}()||function dt(C=(0,Ke.ZQ)()){return/Edge\/\d+/.test(C)}(C)}()||(0,Ke.zW)()}catch{return qi()&&(0,Ke.zW)()}return!1}function qi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function rn(){return(function Ae(){return"http:"===pe()||"https:"===pe()}()||(0,Ke.sr)()||me())&&!function st(){return(0,Ke.lV)()||(0,Ke.Ll)()}()&&Hn()&&!qi()}function on(){return me()&&typeof document<"u"}function Gi(){return(Gi=(0,F.A)(function*(){return!!on()&&new Promise(C=>{const E=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(E),C(!0)})})})).apply(this,arguments)}const $t={LOCAL:"local",NONE:"none",SESSION:"session"},qr=U.aC,zs="persistence";function bs(C){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,F.A)(function*(C){yield C._initializationPromise;const E=Hs(),k=U.aF(zs,C.config.apiKey,C.name);E&&E.setItem(k,C._getPersistence())})).apply(this,arguments)}function Hs(){var C;try{return(null===(C=function er(){return typeof window<"u"?window:null}())||void 0===C?void 0:C.sessionStorage)||null}catch{return null}}const $i=U.aC;class fo{constructor(){this.browserResolver=U.aE(U.k),this.cordovaResolver=U.aE(Wr),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aG,this._overrideRedirectResult=U.aH}_initialize(E){var k=this;return(0,F.A)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(E)})()}_openPopup(E,k,M,z){var ge=this;return(0,F.A)(function*(){return yield ge.selectUnderlyingResolver(),ge.assertedUnderlyingResolver._openPopup(E,k,M,z)})()}_openRedirect(E,k,M,z){var ge=this;return(0,F.A)(function*(){return yield ge.selectUnderlyingResolver(),ge.assertedUnderlyingResolver._openRedirect(E,k,M,z)})()}_isIframeWebStorageSupported(E,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(E,k)}_originValidation(E){return this.assertedUnderlyingResolver._originValidation(E)}get _shouldInitProactively(){return on()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $i(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var E=this;return(0,F.A)(function*(){if(E.underlyingResolver)return;const k=yield function Ei(){return Gi.apply(this,arguments)}();E.underlyingResolver=k?E.cordovaResolver:E.browserResolver})()}}function Wn(C){return C.unwrap()}function ei(C){return $o(C)}function $o(C){const{_tokenResponse:E}=C instanceof Ke.g?C.customData:C;if(!E)return null;if(!(C instanceof Ke.g)&&"temporaryProof"in E&&"phoneNumber"in E)return U.P.credentialFromResult(C);const k=E.providerId;if(!k||k===U.p.PASSWORD)return null;let M;switch(k){case U.p.GOOGLE:M=U.X;break;case U.p.FACEBOOK:M=U.W;break;case U.p.GITHUB:M=U.Y;break;case U.p.TWITTER:M=U.$;break;default:const{oauthIdToken:z,oauthAccessToken:ge,oauthTokenSecret:ke,pendingToken:Ze,nonce:Kt}=E;return ge||ke||z||Ze?Ze?k.startsWith("saml.")?U.aQ._create(k,Ze):U.N._fromParams({providerId:k,signInMethod:k,pendingToken:Ze,idToken:z,accessToken:ge}):new U.Z(k).credential({idToken:z,accessToken:ge,rawNonce:Kt}):null}return C instanceof Ke.g?M.credentialFromError(C):M.credentialFromResult(C)}function vn(C,E){return E.catch(k=>{throw k instanceof Ke.g&&function Ws(C,E){var k;const M=null===(k=E.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===E?.code)E.resolver=new Qo(C,U.as(C,E));else if(M){const z=$o(E),ge=E;z&&(ge.credential=z,ge.tenantId=M.tenantId||void 0,ge.email=M.email||void 0,ge.phoneNumber=M.phoneNumber||void 0)}}(C,k),k}).then(k=>{const z=k.user;return{operationType:k.operationType,credential:ei(k),additionalUserInfo:U.aq(k),user:yr.getOrCreate(z)}})}function mo(C,E){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,F.A)(function*(C,E){const k=yield E;return{verificationId:k.verificationId,confirm:M=>vn(C,k.confirm(M))}})).apply(this,arguments)}class Qo{constructor(E,k){this.resolver=k,this.auth=function tr(C){return C.wrapped()}(E)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(E){return vn(Wn(this.auth),this.resolver.resolveSignIn(E))}}class yr{constructor(E){this._delegate=E,this.multiFactor=U.at(E)}static getOrCreate(E){return yr.USER_MAP.has(E)||yr.USER_MAP.set(E,new yr(E)),yr.USER_MAP.get(E)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(E){return this._delegate.getIdTokenResult(E)}getIdToken(E){return this._delegate.getIdToken(E)}linkAndRetrieveDataWithCredential(E){return this.linkWithCredential(E)}linkWithCredential(E){var k=this;return(0,F.A)(function*(){return vn(k.auth,U.a2(k._delegate,E))})()}linkWithPhoneNumber(E,k){var M=this;return(0,F.A)(function*(){return mo(M.auth,U.l(M._delegate,E,k))})()}linkWithPopup(E){var k=this;return(0,F.A)(function*(){return vn(k.auth,U.d(k._delegate,E,fo))})()}linkWithRedirect(E){var k=this;return(0,F.A)(function*(){return yield bs(U.aJ(k.auth)),U.g(k._delegate,E,fo)})()}reauthenticateAndRetrieveDataWithCredential(E){return this.reauthenticateWithCredential(E)}reauthenticateWithCredential(E){var k=this;return(0,F.A)(function*(){return vn(k.auth,U.a3(k._delegate,E))})()}reauthenticateWithPhoneNumber(E,k){return mo(this.auth,U.r(this._delegate,E,k))}reauthenticateWithPopup(E){return vn(this.auth,U.e(this._delegate,E,fo))}reauthenticateWithRedirect(E){var k=this;return(0,F.A)(function*(){return yield bs(U.aJ(k.auth)),U.h(k._delegate,E,fo)})()}sendEmailVerification(E){return U.ag(this._delegate,E)}unlink(E){var k=this;return(0,F.A)(function*(){return yield U.ap(k._delegate,E),k})()}updateEmail(E){return U.al(this._delegate,E)}updatePassword(E){return U.am(this._delegate,E)}updatePhoneNumber(E){return U.u(this._delegate,E)}updateProfile(E){return U.ak(this._delegate,E)}verifyBeforeUpdateEmail(E,k){return U.ah(this._delegate,E,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}yr.USER_MAP=new WeakMap;const Ri=U.aC;let wr=(()=>{class C{constructor(k,M){if(this.app=k,M.isInitialized())return this._delegate=M.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:z}=k.options;Ri(z,"invalid-api-key",{appName:k.name}),Ri(z,"invalid-api-key",{appName:k.name});const ge=typeof window<"u"?fo:void 0;this._delegate=M.initialize({options:{persistence:Gs(z,k.name),popupRedirectResolver:ge}}),this._delegate._updateErrorMap(U.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?yr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,M){U.K(this._delegate,k,M)}applyActionCode(k){return U.a7(this._delegate,k)}checkActionCode(k){return U.a8(this._delegate,k)}confirmPasswordReset(k,M){return U.a6(this._delegate,k,M)}createUserWithEmailAndPassword(k,M){var z=this;return(0,F.A)(function*(){return vn(z._delegate,U.aa(z._delegate,k,M))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return U.af(this._delegate,k)}isSignInWithEmailLink(k){return U.ad(this._delegate,k)}getRedirectResult(){var k=this;return(0,F.A)(function*(){Ri(rn(),k._delegate,"operation-not-supported-in-this-environment");const M=yield U.j(k._delegate,fo);return M?vn(k._delegate,Promise.resolve(M)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function K(C,E){(0,U.aJ)(C)._logFramework(E)}(this._delegate,k)}onAuthStateChanged(k,M,z){const{next:ge,error:ke,complete:Ze}=qs(k,M,z);return this._delegate.onAuthStateChanged(ge,ke,Ze)}onIdTokenChanged(k,M,z){const{next:ge,error:ke,complete:Ze}=qs(k,M,z);return this._delegate.onIdTokenChanged(ge,ke,Ze)}sendSignInLinkToEmail(k,M){return U.ac(this._delegate,k,M)}sendPasswordResetEmail(k,M){return U.a5(this._delegate,k,M||void 0)}setPersistence(k){var M=this;return(0,F.A)(function*(){let z;switch(function fa(C,E){qr(Object.values($t).includes(E),C,"invalid-persistence-type"),(0,Ke.lV)()?qr(E!==$t.SESSION,C,"unsupported-persistence-type"):(0,Ke.Ll)()?qr(E===$t.NONE,C,"unsupported-persistence-type"):qi()?qr(E===$t.NONE||E===$t.LOCAL&&(0,Ke.zW)(),C,"unsupported-persistence-type"):qr(E===$t.NONE||Hn(),C,"unsupported-persistence-type")}(M._delegate,k),k){case $t.SESSION:z=U.a;break;case $t.LOCAL:z=(yield U.aE(U.i)._isAvailable())?U.i:U.b;break;case $t.NONE:z=U.U;break;default:return U.ax("argument-error",{appName:M._delegate.name})}return M._delegate.setPersistence(z)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return vn(this._delegate,U.a0(this._delegate))}signInWithCredential(k){return vn(this._delegate,U.a1(this._delegate,k))}signInWithCustomToken(k){return vn(this._delegate,U.a4(this._delegate,k))}signInWithEmailAndPassword(k,M){return vn(this._delegate,U.ab(this._delegate,k,M))}signInWithEmailLink(k,M){return vn(this._delegate,U.ae(this._delegate,k,M))}signInWithPhoneNumber(k,M){return mo(this._delegate,U.s(this._delegate,k,M))}signInWithPopup(k){var M=this;return(0,F.A)(function*(){return Ri(rn(),M._delegate,"operation-not-supported-in-this-environment"),vn(M._delegate,U.c(M._delegate,k,fo))})()}signInWithRedirect(k){var M=this;return(0,F.A)(function*(){return Ri(rn(),M._delegate,"operation-not-supported-in-this-environment"),yield bs(M._delegate),U.f(M._delegate,k,fo)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return U.a9(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=$t,C})();function qs(C,E,k){let M=C;"function"!=typeof C&&({next:M,error:E,complete:k}=C);const z=M;return{next:ke=>z(ke&&yr.getOrCreate(ke)),error:E,complete:k}}function Gs(C,E){const k=function So(C,E){const k=Hs();if(!k)return[];const M=U.aF(zs,C,E);switch(k.getItem(M)){case $t.NONE:return[U.U];case $t.LOCAL:return[U.i,U.a];case $t.SESSION:return[U.a];default:return[]}}(C,E);if(typeof self<"u"&&!k.includes(U.i)&&k.push(U.i),typeof window<"u")for(const M of[U.b,U.a])k.includes(M)||k.push(M);return k.includes(U.U)||k.push(U.U),k}class $s{constructor(){this.providerId="phone",this._delegate=new U.P(Wn(Ne.A.auth()))}static credential(E,k){return U.P.credential(E,k)}verifyPhoneNumber(E,k){return this._delegate.verifyPhoneNumber(E,k)}unwrap(){return this._delegate}}$s.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,$s.PROVIDER_ID=U.P.PROVIDER_ID;const ma=U.aC;class Qa{constructor(E,k,M=Ne.A.app()){var z;ma(null===(z=M.options)||void 0===z?void 0:z.apiKey,"invalid-api-key",{appName:M.name}),this._delegate=new U.R(M.auth(),E,k),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ve(C){C.INTERNAL.registerComponent(new Zn.uA("auth-compat",E=>{const k=E.getProvider("app-compat").getImmediate(),M=E.getProvider("auth");return new wr(k,M)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.V,FacebookAuthProvider:U.W,GithubAuthProvider:U.Y,GoogleAuthProvider:U.X,OAuthProvider:U.Z,SAMLAuthProvider:U._,PhoneAuthProvider:$s,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:Qa,TwitterAuthProvider:U.$,Auth:wr,AuthCredential:U.L,Error:Ke.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.5.14")}(Ne.A)},749:(Go,Ni,rt)=>{rt.d(Ni,{P2:()=>Un});var F=rt(467);const Ne=(Se,re)=>re.some(tt=>Se instanceof tt);let U,Ke;const Zn=new WeakMap,tn=new WeakMap,Mt=new WeakMap,be=new WeakMap,Ce=new WeakMap;let qt={get(Se,re,tt){if(Se instanceof IDBTransaction){if("done"===re)return tn.get(Se);if("objectStoreNames"===re)return Se.objectStoreNames||Mt.get(Se);if("store"===re)return tt.objectStoreNames[1]?void 0:tt.objectStore(tt.objectStoreNames[0])}return ot(Se[re])},set:(Se,re,tt)=>(Se[re]=tt,!0),has:(Se,re)=>Se instanceof IDBTransaction&&("done"===re||"store"===re)||re in Se};function bt(Se){return"function"==typeof Se?function Vt(Se){return Se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Jn(){return Ke||(Ke=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Se)?function(...re){return Se.apply(ci(this),re),ot(Zn.get(this))}:function(...re){return ot(Se.apply(ci(this),re))}:function(re,...tt){const Et=Se.call(ci(this),re,...tt);return Mt.set(Et,re.sort?re.sort():[re]),ot(Et)}}(Se):(Se instanceof IDBTransaction&&function St(Se){if(tn.has(Se))return;const re=new Promise((tt,Et)=>{const Gt=()=>{Se.removeEventListener("complete",jn),Se.removeEventListener("error",kn),Se.removeEventListener("abort",kn)},jn=()=>{tt(),Gt()},kn=()=>{Et(Se.error||new DOMException("AbortError","AbortError")),Gt()};Se.addEventListener("complete",jn),Se.addEventListener("error",kn),Se.addEventListener("abort",kn)});tn.set(Se,re)}(Se),Ne(Se,function kt(){return U||(U=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Se,qt):Se)}function ot(Se){if(Se instanceof IDBRequest)return function Ye(Se){const re=new Promise((tt,Et)=>{const Gt=()=>{Se.removeEventListener("success",jn),Se.removeEventListener("error",kn)},jn=()=>{tt(ot(Se.result)),Gt()},kn=()=>{Et(Se.error),Gt()};Se.addEventListener("success",jn),Se.addEventListener("error",kn)});return re.then(tt=>{tt instanceof IDBCursor&&Zn.set(tt,Se)}).catch(()=>{}),Ce.set(re,Se),re}(Se);if(be.has(Se))return be.get(Se);const re=bt(Se);return re!==Se&&(be.set(Se,re),Ce.set(re,Se)),re}const ci=Se=>Ce.get(Se);function Un(Se,re,{blocked:tt,upgrade:Et,blocking:Gt,terminated:jn}={}){const kn=indexedDB.open(Se,re),at=ot(kn);return Et&&kn.addEventListener("upgradeneeded",zn=>{Et(ot(kn.result),zn.oldVersion,zn.newVersion,ot(kn.transaction),zn)}),tt&&kn.addEventListener("blocked",zn=>tt(zn.oldVersion,zn.newVersion,zn)),at.then(zn=>{jn&&zn.addEventListener("close",()=>jn()),Gt&&zn.addEventListener("versionchange",Wi=>Gt(Wi.oldVersion,Wi.newVersion,Wi))}).catch(()=>{}),at}const pn=["get","getKey","getAll","getAllKeys","count"],vr=["put","add","delete","clear"],zt=new Map;function xt(Se,re){if(!(Se instanceof IDBDatabase)||re in Se||"string"!=typeof re)return;if(zt.get(re))return zt.get(re);const tt=re.replace(/FromIndex$/,""),Et=re!==tt,Gt=vr.includes(tt);if(!(tt in(Et?IDBIndex:IDBObjectStore).prototype)||!Gt&&!pn.includes(tt))return;const jn=function(){var kn=(0,F.A)(function*(at,...zn){const Wi=this.transaction(at,Gt?"readwrite":"readonly");let Wr=Wi.store;return Et&&(Wr=Wr.index(zn.shift())),(yield Promise.all([Wr[tt](...zn),Gt&&Wi.done]))[0]});return function(zn){return kn.apply(this,arguments)}}();return zt.set(re,jn),jn}!function Di(Se){qt=Se(qt)}(Se=>({...Se,get:(re,tt,Et)=>xt(re,tt)||Se.get(re,tt,Et),has:(re,tt)=>!!xt(re,tt)||Se.has(re,tt)}))},467:(Go,Ni,rt)=>{function F(U,Ke,kt,Jn,Zn,tn,Mt){try{var be=U[tn](Mt),Ce=be.value}catch(Ye){return void kt(Ye)}be.done?Ke(Ce):Promise.resolve(Ce).then(Jn,Zn)}function Ne(U){return function(){var Ke=this,kt=arguments;return new Promise(function(Jn,Zn){var tn=U.apply(Ke,kt);function Mt(Ce){F(tn,Jn,Zn,Mt,be,"next",Ce)}function be(Ce){F(tn,Jn,Zn,Mt,be,"throw",Ce)}Mt(void 0)})}}rt.d(Ni,{A:()=>Ne})},635:(Go,Ni,rt)=>{function Ke(K,ce){var oe={};for(var ee in K)Object.prototype.hasOwnProperty.call(K,ee)&&ce.indexOf(ee)<0&&(oe[ee]=K[ee]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var pe=0;for(ee=Object.getOwnPropertySymbols(K);pe<ee.length;pe++)ce.indexOf(ee[pe])<0&&Object.prototype.propertyIsEnumerable.call(K,ee[pe])&&(oe[ee[pe]]=K[ee[pe]])}return oe}function Ye(K,ce,oe,ee){return new(oe||(oe=Promise))(function(Ae,me){function st(nn){try{dt(ee.next(nn))}catch(Hn){me(Hn)}}function En(nn){try{dt(ee.throw(nn))}catch(Hn){me(Hn)}}function dt(nn){nn.done?Ae(nn.value):function pe(Ae){return Ae instanceof oe?Ae:new oe(function(me){me(Ae)})}(nn.value).then(st,En)}dt((ee=ee.apply(K,ce||[])).next())})}function mn(K){return this instanceof mn?(this.v=K,this):new mn(K)}function pn(K,ce,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,ee=oe.apply(K,ce||[]),Ae=[];return pe=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),st("next"),st("throw"),st("return",function me(rn){return function(on){return Promise.resolve(on).then(rn,Hn)}}),pe[Symbol.asyncIterator]=function(){return this},pe;function st(rn,on){ee[rn]&&(pe[rn]=function(Ei){return new Promise(function(Gi,er){Ae.push([rn,Ei,Gi,er])>1||En(rn,Ei)})},on&&(pe[rn]=on(pe[rn])))}function En(rn,on){try{!function dt(rn){rn.value instanceof mn?Promise.resolve(rn.value.v).then(nn,Hn):qi(Ae[0][2],rn)}(ee[rn](on))}catch(Ei){qi(Ae[0][3],Ei)}}function nn(rn){En("next",rn)}function Hn(rn){En("throw",rn)}function qi(rn,on){rn(on),Ae.shift(),Ae.length&&En(Ae[0][0],Ae[0][1])}}function zt(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,ce=K[Symbol.asyncIterator];return ce?ce.call(K):(K=function Vt(K){var ce="function"==typeof Symbol&&Symbol.iterator,oe=ce&&K[ce],ee=0;if(oe)return oe.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&ee>=K.length&&(K=void 0),{value:K&&K[ee++],done:!K}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),oe={},ee("next"),ee("throw"),ee("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function ee(Ae){oe[Ae]=K[Ae]&&function(me){return new Promise(function(st,En){!function pe(Ae,me,st,En){Promise.resolve(En).then(function(dt){Ae({value:dt,done:st})},me)}(st,En,(me=K[Ae](me)).done,me.value)})}}}rt.d(Ni,{AQ:()=>pn,N3:()=>mn,Tt:()=>Ke,sH:()=>Ye,xN:()=>zt}),"function"==typeof SuppressedError&&SuppressedError}},Go=>{Go(Go.s=862)}]);