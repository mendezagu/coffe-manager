<div class="container">
  <div class="row">
    <div class="col">
      <mat-card
        class="example-card"
        [ngClass]="{
          'available-card': !hasOrders,
          'occupied-card': hasOrders
        }"
      >
        <mat-card-header>
          <mat-card-title class="d-flex flex-column align-items-start w-100">
            <!-- Nombre alineado a la izquierda -->
            <h2 class="text-white m-0">
              {{ name }}
            </h2>

            <!-- Párrafo alineado a la izquierda -->
            <small
              *ngIf="waiterId"
              class="d-flex align-items-center m-0 justify-content-center"
              style="font-size: 14px"
            >
              <div
                style="
                  display: flex;
                  justify-content: center;
                  align-items: baseline;
                  gap: 0.5rem;
                  color: white;
                "
              >
              Gestionado por: <strong>{{ waiterName }}</strong>
                <mat-icon
                  fontIcon="manage_accounts"
                  class="me-2"
                  style="font-size: 14px; font-weight: 300"
                ></mat-icon>
              </div>
            </small>
          </mat-card-title>

          <mat-card-subtitle>
            <span
              style="font-size: x-small; color: white; font-weight: 500"
              *ngIf="linkedTables.length > 0"
            >
              Vinculada con: {{ linkedTablesNames }}
            </span>
          </mat-card-subtitle>
        </mat-card-header>

        <mat-card-content
          style="
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
          "
        >
          <div style="margin-top: 1rem; margin-bottom: 1rem">
            <img
              *ngIf="available"
              style="width: 90px; height: 90px; border-radius: 100px"
              mat-card-image
              src="./assets/nuovo-cafe.jpg"
              alt="table"
            />
            <img
              *ngIf="!available"
              style="width: 90px; height: 90px; border-radius: 100px"
              mat-card-image
              src="./assets/nuovo-cafe.jpg"
              alt="table"
            />
          </div>

          <div class="row gx-2 gy-2 justify-content-center">
            <div class="col-6">
              <button
                class="btn btn-primary w-100"
                style="color: white; font-size: 10px"
                mat-raised-button
                (click)="onAddOrder()"
                [disabled]="controlledBy"
              >
                Ordenar
                <mat-icon fontIcon="restaurant"></mat-icon>
              </button>
            </div>

            <div class="col-6" *ngIf="orders.length > 0">
              <button
                class="btn btn-primary w-100"
                style="color: white; font-size: 10px"
                mat-raised-button
                (click)="onViewOrders()"
                [disabled]="controlledBy"
              >
                Ver Órdenes
                <mat-icon fontIcon="table_restaurant"></mat-icon>
              </button>
            </div>

            <div class="col-6">
              <button
                class="btn btn-primary w-100"
                style="color: white; font-size: 10px"
                mat-raised-button
                (click)="linkTable()"
                [disabled]="controlledBy"
              >
                Vincular Mesas
                <mat-icon fontIcon="link"></mat-icon>
              </button>
            </div>

            <div class="col-6" *ngIf="orders && orders.length > 0">
              <button
                class="btn btn-danger w-100"
                style="color: white; font-size: 10px"
                mat-raised-button
                (click)="onGetTotal()"
                [disabled]="controlledBy"
              >
                Total
                <mat-icon fontIcon="currency_exchange"></mat-icon>
              </button>
            </div>

            <div>
              <button
                class="btn btn-primary w-100"
                *ngIf="waiterId && orders.length === 0"
                style="color: white; font-size: 10px"
                mat-raised-button
                (click)="releaseTable()"
              >
                Liberar Mesa
                <mat-icon fontIcon="refresh"></mat-icon>
              </button>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
