<div class="container">
  <div class="row">
    <div class="col">
      <mat-card 
      class="example-card"
      [ngClass]="{ 'available-card': available, 'occupied-card': !available }"
      >
        <mat-card-header>
          <mat-card-title>
            <h3 style="font-size: larger; color: white; font-weight: 500;">
              {{ name }}
            </h3>
          
          </mat-card-title>
          <mat-card-subtitle>
            <small style="font-size: larger; color: white; font-weight: 500;">
              {{available ? "Disponible" : "Ocupado"}}
            </small>
         

             <span style="font-size: larger; color: white; font-weight: 500;" *ngIf="linkedTables.length > 0">
              - Vinculada con: {{ linkedTablesNames }}
            </span>
            
          </mat-card-subtitle>
        </mat-card-header>
  
        <mat-card-content style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
          <div style="margin-top: 1rem; margin-bottom: 1rem;">
            <img
            *ngIf="available"
            style="width: 150px; height: 150px;"
            mat-card-image
            src="../../../assets/table-free.png"
            alt="table"
          />
          <img
          *ngIf="!available"
          style="width: 150px; height: 150px;"
          mat-card-image
          src="../../../assets/table-busy.png"
          alt="table"
        />
          </div>
         
          <div [class.disabled]="controlledBy" style="width: 100%; text-align: center;">
            <p *ngIf="waiterId" style="color: white;">
              Mesa gestionada por mozo: {{ waiterId }}
            </p>
            <button
              style="width: 100%; margin-top: 0.5rem;"
              mat-raised-button
              color="primary"
              (click)="onAddOrder()"
              [disabled]="controlledBy"
            >
              Ordenar
              <mat-icon fontIcon="restaurant"></mat-icon>
            </button>
        
            <!-- Botón para ver órdenes -->
            <button
              style="width: 100%; margin-top: 0.5rem;"
              mat-raised-button
              color="primary"
              *ngIf="orders.length > 0"
              (click)="onViewOrders()"
              [disabled]="controlledBy"
            >
              Ver Órdenes
              <mat-icon fontIcon="table_restaurant"></mat-icon>
            </button>
        
            <!-- Botón para vincular mesas -->
            <button
              style="width: 100%; margin-top: 0.5rem;"
              mat-raised-button
              color="primary"
              (click)="onLinkTable()"
              [disabled]="controlledBy"
            >
              Vincular Mesas
              <mat-icon fontIcon="link"></mat-icon>
            </button>
        
            <!-- Botón para total -->
            <button
              style="width: 100%; margin-top: 0.5rem;"
              mat-raised-button
              color="warn"
              *ngIf="orders.length > 0"
              (click)="onGetTotal()"
              [disabled]="controlledBy"
            >
              Total
              <mat-icon fontIcon="currency_exchange"></mat-icon>
            </button>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
