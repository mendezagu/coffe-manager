"use strict";(self.webpackChunkcoffe_manager=self.webpackChunkcoffe_manager||[]).push([[792],{443:(Go,Fi,it)=>{it.d(Fi,{$:()=>wy,A:()=>Te,C:()=>lT,G:()=>Kt,K:()=>hy,L:()=>ma,N:()=>ys,P:()=>Xr,R:()=>vT,U:()=>Ze,V:()=>Xo,W:()=>un,X:()=>Ch,Y:()=>kp,Z:()=>Kr,_:()=>ga,a:()=>Ly,a0:()=>Pd,a1:()=>kh,a2:()=>Ty,a3:()=>Ay,a4:()=>oT,a5:()=>vo,a6:()=>ky,a7:()=>sT,a8:()=>fi,a9:()=>Dt,aA:()=>ay,aB:()=>pn,aC:()=>oe,aD:()=>og,aE:()=>ge,aF:()=>Qt,aG:()=>ig,aH:()=>n0,aI:()=>IT,aJ:()=>hi,aN:()=>Cr,aQ:()=>Za,aa:()=>Jo,ab:()=>Ir,ac:()=>al,ad:()=>ba,ae:()=>cl,af:()=>ll,ag:()=>Ld,ah:()=>ws,ak:()=>Qs,al:()=>Vd,am:()=>$t,ap:()=>iT,aq:()=>Qr,as:()=>hL,at:()=>Fy,au:()=>It,av:()=>vp,aw:()=>vt,ax:()=>mn,ay:()=>_l,az:()=>sg,b:()=>Ys,c:()=>Jy,d:()=>e0,e:()=>Zy,f:()=>CT,g:()=>s0,h:()=>Rt,i:()=>Nh,j:()=>ng,k:()=>sc,l:()=>Qp,m:()=>EL,o:()=>g0,p:()=>tn,r:()=>Is,s:()=>Yy,u:()=>Xp,y:()=>cT});var V=it(467),Ne=it(631),H=it(401),Ke=it(398),kt=it(635),ei=it(779);const tn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Te={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Kt=function Ye(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Mi=function St(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Bt=new H.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ot=new Ke.Vy("@firebase/auth");function jn(g,...h){ot.logLevel<=Ke.$b.ERROR&&ot.error(`Auth (${Ne.SDK_VERSION}): ${g}`,...h)}function mn(g,...h){throw De(g,...h)}function pn(g,...h){return De(g,...h)}function vr(g,h,f){const _=Object.assign(Object.assign({},Mi()),{[h]:f});return new H.FA("auth","Firebase",_).create(h,{appName:g.name})}function Ht(g){return vr(g,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Et(g,h,f){if(!(h instanceof f))throw f.name!==h.constructor.name&&mn(g,"argument-error"),vr(g,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function De(g,...h){if("string"!=typeof g){const f=h[0],_=[...h.slice(1)];return _[0]&&(_[0].appName=g.name),g._errorFactory.create(f,..._)}return Bt.create(g,...h)}function oe(g,h,...f){if(!g)throw De(h,...f)}function et(g){const h="INTERNAL ASSERTION FAILED: "+g;throw jn(h),new Error(h)}function It(g,h){g||et(h)}function qt(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function zn(){return"http:"===Sn()||"https:"===Sn()}function Sn(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class qi{constructor(h,f){this.shortDelay=h,this.longDelay=f,It(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,H.jZ)()||(0,H.lV)()}get(){return function at(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(zn()||(0,H.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wr(g,h){It(g.emulator,"Emulator should always be set here");const{url:f}=g.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class _s{static initialize(h,f,_){this.fetchImpl=h,f&&(this.headersImpl=f),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},le=new qi(3e4,6e4);function se(g,h){return g.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:g.tenantId}):h}function te(g,h,f,_){return me.apply(this,arguments)}function me(){return(me=(0,V.A)(function*(g,h,f,_,C={}){return Ae(g,C,(0,V.A)(function*(){let M={},J={};_&&("GET"===h?J=_:M={body:JSON.stringify(_)});const ce=(0,H.Am)(Object.assign({key:g.config.apiKey},J)).slice(1),xe=yield g._getAdditionalHeaders();xe["Content-Type"]="application/json",g.languageCode&&(xe["X-Firebase-Locale"]=g.languageCode);const Ge=Object.assign({method:h,headers:xe},M);return(0,H.c1)()||(Ge.referrerPolicy="no-referrer"),_s.fetch()(ut(g,g.config.apiHost,f,ce),Ge)}))})).apply(this,arguments)}function Ae(g,h,f){return pe.apply(this,arguments)}function pe(){return(pe=(0,V.A)(function*(g,h,f){g._canInitEmulator=!1;const _=Object.assign(Object.assign({},Q),h);try{const C=new qn(g),M=yield Promise.race([f(),C.promise]);C.clearNetworkTimeout();const J=yield M.json();if("needConfirmation"in J)throw Wi(g,"account-exists-with-different-credential",J);if(M.ok&&!("errorMessage"in J))return J;{const ce=M.ok?J.errorMessage:J.error.message,[xe,Ge]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xe)throw Wi(g,"credential-already-in-use",J);if("EMAIL_EXISTS"===xe)throw Wi(g,"email-already-in-use",J);if("USER_DISABLED"===xe)throw Wi(g,"user-disabled",J);const tt=_[xe]||xe.toLowerCase().replace(/[_\s]+/g,"-");if(Ge)throw vr(g,tt,Ge);mn(g,tt)}}catch(C){if(C instanceof H.g)throw C;mn(g,"network-request-failed",{message:String(C)})}})).apply(this,arguments)}function st(g,h,f,_){return En.apply(this,arguments)}function En(){return(En=(0,V.A)(function*(g,h,f,_,C={}){const M=yield te(g,h,f,_,C);return"mfaPendingCredential"in M&&mn(g,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function ut(g,h,f,_){const C=`${h}${f}?${_}`;return g.config.emulator?Wr(g.config,C):`${g.config.apiScheme}://${C}`}function nn(g){switch(g){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,_)=>{this.timer=setTimeout(()=>_(pn(this.auth,"network-request-failed")),le.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wi(g,h,f){const _={appName:g.name};f.email&&(_.email=f.email),f.phoneNumber&&(_.phoneNumber=f.phoneNumber);const C=pn(g,h,_);return C.customData._tokenResponse=f,C}function rn(g){return void 0!==g&&void 0!==g.getResponse}function on(g){return void 0!==g&&void 0!==g.enterprise}class Ci{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const f of this.recaptchaEnforcementState)if(f.provider&&f.provider===h)return nn(f.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function nr(){return(nr=(0,V.A)(function*(g){return(yield te(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Wt(g,h){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,V.A)(function*(g,h){return te(g,"GET","/v2/recaptchaConfig",se(g,h))})).apply(this,arguments)}function ha(){return(ha=(0,V.A)(function*(g,h){return te(g,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function $r(){return($r=(0,V.A)(function*(g,h){return te(g,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function So(g,h){return zs.apply(this,arguments)}function zs(){return(zs=(0,V.A)(function*(g,h){return te(g,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function $i(g){if(g)try{const h=new Date(Number(g));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function ir(){return(ir=(0,V.A)(function*(g,h=!1){const f=(0,H.Ku)(g),_=yield f.getIdToken(h),C=Hs(_);oe(C&&C.exp&&C.auth_time&&C.iat,f.auth,"internal-error");const M="object"==typeof C.firebase?C.firebase:void 0,J=M?.sign_in_provider;return{claims:C,token:_,authTime:$i(ni(C.auth_time)),issuedAtTime:$i(ni(C.iat)),expirationTime:$i(ni(C.exp)),signInProvider:J||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function ni(g){return 1e3*Number(g)}function Hs(g){const[h,f,_]=g.split(".");if(void 0===h||void 0===f||void 0===_)return jn("JWT malformed, contained fewer than 3 sections"),null;try{const C=(0,H.u)(f);return C?JSON.parse(C):(jn("Failed to decode base64 JWT payload"),null)}catch(C){return jn("Caught error parsing JWT payload as JSON",C?.toString()),null}}function $o(g){const h=Hs(g);return oe(h,"internal-error"),oe(typeof h.exp<"u","internal-error"),oe(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function vn(g,h){return mo.apply(this,arguments)}function mo(){return(mo=(0,V.A)(function*(g,h,f=!1){if(f)return h;try{return yield h}catch(_){throw _ instanceof H.g&&function Ko({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}(_)&&g.auth.currentUser===g&&(yield g.auth.signOut()),_}})).apply(this,arguments)}class Qo{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const C=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,C)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const _=this.getInterval(h);this.timerId=setTimeout((0,V.A)(function*(){yield f.iteration()}),_)}iteration(){var h=this;return(0,V.A)(function*(){try{yield h.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&h.schedule(!0))}h.schedule()})()}}class yr{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=$i(this.lastLoginAt),this.creationTime=$i(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pi(g){return xr.apply(this,arguments)}function xr(){return(xr=(0,V.A)(function*(g){var h;const f=g.auth,_=yield g.getIdToken(),C=yield vn(g,So(f,{idToken:_}));oe(C?.users.length,f,"internal-error");const M=C.users[0];g._notifyReloadListener(M);const J=null!==(h=M.providerUserInfo)&&void 0!==h&&h.length?fa(M.providerUserInfo):[],ce=function Gs(g,h){return[...g.filter(_=>!h.some(C=>C.providerId===_.providerId)),...h]}(g.providerData,J),tt=!!g.isAnonymous&&!(g.email&&M.passwordHash||ce?.length),jt={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:ce,metadata:new yr(M.createdAt,M.lastLoginAt),isAnonymous:tt};Object.assign(g,jt)})).apply(this,arguments)}function Ws(){return(Ws=(0,V.A)(function*(g){const h=(0,H.Ku)(g);yield Pi(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function fa(g){return g.map(h=>{var{providerId:f}=h,_=(0,kt.Tt)(h,["providerId"]);return{providerId:f,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function Be(){return(Be=(0,V.A)(function*(g,h){const f=yield Ae(g,{},(0,V.A)(function*(){const _=(0,H.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:C,apiKey:M}=g.config,J=ut(g,C,"/v1/token",`key=${M}`),ce=yield g._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",_s.fetch()(J,{method:"POST",headers:ce,body:_})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}function T(){return(T=(0,V.A)(function*(g,h){return te(g,"POST","/v2/accounts:revokeToken",se(g,h))})).apply(this,arguments)}class E{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){oe(h.idToken,"internal-error"),oe(typeof h.idToken<"u","internal-error"),oe(typeof h.refreshToken<"u","internal-error");const f="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):$o(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}updateFromIdToken(h){oe(0!==h.length,"internal-error");const f=$o(h);this.updateTokensAndExpiration(h,null,f)}getToken(h,f=!1){var _=this;return(0,V.A)(function*(){return f||!_.accessToken||_.isExpired?(oe(_.refreshToken,h,"user-token-expired"),_.refreshToken?(yield _.refresh(h,_.refreshToken),_.accessToken):null):_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var _=this;return(0,V.A)(function*(){const{accessToken:C,refreshToken:M,expiresIn:J}=yield function Ya(g,h){return Be.apply(this,arguments)}(h,f);_.updateTokensAndExpiration(C,M,Number(J))})()}updateTokensAndExpiration(h,f,_){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(h,f){const{refreshToken:_,accessToken:C,expirationTime:M}=f,J=new E;return _&&(oe("string"==typeof _,"internal-error",{appName:h}),J.refreshToken=_),C&&(oe("string"==typeof C,"internal-error",{appName:h}),J.accessToken=C),M&&(oe("number"==typeof M,"internal-error",{appName:h}),J.expirationTime=M),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new E,this.toJSON())}_performRefresh(){return et("not implemented")}}function k(g,h){oe("string"==typeof g||typeof g>"u","internal-error",{appName:h})}class O{constructor(h){var{uid:f,auth:_,stsTokenManager:C}=h,M=(0,kt.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=_,this.stsTokenManager=C,this.accessToken=C.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new yr(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,V.A)(function*(){const _=yield vn(f,f.stsTokenManager.getToken(f.auth,h));return oe(_,f.auth,"internal-error"),f.accessToken!==_&&(f.accessToken=_,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),_})()}getIdTokenResult(h){return function Wn(g){return ir.apply(this,arguments)}(this,h)}reload(){return function qs(g){return Ws.apply(this,arguments)}(this)}_assign(h){this!==h&&(oe(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const f=new O(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(h){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,f=!1){var _=this;return(0,V.A)(function*(){let C=!1;h.idToken&&h.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(h),C=!0),f&&(yield Pi(_)),yield _.auth._persistUserIfCurrent(_),C&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var h=this;return(0,V.A)(function*(){if((0,Ne._isFirebaseServerApp)(h.auth.app))return Promise.reject(Ht(h.auth));const f=yield h.getIdToken();return yield vn(h,function js(g,h){return ha.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var _,C,M,J,ce,xe,Ge,tt;const jt=null!==(_=f.displayName)&&void 0!==_?_:void 0,Nr=null!==(C=f.email)&&void 0!==C?C:void 0,Ea=null!==(M=f.phoneNumber)&&void 0!==M?M:void 0,ac=null!==(J=f.photoURL)&&void 0!==J?J:void 0,Ia=null!==(ce=f.tenantId)&&void 0!==ce?ce:void 0,yg=null!==(xe=f._redirectEventId)&&void 0!==xe?xe:void 0,xg=null!==(Ge=f.createdAt)&&void 0!==Ge?Ge:void 0,wg=null!==(tt=f.lastLoginAt)&&void 0!==tt?tt:void 0,{uid:cc,emailVerified:b0,isAnonymous:Tr,providerData:Eg,stsTokenManager:Ut}=f;oe(cc&&Ut,h,"internal-error");const Ig=E.fromJSON(this.name,Ut);oe("string"==typeof cc,h,"internal-error"),k(jt,h.name),k(Nr,h.name),oe("boolean"==typeof b0,h,"internal-error"),oe("boolean"==typeof Tr,h,"internal-error"),k(Ea,h.name),k(ac,h.name),k(Ia,h.name),k(yg,h.name),k(xg,h.name),k(wg,h.name);const Cg=new O({uid:cc,auth:h,email:Nr,emailVerified:b0,displayName:jt,isAnonymous:Tr,photoURL:ac,phoneNumber:Ea,tenantId:Ia,stsTokenManager:Ig,createdAt:xg,lastLoginAt:wg});return Eg&&Array.isArray(Eg)&&(Cg.providerData=Eg.map(v0=>Object.assign({},v0))),yg&&(Cg._redirectEventId=yg),Cg}static _fromIdTokenResponse(h,f,_=!1){return(0,V.A)(function*(){const C=new E;C.updateFromServerResponse(f);const M=new O({uid:f.localId,auth:h,stsTokenManager:C,isAnonymous:_});return yield Pi(M),M})()}static _fromGetAccountInfoResponse(h,f,_){return(0,V.A)(function*(){const C=f.users[0];oe(void 0!==C.localId,"internal-error");const M=void 0!==C.providerUserInfo?fa(C.providerUserInfo):[],J=!(C.email&&C.passwordHash||M?.length),ce=new E;ce.updateFromIdToken(_);const xe=new O({uid:C.localId,auth:h,stsTokenManager:ce,isAnonymous:J}),Ge={uid:C.localId,displayName:C.displayName||null,photoURL:C.photoUrl||null,email:C.email||null,emailVerified:C.emailVerified||!1,phoneNumber:C.phoneNumber||null,tenantId:C.tenantId||null,providerData:M,metadata:new yr(C.createdAt,C.lastLoginAt),isAnonymous:!(C.email&&C.passwordHash||M?.length)};return Object.assign(xe,Ge),xe})()}}const q=new Map;function ge(g){It(g instanceof Function,"Expected a class definition");let h=q.get(g);return h?(It(h instanceof g,"Instance stored in cache mismatched with class"),h):(h=new g,q.set(g,h),h)}const Ze=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,V.A)(function*(){return!0})()}_set(f,_){var C=this;return(0,V.A)(function*(){C.storage[f]=_})()}_get(f){var _=this;return(0,V.A)(function*(){const C=_.storage[f];return void 0===C?null:C})()}_remove(f){var _=this;return(0,V.A)(function*(){delete _.storage[f]})()}_addListener(f,_){}_removeListener(f,_){}}return g.type="NONE",g})();function Qt(g,h,f){return`firebase:${g}:${h}:${f}`}class Xe{constructor(h,f,_){this.persistence=h,this.auth=f,this.userKey=_;const{config:C,name:M}=this.auth;this.fullUserKey=Qt(this.userKey,C.apiKey,M),this.fullPersistenceKey=Qt("persistence",C.apiKey,M),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,V.A)(function*(){const f=yield h.persistence._get(h.fullUserKey);return f?O._fromJSON(h.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var f=this;return(0,V.A)(function*(){if(f.persistence===h)return;const _=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=h,_?f.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,f,_="authUser"){return(0,V.A)(function*(){if(!f.length)return new Xe(ge(Ze),h,_);const C=(yield Promise.all(f.map(function(){var Ge=(0,V.A)(function*(tt){if(yield tt._isAvailable())return tt});return function(tt){return Ge.apply(this,arguments)}}()))).filter(Ge=>Ge);let M=C[0]||ge(Ze);const J=Qt(_,h.config.apiKey,h.name);let ce=null;for(const Ge of f)try{const tt=yield Ge._get(J);if(tt){const jt=O._fromJSON(h,tt);Ge!==M&&(ce=jt),M=Ge;break}}catch{}const xe=C.filter(Ge=>Ge._shouldAllowMigration);return M._shouldAllowMigration&&xe.length?(M=xe[0],ce&&(yield M._set(J,ce.toJSON())),yield Promise.all(f.map(function(){var Ge=(0,V.A)(function*(tt){if(tt!==M)try{yield tt._remove(J)}catch{}});return function(tt){return Ge.apply(this,arguments)}}())),new Xe(M,h,_)):new Xe(M,h,_)})()}}function Gn(g){const h=g.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(dn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Le(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(vh(h))return"Blackberry";if(yh(h))return"Webos";if(ui(h))return"Safari";if((h.includes("chrome/")||vs(h))&&!h.includes("edge/"))return"Chrome";if(vt(h))return"Android";{const _=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function Le(g=(0,H.ZQ)()){return/firefox\//i.test(g)}function ui(g=(0,H.ZQ)()){const h=g.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function vs(g=(0,H.ZQ)()){return/crios\//i.test(g)}function dn(g=(0,H.ZQ)()){return/iemobile/i.test(g)}function vt(g=(0,H.ZQ)()){return/android/i.test(g)}function vh(g=(0,H.ZQ)()){return/blackberry/i.test(g)}function yh(g=(0,H.ZQ)()){return/webos/i.test(g)}function vp(g=(0,H.ZQ)()){return/iphone|ipad|ipod/i.test(g)||/macintosh/i.test(g)&&/mobile/i.test(g)}function ay(g=(0,H.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}function Ct(g=(0,H.ZQ)()){return vp(g)||vt(g)||yh(g)||vh(g)||/windows phone/i.test(g)||dn(g)}function gn(g,h=[]){let f;switch(g){case"Browser":f=Gn((0,H.ZQ)());break;case"Worker":f=`${Gn((0,H.ZQ)())}-${g}`;break;default:f=g}const _=h.length?h.join(","):"FirebaseCore-web";return`${f}/JsCore/${Ne.SDK_VERSION}/${_}`}class GC{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,f){const _=M=>new Promise((J,ce)=>{try{J(h(M))}catch(xe){ce(xe)}});_.onAbort=f,this.queue.push(_);const C=this.queue.length-1;return()=>{this.queue[C]=()=>Promise.resolve()}}runMiddleware(h){var f=this;return(0,V.A)(function*(){if(f.auth.currentUser===h)return;const _=[];try{for(const C of f.queue)yield C(h),C.onAbort&&_.push(C.onAbort)}catch(C){_.reverse();for(const M of _)try{M()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:C?.message})}})()}}function yp(){return(yp=(0,V.A)(function*(g,h={}){return te(g,"GET","/v2/passwordPolicy",se(g,h))})).apply(this,arguments)}class po{constructor(h){var f,_,C,M;const J=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(f=J.minPasswordLength)&&void 0!==f?f:6,J.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=J.maxPasswordLength),void 0!==J.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=J.containsLowercaseCharacter),void 0!==J.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=J.containsUppercaseCharacter),void 0!==J.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=J.containsNumericCharacter),void 0!==J.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=J.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(C=null===(_=h.allowedNonAlphanumericCharacters)||void 0===_?void 0:_.join(""))&&void 0!==C?C:"",this.forceUpgradeOnSignin=null!==(M=h.forceUpgradeOnSignin)&&void 0!==M&&M,this.schemaVersion=h.schemaVersion}validatePassword(h){var f,_,C,M,J,ce;const xe={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,xe),this.validatePasswordCharacterOptions(h,xe),xe.isValid&&(xe.isValid=null===(f=xe.meetsMinPasswordLength)||void 0===f||f),xe.isValid&&(xe.isValid=null===(_=xe.meetsMaxPasswordLength)||void 0===_||_),xe.isValid&&(xe.isValid=null===(C=xe.containsLowercaseLetter)||void 0===C||C),xe.isValid&&(xe.isValid=null===(M=xe.containsUppercaseLetter)||void 0===M||M),xe.isValid&&(xe.isValid=null===(J=xe.containsNumericCharacter)||void 0===J||J),xe.isValid&&(xe.isValid=null===(ce=xe.containsNonAlphanumericCharacter)||void 0===ce||ce),xe}validatePasswordLengthOptions(h,f){const _=this.customStrengthOptions.minPasswordLength,C=this.customStrengthOptions.maxPasswordLength;_&&(f.meetsMinPasswordLength=h.length>=_),C&&(f.meetsMaxPasswordLength=h.length<=C)}validatePasswordCharacterOptions(h,f){let _;this.updatePasswordCharacterOptionsStatuses(f,!1,!1,!1,!1);for(let C=0;C<h.length;C++)_=h.charAt(C),this.updatePasswordCharacterOptionsStatuses(f,_>="a"&&_<="z",_>="A"&&_<="Z",_>="0"&&_<="9",this.allowedNonAlphanumericCharacters.includes(_))}updatePasswordCharacterOptionsStatuses(h,f,_,C,M){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=f)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=_)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=C)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=M))}}class eL{constructor(h,f,_,C){this.app=h,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $C(this),this.idTokenSubscription=new $C(this),this.beforeStateQueue=new GC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(h,f){var _=this;return f&&(this._popupRedirectResolver=ge(f)),this._initializationPromise=this.queue((0,V.A)(function*(){var C,M;if(!_._deleted&&(_.persistenceManager=yield Xe.create(_,h),!_._deleted)){if(null!==(C=_._popupRedirectResolver)&&void 0!==C&&C._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(f),_.lastNotifiedUid=(null===(M=_.currentUser)||void 0===M?void 0:M.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,V.A)(function*(){if(h._deleted)return;const f=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||f){if(h.currentUser&&f&&h.currentUser.uid===f.uid)return h._currentUser._assign(f),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(f,!0)}})()}initializeCurrentUserFromIdToken(h){var f=this;return(0,V.A)(function*(){try{const _=yield So(f,{idToken:h}),C=yield O._fromGetAccountInfoResponse(f,_,h);yield f.directlySetCurrentUser(C)}catch(_){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",_),yield f.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var f=this;return(0,V.A)(function*(){var _;if((0,Ne._isFirebaseServerApp)(f.app)){const ce=f.app.settings.authIdToken;return ce?new Promise(xe=>{setTimeout(()=>f.initializeCurrentUserFromIdToken(ce).then(xe,xe))}):f.directlySetCurrentUser(null)}const C=yield f.assertedPersistence.getCurrentUser();let M=C,J=!1;if(h&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const ce=null===(_=f.redirectUser)||void 0===_?void 0:_._redirectEventId,xe=M?._redirectEventId,Ge=yield f.tryRedirectSignIn(h);(!ce||ce===xe)&&Ge?.user&&(M=Ge.user,J=!0)}if(!M)return f.directlySetCurrentUser(null);if(!M._redirectEventId){if(J)try{yield f.beforeStateQueue.runMiddleware(M)}catch(ce){M=C,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(ce))}return M?f.reloadAndSetCurrentUserOrClear(M):f.directlySetCurrentUser(null)}return oe(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===M._redirectEventId?f.directlySetCurrentUser(M):f.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(h){var f=this;return(0,V.A)(function*(){let _=null;try{_=yield f._popupRedirectResolver._completeRedirectFn(f,h,!0)}catch{yield f._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(h){var f=this;return(0,V.A)(function*(){try{yield Pi(h)}catch(_){if("auth/network-request-failed"!==_?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Hn(){if(typeof navigator>"u")return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var h=this;return(0,V.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var f=this;return(0,V.A)(function*(){if((0,Ne._isFirebaseServerApp)(f.app))return Promise.reject(Ht(f));const _=h?(0,H.Ku)(h):null;return _&&oe(_.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(_&&_._clone(f))})()}_updateCurrentUser(h,f=!1){var _=this;return(0,V.A)(function*(){if(!_._deleted)return h&&oe(_.tenantId===h.tenantId,_,"tenant-id-mismatch"),f||(yield _.beforeStateQueue.runMiddleware(h)),_.queue((0,V.A)(function*(){yield _.directlySetCurrentUser(h),_.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,V.A)(function*(){return(0,Ne._isFirebaseServerApp)(h.app)?Promise.reject(Ht(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var f=this;return(0,Ne._isFirebaseServerApp)(this.app)?Promise.reject(Ht(this)):this.queue((0,V.A)(function*(){yield f.assertedPersistence.setPersistence(ge(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var f=this;return(0,V.A)(function*(){f._getPasswordPolicyInternal()||(yield f._updatePasswordPolicy());const _=f._getPasswordPolicyInternal();return _.schemaVersion!==f.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(f._errorFactory.create("unsupported-password-policy-schema-version",{})):_.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,V.A)(function*(){const f=yield function ZF(g){return yp.apply(this,arguments)}(h),_=new po(f);null===h.tenantId?h._projectPasswordPolicy=_:h._tenantPasswordPolicies[h.tenantId]=_})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new H.FA("auth","Firebase",h())}onAuthStateChanged(h,f,_){return this.registerStateListener(this.authStateSubscription,h,f,_)}beforeAuthStateChanged(h,f){return this.beforeStateQueue.pushCallback(h,f)}onIdTokenChanged(h,f,_){return this.registerStateListener(this.idTokenSubscription,h,f,_)}authStateReady(){return new Promise((h,f)=>{if(this.currentUser)h();else{const _=this.onAuthStateChanged(()=>{_(),h()},f)}})}revokeAccessToken(h){var f=this;return(0,V.A)(function*(){if(f.currentUser){const _=yield f.currentUser.getIdToken(),C={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:_};null!=f.tenantId&&(C.tenantId=f.tenantId),yield function ye(g,h){return T.apply(this,arguments)}(f,C)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,f){var _=this;return(0,V.A)(function*(){const C=yield _.getOrInitRedirectPersistenceManager(f);return null===h?C.removeCurrentUser():C.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var f=this;return(0,V.A)(function*(){if(!f.redirectPersistenceManager){const _=h&&ge(h)||f._popupRedirectResolver;oe(_,f,"argument-error"),f.redirectPersistenceManager=yield Xe.create(f,[ge(_._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(h){var f=this;return(0,V.A)(function*(){var _,C;return f._isInitialized&&(yield f.queue((0,V.A)(function*(){}))),(null===(_=f._currentUser)||void 0===_?void 0:_._redirectEventId)===h?f._currentUser:(null===(C=f.redirectUser)||void 0===C?void 0:C._redirectEventId)===h?f.redirectUser:null})()}_persistUserIfCurrent(h){var f=this;return(0,V.A)(function*(){if(h===f.currentUser)return f.queue((0,V.A)(function*(){return f.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(f=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,f,_,C){if(this._deleted)return()=>{};const M="function"==typeof f?f:f.next.bind(f);let J=!1;const ce=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(ce,this,"internal-error"),ce.then(()=>{J||M(this.currentUser)}),"function"==typeof f){const xe=h.addObserver(f,_,C);return()=>{J=!0,xe()}}{const xe=h.addObserver(f);return()=>{J=!0,xe()}}}directlySetCurrentUser(h){var f=this;return(0,V.A)(function*(){f.currentUser&&f.currentUser!==h&&f._currentUser._stopProactiveRefresh(),h&&f.isProactiveRefreshEnabled&&h._startProactiveRefresh(),f.currentUser=h,h?yield f.assertedPersistence.setCurrentUser(h):yield f.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=gn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,V.A)(function*(){var f;const _={"X-Client-Version":h.clientVersion};h.app.options.appId&&(_["X-Firebase-gmpid"]=h.app.options.appId);const C=yield null===(f=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();C&&(_["X-Firebase-Client"]=C);const M=yield h._getAppCheckToken();return M&&(_["X-Firebase-AppCheck"]=M),_})()}_getAppCheckToken(){var h=this;return(0,V.A)(function*(){var f;const _=yield null===(f=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return _?.error&&function di(g,...h){ot.logLevel<=Ke.$b.WARN&&ot.warn(`Auth (${Ne.SDK_VERSION}): ${g}`,...h)}(`Error while retrieving App Check token: ${_.error}`),_?.token})()}}function hi(g){return(0,H.Ku)(g)}class $C{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,H.tD)(f=>this.observer=f)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yo={loadJS:()=>(0,V.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cy(g){return Yo.loadJS(g)}function QC(g){return`__${g}${Math.floor(1e6*Math.random())}`}class go{constructor(h){this.type="recaptcha-enterprise",this.auth=hi(h)}verify(h="verify",f=!1){var _=this;return(0,V.A)(function*(){function M(){return M=(0,V.A)(function*(ce){if(!f){if(null==ce.tenantId&&null!=ce._agentRecaptchaConfig)return ce._agentRecaptchaConfig.siteKey;if(null!=ce.tenantId&&void 0!==ce._tenantRecaptchaConfigs[ce.tenantId])return ce._tenantRecaptchaConfigs[ce.tenantId].siteKey}return new Promise(function(){var xe=(0,V.A)(function*(Ge,tt){Wt(ce,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(jt=>{if(void 0!==jt.recaptchaKey){const Nr=new Ci(jt);return null==ce.tenantId?ce._agentRecaptchaConfig=Nr:ce._tenantRecaptchaConfigs[ce.tenantId]=Nr,Ge(Nr.siteKey)}tt(new Error("recaptcha Enterprise site key undefined"))}).catch(jt=>{tt(jt)})});return function(Ge,tt){return xe.apply(this,arguments)}}())}),M.apply(this,arguments)}function J(ce,xe,Ge){const tt=window.grecaptcha;on(tt)?tt.enterprise.ready(()=>{tt.enterprise.execute(ce,{action:h}).then(jt=>{xe(jt)}).catch(()=>{xe("NO_RECAPTCHA")})}):Ge(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ce,xe)=>{(function C(ce){return M.apply(this,arguments)})(_.auth).then(Ge=>{if(!f&&on(window.grecaptcha))J(Ge,ce,xe);else{if(typeof window>"u")return void xe(new Error("RecaptchaVerifier is only supported in browser"));let tt=function iL(){return Yo.recaptchaEnterpriseScript}();0!==tt.length&&(tt+=Ge),cy(tt).then(()=>{J(Ge,ce,xe)}).catch(jt=>{xe(jt)})}}).catch(Ge=>{xe(Ge)})})})()}}function yt(g,h,f){return ly.apply(this,arguments)}function ly(){return(ly=(0,V.A)(function*(g,h,f,_=!1){const C=new go(g);let M;try{M=yield C.verify(f)}catch{M=yield C.verify(f,!0)}const J=Object.assign({},h);return Object.assign(J,_?{captchaResp:M}:{captchaResponse:M}),Object.assign(J,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(J,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),J})).apply(this,arguments)}function wh(g,h,f,_){return dy.apply(this,arguments)}function dy(){return dy=(0,V.A)(function*(g,h,f,_){var C;if(null!==(C=g._getRecaptchaConfig())&&void 0!==C&&C.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const M=yield yt(g,h,f,"getOobCode"===f);return _(g,M)}return _(g,h).catch(function(){var M=(0,V.A)(function*(J){if("auth/missing-recaptcha-token"===J.code){console.log(`${f} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ce=yield yt(g,h,f,"getOobCode"===f);return _(g,ce)}return Promise.reject(J)});return function(J){return M.apply(this,arguments)}}())}),dy.apply(this,arguments)}function hy(g,h,f){const _=hi(g);oe(_._canInitEmulator,_,"emulator-config-failed"),oe(/^https?:\/\//.test(h),_,"invalid-emulator-scheme");const C=!!f?.disableWarnings,M=wp(h),{host:J,port:ce}=function XC(g){const h=wp(g),f=/(\/\/)?([^?#/]+)/.exec(g.substr(h.length));if(!f)return{host:"",port:null};const _=f[2].split("@").pop()||"",C=/^(\[[^\]]+\])(:|$)/.exec(_);if(C){const M=C[1];return{host:M,port:Cd(_.substr(M.length+1))}}{const[M,J]=_.split(":");return{host:M,port:Cd(J)}}}(h);_.config.emulator={url:`${M}//${J}${null===ce?"":`:${ce}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:J,port:ce,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:C})}),C||function Ih(){function g(){const h=document.createElement("p"),f=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}function wp(g){const h=g.indexOf(":");return h<0?"":g.substr(0,h+1)}function Cd(g){if(!g)return null;const h=Number(g);return isNaN(h)?null:h}class ma{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return et("not implemented")}_getIdTokenResponse(h){return et("not implemented")}_linkToIdToken(h,f){return et("not implemented")}_getReauthenticationResolver(h){return et("not implemented")}}function Ep(g,h){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,V.A)(function*(g,h){return te(g,"POST","/v1/accounts:resetPassword",se(g,h))})).apply(this,arguments)}function Td(){return(Td=(0,V.A)(function*(g,h){return te(g,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function fy(g,h){return wr.apply(this,arguments)}function wr(){return(wr=(0,V.A)(function*(g,h){return te(g,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function py(){return(py=(0,V.A)(function*(g,h){return te(g,"POST","/v1/accounts:update",se(g,h))})).apply(this,arguments)}function Nn(g,h){return gy.apply(this,arguments)}function gy(){return(gy=(0,V.A)(function*(g,h){return st(g,"POST","/v1/accounts:signInWithPassword",se(g,h))})).apply(this,arguments)}function Cp(g,h){return ue.apply(this,arguments)}function ue(){return(ue=(0,V.A)(function*(g,h){return te(g,"POST","/v1/accounts:sendOobCode",se(g,h))})).apply(this,arguments)}function Ad(){return(Ad=(0,V.A)(function*(g,h){return Cp(g,h)})).apply(this,arguments)}function _y(g,h){return kd.apply(this,arguments)}function kd(){return(kd=(0,V.A)(function*(g,h){return Cp(g,h)})).apply(this,arguments)}function JC(g,h){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,V.A)(function*(g,h){return Cp(g,h)})).apply(this,arguments)}function by(){return(by=(0,V.A)(function*(g,h){return Cp(g,h)})).apply(this,arguments)}function vy(){return(vy=(0,V.A)(function*(g,h){return st(g,"POST","/v1/accounts:signInWithEmailLink",se(g,h))})).apply(this,arguments)}function Xa(){return(Xa=(0,V.A)(function*(g,h){return st(g,"POST","/v1/accounts:signInWithEmailLink",se(g,h))})).apply(this,arguments)}class Ja extends ma{constructor(h,f,_,C=null){super("password",_),this._email=h,this._password=f,this._tenantId=C}static _fromEmailAndPassword(h,f){return new Ja(h,f,"password")}static _fromEmailAndCode(h,f,_=null){return new Ja(h,f,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(h){var f=this;return(0,V.A)(function*(){switch(f.signInMethod){case"password":return wh(h,{returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Nn);case"emailLink":return function sL(g,h){return vy.apply(this,arguments)}(h,{email:f._email,oobCode:f._password});default:mn(h,"internal-error")}})()}_linkToIdToken(h,f){var _=this;return(0,V.A)(function*(){switch(_.signInMethod){case"password":return wh(h,{idToken:f,returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fy);case"emailLink":return function aL(g,h){return Xa.apply(this,arguments)}(h,{idToken:f,email:_._email,oobCode:_._password});default:mn(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Do(g,h){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,V.A)(function*(g,h){return st(g,"POST","/v1/accounts:signInWithIdp",se(g,h))})).apply(this,arguments)}class ys extends ma{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const f=new ys(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(f.idToken=h.idToken),h.accessToken&&(f.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(f.nonce=h.nonce),h.pendingToken&&(f.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(f.accessToken=h.oauthToken,f.secret=h.oauthTokenSecret):mn("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:C}=f,M=(0,kt.Tt)(f,["providerId","signInMethod"]);if(!_||!C)return null;const J=new ys(_,C);return J.idToken=M.idToken||void 0,J.accessToken=M.accessToken||void 0,J.secret=M.secret,J.nonce=M.nonce,J.pendingToken=M.pendingToken||null,J}_getIdTokenResponse(h){return Do(h,this.buildRequest())}_linkToIdToken(h,f){const _=this.buildRequest();return _.idToken=f,Do(h,_)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Do(h,f)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),h.postBody=(0,H.Am)(f)}return h}}function pa(){return(pa=(0,V.A)(function*(g,h){return te(g,"POST","/v1/accounts:sendVerificationCode",se(g,h))})).apply(this,arguments)}function xs(){return(xs=(0,V.A)(function*(g,h){return st(g,"POST","/v1/accounts:signInWithPhoneNumber",se(g,h))})).apply(this,arguments)}function X(){return(X=(0,V.A)(function*(g,h){const f=yield st(g,"POST","/v1/accounts:signInWithPhoneNumber",se(g,h));if(f.temporaryProof)throw Wi(g,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const xy={USER_NOT_FOUND:"user-not-found"};function ol(){return(ol=(0,V.A)(function*(g,h){return st(g,"POST","/v1/accounts:signInWithPhoneNumber",se(g,Object.assign(Object.assign({},h),{operation:"REAUTH"})),xy)})).apply(this,arguments)}class $s extends ma{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,f){return new $s({verificationId:h,verificationCode:f})}static _fromTokenResponse(h,f){return new $s({phoneNumber:h,temporaryProof:f})}_getIdTokenResponse(h){return function eT(g,h){return xs.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,f){return function tT(g,h){return X.apply(this,arguments)}(h,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Me(g,h){return ol.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:f,verificationId:_,verificationCode:C}=this.params;return h&&f?{temporaryProof:h,phoneNumber:f}:{sessionInfo:_,code:C}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:f,verificationCode:_,phoneNumber:C,temporaryProof:M}=h;return _||f||C||M?new $s({verificationId:f,verificationCode:_,phoneNumber:C,temporaryProof:M}):null}}class Rd{constructor(h){var f,_,C,M,J,ce;const xe=(0,H.I9)((0,H.hp)(h)),Ge=null!==(f=xe.apiKey)&&void 0!==f?f:null,tt=null!==(_=xe.oobCode)&&void 0!==_?_:null,jt=function Dd(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(C=xe.mode)&&void 0!==C?C:null);oe(Ge&&tt&&jt,"argument-error"),this.apiKey=Ge,this.operation=jt,this.code=tt,this.continueUrl=null!==(M=xe.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(J=xe.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(ce=xe.tenantId)&&void 0!==ce?ce:null}static parseLink(h){const f=function nT(g){const h=(0,H.I9)((0,H.hp)(g)).link,f=h?(0,H.I9)((0,H.hp)(h)).deep_link_id:null,_=(0,H.I9)((0,H.hp)(g)).deep_link_id;return(_?(0,H.I9)((0,H.hp)(_)).link:null)||_||f||h||g}(h);try{return new Rd(f)}catch{return null}}}let Xo=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(f,_){return Ja._fromEmailAndPassword(f,_)}static credentialWithLink(f,_){const C=Rd.parseLink(_);return oe(C,"argument-error"),Ja._fromEmailAndCode(f,C.code,C.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class Ro{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class dr extends Ro{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Kr extends dr{static credentialFromJSON(h){const f="string"==typeof h?JSON.parse(h):h;return oe("providerId"in f&&"signInMethod"in f,"argument-error"),ys._fromParams(f)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return oe(h.idToken||h.accessToken,"argument-error"),ys._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Kr.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Kr.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:f,oauthAccessToken:_,oauthTokenSecret:C,pendingToken:M,nonce:J,providerId:ce}=h;if(!_&&!C&&!f&&!M||!ce)return null;try{return new Kr(ce)._credential({idToken:f,accessToken:_,nonce:J,pendingToken:M})}catch{return null}}}let un=(()=>{class g extends dr{constructor(){super("facebook.com")}static credential(f){return ys._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return g.credential(f.oauthAccessToken)}catch{return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),Ch=(()=>{class g extends dr{constructor(){super("google.com"),this.addScope("profile")}static credential(f,_){return ys._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:_})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:C}=f;if(!_&&!C)return null;try{return g.credential(_,C)}catch{return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),kp=(()=>{class g extends dr{constructor(){super("github.com")}static credential(f){return ys._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return g.credential(f.oauthAccessToken)}catch{return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class Za extends ma{constructor(h,f){super(h,h),this.pendingToken=f}_getIdTokenResponse(h){return Do(h,this.buildRequest())}_linkToIdToken(h,f){const _=this.buildRequest();return _.idToken=f,Do(h,_)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Do(h,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:C,pendingToken:M}=f;return _&&C&&M&&_===C?new Za(_,M):null}static _create(h,f){return new Za(h,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ga extends Ro{constructor(h){oe(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return ga.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return ga.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const f=Za.fromJSON(h);return oe(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:f,providerId:_}=h;if(!f||!_)return null;try{return Za._create(_,f)}catch{return null}}}let wy=(()=>{class g extends dr{constructor(){super("twitter.com")}static credential(f,_){return ys._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:_})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:_,oauthTokenSecret:C}=f;if(!_||!C)return null;try{return g.credential(_,C)}catch{return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function Dp(g,h){return Md.apply(this,arguments)}function Md(){return(Md=(0,V.A)(function*(g,h){return st(g,"POST","/v1/accounts:signUp",se(g,h))})).apply(this,arguments)}class _o{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,_,C=!1){return(0,V.A)(function*(){const M=yield O._fromIdTokenResponse(h,_,C),J=Rp(_);return new _o({user:M,providerId:J,_tokenResponse:_,operationType:f})})()}static _forOperation(h,f,_){return(0,V.A)(function*(){yield h._updateTokensIfNecessary(_,!0);const C=Rp(_);return new _o({user:h,providerId:C,_tokenResponse:_,operationType:f})})()}}function Rp(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function Pd(g){return Th.apply(this,arguments)}function Th(){return(Th=(0,V.A)(function*(g){var h;if((0,Ne._isFirebaseServerApp)(g.app))return Promise.reject(Ht(g));const f=hi(g);if(yield f._initializationPromise,null!==(h=f.currentUser)&&void 0!==h&&h.isAnonymous)return new _o({user:f.currentUser,providerId:null,operationType:"signIn"});const _=yield Dp(f,{returnSecureToken:!0}),C=yield _o._fromIdTokenResponse(f,"signIn",_,!0);return yield f._updateCurrentUser(C.user),C})).apply(this,arguments)}class Od extends H.g{constructor(h,f,_,C){var M;super(f.code,f.message),this.operationType=_,this.user=C,Object.setPrototypeOf(this,Od.prototype),this.customData={appName:h.name,tenantId:null!==(M=h.tenantId)&&void 0!==M?M:void 0,_serverResponse:f.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(h,f,_,C){return new Od(h,f,_,C)}}function Ey(g,h,f,_){return("reauthenticate"===h?f._getReauthenticationResolver(g):f._getIdTokenResponse(g)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Od._fromErrorAndOperation(g,M,h,_):M})}function Mp(g){return new Set(g.map(({providerId:h})=>h).filter(h=>!!h))}function iT(g,h){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,V.A)(function*(g,h){const f=(0,H.Ku)(g);yield Nd(!0,f,h);const{providerUserInfo:_}=yield function bs(g,h){return $r.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[h]}),C=Mp(_||[]);return f.providerData=f.providerData.filter(M=>C.has(M.providerId)),C.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),Pp.apply(this,arguments)}function bo(g,h){return Op.apply(this,arguments)}function Op(){return(Op=(0,V.A)(function*(g,h,f=!1){const _=yield vn(g,h._linkToIdToken(g.auth,yield g.getIdToken()),f);return _o._forOperation(g,"link",_)})).apply(this,arguments)}function Nd(g,h,f){return Np.apply(this,arguments)}function Np(){return(Np=(0,V.A)(function*(g,h,f){yield Pi(h);const C=!1===g?"provider-already-linked":"no-such-provider";oe(Mp(h.providerData).has(f)===g,h.auth,C)})).apply(this,arguments)}function Iy(g,h){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,V.A)(function*(g,h,f=!1){const{auth:_}=g;if((0,Ne._isFirebaseServerApp)(_.app))return Promise.reject(Ht(_));const C="reauthenticate";try{const M=yield vn(g,Ey(_,C,h,g),f);oe(M.idToken,_,"internal-error");const J=Hs(M.idToken);oe(J,_,"internal-error");const{sub:ce}=J;return oe(g.uid===ce,_,"user-mismatch"),_o._forOperation(g,C,M)}catch(M){throw"auth/user-not-found"===M?.code&&mn(_,"user-mismatch"),M}})).apply(this,arguments)}function Cy(g,h){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,V.A)(function*(g,h,f=!1){if((0,Ne._isFirebaseServerApp)(g.app))return Promise.reject(Ht(g));const _="signIn",C=yield Ey(g,_,h),M=yield _o._fromIdTokenResponse(g,_,C);return f||(yield g._updateCurrentUser(M.user)),M})).apply(this,arguments)}function kh(g,h){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,V.A)(function*(g,h){return Cy(hi(g),h)})).apply(this,arguments)}function Ty(g,h){return ct.apply(this,arguments)}function ct(){return(ct=(0,V.A)(function*(g,h){const f=(0,H.Ku)(g);return yield Nd(!1,f,h.providerId),bo(f,h)})).apply(this,arguments)}function Ay(g,h){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,V.A)(function*(g,h){return Iy((0,H.Ku)(g),h)})).apply(this,arguments)}function lt(){return(lt=(0,V.A)(function*(g,h){return st(g,"POST","/v1/accounts:signInWithCustomToken",se(g,h))})).apply(this,arguments)}function oT(g,h){return Sh.apply(this,arguments)}function Sh(){return Sh=(0,V.A)(function*(g,h){if((0,Ne._isFirebaseServerApp)(g.app))return Promise.reject(Ht(g));const f=hi(g),_=yield function rT(g,h){return lt.apply(this,arguments)}(f,{token:h,returnSecureToken:!0}),C=yield _o._fromIdTokenResponse(f,"signIn",_);return yield f._updateCurrentUser(C.user),C}),Sh.apply(this,arguments)}class be{constructor(h,f){this.factorId=h,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(h,f){return"phoneInfo"in f?Er._fromServerResponse(h,f):"totpInfo"in f?Yt._fromServerResponse(h,f):mn(h,"internal-error")}}class Er extends be{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,f){return new Er(f)}}class Yt extends be{constructor(h){super("totp",h)}static _fromServerResponse(h,f){return new Yt(f)}}function Li(g,h,f){var _;oe((null===(_=f.url)||void 0===_?void 0:_.length)>0,g,"invalid-continue-uri"),oe(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),h.continueUrl=f.url,h.dynamicLinkDomain=f.dynamicLinkDomain,h.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(oe(f.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),h.iOSBundleId=f.iOS.bundleId),f.android&&(oe(f.android.packageName.length>0,g,"missing-android-pkg-name"),h.androidInstallApp=f.android.installApp,h.androidMinimumVersionCode=f.android.minimumVersion,h.androidPackageName=f.android.packageName)}function ur(g){return _a.apply(this,arguments)}function _a(){return(_a=(0,V.A)(function*(g){const h=hi(g);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function vo(g,h,f){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,V.A)(function*(g,h,f){const _=hi(g),C={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};f&&Li(_,C,f),yield wh(_,C,"getOobCode",_y)})).apply(this,arguments)}function ky(g,h,f){return sl.apply(this,arguments)}function sl(){return sl=(0,V.A)(function*(g,h,f){yield Ep((0,H.Ku)(g),{oobCode:h,newPassword:f}).catch(function(){var _=(0,V.A)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&ur(g),C});return function(C){return _.apply(this,arguments)}}())}),sl.apply(this,arguments)}function sT(g,h){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,V.A)(function*(g,h){yield function my(g,h){return py.apply(this,arguments)}((0,H.Ku)(g),{oobCode:h})}),Bp.apply(this,arguments)}function fi(g,h){return He.apply(this,arguments)}function He(){return(He=(0,V.A)(function*(g,h){const f=(0,H.Ku)(g),_=yield Ep(f,{oobCode:h}),C=_.requestType;switch(oe(C,f,"internal-error"),C){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(_.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(_.mfaInfo,f,"internal-error");default:oe(_.email,f,"internal-error")}let M=null;return _.mfaInfo&&(M=be._fromServerResponse(hi(f),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:M},operation:C}})).apply(this,arguments)}function Dt(g,h){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,V.A)(function*(g,h){const{data:f}=yield fi((0,H.Ku)(g),h);return f.email})).apply(this,arguments)}function Jo(g,h,f){return ec.apply(this,arguments)}function ec(){return(ec=(0,V.A)(function*(g,h,f){if((0,Ne._isFirebaseServerApp)(g.app))return Promise.reject(Ht(g));const _=hi(g),J=yield wh(_,{returnSecureToken:!0,email:h,password:f,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Dp).catch(xe=>{throw"auth/password-does-not-meet-requirements"===xe.code&&ur(g),xe}),ce=yield _o._fromIdTokenResponse(_,"signIn",J);return yield _._updateCurrentUser(ce.user),ce})).apply(this,arguments)}function Ir(g,h,f){return(0,Ne._isFirebaseServerApp)(g.app)?Promise.reject(Ht(g)):kh((0,H.Ku)(g),Xo.credential(h,f)).catch(function(){var _=(0,V.A)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&ur(g),C});return function(C){return _.apply(this,arguments)}}())}function al(g,h,f){return mi.apply(this,arguments)}function mi(){return(mi=(0,V.A)(function*(g,h,f){const _=hi(g),C={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function M(J,ce){oe(ce.handleCodeInApp,_,"argument-error"),ce&&Li(_,J,ce)})(C,f),yield wh(_,C,"getOobCode",JC)})).apply(this,arguments)}function ba(g,h){const f=Rd.parseLink(h);return"EMAIL_SIGNIN"===f?.operation}function cl(g,h,f){return wt.apply(this,arguments)}function wt(){return(wt=(0,V.A)(function*(g,h,f){if((0,Ne._isFirebaseServerApp)(g.app))return Promise.reject(Ht(g));const _=(0,H.Ku)(g),C=Xo.credentialWithLink(h,f||qt());return oe(C._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),kh(_,C)})).apply(this,arguments)}function Rh(){return(Rh=(0,V.A)(function*(g,h){return te(g,"POST","/v1/accounts:createAuthUri",se(g,h))})).apply(this,arguments)}function ll(g,h){return pi.apply(this,arguments)}function pi(){return pi=(0,V.A)(function*(g,h){const _={identifier:h,continueUri:zn()?qt():"http://localhost"},{signinMethods:C}=yield function Fd(g,h){return Rh.apply(this,arguments)}((0,H.Ku)(g),_);return C||[]}),pi.apply(this,arguments)}function Ld(g,h){return va.apply(this,arguments)}function va(){return va=(0,V.A)(function*(g,h){const f=(0,H.Ku)(g),C={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};h&&Li(f.auth,C,h);const{email:M}=yield function Tp(g,h){return Ad.apply(this,arguments)}(f.auth,C);M!==g.email&&(yield g.reload())}),va.apply(this,arguments)}function ws(g,h,f){return tc.apply(this,arguments)}function tc(){return tc=(0,V.A)(function*(g,h,f){const _=(0,H.Ku)(g),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:h};f&&Li(_.auth,M,f);const{email:J}=yield function oL(g,h){return by.apply(this,arguments)}(_.auth,M);J!==g.email&&(yield g.reload())}),tc.apply(this,arguments)}function Es(){return(Es=(0,V.A)(function*(g,h){return te(g,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Qs(g,h){return nc.apply(this,arguments)}function nc(){return nc=(0,V.A)(function*(g,{displayName:h,photoURL:f}){if(void 0===h&&void 0===f)return;const _=(0,H.Ku)(g),M={idToken:yield _.getIdToken(),displayName:h,photoUrl:f,returnSecureToken:!0},J=yield vn(_,function Sy(g,h){return Es.apply(this,arguments)}(_.auth,M));_.displayName=J.displayName||null,_.photoURL=J.photoUrl||null;const ce=_.providerData.find(({providerId:xe})=>"password"===xe);ce&&(ce.displayName=_.displayName,ce.photoURL=_.photoURL),yield _._updateTokensIfNecessary(J)}),nc.apply(this,arguments)}function Vd(g,h){const f=(0,H.Ku)(g);return(0,Ne._isFirebaseServerApp)(f.auth.app)?Promise.reject(Ht(f.auth)):aT(f,h,null)}function $t(g,h){return aT((0,H.Ku)(g),null,h)}function aT(g,h,f){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,V.A)(function*(g,h,f){const{auth:_}=g,M={idToken:yield g.getIdToken(),returnSecureToken:!0};h&&(M.email=h),f&&(M.password=f);const J=yield vn(g,function Gt(g,h){return Td.apply(this,arguments)}(_,M));yield g._updateTokensIfNecessary(J,!0)}),Bd.apply(this,arguments)}class Pr{constructor(h,f,_={}){this.isNewUser=h,this.providerId=f,this.profile=_}}class Ud extends Pr{constructor(h,f,_,C){super(h,f,_),this.username=C}}class dl extends Pr{constructor(h,f){super(h,"facebook.com",f)}}class jd extends Ud{constructor(h,f){super(h,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class hr extends Pr{constructor(h,f){super(h,"google.com",f)}}class lL extends Ud{constructor(h,f,_){super(h,"twitter.com",f,_)}}function Qr(g){const{user:h,_tokenResponse:f}=g;return h.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function Dy(g){var h,f;if(!g)return null;const{providerId:_}=g,C=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},M=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!_&&g?.idToken){const J=null===(f=null===(h=Hs(g.idToken))||void 0===h?void 0:h.firebase)||void 0===f?void 0:f.sign_in_provider;if(J)return new Pr(M,"anonymous"!==J&&"custom"!==J?J:null)}if(!_)return null;switch(_){case"facebook.com":return new dl(M,C);case"github.com":return new jd(M,C);case"google.com":return new hr(M,C);case"twitter.com":return new lL(M,C,g.screenName||null);case"custom":case"anonymous":return new Pr(M,null);default:return new Pr(M,_,C)}}(f)}function cT(g,h,f,_){return(0,H.Ku)(g).onAuthStateChanged(h,f,_)}function lT(g){return(0,H.Ku)(g).signOut()}class fl{constructor(h,f,_){this.type=h,this.credential=f,this.user=_}static _fromIdtoken(h,f){return new fl("enroll",h,f)}static _fromMfaPendingCredential(h){return new fl("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var f,_;if(h?.multiFactorSession){if(null!==(f=h.multiFactorSession)&&void 0!==f&&f.pendingCredential)return fl._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(_=h.multiFactorSession)&&void 0!==_&&_.idToken)return fl._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Py{constructor(h,f,_){this.session=h,this.hints=f,this.signInResolver=_}static _fromError(h,f){const _=hi(h),C=f.customData._serverResponse,M=(C.mfaInfo||[]).map(ce=>be._fromServerResponse(_,ce));oe(C.mfaPendingCredential,_,"internal-error");const J=fl._fromMfaPendingCredential(C.mfaPendingCredential);return new Py(J,M,function(){var ce=(0,V.A)(function*(xe){const Ge=yield xe._process(_,J);delete C.mfaInfo,delete C.mfaPendingCredential;const tt=Object.assign(Object.assign({},C),{idToken:Ge.idToken,refreshToken:Ge.refreshToken});switch(f.operationType){case"signIn":const jt=yield _o._fromIdTokenResponse(_,f.operationType,tt);return yield _._updateCurrentUser(jt.user),jt;case"reauthenticate":return oe(f.user,_,"internal-error"),_o._forOperation(f.user,f.operationType,tt);default:mn(_,"internal-error")}});return function(xe){return ce.apply(this,arguments)}}())}resolveSignIn(h){var f=this;return(0,V.A)(function*(){return f.signInResolver(h)})()}}function hL(g,h){var f;const _=(0,H.Ku)(g),C=h;return oe(h.customData.operationType,_,"argument-error"),oe(null===(f=C.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,_,"argument-error"),Py._fromError(_,C)}class Oy{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(_=>be._fromServerResponse(h.auth,_)))})}static _fromUser(h){return new Oy(h)}getSession(){var h=this;return(0,V.A)(function*(){return fl._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,f){var _=this;return(0,V.A)(function*(){const C=h,M=yield _.getSession(),J=yield vn(_.user,C._process(_.user.auth,M,f));return yield _.user._updateTokensIfNecessary(J),_.user.reload()})()}unenroll(h){var f=this;return(0,V.A)(function*(){const _="string"==typeof h?h:h.uid,C=yield f.user.getIdToken();try{const M=yield vn(f.user,function gL(g,h){return te(g,"POST","/v2/accounts/mfaEnrollment:withdraw",se(g,h))}(f.user.auth,{idToken:C,mfaEnrollmentId:_}));f.enrolledFactors=f.enrolledFactors.filter(({uid:J})=>J!==_),yield f.user._updateTokensIfNecessary(M),yield f.user.reload()}catch(M){throw M}})()}}const Ny=new WeakMap;function Fy(g){const h=(0,H.Ku)(g);return Ny.has(h)||Ny.set(h,Oy._fromUser(h)),Ny.get(h)}const zd="__sak";class dT{constructor(h,f){this.storageRetriever=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(zd,"1"),this.storage.removeItem(zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ys=(()=>{class g extends dT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,_)=>this.onStorageEvent(f,_),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ct(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const _ of Object.keys(this.listeners)){const C=this.storage.getItem(_),M=this.localCache[_];C!==M&&f(_,M,C)}}onStorageEvent(f,_=!1){if(!f.key)return void this.forAllChangedKeys((ce,xe,Ge)=>{this.notifyListeners(ce,Ge)});const C=f.key;_?this.detachListener():this.stopPolling();const M=()=>{const ce=this.storage.getItem(C);!_&&this.localCache[C]===ce||this.notifyListeners(C,ce)},J=this.storage.getItem(C);!function xh(){return(0,H.lT)()&&10===document.documentMode}()||J===f.newValue||f.newValue===f.oldValue?M():setTimeout(M,10)}notifyListeners(f,_){this.localCache[f]=_;const C=this.listeners[f];if(C)for(const M of Array.from(C))M(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,_,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:_,newValue:C}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,_){var C=()=>super._set,M=this;return(0,V.A)(function*(){yield C().call(M,f,_),M.localCache[f]=JSON.stringify(_)})()}_get(f){var _=()=>super._get,C=this;return(0,V.A)(function*(){const M=yield _().call(C,f);return C.localCache[f]=JSON.stringify(M),M})()}_remove(f){var _=()=>super._remove,C=this;return(0,V.A)(function*(){yield _().call(C,f),delete C.localCache[f]})()}}return g.type="LOCAL",g})(),Ly=(()=>{class g extends dT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,_){}_removeListener(f,_){}}return g.type="SESSION",g})();let Mh=(()=>{class g{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const _=this.receivers.find(M=>M.isListeningto(f));if(_)return _;const C=new g(f);return this.receivers.push(C),C}isListeningto(f){return this.eventTarget===f}handleEvent(f){var _=this;return(0,V.A)(function*(){const C=f,{eventId:M,eventType:J,data:ce}=C.data,xe=_.handlersMap[J];if(!xe?.size)return;C.ports[0].postMessage({status:"ack",eventId:M,eventType:J});const Ge=Array.from(xe).map(function(){var jt=(0,V.A)(function*(Nr){return Nr(C.origin,ce)});return function(Nr){return jt.apply(this,arguments)}}()),tt=yield function fr(g){return Promise.all(g.map(function(){var h=(0,V.A)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(_){return{fulfilled:!1,reason:_}}});return function(f){return h.apply(this,arguments)}}()))}(Ge);C.ports[0].postMessage({status:"done",eventId:M,eventType:J,response:tt})})()}_subscribe(f,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(_)}_unsubscribe(f,_){this.handlersMap[f]&&_&&this.handlersMap[f].delete(_),(!_||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function Cr(g="",h=10){let f="";for(let _=0;_<h;_++)f+=Math.floor(10*Math.random());return g+f}class Vy{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,f,_=50){var C=this;return(0,V.A)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let J,ce;return new Promise((xe,Ge)=>{const tt=Cr("",20);M.port1.start();const jt=setTimeout(()=>{Ge(new Error("unsupported_event"))},_);ce={messageChannel:M,onMessage(Nr){const Ea=Nr;if(Ea.data.eventId===tt)switch(Ea.data.status){case"ack":clearTimeout(jt),J=setTimeout(()=>{Ge(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),xe(Ea.data.response);break;default:clearTimeout(jt),clearTimeout(J),Ge(new Error("invalid_response"))}}},C.handlers.add(ce),M.port1.addEventListener("message",ce.onMessage),C.target.postMessage({eventType:h,eventId:tt,data:f},[M.port2])}).finally(()=>{ce&&C.removeMessageHandler(ce)})})()}}function Oi(){return window}function Ph(){return typeof Oi().WorkerGlobalScope<"u"&&"function"==typeof Oi().importScripts}function Oh(){return(Oh=(0,V.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const qp="firebaseLocalStorageDb",Hd="firebaseLocalStorage",qd="fbase_key";class Xs{constructor(h){this.request=h}toPromise(){return new Promise((h,f)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Js(g,h){return g.transaction([Hd],h?"readwrite":"readonly").objectStore(Hd)}function zy(){const g=indexedDB.open(qp,1);return new Promise((h,f)=>{g.addEventListener("error",()=>{f(g.error)}),g.addEventListener("upgradeneeded",()=>{const _=g.result;try{_.createObjectStore(Hd,{keyPath:qd})}catch(C){f(C)}}),g.addEventListener("success",(0,V.A)(function*(){const _=g.result;_.objectStoreNames.contains(Hd)?h(_):(_.close(),yield function jy(){const g=indexedDB.deleteDatabase(qp);return new Xs(g).toPromise()}(),h(yield zy()))}))})}function uT(g,h,f){return Hy.apply(this,arguments)}function Hy(){return(Hy=(0,V.A)(function*(g,h,f){const _=Js(g,!0).put({[qd]:h,value:f});return new Xs(_).toPromise()})).apply(this,arguments)}function Wp(){return(Wp=(0,V.A)(function*(g,h){const f=Js(g,!1).get(h),_=yield new Xs(f).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function fT(g,h){const f=Js(g,!0).delete(h);return new Xs(f).toPromise()}const Nh=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,V.A)(function*(){return f.db||(f.db=yield zy()),f.db})()}_withRetries(f){var _=this;return(0,V.A)(function*(){let C=0;for(;;)try{const M=yield _._openDb();return yield f(M)}catch(M){if(C++>3)throw M;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,V.A)(function*(){return Ph()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,V.A)(function*(){f.receiver=Mh._getInstance(function Hp(){return Ph()?self:null}()),f.receiver._subscribe("keyChanged",function(){var _=(0,V.A)(function*(C,M){return{keyProcessed:(yield f._poll()).includes(M.key)}});return function(C,M){return _.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var _=(0,V.A)(function*(C,M){return["keyChanged"]});return function(C,M){return _.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,V.A)(function*(){var _,C;if(f.activeServiceWorker=yield function jp(){return Oh.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Vy(f.activeServiceWorker);const M=yield f.sender._send("ping",{},800);M&&null!==(_=M[0])&&void 0!==_&&_.fulfilled&&null!==(C=M[0])&&void 0!==C&&C.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var _=this;return(0,V.A)(function*(){if(_.sender&&_.activeServiceWorker&&function zp(){var g;return(null===(g=navigator?.serviceWorker)||void 0===g?void 0:g.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:f},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,V.A)(function*(){try{if(!indexedDB)return!1;const f=yield zy();return yield uT(f,zd,"1"),yield fT(f,zd),!0}catch{}return!1})()}_withPendingWrite(f){var _=this;return(0,V.A)(function*(){_.pendingWrites++;try{yield f()}finally{_.pendingWrites--}})()}_set(f,_){var C=this;return(0,V.A)(function*(){return C._withPendingWrite((0,V.A)(function*(){return yield C._withRetries(M=>uT(M,f,_)),C.localCache[f]=_,C.notifyServiceWorker(f)}))})()}_get(f){var _=this;return(0,V.A)(function*(){const C=yield _._withRetries(M=>function hT(g,h){return Wp.apply(this,arguments)}(M,f));return _.localCache[f]=C,C})()}_remove(f){var _=this;return(0,V.A)(function*(){return _._withPendingWrite((0,V.A)(function*(){return yield _._withRetries(C=>fT(C,f)),delete _.localCache[f],_.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,V.A)(function*(){const _=yield f._withRetries(J=>{const ce=Js(J,!1).getAll();return new Xs(ce).toPromise()});if(!_)return[];if(0!==f.pendingWrites)return[];const C=[],M=new Set;if(0!==_.length)for(const{fbase_key:J,value:ce}of _)M.add(J),JSON.stringify(f.localCache[J])!==JSON.stringify(ce)&&(f.notifyListeners(J,ce),C.push(J));for(const J of Object.keys(f.localCache))f.localCache[J]&&!M.has(J)&&(f.notifyListeners(J,null),C.push(J));return C})()}notifyListeners(f,_){this.localCache[f]=_;const C=this.listeners[f];if(C)for(const M of Array.from(C))M(_)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,V.A)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})(),Fh=1e12;class pT{constructor(h){this.auth=h,this.counter=Fh,this._widgets=new Map}render(h,f){const _=this.counter;return this._widgets.set(_,new gT(h,this.auth.name,f||{})),this.counter++,_}reset(h){var f;const _=h||Fh;null===(f=this._widgets.get(_))||void 0===f||f.delete(),this._widgets.delete(_)}getResponse(h){var f;return(null===(f=this._widgets.get(h||Fh))||void 0===f?void 0:f.getResponse())||""}execute(h){var f=this;return(0,V.A)(function*(){var _;return null===(_=f._widgets.get(h||Fh))||void 0===_||_.execute(),""})()}}class gT{constructor(h,f,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const C="string"==typeof h?document.getElementById(h):h;oe(C,"argument-error",{appName:f}),this.container=C,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function $y(g){const h=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<g;_++)h.push(f.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":f}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const $p=QC("rcb"),Ky=new qi(3e4,6e4);class _T{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Oi().grecaptcha)||void 0===h||!h.render)}load(h,f=""){return oe(function wL(g){return g.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g)}(f),h,"argument-error"),this.shouldResolveImmediately(f)&&rn(Oi().grecaptcha)?Promise.resolve(Oi().grecaptcha):new Promise((_,C)=>{const M=Oi().setTimeout(()=>{C(pn(h,"network-request-failed"))},Ky.get());Oi()[$p]=()=>{Oi().clearTimeout(M),delete Oi()[$p];const ce=Oi().grecaptcha;if(!ce||!rn(ce))return void C(pn(h,"internal-error"));const xe=ce.render;ce.render=(Ge,tt)=>{const jt=xe(Ge,tt);return this.counter++,jt},this.hostLanguage=f,_(ce)},cy(`${function nL(){return Yo.recaptchaV2Script}()}?${(0,H.Am)({onload:$p,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(M),C(pn(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var f;return!(null===(f=Oi().grecaptcha)||void 0===f||!f.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bT{load(h){return(0,V.A)(function*(){return new pT(h)})()}clearedOneInstance(){}}const Ni="recaptcha",Qy={theme:"light",type:"image"};class vT{constructor(h,f,_=Object.assign({},Qy)){this.parameters=_,this.type=Ni,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=hi(h),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const C="string"==typeof f?document.getElementById(f):f;oe(C,this.auth,"argument-error"),this.container=C,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bT:new _T,this.validateStartingState()}verify(){var h=this;return(0,V.A)(function*(){h.assertNotDestroyed();const f=yield h.render(),_=h.getAssertedRecaptcha();return _.getResponse(f)||new Promise(M=>{const J=ce=>{ce&&(h.tokenChangeListeners.delete(J),M(ce))};h.tokenChangeListeners.add(J),h.isInvisible&&_.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return f=>{if(this.tokenChangeListeners.forEach(_=>_(f)),"function"==typeof h)h(f);else if("string"==typeof h){const _=Oi()[h];"function"==typeof _&&_(f)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,V.A)(function*(){if(yield h.init(),!h.widgetId){let f=h.container;if(!h.isInvisible){const _=document.createElement("div");f.appendChild(_),f=_}h.widgetId=h.getAssertedRecaptcha().render(f,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,V.A)(function*(){oe(zn()&&!Ph(),h.auth,"internal-error"),yield function yT(){let g=null;return new Promise(h=>{"complete"!==document.readyState?(g=()=>h(),window.addEventListener("load",g)):h()}).catch(h=>{throw g&&window.removeEventListener("load",g),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const f=yield function Gi(g){return nr.apply(this,arguments)}(h.auth);oe(f,h.auth,"internal-error"),h.parameters.sitekey=f})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Lh{constructor(h,f){this.verificationId=h,this.onConfirmation=f}confirm(h){const f=$s._fromVerification(this.verificationId,h);return this.onConfirmation(f)}}function Yy(g,h,f){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,V.A)(function*(g,h,f){if((0,Ne._isFirebaseServerApp)(g.app))return Promise.reject(Ht(g));const _=hi(g),C=yield Wd(_,h,(0,H.Ku)(f));return new Lh(C,M=>kh(_,M))})).apply(this,arguments)}function Qp(g,h,f){return Yp.apply(this,arguments)}function Yp(){return(Yp=(0,V.A)(function*(g,h,f){const _=(0,H.Ku)(g);yield Nd(!1,_,"phone");const C=yield Wd(_.auth,h,(0,H.Ku)(f));return new Lh(C,M=>Ty(_,M))})).apply(this,arguments)}function Is(g,h,f){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,V.A)(function*(g,h,f){const _=(0,H.Ku)(g);if((0,Ne._isFirebaseServerApp)(_.auth.app))return Promise.reject(Ht(_.auth));const C=yield Wd(_.auth,h,(0,H.Ku)(f));return new Lh(C,M=>Ay(_,M))})).apply(this,arguments)}function Wd(g,h,f){return An.apply(this,arguments)}function An(){return An=(0,V.A)(function*(g,h,f){var _;const C=yield f.verify();try{let M;if(oe("string"==typeof C,g,"argument-error"),oe(f.type===Ni,g,"argument-error"),M="string"==typeof h?{phoneNumber:h}:h,"session"in M){const J=M.session;if("phoneNumber"in M)return oe("enroll"===J.type,g,"internal-error"),(yield function fL(g,h){return te(g,"POST","/v2/accounts/mfaEnrollment:start",se(g,h))}(g,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:C}})).phoneSessionInfo.sessionInfo;{oe("signin"===J.type,g,"internal-error");const ce=(null===(_=M.multiFactorHint)||void 0===_?void 0:_.uid)||M.multiFactorUid;return oe(ce,g,"missing-multi-factor-info"),(yield function yL(g,h){return te(g,"POST","/v2/accounts/mfaSignIn:start",se(g,h))}(g,{mfaPendingCredential:J.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:C}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield function yy(g,h){return pa.apply(this,arguments)}(g,{phoneNumber:M.phoneNumber,recaptchaToken:C});return J}}finally{f._reset()}}),An.apply(this,arguments)}function Xp(g,h){return pl.apply(this,arguments)}function pl(){return(pl=(0,V.A)(function*(g,h){const f=(0,H.Ku)(g);if((0,Ne._isFirebaseServerApp)(f.auth.app))return Promise.reject(Ht(f.auth));yield bo(f,h)})).apply(this,arguments)}let Xr=(()=>{class g{constructor(f){this.providerId=g.PROVIDER_ID,this.auth=hi(f)}verifyPhoneNumber(f,_){return Wd(this.auth,f,(0,H.Ku)(_))}static credential(f,_){return $s._fromVerification(f,_)}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:_,temporaryProof:C}=f;return _&&C?$s._fromTokenResponse(_,C):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function ic(g,h){return h?ge(h):(oe(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class Bh extends ma{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Do(h,this._buildIdpRequest())}_linkToIdToken(h,f){return Do(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return Do(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function gl(g){return Cy(g.auth,new Bh(g),g.bypassAuthState)}function yo(g){const{auth:h,user:f}=g;return oe(f,h,"internal-error"),Iy(f,new Bh(g),g.bypassAuthState)}function xT(g){return Jp.apply(this,arguments)}function Jp(){return(Jp=(0,V.A)(function*(g){const{auth:h,user:f}=g;return oe(f,h,"internal-error"),bo(f,new Bh(g),g.bypassAuthState)})).apply(this,arguments)}class Xy{constructor(h,f,_,C,M=!1){this.auth=h,this.resolver=_,this.user=C,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,V.A)(function*(_,C){h.pendingPromise={resolve:_,reject:C};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(M){h.reject(M)}});return function(_,C){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,V.A)(function*(){const{urlResponse:_,sessionId:C,postBody:M,tenantId:J,error:ce,type:xe}=h;if(ce)return void f.reject(ce);const Ge={auth:f.auth,requestUri:_,sessionId:C,tenantId:J||void 0,postBody:M||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(xe)(Ge))}catch(tt){f.reject(tt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return gl;case"linkViaPopup":case"linkViaRedirect":return xT;case"reauthViaPopup":case"reauthViaRedirect":return yo;default:mn(this.auth,"internal-error")}}resolve(h){It(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){It(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ya=new qi(2e3,1e4);function Jy(g,h,f){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,V.A)(function*(g,h,f){if((0,Ne._isFirebaseServerApp)(g.app))return Promise.reject(pn(g,"operation-not-supported-in-this-environment"));const _=hi(g);Et(g,h,Ro);const C=ic(_,f);return new pt(_,"signInViaPopup",h,C).executeNotNull()})).apply(this,arguments)}function Zy(g,h,f){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,V.A)(function*(g,h,f){const _=(0,H.Ku)(g);if((0,Ne._isFirebaseServerApp)(_.auth.app))return Promise.reject(pn(_.auth,"operation-not-supported-in-this-environment"));Et(_.auth,h,Ro);const C=ic(_.auth,f);return new pt(_.auth,"reauthViaPopup",h,C,_).executeNotNull()})).apply(this,arguments)}function e0(g,h,f){return eg.apply(this,arguments)}function eg(){return(eg=(0,V.A)(function*(g,h,f){const _=(0,H.Ku)(g);Et(_.auth,h,Ro);const C=ic(_.auth,f);return new pt(_.auth,"linkViaPopup",h,C,_).executeNotNull()})).apply(this,arguments)}let pt=(()=>{class g extends Xy{constructor(f,_,C,M,J){super(f,_,M,J),this.provider=C,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var f=this;return(0,V.A)(function*(){const _=yield f.execute();return oe(_,f.auth,"internal-error"),_})()}onExecution(){var f=this;return(0,V.A)(function*(){It(1===f.filter.length,"Popup operations only handle one event");const _=Cr();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],_),f.authWindow.associatedEvent=_,f.resolver._originValidation(f.auth).catch(C=>{f.reject(C)}),f.resolver._isIframeWebStorageSupported(f.auth,C=>{C||f.reject(pn(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const f=()=>{var _,C;this.pollId=null!==(C=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==C&&C.closed?window.setTimeout(()=>{this.pollId=null,this.reject(pn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,ya.get())};f()}}return g.currentPopupAction=null,g})();const t0="pendingRedirect",jh=new Map;class wT extends Xy{constructor(h,f,_=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,_),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,V.A)(function*(){let _=jh.get(f.auth._key());if(!_){try{const M=(yield function ET(g,h){return tg.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;_=()=>Promise.resolve(M)}catch(C){_=()=>Promise.reject(C)}jh.set(f.auth._key(),_)}return f.bypassAuthState||jh.set(f.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,_=this;return(0,V.A)(function*(){if("signInViaRedirect"===h.type)return f().call(_,h);if("unknown"!==h.type){if(h.eventId){const C=yield _.auth._redirectUserForId(h.eventId);if(C)return _.user=C,f().call(_,h);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,V.A)(function*(){})()}cleanUp(){}}function tg(){return(tg=(0,V.A)(function*(g,h){const f=o0(h),_=r0(g);if(!(yield _._isAvailable()))return!1;const C="true"===(yield _._get(f));return yield _._remove(f),C})).apply(this,arguments)}function zh(g,h){return xa.apply(this,arguments)}function xa(){return(xa=(0,V.A)(function*(g,h){return r0(g)._set(o0(h),"true")})).apply(this,arguments)}function IT(){jh.clear()}function n0(g,h){jh.set(g._key(),h)}function r0(g){return ge(g._redirectPersistence)}function o0(g){return Qt(t0,g.config.apiKey,g.name)}function CT(g,h,f){return function we(g,h,f){return Xt.apply(this,arguments)}(g,h,f)}function Xt(){return(Xt=(0,V.A)(function*(g,h,f){if((0,Ne._isFirebaseServerApp)(g.app))return Promise.reject(Ht(g));const _=hi(g);Et(g,h,Ro),yield _._initializationPromise;const C=ic(_,f);return yield zh(C,_),C._openRedirect(_,h,"signInViaRedirect")})).apply(this,arguments)}function Rt(g,h,f){return function Mt(g,h,f){return Ki.apply(this,arguments)}(g,h,f)}function Ki(){return(Ki=(0,V.A)(function*(g,h,f){const _=(0,H.Ku)(g);if(Et(_.auth,h,Ro),(0,Ne._isFirebaseServerApp)(_.auth.app))return Promise.reject(Ht(_.auth));yield _.auth._initializationPromise;const C=ic(_.auth,f);yield zh(C,_.auth);const M=yield rg(_);return C._openRedirect(_.auth,h,"reauthViaRedirect",M)})).apply(this,arguments)}function s0(g,h,f){return function Gd(g,h,f){return Mo.apply(this,arguments)}(g,h,f)}function Mo(){return(Mo=(0,V.A)(function*(g,h,f){const _=(0,H.Ku)(g);Et(_.auth,h,Ro),yield _.auth._initializationPromise;const C=ic(_.auth,f);yield Nd(!1,_,h.providerId),yield zh(C,_.auth);const M=yield rg(_);return C._openRedirect(_.auth,h,"linkViaRedirect",M)})).apply(this,arguments)}function ng(g,h){return $d.apply(this,arguments)}function $d(){return($d=(0,V.A)(function*(g,h){return yield hi(g)._initializationPromise,ig(g,h,!1)})).apply(this,arguments)}function ig(g,h){return a0.apply(this,arguments)}function a0(){return(a0=(0,V.A)(function*(g,h,f=!1){if((0,Ne._isFirebaseServerApp)(g.app))return Promise.reject(Ht(g));const _=hi(g),C=ic(_,h),J=yield new wT(_,C,f).execute();return J&&!f&&(delete J.user._redirectEventId,yield _._persistUserIfCurrent(J.user),yield _._setRedirectUser(null,h)),J})).apply(this,arguments)}function rg(g){return mr.apply(this,arguments)}function mr(){return(mr=(0,V.A)(function*(g){const h=Cr(`${g.uid}:::`);return g._redirectEventId=h,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),h})).apply(this,arguments)}class og{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(h,_)&&(f=!0,this.sendToConsumer(h,_),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function TT(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cs(g);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var _;if(h.error&&!Cs(h)){const C=(null===(_=h.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";f.onError(pn(this.auth,C))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const _=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&_}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rc(h))}saveEventToCache(h){this.cachedEventUids.add(rc(h)),this.lastProcessedEventTime=Date.now()}}function rc(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(h=>h).join("-")}function Cs({type:g,error:h}){return"unknown"===g&&"auth/no-auth-event"===h?.code}function sg(g){return ag.apply(this,arguments)}function ag(){return(ag=(0,V.A)(function*(g,h={}){return te(g,"GET","/v1/projects",h)})).apply(this,arguments)}const AT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cg=/^https?/;function Hh(){return(Hh=(0,V.A)(function*(g){if(g.config.emulator)return;const{authorizedDomains:h}=yield sg(g);for(const f of h)try{if(dg(f))return}catch{}mn(g,"unauthorized-domain")})).apply(this,arguments)}function dg(g){const h=qt(),{protocol:f,hostname:_}=new URL(h);if(g.startsWith("chrome-extension://")){const J=new URL(g);return""===J.hostname&&""===_?"chrome-extension:"===f&&g.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&J.hostname===_}if(!cg.test(f))return!1;if(AT.test(g))return _===g;const C=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+C+"|"+C+")$","i").test(_)}const kT=new qi(3e4,6e4);function ug(){const g=Oi().___jsl;if(g?.H)for(const h of Object.keys(g.H))if(g.H[h].r=g.H[h].r||[],g.H[h].L=g.H[h].L||[],g.H[h].r=[...g.H[h].L],g.CP)for(let f=0;f<g.CP.length;f++)g.CP[f]=null}let Kd=null;const l0=new qi(5e3,15e3),d0="__/auth/iframe",fg="emulator/auth/iframe",ST={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Or(g){const h=g.config;oe(h.authDomain,g,"auth-domain-config-required");const f=h.emulator?Wr(h,fg):`https://${g.config.authDomain}/${d0}`,_={apiKey:h.apiKey,appName:g.name,v:Ne.SDK_VERSION},C=DT.get(g.config.apiHost);C&&(_.eid=C);const M=g._getFrameworks();return M.length&&(_.fw=M.join(",")),`${f}?${(0,H.Am)(_).slice(1)}`}function $n(){return $n=(0,V.A)(function*(g){const h=yield function c0(g){return Kd=Kd||function hg(g){return new Promise((h,f)=>{var _,C,M;function J(){ug(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{ug(),f(pn(g,"network-request-failed"))},timeout:kT.get()})}if(null!==(C=null===(_=Oi().gapi)||void 0===_?void 0:_.iframes)&&void 0!==C&&C.Iframe)h(gapi.iframes.getContext());else{if(null===(M=Oi().gapi)||void 0===M||!M.load){const ce=QC("iframefcb");return Oi()[ce]=()=>{gapi.load?J():f(pn(g,"network-request-failed"))},cy(`${function KC(){return Yo.gapiScript}()}?onload=${ce}`).catch(xe=>f(xe))}J()}}).catch(h=>{throw Kd=null,h})}(g),Kd}(g),f=Oi().gapi;return oe(f,g,"internal-error"),h.open({where:document.body,url:Or(g),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ST,dontclear:!0},_=>new Promise(function(){var C=(0,V.A)(function*(M,J){yield _.restyle({setHideOnLeave:!1});const ce=pn(g,"network-request-failed"),xe=Oi().setTimeout(()=>{J(ce)},l0.get());function Ge(){Oi().clearTimeout(xe),M(_)}_.ping(Ge).then(Ge,()=>{J(ce)})});return function(M,J){return C.apply(this,arguments)}}()))}),$n.apply(this,arguments)}const mg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gg{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const PT="__/auth/handler",Wh="emulator/auth/handler",Gh=encodeURIComponent("fac");function _l(g,h,f,_,C,M){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,V.A)(function*(g,h,f,_,C,M){oe(g.config.authDomain,g,"auth-domain-config-required"),oe(g.config.apiKey,g,"invalid-api-key");const J={apiKey:g.config.apiKey,appName:g.name,authType:f,redirectUrl:_,v:Ne.SDK_VERSION,eventId:C};if(h instanceof Ro){h.setDefaultLanguage(g.languageCode),J.providerId=h.providerId||"",(0,H.Im)(h.getCustomParameters())||(J.customParameters=JSON.stringify(h.getCustomParameters()));for(const[tt,jt]of Object.entries(M||{}))J[tt]=jt}if(h instanceof dr){const tt=h.getScopes().filter(jt=>""!==jt);tt.length>0&&(J.scopes=tt.join(","))}g.tenantId&&(J.tid=g.tenantId);const ce=J;for(const tt of Object.keys(ce))void 0===ce[tt]&&delete ce[tt];const xe=yield g._getAppCheckToken(),Ge=xe?`#${Gh}=${encodeURIComponent(xe)}`:"";return`${function h0({config:g}){return g.emulator?Wr(g,Wh):`https://${g.authDomain}/${PT}`}(g)}?${(0,H.Am)(ce).slice(1)}${Ge}`})).apply(this,arguments)}const $h="webStorageSupport",sc=class OT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ly,this._completeRedirectFn=ig,this._overrideRedirectResult=n0}_openPopup(h,f,_,C){var M=this;return(0,V.A)(function*(){var J;It(null===(J=M.eventManagers[h._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const ce=yield _l(h,f,_,qt(),C);return function qh(g,h,f,_=500,C=600){const M=Math.max((window.screen.availHeight-C)/2,0).toString(),J=Math.max((window.screen.availWidth-_)/2,0).toString();let ce="";const xe=Object.assign(Object.assign({},mg),{width:_.toString(),height:C.toString(),top:M,left:J}),Ge=(0,H.ZQ)().toLowerCase();f&&(ce=vs(Ge)?"_blank":f),Le(Ge)&&(h=h||"http://localhost",xe.scrollbars="yes");const tt=Object.entries(xe).reduce((Nr,[Ea,ac])=>`${Nr}${Ea}=${ac},`,"");if(function he(g=(0,H.ZQ)()){var h;return vp(g)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Ge)&&"_self"!==ce)return function wa(g,h){const f=document.createElement("a");f.href=g,f.target=h;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(_)}(h||"",ce),new gg(null);const jt=window.open(h||"",ce,tt);oe(jt,g,"popup-blocked");try{jt.focus()}catch{}return new gg(jt)}(h,ce,Cr())})()}_openRedirect(h,f,_,C){var M=this;return(0,V.A)(function*(){return yield M._originValidation(h),function By(g){Oi().location.href=g}(yield _l(h,f,_,qt(),C)),new Promise(()=>{})})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:C,promise:M}=this.eventManagers[f];return C?Promise.resolve(C):(It(M,"If manager is not set, promise should be"),M)}const _=this.initAndGetManager(h);return this.eventManagers[f]={promise:_},_.catch(()=>{delete this.eventManagers[f]}),_}initAndGetManager(h){var f=this;return(0,V.A)(function*(){const _=yield function oc(g){return $n.apply(this,arguments)}(h),C=new og(h);return _.register("authEvent",M=>(oe(M?.authEvent,h,"invalid-auth-event"),{status:C.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:C},f.iframes[h._key()]=_,C})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send($h,{type:$h},C=>{var M;const J=null===(M=C?.[0])||void 0===M?void 0:M[$h];void 0!==J&&f(!!J),mn(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function lg(g){return Hh.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return Ct()||ui()||vp()}};class bl{constructor(h){this.factorId=h}_process(h,f,_){switch(f.type){case"enroll":return this._finalizeEnroll(h,f.credential,_);case"signin":return this._finalizeSignIn(h,f.credential);default:return et("unexpected MultiFactorSessionType")}}}class _g extends bl{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new _g(h)}_finalizeEnroll(h,f,_){return function mL(g,h){return te(g,"POST","/v2/accounts/mfaEnrollment:finalize",se(g,h))}(h,{idToken:f,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,f){return function xL(g,h){return te(g,"POST","/v2/accounts/mfaSignIn:finalize",se(g,h))}(h,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let EL=(()=>{class g{constructor(){}static assertion(f){return _g._fromCredential(f)}}return g.FACTOR_ID="phone",g})();var NT="@firebase/auth";class bg{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var f=this;return(0,V.A)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const f=this.auth.onIdTokenChanged(_=>{h(_?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,f),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const f=this.internalListeners.get(h);f&&(this.internalListeners.delete(h),f(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const vg=(0,H.XA)("authIdTokenMaxAge")||300;let Jd=null;const IL=g=>function(){var h=(0,V.A)(function*(f){const _=f&&(yield f.getIdTokenResult()),C=_&&((new Date).getTime()-Date.parse(_.issuedAtTime))/1e3;if(C&&C>vg)return;const M=_?.token;Jd!==M&&(Jd=M,yield fetch(g,{method:M?"POST":"DELETE",headers:M?{Authorization:`Bearer ${M}`}:{}}))});return function(f){return h.apply(this,arguments)}}();function g0(g=(0,Ne.getApp)()){const h=(0,Ne._getProvider)(g,"auth");if(h.isInitialized())return h.getImmediate();const f=function ht(g,h){const f=(0,Ne._getProvider)(g,"auth");if(f.isInitialized()){const C=f.getImmediate(),M=f.getOptions();if((0,H.bD)(M,h??{}))return C;mn(C,"already-initialized")}return f.initialize({options:h})}(g,{popupRedirectResolver:sc,persistence:[Nh,Ys,Ly]}),_=(0,H.XA)("authTokenSyncURL");if(_&&"boolean"==typeof isSecureContext&&isSecureContext){const M=new URL(_,location.origin);if(location.origin===M.origin){const J=IL(M.toString());(function Up(g,h,f){(0,H.Ku)(g).beforeAuthStateChanged(h,f)})(f,J,()=>J(f.currentUser)),function Zo(g,h,f,_){(0,H.Ku)(g).onIdTokenChanged(h,f,_)}(f,ce=>J(ce))}}const C=(0,H.Tj)("auth");return C&&hy(f,`http://${C}`),f}(function tL(g){Yo=g})({loadJS:g=>new Promise((h,f)=>{const _=document.createElement("script");_.setAttribute("src",g),_.onload=h,_.onerror=C=>{const M=pn("internal-error");M.customData=C,f(M)},_.type="text/javascript",_.charset="UTF-8",function _0(){var g,h;return null!==(h=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==h?h:document}().appendChild(_)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function LT(g){(0,Ne._registerComponent)(new ei.uA("auth",(h,{options:f})=>{const _=h.getProvider("app").getImmediate(),C=h.getProvider("heartbeat"),M=h.getProvider("app-check-internal"),{apiKey:J,authDomain:ce}=_.options;oe(J&&!J.includes(":"),"invalid-api-key",{appName:_.name});const xe={apiKey:J,authDomain:ce,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gn(g)},Ge=new eL(_,C,M,xe);return function Eh(g,h){const f=h?.persistence||[],_=(Array.isArray(f)?f:[f]).map(ge);h?.errorMap&&g._updateErrorMap(h.errorMap),g._initializeWithPersistence(_,h?.popupRedirectResolver)}(Ge,f),Ge},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,f,_)=>{h.getProvider("auth-internal").initialize()})),(0,Ne._registerComponent)(new ei.uA("auth-internal",h=>{const f=hi(h.getProvider("auth").getImmediate());return new bg(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ne.registerVersion)(NT,"1.7.9",function Yd(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(g)),(0,Ne.registerVersion)(NT,"1.7.9","esm2017")}("Browser")},401:(Go,Fi,it)=>{it.d(Fi,{Am:()=>bs,Bd:()=>et,FA:()=>Ae,Fy:()=>Ht,I9:()=>$r,Im:()=>nr,Ku:()=>ye,Ll:()=>oe,T9:()=>mn,Tj:()=>di,Uj:()=>Nt,XA:()=>pn,ZQ:()=>Et,bD:()=>Gr,c1:()=>qt,cY:()=>vr,eX:()=>le,g:()=>me,gR:()=>Ci,hp:()=>So,jZ:()=>De,lT:()=>Hn,lV:()=>Sn,mS:()=>Kt,nr:()=>_s,p7:()=>It,sr:()=>zn,tD:()=>$i,u:()=>_e,yU:()=>jn,zW:()=>Q,zw:()=>Ye});const Ke=function(T){const E=[];let k=0;for(let O=0;O<T.length;O++){let q=T.charCodeAt(O);q<128?E[k++]=q:q<2048?(E[k++]=q>>6|192,E[k++]=63&q|128):55296==(64512&q)&&O+1<T.length&&56320==(64512&T.charCodeAt(O+1))?(q=65536+((1023&q)<<10)+(1023&T.charCodeAt(++O)),E[k++]=q>>18|240,E[k++]=q>>12&63|128,E[k++]=q>>6&63|128,E[k++]=63&q|128):(E[k++]=q>>12|224,E[k++]=q>>6&63|128,E[k++]=63&q|128)}return E},ei={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(T,E){if(!Array.isArray(T))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=E?this.byteToCharMapWebSafe_:this.byteToCharMap_,O=[];for(let q=0;q<T.length;q+=3){const ge=T[q],ke=q+1<T.length,Ze=ke?T[q+1]:0,Qt=q+2<T.length,Xe=Qt?T[q+2]:0;let ui=(15&Ze)<<2|Xe>>6,vs=63&Xe;Qt||(vs=64,ke||(ui=64)),O.push(k[ge>>2],k[(3&ge)<<4|Ze>>4],k[ui],k[vs])}return O.join("")},encodeString(T,E){return this.HAS_NATIVE_SUPPORT&&!E?btoa(T):this.encodeByteArray(Ke(T),E)},decodeString(T,E){return this.HAS_NATIVE_SUPPORT&&!E?atob(T):function(T){const E=[];let k=0,O=0;for(;k<T.length;){const q=T[k++];if(q<128)E[O++]=String.fromCharCode(q);else if(q>191&&q<224){const ge=T[k++];E[O++]=String.fromCharCode((31&q)<<6|63&ge)}else if(q>239&&q<365){const Qt=((7&q)<<18|(63&T[k++])<<12|(63&T[k++])<<6|63&T[k++])-65536;E[O++]=String.fromCharCode(55296+(Qt>>10)),E[O++]=String.fromCharCode(56320+(1023&Qt))}else{const ge=T[k++],ke=T[k++];E[O++]=String.fromCharCode((15&q)<<12|(63&ge)<<6|63&ke)}}return E.join("")}(this.decodeStringToByteArray(T,E))},decodeStringToByteArray(T,E){this.init_();const k=E?this.charToByteMapWebSafe_:this.charToByteMap_,O=[];for(let q=0;q<T.length;){const ge=k[T.charAt(q++)],Ze=q<T.length?k[T.charAt(q)]:0;++q;const Xe=q<T.length?k[T.charAt(q)]:64;++q;const Le=q<T.length?k[T.charAt(q)]:64;if(++q,null==ge||null==Ze||null==Xe||null==Le)throw new ti;O.push(ge<<2|Ze>>4),64!==Xe&&(O.push(Ze<<4&240|Xe>>2),64!==Le&&O.push(Xe<<6&192|Le))}return O},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let T=0;T<this.ENCODED_VALS.length;T++)this.byteToCharMap_[T]=this.ENCODED_VALS.charAt(T),this.charToByteMap_[this.byteToCharMap_[T]]=T,this.byteToCharMapWebSafe_[T]=this.ENCODED_VALS_WEBSAFE.charAt(T),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[T]]=T,T>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(T)]=T,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(T)]=T)}}};class ti extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nt=function(T){return function(T){const E=Ke(T);return ei.encodeByteArray(E,!0)}(T).replace(/\./g,"")},_e=function(T){try{return ei.decodeString(T,!0)}catch(E){console.error("base64Decode failed: ",E)}return null};function Ye(T,E){if(!(E instanceof Object))return E;switch(E.constructor){case Date:return new Date(E.getTime());case Object:void 0===T&&(T={});break;case Array:T=[];break;default:return E}for(const k in E)!E.hasOwnProperty(k)||!St(k)||(T[k]=Ye(T[k],E[k]));return T}function St(T){return"__proto__"!==T}function Kt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ot=()=>{try{return Kt().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const T=process.env.__FIREBASE_DEFAULTS__;return T?JSON.parse(T):void 0})()||(()=>{if(typeof document>"u")return;let T;try{T=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const E=T&&_e(T[1]);return E&&JSON.parse(E)})()}catch(T){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${T}`)}},di=T=>{var E,k;return null===(k=null===(E=ot())||void 0===E?void 0:E.emulatorHosts)||void 0===k?void 0:k[T]},jn=T=>{const E=di(T);if(!E)return;const k=E.lastIndexOf(":");if(k<=0||k+1===E.length)throw new Error(`Invalid host ${E} with no separate hostname and port!`);const O=parseInt(E.substring(k+1),10);return"["===E[0]?[E.substring(1,k-1),O]:[E.substring(0,k),O]},mn=()=>{var T;return null===(T=ot())||void 0===T?void 0:T.config},pn=T=>{var E;return null===(E=ot())||void 0===E?void 0:E[`_${T}`]};class vr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((E,k)=>{this.resolve=E,this.reject=k})}wrapCallback(E){return(k,O)=>{k?this.reject(k):this.resolve(O),"function"==typeof E&&(this.promise.catch(()=>{}),1===E.length?E(k):E(k,O))}}}function Ht(T,E){if(T.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const O=E||"demo-project",q=T.iat||0,ge=T.sub||T.user_id;if(!ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ke=Object.assign({iss:`https://securetoken.google.com/${O}`,aud:O,iat:q,exp:q+3600,auth_time:q,sub:ge,user_id:ge,firebase:{sign_in_provider:"custom",identities:{}}},T);return[Nt(JSON.stringify({alg:"none",type:"JWT"})),Nt(JSON.stringify(ke)),""].join(".")}function Et(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function De(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function oe(){var T;const E=null===(T=ot())||void 0===T?void 0:T.forceEnvironment;if("node"===E)return!0;if("browser"===E)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function et(){return typeof window<"u"||It()}function It(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function qt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function zn(){const T="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof T&&void 0!==T.id}function Sn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Hn(){const T=Et();return T.indexOf("MSIE ")>=0||T.indexOf("Trident/")>=0}function _s(){return!oe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q(){try{return"object"==typeof indexedDB}catch{return!1}}function le(){return new Promise((T,E)=>{try{let k=!0;const O="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(O);q.onsuccess=()=>{q.result.close(),k||self.indexedDB.deleteDatabase(O),T(!0)},q.onupgradeneeded=()=>{k=!1},q.onerror=()=>{var ge;E((null===(ge=q.error)||void 0===ge?void 0:ge.message)||"")}}catch(k){E(k)}})}class me extends Error{constructor(E,k,O){super(k),this.code=E,this.customData=O,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ae.prototype.create)}}class Ae{constructor(E,k,O){this.service=E,this.serviceName=k,this.errors=O}create(E,...k){const O=k[0]||{},q=`${this.service}/${E}`,ge=this.errors[E],ke=ge?function pe(T,E){return T.replace(st,(k,O)=>{const q=E[O];return null!=q?String(q):`<${O}?>`})}(ge,O):"Error";return new me(q,`${this.serviceName}: ${ke} (${q}).`,O)}}const st=/\{\$([^}]+)}/g;function Ci(T,E){return Object.prototype.hasOwnProperty.call(T,E)}function nr(T){for(const E in T)if(Object.prototype.hasOwnProperty.call(T,E))return!1;return!0}function Gr(T,E){if(T===E)return!0;const k=Object.keys(T),O=Object.keys(E);for(const q of k){if(!O.includes(q))return!1;const ge=T[q],ke=E[q];if(js(ge)&&js(ke)){if(!Gr(ge,ke))return!1}else if(ge!==ke)return!1}for(const q of O)if(!k.includes(q))return!1;return!0}function js(T){return null!==T&&"object"==typeof T}function bs(T){const E=[];for(const[k,O]of Object.entries(T))Array.isArray(O)?O.forEach(q=>{E.push(encodeURIComponent(k)+"="+encodeURIComponent(q))}):E.push(encodeURIComponent(k)+"="+encodeURIComponent(O));return E.length?"&"+E.join("&"):""}function $r(T){const E={};return T.replace(/^\?/,"").split("&").forEach(O=>{if(O){const[q,ge]=O.split("=");E[decodeURIComponent(q)]=decodeURIComponent(ge)}}),E}function So(T){const E=T.indexOf("?");if(!E)return"";const k=T.indexOf("#",E);return T.substring(E,k>0?k:void 0)}function $i(T,E){const k=new fo(T,E);return k.subscribe.bind(k)}class fo{constructor(E,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{E(this)}).catch(O=>{this.error(O)})}next(E){this.forEachObserver(k=>{k.next(E)})}error(E){this.forEachObserver(k=>{k.error(E)}),this.close(E)}complete(){this.forEachObserver(E=>{E.complete()}),this.close()}subscribe(E,k,O){let q;if(void 0===E&&void 0===k&&void 0===O)throw new Error("Missing Observer.");q=function ir(T,E){if("object"!=typeof T||null===T)return!1;for(const k of E)if(k in T&&"function"==typeof T[k])return!0;return!1}(E,["next","error","complete"])?E:{next:E,error:k,complete:O},void 0===q.next&&(q.next=ni),void 0===q.error&&(q.error=ni),void 0===q.complete&&(q.complete=ni);const ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),ge}unsubscribeOne(E){void 0===this.observers||void 0===this.observers[E]||(delete this.observers[E],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(E){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,E)}sendOne(E,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[E])try{k(this.observers[E])}catch(O){typeof console<"u"&&console.error&&console.error(O)}})}close(E){this.finalized||(this.finalized=!0,void 0!==E&&(this.finalError=E),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ni(){}function ye(T){return T&&T._delegate?T._delegate:T}},206:(Go,Fi,it)=>{function V(n){return"function"==typeof n}function Ne(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const H=Ne(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Ke(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class kt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(V(i))try{i()}catch(o){t=o instanceof H?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{tn(o)}catch(s){t=t??[],s instanceof H?t=[...t,...s.errors]:t.push(s)}}if(t)throw new H(t)}}add(t){var e;if(t&&t!==this)if(this.closed)tn(t);else{if(t instanceof kt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Ke(e,t)}remove(t){const{_finalizers:e}=this;e&&Ke(e,t),t instanceof kt&&t._removeParent(this)}}kt.EMPTY=(()=>{const n=new kt;return n.closed=!0,n})();const ei=kt.EMPTY;function ti(n){return n instanceof kt||n&&"closed"in n&&V(n.remove)&&V(n.add)&&V(n.unsubscribe)}function tn(n){V(n)?n():n.unsubscribe()}const Nt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},_e={setTimeout(n,t,...e){const{delegate:i}=_e;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=_e;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Te(n){_e.setTimeout(()=>{const{onUnhandledError:t}=Nt;if(!t)throw n;t(n)})}function Ye(){}const St=Bt("C",void 0,void 0);function Bt(n,t,e){return{kind:n,value:t,error:e}}let bt=null;function ot(n){if(Nt.useDeprecatedSynchronousErrorHandling){const t=!bt;if(t&&(bt={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=bt;if(bt=null,e)throw i}}else n()}class jn extends kt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ti(t)&&t.add(this)):this.destination=et}static create(t,e,i){return new Ht(t,e,i)}next(t){this.isStopped?oe(function Mi(n){return Bt("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?oe(function Kt(n){return Bt("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?oe(St,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const mn=Function.prototype.bind;function pn(n,t){return mn.call(n,t)}class vr{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Et(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Et(i)}else Et(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Et(e)}}}class Ht extends jn{constructor(t,e,i){let r;if(super(),V(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&Nt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&pn(t.next,o),error:t.error&&pn(t.error,o),complete:t.complete&&pn(t.complete,o)}):r=t}this.destination=new vr(r)}}function Et(n){Nt.useDeprecatedSynchronousErrorHandling?function di(n){Nt.useDeprecatedSynchronousErrorHandling&&bt&&(bt.errorThrown=!0,bt.error=n)}(n):Te(n)}function oe(n,t){const{onStoppedNotification:e}=Nt;e&&_e.setTimeout(()=>e(n,t))}const et={closed:!0,next:Ye,error:function De(n){throw n},complete:Ye},It="function"==typeof Symbol&&Symbol.observable||"@@observable";function qt(n){return n}function zn(...n){return Sn(n)}function Sn(n){return 0===n.length?qt:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let at=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function Wr(n){return n&&n instanceof jn||function qi(n){return n&&V(n.next)&&V(n.error)&&V(n.complete)}(n)&&ti(n)}(e)?e:new Ht(e,i,r);return ot(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Hn(i))((r,o)=>{const s=new Ht({next:a=>{try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[It](){return this}pipe(...e){return Sn(e)(this)}toPromise(e){return new(e=Hn(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function Hn(n){var t;return null!==(t=n??Nt.Promise)&&void 0!==t?t:Promise}const _s=Ne(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Q=(()=>{class n extends at{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new le(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new _s}next(e){ot(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){ot(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){ot(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?ei:(this.currentObservers=null,o.push(e),new kt(()=>{this.currentObservers=null,Ke(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new at;return e.source=this,e}}return n.create=(t,e)=>new le(t,e),n})();class le extends Q{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:ei}}function se(n){return V(n?.lift)}function te(n){return t=>{if(se(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(n,t,e,i,r){return new Ae(n,t,e,i,r)}class Ae extends jn{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function pe(n,t){return te((e,i)=>{let r=0;e.subscribe(me(i,o=>{i.next(n.call(t,o,r++))}))})}var st=it(635);const En=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ut(n){return V(n?.then)}function nn(n){return V(n[It])}function qn(n){return Symbol.asyncIterator&&V(n?.[Symbol.asyncIterator])}function Wi(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const on=function rn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ci(n){return V(n?.[on])}function Gi(n){return(0,st.AQ)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,st.N3)(e.read());if(r)return yield(0,st.N3)(void 0);yield yield(0,st.N3)(i)}}finally{e.releaseLock()}})}function nr(n){return V(n?.getReader)}function Wt(n){if(n instanceof at)return n;if(null!=n){if(nn(n))return function Gr(n){return new at(t=>{const e=n[It]();if(V(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(En(n))return function js(n){return new at(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(ut(n))return function ha(n){return new at(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Te)})}(n);if(qn(n))return $r(n);if(Ci(n))return function bs(n){return new at(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(nr(n))return function So(n){return $r(Gi(n))}(n)}throw Wi(n)}function $r(n){return new at(t=>{(function zs(n,t){var e,i,r,o;return(0,st.sH)(this,void 0,void 0,function*(){try{for(e=(0,st.xN)(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function $i(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Wn(n,t,e=1/0){return V(t)?Wn((i,r)=>pe((o,s)=>t(i,o,r,s))(Wt(n(i,r))),e):("number"==typeof t&&(e=t),te((i,r)=>function fo(n,t,e,i,r,o,s,a){const c=[];let l=0,d=0,u=!1;const p=()=>{u&&!c.length&&!l&&t.complete()},b=x=>l<i?v(x):c.push(x),v=x=>{o&&t.next(x),l++;let w=!1;Wt(e(x,d++)).subscribe(me(t,F=>{r?.(F),o?b(F):t.next(F)},()=>{w=!0},void 0,()=>{if(w)try{for(l--;c.length&&l<i;){const F=c.shift();s?$i(t,s,()=>v(F)):v(F)}p()}catch(F){t.error(F)}}))};return n.subscribe(me(t,b,()=>{u=!0,p()})),()=>{a?.()}}(i,r,n,e)))}function ir(n=1/0){return Wn(qt,n)}const ni=new at(n=>n.complete());function vn(n){return n&&V(n.schedule)}function mo(n){return n[n.length-1]}function Ko(n){return V(mo(n))?n.pop():void 0}function Qo(n){return vn(mo(n))?n.pop():void 0}function Pi(n,t=0){return te((e,i)=>{e.subscribe(me(i,r=>$i(i,n,()=>i.next(r),t),()=>$i(i,n,()=>i.complete(),t),r=>$i(i,n,()=>i.error(r),t)))})}function xr(n,t=0){return te((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function Ya(n,t){if(!n)throw new Error("Iterable cannot be null");return new at(e=>{$i(e,t,()=>{const i=n[Symbol.asyncIterator]();$i(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function T(n,t){return t?function ye(n,t){if(null!=n){if(nn(n))return function qs(n,t){return Wt(n).pipe(xr(t),Pi(t))}(n,t);if(En(n))return function Gs(n,t){return new at(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(ut(n))return function Ws(n,t){return Wt(n).pipe(xr(t),Pi(t))}(n,t);if(qn(n))return Ya(n,t);if(Ci(n))return function fa(n,t){return new at(e=>{let i;return $i(e,t,()=>{i=n[on](),$i(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>V(i?.return)&&i.return()})}(n,t);if(nr(n))return function Be(n,t){return Ya(Gi(n),t)}(n,t)}throw Wi(n)}(n,t):Wt(n)}function E(...n){const t=Qo(n),e=function yr(n,t){return"number"==typeof mo(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Wt(i[0]):ir(e)(T(i,t)):ni}class k extends Q{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function O(...n){return T(n,Qo(n))}function q(n={}){const{connector:t=(()=>new Q),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,l=0,d=!1,u=!1;const p=()=>{a?.unsubscribe(),a=void 0},b=()=>{p(),s=c=void 0,d=u=!1},v=()=>{const x=s;b(),x?.unsubscribe()};return te((x,w)=>{l++,!u&&!d&&p();const F=c=c??t();w.add(()=>{l--,0===l&&!u&&!d&&(a=ge(v,r))}),F.subscribe(w),!s&&l>0&&(s=new Ht({next:R=>F.next(R),error:R=>{u=!0,p(),a=ge(b,e,R),F.error(R)},complete:()=>{d=!0,p(),a=ge(b,i),F.complete()}}),Wt(x).subscribe(s))})(o)}}function ge(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Ht({next:()=>{i.unsubscribe(),n()}});return Wt(t(...e)).subscribe(i)}function ke(n,t){return te((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(me(i,c=>{r?.unsubscribe();let l=0;const d=o++;Wt(n(c,d)).subscribe(r=me(i,u=>i.next(t?t(c,u,d,l++):u),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Ze(n,t=qt){return n=n??Qt,te((e,i)=>{let r,o=!0;e.subscribe(me(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function Qt(n,t){return n===t}function Xe(n){for(let t in n)if(n[t]===Xe)return t;throw Error("Could not find renamed property on target object.")}function Gn(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Le(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Le).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function ui(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const vs=Xe({__forward_ref__:Xe});function dn(n){return n.__forward_ref__=dn,n.toString=function(){return Le(this())},n}function vt(n){return vh(n)?n():n}function vh(n){return"function"==typeof n&&n.hasOwnProperty(vs)&&n.__forward_ref__===dn}function yh(n){return n&&!!n.\u0275providers}const ay="https://g.co/ng/security#xss";class he extends Error{constructor(t,e){super(function xh(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Ct(n){return"string"==typeof n?n:null==n?"":String(n)}function xp(n,t){throw new he(-201,!1)}function go(n,t){null==n&&function yt(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function Ie(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ht(n){return{providers:n.providers||[],imports:n.imports||[]}}function Eh(n){return wp(n,Ih)||wp(n,Ep)}function wp(n,t){return n.hasOwnProperty(t)?n[t]:null}function Cd(n){return n&&(n.hasOwnProperty(ma)||n.hasOwnProperty(Ip))?n[ma]:null}const Ih=Xe({\u0275prov:Xe}),ma=Xe({\u0275inj:Xe}),Ep=Xe({ngInjectableDef:Xe}),Ip=Xe({ngInjectorDef:Xe});var Gt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Gt||{});let Td;function wr(n){const t=Td;return Td=n,t}function my(n,t,e){const i=Eh(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Gt.Optional?null:void 0!==t?t:void xp(Le(n))}const Nn=globalThis;class ue{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Ie({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Xa={},Ja="__NG_DI_FLAG__",Do="ngTempTokenPath",ZC=/\n/gm,yy="__source";let pa;function xs(n){const t=pa;return pa=n,t}function tT(n,t=Gt.Default){if(void 0===pa)throw new he(-203,!1);return null===pa?my(n,void 0,t):pa.get(n,t&Gt.Optional?null:void 0,t)}function X(n,t=Gt.Default){return(function fy(){return Td}()||tT)(vt(n),t)}function Me(n,t=Gt.Default){return X(n,ol(t))}function ol(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function $s(n){const t=[];for(let e=0;e<n.length;e++){const i=vt(n[e]);if(Array.isArray(i)){if(0===i.length)throw new he(900,!1);let r,o=Gt.Default;for(let s=0;s<i.length;s++){const a=i[s],c=nT(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}t.push(X(r,o))}else t.push(X(i))}return t}function Dd(n,t){return n[Ja]=t,n.prototype[Ja]=t,n}function nT(n){return n[Ja]}function Xo(n){return{toString:n}.toString()}var Ro=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Ro||{}),dr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(dr||{});const Kr={},un=[],Ch=Xe({\u0275cmp:Xe}),kp=Xe({\u0275dir:Xe}),Sp=Xe({\u0275pipe:Xe}),Za=Xe({\u0275mod:Xe}),Ks=Xe({\u0275fac:Xe}),ga=Xe({__NG_ELEMENT_ID__:Xe}),wy=Xe({__NG_ENV_ID__:Xe});function Dp(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}function Md(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{const o=r,s=e[++i];Rp(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function _o(n){return 3===n||4===n||6===n}function Rp(n){return 64===n.charCodeAt(0)}function Pd(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Th(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Th(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const Od="ng-template";function Ey(n,t,e){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(e&&"class"===o&&-1!==Dp(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function Mp(n){return 4===n.type&&n.value!==Od}function iT(n,t,e){return t===(4!==n.type||e?n.value:Od)}function Pp(n,t,e){let i=4;const r=n.attrs||[],o=function Iy(n){for(let t=0;t<n.length;t++)if(_o(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!iT(n,c,e)||""===c&&1===t.length){if(bo(i))return!1;s=!0}}else{const l=8&i?c:t[++a];if(8&i&&null!==n.attrs){if(!Ey(n.attrs,l,e)){if(bo(i))return!1;s=!0}continue}const u=Op(8&i?"class":c,r,Mp(n),e);if(-1===u){if(bo(i))return!1;s=!0;continue}if(""!==l){let p;p=u>o?"":r[u+1].toLowerCase();const b=8&i?p:null;if(b&&-1!==Dp(b,l,0)||2&i&&l!==p){if(bo(i))return!1;s=!0}}}}else{if(!s&&!bo(i)&&!bo(c))return!1;if(s&&bo(c))continue;s=!1,i=c|1&i}}return bo(i)||s}function bo(n){return 0==(1&n)}function Op(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function Fp(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Nd(n,t,e=!1){for(let i=0;i<t.length;i++)if(Pp(n,t[i],e))return!0;return!1}function Cy(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Ah(n,t){return n?":not("+t.trim()+")":t}function kh(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!bo(s)&&(t+=Ah(o,r),r=""),i=s,o=o||!bo(i);e++}return""!==r&&(t+=Ah(o,r)),t}function ct(n){return Xo(()=>{const t=Dh(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ro.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||dr.Emulated,styles:n.styles||un,_:null,schemas:n.schemas||null,tView:null,id:""};ky(e);const i=n.dependencies;return e.directiveDefs=sl(i,!1),e.pipeDefs=sl(i,!0),e.id=function Bp(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function Vp(n){return Yt(n)||Li(n)}function rT(n){return null!==n}function lt(n){return Xo(()=>({type:n.type,bootstrap:n.bootstrap||un,declarations:n.declarations||un,imports:n.imports||un,exports:n.exports||un,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Sh(n,t){if(null==n)return Kr;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}function be(n){return Xo(()=>{const t=Dh(n);return ky(t),t})}function Er(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Yt(n){return n[Ch]||null}function Li(n){return n[kp]||null}function ur(n){return n[Sp]||null}function vo(n,t){const e=n[Za]||null;if(!e&&!0===t)throw new Error(`Type ${Le(n)} does not have '\u0275mod' property.`);return e}function Dh(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Kr,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||un,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Sh(n.inputs,t),outputs:Sh(n.outputs)}}function ky(n){n.features?.forEach(t=>t(n))}function sl(n,t){if(!n)return null;const e=t?ur:Vp;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(rT)}const fi=0,He=1,Dt=2,Fn=3,Jo=4,ec=5,Ir=6,al=7,mi=8,ba=9,cl=10,wt=11,Fd=12,Rh=13,ll=14,pi=15,Ld=16,va=17,ws=18,tc=19,Sy=20,Es=21,Qs=22,nc=23,Vd=24,$t=25,Bd=1,Dy=2,Pr=7,dl=9,hr=11;function Qr(n){return Array.isArray(n)&&"object"==typeof n[Bd]}function Yr(n){return Array.isArray(n)&&!0===n[Bd]}function Ry(n){return 0!=(4&n.flags)}function ul(n){return n.componentOffset>-1}function hl(n){return 1==(1&n.flags)}function Zo(n){return!!n.template}function Up(n){return 0!=(512&n[Dt])}function ml(n,t){return n.hasOwnProperty(Ks)?n[Ks]:null}let fr=null,Mh=!1;function Cr(n){const t=fr;return fr=n,t}const Vy={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function By(n){if(!Xs(n)||n.dirty){if(!n.producerMustRecompute(n)&&!qp(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Oh(n){n.dirty=!0,function Ph(n){if(void 0===n.liveConsumerNode)return;const t=Mh;Mh=!0;try{for(const e of n.liveConsumerNode)e.dirty||Oh(e)}finally{Mh=t}}(n),n.consumerMarkedDirty?.(n)}function zp(n){return n&&(n.nextProducerIndex=0),Cr(n)}function Hp(n,t){if(Cr(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Xs(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)qd(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function qp(n){Js(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(By(e),i!==e.version))return!0}return!1}function Uy(n){if(Js(n),Xs(n))for(let t=0;t<n.producerNode.length;t++)qd(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function qd(n,t){if(function jy(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Js(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)qd(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];Js(r),r.producerIndexOfThis[i]=t}}function Xs(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Js(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let qy=null;function $y(n){const t=Cr(null);try{return n()}finally{Cr(t)}}const Ky=()=>{},_T=(()=>({...Vy,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:Ky}))();class bT{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ni(){return Qy}function Qy(n){return n.type.prototype.ngOnChanges&&(n.setInput=yT),vT}function vT(){const n=Yy(this),t=n?.current;if(t){const e=n.previous;if(e===Kr)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function yT(n,t,e,i){const r=this.declaredInputs[e],o=Yy(n)||function Kp(n,t){return n[Lh]=t}(n,{previous:Kr,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[r];s[r]=new bT(c&&c.currentValue,t,a===Kr),n[i]=t}Ni.ngInherit=!0;const Lh="__ngSimpleChanges__";function Yy(n){return n[Lh]||null}const Is=function(n,t,e){};function An(n){for(;Array.isArray(n);)n=n[fi];return n}function pl(n,t){return An(t[n])}function Xr(n,t){return An(t[n.index])}function Bh(n,t){return n.data[t]}function gl(n,t){return n[t]}function yo(n,t){const e=t[n];return Qr(e)?e:e[fi]}function ya(n,t){return null==t?null:n[t]}function Jy(n){n[va]=0}function Zp(n){1024&n[Dt]||(n[Dt]|=1024,Uh(n,1))}function Zy(n){1024&n[Dt]&&(n[Dt]&=-1025,Uh(n,-1))}function Uh(n,t){let e=n[Fn];if(null===e)return;e[ec]+=t;let i=e;for(e=e[Fn];null!==e&&(1===t&&1===i[ec]||-1===t&&0===i[ec]);)e[ec]+=t,i=e,e=e[Fn]}const pt={lFrame:c0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function zh(){return pt.bindingsEnabled}function xa(){return null!==pt.skipHydrationRootTNode}function we(){return pt.lFrame.lView}function Xt(){return pt.lFrame.tView}function Rt(n){return pt.lFrame.contextLView=n,n[mi]}function Mt(n){return pt.lFrame.contextLView=null,n}function Ki(){let n=s0();for(;null!==n&&64===n.type;)n=n.parent;return n}function s0(){return pt.lFrame.currentTNode}function Mo(n,t){const e=pt.lFrame;e.currentTNode=n,e.isParent=t}function ng(){return pt.lFrame.isParent}function $d(){pt.lFrame.isParent=!1}function mr(){const n=pt.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function rc(){return pt.lFrame.bindingIndex++}function ag(n,t){const e=pt.lFrame;e.bindingIndex=e.bindingRootIndex=n,cg(t)}function cg(n){pt.lFrame.currentDirectiveIndex=n}function lg(n){const t=pt.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function Hh(){return pt.lFrame.currentQueryIndex}function dg(n){pt.lFrame.currentQueryIndex=n}function kT(n){const t=n[He];return 2===t.type?t.declTNode:1===t.type?n[Ir]:null}function ug(n,t,e){if(e&Gt.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&Gt.Host||(r=kT(o),null===r||(o=o[ll],10&r.type))););if(null===r)return!1;t=r,n=o}const i=pt.lFrame=Kd();return i.currentTNode=t,i.lView=n,!0}function hg(n){const t=Kd(),e=n[He];pt.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Kd(){const n=pt.lFrame,t=null===n?null:n.child;return null===t?c0(n):t}function c0(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function l0(){const n=pt.lFrame;return pt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const d0=l0;function fg(){const n=l0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Or(){return pt.lFrame.selectedIndex}function oc(n){pt.lFrame.selectedIndex=n}function $n(){const n=pt.lFrame;return Bh(n.tView,n.selectedIndex)}let gg=!0;function qh(){return gg}function wa(n){gg=n}function Wh(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),c&&(n.viewHooks??=[]).push(-e,c),l&&((n.viewHooks??=[]).push(e,l),(n.viewCheckHooks??=[]).push(e,l)),null!=d&&(n.destroyHooks??=[]).push(e,d)}}function Gh(n,t,e){h0(n,t,3,e)}function _l(n,t,e,i){(3&n[Dt])===e&&h0(n,t,e,i)}function Qd(n,t){let e=n[Dt];(3&e)===t&&(e&=8191,e+=1,n[Dt]=e)}function h0(n,t,e,i){const o=i??-1,s=t.length-1;let a=0;for(let c=void 0!==i?65535&n[va]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=i&&a>=i)break}else t[c]<0&&(n[va]+=65536),(a<o||-1==o)&&(OT(n,e,t,c),n[va]=(4294901760&n[va])+c+2),c++}function $h(n,t){Is(4,n,t);const e=Cr(null);try{t.call(n)}finally{Cr(e),Is(5,n,t)}}function OT(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];r?n[Dt]>>13<n[va]>>16&&(3&n[Dt])===t&&(n[Dt]+=8192,$h(a,o)):$h(a,o)}const sc=-1;class bl{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function bg(n){return n!==sc}function Yd(n){return 32767&n}function Xd(n,t){let e=function LT(n){return n>>16}(n),i=t;for(;e>0;)i=i[ll],e--;return i}let vg=!0;function Jd(n){const t=vg;return vg=n,t}const g0=255,_0=5;let g=0;const h={};function _(n,t){const e=M(n,t);if(-1!==e)return e;const i=t[He];i.firstCreatePass&&(n.injectorIndex=t.length,C(i.data,n),C(t,null),C(i.blueprint,null));const r=J(n,t),o=n.injectorIndex;if(bg(r)){const s=Yd(r),a=Xd(r,t),c=a[He].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=r,o}function C(n,t){n.push(0,0,0,0,0,0,0,0,t)}function M(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function J(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=v0(r),null===i)return sc;if(e++,r=r[ll],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return sc}function ce(n,t,e){!function f(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(ga)&&(i=e[ga]),null==i&&(i=e[ga]=g++);const r=i&g0;t.data[n+(r>>_0)]|=1<<r}(n,t,e)}function Ge(n,t,e){if(e&Gt.Optional||void 0!==n)return n;xp()}function tt(n,t,e,i){if(e&Gt.Optional&&void 0===i&&(i=null),!(e&(Gt.Self|Gt.Host))){const r=n[ba],o=wr(void 0);try{return r?r.get(t,i,e&Gt.Optional):my(t,i,e&Gt.Optional)}finally{wr(o)}}return Ge(i,0,e)}function jt(n,t,e,i=Gt.Default,r){if(null!==n){if(2048&t[Dt]&&!(i&Gt.Self)){const s=function Cg(n,t,e,i,r){let o=n,s=t;for(;null!==o&&null!==s&&2048&s[Dt]&&!(512&s[Dt]);){const a=Nr(o,s,e,i|Gt.Self,h);if(a!==h)return a;let c=o.parent;if(!c){const l=s[Sy];if(l){const d=l.get(e,h,i);if(d!==h)return d}c=v0(s),s=s[ll]}o=c}return r}(n,t,e,i,h);if(s!==h)return s}const o=Nr(n,t,e,i,h);if(o!==h)return o}return tt(t,e,i,r)}function Nr(n,t,e,i,r){const o=function yg(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(ga)?n[ga]:void 0;return"number"==typeof t?t>=0?t&g0:Eg:t}(e);if("function"==typeof o){if(!ug(t,n,i))return i&Gt.Host?Ge(r,0,i):tt(t,e,i,r);try{let s;if(s=o(i),null!=s||i&Gt.Optional)return s;xp()}finally{d0()}}else if("number"==typeof o){let s=null,a=M(n,t),c=sc,l=i&Gt.Host?t[pi][Ir]:null;for((-1===a||i&Gt.SkipSelf)&&(c=-1===a?J(n,t):t[a+8],c!==sc&&wg(i,!1)?(s=t[He],a=Yd(c),t=Xd(c,t)):a=-1);-1!==a;){const d=t[He];if(xg(o,a,d.data)){const u=Ea(a,t,e,s,i,l);if(u!==h)return u}c=t[a+8],c!==sc&&wg(i,t[He].data[a+8]===l)&&xg(o,a,t)?(s=d,a=Yd(c),t=Xd(c,t)):a=-1}}return r}function Ea(n,t,e,i,r,o){const s=t[He],a=s.data[n+8],d=ac(a,s,e,null==i?ul(a)&&vg:i!=s&&0!=(3&a.type),r&Gt.Host&&o===a);return null!==d?Ia(t,s,d,a):h}function ac(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,c=n.directiveStart,d=o>>20,p=r?a+d:n.directiveEnd;for(let b=i?a:a+d;b<p;b++){const v=s[b];if(b<c&&e===v||b>=c&&v.type===e)return b}if(r){const b=s[c];if(b&&Zo(b)&&b.type===e)return c}return null}function Ia(n,t,e,i){let r=n[e];const o=t.data;if(function _g(n){return n instanceof bl}(r)){const s=r;s.resolving&&function GC(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new he(-200,`Circular dependency in DI detected for ${n}${e}`)}(function gn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ct(n)}(o[e]));const a=Jd(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?wr(s.injectImpl):null;ug(n,i,Gt.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function PT(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=Qy(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}(e,o[e],t)}finally{null!==l&&wr(l),Jd(a),s.resolving=!1,d0()}}return r}function xg(n,t,e){return!!(e[t+(n>>_0)]&1<<n)}function wg(n,t){return!(n&Gt.Self||n&Gt.Host&&t)}class Tr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return jt(this._tNode,this._lView,t,ol(i),e)}}function Eg(){return new Tr(Ki(),we())}function Ut(n){return Xo(()=>{const t=n.prototype.constructor,e=t[Ks]||Ig(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Ks]||Ig(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Ig(n){return vh(n)?()=>{const t=Ig(vt(n));return t&&t()}:ml(n)}function v0(n){const t=n[He],e=t.type;return 2===e?t.declTNode:1===e?n[Ir]:null}function vl(n){return function xe(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(_o(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(Ki(),n)}const Yh="__parameters__";function Jh(n,t,e){return Xo(()=>{const i=function VT(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,l,d){const u=c.hasOwnProperty(Yh)?c[Yh]:Object.defineProperty(c,Yh,{value:[]})[Yh];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(s),c}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function ef(n,t){n.forEach(e=>Array.isArray(e)?ef(e,t):t(e))}function TL(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function y0(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Ag(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function es(n,t,e){let i=tf(n,t);return i>=0?n[1|i]=e:(i=~i,function PY(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function BT(n,t){const e=tf(n,t);if(e>=0)return n[1|e]}function tf(n,t){return function AL(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const Fr=Dd(Jh("Optional"),8),kg=Dd(Jh("SkipSelf"),4);function T0(n){return 128==(128&n.flags)}var yl=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(yl||{});const eX=/^>|^->|<!--|-->|--!>|<!-$/g,tX=/(<|>)/g,nX="\u200b$1\u200b";const qT=new Map;let iX=0;const GT="__ngContext__";function Jr(n,t){Qr(t)?(n[GT]=t[tc],function oX(n){qT.set(n[tc],n)}(t)):n[GT]=t}let $T;function KT(n,t){return $T(n,t)}function Rg(n){const t=n[Fn];return Yr(t)?t[Fn]:t}function $L(n){return QL(n[Fd])}function KL(n){return QL(n[Jo])}function QL(n){for(;null!==n&&!Yr(n);)n=n[Jo];return n}function sf(n,t,e,i,r){if(null!=i){let o,s=!1;Yr(i)?o=i:Qr(i)&&(s=!0,i=i[fi]);const a=An(i);0===n&&null!==e?null==r?ZL(t,e,a):Zd(t,e,a,r||null,!0):1===n&&null!==e?Zd(t,e,a,r||null,!0):2===n?function P0(n,t,e){const i=R0(n,t);i&&function IX(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function AX(n,t,e,i,r){const o=e[Pr];o!==An(e)&&sf(t,n,i,o,r);for(let a=hr;a<e.length;a++){const c=e[a];Pg(c[He],c,n,t,i,o)}}(t,n,o,e,r)}}function QT(n,t){return n.createComment(function BL(n){return n.replace(eX,t=>t.replace(tX,nX))}(t))}function S0(n,t,e){return n.createElement(t,e)}function XL(n,t){const e=n[dl],i=e.indexOf(t);Zy(t),e.splice(i,1)}function D0(n,t){if(n.length<=hr)return;const e=hr+t,i=n[e];if(i){const r=i[Ld];null!==r&&r!==n&&XL(r,i),t>0&&(n[e-1][Jo]=i[Jo]);const o=y0(n,hr+t);!function gX(n,t){Pg(n,t,t[wt],2,null,null),t[fi]=null,t[Ir]=null}(i[He],i);const s=o[ws];null!==s&&s.detachView(o[He]),i[Fn]=null,i[Jo]=null,i[Dt]&=-129}return i}function YT(n,t){if(!(256&t[Dt])){const e=t[wt];t[nc]&&Uy(t[nc]),t[Vd]&&Uy(t[Vd]),e.destroyNode&&Pg(n,t,e,3,null,null),function vX(n){let t=n[Fd];if(!t)return XT(n[He],n);for(;t;){let e=null;if(Qr(t))e=t[Fd];else{const i=t[hr];i&&(e=i)}if(!e){for(;t&&!t[Jo]&&t!==n;)Qr(t)&&XT(t[He],t),t=t[Fn];null===t&&(t=n),Qr(t)&&XT(t[He],t),e=t&&t[Jo]}t=e}}(t)}}function XT(n,t){if(!(256&t[Dt])){t[Dt]&=-129,t[Dt]|=256,function EX(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof bl)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];Is(4,a,c);try{c.call(a)}finally{Is(5,a,c)}}else{Is(4,r,o);try{o.call(r)}finally{Is(5,r,o)}}}}}(n,t),function wX(n,t){const e=n.cleanup,i=t[al];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(t[al]=null);const r=t[Es];if(null!==r){t[Es]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,t),1===t[He].type&&t[wt].destroy();const e=t[Ld];if(null!==e&&Yr(t[Fn])){e!==t[Fn]&&XL(e,t);const i=t[ws];null!==i&&i.detachView(n)}!function sX(n){qT.delete(n[tc])}(t)}}function JT(n,t,e){return function JL(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[fi];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===dr.None||o===dr.Emulated)return null}return Xr(i,e)}}(n,t.parent,e)}function Zd(n,t,e,i,r){n.insertBefore(t,e,i,r)}function ZL(n,t,e){n.appendChild(t,e)}function e2(n,t,e,i,r){null!==i?Zd(n,t,e,i,r):ZL(n,t,e)}function R0(n,t){return n.parentNode(t)}function t2(n,t,e){return r2(n,t,e)}let ZT,O0,iA,N0,r2=function n2(n,t,e){return 40&n.type?Xr(n,e):null};function M0(n,t,e,i){const r=JT(n,i,t),o=t[wt],a=t2(i.parent||t[Ir],i,t);if(null!=r)if(Array.isArray(e))for(let c=0;c<e.length;c++)e2(o,r,e[c],a,!1);else e2(o,r,e,a,!1);void 0!==ZT&&ZT(o,i,t,e,r)}function Mg(n,t){if(null!==t){const e=t.type;if(3&e)return Xr(t,n);if(4&e)return eA(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Mg(n,i);{const r=n[t.index];return Yr(r)?eA(-1,r):An(r)}}if(32&e)return KT(t,n)()||An(n[t.index]);{const i=s2(n,t);return null!==i?Array.isArray(i)?i[0]:Mg(Rg(n[pi]),i):Mg(n,t.next)}}return null}function s2(n,t){return null!==t?n[pi][Ir].projection[t.projection]:null}function eA(n,t){const e=hr+n+1;if(e<t.length){const i=t[e],r=i[He].firstChild;if(null!==r)return Mg(i,r)}return t[Pr]}function tA(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],c=e.type;if(s&&0===t&&(a&&Jr(An(a),i),e.flags|=2),32!=(32&e.flags))if(8&c)tA(n,t,e.child,i,r,o,!1),sf(t,n,r,a,o);else if(32&c){const l=KT(e,i);let d;for(;d=l();)sf(t,n,r,d,o);sf(t,n,r,a,o)}else 16&c?c2(n,t,i,e,r,o):sf(t,n,r,a,o);e=s?e.projectionNext:e.next}}function Pg(n,t,e,i,r,o){tA(e,i,n.firstChild,t,r,o,!1)}function c2(n,t,e,i,r,o){const s=e[pi],c=s[Ir].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)sf(t,n,r,c[l],o);else{let l=c;const d=s[Fn];T0(i)&&(l.flags|=128),tA(n,t,l,d,r,o,!0)}}function l2(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function d2(n,t,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&Md(n,t,i),null!==r&&l2(n,t,r),null!==o&&function SX(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}function af(n){return function nA(){if(void 0===O0&&(O0=null,Nn.trustedTypes))try{O0=Nn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return O0}()?.createHTML(n)||n}function cf(){if(void 0!==iA)return iA;if(typeof document<"u")return document;throw new he(210,!1)}function rA(){if(void 0===N0&&(N0=null,Nn.trustedTypes))try{N0=Nn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return N0}function u2(n){return rA()?.createHTML(n)||n}function f2(n){return rA()?.createScriptURL(n)||n}class eu{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ay})`}}class OX extends eu{getTypeName(){return"HTML"}}class NX extends eu{getTypeName(){return"Style"}}class FX extends eu{getTypeName(){return"Script"}}class LX extends eu{getTypeName(){return"URL"}}class VX extends eu{getTypeName(){return"ResourceURL"}}function ts(n){return n instanceof eu?n.changingThisBreaksApplicationSecurity:n}function Ca(n,t){const e=function BX(n){return n instanceof eu&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${ay})`)}return e===t}class WX{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(af(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class GX{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=af(t),e}}const KX=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function F0(n){return(n=String(n)).match(KX)?n:"unsafe:"+n}function lc(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Og(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const p2=lc("area,br,col,hr,img,wbr"),g2=lc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_2=lc("rp,rt"),oA=Og(p2,Og(g2,lc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Og(_2,lc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Og(_2,g2)),sA=lc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),b2=Og(sA,lc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),lc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),QX=lc("script,style,template");class YX{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!oA.hasOwnProperty(e))return this.sanitizedSomething=!0,!QX.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!b2.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;sA[a]&&(c=F0(c)),this.buf.push(" ",s,'="',v2(c),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();oA.hasOwnProperty(e)&&!p2.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(v2(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const XX=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,JX=/([^\#-~ |!])/g;function v2(n){return n.replace(/&/g,"&amp;").replace(XX,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(JX,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let L0;function y2(n,t){let e=null;try{L0=L0||function m2(n){const t=new GX(n);return function $X(){try{return!!(new window.DOMParser).parseFromString(af(""),"text/html")}catch{return!1}}()?new WX(t):t}(n);let i=t?String(t):"";e=L0.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=L0.getInertBodyElement(i)}while(i!==o);return af((new YX).sanitizeChildren(aA(e)||e))}finally{if(e){const i=aA(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function aA(n){return"content"in n&&function ZX(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Lr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Lr||{});function x2(n){const t=Ng();return t?u2(t.sanitize(Lr.HTML,n)||""):Ca(n,"HTML")?u2(ts(n)):y2(cf(),Ct(n))}function w2(n){const t=Ng();return t?t.sanitize(Lr.URL,n)||"":Ca(n,"URL")?ts(n):F0(Ct(n))}function E2(n){const t=Ng();if(t)return f2(t.sanitize(Lr.RESOURCE_URL,n)||"");if(Ca(n,"ResourceURL"))return f2(ts(n));throw new he(904,!1)}function Ng(){const n=we();return n&&n[cl].sanitizer}const Fg=new ue("ENVIRONMENT_INITIALIZER"),C2=new ue("INJECTOR",-1),T2=new ue("INJECTOR_DEF_TYPES");class cA{get(t,e=Xa){if(e===Xa){const i=new Error(`NullInjectorError: No provider for ${Le(t)}!`);throw i.name="NullInjectorError",i}return e}}function V0(n){return{\u0275providers:n}}function oJ(...n){return{\u0275providers:A2(0,n),\u0275fromNgModule:!0}}function A2(n,...t){const e=[],i=new Set;let r;const o=s=>{e.push(s)};return ef(t,s=>{const a=s;B0(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&k2(r,o),e}function k2(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];lA(r,o=>{t(o,i)})}}function B0(n,t,e,i){if(!(n=vt(n)))return!1;let r=null,o=Cd(n);const s=!o&&Yt(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=Cd(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)B0(l,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;i.add(r);try{ef(o.imports,d=>{B0(d,t,e,i)&&(l||=[],l.push(d))})}finally{}void 0!==l&&k2(l,t)}if(!a){const l=ml(r)||(()=>new r);t({provide:r,useFactory:l,deps:un},r),t({provide:T2,useValue:r,multi:!0},r),t({provide:Fg,useValue:()=>X(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=n;lA(c,d=>{t(d,l)})}}}return r!==n&&void 0!==n.providers}function lA(n,t){for(let e of n)yh(e)&&(e=e.\u0275providers),Array.isArray(e)?lA(e,t):t(e)}const sJ=Xe({provide:String,useValue:Xe});function dA(n){return null!==n&&"object"==typeof n&&sJ in n}function tu(n){return"function"==typeof n}const uA=new ue("Set Injector scope."),U0={},cJ={};let hA;function j0(){return void 0===hA&&(hA=new cA),hA}class ns{}class lf extends ns{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mA(t,s=>this.processProvider(s)),this.records.set(C2,df(void 0,this)),r.has("environment")&&this.records.set(ns,df(void 0,this));const o=this.records.get(uA);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(T2.multi,un,Gt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=xs(this),i=wr(void 0);try{return t()}finally{xs(e),wr(i)}}get(t,e=Xa,i=Gt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(wy))return t[wy](this);i=ol(i);const o=xs(this),s=wr(void 0);try{if(!(i&Gt.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function fJ(n){return"function"==typeof n||"object"==typeof n&&n instanceof ue}(t)&&Eh(t);c=l&&this.injectableDefInScope(l)?df(fA(t),U0):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(i&Gt.Self?j0():this.parent).get(t,e=i&Gt.Optional&&e===Xa?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Do]=a[Do]||[]).unshift(Le(t)),o)throw a;return function Rd(n,t,e,i){const r=n[Do];throw t[yy]&&r.unshift(t[yy]),n.message=function cL(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Le(t);if(Array.isArray(t))r=t.map(Le).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Le(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(ZC,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Do]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{wr(s),xs(o)}}resolveInjectorInitializers(){const t=xs(this),e=wr(void 0);try{const r=this.get(Fg.multi,un,Gt.Self);for(const o of r)o()}finally{xs(t),wr(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Le(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(t){let e=tu(t=vt(t))?t:vt(t&&t.provide);const i=function dJ(n){return dA(n)?df(void 0,n.useValue):df(R2(n),U0)}(t);if(tu(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=df(void 0,U0,!0),r.factory=()=>$s(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===U0&&(e.value=cJ,e.value=e.factory()),"object"==typeof e.value&&e.value&&function hJ(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=vt(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function fA(n){const t=Eh(n),e=null!==t?t.factory:ml(n);if(null!==e)return e;if(n instanceof ue)throw new he(204,!1);if(n instanceof Function)return function lJ(n){const t=n.length;if(t>0)throw Ag(t,"?"),new he(204,!1);const e=function XC(n){return n&&(n[Ih]||n[Ep])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new he(204,!1)}function R2(n,t,e){let i;if(tu(n)){const r=vt(n);return ml(r)||fA(r)}if(dA(n))i=()=>vt(n.useValue);else if(function D2(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...$s(n.deps||[]));else if(function S2(n){return!(!n||!n.useExisting)}(n))i=()=>X(vt(n.useExisting));else{const r=vt(n&&(n.useClass||n.provide));if(!function uJ(n){return!!n.deps}(n))return ml(r)||fA(r);i=()=>new r(...$s(n.deps))}return i}function df(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function mA(n,t){for(const e of n)Array.isArray(e)?mA(e,t):e&&yh(e)?mA(e.\u0275providers,t):t(e)}const z0=new ue("AppId",{providedIn:"root",factory:()=>mJ}),mJ="ng",M2=new ue("Platform Initializer"),Oo=new ue("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vr=new ue("AnimationModuleType"),pA=new ue("CSP nonce",{providedIn:"root",factory:()=>cf().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let P2=(n,t,e)=>null;function EA(n,t,e=!1){return P2(n,t,e)}class IJ{}class F2{}class TJ{resolveComponentFactory(t){throw function CJ(n){const t=Error(`No component factory found for ${Le(n)}.`);return t.ngComponent=n,t}(t)}}let ff=(()=>{class n{static{this.NULL=new TJ}}return n})();function AJ(){return mf(Ki(),we())}function mf(n,t){return new ft(Xr(n,t))}let ft=(()=>{class n{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=AJ}}return n})();function kJ(n){return n instanceof ft?n.nativeElement:n}class Bg{}let dc=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function SJ(){const n=we(),e=yo(Ki().index,n);return(Qr(e)?e:n)[wt]}()}}return n})(),DJ=(()=>{class n{static{this.\u0275prov=Ie({token:n,providedIn:"root",factory:()=>null})}}return n})();class xl{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const TA=new xl("16.2.12"),AA={};function j2(n,t=null,e=null,i){const r=z2(n,t,e,i);return r.resolveInjectorInitializers(),r}function z2(n,t=null,e=null,i,r=new Set){const o=[e||un,oJ(n)];return i=i||("object"==typeof n?void 0:Le(n)),new lf(o,t||j0(),i||null,r)}let Ln=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Xa}static{this.NULL=new cA}static create(e,i){if(Array.isArray(e))return j2({name:""},i,e,"");{const r=e.name??"";return j2({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=Ie({token:n,providedIn:"any",factory:()=>X(C2)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function SA(n){return n.ngOriginalError}class As{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&SA(t);for(;e&&SA(e);)e=SA(e);return e||null}}function DA(n){return t=>{setTimeout(n,void 0,t)}}const zt=class VJ extends Q{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&"object"==typeof t){const c=t;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=DA(o),r&&(r=DA(r)),s&&(s=DA(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof kt&&t.add(a),a}};function q2(...n){}class We{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zt(!1),this.onMicrotaskEmpty=new zt(!1),this.onStable=new zt(!1),this.onError=new zt(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function BJ(){const n="function"==typeof Nn.requestAnimationFrame;let t=Nn[n?"requestAnimationFrame":"setTimeout"],e=Nn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function zJ(n){const t=()=>{!function jJ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Nn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,MA(n),n.isCheckStableRunning=!0,RA(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),MA(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{if(function qJ(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,o,s,a);try{return W2(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),G2(n)}},onInvoke:(e,i,r,o,s,a,c)=>{try{return W2(n),e.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&t(),G2(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,MA(n),RA(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!We.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(We.isInAngularZone())throw new he(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,UJ,q2,q2);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const UJ={};function RA(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function MA(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function W2(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function G2(n){n._nesting--,RA(n)}class HJ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zt,this.onMicrotaskEmpty=new zt,this.onStable=new zt,this.onError=new zt}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const $2=new ue("",{providedIn:"root",factory:K2});function K2(){const n=Me(We);let t=!0;return E(new at(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new at(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{We.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(q()))}function uc(n){return n instanceof Function?n():n}let PA=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Ie({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Ug(n){for(;n;){n[Dt]|=64;const t=Rg(n);if(Up(n)&&!t)return n;n=t}return null}const Z2=new ue("",{providedIn:"root",factory:()=>!1});let Y0=null;function iV(n,t){return n[t]??sV()}function rV(n,t){const e=sV();e.producerNode?.length&&(n[t]=Y0,e.lView=n,Y0=oV())}const eZ={...Vy,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Ug(n.lView)},lView:null};function oV(){return Object.create(eZ)}function sV(){return Y0??=oV(),Y0}const Ot={};function ae(n){aV(Xt(),we(),Or()+n,!1)}function aV(n,t,e,i){if(!i)if(3==(3&t[Dt])){const o=n.preOrderCheckHooks;null!==o&&Gh(t,o,e)}else{const o=n.preOrderHooks;null!==o&&_l(t,o,0,e)}oc(e)}function N(n,t=Gt.Default){const e=we();return null===e?X(n,t):jt(Ki(),e,vt(n),t)}function jg(){throw new Error("invalid")}function X0(n,t,e,i,r,o,s,a,c,l,d){const u=t.blueprint.slice();return u[fi]=r,u[Dt]=140|i,(null!==l||n&&2048&n[Dt])&&(u[Dt]|=2048),Jy(u),u[Fn]=u[ll]=n,u[mi]=e,u[cl]=s||n&&n[cl],u[wt]=a||n&&n[wt],u[ba]=c||n&&n[ba]||null,u[Ir]=o,u[tc]=function rX(){return iX++}(),u[Qs]=d,u[Sy]=l,u[pi]=2==t.type?n[pi]:u,u}function _f(n,t,e,i,r){let o=n.data[t];if(null===o)o=function OA(n,t,e,i,r){const o=s0(),s=ng(),c=n.data[t]=function cZ(n,t,e,i,r,o){let s=t?t.injectorIndex:-1,a=0;return xa()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,t,e,i,r),function TT(){return pt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function Gd(){const n=pt.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Mo(o,!0),o}function zg(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function cV(n,t,e,i,r){const o=iV(t,nc),s=Or(),a=2&i;try{oc(-1),a&&t.length>$t&&aV(n,t,$t,!1),Is(a?2:0,r);const l=a?o:null,d=zp(l);try{null!==l&&(l.dirty=!1),e(i,r)}finally{Hp(l,d)}}finally{a&&null===t[nc]&&rV(t,nc),oc(s),Is(a?3:1,r)}}function NA(n,t,e){if(Ry(t)){const i=Cr(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{Cr(i)}}}function FA(n,t,e){zh()&&(function pZ(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;ul(e)&&function wZ(n,t,e){const i=Xr(t,n),r=lV(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=J0(n,X0(n,r,null,s,i,t,null,n[cl].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||_(e,t),Jr(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],l=Ia(t,n,a,e);Jr(l,t),null!==s&&EZ(0,a-r,l,c,0,s),Zo(c)&&(yo(e.index,t)[mi]=Ia(t,n,a,e))}}(n,t,e,Xr(e,t)),64==(64&e.flags)&&mV(n,t,e))}function LA(n,t,e=Xr){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function lV(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=VA(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function VA(n,t,e,i,r,o,s,a,c,l,d){const u=$t+i,p=u+r,b=function nZ(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Ot);return e}(u,p),v="function"==typeof l?l():l;return b[He]={type:n,blueprint:b,template:e,queries:null,viewQuery:a,declTNode:t,data:b.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:d}}let dV=n=>null;function uV(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const o=n[r];null===i?hV(e,t,r,o):i.hasOwnProperty(r)&&hV(e,t,i[r],o)}return e}function hV(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function is(n,t,e,i,r,o,s,a){const c=Xr(t,e);let d,l=t.inputs;!a&&null!=l&&(d=l[i])?(HA(n,e,d,i,r),ul(t)&&function uZ(n,t){const e=yo(t,n);16&e[Dt]||(e[Dt]|=64)}(e,t.index)):3&t.type&&(i=function dZ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(c,i,r))}function BA(n,t,e,i){if(zh()){const r=null===i?null:{"":-1},o=function _Z(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(Nd(t,s.selectors,!1))if(i||(i=[]),Zo(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),UA(n,t,a.length)}else i.unshift(s),UA(n,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&fV(n,t,e,s,r,a),r&&function bZ(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new he(-301,!1);i.push(t[r],o)}}}(e,i,r)}e.mergedAttrs=Pd(e.mergedAttrs,e.attrs)}function fV(n,t,e,i,r,o){for(let l=0;l<i.length;l++)ce(_(e,t),n,i[l].type);!function yZ(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let l=0;l<i.length;l++){const d=i[l];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=zg(n,t,i.length,null);for(let l=0;l<i.length;l++){const d=i[l];e.mergedAttrs=Pd(e.mergedAttrs,d.hostAttrs),xZ(n,e,t,c,d),vZ(c,d,r),null!==d.contentQueries&&(e.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=64);const u=d.type.prototype;!s&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),c++}!function lZ(n,t,e){const r=t.directiveEnd,o=n.data,s=t.attrs,a=[];let c=null,l=null;for(let d=t.directiveStart;d<r;d++){const u=o[d],p=e?e.get(u):null,v=p?p.outputs:null;c=uV(u.inputs,d,c,p?p.inputs:null),l=uV(u.outputs,d,l,v);const x=null===c||null===s||Mp(t)?null:IZ(c,d,s);a.push(x)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(n,e,o)}function mV(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function AT(){return pt.lFrame.currentDirectiveIndex}();try{oc(o);for(let a=i;a<r;a++){const c=n.data[a],l=t[a];cg(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&gZ(c,l)}}finally{oc(-1),cg(s)}}function gZ(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function UA(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function vZ(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Zo(t)&&(e[""]=n)}}function xZ(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=ml(r.type)),s=new bl(o,Zo(r),N);n.blueprint[i]=s,e[i]=s,function fZ(n,t,e,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~t.index;(function mZ(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,i,o)}}(n,t,i,zg(n,e,r.hostVars,Ot),r)}function Ta(n,t,e,i,r,o){const s=Xr(n,t);!function jA(n,t,e,i,r,o,s){if(null==o)n.removeAttribute(t,r,e);else{const a=null==s?Ct(o):s(o,i||"",r);n.setAttribute(t,r,a,e)}}(t[wt],s,o,n.value,e,i,r)}function EZ(n,t,e,i,r,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)pV(i,e,s[a++],s[a++],s[a++])}function pV(n,t,e,i,r){const o=Cr(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{Cr(o)}}function IZ(n,t,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){i.push(o,s[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function gV(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function _V(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const o=e[i+1];if(-1!==o){const s=n.data[o];dg(e[i]),s.contentQueries(2,t[o],o)}}}function J0(n,t){return n[Fd]?n[Rh][Jo]=t:n[Fd]=t,n[Rh]=t,t}function zA(n,t,e){dg(0);const i=Cr(null);try{t(n,e)}finally{Cr(i)}}function bV(n){return n[al]||(n[al]=[])}function vV(n){return n.cleanup||(n.cleanup=[])}function yV(n,t,e){return(null===n||Zo(n))&&(e=function Xp(n){for(;Array.isArray(n);){if("object"==typeof n[Bd])return n;n=n[fi]}return null}(e[t.index])),e[wt]}function xV(n,t){const e=n[ba],i=e?e.get(As,null):null;i&&i.handleError(t)}function HA(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++];pV(n.data[s],t[s],i,a,r)}}function CZ(n,t){const e=yo(t,n),i=e[He];!function TZ(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[fi];null!==r&&null===e[Qs]&&(e[Qs]=EA(r,e[ba])),qA(i,e,e[mi])}function qA(n,t,e){hg(t);try{const i=n.viewQuery;null!==i&&zA(1,i,e);const r=n.template;null!==r&&cV(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&_V(n,t),n.staticViewQueries&&zA(2,n.viewQuery,e);const o=n.components;null!==o&&function AZ(n,t){for(let e=0;e<t.length;e++)CZ(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[Dt]&=-5,fg()}}let wV=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function $p(n,t,e){const i=Object.create(_T);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>Oh(i),run:()=>{if(i.dirty=!1,i.hasRun&&!qp(i))return;i.hasRun=!0;const s=zp(i);try{i.cleanupFn(),i.cleanupFn=Ky,i.fn(r)}finally{Hp(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(e,l=>{this.all.has(l)&&this.queue.set(l,o)},r);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Ie({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Z0(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=ui(r,a):2==o&&(i=ui(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function Hg(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];null!==o&&i.push(An(o)),Yr(o)&&EV(o,i);const s=e.type;if(8&s)Hg(n,t,e.child,i);else if(32&s){const a=KT(e,t);let c;for(;c=a();)i.push(c)}else if(16&s){const a=s2(t,e);if(Array.isArray(a))i.push(...a);else{const c=Rg(t[pi]);Hg(c[He],c,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function EV(n,t){for(let e=hr;e<n.length;e++){const i=n[e],r=i[He].firstChild;null!==r&&Hg(i[He],i,r,t)}n[Pr]!==n[fi]&&t.push(n[Pr])}function ex(n,t,e,i=!0){const r=t[cl],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{IV(n,t,n.template,e)}catch(c){throw i&&xV(t,c),c}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function IV(n,t,e,i){const r=t[Dt];if(256!=(256&r)){t[cl].effectManager?.flush(),hg(t);try{Jy(t),function og(n){return pt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&cV(n,t,e,2,i);const s=3==(3&r);if(s){const l=n.preOrderCheckHooks;null!==l&&Gh(t,l,null)}else{const l=n.preOrderHooks;null!==l&&_l(t,l,0,null),Qd(t,0)}if(function DZ(n){for(let t=$L(n);null!==t;t=KL(t)){if(!t[Dy])continue;const e=t[dl];for(let i=0;i<e.length;i++){Zp(e[i])}}}(t),CV(t,2),null!==n.contentQueries&&_V(n,t),s){const l=n.contentCheckHooks;null!==l&&Gh(t,l)}else{const l=n.contentHooks;null!==l&&_l(t,l,1),Qd(t,1)}!function tZ(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=iV(t,Vd);try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)oc(~o);else{const s=o,a=e[++r],c=e[++r];ag(a,s),i.dirty=!1;const l=zp(i);try{c(2,t[s])}finally{Hp(i,l)}}}}finally{null===t[Vd]&&rV(t,Vd),oc(-1)}}(n,t);const a=n.components;null!==a&&AV(t,a,0);const c=n.viewQuery;if(null!==c&&zA(2,c,i),s){const l=n.viewCheckHooks;null!==l&&Gh(t,l)}else{const l=n.viewHooks;null!==l&&_l(t,l,2),Qd(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[Dt]&=-73,Zy(t)}finally{fg()}}}function CV(n,t){for(let e=$L(n);null!==e;e=KL(e))for(let i=hr;i<e.length;i++)TV(e[i],t)}function RZ(n,t,e){TV(yo(t,n),e)}function TV(n,t){if(!function Jp(n){return 128==(128&n[Dt])}(n))return;const e=n[He],i=n[Dt];if(80&i&&0===t||1024&i||2===t)IV(e,n,e.template,n[mi]);else if(n[ec]>0){CV(n,1);const r=e.components;null!==r&&AV(n,r,1)}}function AV(n,t,e){for(let i=0;i<t.length;i++)RZ(n,t[i],e)}class qg{get rootNodes(){const t=this._lView,e=t[He];return Hg(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mi]}set context(t){this._lView[mi]=t}get destroyed(){return 256==(256&this._lView[Dt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Fn];if(Yr(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(D0(t,i),y0(e,i))}this._attachedToViewContainer=!1}YT(this._lView[He],this._lView)}onDestroy(t){!function e0(n,t){if(256==(256&n[Dt]))throw new he(911,!1);null===n[Es]&&(n[Es]=[]),n[Es].push(t)}(this._lView,t)}markForCheck(){Ug(this._cdRefInjectingView||this._lView)}detach(){this._lView[Dt]&=-129}reattach(){this._lView[Dt]|=128}detectChanges(){ex(this._lView[He],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bX(n,t){Pg(n,t,t[wt],2,null,null)}(this._lView[He],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=t}}class MZ extends qg{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;ex(t[He],t,t[mi],!1)}checkNoChanges(){}get context(){return null}}class kV extends ff{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Yt(t);return new Wg(e,this.ngModule)}}function SV(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class OZ{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=ol(i);const r=this.injector.get(t,AA,i);return r!==AA||e===AA?r:this.parentInjector.get(t,e,i)}}class Wg extends F2{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=SV(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return SV(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function Lp(n){return n.map(kh).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let o=(r=r||this.ngModule)instanceof ns?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new OZ(t,o):t,a=s.get(Bg,null);if(null===a)throw new he(407,!1);const u={rendererFactory:a,sanitizer:s.get(DJ,null),effectManager:s.get(wV,null),afterRenderEventManager:s.get(PA,null)},p=a.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",v=i?function iZ(n,t,e,i){const o=i.get(Z2,!1)||e===dr.ShadowDom,s=n.selectRootElement(t,o);return function rZ(n){dV(n)}(s),s}(p,i,this.componentDef.encapsulation,s):S0(p,b,function PZ(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(b)),F=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let R=null;null!==v&&(R=EA(v,s,!0));const z=VA(0,null,null,1,0,null,null,null,null,null,null),K=X0(null,z,null,F,null,null,u,p,s,null,R);let Z,ne;hg(K);try{const U=this.componentDef;let P,B=null;U.findHostDirectiveDefs?(P=[],B=new Map,U.findHostDirectiveDefs(U,P,B),P.push(U)):P=[U];const G=function FZ(n,t){const e=n[He],i=$t;return n[i]=t,_f(e,i,2,"#host",null)}(K,v),Y=function LZ(n,t,e,i,r,o,s){const a=r[He];!function VZ(n,t,e,i){for(const r of n)t.mergedAttrs=Pd(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(Z0(t,t.mergedAttrs,!0),null!==e&&d2(i,e,t))}(i,n,t,s);let c=null;null!==t&&(c=EA(t,r[ba]));const l=o.rendererFactory.createRenderer(t,e);let d=16;e.signals?d=4096:e.onPush&&(d=64);const u=X0(r,lV(e),null,d,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&UA(a,n,i.length-1),J0(r,u),r[n.index]=u}(G,v,U,P,K,u,p);ne=Bh(z,$t),v&&function UZ(n,t,e,i){if(i)Md(n,e,["ng-version",TA.full]);else{const{attrs:r,classes:o}=function Ty(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!bo(r))break;r=o}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&Md(n,e,r),o&&o.length>0&&l2(n,e,o.join(" "))}}(p,U,v,i),void 0!==e&&function jZ(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(ne,this.ngContentSelectors,e),Z=function BZ(n,t,e,i,r,o){const s=Ki(),a=r[He],c=Xr(s,r);fV(a,r,s,e,null,i);for(let d=0;d<e.length;d++)Jr(Ia(r,a,s.directiveStart+d,s),r);mV(a,r,s),c&&Jr(c,r);const l=Ia(r,a,s.directiveStart+s.componentOffset,s);if(n[mi]=r[mi]=l,null!==o)for(const d of o)d(l,t);return NA(a,s,n),l}(Y,U,P,B,K,[zZ]),qA(z,K,null)}finally{fg()}return new NZ(this.componentType,Z,mf(ne,K),K,ne)}}class NZ extends IJ{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new MZ(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;HA(o[He],o,r,t,e),this.previousInputValues.set(t,e),Ug(yo(this._tNode.index,o))}}get injector(){return new Tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function zZ(){const n=Ki();Wh(we()[He],n)}function qe(n){let t=function DV(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Zo(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new he(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=tx(n.inputs),s.inputTransforms=tx(n.inputTransforms),s.declaredInputs=tx(n.declaredInputs),s.outputs=tx(n.outputs);const a=r.hostBindings;a&&GZ(n,a);const c=r.viewQuery,l=r.contentQueries;if(c&&qZ(n,c),l&&WZ(n,l),Gn(n.inputs,r.inputs),Gn(n.declaredInputs,r.declaredInputs),Gn(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Gn(s.inputTransforms,r.inputTransforms)),Zo(r)&&r.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===qe&&(e=!1)}}t=Object.getPrototypeOf(t)}!function HZ(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Pd(r.hostAttrs,e=Pd(e,r.hostAttrs))}}(i)}function tx(n){return n===Kr?{}:n===un?[]:n}function qZ(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function WZ(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function GZ(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function OV(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function nx(n){return!!WA(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function WA(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Aa(n,t,e){return n[t]=e}function Zr(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function nu(n,t,e,i){const r=Zr(n,t,e);return Zr(n,t+1,i)||r}function kn(n,t,e,i){const r=we();return Zr(r,rc(),t)&&(Xt(),Ta($n(),r,n,t,e,i)),kn}function vf(n,t,e,i){return Zr(n,rc(),e)?t+Ct(e)+i:Ot}function Se(n,t,e,i,r,o,s,a){const c=we(),l=Xt(),d=n+$t,u=l.firstCreatePass?function _ee(n,t,e,i,r,o,s,a,c){const l=t.consts,d=_f(t,n,4,s||null,ya(l,a));BA(t,e,d,ya(l,c)),Wh(t,d);const u=d.tView=VA(2,d,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,d),u.queries=t.queries.embeddedTView(d)),d}(d,l,c,t,e,i,r,o,s):l.data[d];Mo(u,!1);const p=$V(l,c,u,n);qh()&&M0(l,c,p,u),Jr(p,c),J0(c,c[d]=gV(p,c,p,u)),hl(u)&&FA(l,c,u),null!=s&&LA(c,u,a)}let $V=function KV(n,t,e,i){return wa(!0),t[wt].createComment("")};function ka(n){return gl(function ig(){return pt.lFrame.contextLView}(),$t+n)}function ve(n,t,e){const i=we();return Zr(i,rc(),t)&&is(Xt(),$n(),i,n,t,i[wt],e,!1),ve}function XA(n,t,e,i,r){const s=r?"class":"style";HA(n,e,t.inputs[s],s,i)}function D(n,t,e,i){const r=we(),o=Xt(),s=$t+n,a=r[wt],c=o.firstCreatePass?function xee(n,t,e,i,r,o){const s=t.consts,c=_f(t,n,2,i,ya(s,r));return BA(t,e,c,ya(s,o)),null!==c.attrs&&Z0(c,c.attrs,!1),null!==c.mergedAttrs&&Z0(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,t,e,i):o.data[s],l=QV(o,r,c,a,t,n);r[s]=l;const d=hl(c);return Mo(c,!0),d2(a,l,c),32!=(32&c.flags)&&qh()&&M0(o,r,l,c),0===function wT(){return pt.lFrame.elementDepthCount}()&&Jr(l,r),function ET(){pt.lFrame.elementDepthCount++}(),d&&(FA(o,r,c),NA(o,c,r)),null!==i&&LA(r,c),D}function S(){let n=Ki();ng()?$d():(n=n.parent,Mo(n,!1));const t=n;(function IT(n){return pt.skipHydrationRootTNode===n})(t)&&function CT(){pt.skipHydrationRootTNode=null}(),function tg(){pt.lFrame.elementDepthCount--}();const e=Xt();return e.firstCreatePass&&(Wh(e,n),Ry(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function p0(n){return 0!=(8&n.flags)}(t)&&XA(e,t,we(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Kh(n){return 0!=(16&n.flags)}(t)&&XA(e,t,we(),t.stylesWithoutHost,!1),S}function rt(n,t,e,i){return D(n,t,e,i),S(),rt}let QV=(n,t,e,i,r,o)=>(wa(!0),S0(i,r,function u0(){return pt.lFrame.currentNamespace}()));function iu(n,t,e){const i=we(),r=Xt(),o=n+$t,s=r.firstCreatePass?function Iee(n,t,e,i,r){const o=t.consts,s=ya(o,i),a=_f(t,n,8,"ng-container",s);return null!==s&&Z0(a,s,!0),BA(t,e,a,ya(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];Mo(s,!0);const a=YV(r,i,s,n);return i[o]=a,qh()&&M0(r,i,a,s),Jr(a,i),hl(s)&&(FA(r,i,s),NA(r,s,i)),null!=e&&LA(i,s),iu}function ru(){let n=Ki();const t=Xt();return ng()?$d():(n=n.parent,Mo(n,!1)),t.firstCreatePass&&(Wh(t,n),Ry(n)&&t.queries.elementEnd(n)),ru}function Sa(n,t,e){return iu(n,t,e),ru(),Sa}let YV=(n,t,e,i)=>(wa(!0),QT(t[wt],""));function Qi(){return we()}function Yg(n){return!!n&&"function"==typeof n.then}function XV(n){return!!n&&"function"==typeof n.subscribe}function Re(n,t,e,i){const r=we(),o=Xt(),s=Ki();return JV(o,r,r[wt],s,n,t,i),Re}function ax(n,t){const e=Ki(),i=we(),r=Xt();return JV(r,i,yV(lg(r.data),e,i),e,n,t),ax}function JV(n,t,e,i,r,o,s){const a=hl(i),l=n.firstCreatePass&&vV(n),d=t[mi],u=bV(t);let p=!0;if(3&i.type||s){const x=Xr(i,t),w=s?s(x):x,F=u.length,R=s?K=>s(An(K[i.index])):i.index;let z=null;if(!s&&a&&(z=function Aee(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[al],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==z)(z.__ngLastListenerFn__||z).__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,p=!1;else{o=eB(i,t,d,o,!1);const K=e.listen(w,r,o);u.push(o,K),l&&l.push(r,R,F,F+1)}}else o=eB(i,t,d,o,!1);const b=i.outputs;let v;if(p&&null!==b&&(v=b[r])){const x=v.length;if(x)for(let w=0;w<x;w+=2){const Z=t[v[w]][v[w+1]].subscribe(o),ne=u.length;u.push(o,Z),l&&l.push(r,i.index,ne,-(ne+1))}}}function ZV(n,t,e,i){try{return Is(6,t,e),!1!==e(i)}catch(r){return xV(n,r),!1}finally{Is(7,t,e)}}function eB(n,t,e,i,r){return function o(s){if(s===Function)return i;Ug(n.componentOffset>-1?yo(n.index,t):t);let c=ZV(t,e,i,s),l=o.__ngNextListenerFn__;for(;l;)c=ZV(t,e,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function Oe(n=1){return function ST(n){return(pt.lFrame.contextLView=function DT(n,t){for(;n>0;)t=t[ll],n--;return t}(n,pt.lFrame.contextLView))[mi]}(n)}function kee(n,t){let e=null;const i=function Np(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?Nd(n,o,!0):Cy(i,o))return r}else e=r}return e}function Yi(n){const t=we()[pi][Ir];if(!t.projection){const i=t.projection=Ag(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?kee(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function xt(n,t=0,e){const i=we(),r=Xt(),o=_f(r,$t+n,16,null,e||null);null===o.projection&&(o.projection=t),$d(),(!i[Qs]||xa())&&32!=(32&o.flags)&&function TX(n,t,e){c2(t[wt],0,t,e,JT(n,e,t),t2(e.parent||t[Ir],e,t))}(r,i,o)}function Xg(n,t,e,i,r){const o=we(),s=vf(o,t,e,i);return s!==Ot&&is(Xt(),$n(),o,n,s,o[wt],r,!1),Xg}function cx(n,t){return n<<17|t<<2}function wl(n){return n>>17&32767}function JA(n){return 2|n}function ou(n){return(131068&n)>>2}function ZA(n,t){return-131069&n|t<<2}function ek(n){return 1|n}function dB(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?wl(o):ou(o),c=!1;for(;0!==a&&(!1===c||s);){const d=n[a+1];Oee(n[a],t)&&(c=!0,n[a+1]=i?ek(d):JA(d)),a=i?wl(d):ou(d)}c&&(n[e+1]=i?JA(o):ek(o))}function Oee(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&tf(n,t)>=0}function El(n,t,e){return ea(n,t,e,!1),El}function Pt(n,t){return ea(n,t,null,!0),Pt}function ea(n,t,e,i){const r=we(),o=Xt(),s=function Cs(n){const t=pt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}(2);o.firstUpdatePass&&function bB(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Or()],s=function _B(n,t){return t>=n.expandoStartIndex}(n,e);(function wB(n,t){return 0!=(n.flags&(t?8:16))})(o,i)&&null===t&&!s&&(t=!1),t=function Hee(n,t,e,i){const r=lg(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Jg(e=tk(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=tk(r,n,t,e,i),null===o){let c=function qee(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==ou(i))return n[wl(i)]}(n,t,i);void 0!==c&&Array.isArray(c)&&(c=tk(null,n,t,c[1],i),c=Jg(c,t.attrs,i),function Wee(n,t,e,i){n[wl(e?t.classBindings:t.styleBindings)]=i}(n,t,i,c))}else o=function Gee(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=Jg(i,n[o].hostAttrs,e);return Jg(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function Mee(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=wl(s),c=ou(s);n[i]=e;let d,l=!1;if(Array.isArray(e)?(d=e[1],(null===d||tf(e,d)>0)&&(l=!0)):d=e,r)if(0!==c){const p=wl(n[a+1]);n[i+1]=cx(p,a),0!==p&&(n[p+1]=ZA(n[p+1],i)),n[a+1]=function Dee(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=cx(a,0),0!==a&&(n[a+1]=ZA(n[a+1],i)),a=i;else n[i+1]=cx(c,0),0===a?a=i:n[c+1]=ZA(n[c+1],i),c=i;l&&(n[i+1]=JA(n[i+1])),dB(n,d,i,!0),dB(n,d,i,!1),function Pee(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&tf(o,t)>=0&&(e[i+1]=ek(e[i+1]))}(t,d,n,i,o),s=cx(a,c),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}(o,n,s,i),t!==Ot&&Zr(r,s,t)&&function yB(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const c=n.data,l=c[a+1],d=function Ree(n){return 1==(1&n)}(l)?xB(c,t,e,r,ou(l),s):void 0;lx(d)||(lx(o)||function See(n){return 2==(2&n)}(l)&&(o=xB(c,null,e,r,a,s)),function kX(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:yl.DashCase;null==r?n.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=yl.Important),n.setStyle(e,i,r,o))}}(i,s,pl(Or(),e),r,o))}(o,o.data[Or()],r,r[wt],n,r[s+1]=function Yee(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Le(ts(n)))),n}(t,e),i,s)}function tk(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=Jg(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Jg(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),es(n,s,!!e||t[++o]))}return void 0===n?null:n}function xB(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const c=n[r],l=Array.isArray(c),d=l?c[1]:c,u=null===d;let p=e[r+1];p===Ot&&(p=u?un:void 0);let b=u?BT(p,i):d===i?p:void 0;if(l&&!lx(b)&&(b=BT(c,i)),lx(b)&&(a=b,s))return a;const v=n[r+1];r=s?wl(v):ou(v)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=BT(c,i))}return a}function lx(n){return void 0!==n}function j(n,t=""){const e=we(),i=Xt(),r=n+$t,o=i.firstCreatePass?_f(i,r,1,t,null):i.data[r],s=EB(i,e,o,t,n);e[r]=s,qh()&&M0(i,e,s,o),Mo(o,!1)}let EB=(n,t,e,i,r)=>(wa(!0),function k0(n,t){return n.createText(t)}(t[wt],i));function Vi(n){return Kn("",n,""),Vi}function Kn(n,t,e){const i=we(),r=vf(i,n,t,e);return r!==Ot&&function hc(n,t,e){const i=pl(t,n);!function YL(n,t,e){n.setValue(t,e)}(n[wt],i,e)}(i,Or(),r),Kn}function kf(n,t,e){const i=we();return Zr(i,rc(),t)&&is(Xt(),$n(),i,n,t,i[wt],e,!0),kf}function dx(n,t,e){const i=we();if(Zr(i,rc(),t)){const o=Xt(),s=$n();is(o,s,i,n,t,yV(lg(o.data),s,i),e,!0)}return dx}const su=void 0;var bte=["en",[["a","p"],["AM","PM"],su],[["AM","PM"],su,su],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],su,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],su,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",su,"{1} 'at' {0}",su],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _te(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Sf={};function xo(n){const t=function vte(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=zB(t);if(e)return e;const i=t.split("-")[0];if(e=zB(i),e)return e;if("en"===i)return bte;throw new he(701,!1)}function zB(n){return n in Sf||(Sf[n]=Nn.ng&&Nn.ng.common&&Nn.ng.common.locales&&Nn.ng.common.locales[n]),Sf[n]}var ii=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(ii||{});const Df="en-US";let HB=Df;function rk(n,t,e,i,r){if(n=vt(n),Array.isArray(n))for(let o=0;o<n.length;o++)rk(n[o],t,e,i,r);else{const o=Xt(),s=we(),a=Ki();let c=tu(n)?n:vt(n.provide);const l=R2(n),d=1048575&a.providerIndexes,u=a.directiveStart,p=a.providerIndexes>>20;if(tu(n)||!n.multi){const b=new bl(l,r,N),v=sk(c,t,r?d:d+p,u);-1===v?(ce(_(a,s),o,c),ok(o,n,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(b),s.push(b)):(e[v]=b,s[v]=b)}else{const b=sk(c,t,d+p,u),v=sk(c,t,d,d+p),w=v>=0&&e[v];if(r&&!w||!r&&!(b>=0&&e[b])){ce(_(a,s),o,c);const F=function _ne(n,t,e,i,r){const o=new bl(n,e,N);return o.multi=[],o.index=t,o.componentProviders=0,mU(o,r,i&&!e),o}(r?gne:pne,e.length,r,i,l);!r&&w&&(e[v].providerFactory=F),ok(o,n,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(F),s.push(F)}else ok(o,n,b>-1?b:v,mU(e[r?v:b],l,!r&&i));!r&&i&&w&&e[v].componentProviders++}}}function ok(n,t,e,i){const r=tu(t),o=function aJ(n){return!!n.useClass}(t);if(r||o){const c=(o?vt(t.useClass):t).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const d=l.indexOf(e);-1===d?l.push(e,[i,c]):l[d+1].push(i,c)}else l.push(e,c)}}}function mU(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function sk(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function pne(n,t,e,i){return ak(this.multi,[])}function gne(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ia(e,e[He],this.providerFactory.index,i);o=a.slice(0,s),ak(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],ak(r,o);return o}function ak(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function mt(n,t=[]){return e=>{e.providersResolver=(i,r)=>function mne(n,t,e){const i=Xt();if(i.firstCreatePass){const r=Zo(n);rk(e,i.data,i.blueprint,r,!0),rk(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class au{}class pU{}class ck extends au{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kV(this);const r=vo(t);this._bootstrapComponents=uc(r.bootstrap),this._r3Injector=z2(t,e,[{provide:au,useValue:this},{provide:ff,useValue:this.componentFactoryResolver},...i],Le(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class lk extends pU{constructor(t){super(),this.moduleType=t}create(t){return new ck(this.moduleType,t,[])}}class gU extends au{constructor(t){super(),this.componentFactoryResolver=new kV(this),this.instance=null;const e=new lf([...t.providers,{provide:au,useValue:this},{provide:ff,useValue:this.componentFactoryResolver}],t.parent||j0(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function dk(n,t,e=null){return new gU({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let yne=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=A2(0,e.type),r=i.length>0?dk([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Ie({token:n,providedIn:"environment",factory:()=>new n(X(ns))})}}return n})();function _U(n){n.getStandaloneInjector=t=>t.get(yne).getOrCreateStandaloneInjector(n)}function IU(n,t,e,i,r,o,s,a){const c=mr()+n,l=we(),d=function ks(n,t,e,i,r,o){const s=nu(n,t,e,i);return nu(n,t+2,r,o)||s}(l,c,e,i,r,o);return Zr(l,c+4,s)||d?Aa(l,c+5,a?t.call(a,e,i,r,o,s):t(e,i,r,o,s)):function Gg(n,t){return n[t]}(l,c+5)}function r_(n,t){const e=n[t];return e===Ot?void 0:e}function Fo(n,t){const e=Xt();let i;const r=n+$t;e.firstCreatePass?(i=function Vne(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=ml(i.type)),a=wr(N);try{const c=Jd(!1),l=o();return Jd(c),function yee(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,we(),r,l),l}finally{wr(a)}}function rs(n,t,e){const i=n+$t,r=we(),o=gl(r,i);return o_(r,i)?function CU(n,t,e,i,r,o){const s=t+e;return Zr(n,s,r)?Aa(n,s+1,o?i.call(o,r):i(r)):r_(n,s+1)}(r,mr(),t,o.transform,e,o):o.transform(e)}function DU(n,t,e,i){const r=n+$t,o=we(),s=gl(o,r);return o_(o,r)?function TU(n,t,e,i,r,o,s){const a=t+e;return nu(n,a,r,o)?Aa(n,a+2,s?i.call(s,r,o):i(r,o)):r_(n,a+2)}(o,mr(),t,s.transform,e,i,s):s.transform(e,i)}function o_(n,t){return n[He].data[t].pure}function zne(){return this._results[Symbol.iterator]()}class cu{get changes(){return this._changes||(this._changes=new zt)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=cu.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=zne)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function Ts(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function RY(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function qne(n,t,e,i=!0){const r=t[He];if(function yX(n,t,e,i){const r=hr+i,o=e.length;i>0&&(e[r-1][Jo]=t),i<o-hr?(t[Jo]=e[r],TL(e,hr+i,t)):(e.push(t),t[Jo]=null),t[Fn]=e;const s=t[Ld];null!==s&&e!==s&&function xX(n,t){const e=n[dl];t[pi]!==t[Fn][Fn][pi]&&(n[Dy]=!0),null===e?n[dl]=[t]:e.push(t)}(s,t);const a=t[ws];null!==a&&a.insertView(n),t[Dt]|=128}(r,t,n,e),i){const o=eA(e,n),s=t[wt],a=R0(s,n[Pr]);null!==a&&function _X(n,t,e,i,r,o){i[fi]=r,i[Ir]=t,Pg(n,i,e,1,r,o)}(r,n[Ir],s,t,a,o)}}let rr=(()=>{class n{static{this.__NG_ELEMENT_ID__=$ne}}return n})();const Wne=rr,Gne=class extends Wne{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function Hne(n,t,e,i){const r=t.tView,a=X0(n,r,e,4096&n[Dt]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[Ld]=n[t.index];const l=n[ws];return null!==l&&(a[ws]=l.createEmbeddedView(r)),qA(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new qg(r)}};function $ne(){return px(Ki(),we())}function px(n,t){return 4&n.type?new Gne(t,n,mf(n,t)):null}let Ar=(()=>{class n{static{this.__NG_ELEMENT_ID__=Zne}}return n})();function Zne(){return LU(Ki(),we())}const eie=Ar,NU=class extends eie{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return mf(this._hostTNode,this._hostLView)}get injector(){return new Tr(this._hostTNode,this._hostLView)}get parentInjector(){const t=J(this._hostTNode,this._hostLView);if(bg(t)){const e=Xd(t,this._hostLView),i=Yd(t);return new Tr(e[He].data[i+8],e)}return new Tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=FU(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-hr}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=t.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(a,r,false),a}createComponent(t,e,i,r,o){const s=t&&!function Tg(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const x=e||{};a=x.index,i=x.injector,r=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}const c=s?t:new Wg(Yt(t)),l=i||this.parentInjector;if(!o&&null==c.ngModule){const w=(s?l:this.parentInjector).get(ns,null);w&&(o=w)}Yt(c.componentType??{});const b=c.create(l,r,null,o);return this.insertImpl(b.hostView,a,false),b}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function Xy(n){return Yr(n[Fn])}(r)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const l=r[Fn],d=new NU(l,l[Ir],l[Fn]);d.detach(d.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;return qne(a,r,s,!i),t.attachToViewContainerRef(),TL(hk(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=FU(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=D0(this._lContainer,e);i&&(y0(hk(this._lContainer),e),YT(i[He],i))}detach(t){const e=this._adjustIndex(t,-1),i=D0(this._lContainer,e);return i&&null!=y0(hk(this._lContainer),e)?new qg(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function FU(n){return n[8]}function hk(n){return n[8]||(n[8]=[])}function LU(n,t){let e;const i=t[n.index];return Yr(i)?e=i:(e=gV(i,t,null,n),t[n.index]=e,J0(t,e)),VU(e,t,n,i),new NU(e,n,t)}let VU=function BU(n,t,e,i){if(n[Pr])return;let r;r=8&e.type?An(i):function tie(n,t){const e=n[wt],i=e.createComment(""),r=Xr(t,n);return Zd(e,R0(e,r),i,function CX(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[Pr]=r};class fk{constructor(t){this.queryList=t,this.matches=null}clone(){return new fk(this.queryList)}setDirty(){this.queryList.setDirty()}}class mk{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new mk(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==qU(t,e).matches&&this.queries[e].setDirty()}}class UU{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class pk{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new pk(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class gk{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new gk(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,rie(e,o)),this.matchTNodeWithReadOption(t,e,ac(e,t,o,!1,!1))}else i===rr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ac(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ft||r===Ar||r===rr&&4&e.type)this.addMatch(e.index,-2);else{const o=ac(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function rie(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function sie(n,t,e,i){return-1===e?function oie(n,t){return 11&n.type?mf(n,t):4&n.type?px(n,t):null}(t,n):-2===e?function aie(n,t,e){return e===ft?mf(t,n):e===rr?px(t,n):e===Ar?LU(t,n):void 0}(n,t,i):Ia(n,n[He],e,t)}function jU(n,t,e,i){const r=t[ws].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:sie(t,o[l],s[c+1],e.metadata.read))}r.matches=a}return r.matches}function _k(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=jU(n,t,r,e);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const l=o[a+1],d=t[-c];for(let u=hr;u<d.length;u++){const p=d[u];p[Ld]===p[Fn]&&_k(p[He],p,l,i)}if(null!==d[dl]){const u=d[dl];for(let p=0;p<u.length;p++){const b=u[p];_k(b[He],b,l,i)}}}}}return i}function gt(n){const t=we(),e=Xt(),i=Hh();dg(i+1);const r=qU(e,i);if(n.dirty&&function xT(n){return 4==(4&n[Dt])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?_k(e,t,i,[]):jU(e,t,r,i);n.reset(o,kJ),n.notifyOnChanges()}return!0}return!1}function ri(n,t,e){const i=Xt();i.firstCreatePass&&(HU(i,new UU(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),zU(i,we(),t)}function Qn(n,t,e,i){const r=Xt();if(r.firstCreatePass){const o=Ki();HU(r,new UU(t,e,i),o.index),function lie(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}zU(r,we(),e)}function _t(){return function cie(n,t){return n[ws].queries[t].queryList}(we(),Hh())}function zU(n,t,e){const i=new cu(4==(4&e));(function aZ(n,t,e,i){const r=bV(t);r.push(e),n.firstCreatePass&&vV(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[ws]&&(t[ws]=new mk),t[ws].queries.push(new fk(i))}function HU(n,t,e){null===n.queries&&(n.queries=new pk),n.queries.track(new gk(t,e))}function qU(n,t){return n.queries.getByIndex(t)}function Rf(n,t){return px(n,t)}const bx=new ue("Application Initializer");let Ek=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=Me(bx,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(Yg(o))e.push(o);else if(XV(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});e.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),c4=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const Ma=new ue("LocaleId",{providedIn:"root",factory:()=>Me(Ma,Gt.Optional|Gt.SkipSelf)||function Die(){return typeof $localize<"u"&&$localize.locale||Df}()}),Rie=new ue("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let vx=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new k(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Pie{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let l4=(()=>{class n{compileModuleSync(e){return new lk(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=uc(vo(e).declarations).reduce((s,a)=>{const c=Yt(a);return c&&s.push(new Wg(c)),s},[]);return new Pie(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const f4=new ue(""),xx=new ue("");let kk,Tk=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,kk||(function tre(n){kk=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)(X(We),X(Ak),X(xx))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})(),Ak=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return kk?.findTestabilityInTree(this,e,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Il=null;const m4=new ue("AllowMultipleToken"),Sk=new ue("PlatformDestroyListeners"),Dk=new ue("appBootstrapListener");class g4{constructor(t,e){this.name=t,this.token=e}}function b4(n,t,e=[]){const i=`Platform: ${t}`,r=new ue(i);return(o=[])=>{let s=Rk();if(!s||s.injector.get(m4,!1)){const a=[...e,...o,{provide:r,useValue:!0}];n?n(a):function rre(n){if(Il&&!Il.get(m4,!1))throw new he(400,!1);(function p4(){!function vL(n){qy=n}(()=>{throw new he(600,!1)})})(),Il=n;const t=n.get(y4);(function _4(n){n.get(M2,null)?.forEach(e=>e())})(n)}(function v4(n=[],t){return Ln.create({name:t,providers:[{provide:uA,useValue:"platform"},{provide:Sk,useValue:new Set([()=>Il=null])},...n]})}(a,i))}return function sre(n){const t=Rk();if(!t)throw new he(401,!1);return t}()}}function Rk(){return Il?.get(y4)??null}let y4=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function are(n="zone.js",t){return"noop"===n?new HJ:"zone.js"===n?new We(t):n}(i?.ngZone,function x4(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function vne(n,t,e){return new ck(n,t,e)}(e.moduleType,this.injector,function T4(n){return[{provide:We,useFactory:n},{provide:Fg,multi:!0,useFactory:()=>{const t=Me(lre,{optional:!0});return()=>t.initialize()}},{provide:C4,useFactory:cre},{provide:$2,useFactory:K2}]}(()=>r)),s=o.injector.get(As,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{wx(this._modules,o),a.unsubscribe()})}),function w4(n,t,e){try{const i=e();return Yg(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(Ek);return a.runInitializers(),a.donePromise.then(()=>(function qB(n){go(n,"Expected localeId to be defined"),"string"==typeof n&&(HB=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Ma,Df)||Df),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,i=[]){const r=E4({},i);return function nre(n,t,e){const i=new lk(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(fc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new he(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(Sk,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)(X(Ln))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function E4(n,t){return Array.isArray(t)?t.reduce(E4,n):{...n,...t}}let fc=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Me(C4),this.zoneIsStable=Me($2),this.componentTypes=[],this.components=[],this.isStable=Me(vx).hasPendingTasks.pipe(ke(e=>e?O(!1):this.zoneIsStable),Ze(),q()),this._injector=Me(ns)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof F2;if(!this._injector.get(Ek).done)throw!r&&function _a(n){const t=Yt(n)||Li(n)||ur(n);return null!==t&&t.standalone}(e),new he(405,!1);let s;s=r?e:this._injector.get(ff).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function ire(n){return n.isBoundToModule}(s)?void 0:this._injector.get(au),l=s.create(Ln.NULL,[],i||s.selector,a),d=l.location.nativeElement,u=l.injector.get(f4,null);return u?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),wx(this.components,l),u?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;wx(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(Dk,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>wx(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new he(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function wx(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const C4=new ue("",{providedIn:"root",factory:()=>Me(As).handleError.bind(void 0)});function cre(){const n=Me(We),t=Me(As);return e=>n.runOutsideAngular(()=>t.handleError(e))}let lre=(()=>{class n{constructor(){this.zone=Me(We),this.applicationRef=Me(fc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();let Vo=(()=>{class n{static{this.__NG_ELEMENT_ID__=ure}}return n})();function ure(n){return function hre(n,t,e){if(ul(n)&&!e){const i=yo(n.index,t);return new qg(i,i)}return 47&n.type?new qg(t[pi],t):null}(Ki(),we(),16==(16&n))}class R4{constructor(){}supports(t){return nx(t)}create(t){return new _re(t)}}const gre=(n,t)=>t;class _re{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||gre}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<P4(i,r,o)?e:i,a=P4(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const l=a-r,d=c-r;if(l!=d){for(let p=0;p<l;p++){const b=p<o.length?o[p]:o[p]=0,v=b+p;d<=v&&v<l&&(o[p]=b+1)}o[s.previousIndex]=d-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!nx(t))throw new he(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function ZZ(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new bre(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new M4),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new M4),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class bre{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vre{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class M4{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new vre,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function P4(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class O4{constructor(){}supports(t){return t instanceof Map||WA(t)}create(){return new yre}}class yre{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||WA(t)))throw new he(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new xre(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class xre{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function N4(){return new mc([new R4])}let mc=(()=>{class n{static{this.\u0275prov=Ie({token:n,providedIn:"root",factory:N4})}constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||N4()),deps:[[n,new kg,new Fr]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new he(901,!1)}}return n})();function F4(){return new c_([new O4])}let c_=(()=>{class n{static{this.\u0275prov=Ie({token:n,providedIn:"root",factory:F4})}constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||F4()),deps:[[n,new kg,new Fr]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new he(901,!1)}}return n})();const Ire=b4(null,"core",[]);let Cre=(()=>{class n{constructor(e){}static{this.\u0275fac=function(i){return new(i||n)(X(fc))}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({})}}return n})();function Of(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Vk=null;function Cl(){return Vk}class Bre{}const Tt=new ue("DocumentToken");let Bk=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:function(){return Me(jre)},providedIn:"platform"})}}return n})();const Ure=new ue("Location Initialized");let jre=(()=>{class n extends Bk{constructor(){super(),this._doc=Me(Tt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cl().getBaseHref(this._doc)}onPopState(e){const i=Cl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Cl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function Uk(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function W4(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function pc(n){return n&&"?"!==n[0]?"?"+n:n}let du=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:function(){return Me($4)},providedIn:"root"})}}return n})();const G4=new ue("appBaseHref");let $4=(()=>{class n extends du{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Me(Tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Uk(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+pc(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+pc(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+pc(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(X(Bk),X(G4,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),zre=(()=>{class n extends du{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Uk(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+pc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+pc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(X(Bk),X(G4,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})(),l_=(()=>{class n{constructor(e){this._subject=new zt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Wre(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(W4(K4(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+pc(i))}normalize(e){return n.stripTrailingSlash(function qre(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,K4(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+pc(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+pc(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static{this.normalizeQueryParams=pc}static{this.joinWithSlash=Uk}static{this.stripTrailingSlash=W4}static{this.\u0275fac=function(i){return new(i||n)(X(du))}}static{this.\u0275prov=Ie({token:n,factory:function(){return function Hre(){return new l_(X(du))}()},providedIn:"root"})}}return n})();function K4(n){return n.replace(/\/index.html$/,"")}const Q4={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Tx=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Tx||{}),Eo=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Eo||{}),Yn=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Yn||{}),os=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(os||{}),Xi=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Xi||{});function Ax(n,t){return Ds(xo(n)[ii.DateFormat],t)}function kx(n,t){return Ds(xo(n)[ii.TimeFormat],t)}function Sx(n,t){return Ds(xo(n)[ii.DateTimeFormat],t)}function Ss(n,t){const e=xo(n),i=e[ii.NumberSymbols][t];if(typeof i>"u"){if(t===Xi.CurrencyDecimal)return e[ii.NumberSymbols][Xi.Decimal];if(t===Xi.CurrencyGroup)return e[ii.NumberSymbols][Xi.Group]}return i}function Y4(n){if(!n[ii.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[ii.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ds(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function zk(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const ooe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,d_={},soe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var gc=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(gc||{}),In=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(In||{}),Cn=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Cn||{});function aoe(n,t,e,i){let r=function goe(n){if(Z4(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return Dx(r,o-1,s)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(ooe))return function _oe(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-e,a=Number(n[5]||0)-i,c=Number(n[6]||0),l=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,s,a,c,l),t}(i)}const t=new Date(n);if(!Z4(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=_c(e,t)||t;let a,s=[];for(;t;){if(a=soe.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const d=s.pop();if(!d)break;t=d}}let c=r.getTimezoneOffset();i&&(c=J4(i,c),r=function poe(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function moe(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(J4(t,r)-r))}(r,i,!0));let l="";return s.forEach(d=>{const u=function foe(n){if(qk[n])return qk[n];let t;switch(n){case"G":case"GG":case"GGG":t=oi(Cn.Eras,Yn.Abbreviated);break;case"GGGG":t=oi(Cn.Eras,Yn.Wide);break;case"GGGGG":t=oi(Cn.Eras,Yn.Narrow);break;case"y":t=or(In.FullYear,1,0,!1,!0);break;case"yy":t=or(In.FullYear,2,0,!0,!0);break;case"yyy":t=or(In.FullYear,3,0,!1,!0);break;case"yyyy":t=or(In.FullYear,4,0,!1,!0);break;case"Y":t=Ox(1);break;case"YY":t=Ox(2,!0);break;case"YYY":t=Ox(3);break;case"YYYY":t=Ox(4);break;case"M":case"L":t=or(In.Month,1,1);break;case"MM":case"LL":t=or(In.Month,2,1);break;case"MMM":t=oi(Cn.Months,Yn.Abbreviated);break;case"MMMM":t=oi(Cn.Months,Yn.Wide);break;case"MMMMM":t=oi(Cn.Months,Yn.Narrow);break;case"LLL":t=oi(Cn.Months,Yn.Abbreviated,Eo.Standalone);break;case"LLLL":t=oi(Cn.Months,Yn.Wide,Eo.Standalone);break;case"LLLLL":t=oi(Cn.Months,Yn.Narrow,Eo.Standalone);break;case"w":t=Hk(1);break;case"ww":t=Hk(2);break;case"W":t=Hk(1,!0);break;case"d":t=or(In.Date,1);break;case"dd":t=or(In.Date,2);break;case"c":case"cc":t=or(In.Day,1);break;case"ccc":t=oi(Cn.Days,Yn.Abbreviated,Eo.Standalone);break;case"cccc":t=oi(Cn.Days,Yn.Wide,Eo.Standalone);break;case"ccccc":t=oi(Cn.Days,Yn.Narrow,Eo.Standalone);break;case"cccccc":t=oi(Cn.Days,Yn.Short,Eo.Standalone);break;case"E":case"EE":case"EEE":t=oi(Cn.Days,Yn.Abbreviated);break;case"EEEE":t=oi(Cn.Days,Yn.Wide);break;case"EEEEE":t=oi(Cn.Days,Yn.Narrow);break;case"EEEEEE":t=oi(Cn.Days,Yn.Short);break;case"a":case"aa":case"aaa":t=oi(Cn.DayPeriods,Yn.Abbreviated);break;case"aaaa":t=oi(Cn.DayPeriods,Yn.Wide);break;case"aaaaa":t=oi(Cn.DayPeriods,Yn.Narrow);break;case"b":case"bb":case"bbb":t=oi(Cn.DayPeriods,Yn.Abbreviated,Eo.Standalone,!0);break;case"bbbb":t=oi(Cn.DayPeriods,Yn.Wide,Eo.Standalone,!0);break;case"bbbbb":t=oi(Cn.DayPeriods,Yn.Narrow,Eo.Standalone,!0);break;case"B":case"BB":case"BBB":t=oi(Cn.DayPeriods,Yn.Abbreviated,Eo.Format,!0);break;case"BBBB":t=oi(Cn.DayPeriods,Yn.Wide,Eo.Format,!0);break;case"BBBBB":t=oi(Cn.DayPeriods,Yn.Narrow,Eo.Format,!0);break;case"h":t=or(In.Hours,1,-12);break;case"hh":t=or(In.Hours,2,-12);break;case"H":t=or(In.Hours,1);break;case"HH":t=or(In.Hours,2);break;case"m":t=or(In.Minutes,1);break;case"mm":t=or(In.Minutes,2);break;case"s":t=or(In.Seconds,1);break;case"ss":t=or(In.Seconds,2);break;case"S":t=or(In.FractionalSeconds,1);break;case"SS":t=or(In.FractionalSeconds,2);break;case"SSS":t=or(In.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Mx(gc.Short);break;case"ZZZZZ":t=Mx(gc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Mx(gc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Mx(gc.Long);break;default:return null}return qk[n]=t,t}(d);l+=u?u(r,e,c):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Dx(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function _c(n,t){const e=function $re(n){return xo(n)[ii.LocaleId]}(n);if(d_[e]=d_[e]||{},d_[e][t])return d_[e][t];let i="";switch(t){case"shortDate":i=Ax(n,os.Short);break;case"mediumDate":i=Ax(n,os.Medium);break;case"longDate":i=Ax(n,os.Long);break;case"fullDate":i=Ax(n,os.Full);break;case"shortTime":i=kx(n,os.Short);break;case"mediumTime":i=kx(n,os.Medium);break;case"longTime":i=kx(n,os.Long);break;case"fullTime":i=kx(n,os.Full);break;case"short":const r=_c(n,"shortTime"),o=_c(n,"shortDate");i=Rx(Sx(n,os.Short),[r,o]);break;case"medium":const s=_c(n,"mediumTime"),a=_c(n,"mediumDate");i=Rx(Sx(n,os.Medium),[s,a]);break;case"long":const c=_c(n,"longTime"),l=_c(n,"longDate");i=Rx(Sx(n,os.Long),[c,l]);break;case"full":const d=_c(n,"fullTime"),u=_c(n,"fullDate");i=Rx(Sx(n,os.Full),[d,u])}return i&&(d_[e][t]=i),i}function Rx(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function na(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),o+s}function or(n,t,e=0,i=!1,r=!1){return function(o,s){let a=function loe(n,t){switch(n){case In.FullYear:return t.getFullYear();case In.Month:return t.getMonth();case In.Date:return t.getDate();case In.Hours:return t.getHours();case In.Minutes:return t.getMinutes();case In.Seconds:return t.getSeconds();case In.FractionalSeconds:return t.getMilliseconds();case In.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||a>-e)&&(a+=e),n===In.Hours)0===a&&-12===e&&(a=12);else if(n===In.FractionalSeconds)return function coe(n,t){return na(n,3).substring(0,t)}(a,t);const c=Ss(s,Xi.MinusSign);return na(a,t,c,i,r)}}function oi(n,t,e=Eo.Format,i=!1){return function(r,o){return function doe(n,t,e,i,r,o){switch(e){case Cn.Months:return function Yre(n,t,e){const i=xo(n),o=Ds([i[ii.MonthsFormat],i[ii.MonthsStandalone]],t);return Ds(o,e)}(t,r,i)[n.getMonth()];case Cn.Days:return function Qre(n,t,e){const i=xo(n),o=Ds([i[ii.DaysFormat],i[ii.DaysStandalone]],t);return Ds(o,e)}(t,r,i)[n.getDay()];case Cn.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const l=function eoe(n){const t=xo(n);return Y4(t),(t[ii.ExtraData][2]||[]).map(i=>"string"==typeof i?zk(i):[zk(i[0]),zk(i[1])])}(t),d=function toe(n,t,e){const i=xo(n);Y4(i);const o=Ds([i[ii.ExtraData][0],i[ii.ExtraData][1]],t)||[];return Ds(o,e)||[]}(t,r,i),u=l.findIndex(p=>{if(Array.isArray(p)){const[b,v]=p,x=s>=b.hours&&a>=b.minutes,w=s<v.hours||s===v.hours&&a<v.minutes;if(b.hours<v.hours){if(x&&w)return!0}else if(x||w)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(-1!==u)return d[u]}return function Kre(n,t,e){const i=xo(n),o=Ds([i[ii.DayPeriodsFormat],i[ii.DayPeriodsStandalone]],t);return Ds(o,e)}(t,r,i)[s<12?0:1];case Cn.Eras:return function Xre(n,t){return Ds(xo(n)[ii.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Mx(n){return function(t,e,i){const r=-1*i,o=Ss(e,Xi.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case gc.Short:return(r>=0?"+":"")+na(s,2,o)+na(Math.abs(r%60),2,o);case gc.ShortGMT:return"GMT"+(r>=0?"+":"")+na(s,1,o);case gc.Long:return"GMT"+(r>=0?"+":"")+na(s,2,o)+":"+na(Math.abs(r%60),2,o);case gc.Extended:return 0===i?"Z":(r>=0?"+":"")+na(s,2,o)+":"+na(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const uoe=0,Px=4;function X4(n){return Dx(n.getFullYear(),n.getMonth(),n.getDate()+(Px-n.getDay()))}function Hk(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=X4(e),s=function hoe(n){const t=Dx(n,uoe,1).getDay();return Dx(n,0,1+(t<=Px?Px:Px+7)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return na(r,n,Ss(i,Xi.MinusSign))}}function Ox(n,t=!1){return function(e,i){return na(X4(e).getFullYear(),n,Ss(i,Xi.MinusSign),t)}}const qk={};function J4(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Z4(n){return n instanceof Date&&!isNaN(n.valueOf())}const boe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,e3=22,Nx=".",u_="0",voe=";",yoe=",",Wk="#";function woe(n,t,e,i,r){const s=function $k(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(voe),r=i[0],o=i[1],s=-1!==r.indexOf(Nx)?r.split(Nx):[r.substring(0,r.lastIndexOf(u_)+1),r.substring(r.lastIndexOf(u_)+1)],a=s[0],c=s[1]||"";e.posPre=a.substring(0,a.indexOf(Wk));for(let d=0;d<c.length;d++){const u=c.charAt(d);u===u_?e.minFrac=e.maxFrac=d+1:u===Wk?e.maxFrac=d+1:e.posSuf+=u}const l=a.split(yoe);if(e.gSize=l[1]?l[1].length:0,e.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){const d=r.length-e.posPre.length-e.posSuf.length,u=o.indexOf(Wk);e.negPre=o.substring(0,u).replace(/'/g,""),e.negSuf=o.slice(u+d).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function jk(n,t){return xo(n)[ii.NumberFormats][t]}(t,Tx.Currency),Ss(t,Xi.MinusSign));return s.minFrac=function roe(n){let t;const e=Q4[n];return e&&(t=e[2]),"number"==typeof t?t:2}(i),s.maxFrac=s.minFrac,function Gk(n,t,e,i,r,o,s=!1){let a="",c=!1;if(isFinite(n)){let l=function Toe(n){let i,r,o,s,a,t=Math.abs(n)+"",e=0;for((r=t.indexOf(Nx))>-1&&(t=t.replace(Nx,"")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;t.charAt(o)===u_;o++);if(o===(a=t.length))i=[0],r=1;else{for(a--;t.charAt(a)===u_;)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(t.charAt(o))}return r>e3&&(i=i.splice(0,e3-1),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);s&&(l=function Coe(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(l));let d=t.minInt,u=t.minFrac,p=t.maxFrac;if(o){const R=o.match(boe);if(null===R)throw new Error(`${o} is not a valid digit info`);const z=R[1],K=R[3],Z=R[5];null!=z&&(d=Kk(z)),null!=K&&(u=Kk(K)),null!=Z?p=Kk(Z):null!=K&&u>p&&(p=u)}!function Aoe(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let s=o+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let u=s;u<i.length;u++)i[u]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let u=1;u<s;u++)i[u]=0}if(a>=5)if(s-1<0){for(let u=0;u>s;u--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let c=0!==o;const l=t+n.integerLen,d=i.reduceRight(function(u,p,b,v){return v[b]=(p+=u)<10?p:p-10,c&&(0===v[b]&&b>=l?v.pop():c=!1),p>=10?1:0},0);d&&(i.unshift(d),n.integerLen++)}(l,u,p);let b=l.digits,v=l.integerLen;const x=l.exponent;let w=[];for(c=b.every(R=>!R);v<d;v++)b.unshift(0);for(;v<0;v++)b.unshift(0);v>0?w=b.splice(v,b.length):(w=b,b=[0]);const F=[];for(b.length>=t.lgSize&&F.unshift(b.splice(-t.lgSize,b.length).join(""));b.length>t.gSize;)F.unshift(b.splice(-t.gSize,b.length).join(""));b.length&&F.unshift(b.join("")),a=F.join(Ss(e,i)),w.length&&(a+=Ss(e,r)+w.join("")),x&&(a+=Ss(e,Xi.Exponential)+"+"+x)}else a=Ss(e,Xi.Infinity);return a=n<0&&!c?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(n,s,t,Xi.CurrencyGroup,Xi.CurrencyDecimal,r).replace("\xa4",e).replace("\xa4","").trim()}function Kk(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function r3(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const Yk=/\s+/,o3=[];let Fx=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=o3,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Yk):o3}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Yk):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Yk).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(N(mc),N(c_),N(ft),N(dc))}}static{this.\u0275dir=be({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class Doe{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bc=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Doe(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),a3(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{a3(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(N(Ar),N(rr),N(mc))}}static{this.\u0275dir=be({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function a3(n,t){n.context.$implicit=t.item}let ss=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Roe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){c3("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){c3("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(N(Ar),N(rr))}}static{this.\u0275dir=be({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class Roe{constructor(){this.$implicit=null,this.ngIf=null}}function c3(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Le(t)}'.`)}class Xk{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Lx=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=be({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return n})(),l3=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Xk(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(i){return new(i||n)(N(Ar),N(rr),N(Lx,9))}}static{this.\u0275dir=be({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return n})(),Jk=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static{this.\u0275fac=function(i){return new(i||n)(N(Ar))}}static{this.\u0275dir=be({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ni]})}}return n})();function ia(n,t){return new he(2100,!1)}class Noe{createSubscription(t,e){return $y(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){$y(()=>t.unsubscribe())}}class Foe{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Loe=new Foe,Voe=new Noe;let h_=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Yg(e))return Loe;if(XV(e))return Voe;throw ia()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static{this.\u0275fac=function(i){return new(i||n)(N(Vo,16))}}static{this.\u0275pipe=Er({name:"async",type:n,pure:!1,standalone:!0})}}return n})();const qoe=new ue("DATE_PIPE_DEFAULT_TIMEZONE"),Woe=new ue("DATE_PIPE_DEFAULT_OPTIONS");let Vx=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return aoe(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw ia()}}static{this.\u0275fac=function(i){return new(i||n)(N(Ma,16),N(qoe,24),N(Woe,24))}}static{this.\u0275pipe=Er({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),Zk=(()=>{class n{constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,r="symbol",o,s){if(!function eS(n){return!(null==n||""===n||n!=n)}(e))return null;s=s||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let a=i||this._defaultCurrencyCode;"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?function noe(n,t,e="en"){const i=function Jre(n){return xo(n)[ii.Currencies]}(e)[n]||Q4[n]||[],r=i[1];return"narrow"===t&&"string"==typeof r?r:i[0]||n}(a,"symbol"===r?"wide":"narrow",s):r);try{return woe(function tS(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),s,a,i,o)}catch(c){throw ia()}}static{this.\u0275fac=function(i){return new(i||n)(N(Ma,16),N(Rie,16))}}static{this.\u0275pipe=Er({name:"currency",type:n,pure:!0,standalone:!0})}}return n})();let vc=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({})}}return n})();const h3="browser";function nS(n){return n===h3}function Bx(n){return"server"===n}let ise=(()=>{class n{static{this.\u0275prov=Ie({token:n,providedIn:"root",factory:()=>new rse(X(Tt),window)})}}return n})();class rse{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ose(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class f3{}class kse extends Bre{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class oS extends kse{static makeCurrent(){!function Vre(n){Vk||(Vk=n)}(new oS)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Sse(){return m_=m_||document.querySelector("base"),m_?m_.getAttribute("href"):null}();return null==e?null:function Dse(n){zx=zx||document.createElement("a"),zx.setAttribute("href",n);const t=zx.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){m_=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return r3(document.cookie,t)}}let zx,m_=null,Mse=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();const sS=new ue("EventManagerPlugins");let b3=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new he(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||n)(X(sS),X(We))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();class v3{constructor(t){this._doc=t}}const aS="ng-app-id";let y3=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Bx(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${aS}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(aS),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(aS,this.appId),s}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(X(Tt),X(z0),X(pA,8),X(Oo))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();const cS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},lS=/%COMP%/g,Fse=new ue("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function w3(n,t){return t.map(e=>e.replace(lS,n))}let dS=(()=>{class n{constructor(e,i,r,o,s,a,c,l=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Bx(a),this.defaultRenderer=new uS(e,s,c,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===dr.ShadowDom&&(i={...i,encapsulation:dr.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof I3?r.applyToHost(e):r instanceof hS&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer;switch(i.encapsulation){case dr.Emulated:o=new I3(c,l,i,this.appId,d,s,a,u);break;case dr.ShadowDom:return new Use(c,l,e,i,s,a,this.nonce,u);default:o=new hS(c,l,i,d,s,a,u)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(X(b3),X(y3),X(z0),X(Fse),X(Tt),X(Oo),X(We),X(pA))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();class uS{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(cS[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(E3(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(E3(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new he(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=cS[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=cS[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(yl.DashCase|yl.Important)?t.style.setProperty(e,i,r&yl.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&yl.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=Cl().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function E3(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Use extends uS{constructor(t,e,i,r,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=w3(r.id,r.styles);for(const d of l){const u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class hS extends uS{constructor(t,e,i,r,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=c?w3(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class I3 extends hS{constructor(t,e,i,r,o,s,a,c){const l=r+"-"+i.id;super(t,e,i,o,s,a,c,l),this.contentAttr=function Lse(n){return"_ngcontent-%COMP%".replace(lS,n)}(l),this.hostAttr=function Vse(n){return"_nghost-%COMP%".replace(lS,n)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let jse=(()=>{class n extends v3{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(X(Tt))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();const C3=["alt","control","meta","shift"],zse={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hse={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let qse=(()=>{class n extends v3{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cl().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),C3.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(e,i){let r=zse[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),C3.forEach(s=>{s!==r&&(0,Hse[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static{this.\u0275fac=function(i){return new(i||n)(X(Tt))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();const A3=[{provide:Oo,useValue:h3},{provide:M2,useValue:function Wse(){oS.makeCurrent()},multi:!0},{provide:Tt,useFactory:function $se(){return function PX(n){iA=n}(document),document},deps:[]}],Kse=b4(Ire,"browser",A3),Qse=new ue(""),k3=[{provide:xx,useClass:class Rse{addToWindow(t){Nn.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new he(5103,!1);return o},Nn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Nn.getAllAngularRootElements=()=>t.getAllRootElements(),Nn.frameworkStabilizers||(Nn.frameworkStabilizers=[]),Nn.frameworkStabilizers.push(i=>{const r=Nn.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&i(s)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Cl().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:f4,useClass:Tk,deps:[We,Ak,xx]},{provide:Tk,useClass:Tk,deps:[We,Ak,xx]}],S3=[{provide:uA,useValue:"root"},{provide:As,useFactory:function Gse(){return new As},deps:[]},{provide:sS,useClass:jse,multi:!0,deps:[Tt,We,Oo]},{provide:sS,useClass:qse,multi:!0,deps:[Tt]},dS,y3,b3,{provide:Bg,useExisting:dS},{provide:f3,useClass:Mse,deps:[]},[]];let D3=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:z0,useValue:e.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(X(Qse,12))}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({providers:[...S3,...k3],imports:[vc,Cre]})}}return n})(),R3=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||n)(X(Tt))}}static{this.\u0275prov=Ie({token:n,factory:function(i){let r=null;return r=i?new i:function Xse(){return new R3(X(Tt))}(),r},providedIn:"root"})}}return n})();typeof window<"u"&&window;let mS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:function(i){let r=null;return r=i?new(i||n):X(O3),r},providedIn:"root"})}}return n})(),O3=(()=>{class n extends mS{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Lr.NONE:return i;case Lr.HTML:return Ca(i,"HTML")?ts(i):y2(this._doc,String(i)).toString();case Lr.STYLE:return Ca(i,"Style")?ts(i):i;case Lr.SCRIPT:if(Ca(i,"Script"))return ts(i);throw new he(5200,!1);case Lr.URL:return Ca(i,"URL")?ts(i):F0(String(i));case Lr.RESOURCE_URL:if(Ca(i,"ResourceURL"))return ts(i);throw new he(5201,!1);default:throw new he(5202,!1)}}bypassSecurityTrustHtml(e){return function UX(n){return new OX(n)}(e)}bypassSecurityTrustStyle(e){return function jX(n){return new NX(n)}(e)}bypassSecurityTrustScript(e){return function zX(n){return new FX(n)}(e)}bypassSecurityTrustUrl(e){return function HX(n){return new LX(n)}(e)}bypassSecurityTrustResourceUrl(e){return function qX(n){return new VX(n)}(e)}static{this.\u0275fac=function(i){return new(i||n)(X(Tt))}}static{this.\u0275prov=Ie({token:n,factory:function(i){let r=null;return r=i?new i:function tae(n){return new O3(n.get(Tt))}(X(Ln)),r},providedIn:"root"})}}return n})();function pS(n){return!!n&&(n instanceof at||V(n.lift)&&V(n.subscribe))}const{isArray:nae}=Array,{getPrototypeOf:iae,prototype:rae,keys:oae}=Object;function F3(n){if(1===n.length){const t=n[0];if(nae(t))return{args:t,keys:null};if(function sae(n){return n&&"object"==typeof n&&iae(n)===rae}(t)){const e=oae(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:aae}=Array;function gS(n){return pe(t=>function cae(n,t){return aae(t)?n(...t):n(t)}(n,t))}function L3(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function uu(...n){const t=Qo(n),e=Ko(n),{args:i,keys:r}=F3(n);if(0===i.length)return T([],t);const o=new at(function lae(n,t,e=qt){return i=>{V3(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)V3(t,()=>{const l=T(n[c],t);let d=!1;l.subscribe(me(i,u=>{o[c]=u,d||(d=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>L3(r,s):qt));return e?o.pipe(gS(e)):o}function V3(n,t,e){n?$i(e,n,t):t()}const Hx=Ne(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ff(...n){return function dae(){return ir(1)}()(T(n,Qo(n)))}function Lf(n){return new at(t=>{Wt(n()).subscribe(t)})}function Al(n,t){const e=V(n)?n:()=>n,i=r=>r.error(e());return new at(t?r=>t.schedule(i,0,r):i)}function _S(){return te((n,t)=>{let e=null;n._refCount++;const i=me(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class qx extends at{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,se(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new kt;const e=this.getSubject();t.add(this.source.subscribe(me(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=kt.EMPTY)}return t}refCount(){return _S()(this)}}function Vn(n){return n<=0?()=>ni:te((t,e)=>{let i=0;t.subscribe(me(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function ra(...n){const t=Qo(n);return te((e,i)=>{(t?Ff(n,e,t):Ff(n,e)).subscribe(i)})}function Zt(n,t){return te((e,i)=>{let r=0;e.subscribe(me(i,o=>n.call(t,o,r++)&&i.next(o)))})}function Wx(n){return te((t,e)=>{let i=!1;t.subscribe(me(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function B3(n=uae){return te((t,e)=>{let i=!1;t.subscribe(me(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function uae(){return new Hx}function kl(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Zt((r,o)=>n(r,o,i)):qt,Vn(1),e?Wx(t):B3(()=>new Hx))}function Vf(n,t){return V(t)?Wn(n,t,1):Wn(n,1)}function Dn(n,t,e){const i=V(n)||t||e?{next:n,error:t,complete:e}:n;return i?te((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(me(o,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),o.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):qt}function hn(n){return te((t,e)=>{let o,i=null,r=!1;i=t.subscribe(me(e,void 0,void 0,s=>{o=Wt(n(s,hn(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Gx(n,t){return te(function hae(n,t,e,i,r){return(o,s)=>{let a=e,c=t,l=0;o.subscribe(me(s,d=>{const u=l++;c=a?n(c,d,u):(a=!0,d),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(n,t,arguments.length>=2,!0))}function bS(n){return n<=0?()=>ni:te((t,e)=>{let i=[];t.subscribe(me(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function $x(n){return pe(()=>n)}function Bf(n){return te((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function si(n){return te((t,e)=>{Wt(n).subscribe(me(e,()=>e.complete(),Ye)),!e.closed&&t.subscribe(e)})}const Ft="primary",p_=Symbol("RouteTitle");class mae{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Uf(n){return new mae(n)}function pae(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Pa(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!U3(n[r],t[r]))return!1;return!0}function U3(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function j3(n){return n.length>0?n[n.length-1]:null}function Sl(n){return pS(n)?n:Yg(n)?T(Promise.resolve(n)):O(n)}const _ae={exact:function q3(n,t,e){if(!hu(n.segments,t.segments)||!Kx(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!q3(n.children[i],t.children[i],e))return!1;return!0},subset:W3},z3={exact:function bae(n,t){return Pa(n,t)},subset:function vae(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>U3(n[e],t[e]))},ignored:()=>!0};function H3(n,t,e){return _ae[e.paths](n.root,t.root,e.matrixParams)&&z3[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function W3(n,t,e){return G3(n,t,t.segments,e)}function G3(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!hu(r,e)||t.hasChildren()||!Kx(r,e,i))}if(n.segments.length===e.length){if(!hu(n.segments,e)||!Kx(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!W3(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(hu(n.segments,r)&&Kx(n.segments,r,i)&&n.children[Ft])&&G3(n.children[Ft],t,o,i)}}function Kx(n,t,e){return t.every((i,r)=>z3[e](n[r].parameters,i.parameters))}class jf{constructor(t=new Rn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uf(this.queryParams)),this._queryParamMap}toString(){return wae.serialize(this)}}class Rn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qx(this)}}class g_{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Uf(this.parameters)),this._parameterMap}toString(){return Q3(this)}}function hu(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let __=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:function(){return new vS},providedIn:"root"})}}return n})();class vS{parse(t){const e=new Pae(t);return new jf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${b_(t.root,!0)}`,i=function Cae(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Yx(e)}=${Yx(r)}`).join("&"):`${Yx(e)}=${Yx(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Eae(n){return encodeURI(n)}(t.fragment)}`:""}`}}const wae=new vS;function Qx(n){return n.segments.map(t=>Q3(t)).join("/")}function b_(n,t){if(!n.hasChildren())return Qx(n);if(t){const e=n.children[Ft]?b_(n.children[Ft],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Ft&&i.push(`${r}:${b_(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function xae(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Ft&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Ft&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Ft?[b_(n.children[Ft],!1)]:[`${r}:${b_(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ft]?`${Qx(n)}/${e[0]}`:`${Qx(n)}/(${e.join("//")})`}}function $3(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yx(n){return $3(n).replace(/%3B/gi,";")}function yS(n){return $3(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xx(n){return decodeURIComponent(n)}function K3(n){return Xx(n.replace(/\+/g,"%20"))}function Q3(n){return`${yS(n.path)}${function Iae(n){return Object.keys(n).map(t=>`;${yS(t)}=${yS(n[t])}`).join("")}(n.parameters)}`}const Tae=/^[^\/()?;#]+/;function xS(n){const t=n.match(Tae);return t?t[0]:""}const Aae=/^[^\/()?;=#]+/,Sae=/^[^=?&#]+/,Rae=/^[^&#]+/;class Pae{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rn([],{}):new Rn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ft]=new Rn(t,e)),i}parseSegment(){const t=xS(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new he(4009,!1);return this.capture(t),new g_(Xx(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function kae(n){const t=n.match(Aae);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=xS(this.remaining);r&&(i=r,this.capture(i))}t[Xx(e)]=Xx(i)}parseQueryParam(t){const e=function Dae(n){const t=n.match(Sae);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function Mae(n){const t=n.match(Rae);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=K3(e),o=K3(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=xS(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new he(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Ft);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[Ft]:new Rn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new he(4011,!1)}}function Y3(n){return n.segments.length>0?new Rn([],{[Ft]:n}):n}function X3(n){const t={};for(const i of Object.keys(n.children)){const o=X3(n.children[i]);if(i===Ft&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function Oae(n){if(1===n.numberOfChildren&&n.children[Ft]){const t=n.children[Ft];return new Rn(n.segments.concat(t.segments),t.children)}return n}(new Rn(n.segments,t))}function fu(n){return n instanceof jf}function J3(n){let t;const r=Y3(function e(o){const s={};for(const c of o.children){const l=e(c);s[c.outlet]=l}const a=new Rn(o.url,s);return o===n&&(t=a),a}(n.root));return t??r}function Z3(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return wS(r,r,r,e,i);const o=function Fae(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new tj(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new tj(e,t,i)}(t);if(o.toRoot())return wS(r,r,new Rn([],{}),e,i);const s=function Lae(n,t,e){if(n.isAbsolute)return new Zx(t,!0,0);if(!e)return new Zx(t,!1,NaN);if(null===e.parent)return new Zx(e,!0,0);const i=Jx(n.commands[0])?0:1;return function Vae(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new he(4005,!1);r=i.segments.length}return new Zx(i,!1,r-o)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?y_(s.segmentGroup,s.index,o.commands):nj(s.segmentGroup,s.index,o.commands);return wS(r,s.segmentGroup,a,e,i)}function Jx(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function v_(n){return"object"==typeof n&&null!=n&&n.outlets}function wS(n,t,e,i,r){let s,o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`}),s=n===t?e:ej(n,t,e);const a=Y3(X3(s));return new jf(a,o,r)}function ej(n,t,e){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===t?e:ej(o,t,e)}),new Rn(n.segments,i)}class tj{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Jx(i[0]))throw new he(4003,!1);const r=i.find(v_);if(r&&r!==j3(i))throw new he(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zx{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function nj(n,t,e){if(n||(n=new Rn([],{})),0===n.segments.length&&n.hasChildren())return y_(n,t,e);const i=function Uae(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(v_(a))break;const c=`${a}`,l=i<e.length-1?e[i+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!rj(c,l,s))return o;i+=2}else{if(!rj(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Rn(n.segments.slice(0,i.pathIndex),{});return o.children[Ft]=new Rn(n.segments.slice(i.pathIndex),n.children),y_(o,0,r)}return i.match&&0===r.length?new Rn(n.segments,{}):i.match&&!n.hasChildren()?ES(n,t,e):i.match?y_(n,0,r):ES(n,t,e)}function y_(n,t,e){if(0===e.length)return new Rn(n.segments,{});{const i=function Bae(n){return v_(n[0])?n[0].outlets:{[Ft]:n}}(e),r={};if(Object.keys(i).some(o=>o!==Ft)&&n.children[Ft]&&1===n.numberOfChildren&&0===n.children[Ft].segments.length){const o=y_(n.children[Ft],t,e);return new Rn(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=nj(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Rn(n.segments,r)}}function ES(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(v_(o)){const c=jae(o.outlets);return new Rn(i,c)}if(0===r&&Jx(e[0])){i.push(new g_(n.segments[t].path,ij(e[0]))),r++;continue}const s=v_(o)?o.outlets[Ft]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&Jx(a)?(i.push(new g_(s,ij(a))),r+=2):(i.push(new g_(s,{})),r++)}return new Rn(i,{})}function jae(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=ES(new Rn([],{}),0,i))}),t}function ij(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function rj(n,t,e){return n==e.path&&Pa(t,e.parameters)}const x_="imperative";class Oa{constructor(t,e){this.id=t,this.url=e}}class ew extends Oa{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dl extends Oa{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class w_ extends Oa{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zf extends Oa{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class tw extends Oa{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oj extends Oa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zae extends Oa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hae extends Oa{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qae extends Oa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wae extends Oa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gae{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $ae{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kae{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qae{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yae{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xae{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sj{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class IS{}class CS{constructor(t){this.url=t}}class Jae{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new E_,this.attachRef=null}}let E_=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Jae,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class aj{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=TS(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=TS(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=AS(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return AS(t,this._root).map(e=>e.value)}}function TS(n,t){if(n===t.value)return t;for(const e of t.children){const i=TS(n,e);if(i)return i}return null}function AS(n,t){if(n===t.value)return[t];for(const e of t.children){const i=AS(n,e);if(i.length)return i.unshift(t),i}return[]}class yc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Hf(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class cj extends aj{constructor(t,e){super(t),this.snapshot=e,kS(this,t)}toString(){return this.snapshot.toString()}}function lj(n,t){const e=function Zae(n,t){const s=new nw([],{},{},"",{},Ft,t,null,{});return new uj("",new yc(s,[]))}(0,t),i=new k([new g_("",{})]),r=new k({}),o=new k({}),s=new k({}),a=new k(""),c=new qf(i,r,s,a,o,Ft,t,e.root);return c.snapshot=e.root,new cj(new yc(c,[]),e)}class qf{constructor(t,e,i,r,o,s,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(pe(l=>l[p_]))??O(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(t=>Uf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(t=>Uf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dj(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function ece(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class nw{get title(){return this.data?.[p_]}constructor(t,e,i,r,o,s,a,c,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Uf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uj extends aj{constructor(t,e){super(e),this.url=t,kS(this,e)}toString(){return hj(this._root)}}function kS(n,t){t.value._routerState=n,t.children.forEach(e=>kS(n,e))}function hj(n){const t=n.children.length>0?` { ${n.children.map(hj).join(", ")} } `:"";return`${n.value}${t}`}function SS(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Pa(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Pa(t.params,e.params)||n.paramsSubject.next(e.params),function gae(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Pa(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Pa(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function DS(n,t){const e=Pa(n.params,t.params)&&function yae(n,t){return hu(n,t)&&n.every((e,i)=>Pa(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||DS(n.parent,t.parent))}let RS=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ft,this.activateEvents=new zt,this.deactivateEvents=new zt,this.attachEvents=new zt,this.detachEvents=new zt,this.parentContexts=Me(E_),this.location=Me(Ar),this.changeDetector=Me(Vo),this.environmentInjector=Me(ns),this.inputBinder=Me(iw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new he(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new he(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new he(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new he(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new tce(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=be({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ni]})}}return n})();class tce{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===qf?this.route:t===E_?this.childContexts:this.parent.get(t,e)}}const iw=new ue("");let fj=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=uu([i.queryParams,i.params,i.data]).pipe(ke(([o,s,a],c)=>(a={...o,...s,...a},0===c?O(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const s=function Lre(n){const t=Yt(n);if(!t)return null;const e=new Wg(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();function I_(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function ice(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return I_(n,i,r);return I_(n,i)})}(n,t,e);return new yc(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>I_(n,a)),s}}const i=function rce(n){return new qf(new k(n.url),new k(n.params),new k(n.queryParams),new k(n.fragment),new k(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>I_(n,o));return new yc(i,r)}}const MS="ngNavigationCancelingError";function mj(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=fu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=pj(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function pj(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[MS]=!0,i.cancellationCode=t,e&&(i.url=e),i}function gj(n){return n&&n[MS]}let _j=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ct({type:n,selectors:[["ng-component"]],standalone:!0,features:[_U],decls:1,vars:0,template:function(i,r){1&i&&rt(0,"router-outlet")},dependencies:[RS],encapsulation:2})}}return n})();function PS(n){const t=n.children&&n.children.map(PS),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ft&&(e.component=_j),e}function oa(n){return n.outlet||Ft}function C_(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class hce{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),SS(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Hf(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Hf(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Hf(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Hf(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Xae(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Qae(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(SS(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),SS(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=C_(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class bj{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class rw{constructor(t,e){this.component=t,this.route=e}}function fce(n,t,e){const i=n._root;return T_(i,t?t._root:null,e,[i.value])}function Wf(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function hy(n){return null!==Eh(n)}(n)?t.get(n):n:i}function T_(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Hf(t);return n.children.forEach(s=>{(function pce(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function gce(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!hu(n.url,t.url);case"pathParamsOrQueryParamsChange":return!hu(n.url,t.url)||!Pa(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!DS(n,t)||!Pa(n.queryParams,t.queryParams);default:return!DS(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new bj(i)):(o.data=s.data,o._resolvedData=s._resolvedData),T_(n,t,o.component?a?a.children:null:e,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new rw(a.outlet.component,s))}else s&&A_(t,a,r),r.canActivateChecks.push(new bj(i)),T_(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>A_(a,e.getContext(s),r)),r}function A_(n,t,e){const i=Hf(n),r=n.value;Object.entries(i).forEach(([o,s])=>{A_(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new rw(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function k_(n){return"function"==typeof n}function vj(n){return n instanceof Hx||"EmptyError"===n?.name}const ow=Symbol("INITIAL_VALUE");function Gf(){return ke(n=>uu(n.map(t=>t.pipe(Vn(1),ra(ow)))).pipe(pe(t=>{for(const e of t)if(!0!==e){if(e===ow)return ow;if(!1===e||e instanceof jf)return e}return!0}),Zt(t=>t!==ow),Vn(1)))}function yj(n){return zn(Dn(t=>{if(fu(t))throw mj(0,t)}),pe(t=>!0===t))}class sw{constructor(t){this.segmentGroup=t||null}}class xj{constructor(t){this.urlTree=t}}function $f(n){return Al(new sw(n))}function wj(n){return Al(new xj(n))}class Fce{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new he(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return O(i);if(r.numberOfChildren>1||!r.children[Ft])return Al(new he(4e3,!1));r=r.children[Ft]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new jf(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,i,r)}),new Rn(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new he(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const OS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Lce(n,t,e,i,r){const o=NS(n,t,e);return o.matched?(i=function sce(n,t){return n.providers&&!n._injector&&(n._injector=dk(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function Pce(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?O(r.map(s=>{const a=Wf(s,n);return Sl(function wce(n){return n&&k_(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(Gf(),yj()):O(!0)}(i,t,e).pipe(pe(s=>!0===s?o:{...OS}))):O(o)}function NS(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...OS}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||pae)(e,n,t);if(!r)return{...OS};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Ej(n,t,e,i){return e.length>0&&function Uce(n,t,e){return e.some(i=>aw(n,t,i)&&oa(i)!==Ft)}(n,e,i)?{segmentGroup:new Rn(t,Bce(i,new Rn(e,n.children))),slicedSegments:[]}:0===e.length&&function jce(n,t,e){return e.some(i=>aw(n,t,i))}(n,e,i)?{segmentGroup:new Rn(n.segments,Vce(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Rn(n.segments,n.children),slicedSegments:e}}function Vce(n,t,e,i,r){const o={};for(const s of i)if(aw(n,e,s)&&!r[oa(s)]){const a=new Rn([],{});o[oa(s)]=a}return{...r,...o}}function Bce(n,t){const e={};e[Ft]=t;for(const i of n)if(""===i.path&&oa(i)!==Ft){const r=new Rn([],{});e[oa(i)]=r}return e}function aw(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Wce{constructor(t,e,i,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Fce(this.urlSerializer,this.urlTree)}noMatchError(t){return new he(4002,!1)}recognize(){const t=Ej(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ft).pipe(hn(e=>{if(e instanceof xj)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof sw?this.noMatchError(e):e}),pe(e=>{const i=new nw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ft,this.rootComponentType,null,{}),r=new yc(i,e),o=new uj("",r),s=function Nae(n,t,e=null,i=null){return Z3(J3(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Ft).pipe(hn(i=>{throw i instanceof sw?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=dj(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return T(r).pipe(Vf(o=>{const s=i.children[o],a=function dce(n,t){const e=n.filter(i=>oa(i)===t);return e.push(...n.filter(i=>oa(i)!==t)),e}(e,o);return this.processSegmentGroup(t,a,s,o)}),Gx((o,s)=>(o.push(...s),o)),Wx(null),function fae(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Zt((r,o)=>n(r,o,i)):qt,bS(1),e?Wx(t):B3(()=>new Hx))}(),Wn(o=>{if(null===o)return $f(i);const s=Ij(o);return function Gce(n){n.sort((t,e)=>t.value.outlet===Ft?-1:e.value.outlet===Ft?1:t.value.outlet.localeCompare(e.value.outlet))}(s),O(s)}))}processSegment(t,e,i,r,o,s){return T(e).pipe(Vf(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,r,o,s).pipe(hn(c=>{if(c instanceof sw)return O(null);throw c}))),kl(a=>!!a),hn(a=>{if(vj(a))return function Hce(n,t,e){return 0===t.length&&!n.children[e]}(i,r,o)?O([]):$f(i);throw a}))}processSegmentAgainstRoute(t,e,i,r,o,s,a){return function zce(n,t,e,i){return!!(oa(n)===i||i!==Ft&&aw(t,e,n))&&("**"===n.path||NS(t,n,e).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s):$f(r):$f(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?wj(o):this.applyRedirects.lineralizeSegments(i,o).pipe(Wn(s=>{const a=new Rn(s,{});return this.processSegment(t,e,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:d}=NS(e,r,o);if(!a)return $f(e);const u=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,d);return r.redirectTo.startsWith("/")?wj(u):this.applyRedirects.lineralizeSegments(r,u).pipe(Wn(p=>this.processSegment(t,i,e,p.concat(l),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o,s){let a;if("**"===i.path){const c=r.length>0?j3(r).parameters:{};a=O({snapshot:new nw(r,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cj(i),oa(i),i.component??i._loadedComponent??null,i,Tj(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=Lce(e,i,r,t).pipe(pe(({matched:c,consumedSegments:l,remainingSegments:d,parameters:u})=>c?{snapshot:new nw(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cj(i),oa(i),i.component??i._loadedComponent??null,i,Tj(i)),consumedSegments:l,remainingSegments:d}:null));return a.pipe(ke(c=>null===c?$f(e):this.getChildConfig(t=i._injector??t,i,r).pipe(ke(({routes:l})=>{const d=i._loadedInjector??t,{snapshot:u,consumedSegments:p,remainingSegments:b}=c,{segmentGroup:v,slicedSegments:x}=Ej(e,p,b,l);if(0===x.length&&v.hasChildren())return this.processChildren(d,l,v).pipe(pe(F=>null===F?null:[new yc(u,F)]));if(0===l.length&&0===x.length)return O([new yc(u,[])]);const w=oa(i)===o;return this.processSegment(d,l,v,x,w?Ft:o,!0).pipe(pe(F=>[new yc(u,F)]))}))))}getChildConfig(t,e,i){return e.children?O({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?O({routes:e._loadedRoutes,injector:e._loadedInjector}):function Mce(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?O(!0):O(r.map(s=>{const a=Wf(s,n);return Sl(function bce(n){return n&&k_(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(Gf(),yj())}(t,e,i).pipe(Wn(r=>r?this.configLoader.loadChildren(t,e).pipe(Dn(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Nce(n){return Al(pj(!1,3))}())):O({routes:[],injector:t})}}function $ce(n){const t=n.value.routeConfig;return t&&""===t.path}function Ij(n){const t=[],e=new Set;for(const i of n){if(!$ce(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Ij(i.children);t.push(new yc(i.value,r))}return t.filter(i=>!e.has(i))}function Cj(n){return n.data||{}}function Tj(n){return n.resolve||{}}function Aj(n){return"string"==typeof n.title||null===n.title}function FS(n){return ke(t=>{const e=n(t);return e?T(e).pipe(pe(()=>t)):O(t)})}const Kf=new ue("ROUTES");let LS=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Me(l4)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return O(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Sl(e.loadComponent()).pipe(pe(kj),Dn(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Bf(()=>{this.componentLoaders.delete(e)})),r=new qx(i,()=>new Q).pipe(_S());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return O({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function ele(n,t,e,i){return Sl(n.loadChildren()).pipe(pe(kj),Wn(r=>r instanceof pU||Array.isArray(r)?O(r):T(t.compileModuleAsync(r))),pe(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(e).injector,s=o.get(Kf,[],{optional:!0,self:!0}).flat()),{routes:s.map(PS),injector:o}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Bf(()=>{this.childrenLoaders.delete(i)})),s=new qx(o,()=>new Q).pipe(_S());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kj(n){return function tle(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let cw=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Q,this.transitionAbortSubject=new Q,this.configLoader=Me(LS),this.environmentInjector=Me(ns),this.urlSerializer=Me(__),this.rootContexts=Me(E_),this.inputBindingEnabled=null!==Me(iw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>O(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new $ae(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Gae(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new k({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:x_,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zt(o=>0!==o.id),pe(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),ke(o=>{this.currentTransition=o;let s=!1,a=!1;return O(o).pipe(Dn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ke(c=>{const l=c.currentBrowserUrl.toString(),d=!e.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const p="";return this.events.next(new zf(c.id,this.urlSerializer.serialize(c.rawUrl),p,0)),c.resolve(null),ni}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return O(c).pipe(ke(p=>{const b=this.transitions?.getValue();return this.events.next(new ew(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),b!==this.transitions?.getValue()?ni:Promise.resolve(p)}),function Kce(n,t,e,i,r,o){return Wn(s=>function qce(n,t,e,i,r,o,s="emptyOnly"){return new Wce(n,t,e,i,r,s,o).recognize()}(n,t,e,i,s.extractedUrl,r,o).pipe(pe(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Dn(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const b=new oj(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(b)}));if(d&&e.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:p,extractedUrl:b,source:v,restoredState:x,extras:w}=c,F=new ew(p,this.urlSerializer.serialize(b),v,x);this.events.next(F);const R=lj(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:R,urlAfterRedirects:b,extras:{...w,skipLocationChange:!1,replaceUrl:!1}},O(o)}{const p="";return this.events.next(new zf(c.id,this.urlSerializer.serialize(c.extractedUrl),p,1)),c.resolve(null),ni}}),Dn(c=>{const l=new zae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),pe(c=>(this.currentTransition=o={...c,guards:fce(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function Ice(n,t){return Wn(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?O({...e,guardsResult:!0}):function Cce(n,t,e,i){return T(n).pipe(Wn(r=>function Rce(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?O(o.map(a=>{const c=C_(t)??r,l=Wf(a,c);return Sl(function xce(n){return n&&k_(n.canDeactivate)}(l)?l.canDeactivate(n,t,e,i):c.runInContext(()=>l(n,t,e,i))).pipe(kl())})).pipe(Gf()):O(!0)}(r.component,r.route,e,t,i)),kl(r=>!0!==r,!0))}(s,i,r,n).pipe(Wn(a=>a&&function _ce(n){return"boolean"==typeof n}(a)?function Tce(n,t,e,i){return T(t).pipe(Vf(r=>Ff(function kce(n,t){return null!==n&&t&&t(new Kae(n)),O(!0)}(r.route.parent,i),function Ace(n,t){return null!==n&&t&&t(new Yae(n)),O(!0)}(r.route,i),function Dce(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function mce(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>Lf(()=>O(s.guards.map(c=>{const l=C_(s.node)??e,d=Wf(c,l);return Sl(function yce(n){return n&&k_(n.canActivateChild)}(d)?d.canActivateChild(i,n):l.runInContext(()=>d(i,n))).pipe(kl())})).pipe(Gf())));return O(o).pipe(Gf())}(n,r.path,e),function Sce(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return O(!0);const r=i.map(o=>Lf(()=>{const s=C_(t)??e,a=Wf(o,s);return Sl(function vce(n){return n&&k_(n.canActivate)}(a)?a.canActivate(t,n):s.runInContext(()=>a(t,n))).pipe(kl())}));return O(r).pipe(Gf())}(n,r.route,e))),kl(r=>!0!==r,!0))}(i,o,n,t):O(a)),pe(a=>({...e,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Dn(c=>{if(o.guardsResult=c.guardsResult,fu(c.guardsResult))throw mj(0,c.guardsResult);const l=new Hae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Zt(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),FS(c=>{if(c.guards.canActivateChecks.length)return O(c).pipe(Dn(l=>{const d=new qae(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),ke(l=>{let d=!1;return O(l).pipe(function Qce(n,t){return Wn(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return O(e);let o=0;return T(r).pipe(Vf(s=>function Yce(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!Aj(r)&&(o[p_]=r.title),function Xce(n,t,e,i){const r=function Jce(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return O({});const o={};return T(r).pipe(Wn(s=>function Zce(n,t,e,i){const r=C_(t)??i,o=Wf(n,r);return Sl(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[s],t,e,i).pipe(kl(),Dn(a=>{o[s]=a}))),bS(1),$x(o),hn(s=>vj(s)?ni:Al(s)))}(o,n,t,i).pipe(pe(s=>(n._resolvedData=s,n.data=dj(n,e).resolve,r&&Aj(r)&&(n.data[p_]=r.title),null)))}(s.route,i,n,t)),Dn(()=>o++),bS(1),Wn(s=>o===r.length?O(e):ni))})}(e.paramsInheritanceStrategy,this.environmentInjector),Dn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),Dn(l=>{const d=new Wae(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),FS(c=>{const l=d=>{const u=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(d.routeConfig).pipe(Dn(p=>{d.component=p}),pe(()=>{})));for(const p of d.children)u.push(...l(p));return u};return uu(l(c.targetSnapshot.root)).pipe(Wx(),Vn(1))}),FS(()=>this.afterPreactivation()),pe(c=>{const l=function nce(n,t,e){const i=I_(n,t._root,e?e._root:void 0);return new cj(i,t)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},o}),Dn(()=>{this.events.next(new IS)}),((n,t,e,i)=>pe(r=>(new hce(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Vn(1),Dn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Dl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),si(this.transitionAbortSubject.pipe(Dn(c=>{throw c}))),Bf(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),hn(c=>{if(a=!0,gj(c))this.events.next(new w_(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function oce(n){return gj(n)&&fu(n.url)}(c)?this.events.next(new CS(c.url)):o.resolve(!1);else{this.events.next(new tw(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(c))}catch(l){o.reject(l)}}return ni}))}))}cancelNavigationTransition(e,i,r){const o=new w_(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Sj(n){return n!==x_}let Dj=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Ft);return i}getResolvedTitleForRoute(e){return e.data[p_]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:function(){return Me(nle)},providedIn:"root"})}}return n})(),nle=(()=>{class n extends Dj{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(X(R3))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ile=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:function(){return Me(ole)},providedIn:"root"})}}return n})();class rle{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let ole=(()=>{class n extends rle{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}()}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const lw=new ue("",{providedIn:"root",factory:()=>({})});let sle=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:function(){return Me(ale)},providedIn:"root"})}}return n})(),ale=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var S_=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(S_||{});function Rj(n,t){n.events.pipe(Zt(e=>e instanceof Dl||e instanceof w_||e instanceof tw||e instanceof zf),pe(e=>e instanceof Dl||e instanceof zf?S_.COMPLETE:e instanceof w_&&(0===e.code||1===e.code)?S_.REDIRECTING:S_.FAILED),Zt(e=>e!==S_.REDIRECTING),Vn(1)).subscribe(()=>{t()})}function cle(n){throw n}function lle(n,t,e){return t.parse("/")}const dle={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ule={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let eo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Me(c4),this.isNgZoneEnabled=!1,this._events=new Q,this.options=Me(lw,{optional:!0})||{},this.pendingTasks=Me(vx),this.errorHandler=this.options.errorHandler||cle,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||lle,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Me(sle),this.routeReuseStrategy=Me(ile),this.titleStrategy=Me(Dj),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Me(Kf,{optional:!0})?.flat()??[],this.navigationTransitions=Me(cw),this.urlSerializer=Me(__),this.location=Me(l_),this.componentInputBindingEnabled=!!Me(iw,{optional:!0}),this.eventsSubscription=new kt,this.isNgZoneEnabled=Me(We)instanceof We&&We.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new jf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=lj(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(Mj(i)&&this._events.next(i));if(i instanceof ew)Sj(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof zf)this.rawUrlTree=r.rawUrl;else if(i instanceof oj){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof IS)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof w_)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof CS){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Sj(r.source)};this.scheduleNavigation(o,x_,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof tw&&this.restoreHistory(r,!0),i instanceof Dl&&(this.navigated=!0),Mj(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),x_,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(PS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s;let u,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{u=J3(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),u=this.currentUrlTree.root}return Z3(u,e,d,l??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=fu(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,x_,null,i)}navigate(e,i={skipLocationChange:!1}){return function hle(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new he(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...dle}:!1===i?{...ule}:i,fu(e))return H3(this.currentUrlTree,e,r);const o=this.parseUrl(e);return H3(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((u,p)=>{a=u,c=p});const d=this.pendingTasks.add();return Rj(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(u=>Promise.reject(u))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Mj(n){return!(n instanceof IS||n instanceof CS)}let mu=(()=>{class n{constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Q,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=e.events.subscribe(l=>{l instanceof Dl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function I2(n,t,e){return function rJ(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?E2:w2}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(N(eo),N(qf),vl("tabindex"),N(dc),N(ft),N(du))}}static{this.\u0275dir=be({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Re("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&kn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Of],skipLocationChange:["skipLocationChange","skipLocationChange",Of],replaceUrl:["replaceUrl","replaceUrl",Of],routerLink:"routerLink"},standalone:!0,features:[OV,Ni]})}}return n})();class Pj{}let ple=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Zt(e=>e instanceof Dl),Vf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=dk(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return T(r).pipe(ir())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):O(null);const o=r.pipe(Wn(s=>null===s?O(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return i.loadComponent&&!i._loadedComponent?T([o,this.loader.loadComponent(i)]).pipe(ir()):o})}static{this.\u0275fac=function(i){return new(i||n)(X(eo),X(l4),X(ns),X(Pj),X(LS))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const VS=new ue("");let Oj=(()=>{class n{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ew?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Dl?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof zf&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof sj&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sj(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){jg()}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();function xc(n,t){return{\u0275kind:n,\u0275providers:t}}function Fj(){const n=Me(Ln);return t=>{const e=n.get(fc);if(t!==e.components[0])return;const i=n.get(eo),r=n.get(Lj);1===n.get(BS)&&i.initialNavigation(),n.get(Vj,null,Gt.Optional)?.setUpPreloading(),n.get(VS,null,Gt.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const Lj=new ue("",{factory:()=>new Q}),BS=new ue("",{providedIn:"root",factory:()=>1}),Vj=new ue("");function vle(n){return xc(0,[{provide:Vj,useExisting:ple},{provide:Pj,useExisting:n}])}const Bj=new ue("ROUTER_FORROOT_GUARD"),xle=[l_,{provide:__,useClass:vS},eo,E_,{provide:qf,useFactory:function Nj(n){return n.routerState.root},deps:[eo]},LS,[]];function wle(){return new g4("Router",eo)}let Uj=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[xle,[],{provide:Kf,multi:!0,useValue:e},{provide:Bj,useFactory:Tle,deps:[[eo,new Fr,new kg]]},{provide:lw,useValue:i||{}},i?.useHash?{provide:du,useClass:zre}:{provide:du,useClass:$4},{provide:VS,useFactory:()=>{const n=Me(ise),t=Me(We),e=Me(lw),i=Me(cw),r=Me(__);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Oj(r,i,n,t,e)}},i?.preloadingStrategy?vle(i.preloadingStrategy).\u0275providers:[],{provide:g4,multi:!0,useFactory:wle},i?.initialNavigation?Ale(i):[],i?.bindToComponentInputs?xc(8,[fj,{provide:iw,useExisting:fj}]).\u0275providers:[],[{provide:jj,useFactory:Fj},{provide:Dk,multi:!0,useExisting:jj}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Kf,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||n)(X(Bj,8))}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({})}}return n})();function Tle(n){return"guarded"}function Ale(n){return["disabled"===n.initialNavigation?xc(3,[{provide:bx,multi:!0,useFactory:()=>{const t=Me(eo);return()=>{t.setUpLocationChangeListener()}}},{provide:BS,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?xc(2,[{provide:BS,useValue:0},{provide:bx,multi:!0,deps:[Ln],useFactory:t=>{const e=t.get(Ure,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(eo),o=t.get(Lj);Rj(r,()=>{i(!0)}),t.get(cw).afterPreactivation=()=>(i(!0),o.closed?O(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const jj=new ue("");var to=it(631);(0,to.registerVersion)("firebase","10.14.1","app");class Rle extends kt{constructor(t,e){super()}schedule(t,e=0){return this}}const dw={setInterval(n,t,...e){const{delegate:i}=dw;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=dw;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class uw extends Rle{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return dw.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&dw.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Ke(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const US={now:()=>(US.delegate||Date).now(),delegate:void 0};class D_{constructor(t,e=D_.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}D_.now=US.now;class hw extends D_{constructor(t,e=D_.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Ole=new class Ple extends hw{}(class Mle extends uw{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),Qf=new hw(uw),Nle=Qf,pu=new xl("ANGULARFIRE2_VERSION");function zj(n,t,e){if(t){if(1===t.length)return t[0];const o=t.filter(s=>s.app===e);if(1===o.length)return o[0]}return e.container.getProvider(n).getImmediate({optional:!0})}const jS=(n,t)=>{const e=t?[t]:(0,to.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i};class fw{constructor(){return jS(Fle)}}const Fle="app-check";function Yf(){}class Hj{zone;delegate;constructor(t,e=Ole){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{t.apply(this,[s])})},e,i)}}class Lle{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yf,{},Yf,Yf)),e.pipe(Dn({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let R_=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new Hj(Zone.current)),this.insideAngular=e.run(()=>new Hj(Zone.current,Qf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(X(We))};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xf(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function gu(n){return Xf().ngZone.run(()=>n())}function as(n){return function Ble(n){return function(e){return(e=e.lift(new Lle(n.ngZone))).pipe(xr(n.outsideAngular),Pi(n.insideAngular))}}(Xf())(n)}const Ule=(n,t)=>function(){const i=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),gu(()=>n.apply(void 0,i))},Rs=(n,t)=>function(){let e;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(t&&(e||=gu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yf,{},Yf,Yf))),i[o]=Ule(i[o],e));const r=function Vle(n){return Xf().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!t){if(r instanceof at){const o=Xf();return r.pipe(xr(o.outsideAngular),Pi(o.insideAngular))}return gu(()=>r)}return r instanceof at?r.pipe(as):r instanceof Promise?gu(()=>new Promise((o,s)=>r.then(a=>gu(()=>o(a)),a=>gu(()=>s(a))))):"function"==typeof r&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),r.apply(this,arguments)}:gu(()=>r)};var Rl=it(574);Rl.A.registerVersion("firebase","10.14.1","app-compat");const Hle=["ngOnDestroy"];class qj{constructor(t){return t}}const mw=new ue("angularfire2.app.options"),pw=new ue("angularfire2.app.name");function zS(n,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const s=Rl.A.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>Rl.A.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;Gle("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new qj(s)}const Gle=(n,...t)=>{},$le={provide:qj,useFactory:zS,deps:[mw,We,[new Fr,pw]]};let Kle=(()=>{class n{static initializeApp(e,i){return{ngModule:n,providers:[{provide:mw,useValue:e},{provide:pw,useValue:i}]}}constructor(e){Rl.A.registerVersion("angularfire",pu.full,"core"),Rl.A.registerVersion("angularfire",pu.full,"app-compat"),Rl.A.registerVersion("angular",TA.full,e.toString())}static \u0275fac=function(i){return new(i||n)(X(Oo))};static \u0275mod=lt({type:n});static \u0275inj=ht({providers:[$le]})}return n})();function Wj(n,t,e,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function Qle(n,t){try{return n.toString()===t.toString()}catch{return n===t}}(r,s)||(Gj("error",`${t} was already initialized on the ${e} Firebase App with different settings.${Yle?" You may need to reload as Firebase is not HMR aware.":""}`),Gj("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const Yle=typeof module<"u"&&!!module.hot,Gj=(n,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[],it(46);class Xle extends Q{constructor(t=1/0,e=1/0,i=US){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=e.now();let a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}}function HS(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,q({connector:()=>new Xle(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function $j(n,t){return V(t)?ke(()=>n,t):ke(()=>n)}const Kj=new ue("angularfire2.auth.use-emulator"),Qj=new ue("angularfire2.auth.settings"),Yj=new ue("angularfire2.auth.tenant-id"),Xj=new ue("angularfire2.auth.langugage-code"),Jj=new ue("angularfire2.auth.use-device-language"),Zj=new ue("angularfire.auth.persistence"),e5=(n,t,e,i,r,o,s,a)=>Wj(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=t.runOutsideAngular(()=>n.auth());if(e&&c.useEmulator(...e),i&&(c.tenantId=i),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(const[l,d]of Object.entries(s))c.settings[l]=d;return a&&c.setPersistence(a),c},[e,i,r,o,s,a]);let t5=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,i,r,o,s,a,c,l,d,u,p,b){const v=new Q,x=O(void 0).pipe(Pi(s.outsideAngular),ke(()=>o.runOutsideAngular(()=>Promise.resolve().then(it.bind(it,46)))),pe(()=>zS(e,o,i)),pe(w=>e5(w,o,a,l,d,u,c,p)),HS({bufferSize:1,refCount:!1}));if(Bx(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=O(null);else{x.pipe(kl()).subscribe();const w=x.pipe(ke(z=>z.getRedirectResult().then(K=>K,()=>null)),as,HS({bufferSize:1,refCount:!1})),F=x.pipe(ke(z=>new at(K=>({unsubscribe:o.runOutsideAngular(()=>z.onAuthStateChanged(Z=>K.next(Z),Z=>K.error(Z),()=>K.complete()))})))),R=x.pipe(ke(z=>new at(K=>({unsubscribe:o.runOutsideAngular(()=>z.onIdTokenChanged(Z=>K.next(Z),Z=>K.error(Z),()=>K.complete()))}))));this.authState=w.pipe($j(F),xr(s.outsideAngular),Pi(s.insideAngular)),this.user=w.pipe($j(R),xr(s.outsideAngular),Pi(s.insideAngular)),this.idToken=this.user.pipe(ke(z=>z?T(z.getIdToken()):O(null))),this.idTokenResult=this.user.pipe(ke(z=>z?T(z.getIdTokenResult()):O(null))),this.credential=E(w,v,this.authState.pipe(Zt(z=>!z))).pipe(pe(z=>z?.user?z:null),xr(s.outsideAngular),Pi(s.insideAngular))}return((n,t,e,i={})=>new Proxy(n,{get:(r,o)=>e.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(Hle.indexOf(o)>-1)return()=>{};const s=t.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(l=>e.run(()=>l)):e.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(d=>{const u=d?.(...l);return i?.spy?.apply&&i.spy.apply(o,l,u),u})})})}))(this,x,o,{spy:{apply:(w,F,R)=>{(w.startsWith("signIn")||w.startsWith("createUser"))&&R.then(z=>v.next(z))}}})}static \u0275fac=function(i){return new(i||n)(X(mw),X(pw,8),X(Oo),X(We),X(R_),X(Kj,8),X(Qj,8),X(Yj,8),X(Xj,8),X(Jj,8),X(Zj,8),X(fw,8))};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function qS(){return te((n,t)=>{let e,i=!1;n.subscribe(me(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var _u,s5,$=it(467),n5=it(779),Na=it(398),yn=it(401),r5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o5={};(function(){var n;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(U,P,B){B||(B=0);var G=Array(16);if("string"==typeof P)for(var Y=0;16>Y;++Y)G[Y]=P.charCodeAt(B++)|P.charCodeAt(B++)<<8|P.charCodeAt(B++)<<16|P.charCodeAt(B++)<<24;else for(Y=0;16>Y;++Y)G[Y]=P[B++]|P[B++]<<8|P[B++]<<16|P[B++]<<24;var ee=U.g[3],W=(P=U.g[0])+(ee^(B=U.g[1])&((Y=U.g[2])^ee))+G[0]+3614090360&4294967295;W=(B=(Y=(ee=(P=(B=(Y=(ee=(P=(B=(Y=(ee=(P=(B=(Y=(ee=(P=(B=(Y=(ee=(P=(B=(Y=(ee=(P=(B=(Y=(ee=(P=(B=(Y=(ee=(P=(B=(Y=(ee=(P=(B=(Y=(ee=(P=(B=(Y=(ee=(P=(B=(Y=(ee=(P=(B=(Y=(ee=(P=(B=(Y=(ee=(P=(B=(Y=(ee=(P=B+(W<<7&4294967295|W>>>25))+((W=ee+(Y^P&(B^Y))+G[1]+3905402710&4294967295)<<12&4294967295|W>>>20))+((W=Y+(B^ee&(P^B))+G[2]+606105819&4294967295)<<17&4294967295|W>>>15))+((W=B+(P^Y&(ee^P))+G[3]+3250441966&4294967295)<<22&4294967295|W>>>10))+((W=P+(ee^B&(Y^ee))+G[4]+4118548399&4294967295)<<7&4294967295|W>>>25))+((W=ee+(Y^P&(B^Y))+G[5]+1200080426&4294967295)<<12&4294967295|W>>>20))+((W=Y+(B^ee&(P^B))+G[6]+2821735955&4294967295)<<17&4294967295|W>>>15))+((W=B+(P^Y&(ee^P))+G[7]+4249261313&4294967295)<<22&4294967295|W>>>10))+((W=P+(ee^B&(Y^ee))+G[8]+1770035416&4294967295)<<7&4294967295|W>>>25))+((W=ee+(Y^P&(B^Y))+G[9]+2336552879&4294967295)<<12&4294967295|W>>>20))+((W=Y+(B^ee&(P^B))+G[10]+4294925233&4294967295)<<17&4294967295|W>>>15))+((W=B+(P^Y&(ee^P))+G[11]+2304563134&4294967295)<<22&4294967295|W>>>10))+((W=P+(ee^B&(Y^ee))+G[12]+1804603682&4294967295)<<7&4294967295|W>>>25))+((W=ee+(Y^P&(B^Y))+G[13]+4254626195&4294967295)<<12&4294967295|W>>>20))+((W=Y+(B^ee&(P^B))+G[14]+2792965006&4294967295)<<17&4294967295|W>>>15))+((W=B+(P^Y&(ee^P))+G[15]+1236535329&4294967295)<<22&4294967295|W>>>10))+((W=P+(Y^ee&(B^Y))+G[1]+4129170786&4294967295)<<5&4294967295|W>>>27))+((W=ee+(B^Y&(P^B))+G[6]+3225465664&4294967295)<<9&4294967295|W>>>23))+((W=Y+(P^B&(ee^P))+G[11]+643717713&4294967295)<<14&4294967295|W>>>18))+((W=B+(ee^P&(Y^ee))+G[0]+3921069994&4294967295)<<20&4294967295|W>>>12))+((W=P+(Y^ee&(B^Y))+G[5]+3593408605&4294967295)<<5&4294967295|W>>>27))+((W=ee+(B^Y&(P^B))+G[10]+38016083&4294967295)<<9&4294967295|W>>>23))+((W=Y+(P^B&(ee^P))+G[15]+3634488961&4294967295)<<14&4294967295|W>>>18))+((W=B+(ee^P&(Y^ee))+G[4]+3889429448&4294967295)<<20&4294967295|W>>>12))+((W=P+(Y^ee&(B^Y))+G[9]+568446438&4294967295)<<5&4294967295|W>>>27))+((W=ee+(B^Y&(P^B))+G[14]+3275163606&4294967295)<<9&4294967295|W>>>23))+((W=Y+(P^B&(ee^P))+G[3]+4107603335&4294967295)<<14&4294967295|W>>>18))+((W=B+(ee^P&(Y^ee))+G[8]+1163531501&4294967295)<<20&4294967295|W>>>12))+((W=P+(Y^ee&(B^Y))+G[13]+2850285829&4294967295)<<5&4294967295|W>>>27))+((W=ee+(B^Y&(P^B))+G[2]+4243563512&4294967295)<<9&4294967295|W>>>23))+((W=Y+(P^B&(ee^P))+G[7]+1735328473&4294967295)<<14&4294967295|W>>>18))+((W=B+(ee^P&(Y^ee))+G[12]+2368359562&4294967295)<<20&4294967295|W>>>12))+((W=P+(B^Y^ee)+G[5]+4294588738&4294967295)<<4&4294967295|W>>>28))+((W=ee+(P^B^Y)+G[8]+2272392833&4294967295)<<11&4294967295|W>>>21))+((W=Y+(ee^P^B)+G[11]+1839030562&4294967295)<<16&4294967295|W>>>16))+((W=B+(Y^ee^P)+G[14]+4259657740&4294967295)<<23&4294967295|W>>>9))+((W=P+(B^Y^ee)+G[1]+2763975236&4294967295)<<4&4294967295|W>>>28))+((W=ee+(P^B^Y)+G[4]+1272893353&4294967295)<<11&4294967295|W>>>21))+((W=Y+(ee^P^B)+G[7]+4139469664&4294967295)<<16&4294967295|W>>>16))+((W=B+(Y^ee^P)+G[10]+3200236656&4294967295)<<23&4294967295|W>>>9))+((W=P+(B^Y^ee)+G[13]+681279174&4294967295)<<4&4294967295|W>>>28))+((W=ee+(P^B^Y)+G[0]+3936430074&4294967295)<<11&4294967295|W>>>21))+((W=Y+(ee^P^B)+G[3]+3572445317&4294967295)<<16&4294967295|W>>>16))+((W=B+(Y^ee^P)+G[6]+76029189&4294967295)<<23&4294967295|W>>>9))+((W=P+(B^Y^ee)+G[9]+3654602809&4294967295)<<4&4294967295|W>>>28))+((W=ee+(P^B^Y)+G[12]+3873151461&4294967295)<<11&4294967295|W>>>21))+((W=Y+(ee^P^B)+G[15]+530742520&4294967295)<<16&4294967295|W>>>16))+((W=B+(Y^ee^P)+G[2]+3299628645&4294967295)<<23&4294967295|W>>>9))+((W=P+(Y^(B|~ee))+G[0]+4096336452&4294967295)<<6&4294967295|W>>>26))+((W=ee+(B^(P|~Y))+G[7]+1126891415&4294967295)<<10&4294967295|W>>>22))+((W=Y+(P^(ee|~B))+G[14]+2878612391&4294967295)<<15&4294967295|W>>>17))+((W=B+(ee^(Y|~P))+G[5]+4237533241&4294967295)<<21&4294967295|W>>>11))+((W=P+(Y^(B|~ee))+G[12]+1700485571&4294967295)<<6&4294967295|W>>>26))+((W=ee+(B^(P|~Y))+G[3]+2399980690&4294967295)<<10&4294967295|W>>>22))+((W=Y+(P^(ee|~B))+G[10]+4293915773&4294967295)<<15&4294967295|W>>>17))+((W=B+(ee^(Y|~P))+G[1]+2240044497&4294967295)<<21&4294967295|W>>>11))+((W=P+(Y^(B|~ee))+G[8]+1873313359&4294967295)<<6&4294967295|W>>>26))+((W=ee+(B^(P|~Y))+G[15]+4264355552&4294967295)<<10&4294967295|W>>>22))+((W=Y+(P^(ee|~B))+G[6]+2734768916&4294967295)<<15&4294967295|W>>>17))+((W=B+(ee^(Y|~P))+G[13]+1309151649&4294967295)<<21&4294967295|W>>>11))+((ee=(P=B+((W=P+(Y^(B|~ee))+G[4]+4149444226&4294967295)<<6&4294967295|W>>>26))+((W=ee+(B^(P|~Y))+G[11]+3174756917&4294967295)<<10&4294967295|W>>>22))^((Y=ee+((W=Y+(P^(ee|~B))+G[2]+718787259&4294967295)<<15&4294967295|W>>>17))|~P))+G[9]+3951481745&4294967295,U.g[0]=U.g[0]+P&4294967295,U.g[1]=U.g[1]+(Y+(W<<21&4294967295|W>>>11))&4294967295,U.g[2]=U.g[2]+Y&4294967295,U.g[3]=U.g[3]+ee&4294967295}function s(U,P){this.h=P;for(var B=[],G=!0,Y=U.length-1;0<=Y;Y--){var ee=0|U[Y];G&&ee==P||(B[Y]=ee,G=!1)}this.g=B}(function t(U,P){function B(){}B.prototype=P.prototype,U.D=P.prototype,U.prototype=new B,U.prototype.constructor=U,U.C=function(G,Y,ee){for(var W=Array(arguments.length-2),li=2;li<arguments.length;li++)W[li-2]=arguments[li];return P.prototype[Y].apply(G,W)}})(i,function e(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function(U,P){void 0===P&&(P=U.length);for(var B=P-this.blockSize,G=this.B,Y=this.h,ee=0;ee<P;){if(0==Y)for(;ee<=B;)r(this,U,ee),ee+=this.blockSize;if("string"==typeof U){for(;ee<P;)if(G[Y++]=U.charCodeAt(ee++),Y==this.blockSize){r(this,G),Y=0;break}}else for(;ee<P;)if(G[Y++]=U[ee++],Y==this.blockSize){r(this,G),Y=0;break}}this.h=Y,this.o+=P},i.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var P=1;P<U.length-8;++P)U[P]=0;var B=8*this.o;for(P=U.length-8;P<U.length;++P)U[P]=255&B,B/=256;for(this.u(U),U=Array(16),P=B=0;4>P;++P)for(var G=0;32>G;G+=8)U[B++]=this.g[P]>>>G&255;return U};var a={};function c(U){return-128<=U&&128>U?function o(U,P){var B=a;return Object.prototype.hasOwnProperty.call(B,U)?B[U]:B[U]=P(U)}(U,function(P){return new s([0|P],0>P?-1:0)}):new s([0|U],0>U?-1:0)}function l(U){if(isNaN(U)||!isFinite(U))return u;if(0>U)return w(l(-U));for(var P=[],B=1,G=0;U>=B;G++)P[G]=U/B|0,B*=4294967296;return new s(P,0)}var u=c(0),p=c(1),b=c(16777216);function v(U){if(0!=U.h)return!1;for(var P=0;P<U.g.length;P++)if(0!=U.g[P])return!1;return!0}function x(U){return-1==U.h}function w(U){for(var P=U.g.length,B=[],G=0;G<P;G++)B[G]=~U.g[G];return new s(B,~U.h).add(p)}function F(U,P){return U.add(w(P))}function R(U,P){for(;(65535&U[P])!=U[P];)U[P+1]+=U[P]>>>16,U[P]&=65535,P++}function z(U,P){this.g=U,this.h=P}function K(U,P){if(v(P))throw Error("division by zero");if(v(U))return new z(u,u);if(x(U))return P=K(w(U),P),new z(w(P.g),w(P.h));if(x(P))return P=K(U,w(P)),new z(w(P.g),P.h);if(30<U.g.length){if(x(U)||x(P))throw Error("slowDivide_ only works with positive integers.");for(var B=p,G=P;0>=G.l(U);)B=Z(B),G=Z(G);var Y=ne(B,1),ee=ne(G,1);for(G=ne(G,2),B=ne(B,2);!v(G);){var W=ee.add(G);0>=W.l(U)&&(Y=Y.add(B),ee=W),G=ne(G,1),B=ne(B,1)}return P=F(U,Y.j(P)),new z(Y,P)}for(Y=u;0<=U.l(P);){for(B=Math.max(1,Math.floor(U.m()/P.m())),G=48>=(G=Math.ceil(Math.log(B)/Math.LN2))?1:Math.pow(2,G-48),W=(ee=l(B)).j(P);x(W)||0<W.l(U);)W=(ee=l(B-=G)).j(P);v(ee)&&(ee=p),Y=Y.add(ee),U=F(U,W)}return new z(Y,U)}function Z(U){for(var P=U.g.length+1,B=[],G=0;G<P;G++)B[G]=U.i(G)<<1|U.i(G-1)>>>31;return new s(B,U.h)}function ne(U,P){var B=P>>5;P%=32;for(var G=U.g.length-B,Y=[],ee=0;ee<G;ee++)Y[ee]=0<P?U.i(ee+B)>>>P|U.i(ee+B+1)<<32-P:U.i(ee+B);return new s(Y,U.h)}(n=s.prototype).m=function(){if(x(this))return-w(this).m();for(var U=0,P=1,B=0;B<this.g.length;B++){var G=this.i(B);U+=(0<=G?G:4294967296+G)*P,P*=4294967296}return U},n.toString=function(U){if(2>(U=U||10)||36<U)throw Error("radix out of range: "+U);if(v(this))return"0";if(x(this))return"-"+w(this).toString(U);for(var P=l(Math.pow(U,6)),B=this,G="";;){var Y=K(B,P).g,ee=((0<(B=F(B,Y.j(P))).g.length?B.g[0]:B.h)>>>0).toString(U);if(v(B=Y))return ee+G;for(;6>ee.length;)ee="0"+ee;G=ee+G}},n.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h},n.l=function(U){return x(U=F(this,U))?-1:v(U)?0:1},n.abs=function(){return x(this)?w(this):this},n.add=function(U){for(var P=Math.max(this.g.length,U.g.length),B=[],G=0,Y=0;Y<=P;Y++){var ee=G+(65535&this.i(Y))+(65535&U.i(Y)),W=(ee>>>16)+(this.i(Y)>>>16)+(U.i(Y)>>>16);G=W>>>16,B[Y]=(W&=65535)<<16|(ee&=65535)}return new s(B,-2147483648&B[B.length-1]?-1:0)},n.j=function(U){if(v(this)||v(U))return u;if(x(this))return x(U)?w(this).j(w(U)):w(w(this).j(U));if(x(U))return w(this.j(w(U)));if(0>this.l(b)&&0>U.l(b))return l(this.m()*U.m());for(var P=this.g.length+U.g.length,B=[],G=0;G<2*P;G++)B[G]=0;for(G=0;G<this.g.length;G++)for(var Y=0;Y<U.g.length;Y++){var ee=this.i(G)>>>16,W=65535&this.i(G),li=U.i(Y)>>>16,en=65535&U.i(Y);B[2*G+2*Y]+=W*en,R(B,2*G+2*Y),B[2*G+2*Y+1]+=ee*en,R(B,2*G+2*Y+1),B[2*G+2*Y+1]+=W*li,R(B,2*G+2*Y+1),B[2*G+2*Y+2]+=ee*li,R(B,2*G+2*Y+2)}for(G=0;G<P;G++)B[G]=B[2*G+1]<<16|B[2*G];for(G=P;G<2*P;G++)B[G]=0;return new s(B,0)},n.A=function(U){return K(this,U).h},n.and=function(U){for(var P=Math.max(this.g.length,U.g.length),B=[],G=0;G<P;G++)B[G]=this.i(G)&U.i(G);return new s(B,this.h&U.h)},n.or=function(U){for(var P=Math.max(this.g.length,U.g.length),B=[],G=0;G<P;G++)B[G]=this.i(G)|U.i(G);return new s(B,this.h|U.h)},n.xor=function(U){for(var P=Math.max(this.g.length,U.g.length),B=[],G=0;G<P;G++)B[G]=this.i(G)^U.i(G);return new s(B,this.h^U.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,s5=o5.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=function d(U,P){if(0==U.length)throw Error("number format error: empty string");if(2>(P=P||10)||36<P)throw Error("radix out of range: "+P);if("-"==U.charAt(0))return w(d(U.substring(1),P));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var B=l(Math.pow(P,8)),G=u,Y=0;Y<U.length;Y+=8){var ee=Math.min(8,U.length-Y),W=parseInt(U.substring(Y,Y+ee),P);8>ee?(ee=l(Math.pow(P,ee)),G=G.j(ee).add(l(W))):G=(G=G.j(B)).add(l(W))}return G},_u=o5.Integer=s}).apply(typeof r5<"u"?r5:typeof self<"u"?self:typeof window<"u"?window:{});var a5,M_,c5,_w,WS,l5,d5,u5,gw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wc={};(function(){var n,t="function"==typeof Object.defineProperties?Object.defineProperty:function(m,y,I){return m==Array.prototype||m==Object.prototype||(m[y]=I.value),m},i=function e(m){m=["object"==typeof globalThis&&globalThis,m,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof gw&&gw];for(var y=0;y<m.length;++y){var I=m[y];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}(this);!function r(m,y){if(y)e:{var I=i;m=m.split(".");for(var L=0;L<m.length-1;L++){var ie=m[L];if(!(ie in I))break e;I=I[ie]}(y=y(L=I[m=m[m.length-1]]))!=L&&null!=y&&t(I,m,{configurable:!0,writable:!0,value:y})}}("Array.prototype.values",function(m){return m||function(){return function o(m,y){m instanceof String&&(m+="");var I=0,L=!1,ie={next:function(){if(!L&&I<m.length){var fe=I++;return{value:y(fe,m[fe]),done:!1}}return L=!0,{done:!0,value:void 0}}};return ie[Symbol.iterator]=function(){return ie},ie}(this,function(y,I){return I})}});var s=s||{},a=this||self;function c(m){var y=typeof m;return"array"==(y="object"!=y?y:m?Array.isArray(m)?"array":y:"null")||"object"==y&&"number"==typeof m.length}function l(m){var y=typeof m;return"object"==y&&null!=m||"function"==y}function d(m,y,I){return m.call.apply(m.bind,arguments)}function u(m,y,I){if(!m)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ie,L),m.apply(y,ie)}}return function(){return m.apply(y,arguments)}}function p(m,y,I){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:u).apply(null,arguments)}function b(m,y){var I=Array.prototype.slice.call(arguments,1);return function(){var L=I.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function v(m,y){function I(){}I.prototype=y.prototype,m.aa=y.prototype,m.prototype=new I,m.prototype.constructor=m,m.Qb=function(L,ie,fe){for(var je=Array(arguments.length-2),Zn=2;Zn<arguments.length;Zn++)je[Zn-2]=arguments[Zn];return y.prototype[ie].apply(L,je)}}function x(m){const y=m.length;if(0<y){const I=Array(y);for(let L=0;L<y;L++)I[L]=m[L];return I}return[]}function w(m,y){for(let I=1;I<arguments.length;I++){const L=arguments[I];if(c(L)){const ie=m.length||0,fe=L.length||0;m.length=ie+fe;for(let je=0;je<fe;je++)m[ie+je]=L[je]}else m.push(L)}}function R(m){return/^[\s\xa0]*$/.test(m)}function z(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function K(m){return K[" "](m),m}K[" "]=function(){};var Z=!(-1==z().indexOf("Gecko")||-1!=z().toLowerCase().indexOf("webkit")&&-1==z().indexOf("Edge")||-1!=z().indexOf("Trident")||-1!=z().indexOf("MSIE")||-1!=z().indexOf("Edge"));function ne(m,y,I){for(const L in m)y.call(I,m[L],L,m)}function P(m){const y={};for(const I in m)y[I]=m[I];return y}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(m,y){let I,L;for(let ie=1;ie<arguments.length;ie++){for(I in L=arguments[ie],L)m[I]=L[I];for(let fe=0;fe<B.length;fe++)I=B[fe],Object.prototype.hasOwnProperty.call(L,I)&&(m[I]=L[I])}}function Y(m){var y=1;m=m.split(":");const I=[];for(;0<y&&m.length;)I.push(m.shift()),y--;return m.length&&I.push(m.join(":")),I}function ee(m){a.setTimeout(()=>{throw m},0)}function W(){var m=dt;let y=null;return m.g&&(y=m.g,m.g=m.g.next,m.g||(m.h=null),y.next=null),y}var en=new class F{constructor(y,I){this.i=y,this.j=I,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}(()=>new Pe,m=>m.reset());class Pe{constructor(){this.next=this.g=this.h=null}set(y,I){this.h=y,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,Qe=!1,dt=new class li{constructor(){this.h=this.g=null}add(y,I){const L=en.get();L.set(y,I),this.h?this.h.next=L:this.g=L,this.h=L}},Un=()=>{const m=a.Promise.resolve(void 0);Ue=()=>{m.then(Hr)}};var Hr=()=>{for(var m;m=W();){try{m.h.call(m.g)}catch(I){ee(I)}var y=en;y.j(m),100>y.h&&(y.h++,m.next=y.g,y.g=m)}Qe=!1};function On(){this.s=this.s,this.C=this.C}function Tn(m,y){this.type=m,this.g=this.target=y,this.defaultPrevented=!1}On.prototype.s=!1,On.prototype.ma=function(){this.s||(this.s=!0,this.N())},On.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Tn.prototype.h=function(){this.defaultPrevented=!0};var bn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,y=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const I=()=>{};a.addEventListener("test",I,y),a.removeEventListener("test",I,y)}catch{}return m}();function qo(m,y){if(Tn.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var I=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=y,y=m.relatedTarget){if(Z){e:{try{K(y.nodeName);var ie=!0;break e}catch{}ie=!1}ie||(y=null)}}else"mouseover"==I?y=m.fromElement:"mouseout"==I&&(y=m.toElement);this.relatedTarget=y,L?(this.clientX=void 0!==L.clientX?L.clientX:L.pageX,this.clientY=void 0!==L.clientY?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=void 0!==m.clientX?m.clientX:m.pageX,this.clientY=void 0!==m.clientY?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType="string"==typeof m.pointerType?m.pointerType:da[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&qo.aa.h.call(this)}}v(qo,Tn);var da={2:"touch",3:"pen",4:"mouse"};qo.prototype.h=function(){qo.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var zi="closure_listenable_"+(1e6*Math.random()|0),tl=0;function Wo(m,y,I,L,ie){this.listener=m,this.proxy=null,this.src=y,this.type=I,this.capture=!!L,this.ha=ie,this.key=++tl,this.da=this.fa=!1}function nl(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function xd(m){this.src=m,this.g={},this.h=0}function SF(m,y){var I=y.type;if(I in m.g){var fe,L=m.g[I],ie=Array.prototype.indexOf.call(L,y,void 0);(fe=0<=ie)&&Array.prototype.splice.call(L,ie,1),fe&&(nl(y),0==m.g[I].length&&(delete m.g[I],m.h--))}}function DF(m,y,I,L){for(var ie=0;ie<m.length;++ie){var fe=m[ie];if(!fe.da&&fe.listener==y&&fe.capture==!!I&&fe.ha==L)return ie}return-1}xd.prototype.add=function(m,y,I,L,ie){var fe=m.toString();(m=this.g[fe])||(m=this.g[fe]=[],this.h++);var je=DF(m,y,L,ie);return-1<je?(y=m[je],I||(y.fa=!1)):((y=new Wo(y,this.src,fe,!!L,ie)).fa=I,m.push(y)),y};var RF="closure_lm_"+(1e6*Math.random()|0),MF={};function EQ(m,y,I,L,ie){if(L&&L.once)return CQ(m,y,I,L,ie);if(Array.isArray(y)){for(var fe=0;fe<y.length;fe++)EQ(m,y[fe],I,L,ie);return null}return I=FF(I),m&&m[zi]?m.K(y,I,l(L)?!!L.capture:!!L,ie):IQ(m,y,I,!1,L,ie)}function IQ(m,y,I,L,ie,fe){if(!y)throw Error("Invalid event type");var je=l(ie)?!!ie.capture:!!ie,Zn=OF(m);if(Zn||(m[RF]=Zn=new xd(m)),(I=Zn.add(y,I,L,je,fe)).proxy)return I;if(L=function kPe(){const y=SPe;return function m(I){return y.call(m.src,m.listener,I)}}(),I.proxy=L,L.src=m,L.listener=I,m.addEventListener)bn||(ie=je),void 0===ie&&(ie=!1),m.addEventListener(y.toString(),L,ie);else if(m.attachEvent)m.attachEvent(AQ(y.toString()),L);else{if(!m.addListener||!m.removeListener)throw Error("addEventListener and attachEvent are unavailable.");m.addListener(L)}return I}function CQ(m,y,I,L,ie){if(Array.isArray(y)){for(var fe=0;fe<y.length;fe++)CQ(m,y[fe],I,L,ie);return null}return I=FF(I),m&&m[zi]?m.L(y,I,l(L)?!!L.capture:!!L,ie):IQ(m,y,I,!0,L,ie)}function TQ(m,y,I,L,ie){if(Array.isArray(y))for(var fe=0;fe<y.length;fe++)TQ(m,y[fe],I,L,ie);else L=l(L)?!!L.capture:!!L,I=FF(I),m&&m[zi]?(m=m.i,(y=String(y).toString())in m.g&&-1<(I=DF(fe=m.g[y],I,L,ie))&&(nl(fe[I]),Array.prototype.splice.call(fe,I,1),0==fe.length&&(delete m.g[y],m.h--))):m&&(m=OF(m))&&(y=m.g[y.toString()],m=-1,y&&(m=DF(y,I,L,ie)),(I=-1<m?y[m]:null)&&PF(I))}function PF(m){if("number"!=typeof m&&m&&!m.da){var y=m.src;if(y&&y[zi])SF(y.i,m);else{var I=m.type,L=m.proxy;y.removeEventListener?y.removeEventListener(I,L,m.capture):y.detachEvent?y.detachEvent(AQ(I),L):y.addListener&&y.removeListener&&y.removeListener(L),(I=OF(y))?(SF(I,m),0==I.h&&(I.src=null,y[RF]=null)):nl(m)}}}function AQ(m){return m in MF?MF[m]:MF[m]="on"+m}function SPe(m,y){if(m.da)m=!0;else{y=new qo(y,this);var I=m.listener,L=m.ha||m.src;m.fa&&PF(m),m=I.call(L,y)}return m}function OF(m){return(m=m[RF])instanceof xd?m:null}var NF="__closure_events_fn_"+(1e9*Math.random()>>>0);function FF(m){return"function"==typeof m?m:(m[NF]||(m[NF]=function(y){return m.handleEvent(y)}),m[NF])}function lo(){On.call(this),this.i=new xd(this),this.M=this,this.F=null}function Ao(m,y){var I,L=m.F;if(L)for(I=[];L;L=L.F)I.push(L);if(m=m.M,L=y.type||y,"string"==typeof y)y=new Tn(y,m);else if(y instanceof Tn)y.target=y.target||m;else{var ie=y;G(y=new Tn(L,m),ie)}if(ie=!0,I)for(var fe=I.length-1;0<=fe;fe--){var je=y.g=I[fe];ie=RC(je,L,!0,y)&&ie}if(ie=RC(je=y.g=m,L,!0,y)&&ie,ie=RC(je,L,!1,y)&&ie,I)for(fe=0;fe<I.length;fe++)ie=RC(je=y.g=I[fe],L,!1,y)&&ie}function RC(m,y,I,L){if(!(y=m.i.g[String(y)]))return!0;y=y.concat();for(var ie=!0,fe=0;fe<y.length;++fe){var je=y[fe];if(je&&!je.da&&je.capture==I){var Zn=je.listener,qr=je.ha||je.src;je.fa&&SF(m.i,je),ie=!1!==Zn.call(qr,L)&&ie}}return ie&&!L.defaultPrevented}function kQ(m,y,I){if("function"==typeof m)I&&(m=p(m,I));else{if(!m||"function"!=typeof m.handleEvent)throw Error("Invalid listener argument");m=p(m.handleEvent,m)}return 2147483647<Number(y)?-1:a.setTimeout(m,y||0)}function SQ(m){m.g=kQ(()=>{m.g=null,m.i&&(m.i=!1,SQ(m))},m.l);const y=m.h;m.h=null,m.m.apply(null,y)}v(lo,On),lo.prototype[zi]=!0,lo.prototype.removeEventListener=function(m,y,I,L){TQ(this,m,y,I,L)},lo.prototype.N=function(){if(lo.aa.N.call(this),this.i){var y,m=this.i;for(y in m.g){for(var I=m.g[y],L=0;L<I.length;L++)nl(I[L]);delete m.g[y],m.h--}}this.F=null},lo.prototype.K=function(m,y,I,L){return this.i.add(String(m),y,!1,I,L)},lo.prototype.L=function(m,y,I,L){return this.i.add(String(m),y,!0,I,L)};class DPe extends On{constructor(y,I){super(),this.m=y,this.l=I,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:SQ(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $v(m){On.call(this),this.h=m,this.g={}}v($v,On);var DQ=[];function RQ(m){ne(m.g,function(y,I){this.g.hasOwnProperty(I)&&PF(y)},m),m.g={}}$v.prototype.N=function(){$v.aa.N.call(this),RQ(this)},$v.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var LF=a.JSON.stringify,RPe=a.JSON.parse,MPe=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function VF(){}function PQ(){}VF.prototype.h=null;var Kv={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function BF(){Tn.call(this,"d")}function UF(){Tn.call(this,"c")}v(BF,Tn),v(UF,Tn);var ph={},OQ=null;function MC(){return OQ=OQ||new lo}function NQ(m){Tn.call(this,ph.La,m)}function Qv(m){const y=MC();Ao(y,new NQ(y))}function FQ(m,y){Tn.call(this,ph.STAT_EVENT,m),this.stat=y}function ko(m){const y=MC();Ao(y,new FQ(y,m))}function LQ(m,y){Tn.call(this,ph.Ma,m),this.size=y}function Yv(m,y){if("function"!=typeof m)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},y)}function Xv(){this.g=!0}function pp(m,y,I,L){m.info(function(){return"XMLHTTP TEXT ("+y+"): "+function FPe(m,y){if(!m.g)return y;if(!y)return null;try{var I=JSON.parse(y);if(I)for(m=0;m<I.length;m++)if(Array.isArray(I[m])){var L=I[m];if(!(2>L.length)){var ie=L[1];if(Array.isArray(ie)&&!(1>ie.length)){var fe=ie[0];if("noop"!=fe&&"stop"!=fe&&"close"!=fe)for(var je=1;je<ie.length;je++)ie[je]=""}}}return LF(I)}catch{return y}}(m,I)+(L?" "+L:"")})}ph.La="serverreachability",v(NQ,Tn),ph.STAT_EVENT="statevent",v(FQ,Tn),ph.Ma="timingevent",v(LQ,Tn),Xv.prototype.xa=function(){this.g=!1},Xv.prototype.info=function(){};var jF,PC={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},VQ={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function OC(){}function wd(m,y,I,L){this.j=m,this.i=y,this.l=I,this.R=L||1,this.U=new $v(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new BQ}function BQ(){this.i=null,this.g="",this.h=!1}v(OC,VF),OC.prototype.g=function(){return new XMLHttpRequest},OC.prototype.i=function(){return{}},jF=new OC;var UQ={},zF={};function HF(m,y,I){m.L=1,m.v=VC(il(y)),m.m=I,m.P=!0,jQ(m,null)}function jQ(m,y){m.F=Date.now(),NC(m),m.A=il(m.v);var I=m.A,L=m.R;Array.isArray(L)||(L=[String(L)]),tY(I.i,"t",L),m.C=0,I=m.j.J,m.h=new BQ,m.g=vY(m.j,I?y:null,!m.m),0<m.O&&(m.M=new DPe(p(m.Y,m,m.g),m.O)),y=m.U,I=m.g,L=m.ca;var ie="readystatechange";Array.isArray(ie)||(ie&&(DQ[0]=ie.toString()),ie=DQ);for(var fe=0;fe<ie.length;fe++){var je=EQ(I,ie[fe],L||y.handleEvent,!1,y.h||y);if(!je)break;y.g[je.key]=je}y=m.H?P(m.H):{},m.m?(m.u||(m.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,y)):(m.u="GET",m.g.ea(m.A,m.u,null,y)),Qv(),function PPe(m,y,I,L,ie,fe){m.info(function(){if(m.g)if(fe)for(var je="",Zn=fe.split("&"),qr=0;qr<Zn.length;qr++){var wn=Zn[qr].split("=");if(1<wn.length){var uo=wn[0];wn=wn[1];var ho=uo.split("_");je=2<=ho.length&&"type"==ho[1]?je+(uo+"=")+wn+"&":je+(uo+"=redacted&")}}else je=null;else je=fe;return"XMLHTTP REQ ("+L+") [attempt "+ie+"]: "+y+"\n"+I+"\n"+je})}(m.i,m.u,m.A,m.l,m.R,m.m)}function zQ(m){return!!m.g&&"GET"==m.u&&2!=m.L&&m.j.Ca}function LPe(m,y){var I=m.C,L=y.indexOf("\n",I);return-1==L?zF:(I=Number(y.substring(I,L)),isNaN(I)?UQ:(L+=1)+I>y.length?zF:(y=y.slice(L,L+I),m.C=L+I,y))}function NC(m){m.S=Date.now()+m.I,HQ(m,m.I)}function HQ(m,y){if(null!=m.B)throw Error("WatchDog timer not null");m.B=Yv(p(m.ba,m),y)}function qF(m){m.B&&(a.clearTimeout(m.B),m.B=null)}function Jv(m){0==m.j.G||m.J||pY(m.j,m)}function gh(m){qF(m);var y=m.M;y&&"function"==typeof y.ma&&y.ma(),m.M=null,RQ(m.U),m.g&&(y=m.g,m.g=null,y.abort(),y.ma())}function WF(m,y){try{var I=m.j;if(0!=I.G&&(I.g==m||GF(I.h,m)))if(!m.K&&GF(I.h,m)&&3==I.G){try{var L=I.Da.g.parse(y)}catch{L=null}if(Array.isArray(L)&&3==L.length){var ie=L;if(0==ie[0]){e:if(!I.u){if(I.g){if(!(I.g.F+3e3<m.F))break e;HC(I),jC(I)}YF(I),ko(18)}}else I.za=ie[1],0<I.za-I.T&&37500>ie[2]&&I.F&&0==I.v&&!I.C&&(I.C=Yv(p(I.Za,I),6e3));if(1>=GQ(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else bh(I,11)}else if((m.K||I.g==m)&&HC(I),!R(y))for(ie=I.Da.g.parse(y),y=0;y<ie.length;y++){let wn=ie[y];if(I.T=wn[0],wn=wn[1],2==I.G)if("c"==wn[0]){I.K=wn[1],I.ia=wn[2];const uo=wn[3];null!=uo&&(I.la=uo,I.j.info("VER="+I.la));const ho=wn[4];null!=ho&&(I.Aa=ho,I.j.info("SVER="+I.Aa));const bp=wn[5];null!=bp&&"number"==typeof bp&&0<bp&&(I.L=L=1.5*bp,I.j.info("backChannelRequestTimeoutMs_="+L)),L=I;const ua=m.g;if(ua){const WC=ua.g?ua.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(WC){var fe=L.h;fe.g||-1==WC.indexOf("spdy")&&-1==WC.indexOf("quic")&&-1==WC.indexOf("h2")||(fe.j=fe.l,fe.g=new Set,fe.h&&($F(fe,fe.h),fe.h=null))}if(L.D){const JF=ua.g?ua.g.getResponseHeader("X-HTTP-Session-Id"):null;JF&&(L.ya=JF,Ii(L.I,L.D,JF))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-m.F,I.j.info("Handshake RTT: "+I.R+"ms"));var je=m;if((L=I).qa=bY(L,L.J?L.ia:null,L.W),je.K){$Q(L.h,je);var Zn=je,qr=L.L;qr&&(Zn.I=qr),Zn.B&&(qF(Zn),NC(Zn)),L.g=je}else fY(L);0<I.i.length&&zC(I)}else"stop"!=wn[0]&&"close"!=wn[0]||bh(I,7);else 3==I.G&&("stop"==wn[0]||"close"==wn[0]?"stop"==wn[0]?bh(I,7):QF(I):"noop"!=wn[0]&&I.l&&I.l.ta(wn),I.v=0)}Qv()}catch{}}function qQ(m){this.l=m||10,m=a.PerformanceNavigationTiming?0<(m=a.performance.getEntriesByType("navigation")).length&&("hq"==m[0].nextHopProtocol||"h2"==m[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function WQ(m){return!!m.h||!!m.g&&m.g.size>=m.j}function GQ(m){return m.h?1:m.g?m.g.size:0}function GF(m,y){return m.h?m.h==y:!!m.g&&m.g.has(y)}function $F(m,y){m.g?m.g.add(y):m.h=y}function $Q(m,y){m.h&&m.h==y?m.h=null:m.g&&m.g.has(y)&&m.g.delete(y)}function KQ(m){if(null!=m.h)return m.i.concat(m.h.D);if(null!=m.g&&0!==m.g.size){let y=m.i;for(const I of m.g.values())y=y.concat(I.D);return y}return x(m.i)}function QQ(m,y){if(m.forEach&&"function"==typeof m.forEach)m.forEach(y,void 0);else if(c(m)||"string"==typeof m)Array.prototype.forEach.call(m,y,void 0);else for(var I=function UPe(m){if(m.na&&"function"==typeof m.na)return m.na();if(!m.V||"function"!=typeof m.V){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||"string"==typeof m){var y=[];m=m.length;for(var I=0;I<m;I++)y.push(I);return y}y=[],I=0;for(const L in m)y[I++]=L;return y}}}(m),L=function BPe(m){if(m.V&&"function"==typeof m.V)return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if("string"==typeof m)return m.split("");if(c(m)){for(var y=[],I=m.length,L=0;L<I;L++)y.push(m[L]);return y}for(L in y=[],I=0,m)y[I++]=m[L];return y}(m),ie=L.length,fe=0;fe<ie;fe++)y.call(void 0,L[fe],I&&I[fe],m)}wd.prototype.ca=function(m){m=m.target;const y=this.M;y&&3==rl(m)?y.j():this.Y(m)},wd.prototype.Y=function(m){try{if(m==this.g)e:{const ho=rl(this.g);var y=this.g.Ba();if(this.g.Z(),!(3>ho)&&(3!=ho||this.g&&(this.h.h||this.g.oa()||cY(this.g)))){this.J||4!=ho||7==y||Qv(),qF(this);var I=this.g.Z();this.X=I;t:if(zQ(this)){var L=cY(this.g);m="";var ie=L.length,fe=4==rl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gh(this),Jv(this);var je="";break t}this.h.i=new a.TextDecoder}for(y=0;y<ie;y++)this.h.h=!0,m+=this.h.i.decode(L[y],{stream:!(fe&&y==ie-1)});L.length=0,this.h.g+=m,this.C=0,je=this.h.g}else je=this.g.oa();if(this.o=200==I,function OPe(m,y,I,L,ie,fe,je){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+ie+"]: "+y+"\n"+I+"\n"+fe+" "+je})}(this.i,this.u,this.A,this.l,this.R,ho,I),this.o){if(this.T&&!this.K){t:{if(this.g){var Zn,qr=this.g;if((Zn=qr.g?qr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(Zn)){var wn=Zn;break t}}wn=null}if(!(I=wn)){this.o=!1,this.s=3,ko(12),gh(this),Jv(this);break e}pp(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,WF(this,I)}if(this.P){let ua;for(I=!0;!this.J&&this.C<je.length;){if(ua=LPe(this,je),ua==zF){4==ho&&(this.s=4,ko(14),I=!1),pp(this.i,this.l,null,"[Incomplete Response]");break}if(ua==UQ){this.s=4,ko(15),pp(this.i,this.l,je,"[Invalid Chunk]"),I=!1;break}pp(this.i,this.l,ua,null),WF(this,ua)}if(zQ(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ho||0!=je.length||this.h.h||(this.s=1,ko(16),I=!1),this.o=this.o&&I,I){if(0<je.length&&!this.W){this.W=!0;var uo=this.j;uo.g==this&&uo.ba&&!uo.M&&(uo.j.info("Great, no buffering proxy detected. Bytes received: "+je.length),XF(uo),uo.M=!0,ko(11))}}else pp(this.i,this.l,je,"[Invalid Chunked Response]"),gh(this),Jv(this)}else pp(this.i,this.l,je,null),WF(this,je);4==ho&&gh(this),this.o&&!this.J&&(4==ho?pY(this.j,this):(this.o=!1,NC(this)))}else(function eOe(m){const y={};m=(m.g&&2<=rl(m)&&m.g.getAllResponseHeaders()||"").split("\r\n");for(let L=0;L<m.length;L++){if(R(m[L]))continue;var I=Y(m[L]);const ie=I[0];if("string"!=typeof(I=I[1]))continue;I=I.trim();const fe=y[ie]||[];y[ie]=fe,fe.push(I)}!function U(m,y){for(const I in m)y.call(void 0,m[I],I,m)}(y,function(L){return L.join(", ")})})(this.g),400==I&&0<je.indexOf("Unknown SID")?(this.s=3,ko(12)):(this.s=0,ko(13)),gh(this),Jv(this)}}}catch{}},wd.prototype.cancel=function(){this.J=!0,gh(this)},wd.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(function NPe(m,y){m.info(function(){return"TIMEOUT: "+y})}(this.i,this.A),2!=this.L&&(Qv(),ko(17)),gh(this),this.s=2,Jv(this)):HQ(this,this.S-m)},qQ.prototype.cancel=function(){if(this.i=KQ(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const m of this.g.values())m.cancel();this.g.clear()}};var YQ=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _h(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof _h){this.h=m.h,FC(this,m.j),this.o=m.o,this.g=m.g,LC(this,m.s),this.l=m.l;var y=m.i,I=new ty;I.i=y.i,y.g&&(I.g=new Map(y.g),I.h=y.h),XQ(this,I),this.m=m.m}else m&&(y=String(m).match(YQ))?(this.h=!1,FC(this,y[1]||"",!0),this.o=Zv(y[2]||""),this.g=Zv(y[3]||"",!0),LC(this,y[4]),this.l=Zv(y[5]||"",!0),XQ(this,y[6]||"",!0),this.m=Zv(y[7]||"")):(this.h=!1,this.i=new ty(null,this.h))}function il(m){return new _h(m)}function FC(m,y,I){m.j=I?Zv(y,!0):y,m.j&&(m.j=m.j.replace(/:$/,""))}function LC(m,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);m.s=y}else m.s=null}function XQ(m,y,I){y instanceof ty?(m.i=y,function $Pe(m,y){y&&!m.j&&(Ed(m),m.i=null,m.g.forEach(function(I,L){var ie=L.toLowerCase();L!=ie&&(ZQ(this,L),tY(this,ie,I))},m)),m.j=y}(m.i,m.h)):(I||(y=ey(y,WPe)),m.i=new ty(y,m.h))}function Ii(m,y,I){m.i.set(y,I)}function VC(m){return Ii(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Zv(m,y){return m?y?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ey(m,y,I){return"string"==typeof m?(m=encodeURI(m).replace(y,zPe),I&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function zPe(m){return"%"+((m=m.charCodeAt(0))>>4&15).toString(16)+(15&m).toString(16)}_h.prototype.toString=function(){var m=[],y=this.j;y&&m.push(ey(y,JQ,!0),":");var I=this.g;return(I||"file"==y)&&(m.push("//"),(y=this.o)&&m.push(ey(y,JQ,!0),"@"),m.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(I=this.s)&&m.push(":",String(I))),(I=this.l)&&(this.g&&"/"!=I.charAt(0)&&m.push("/"),m.push(ey(I,"/"==I.charAt(0)?qPe:HPe,!0))),(I=this.i.toString())&&m.push("?",I),(I=this.m)&&m.push("#",ey(I,GPe)),m.join("")};var m,JQ=/[#\/\?@]/g,HPe=/[#\?:]/g,qPe=/[#\?]/g,WPe=/[#\?@]/g,GPe=/#/g;function ty(m,y){this.h=this.g=null,this.i=m||null,this.j=!!y}function Ed(m){m.g||(m.g=new Map,m.h=0,m.i&&function jPe(m,y){if(m){m=m.split("&");for(var I=0;I<m.length;I++){var L=m[I].indexOf("="),ie=null;if(0<=L){var fe=m[I].substring(0,L);ie=m[I].substring(L+1)}else fe=m[I];y(fe,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}(m.i,function(y,I){m.add(decodeURIComponent(y.replace(/\+/g," ")),I)}))}function ZQ(m,y){Ed(m),y=gp(m,y),m.g.has(y)&&(m.i=null,m.h-=m.g.get(y).length,m.g.delete(y))}function eY(m,y){return Ed(m),y=gp(m,y),m.g.has(y)}function tY(m,y,I){ZQ(m,y),0<I.length&&(m.i=null,m.g.set(gp(m,y),x(I)),m.h+=I.length)}function gp(m,y){return y=String(y),m.j&&(y=y.toLowerCase()),y}function Id(m,y,I,L,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),L(I)}catch{}}function YPe(){this.g=new MPe}function XPe(m,y,I){const L=I||"";try{QQ(m,function(ie,fe){let je=ie;l(ie)&&(je=LF(ie)),y.push(L+fe+"="+encodeURIComponent(je))})}catch(ie){throw y.push(L+"type="+encodeURIComponent("_badmap")),ie}}function ny(m){this.l=m.Ub||null,this.j=m.eb||!1}function BC(m,y){lo.call(this),this.D=m,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function nY(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}function iy(m){m.readyState=4,m.l=null,m.j=null,m.v=null,ry(m)}function ry(m){m.onreadystatechange&&m.onreadystatechange.call(m)}function iY(m){let y="";return ne(m,function(I,L){y+=L,y+=":",y+=I,y+="\r\n"}),y}function KF(m,y,I){e:{for(L in I){var L=!1;break e}L=!0}L||(I=iY(I),"string"==typeof m?null!=I&&encodeURIComponent(String(I)):Ii(m,y,I))}function Hi(m){lo.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=ty.prototype).add=function(m,y){Ed(this),this.i=null,m=gp(this,m);var I=this.g.get(m);return I||this.g.set(m,I=[]),I.push(y),this.h+=1,this},n.forEach=function(m,y){Ed(this),this.g.forEach(function(I,L){I.forEach(function(ie){m.call(y,ie,L,this)},this)},this)},n.na=function(){Ed(this);const m=Array.from(this.g.values()),y=Array.from(this.g.keys()),I=[];for(let L=0;L<y.length;L++){const ie=m[L];for(let fe=0;fe<ie.length;fe++)I.push(y[L])}return I},n.V=function(m){Ed(this);let y=[];if("string"==typeof m)eY(this,m)&&(y=y.concat(this.g.get(gp(this,m))));else{m=Array.from(this.g.values());for(let I=0;I<m.length;I++)y=y.concat(m[I])}return y},n.set=function(m,y){return Ed(this),this.i=null,eY(this,m=gp(this,m))&&(this.h-=this.g.get(m).length),this.g.set(m,[y]),this.h+=1,this},n.get=function(m,y){return m&&0<(m=this.V(m)).length?String(m[0]):y},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],y=Array.from(this.g.keys());for(var I=0;I<y.length;I++){var L=y[I];const fe=encodeURIComponent(String(L)),je=this.V(L);for(L=0;L<je.length;L++){var ie=fe;""!==je[L]&&(ie+="="+encodeURIComponent(String(je[L]))),m.push(ie)}}return this.i=m.join("&")},v(ny,VF),ny.prototype.g=function(){return new BC(this.l,this.j)},ny.prototype.i=(m={},function(){return m}),v(BC,lo),(n=BC.prototype).open=function(m,y){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=y,this.readyState=1,ry(this)},n.send=function(m){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(y.body=m),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,iy(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ry(this)),this.g&&(this.readyState=3,ry(this),this.g)))if("arraybuffer"===this.responseType)m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nY(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var y=m.value?m.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!m.done}))&&(this.response=this.responseText+=y)}m.done?iy(this):ry(this),3==this.readyState&&nY(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,iy(this))},n.Qa=function(m){this.g&&(this.response=m,iy(this))},n.ga=function(){this.g&&iy(this)},n.setRequestHeader=function(m,y){this.u.append(m,y)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],y=this.h.entries();for(var I=y.next();!I.done;)m.push((I=I.value)[0]+": "+I[1]),I=y.next();return m.join("\r\n")},Object.defineProperty(BC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(m){this.m=m?"include":"same-origin"}}),v(Hi,lo);var JPe=/^https?$/i,ZPe=["POST","PUT"];function rY(m,y){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=y,m.m=5,oY(m),UC(m)}function oY(m){m.A||(m.A=!0,Ao(m,"complete"),Ao(m,"error"))}function sY(m){if(m.h&&typeof s<"u"&&(!m.v[1]||4!=rl(m)||2!=m.Z()))if(m.u&&4==rl(m))kQ(m.Ea,0,m);else if(Ao(m,"readystatechange"),4==rl(m)){m.h=!1;try{const je=m.Z();e:switch(je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var I;if(!(I=y)){var L;if(L=0===je){var ie=String(m.D).match(YQ)[1]||null;!ie&&a.self&&a.self.location&&(ie=a.self.location.protocol.slice(0,-1)),L=!JPe.test(ie?ie.toLowerCase():"")}I=L}if(I)Ao(m,"complete"),Ao(m,"success");else{m.m=6;try{var fe=2<rl(m)?m.g.statusText:""}catch{fe=""}m.l=fe+" ["+m.Z()+"]",oY(m)}}finally{UC(m)}}}function UC(m,y){if(m.g){aY(m);const I=m.g,L=m.v[0]?()=>{}:null;m.g=null,m.v=null,y||Ao(m,"ready");try{I.onreadystatechange=L}catch{}}}function aY(m){m.I&&(a.clearTimeout(m.I),m.I=null)}function rl(m){return m.g?m.g.readyState:0}function cY(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function oy(m,y,I){return I&&I.internalChannelParams&&I.internalChannelParams[m]||y}function lY(m){this.Aa=0,this.i=[],this.j=new Xv,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oy("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oy("baseRetryDelayMs",5e3,m),this.cb=oy("retryDelaySeedMs",1e4,m),this.Wa=oy("forwardChannelMaxRetries",2,m),this.wa=oy("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new qQ(m&&m.concurrentRequestLimit),this.Da=new YPe,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function QF(m){if(dY(m),3==m.G){var y=m.U++,I=il(m.I);if(Ii(I,"SID",m.K),Ii(I,"RID",y),Ii(I,"TYPE","terminate"),sy(m,I),(y=new wd(m,m.j,y)).L=2,y.v=VC(il(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!I&&a.Image&&((new Image).src=y.v,I=!0),I||(y.g=vY(y.j,null),y.g.ea(y.v)),y.F=Date.now(),NC(y)}_Y(m)}function jC(m){m.g&&(XF(m),m.g.cancel(),m.g=null)}function dY(m){jC(m),m.u&&(a.clearTimeout(m.u),m.u=null),HC(m),m.h.cancel(),m.s&&("number"==typeof m.s&&a.clearTimeout(m.s),m.s=null)}function zC(m){if(!WQ(m.h)&&!m.s){m.s=!0;var y=m.Ga;Ue||Un(),Qe||(Ue(),Qe=!0),dt.add(y,m),m.B=0}}function uY(m,y){var I;I=y?y.l:m.U++;const L=il(m.I);Ii(L,"SID",m.K),Ii(L,"RID",I),Ii(L,"AID",m.T),sy(m,L),m.m&&m.o&&KF(L,m.m,m.o),I=new wd(m,m.j,I,m.B+1),null===m.m&&(I.H=m.o),y&&(m.i=y.D.concat(m.i)),y=hY(m,I,1e3),I.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),$F(m.h,I),HF(I,L,y)}function sy(m,y){m.H&&ne(m.H,function(I,L){Ii(y,L,I)}),m.l&&QQ({},function(I,L){Ii(y,L,I)})}function hY(m,y,I){I=Math.min(m.i.length,I);var L=m.l?p(m.l.Na,m.l,m):null;e:{var ie=m.i;let fe=-1;for(;;){const je=["count="+I];-1==fe?0<I?(fe=ie[0].g,je.push("ofs="+fe)):fe=0:je.push("ofs="+fe);let Zn=!0;for(let qr=0;qr<I;qr++){let wn=ie[qr].g;const uo=ie[qr].map;if(wn-=fe,0>wn)fe=Math.max(0,ie[qr].g-100),Zn=!1;else try{XPe(uo,je,"req"+wn+"_")}catch{L&&L(uo)}}if(Zn){L=je.join("&");break e}}}return m=m.i.splice(0,I),y.D=m,L}function fY(m){if(!m.g&&!m.u){m.Y=1;var y=m.Fa;Ue||Un(),Qe||(Ue(),Qe=!0),dt.add(y,m),m.v=0}}function YF(m){return!(m.g||m.u||3<=m.v||(m.Y++,m.u=Yv(p(m.Fa,m),gY(m,m.v)),m.v++,0))}function XF(m){null!=m.A&&(a.clearTimeout(m.A),m.A=null)}function mY(m){m.g=new wd(m,m.j,"rpc",m.Y),null===m.m&&(m.g.H=m.o),m.g.O=0;var y=il(m.qa);Ii(y,"RID","rpc"),Ii(y,"SID",m.K),Ii(y,"AID",m.T),Ii(y,"CI",m.F?"0":"1"),!m.F&&m.ja&&Ii(y,"TO",m.ja),Ii(y,"TYPE","xmlhttp"),sy(m,y),m.m&&m.o&&KF(y,m.m,m.o),m.L&&(m.g.I=m.L);var I=m.g;m=m.ia,I.L=1,I.v=VC(il(y)),I.m=null,I.P=!0,jQ(I,m)}function HC(m){null!=m.C&&(a.clearTimeout(m.C),m.C=null)}function pY(m,y){var I=null;if(m.g==y){HC(m),XF(m),m.g=null;var L=2}else{if(!GF(m.h,y))return;I=y.D,$Q(m.h,y),L=1}if(0!=m.G)if(y.o)if(1==L){I=y.m?y.m.length:0,y=Date.now()-y.F;var ie=m.B;Ao(L=MC(),new LQ(L,I)),zC(m)}else fY(m);else if(3==(ie=y.s)||0==ie&&0<y.X||!(1==L&&function tOe(m,y){return!(GQ(m.h)>=m.h.j-(m.s?1:0)||(m.s?(m.i=y.D.concat(m.i),0):1==m.G||2==m.G||m.B>=(m.Va?0:m.Wa)||(m.s=Yv(p(m.Ga,m,y),gY(m,m.B)),m.B++,0)))}(m,y)||2==L&&YF(m)))switch(I&&0<I.length&&(y=m.h,y.i=y.i.concat(I)),ie){case 1:bh(m,5);break;case 4:bh(m,10);break;case 3:bh(m,6);break;default:bh(m,2)}}function gY(m,y){let I=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(I*=2),I*y}function bh(m,y){if(m.j.info("Error code "+y),2==y){var I=p(m.fb,m),L=m.Xa;const ie=!L;L=new _h(L||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||FC(L,"https"),VC(L),ie?function KPe(m,y){const I=new Xv;if(a.Image){const L=new Image;L.onload=b(Id,I,"TestLoadImage: loaded",!0,y,L),L.onerror=b(Id,I,"TestLoadImage: error",!1,y,L),L.onabort=b(Id,I,"TestLoadImage: abort",!1,y,L),L.ontimeout=b(Id,I,"TestLoadImage: timeout",!1,y,L),a.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else y(!1)}(L.toString(),I):function QPe(m,y){new Xv;const L=new AbortController,ie=setTimeout(()=>{L.abort(),Id(0,0,!1,y)},1e4);fetch(m,{signal:L.signal}).then(fe=>{clearTimeout(ie),Id(0,0,!!fe.ok,y)}).catch(()=>{clearTimeout(ie),Id(0,0,!1,y)})}(L.toString(),I)}else ko(2);m.G=0,m.l&&m.l.sa(y),_Y(m),dY(m)}function _Y(m){if(m.G=0,m.ka=[],m.l){const y=KQ(m.h);(0!=y.length||0!=m.i.length)&&(w(m.ka,y),w(m.ka,m.i),m.h.i.length=0,x(m.i),m.i.length=0),m.l.ra()}}function bY(m,y,I){var L=I instanceof _h?il(I):new _h(I);if(""!=L.g)y&&(L.g=y+"."+L.g),LC(L,L.s);else{var ie=a.location;L=ie.protocol,y=y?y+"."+ie.hostname:ie.hostname,ie=+ie.port;var fe=new _h(null);L&&FC(fe,L),y&&(fe.g=y),ie&&LC(fe,ie),I&&(fe.l=I),L=fe}return y=m.ya,(I=m.D)&&y&&Ii(L,I,y),Ii(L,"VER",m.la),sy(m,L),L}function vY(m,y,I){if(y&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return(y=new Hi(m.Ca&&!m.pa?new ny({eb:I}):m.pa)).Ha(m.J),y}function yY(){}function qC(){}function gs(m,y){lo.call(this),this.g=new lY(y),this.l=m,this.h=y&&y.messageUrlParams||null,m=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(m?m["X-WebChannel-Content-Type"]=y.messageContentType:m={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(m?m["X-WebChannel-Client-Profile"]=y.va:m={"X-WebChannel-Client-Profile":y.va}),this.g.S=m,(m=y&&y.Sb)&&!R(m)&&(this.g.m=m),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.D=y,null!==(m=this.h)&&y in m&&y in(m=this.h)&&delete m[y]),this.j=new _p(this)}function xY(m){BF.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var y=m.__sm__;if(y){e:{for(const I in y){m=I;break e}m=void 0}(this.i=m)&&(m=this.i,y=null!==y&&m in y?y[m]:void 0),this.data=y}else this.data=m}function wY(){UF.call(this),this.status=1}function _p(m){this.g=m}(n=Hi.prototype).Ha=function(m){this.J=m},n.ea=function(m,y,I,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);y=y?y.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jF.g(),this.v=function MQ(m){return m.h||(m.h=m.i())}(this.o?this.o:jF),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(y,String(m),!0),this.B=!1}catch(fe){return void rY(this,fe)}if(m=I||"",I=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var ie in L)I.set(ie,L[ie]);else{if("function"!=typeof L.keys||"function"!=typeof L.get)throw Error("Unknown input type for opt_headers: "+String(L));for(const fe of L.keys())I.set(fe,L.get(fe))}L=Array.from(I.keys()).find(fe=>"content-type"==fe.toLowerCase()),ie=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ZPe,y,void 0))||L||ie||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,je]of I)this.g.setRequestHeader(fe,je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aY(this),this.u=!0,this.g.send(m),this.u=!1}catch(fe){rY(this,fe)}},n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ao(this,"complete"),Ao(this,"abort"),UC(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),UC(this,!0)),Hi.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?sY(this):this.bb())},n.bb=function(){sY(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<rl(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var y=this.g.responseText;return m&&0==y.indexOf(m)&&(y=y.substring(m.length)),RPe(y)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=lY.prototype).la=8,n.G=1,n.connect=function(m,y,I,L){ko(0),this.W=m,this.H=y||{},I&&void 0!==L&&(this.H.OSID=I,this.H.OAID=L),this.F=this.X,this.I=bY(this,null,this.W),zC(this)},n.Ga=function(m){if(this.s)if(this.s=null,1==this.G){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const ie=new wd(this,this.j,m);let fe=this.o;if(this.S&&(fe?(fe=P(fe),G(fe,this.S)):fe=this.S),null!==this.m||this.O||(ie.H=fe,fe=null),this.P)e:{for(var y=0,I=0;I<this.i.length;I++){var L=this.i[I];if(void 0===(L="__data__"in L.map&&"string"==typeof(L=L.map.__data__)?L.length:void 0))break;if(4096<(y+=L)){y=I;break e}if(4096===y||I===this.i.length-1){y=I+1;break e}}y=1e3}else y=1e3;y=hY(this,ie,y),Ii(I=il(this.I),"RID",m),Ii(I,"CVER",22),this.D&&Ii(I,"X-HTTP-Session-Id",this.D),sy(this,I),fe&&(this.O?y="headers="+encodeURIComponent(String(iY(fe)))+"&"+y:this.m&&KF(I,this.m,fe)),$F(this.h,ie),this.Ua&&Ii(I,"TYPE","init"),this.P?(Ii(I,"$req",y),Ii(I,"SID","null"),ie.T=!0,HF(ie,I,null)):HF(ie,I,y),this.G=2}}else 3==this.G&&(m?uY(this,m):0==this.i.length||WQ(this.h)||uY(this))},n.Fa=function(){if(this.u=null,mY(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Yv(p(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ko(10),jC(this),mY(this))},n.Za=function(){null!=this.C&&(this.C=null,jC(this),YF(this),ko(19))},n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ko(2)):(this.j.info("Failed to ping google.com"),ko(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=yY.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},qC.prototype.g=function(m,y){return new gs(m,y)},v(gs,lo),gs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gs.prototype.close=function(){QF(this.g)},gs.prototype.o=function(m){var y=this.g;if("string"==typeof m){var I={};I.__data__=m,m=I}else this.u&&((I={}).__data__=LF(m),m=I);y.i.push(new class{constructor(m,y){this.g=m,this.map=y}}(y.Ya++,m)),3==y.G&&zC(y)},gs.prototype.N=function(){this.g.l=null,delete this.j,QF(this.g),delete this.g,gs.aa.N.call(this)},v(xY,BF),v(wY,UF),v(_p,yY),_p.prototype.ua=function(){Ao(this.g,"a")},_p.prototype.ta=function(m){Ao(this.g,new xY(m))},_p.prototype.sa=function(m){Ao(this.g,new wY)},_p.prototype.ra=function(){Ao(this.g,"b")},qC.prototype.createWebChannel=qC.prototype.g,gs.prototype.send=gs.prototype.o,gs.prototype.open=gs.prototype.m,gs.prototype.close=gs.prototype.close,u5=wc.createWebChannelTransport=function(){return new qC},d5=wc.getStatEventTarget=function(){return MC()},l5=wc.Event=ph,WS=wc.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},PC.NO_ERROR=0,PC.TIMEOUT=8,PC.HTTP_ERROR=6,_w=wc.ErrorCode=PC,VQ.COMPLETE="complete",c5=wc.EventType=VQ,PQ.EventType=Kv,Kv.OPEN="a",Kv.CLOSE="b",Kv.ERROR="c",Kv.MESSAGE="d",lo.prototype.listen=lo.prototype.K,M_=wc.WebChannel=PQ,wc.FetchXmlHttpFactory=ny,Hi.prototype.listenOnce=Hi.prototype.L,Hi.prototype.getLastError=Hi.prototype.Ka,Hi.prototype.getLastErrorCode=Hi.prototype.Ba,Hi.prototype.getStatus=Hi.prototype.Z,Hi.prototype.getResponseJson=Hi.prototype.Oa,Hi.prototype.getResponseText=Hi.prototype.oa,Hi.prototype.send=Hi.prototype.ea,Hi.prototype.setWithCredentials=Hi.prototype.Ha,a5=wc.XhrIo=Hi}).apply(typeof gw<"u"?gw:typeof self<"u"?self:typeof window<"u"?window:{});const h5="@firebase/firestore";class kr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");let Jf="10.14.0";const Ml=new Na.Vy("@firebase/firestore");function Zf(){return Ml.logLevel}function Ce(n,...t){if(Ml.logLevel<=Na.$b.DEBUG){const e=t.map(GS);Ml.debug(`Firestore (${Jf}): ${n}`,...e)}}function Ji(n,...t){if(Ml.logLevel<=Na.$b.ERROR){const e=t.map(GS);Ml.error(`Firestore (${Jf}): ${n}`,...e)}}function cs(n,...t){if(Ml.logLevel<=Na.$b.WARN){const e=t.map(GS);Ml.warn(`Firestore (${Jf}): ${n}`,...e)}}function GS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function $e(n="Unexpected state"){const t=`FIRESTORE (${Jf}) INTERNAL ASSERTION FAILED: `+n;throw Ji(t),new Error(t)}function Je(n,t){n||$e()}function Ve(n,t){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends yn.g{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Sr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class f5{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class nde{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(kr.UNAUTHENTICATED))}shutdown(){}}class ide{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class rde{constructor(t){this.t=t,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;Je(void 0===this.o);let r=this.i;const o=l=>this.i!==r?(r=this.i,e(l)):Promise.resolve();let s=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Sr,t.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;t.enqueueRetryable((0,$.A)(function*(){yield l.promise,yield o(i.currentUser)}))},c=l=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Sr)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Je("string"==typeof i.accessToken),new f5(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Je(null===t||"string"==typeof t),new kr(t)}}class ode{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sde{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new ode(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class m5{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ade{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){Je(void 0===this.o);const i=o=>{null!=o.error&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ce("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Je("string"==typeof e.token),this.R=e.token,new m5(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cde(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class p5{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=cde(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function At(n,t){return n<t?-1:n>t?1:0}function em(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function g5(n){return n+"\0"}class Ti{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ee(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ee(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ee(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ee(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ti.fromMillis(Date.now())}static fromDate(t){return Ti.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ti(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?At(this.nanoseconds,t.nanoseconds):At(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class nt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new nt(t)}static min(){return new nt(new Ti(0,0))}static max(){return new nt(new Ti(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class P_{constructor(t,e,i){void 0===e?e=0:e>t.length&&$e(),void 0===i?i=t.length-e:i>t.length-e&&$e(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===P_.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof P_?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),s=e.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class sn extends P_{construct(t,e,i){return new sn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ee(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new sn(e)}static emptyPath(){return new sn([])}}const lde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gi extends P_{construct(t,e,i){return new gi(t,e,i)}static isValidIdentifier(t){return lde.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Ee(de.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let s=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new Ee(de.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Ee(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new Ee(de.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gi(e)}static emptyPath(){return new gi([])}}class ze{constructor(t){this.path=t}static fromPath(t){return new ze(sn.fromString(t))}static fromName(t){return new ze(sn.fromString(t).popFirst(5))}static empty(){return new ze(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===sn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return sn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ze(new sn(t.slice()))}}class tm{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function $S(n){return n.fields.find(t=>2===t.kind)}function bu(n){return n.fields.filter(t=>2!==t.kind)}tm.UNKNOWN_ID=-1;class vu{constructor(t,e){this.fieldPath=t,this.kind=e}}class nm{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new nm(0,ls.min())}}function _5(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=nt.fromTimestamp(1e9===i?new Ti(e+1,0):new Ti(e,i));return new ls(r,ze.empty(),t)}function b5(n){return new ls(n.readTime,n.key,-1)}class ls{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ls(nt.min(),ze.empty(),-1)}static max(){return new ls(nt.max(),ze.empty(),-1)}}function KS(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=ze.comparator(n.documentKey,t.documentKey),0!==e?e:At(n.largestBatchId,t.largestBatchId))}const v5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Pl(n){return QS.apply(this,arguments)}function QS(){return(QS=(0,$.A)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==v5)throw n;Ce("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class re{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&$e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new re((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof re?e:re.resolve(e)}catch(e){return re.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):re.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):re.reject(e)}static resolve(t){return new re((e,i)=>{e(t)})}static reject(t){return new re((e,i)=>{i(t)})}static waitFor(t){return new re((e,i)=>{let r=0,o=0,s=!1;t.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&e()},c=>i(c))}),s=!0,o===r&&e()})}static or(t){let e=re.resolve(!1);for(const i of t)e=e.next(r=>r?re.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new re((i,r)=>{const o=t.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;e(t[l]).next(d=>{s[l]=d,++a,a===o&&i(s)},d=>r(d))}})}static doWhile(t,e){return new re((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class bw{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new Sr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new O_(t,e.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=YS(i.target.error);this.V.reject(new O_(t,r))}}static open(t,e,i,r){try{return new bw(e,t.transaction(r,i))}catch(o){throw new O_(e,o)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Ce("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new fde(e)}}class Fa{constructor(t,e,i){this.name=t,this.version=e,this.p=i,12.2===Fa.S((0,yn.ZQ)())&&Ji("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ce("SimpleDb","Removing database:",t),yu(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,yn.zW)())return!1;if(Fa.v())return!0;const t=(0,yn.ZQ)(),e=Fa.S(t),i=0<e&&e<10,r=x5(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static v(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.C)}static F(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(t){var e=this;return(0,$.A)(function*(){return e.db||(Ce("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new O_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new Ee(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new Ee(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new O_(t,a))},o.onupgradeneeded=s=>{Ce("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',s.oldVersion),e.p.O(s.target.result,o.transaction,s.oldVersion,e.version).next(()=>{Ce("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.N&&(e.db.onversionchange=i=>e.N(i)),e.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,$.A)(function*(){const s="readonly"===e;let a=0;for(;;){++a;try{o.db=yield o.M(t);const c=bw.open(o.db,t,s?"readonly":"readwrite",i),l=r(c).next(d=>(c.g(),d)).catch(d=>(c.abort(d),re.reject(d))).toPromise();return l.catch(()=>{}),yield c.m,l}catch(c){const l=c,d="FirebaseError"!==l.name&&a<3;if(Ce("SimpleDb","Transaction failed with error:",l.message,"Retrying:",d),o.close(),!d)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function x5(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class hde{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return yu(this.B.delete())}}class O_ extends Ee{constructor(t,e){super(de.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Ol(n){return"IndexedDbTransactionError"===n.name}class fde{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ce("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ce("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),yu(i)}add(t){return Ce("SimpleDb","ADD",this.store.name,t,t),yu(this.store.add(t))}get(t){return yu(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ce("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ce("SimpleDb","DELETE",this.store.name,t),yu(this.store.delete(t))}count(){return Ce("SimpleDb","COUNT",this.store.name),yu(this.store.count())}U(t,e){const i=this.options(t,e),r=i.index?this.store.index(i.index):this.store;if("function"==typeof r.getAll){const o=r.getAll(i.range);return new re((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{const o=this.cursor(i),s=[];return this.W(o,(a,c)=>{s.push(c)}).next(()=>s)}}G(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new re((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}j(t,e){Ce("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.H=!1;const r=this.cursor(i);return this.W(r,(o,s,a)=>a.delete())}J(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Y(t){const e=this.cursor({});return new re((i,r)=>{e.onerror=o=>{const s=YS(o.target.error);r(s)},e.onsuccess=o=>{const s=o.target.result;s?t(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}W(t,e){const i=[];return new re((r,o)=>{t.onerror=s=>{o(s.target.error)},t.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new hde(a),l=e(a.primaryKey,a.value,c);if(l instanceof re){const d=l.catch(u=>(c.done(),re.reject(u)));i.push(d)}c.isDone?r():null===c.K?a.continue():a.continue(c.K)}}).next(()=>re.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function yu(n){return new re((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=YS(i.target.error);e(r)}})}let w5=!1;function YS(n){const t=Fa.S((0,yn.ZQ)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return w5||(w5=!0,setTimeout(()=>{throw i},0)),i}}return n}class mde{constructor(t,e){this.asyncQueue=t,this.Z=e,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var e=this;Ce("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,$.A)(function*(){e.task=null;try{Ce("IndexBackfiller",`Documents written: ${yield e.Z.ee()}`)}catch(i){Ol(i)?Ce("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield Pl(i)}yield e.X(6e4)}))}}class pde{constructor(t,e){this.localStore=t,this.persistence=e}ee(t=50){var e=this;return(0,$.A)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.te(i,t))})()}te(t,e){const i=new Set;let r=e,o=!0;return re.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(s=>{if(null!==s&&!i.has(s))return Ce("IndexBackfiller",`Processing collection: ${s}`),this.ne(t,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>e-r)}ne(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(t,s).next(()=>this.re(r,o)).next(a=>(Ce("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,e,a))).next(()=>s.size)}))}re(t,e){let i=t;return e.changes.forEach((r,o)=>{const s=b5(o);KS(s,i)>0&&(i=s)}),new ls(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let ds=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}return n.oe=-1,n})();function N_(n){return null==n}function F_(n){return 0===n&&1/n==-1/0}function E5(n){return"number"==typeof n&&Number.isInteger(n)&&!F_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function no(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=I5(t)),t=gde(n.get(e),t);return I5(t)}function gde(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function I5(n){return n+"\x01\x01"}function La(n){const t=n.length;if(Je(t>=2),2===t)return Je("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),sn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const s=n.indexOf("\x01",o);switch((s<0||s>e)&&$e(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),i.push(c);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:$e()}o=s+2}return new sn(i)}const C5=["userId","batchId"];function vw(n,t){return[n,no(t)]}function T5(n,t,e){return[n,no(t),e]}const _de={},bde=["prefixPath","collectionGroup","readTime","documentId"],vde=["prefixPath","collectionGroup","documentId"],yde=["collectionGroup","readTime","prefixPath","documentId"],xde=["canonicalId","targetId"],wde=["targetId","path"],Ede=["path","targetId"],Ide=["collectionId","parent"],Cde=["indexId","uid"],Tde=["uid","sequenceNumber"],Ade=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kde=["indexId","uid","orderedDocumentKey"],Sde=["userId","collectionPath","documentId"],Dde=["userId","collectionPath","largestBatchId"],Rde=["userId","collectionGroup","largestBatchId"],A5=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Mde=[...A5,"documentOverlays"],k5=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],S5=k5,XS=[...S5,"indexConfiguration","indexState","indexEntries"],Pde=XS,Ode=[...XS,"globals"];class JS extends y5{constructor(t,e){super(),this._e=t,this.currentSequenceNumber=e}}function _r(n,t){const e=Ve(n);return Fa.F(e._e,t)}function D5(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Nl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function M5(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ai{constructor(t,e){this.comparator=t,this.root=e||Br.EMPTY}insert(t,e){return new ai(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(t){return new ai(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Br.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new yw(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new yw(this.root,t,this.comparator,!1)}getReverseIterator(){return new yw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new yw(this.root,t,this.comparator,!0)}}class yw{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Br{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Br.RED,this.left=r??Br.EMPTY,this.right=o??Br.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Br(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Br.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Br.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Br.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $e();const t=this.left.check();if(t!==this.right.check())throw $e();return t+(this.isRed()?0:1)}}Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1,Br.EMPTY=new class{constructor(){this.size=0}get key(){throw $e()}get value(){throw $e()}get color(){throw $e()}get left(){throw $e()}get right(){throw $e()}copy(t,e,i,r,o){return this}insert(t,e,i){return new Br(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bn{constructor(t){this.comparator=t,this.data=new ai(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new P5(this.data.getIterator())}getIteratorFrom(t){return new P5(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Bn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Bn(this.comparator);return e.data=t,e}}class P5{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function im(n){return n.hasNext()?n.getNext():void 0}class Bo{constructor(t){this.fields=t,t.sort(gi.comparator)}static empty(){return new Bo([])}unionWith(t){let e=new Bn(gi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Bo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return em(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class O5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ui{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new O5("Invalid base64 string: "+o):o}}(t);return new Ui(e)}static fromUint8Array(t){const e=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new Ui(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return At(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const Fde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ec(n){if(Je(!!n),"string"==typeof n){let t=0;const e=Fde.exec(n);if(Je(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ai(n.seconds),nanos:Ai(n.nanos)}}function Ai(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ic(n){return"string"==typeof n?Ui.fromBase64String(n):Ui.fromUint8Array(n)}function xw(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function ww(n){const t=n.mapValue.fields.__previous_value__;return xw(t)?ww(t):t}function L_(n){const t=Ec(n.mapValue.fields.__local_write_time__.timestampValue);return new Ti(t.seconds,t.nanos)}class Lde{constructor(t,e,i,r,o,s,a,c,l){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Fl{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Fl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Fl&&t.projectId===this.projectId&&t.database===this.database}}const Ll={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ew={nullValue:"NULL_VALUE"};function Vl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xw(n)?4:B5(n)?9007199254740991:Tw(n)?10:11:$e()}function Va(n,t){if(n===t)return!0;const e=Vl(n);if(e!==Vl(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return L_(n).isEqual(L_(t));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=Ec(r.timestampValue),a=Ec(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return o=t,Ic(n.bytesValue).isEqual(Ic(o.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return Ai(r.geoPointValue.latitude)===Ai(o.geoPointValue.latitude)&&Ai(r.geoPointValue.longitude)===Ai(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ai(r.integerValue)===Ai(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Ai(r.doubleValue),a=Ai(o.doubleValue);return s===a?F_(s)===F_(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return em(n.arrayValue.values||[],t.arrayValue.values||[],Va);case 10:case 11:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(D5(s)!==D5(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!Va(s[c],a[c])))return!1;return!0}(n,t);default:return $e()}var o}function V_(n,t){return void 0!==(n.values||[]).find(e=>Va(e,t))}function Bl(n,t){if(n===t)return 0;const e=Vl(n),i=Vl(t);if(e!==i)return At(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return At(n.booleanValue,t.booleanValue);case 2:return function(o,s){const a=Ai(o.integerValue||o.doubleValue),c=Ai(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,t);case 3:return N5(n.timestampValue,t.timestampValue);case 4:return N5(L_(n),L_(t));case 5:return At(n.stringValue,t.stringValue);case 6:return function(o,s){const a=Ic(o),c=Ic(s);return a.compareTo(c)}(n.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){const d=At(a[l],c[l]);if(0!==d)return d}return At(a.length,c.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,s){const a=At(Ai(o.latitude),Ai(s.latitude));return 0!==a?a:At(Ai(o.longitude),Ai(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return F5(n.arrayValue,t.arrayValue);case 10:return function(o,s){var a,c,l,d;const b=null===(a=(o.fields||{}).value)||void 0===a?void 0:a.arrayValue,v=null===(c=(s.fields||{}).value)||void 0===c?void 0:c.arrayValue,x=At((null===(l=b?.values)||void 0===l?void 0:l.length)||0,(null===(d=v?.values)||void 0===d?void 0:d.length)||0);return 0!==x?x:F5(b,v)}(n.mapValue,t.mapValue);case 11:return function(o,s){if(o===Ll.mapValue&&s===Ll.mapValue)return 0;if(o===Ll.mapValue)return 1;if(s===Ll.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),l=s.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let u=0;u<c.length&&u<d.length;++u){const p=At(c[u],d[u]);if(0!==p)return p;const b=Bl(a[c[u]],l[d[u]]);if(0!==b)return b}return At(c.length,d.length)}(n.mapValue,t.mapValue);default:throw $e()}}function N5(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return At(n,t);const e=Ec(n),i=Ec(t),r=At(e.seconds,i.seconds);return 0!==r?r:At(e.nanos,i.nanos)}function F5(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Bl(e[r],i[r]);if(o)return o}return At(e.length,i.length)}function rm(n){return ZS(n)}function ZS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Ec(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ic(n.bytesValue).toBase64():"referenceValue"in n?ze.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=ZS(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${ZS(e.fields[s])}`;return r+"}"}(n.mapValue):$e()}function xu(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function eD(n){return!!n&&"integerValue"in n}function B_(n){return!!n&&"arrayValue"in n}function L5(n){return!!n&&"nullValue"in n}function V5(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Cw(n){return!!n&&"mapValue"in n}function Tw(n){var t,e;return"__vector__"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function U_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Nl(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=U_(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=U_(n.arrayValue.values[e]);return t}return Object.assign({},n)}function B5(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}const U5={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Vde(n){return"nullValue"in n?Ew:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?xu(Fl.empty(),ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Tw(n)?U5:{mapValue:{}}:$e()}function Bde(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?xu(Fl.empty(),ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?U5:"mapValue"in n?Tw(n)?{mapValue:{}}:Ll:$e()}function j5(n,t){const e=Bl(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function z5(n,t){const e=Bl(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Ur{constructor(t){this.value=t}static empty(){return new Ur({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Cw(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=U_(e)}setAll(t){let e=gi.emptyPath(),i={},r=[];t.forEach((s,a)=>{if(!e.isImmediateParentOf(a)){const c=this.getFieldsMap(e);this.applyChanges(c,i,r),i={},r=[],e=a.popLast()}s?i[a.lastSegment()]=U_(s):r.push(a.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Cw(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Va(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Cw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Nl(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Ur(U_(this.value))}}function H5(n){const t=[];return Nl(n.fields,(e,i)=>{const r=new gi([e]);if(Cw(i)){const o=H5(i.mapValue).fields;if(0===o.length)t.push(r);else for(const s of o)t.push(r.child(s))}else t.push(r)}),new Bo(t)}class _i{constructor(t,e,i,r,o,s,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new _i(t,0,nt.min(),nt.min(),nt.min(),Ur.empty(),0)}static newFoundDocument(t,e,i,r){return new _i(t,1,e,nt.min(),i,r,0)}static newNoDocument(t,e){return new _i(t,2,e,nt.min(),nt.min(),Ur.empty(),0)}static newUnknownDocument(t,e){return new _i(t,3,e,nt.min(),nt.min(),Ur.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(nt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ur.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof _i&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new _i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ul{constructor(t,e){this.position=t,this.inclusive=e}}function q5(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],s=n.position[r];if(i=o.field.isKeyField()?ze.comparator(ze.fromName(s.referenceValue),e.key):Bl(s,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function W5(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Va(n.position[e],t.position[e]))return!1;return!0}class j_{constructor(t,e="asc"){this.field=t,this.dir=e}}function Ude(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class G5{}class an extends G5{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new jde(t,e,i):"array-contains"===e?new qde(t,i):"in"===e?new J5(t,i):"not-in"===e?new Wde(t,i):"array-contains-any"===e?new Gde(t,i):new an(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new zde(t,i):new Hde(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Bl(e,this.value)):null!==e&&Vl(this.value)===Vl(e)&&this.matchesComparison(Bl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return $e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends G5{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Mn(t,e)}matches(t){return om(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function om(n){return"and"===n.op}function tD(n){return"or"===n.op}function nD(n){return $5(n)&&om(n)}function $5(n){for(const t of n.filters)if(t instanceof Mn)return!1;return!0}function iD(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+rm(n.value);if(nD(n))return n.filters.map(t=>iD(t)).join(",");{const t=n.filters.map(e=>iD(e)).join(",");return`${n.op}(${t})`}}function K5(n,t){return n instanceof an?(i=n,(r=t)instanceof an&&i.op===r.op&&i.field.isEqual(r.field)&&Va(i.value,r.value)):n instanceof Mn?function(i,r){return r instanceof Mn&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&K5(s,r.filters[a]),!0)}(n,t):void $e();var i,r}function Q5(n,t){const e=n.filters.concat(t);return Mn.create(e,n.op)}function Y5(n){return n instanceof an?`${(e=n).field.canonicalString()} ${e.op} ${rm(e.value)}`:n instanceof Mn?function(e){return e.op.toString()+" {"+e.getFilters().map(Y5).join(" ,")+"}"}(n):"Filter";var e}class jde extends an{constructor(t,e,i){super(t,e,i),this.key=ze.fromName(i.referenceValue)}matches(t){const e=ze.comparator(t.key,this.key);return this.matchesComparison(e)}}class zde extends an{constructor(t,e){super(t,"in",e),this.keys=X5(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Hde extends an{constructor(t,e){super(t,"not-in",e),this.keys=X5(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function X5(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>ze.fromName(i.referenceValue))}class qde extends an{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return B_(e)&&V_(e.arrayValue,this.value)}}class J5 extends an{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&V_(this.value.arrayValue,e)}}class Wde extends an{constructor(t,e){super(t,"not-in",e)}matches(t){if(V_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!V_(this.value.arrayValue,e)}}class Gde extends an{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!B_(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>V_(this.value.arrayValue,i))}}class $de{constructor(t,e=null,i=[],r=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function rD(n,t=null,e=[],i=[],r=null,o=null,s=null){return new $de(n,t,e,i,r,o,s)}function wu(n){const t=Ve(n);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>iD(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),N_(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>rm(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>rm(i)).join(",")),t.ue=e}return t.ue}function z_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!Ude(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!K5(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!W5(n.startAt,t.startAt)&&W5(n.endAt,t.endAt)}function Aw(n){return ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function kw(n,t){return n.filters.filter(e=>e instanceof an&&e.field.isEqual(t))}function Z5(n,t,e){let i=Ew,r=!0;for(const o of kw(n,t)){let s=Ew,a=!0;switch(o.op){case"<":case"<=":s=Vde(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Ew}j5({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];j5({value:i,inclusive:r},{value:s,inclusive:e.inclusive})<0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}function ez(n,t,e){let i=Ll,r=!0;for(const o of kw(n,t)){let s=Ll,a=!0;switch(o.op){case">=":case">":s=Bde(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Ll}z5({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];z5({value:i,inclusive:r},{value:s,inclusive:e.inclusive})>0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}class Cc{constructor(t,e=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null}}function tz(n,t,e,i,r,o,s,a){return new Cc(n,t,e,i,r,o,s,a)}function sm(n){return new Cc(n)}function nz(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function oD(n){return null!==n.collectionGroup}function am(n){const t=Ve(n);if(null===t.ce){t.ce=[];const e=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Bn(gi.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.ce.push(new j_(o,i))}),e.has(gi.keyField().canonicalString())||t.ce.push(new j_(gi.keyField(),i))}return t.ce}function io(n){const t=Ve(n);return t.le||(t.le=function rz(n,t){if("F"===n.limitType)return rD(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new j_(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new Ul(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ul(n.startAt.position,n.startAt.inclusive):null;return rD(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,am(n))),t.le}function sD(n,t){const e=n.filters.concat([t]);return new Cc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Sw(n,t,e){return new Cc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function H_(n,t){return z_(io(n),io(t))&&n.limitType===t.limitType}function oz(n){return`${wu(io(n))}|lt:${n.limitType}`}function cm(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>Y5(r)).join(", ")}]`),N_(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>rm(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>rm(r)).join(",")),`Target(${i})`}(io(n))}; limitType=${n.limitType})`}function q_(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ze.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of am(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(s,a,c){const l=q5(s,a,c);return s.inclusive?l<=0:l<0}(i.startAt,am(i),r)||i.endAt&&!function(s,a,c){const l=q5(s,a,c);return s.inclusive?l>=0:l>0}(i.endAt,am(i),r)));var i,r}function sz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function az(n){return(t,e)=>{let i=!1;for(const r of am(n)){const o=Kde(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function Kde(n,t,e){const i=n.field.isKeyField()?ze.comparator(t.key,e.key):function(o,s,a){const c=s.data.field(o),l=a.data.field(o);return null!==c&&null!==l?Bl(c,l):$e()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return $e()}}class Tc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Nl(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return M5(this.inner)}size(){return this.innerSize}}const Qde=new ai(ze.comparator);function Uo(){return Qde}const cz=new ai(ze.comparator);function W_(...n){let t=cz;for(const e of n)t=t.insert(e.key,e);return t}function lz(n){let t=cz;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Ba(){return G_()}function dz(){return G_()}function G_(){return new Tc(n=>n.toString(),(n,t)=>n.isEqual(t))}const Yde=new ai(ze.comparator),Xde=new Bn(ze.comparator);function Lt(...n){let t=Xde;for(const e of n)t=t.add(e);return t}const Jde=new Bn(At);function aD(){return Jde}function cD(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:F_(t)?"-0":t}}function uz(n){return{integerValue:""+n}}function hz(n,t){return E5(t)?uz(t):cD(n,t)}class Dw{constructor(){this._=void 0}}function Zde(n,t,e){return n instanceof lm?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&xw(o)&&(o=ww(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(e,t):n instanceof Eu?mz(n,t):n instanceof Iu?pz(n,t):function(r,o){const s=fz(r,o),a=gz(s)+gz(r.Pe);return eD(s)&&eD(r.Pe)?uz(a):cD(r.serializer,a)}(n,t)}function eue(n,t,e){return n instanceof Eu?mz(n,t):n instanceof Iu?pz(n,t):e}function fz(n,t){return n instanceof dm?eD(i=t)||(o=i)&&"doubleValue"in o?t:{integerValue:0}:null;var i,o}class lm extends Dw{}class Eu extends Dw{constructor(t){super(),this.elements=t}}function mz(n,t){const e=_z(t);for(const i of n.elements)e.some(r=>Va(r,i))||e.push(i);return{arrayValue:{values:e}}}class Iu extends Dw{constructor(t){super(),this.elements=t}}function pz(n,t){let e=_z(t);for(const i of n.elements)e=e.filter(r=>!Va(r,i));return{arrayValue:{values:e}}}class dm extends Dw{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function gz(n){return Ai(n.integerValue||n.doubleValue)}function _z(n){return B_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class $_{constructor(t,e){this.field=t,this.transform=e}}class nue{constructor(t,e){this.version=t,this.transformResults=e}}class ki{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ki}static exists(t){return new ki(void 0,t)}static updateTime(t){return new ki(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rw(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Mw{}function bz(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new hm(n.key,ki.none()):new um(n.key,n.data,ki.none());{const e=n.data,i=Ur.empty();let r=new Bn(gi.comparator);for(let o of t.fields)if(!r.has(o)){let s=e.field(o);null===s&&o.length>1&&(o=o.popLast(),s=e.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new Ac(n.key,i,new Bo(r.toArray()),ki.none())}}function iue(n,t,e){n instanceof um?function(r,o,s){const a=r.value.clone(),c=xz(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):n instanceof Ac?function(r,o,s){if(!Rw(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=xz(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(yz(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function K_(n,t,e,i){return n instanceof um?function(o,s,a,c){if(!Rw(o.precondition,s))return a;const l=o.value.clone(),d=wz(o.fieldTransforms,c,s);return l.setAll(d),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,t,e,i):n instanceof Ac?function(o,s,a,c){if(!Rw(o.precondition,s))return a;const l=wz(o.fieldTransforms,c,s),d=s.data;return d.setAll(yz(o)),d.setAll(l),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(u=>u.field))}(n,t,e,i):(a=e,Rw(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function rue(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=fz(i.transform,r||null);null!=o&&(null===e&&(e=Ur.empty()),e.set(i.field,o))}return e||null}function vz(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&em(i,r,(o,s)=>function tue(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof Eu&&r instanceof Eu||i instanceof Iu&&r instanceof Iu?em(i.elements,r.elements,Va):i instanceof dm&&r instanceof dm?Va(i.Pe,r.Pe):i instanceof lm&&r instanceof lm);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class um extends Mw{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ac extends Mw{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function yz(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function xz(n,t,e){const i=new Map;Je(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],s=o.transform,a=t.data.field(o.field);i.set(o.field,eue(s,a,e[r]))}return i}function wz(n,t,e){const i=new Map;for(const r of n){const o=r.transform,s=e.data.field(r.field);i.set(r.field,Zde(o,s,t))}return i}class hm extends Mw{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lD extends Mw{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dD{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&iue(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=K_(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=K_(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=dz();return this.mutations.forEach(r=>{const o=t.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=e.has(r.key)?null:a;const c=bz(s,a);null!==c&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(nt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Lt())}isEqual(t){return this.batchId===t.batchId&&em(this.mutations,t.mutations,(e,i)=>vz(e,i))&&em(this.baseMutations,t.baseMutations,(e,i)=>vz(e,i))}}class uD{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Je(t.mutations.length===i.length);let r=Yde;const o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new uD(t,e,i,r)}}class hD{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class oue{constructor(t,e){this.count=t,this.unchangedNames=e}}var sr,fn;function Iz(n){switch(n){default:return $e();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function Cz(n){if(void 0===n)return Ji("GRPC error has no .code"),de.UNKNOWN;switch(n){case sr.OK:return de.OK;case sr.CANCELLED:return de.CANCELLED;case sr.UNKNOWN:return de.UNKNOWN;case sr.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case sr.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case sr.INTERNAL:return de.INTERNAL;case sr.UNAVAILABLE:return de.UNAVAILABLE;case sr.UNAUTHENTICATED:return de.UNAUTHENTICATED;case sr.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case sr.NOT_FOUND:return de.NOT_FOUND;case sr.ALREADY_EXISTS:return de.ALREADY_EXISTS;case sr.PERMISSION_DENIED:return de.PERMISSION_DENIED;case sr.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case sr.ABORTED:return de.ABORTED;case sr.OUT_OF_RANGE:return de.OUT_OF_RANGE;case sr.UNIMPLEMENTED:return de.UNIMPLEMENTED;case sr.DATA_LOSS:return de.DATA_LOSS;default:return $e()}}(fn=sr||(sr={}))[fn.OK=0]="OK",fn[fn.CANCELLED=1]="CANCELLED",fn[fn.UNKNOWN=2]="UNKNOWN",fn[fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fn[fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fn[fn.NOT_FOUND=5]="NOT_FOUND",fn[fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",fn[fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",fn[fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",fn[fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fn[fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fn[fn.ABORTED=10]="ABORTED",fn[fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",fn[fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",fn[fn.INTERNAL=13]="INTERNAL",fn[fn.UNAVAILABLE=14]="UNAVAILABLE",fn[fn.DATA_LOSS=15]="DATA_LOSS";function Tz(){return new TextEncoder}const sue=new _u([4294967295,4294967295],0);function Az(n){const t=Tz().encode(n),e=new s5;return e.update(t),new Uint8Array(e.digest())}function kz(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new _u([e,i],0),new _u([r,o],0)]}class fD{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Q_(`Invalid padding: ${e}`);if(i<0)throw new Q_(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new Q_(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new Q_(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=_u.fromNumber(this.Ie)}Ee(t,e,i){let r=t.add(e.multiply(_u.fromNumber(i)));return 1===r.compare(sue)&&(r=new _u([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=Az(t),[i,r]=kz(e);for(let o=0;o<this.hashCount;o++){const s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new fD(o,r,e);return i.forEach(a=>s.insert(a)),s}insert(t){if(0===this.Ie)return;const e=Az(t),[i,r]=kz(e);for(let o=0;o<this.hashCount;o++){const s=this.Ee(i,r,o);this.Ae(s)}}Ae(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class Q_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Y_{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,X_.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Y_(nt.min(),r,new ai(At),Uo(),Lt())}}class X_{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new X_(i,e,Lt(),Lt(),Lt())}}class Ow{constructor(t,e,i,r){this.Re=t,this.removedTargetIds=e,this.key=i,this.Ve=r}}class Sz{constructor(t,e){this.targetId=t,this.me=e}}class Dz{constructor(t,e,i=Ui.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Rz{constructor(){this.fe=0,this.ge=Pz(),this.pe=Ui.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Lt(),e=Lt(),i=Lt();return this.ge.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:$e()}}),new X_(this.pe,this.ye,t,e,i)}Ce(){this.we=!1,this.ge=Pz()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class aue{constructor(t){this.Le=t,this.Be=new Map,this.ke=Uo(),this.qe=Mz(),this.Qe=new ai(At)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const i=this.Ge(e);switch(t.state){case 0:this.ze(e)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),i.De(t.resumeToken));break;default:$e()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((i,r)=>{this.ze(r)&&e(r)})}He(t){const e=t.targetId,i=t.me.count,r=this.Je(e);if(r){const o=r.target;if(Aw(o))if(0===i){const s=new ze(o.path);this.Ue(e,s,_i.newNoDocument(s,nt.min()))}else Je(1===i);else{const s=this.Ye(e);if(s!==i){const a=this.Ze(t),c=a?this.Xe(a,t,s):1;0!==c&&(this.je(e),this.Qe=this.Qe.insert(e,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let s,a;try{s=Ic(i).toUint8Array()}catch(c){if(c instanceof O5)return cs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new fD(s,r,o)}catch(c){return cs(c instanceof Q_?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Ie?null:a}Xe(t,e,i){return e.me.count===i-this.nt(t,e.targetId)?0:2}nt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.Ue(e,o,null),r++)}),r}rt(t){const e=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Aw(a.target)){const c=new ze(a.target.path);null!==this.ke.get(c)||this.it(s,c)||this.Ue(s,c,_i.newNoDocument(c,t))}o.be&&(e.set(s,o.ve()),o.Ce())}});let i=Lt();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.Je(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(t));const r=new Y_(t,e,this.Qe,this.ke,i);return this.ke=Uo(),this.qe=Mz(),this.Qe=new ai(At),r}$e(t,e){if(!this.ze(t))return;const i=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,i),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,i){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,e)?r.Fe(e,1):r.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),i&&(this.ke=this.ke.insert(e,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new Rz,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new Bn(At),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||Ce("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Rz),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function Mz(){return new ai(ze.comparator)}function Pz(){return new ai(ze.comparator)}const cue={asc:"ASCENDING",desc:"DESCENDING"},lue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},due={and:"AND",or:"OR"};class uue{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function mD(n,t){return n.useProto3Json||N_(t)?t:{value:t}}function fm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Oz(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function hue(n,t){return fm(n,t.toTimestamp())}function Zi(n){return Je(!!n),nt.fromTimestamp(function(e){const i=Ec(e);return new Ti(i.seconds,i.nanos)}(n))}function pD(n,t){return gD(n,t).canonicalString()}function gD(n,t){const e=(r=n,new sn(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?e:e.child(t)}function Nz(n){const t=sn.fromString(n);return Je(Gz(t)),t}function J_(n,t){return pD(n.databaseId,t.path)}function Ua(n,t){const e=Nz(t);if(e.get(1)!==n.databaseId.projectId)throw new Ee(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ee(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ze(Vz(e))}function Fz(n,t){return pD(n.databaseId,t)}function Lz(n){const t=Nz(n);return 4===t.length?sn.emptyPath():Vz(t)}function _D(n){return new sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Vz(n){return Je(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Bz(n,t,e){return{name:J_(n,t),fields:e.value.mapValue.fields}}function Uz(n,t,e){const i=Ua(n,t.name),r=Zi(t.updateTime),o=t.createTime?Zi(t.createTime):nt.min(),s=new Ur({mapValue:{fields:t.fields}}),a=_i.newFoundDocument(i,r,o,s);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function Z_(n,t){let e;if(t instanceof um)e={update:Bz(n,t.key,t.value)};else if(t instanceof hm)e={delete:J_(n,t.key)};else if(t instanceof Ac)e={update:Bz(n,t.key,t.data),updateMask:yue(t.fieldMask)};else{if(!(t instanceof lD))return $e();e={verify:J_(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof lm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Eu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Iu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof dm)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw $e()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:hue(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:$e()),e;var o}function bD(n,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?ki.updateTime(Zi(o.updateTime)):void 0!==o.exists?ki.exists(o.exists):ki.none():ki.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let c=null;"setToServerValue"in a?(Je("REQUEST_TIME"===a.setToServerValue),c=new lm):"appendMissingElements"in a?c=new Eu(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new Iu(a.removeAllFromArray.values||[]):"increment"in a?c=new dm(s,a.increment):$e();const l=gi.fromServerFormat(a.fieldPath);return new $_(l,c)}(n,r)):[];var o;if(t.update){const r=Ua(n,t.update.name),o=new Ur({mapValue:{fields:t.update.fields}});if(t.updateMask){const s=new Bo((t.updateMask.fieldPaths||[]).map(d=>gi.fromServerFormat(d)));return new Ac(r,o,s,e,i)}return new um(r,o,e,i)}if(t.delete){const r=Ua(n,t.delete);return new hm(r,e)}if(t.verify){const r=Ua(n,t.verify);return new lD(r,e)}return $e()}function jz(n,t){return{documents:[Fz(n,t.path)]}}function Nw(n,t){const e={structuredQuery:{}},i=t.path;let r;null!==t.collectionGroup?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=Fz(n,r);const o=function(l){if(0!==l.length)return Wz(Mn.create(l,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const s=function(l){if(0!==l.length)return l.map(d=>{return{field:jl((p=d).field),direction:_ue(p.dir)};var p})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const a=mD(n,t.limit);return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{_t:e,parent:r};var l}function Hz(n){let t=Lz(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Je(1===i);const d=e.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let o=[];e.where&&(o=function(u){const p=qz(u);return p instanceof Mn&&nD(p)?p.getFilters():[p]}(e.where));let s=[];e.orderBy&&(s=e.orderBy.map(p=>{return new j_(mm((v=p).field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction));var v}));let a=null;e.limit&&(a=function(u){let p;return p="object"==typeof u?u.value:u,N_(p)?null:p}(e.limit));let c=null;var u;e.startAt&&(c=new Ul((u=e.startAt).values||[],!!u.before));let l=null;return e.endAt&&(l=function(u){return new Ul(u.values||[],!u.before)}(e.endAt)),tz(t,r,s,o,a,"F",c,l)}function qz(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=mm(e.unaryFilter.field);return an.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=mm(e.unaryFilter.field);return an.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=mm(e.unaryFilter.field);return an.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=mm(e.unaryFilter.field);return an.create(s,"!=",{nullValue:"NULL_VALUE"});default:return $e()}}(n):void 0!==n.fieldFilter?an.create(mm((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $e()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Mn.create(e.compositeFilter.filters.map(i=>qz(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return $e()}}(e.compositeFilter.op))}(n):$e();var e}function _ue(n){return cue[n]}function bue(n){return lue[n]}function vue(n){return due[n]}function jl(n){return{fieldPath:n.canonicalString()}}function mm(n){return gi.fromServerFormat(n.fieldPath)}function Wz(n){return n instanceof an?function(e){if("=="===e.op){if(V5(e.value))return{unaryFilter:{field:jl(e.field),op:"IS_NAN"}};if(L5(e.value))return{unaryFilter:{field:jl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(V5(e.value))return{unaryFilter:{field:jl(e.field),op:"IS_NOT_NAN"}};if(L5(e.value))return{unaryFilter:{field:jl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jl(e.field),op:bue(e.op),value:e.value}}}(n):n instanceof Mn?function(e){const i=e.getFilters().map(r=>Wz(r));return 1===i.length?i[0]:{compositeFilter:{op:vue(e.op),filters:i}}}(n):$e()}function yue(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Gz(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class kc{constructor(t,e,i,r,o=nt.min(),s=nt.min(),a=Ui.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(t){return new kc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new kc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new kc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new kc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class $z{constructor(t){this.ct=t}}function Kz(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Fw(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:J_(o=n.ct,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:fm(o,s.version.toTimestamp()),createTime:fm(o,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Cu(t.version)};else{if(!t.isUnknownDocument())return $e();i.unknownDocument={path:e.path.toArray(),version:Cu(t.version)}}var o,s;return i}function Fw(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Cu(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Tu(n){const t=new Ti(n.seconds,n.nanoseconds);return nt.fromTimestamp(t)}function Au(n,t){const e=(t.baseMutations||[]).map(o=>bD(n.ct,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>bD(n.ct,o)),r=Ti.fromMillis(t.localWriteTimeMs);return new dD(t.batchId,r,e,i)}function eb(n){const t=Tu(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Tu(n.lastLimboFreeSnapshotVersion):nt.min();let i;return i=void 0!==n.query.documents?(Je(1===(o=n.query).documents.length),io(sm(Lz(o.documents[0])))):function(o){return io(Hz(o))}(n.query),new kc(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Ui.fromBase64String(n.resumeToken));var o}function Qz(n,t){const e=Cu(t.snapshotVersion),i=Cu(t.lastLimboFreeSnapshotVersion);let r;r=Aw(t.target)?jz(n.ct,t.target):Nw(n.ct,t.target)._t;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:wu(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function vD(n){const t=Hz({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Sw(t,t.limit,"L"):t}function yD(n,t){return new hD(t.largestBatchId,bD(n.ct,t.overlayMutation))}function Yz(n,t){const e=t.path.lastSegment();return[n,no(t.path.popLast()),e]}function Xz(n,t,e,i){return{indexId:n,uid:t,sequenceNumber:e,readTime:Cu(i.readTime),documentKey:no(i.documentKey.path),largestBatchId:i.largestBatchId}}class wue{getBundleMetadata(t,e){return Jz(t).get(e).next(i=>{if(i)return{id:(o=i).bundleId,createTime:Tu(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return Jz(t).put({bundleId:(r=e).id,createTime:Cu(Zi(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return Zz(t).get(e).next(i=>{if(i)return{name:(o=i).name,query:vD(o.bundledQuery),readTime:Tu(o.readTime)};var o})}saveNamedQuery(t,e){return Zz(t).put({name:(r=e).name,readTime:Cu(Zi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Jz(n){return _r(n,"bundles")}function Zz(n){return _r(n,"namedQueries")}class Lw{constructor(t,e){this.serializer=t,this.userId=e}static lt(t,e){return new Lw(t,e.uid||"")}getOverlay(t,e){return tb(t).get(Yz(this.userId,e)).next(i=>i?yD(this.serializer,i):null)}getOverlays(t,e){const i=Ba();return re.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,s)=>{const a=new hD(e,s);r.push(this.ht(t,a))}),re.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(s=>r.add(no(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(tb(t).j("collectionPathOverlayIndex",a))}),re.waitFor(o)}getOverlaysForCollection(t,e,i){const r=Ba(),o=no(e),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return tb(t).U("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=yD(this.serializer,c);r.set(l.getKey(),l)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=Ba();let s;const a=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return tb(t).J({index:"collectionGroupOverlayIndex",range:a},(c,l,d)=>{const u=yD(this.serializer,l);o.size()<r||u.largestBatchId===s?(o.set(u.getKey(),u),s=u.largestBatchId):d.done()}).next(()=>o)}ht(t,e){return tb(t).put(function(r,o,s){const[a,c,l]=Yz(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Z_(r.ct,s.mutation)}}(this.serializer,this.userId,e))}}function tb(n){return _r(n,"documentOverlays")}class Eue{Pt(t){return _r(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(e=>{const i=e?.value;return i?Ui.fromUint8Array(i):Ui.EMPTY_BYTE_STRING})}setSessionToken(t,e){return this.Pt(t).put({name:"sessionToken",value:e.toUint8Array()})}}class ku{constructor(){}It(t,e){this.Tt(t,e),e.Et()}Tt(t,e){if("nullValue"in t)this.dt(e,5);else if("booleanValue"in t)this.dt(e,10),e.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(e,15),e.At(Ai(t.integerValue));else if("doubleValue"in t){const i=Ai(t.doubleValue);isNaN(i)?this.dt(e,13):(this.dt(e,15),F_(i)?e.At(0):e.At(i))}else if("timestampValue"in t){let i=t.timestampValue;this.dt(e,20),"string"==typeof i&&(i=Ec(i)),e.Rt(`${i.seconds||""}`),e.At(i.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,e),this.ft(e);else if("bytesValue"in t)this.dt(e,30),e.gt(Ic(t.bytesValue)),this.ft(e);else if("referenceValue"in t)this.yt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.dt(e,45),e.At(i.latitude||0),e.At(i.longitude||0)}else"mapValue"in t?B5(t)?this.dt(e,Number.MAX_SAFE_INTEGER):Tw(t)?this.wt(t.mapValue,e):(this.St(t.mapValue,e),this.ft(e)):"arrayValue"in t?(this.bt(t.arrayValue,e),this.ft(e)):$e()}Vt(t,e){this.dt(e,25),this.Dt(t,e)}Dt(t,e){e.Rt(t)}St(t,e){const i=t.fields||{};this.dt(e,55);for(const r of Object.keys(i))this.Vt(r,e),this.Tt(i[r],e)}wt(t,e){var i,r;const o=t.fields||{};this.dt(e,53);const s="value",a=(null===(r=null===(i=o[s].arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.length)||0;this.dt(e,15),e.At(Ai(a)),this.Vt(s,e),this.Tt(o[s],e)}bt(t,e){const i=t.values||[];this.dt(e,50);for(const r of i)this.Tt(r,e)}yt(t,e){this.dt(e,37),ze.fromName(t).path.forEach(i=>{this.dt(e,60),this.Dt(i,e)})}dt(t,e){t.At(e)}ft(t){t.At(2)}}function Iue(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function eH(n){const t=64-function(i){let r=0;for(let o=0;o<8;++o){const s=Iue(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(t/8)}ku.vt=new ku;class Cue{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ft(i.value),i=e.next();this.Mt()}xt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ot(i.value),i=e.next();this.Nt()}Lt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=e.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Bt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{const r=e.codePointAt(0);this.Ot(240|r>>>18),this.Ot(128|63&r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r)}}this.Nt()}kt(t){const e=this.qt(t),i=eH(e);this.Qt(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Kt(t){const e=this.qt(t),i=eH(e);this.Qt(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const e=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ft(t){const e=255&t;0===e?(this.Ut(0),this.Ut(255)):255===e?(this.Ut(255),this.Ut(0)):this.Ut(e)}Ot(t){const e=255&t;0===e?(this.Gt(0),this.Gt(255)):255===e?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Tue{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class Aue{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class nb{constructor(){this.jt=new Cue,this.Ht=new Tue(this.jt),this.Jt=new Aue(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return 0===t?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Su{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Zt(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Su(this.indexId,this.documentKey,this.arrayValue,i)}}function zl(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=tH(n.arrayValue,t.arrayValue),0!==e?e:(e=tH(n.directionalValue,t.directionalValue),0!==e?e:ze.comparator(n.documentKey,t.documentKey)))}function tH(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class nH{constructor(t){this.Xt=new Bn((e,i)=>gi.comparator(e.field,i.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const e of t.filters){const i=e;i.isInequality()?this.Xt=this.Xt.add(i):this.tn.push(i)}}get nn(){return this.Xt.size>1}rn(t){if(Je(t.collectionGroup===this.collectionId),this.nn)return!1;const e=$S(t);if(void 0!==e&&!this.sn(e))return!1;const i=bu(t);let r=new Set,o=0,s=0;for(;o<i.length&&this.sn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const c=i[o];if(!this.on(a,c)||!this._n(this.en[s++],c))return!1}++o}for(;o<i.length;++o)if(s>=this.en.length||!this._n(this.en[s++],i[o]))return!1;return!0}an(){if(this.nn)return null;let t=new Bn(gi.comparator);const e=[];for(const i of this.tn)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)e.push(new vu(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new vu(i.field,0))}for(const i of this.en)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new vu(i.field,"asc"===i.dir?0:1)));return new tm(tm.UNKNOWN_ID,this.collectionId,e,nm.empty())}sn(t){for(const e of this.tn)if(this.on(e,t))return!0;return!1}on(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}_n(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function iH(n){var t,e;if(Je(n instanceof an||n instanceof Mn),n instanceof an){if(n instanceof J5){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>an.create(n.field,"==",o)))||[];return Mn.create(r,"or")}return n}const i=n.filters.map(r=>iH(r));return Mn.create(i,n.op)}function kue(n){if(0===n.getFilters().length)return[];const t=ED(iH(n));return Je(rH(t)),xD(t)||wD(t)?[t]:t.getFilters()}function xD(n){return n instanceof an}function wD(n){return n instanceof Mn&&nD(n)}function rH(n){return xD(n)||wD(n)||function(e){if(e instanceof Mn&&tD(e)){for(const i of e.getFilters())if(!xD(i)&&!wD(i))return!1;return!0}return!1}(n)}function ED(n){if(Je(n instanceof an||n instanceof Mn),n instanceof an)return n;if(1===n.filters.length)return ED(n.filters[0]);const t=n.filters.map(i=>ED(i));let e=Mn.create(t,n.op);return e=Vw(e),rH(e)?e:(Je(e instanceof Mn),Je(om(e)),Je(e.filters.length>1),e.filters.reduce((i,r)=>ID(i,r)))}function ID(n,t){let e;return Je(n instanceof an||n instanceof Mn),Je(t instanceof an||t instanceof Mn),e=n instanceof an?t instanceof an?Mn.create([n,t],"and"):oH(n,t):t instanceof an?oH(t,n):function(r,o){if(Je(r.filters.length>0&&o.filters.length>0),om(r)&&om(o))return Q5(r,o.getFilters());const s=tD(r)?r:o,a=tD(r)?o:r,c=s.filters.map(l=>ID(l,a));return Mn.create(c,"or")}(n,t),Vw(e)}function oH(n,t){if(om(t))return Q5(t,n.getFilters());{const e=t.filters.map(i=>ID(n,i));return Mn.create(e,"or")}}function Vw(n){if(Je(n instanceof an||n instanceof Mn),n instanceof an)return n;const t=n.getFilters();if(1===t.length)return Vw(t[0]);if($5(n))return n;const e=t.map(r=>Vw(r)),i=[];return e.forEach(r=>{r instanceof an?i.push(r):r instanceof Mn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Mn.create(i,n.op)}class Sue{constructor(){this.un=new CD}addToCollectionParentIndex(t,e){return this.un.add(e),re.resolve()}getCollectionParents(t,e){return re.resolve(this.un.getEntries(e))}addFieldIndex(t,e){return re.resolve()}deleteFieldIndex(t,e){return re.resolve()}deleteAllFieldIndexes(t){return re.resolve()}createTargetIndexes(t,e){return re.resolve()}getDocumentsMatchingTarget(t,e){return re.resolve(null)}getIndexType(t,e){return re.resolve(0)}getFieldIndexes(t,e){return re.resolve([])}getNextCollectionGroupToUpdate(t){return re.resolve(null)}getMinOffset(t,e){return re.resolve(ls.min())}getMinOffsetFromCollectionGroup(t,e){return re.resolve(ls.min())}updateCollectionGroup(t,e,i){return re.resolve()}updateIndexEntries(t,e){return re.resolve()}}class CD{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Bn(sn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Bn(sn.comparator)).toArray()}}const Bw=new Uint8Array(0);class Due{constructor(t,e){this.databaseId=e,this.cn=new CD,this.ln=new Tc(i=>wu(i),(i,r)=>z_(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.cn.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.cn.add(e)});const o={collectionId:i,parent:no(r)};return sH(t).put(o)}return re.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[g5(e),""],!1,!0);return sH(t).U(r).next(o=>{for(const s of o){if(s.collectionId!==e)break;i.push(La(s.parent))}return i})}addFieldIndex(t,e){const i=ib(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete r.indexId;const o=i.add(r);if(e.indexState){const s=gm(t);return o.next(a=>{s.put(Xz(a,this.uid,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=ib(t),r=gm(t),o=pm(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=ib(t),i=pm(t),r=gm(t);return e.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(t,e){return re.forEach(this.hn(e),i=>this.getIndexType(t,i).next(r=>{if(0===r||1===r){const o=new nH(i).an();if(null!=o)return this.addFieldIndex(t,o)}}))}getDocumentsMatchingTarget(t,e){const i=pm(t);let r=!0;const o=new Map;return re.forEach(this.hn(e),s=>this.Pn(t,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=Lt();const a=[];return re.forEach(o,(c,l)=>{var z;Ce("IndexedDbIndexManager",`Using index ${z=c,`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map(K=>`${K.fieldPath}:${K.kind}`).join(",")}`} to execute ${wu(e)}`);const d=function(z,K){const Z=$S(K);if(void 0===Z)return null;for(const ne of kw(z,Z.fieldPath))switch(ne.op){case"array-contains-any":return ne.value.arrayValue.values||[];case"array-contains":return[ne.value]}return null}(l,c),u=function(z,K){const Z=new Map;for(const ne of bu(K))for(const U of kw(z,ne.fieldPath))switch(U.op){case"==":case"in":Z.set(ne.fieldPath.canonicalString(),U.value);break;case"not-in":case"!=":return Z.set(ne.fieldPath.canonicalString(),U.value),Array.from(Z.values())}return null}(l,c),p=function(z,K){const Z=[];let ne=!0;for(const U of bu(K)){const P=0===U.kind?Z5(z,U.fieldPath,z.startAt):ez(z,U.fieldPath,z.startAt);Z.push(P.value),ne&&(ne=P.inclusive)}return new Ul(Z,ne)}(l,c),b=function(z,K){const Z=[];let ne=!0;for(const U of bu(K)){const P=0===U.kind?ez(z,U.fieldPath,z.endAt):Z5(z,U.fieldPath,z.endAt);Z.push(P.value),ne&&(ne=P.inclusive)}return new Ul(Z,ne)}(l,c),v=this.In(c,l,p),x=this.In(c,l,b),w=this.Tn(c,l,u),F=this.En(c.indexId,d,v,p.inclusive,x,b.inclusive,w);return re.forEach(F,R=>i.G(R,e.limit).next(z=>{z.forEach(K=>{const Z=ze.fromSegments(K.documentKey);s.has(Z)||(s=s.add(Z),a.push(Z))})}))}).next(()=>a)}return re.resolve(null)})}hn(t){let e=this.ln.get(t);return e||(e=0===t.filters.length?[t]:kue(Mn.create(t.filters,"and")).map(i=>rD(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,e),e)}En(t,e,i,r,o,s,a){const c=(null!=e?e.length:1)*Math.max(i.length,o.length),l=c/(null!=e?e.length:1),d=[];for(let u=0;u<c;++u){const p=e?this.dn(e[u/l]):Bw,b=this.An(t,p,i[u%l],r),v=this.Rn(t,p,o[u%l],s),x=a.map(w=>this.An(t,p,w,!0));d.push(...this.createRange(b,v,x))}return d}An(t,e,i,r){const o=new Su(t,ze.empty(),e,i);return r?o:o.Zt()}Rn(t,e,i,r){const o=new Su(t,ze.empty(),e,i);return r?o.Zt():o}Pn(t,e){const i=new nH(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let s=null;for(const a of o)i.rn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(t,e){let i=2;const r=this.hn(e);return re.forEach(r,o=>this.Pn(t,o).next(s=>{s?0!==i&&s.fields.length<function(c){let l=new Bn(gi.comparator),d=!1;for(const u of c.filters)for(const p of u.getFlattenedFilters())p.field.isKeyField()||("array-contains"===p.op||"array-contains-any"===p.op?d=!0:l=l.add(p.field));for(const u of c.orderBy)u.field.isKeyField()||(l=l.add(u.field));return l.size+(d?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}Vn(t,e){const i=new nb;for(const r of bu(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const s=i.Yt(r.kind);ku.vt.It(o,s)}return i.zt()}dn(t){const e=new nb;return ku.vt.It(t,e.Yt(0)),e.zt()}mn(t,e){const i=new nb;return ku.vt.It(xu(this.databaseId,e),i.Yt(function(o){const s=bu(o);return 0===s.length?0:s[s.length-1].kind}(t))),i.zt()}Tn(t,e,i){if(null===i)return[];let r=[];r.push(new nb);let o=0;for(const s of bu(t)){const a=i[o++];for(const c of r)if(this.fn(e,s.fieldPath)&&B_(a))r=this.gn(r,s,a);else{const l=c.Yt(s.kind);ku.vt.It(a,l)}}return this.pn(r)}In(t,e,i){return this.Tn(t,e,i.position)}pn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].zt();return e}gn(t,e,i){const r=[...t],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const c=new nb;c.seed(a.zt()),ku.vt.It(s,c.Yt(e.kind)),o.push(c)}return o}fn(t,e){return!!t.filters.find(i=>i instanceof an&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=ib(t),r=gm(t);return(e?i.U("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.U()).next(o=>{const s=[];return re.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(d,u){const p=u?new nm(u.sequenceNumber,new ls(Tu(u.readTime),new ze(La(u.documentKey)),u.largestBatchId)):nm.empty(),b=d.fields.map(([v,x])=>new vu(gi.fromServerFormat(v),x));return new tm(d.indexId,d.collectionGroup,b,p)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:At(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=ib(t),o=gm(t);return this.yn(t).next(s=>r.U("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(a=>re.forEach(a,c=>o.put(Xz(c.indexId,this.uid,s,i)))))}updateIndexEntries(t,e){const i=new Map;return re.forEach(e,(r,o)=>{const s=i.get(r.collectionGroup);return(s?re.resolve(s):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),re.forEach(a,c=>this.wn(t,r,c).next(l=>{const d=this.Sn(o,c);return l.isEqual(d)?re.resolve():this.bn(t,o,c,l,d)}))))})}Dn(t,e,i,r){return pm(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,e.key),documentKey:e.key.path.toArray()})}vn(t,e,i,r){return pm(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=pm(t);let o=new Bn(zl);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,e)])},(s,a)=>{o=o.add(new Su(i.indexId,e,a.arrayValue,a.directionalValue))}).next(()=>o)}Sn(t,e){let i=new Bn(zl);const r=this.Vn(e,t);if(null==r)return i;const o=$S(e);if(null!=o){const s=t.data.field(o.fieldPath);if(B_(s))for(const a of s.arrayValue.values||[])i=i.add(new Su(e.indexId,t.key,this.dn(a),r))}else i=i.add(new Su(e.indexId,t.key,Bw,r));return i}bn(t,e,i,r,o){Ce("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(c,l,d,u,p){const b=c.getIterator(),v=l.getIterator();let x=im(b),w=im(v);for(;x||w;){let F=!1,R=!1;if(x&&w){const z=d(x,w);z<0?R=!0:z>0&&(F=!0)}else null!=x?R=!0:F=!0;F?(u(w),w=im(v)):R?(p(x),x=im(b)):(x=im(b),w=im(v))}}(r,o,zl,a=>{s.push(this.Dn(t,e,i,a))},a=>{s.push(this.vn(t,e,i,a))}),re.waitFor(s)}yn(t){let e=1;return gm(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((s,a)=>zl(s,a)).filter((s,a,c)=>!a||0!==zl(s,c[a-1]));const r=[];r.push(t);for(const s of i){const a=zl(s,t),c=zl(s,e);if(0===a)r[0]=t.Zt();else if(a>0&&c<0)r.push(s),r.push(s.Zt());else if(c>0)break}r.push(e);const o=[];for(let s=0;s<r.length;s+=2){if(this.Cn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Bw,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Bw,[]]))}return o}Cn(t,e){return zl(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(aH)}getMinOffset(t,e){return re.mapArray(this.hn(e),i=>this.Pn(t,i).next(r=>r||$e())).next(aH)}}function sH(n){return _r(n,"collectionParents")}function pm(n){return _r(n,"indexEntries")}function ib(n){return _r(n,"indexConfiguration")}function gm(n){return _r(n,"indexState")}function aH(n){Je(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;KS(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ls(t.readTime,t.documentKey,e)}const cH={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ro{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new ro(t,ro.DEFAULT_COLLECTION_PERCENTILE,ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function lH(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(e.batchId);let a=0;const c=i.J({range:s},(d,u,p)=>(a++,p.delete()));o.push(c.next(()=>{Je(1===a)}));const l=[];for(const d of e.mutations){const u=T5(t,d.key.path,e.batchId);o.push(r.delete(u)),l.push(d.key)}return re.waitFor(o).next(()=>l)}function Uw(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw $e();t=n.noDocument}return JSON.stringify(t).length}ro.DEFAULT_COLLECTION_PERCENTILE=10,ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ro.DEFAULT=new ro(41943040,ro.DEFAULT_COLLECTION_PERCENTILE,ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ro.DISABLED=new ro(-1,0,0);class jw{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Fn={}}static lt(t,e,i,r){Je(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new jw(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hl(t).J({index:"userMutationsIndex",range:i},(r,o,s)=>{e=!1,s.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=_m(t),s=Hl(t);return s.add({}).next(a=>{Je("number"==typeof a);const c=new dD(a,e,i,r),l=function(b,v,x){const w=x.baseMutations.map(R=>Z_(b.ct,R)),F=x.mutations.map(R=>Z_(b.ct,R));return{userId:v,batchId:x.batchId,localWriteTimeMs:x.localWriteTime.toMillis(),baseMutations:w,mutations:F}}(this.serializer,this.userId,c),d=[];let u=new Bn((p,b)=>At(p.canonicalString(),b.canonicalString()));for(const p of r){const b=T5(this.userId,p.key.path,a);u=u.add(p.key.path.popLast()),d.push(s.put(l)),d.push(o.put(b,_de))}return u.forEach(p=>{d.push(this.indexManager.addToCollectionParentIndex(t,p))}),t.addOnCommittedListener(()=>{this.Fn[a]=c.keys()}),re.waitFor(d).next(()=>c)})}lookupMutationBatch(t,e){return Hl(t).get(e).next(i=>i?(Je(i.userId===this.userId),Au(this.serializer,i)):null)}Mn(t,e){return this.Fn[e]?re.resolve(this.Fn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Fn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Hl(t).J({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(Je(a.batchId>=i),o=Au(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Hl(t).J({index:"userMutationsIndex",range:e,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hl(t).U("userMutationsIndex",e).next(i=>i.map(r=>Au(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=vw(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return _m(t).J({range:r},(s,a,c)=>{const[l,d,u]=s,p=La(d);if(l===this.userId&&e.path.isEqual(p))return Hl(t).get(u).next(b=>{if(!b)throw $e();Je(b.userId===this.userId),o.push(Au(this.serializer,b))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Bn(At);const r=[];return e.forEach(o=>{const s=vw(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=_m(t).J({range:a},(l,d,u)=>{const[p,b,v]=l,x=La(b);p===this.userId&&o.path.isEqual(x)?i=i.add(v):u.done()});r.push(c)}),re.waitFor(r).next(()=>this.xn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=vw(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new Bn(At);return _m(t).J({range:s},(c,l,d)=>{const[u,p,b]=c,v=La(p);u===this.userId&&i.isPrefixOf(v)?v.length===r&&(a=a.add(b)):d.done()}).next(()=>this.xn(t,a))}xn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Hl(t).get(o).next(s=>{if(null===s)throw $e();Je(s.userId===this.userId),i.push(Au(this.serializer,s))}))}),re.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return lH(t._e,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.On(e.batchId)}),re.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return re.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return _m(t).J({range:i},(o,s,a)=>{if(o[0]===this.userId){const c=La(o[1]);r.push(c)}else a.done()}).next(()=>{Je(0===r.length)})})}containsKey(t,e){return dH(t,this.userId,e)}Nn(t){return uH(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function dH(n,t,e){const i=vw(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return _m(n).J({range:o,H:!0},(a,c,l)=>{const[d,u,p]=a;d===t&&u===r&&(s=!0),l.done()}).next(()=>s)}function Hl(n){return _r(n,"mutations")}function _m(n){return _r(n,"documentMutations")}function uH(n){return _r(n,"mutationQueues")}class Du{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Du(0)}static kn(){return new Du(-1)}}class Rue{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.qn(t).next(e=>{const i=new Du(e.highestTargetId);return e.highestTargetId=i.next(),this.Qn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(e=>nt.fromTimestamp(new Ti(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.qn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Qn(t,r)))}addTargetData(t,e){return this.Kn(t,e).next(()=>this.qn(t).next(i=>(i.targetCount+=1,this.$n(e,i),this.Qn(t,i))))}updateTargetData(t,e){return this.Kn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>bm(t).delete(e.targetId)).next(()=>this.qn(t)).next(i=>(Je(i.targetCount>0),i.targetCount-=1,this.Qn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return bm(t).J((s,a)=>{const c=eb(a);c.sequenceNumber<=e&&null===i.get(c.targetId)&&(r++,o.push(this.removeTargetData(t,c)))}).next(()=>re.waitFor(o)).next(()=>r)}forEachTarget(t,e){return bm(t).J((i,r)=>{const o=eb(r);e(o)})}qn(t){return hH(t).get("targetGlobalKey").next(e=>(Je(null!==e),e))}Qn(t,e){return hH(t).put("targetGlobalKey",e)}Kn(t,e){return bm(t).put(Qz(this.serializer,e))}$n(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.qn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=wu(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return bm(t).J({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const l=eb(a);z_(e,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=ql(t);return e.forEach(s=>{const a=no(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(t,i,s))}),re.waitFor(r)}removeMatchingKeys(t,e,i){const r=ql(t);return re.forEach(e,o=>{const s=no(o.path);return re.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=ql(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=ql(t);let o=Lt();return r.J({range:i,H:!0},(s,a,c)=>{const l=La(s[1]),d=new ze(l);o=o.add(d)}).next(()=>o)}containsKey(t,e){const i=no(e.path),r=IDBKeyRange.bound([i],[g5(i)],!1,!0);let o=0;return ql(t).J({index:"documentTargetsIndex",H:!0,range:r},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}ot(t,e){return bm(t).get(e).next(i=>i?eb(i):null)}}function bm(n){return _r(n,"targets")}function hH(n){return _r(n,"targetGlobal")}function ql(n){return _r(n,"targetDocuments")}function fH([n,t],[e,i]){const r=At(n,e);return 0===r?At(t,i):r}class Mue{constructor(t){this.Un=t,this.buffer=new Bn(fH),this.Wn=0}Gn(){return++this.Wn}zn(t){const e=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();fH(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class mH{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(t){var e=this;Ce("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,$.A)(function*(){e.jn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Ol(i)?Ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Pl(i)}yield e.Hn(3e5)}))}}class Pue{constructor(t,e){this.Jn=t,this.params=e}calculateTargetCount(t,e){return this.Jn.Yn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return re.resolve(ds.oe);const i=new Mue(e);return this.Jn.forEachTarget(t,r=>i.zn(r.sequenceNumber)).next(()=>this.Jn.Zn(t,r=>i.zn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(cH)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cH):this.Xn(t,e))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,e){let i,r,o,s,a,c,l;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(u=>(u>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${u}`),r=this.params.maximumSequenceNumbersToCollect):r=u,s=Date.now(),this.nthSequenceNumber(t,r))).next(u=>(i=u,a=Date.now(),this.removeTargets(t,i,e))).next(u=>(o=u,c=Date.now(),this.removeOrphanedDocuments(t,i))).next(u=>(l=Date.now(),Zf()<=Na.$b.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-d}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${u} documents in `+(l-c)+`ms\nTotal Duration: ${l-d}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:u})))}}class Oue{constructor(t,e){this.db=t,this.garbageCollector=function pH(n,t){return new Pue(n,t)}(this,e)}Yn(t){const e=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}er(t){let e=0;return this.Zn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Zn(t,e){return this.tr(t,(i,r)=>e(r))}addReference(t,e,i){return zw(t,i)}removeReference(t,e,i){return zw(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return zw(t,e)}nr(t,e){return function(r,o){let s=!1;return uH(r).Y(a=>dH(r,a,o).next(c=>(c&&(s=!0),re.resolve(!c)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.tr(t,(s,a)=>{if(a<=e){const c=this.nr(t,s).next(l=>{if(!l)return o++,i.getEntry(t,s).next(()=>(i.removeEntry(s,nt.min()),ql(t).delete([0,no(s.path)])))});r.push(c)}}).next(()=>re.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return zw(t,e)}tr(t,e){const i=ql(t);let r,o=ds.oe;return i.J({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==ds.oe&&e(new ze(La(r)),o),o=l,r=c):o=ds.oe}).next(()=>{o!==ds.oe&&e(new ze(La(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function zw(n,t){return ql(n).put((r=n.currentSequenceNumber,{targetId:0,path:no(t.path),sequenceNumber:r}));var r}class gH{constructor(){this.changes=new Tc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,_i.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?re.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Nue{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Ru(t).put(i)}removeEntry(t,e,i){return Ru(t).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Fw(s),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.rr(t,i)))}getEntry(t,e){let i=_i.newInvalidDocument(e);return Ru(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(rb(e))},(r,o)=>{i=this.ir(e,o)}).next(()=>i)}sr(t,e){let i={size:0,document:_i.newInvalidDocument(e)};return Ru(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(rb(e))},(r,o)=>{i={document:this.ir(e,o),size:Uw(o)}}).next(()=>i)}getEntries(t,e){let i=Uo();return this._r(t,e,(r,o)=>{const s=this.ir(r,o);i=i.insert(r,s)}).next(()=>i)}ar(t,e){let i=Uo(),r=new ai(ze.comparator);return this._r(t,e,(o,s)=>{const a=this.ir(o,s);i=i.insert(o,a),r=r.insert(o,Uw(s))}).next(()=>({documents:i,ur:r}))}_r(t,e,i){if(e.isEmpty())return re.resolve();let r=new Bn(yH);e.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(rb(r.first()),rb(r.last())),s=r.getIterator();let a=s.getNext();return Ru(t).J({index:"documentKeyIndex",range:o},(c,l,d)=>{const u=ze.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&yH(a,u)<0;)i(a,null),a=s.getNext();a&&a.isEqual(u)&&(i(a,l),a=s.hasNext()?s.getNext():null),a?d.$(rb(a)):d.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,e,i,r,o){const s=e.path,a=[s.popLast().toArray(),s.lastSegment(),Fw(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ru(t).U(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let d=Uo();for(const u of l){const p=this.ir(ze.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);p.isFoundDocument()&&(q_(e,p)||r.has(p.key))&&(d=d.insert(p.key,p))}return d})}getAllFromCollectionGroup(t,e,i,r){let o=Uo();const s=vH(e,i),a=vH(e,ls.max());return Ru(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,d)=>{const u=this.ir(ze.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(u.key,u),o.size===r&&d.done()}).next(()=>o)}newChangeBuffer(t){return new Fue(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return bH(t).get("remoteDocumentGlobalKey").next(e=>(Je(!!e),e))}rr(t,e){return bH(t).put("remoteDocumentGlobalKey",e)}ir(t,e){if(e){const i=function xue(n,t){let e;if(t.document)e=Uz(n.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=ze.fromSegments(t.noDocument.path),r=Tu(t.noDocument.readTime);e=_i.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return $e();{const i=ze.fromSegments(t.unknownDocument.path),r=Tu(t.unknownDocument.version);e=_i.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(r){const o=new Ti(r[0],r[1]);return nt.fromTimestamp(o)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(nt.min()))return i}return _i.newInvalidDocument(t)}}function _H(n){return new Nue(n)}class Fue extends gH{constructor(t,e){super(),this.cr=t,this.trackRemovals=e,this.lr=new Tc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Bn((o,s)=>At(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.lr.get(o);if(e.push(this.cr.removeEntry(t,o,a.readTime)),s.isValidDocument()){const c=Kz(this.cr.serializer,s);r=r.add(o.path.popLast());const l=Uw(c);i+=l-a.size,e.push(this.cr.addEntry(t,o,c))}else if(i-=a.size,this.trackRemovals){const c=Kz(this.cr.serializer,s.convertToNoDocument(nt.min()));e.push(this.cr.addEntry(t,o,c))}}),r.forEach(o=>{e.push(this.cr.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.cr.updateMetadata(t,i)),re.waitFor(e)}getFromCache(t,e){return this.cr.sr(t,e).next(i=>(this.lr.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.cr.ar(t,e).next(({documents:i,ur:r})=>(r.forEach((o,s)=>{this.lr.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function bH(n){return _r(n,"remoteDocumentGlobal")}function Ru(n){return _r(n,"remoteDocumentsV14")}function rb(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function vH(n,t){const e=t.documentKey.path.toArray();return[n,Fw(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function yH(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=At(e[o],i[o]),r)return r;return r=At(e.length,i.length),r||(r=At(e[e.length-2],i[i.length-2]),r||At(e[e.length-1],i[i.length-1]))}class Lue{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class xH{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&K_(i.mutation,r,Bo.empty(),Ti.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Lt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Lt()){const r=Ba();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let s=W_();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(t,e){const i=Ba();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Lt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,a)=>{e.set(s,a)})})}computeViews(t,e,i,r){let o=Uo();const s=G_(),a=G_();return e.forEach((c,l)=>{const d=i.get(l.key);r.has(l.key)&&(void 0===d||d.mutation instanceof Ac)?o=o.insert(l.key,l):void 0!==d?(s.set(l.key,d.mutation.getFieldMask()),K_(d.mutation,l,d.mutation.getFieldMask(),Ti.now())):s.set(l.key,Bo.empty())}),this.recalculateAndSaveOverlays(t,o).next(c=>(c.forEach((l,d)=>s.set(l,d)),e.forEach((l,d)=>{var u;return a.set(l,new Lue(d,null!==(u=s.get(l))&&void 0!==u?u:null))}),a))}recalculateAndSaveOverlays(t,e){const i=G_();let r=new ai((s,a)=>s-a),o=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=e.get(c);if(null===l)return;let d=i.get(c)||Bo.empty();d=a.applyToLocalView(l,d),i.set(c,d);const u=(r.get(a.batchId)||Lt()).add(c);r=r.insert(a.batchId,u)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,d=c.value,u=dz();d.forEach(p=>{if(!o.has(p)){const b=bz(e.get(p),i.get(p));null!==b&&u.set(p,b),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(t,l,u))}return re.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return ze.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):oD(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var s}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):re.resolve(Ba());let a=-1,c=o;return s.next(l=>re.forEach(l,(d,u)=>(a<u.largestBatchId&&(a=u.largestBatchId),o.get(d)?re.resolve():this.remoteDocumentCache.getEntry(t,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(t,l,o)).next(()=>this.computeViews(t,c,l,Lt())).next(d=>({batchId:a,changes:lz(d)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ze(e)).next(i=>{let r=W_();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let s=W_();return this.indexManager.getCollectionParents(t,o).next(a=>re.forEach(a,c=>{const l=(u=e,p=c.child(o),new Cc(p,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));var u,p;return this.getDocumentsMatchingCollectionQuery(t,l,i,r).next(d=>{d.forEach((u,p)=>{s=s.insert(u,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(s=>{o.forEach((c,l)=>{const d=l.getKey();null===s.get(d)&&(s=s.insert(d,_i.newInvalidDocument(d)))});let a=W_();return s.forEach((c,l)=>{const d=o.get(c);void 0!==d&&K_(d.mutation,l,Bo.empty(),Ti.now()),q_(e,l)&&(a=a.insert(c,l))}),a})}}class Vue{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,e){return re.resolve(this.hr.get(e))}saveBundleMetadata(t,e){return this.hr.set(e.id,{id:(r=e).id,version:r.version,createTime:Zi(r.createTime)}),re.resolve();var r}getNamedQuery(t,e){return re.resolve(this.Pr.get(e))}saveNamedQuery(t,e){return this.Pr.set(e.name,{name:(r=e).name,query:vD(r.bundledQuery),readTime:Zi(r.readTime)}),re.resolve();var r}}class Bue{constructor(){this.overlays=new ai(ze.comparator),this.Ir=new Map}getOverlay(t,e){return re.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ba();return re.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.ht(t,e,o)}),re.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Ir.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),re.resolve()}getOverlaysForCollection(t,e,i){const r=Ba(),o=e.length+1,s=new ze(e.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!e.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return re.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ai((l,d)=>l-d);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===e&&l.largestBatchId>i){let d=o.get(l.largestBatchId);null===d&&(d=Ba(),o=o.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}const a=Ba(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=r)););return re.resolve(a)}ht(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new hD(e,i));let o=this.Ir.get(e);void 0===o&&(o=Lt(),this.Ir.set(e,o)),this.Ir.set(e,o.add(i.key))}}class Uue{constructor(){this.sessionToken=Ui.EMPTY_BYTE_STRING}getSessionToken(t){return re.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,re.resolve()}}class TD{constructor(){this.Tr=new Bn(Dr.Er),this.dr=new Bn(Dr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,e){const i=new Dr(t,e);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Vr(new Dr(t,e))}mr(t,e){t.forEach(i=>this.removeReference(i,e))}gr(t){const e=new ze(new sn([])),i=new Dr(e,t),r=new Dr(e,t+1),o=[];return this.dr.forEachInRange([i,r],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const e=new ze(new sn([])),i=new Dr(e,t),r=new Dr(e,t+1);let o=Lt();return this.dr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(t){const e=new Dr(t,0),i=this.Tr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Dr{constructor(t,e){this.key=t,this.wr=e}static Er(t,e){return ze.comparator(t.key,e.key)||At(t.wr,e.wr)}static Ar(t,e){return At(t.wr,e.wr)||ze.comparator(t.key,e.key)}}class jue{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new Bn(Dr.Er)}checkEmpty(t){return re.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.Sr;this.Sr++;const s=new dD(o,e,i,r);this.mutationQueue.push(s);for(const a of r)this.br=this.br.add(new Dr(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return re.resolve(s)}lookupMutationBatch(t,e){return re.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.vr(e+1),o=r<0?0:r;return re.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Dr(e,0),r=new Dr(e,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,r],s=>{const a=this.Dr(s.wr);o.push(a)}),re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Bn(At);return e.forEach(r=>{const o=new Dr(r,0),s=new Dr(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{i=i.add(a.wr)})}),re.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;ze.isDocumentKey(o)||(o=o.child(""));const s=new Dr(new ze(o),0);let a=new Bn(At);return this.br.forEachWhile(c=>{const l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.wr)),!0)},s),re.resolve(this.Cr(a))}Cr(t){const e=[];return t.forEach(i=>{const r=this.Dr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Je(0===this.Fr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.br;return re.forEach(e.mutations,r=>{const o=new Dr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,e){const i=new Dr(e,0),r=this.br.firstAfterOrEqual(i);return re.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return re.resolve()}Fr(t,e){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const e=this.vr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class zue{constructor(t){this.Mr=t,this.docs=new ai(ze.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.Mr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return re.resolve(i?i.document.mutableCopy():_i.newInvalidDocument(e))}getEntries(t,e){let i=Uo();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():_i.newInvalidDocument(r))}),re.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Uo();const s=e.path,a=new ze(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:d}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||KS(b5(d),i)<=0||(r.has(d.key)||q_(e,d))&&(o=o.insert(d.key,d.mutableCopy()))}return re.resolve(o)}getAllFromCollectionGroup(t,e,i,r){$e()}Or(t,e){return re.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Hue(this)}getSize(t){return re.resolve(this.size)}}class Hue extends gH{constructor(t){super(),this.cr=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.cr.addEntry(t,r)):this.cr.removeEntry(i)}),re.waitFor(e)}getFromCache(t,e){return this.cr.getEntry(t,e)}getAllFromCache(t,e){return this.cr.getEntries(t,e)}}class que{constructor(t){this.persistence=t,this.Nr=new Tc(e=>wu(e),z_),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new TD,this.targetCount=0,this.kr=Du.Bn()}forEachTarget(t,e){return this.Nr.forEach((i,r)=>e(r)),re.resolve()}getLastRemoteSnapshotVersion(t){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return re.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Lr&&(this.Lr=e),re.resolve()}Kn(t){this.Nr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.kr=new Du(e),this.highestTargetId=e),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,e){return this.Kn(e),this.targetCount+=1,re.resolve()}updateTargetData(t,e){return this.Kn(e),re.resolve()}removeTargetData(t,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,re.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),re.waitFor(o).next(()=>r)}getTargetCount(t){return re.resolve(this.targetCount)}getTargetData(t,e){const i=this.Nr.get(e)||null;return re.resolve(i)}addMatchingKeys(t,e,i){return this.Br.Rr(e,i),re.resolve()}removeMatchingKeys(t,e,i){this.Br.mr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),re.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Br.gr(e),re.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Br.yr(e);return re.resolve(i)}containsKey(t,e){return re.resolve(this.Br.containsKey(e))}}class AD{constructor(t,e){this.qr={},this.overlays={},this.Qr=new ds(0),this.Kr=!1,this.Kr=!0,this.$r=new Uue,this.referenceDelegate=t(this),this.Ur=new que(this),this.indexManager=new Sue,this.remoteDocumentCache=new zue(i=>this.referenceDelegate.Wr(i)),this.serializer=new $z(e),this.Gr=new Vue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Bue,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.qr[t.toKey()];return i||(i=new jue(e,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,e,i){Ce("MemoryPersistence","Starting transaction:",t);const r=new Wue(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(o=>this.referenceDelegate.jr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Hr(t,e){return re.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,e)))}}class Wue extends y5{constructor(t){super(),this.currentSequenceNumber=t}}class Hw{constructor(t){this.persistence=t,this.Jr=new TD,this.Yr=null}static Zr(t){return new Hw(t)}get Xr(){if(this.Yr)return this.Yr;throw $e()}addReference(t,e,i){return this.Jr.addReference(i,e),this.Xr.delete(i.toString()),re.resolve()}removeReference(t,e,i){return this.Jr.removeReference(i,e),this.Xr.add(i.toString()),re.resolve()}markPotentiallyOrphaned(t,e){return this.Xr.add(e.toString()),re.resolve()}removeTarget(t,e){this.Jr.gr(e.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}zr(){this.Yr=new Set}jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Xr,i=>{const r=ze.fromPath(i);return this.ei(t,r).next(o=>{o||e.removeEntry(r,nt.min())})}).next(()=>(this.Yr=null,e.apply(t)))}updateLimboDocument(t,e){return this.ei(t,e).next(i=>{i?this.Xr.delete(e.toString()):this.Xr.add(e.toString())})}Wr(t){return 0}ei(t,e){return re.or([()=>re.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Hr(t,e)])}}class Gue{constructor(t){this.serializer=t}O(t,e,i,r){const o=new bw("createOrUpgrade",e);var c;i<1&&r>=1&&(t.createObjectStore("owner"),(c=t).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",C5,{unique:!0}),c.createObjectStore("documentMutations"),wH(t),function(c){c.createObjectStore("remoteDocuments")}(t));let s=re.resolve();return i<3&&r>=3&&(0!==i&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(t),wH(t)),s=s.next(()=>function(c){const l=c.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:nt.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",d)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(c,l){return l.store("mutations").U().next(d=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",C5,{unique:!0});const u=l.store("mutations"),p=d.map(b=>u.put(b));return re.waitFor(p)})}(t,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(s=s.next(()=>this.ni(o))),i<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(t),this.ri(o)))),i<7&&r>=7&&(s=s.next(()=>this.ii(o))),i<8&&r>=8&&(s=s.next(()=>this.si(t,o))),i<9&&r>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(s=s.next(()=>this.oi(o))),i<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(s=s.next(()=>{!function(c){const l=c.createObjectStore("documentOverlays",{keyPath:Sde});l.createIndex("collectionPathOverlayIndex",Dde,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",Rde,{unique:!1})}(t)})),i<13&&r>=13&&(s=s.next(()=>function(c){const l=c.createObjectStore("remoteDocumentsV14",{keyPath:bde});l.createIndex("documentKeyIndex",vde),l.createIndex("collectionGroupIndex",yde)}(t)).next(()=>this._i(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ai(t,o))),i<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:Cde}).createIndex("sequenceNumberIndex",Tde,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:Ade}).createIndex("documentKeyIndex",kde,{unique:!1})}(t))),i<16&&r>=16&&(s=s.next(()=>{e.objectStore("indexState").clear()}).next(()=>{e.objectStore("indexEntries").clear()})),i<17&&r>=17&&(s=s.next(()=>{!function(c){c.createObjectStore("globals",{keyPath:"name"})}(t)})),s}ri(t){let e=0;return t.store("remoteDocuments").J((i,r)=>{e+=Uw(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}ni(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.U().next(r=>re.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",s).next(a=>re.forEach(a,c=>{Je(c.userId===o.userId);const l=Au(this.serializer,c);return lH(t,o.userId,l).next(()=>{})}))}))}ii(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.J((s,a)=>{const c=new sn(s),l=[0,no(c)];o.push(e.get(l).next(d=>d?re.resolve():e.put({targetId:0,path:no(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>re.waitFor(o))})}si(t,e){t.createObjectStore("collectionParents",{keyPath:Ide});const i=e.store("collectionParents"),r=new CD,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:no(c)})}};return e.store("remoteDocuments").J({H:!0},(s,a)=>{const c=new sn(s);return o(c.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([s,a,c],l)=>{const d=La(a);return o(d.popLast())}))}oi(t){const e=t.store("targets");return e.J((i,r)=>{const o=eb(r),s=Qz(this.serializer,o);return e.put(s)})}_i(t,e){const i=e.store("remoteDocuments"),r=[];return i.J((o,s)=>{const a=e.store("remoteDocumentsV14"),c=(u=s,u.document?new ze(sn.fromString(u.document.name).popFirst(5)):u.noDocument?ze.fromSegments(u.noDocument.path):u.unknownDocument?ze.fromSegments(u.unknownDocument.path):$e()).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var u;r.push(a.put(l))}).next(()=>re.waitFor(r))}ai(t,e){const i=e.store("mutations"),r=_H(this.serializer),o=new AD(Hw.Zr,this.serializer.ct);return i.U().next(s=>{const a=new Map;return s.forEach(c=>{var l;let d=null!==(l=a.get(c.userId))&&void 0!==l?l:Lt();Au(this.serializer,c).keys().forEach(u=>d=d.add(u)),a.set(c.userId,d)}),re.forEach(a,(c,l)=>{const d=new kr(l),u=Lw.lt(this.serializer,d),p=o.getIndexManager(d),b=jw.lt(d,this.serializer,p,o.referenceDelegate);return new xH(r,b,u,p).recalculateAndSaveOverlaysForDocumentKeys(new JS(e,ds.oe),c).next()})})}}function wH(n){n.createObjectStore("targetDocuments",{keyPath:wde}).createIndex("documentTargetsIndex",Ede,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",xde,{unique:!0}),n.createObjectStore("targetGlobal")}const kD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class SD{constructor(t,e,i,r,o,s,a,c,l,d,u=17){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ui=o,this.window=s,this.document=a,this.ci=l,this.li=d,this.hi=u,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=p=>Promise.resolve(),!SD.D())throw new Ee(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Oue(this,r),this.Ai=e+"main",this.serializer=new $z(c),this.Ri=new Fa(this.Ai,this.hi,new Gue(this.serializer)),this.$r=new Eue,this.Ur=new Rue(this.referenceDelegate,this.serializer),this.remoteDocumentCache=_H(this.serializer),this.Gr=new wue,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===d&&Ji("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ee(de.FAILED_PRECONDITION,kD);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new ds(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){var e=this;return this.di=function(){var i=(0,$.A)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(function(){var e=(0,$.A)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget((0,$.A)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Ww(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(e=>{e||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(e=>this.isPrimary&&!e?this.bi(t).next(()=>!1):!!e&&this.Di(t).next(()=>!0))).catch(t=>{if(Ol(t))return Ce("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ce("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return ob(t).get("owner").next(e=>re.resolve(this.vi(e)))}Ci(t){return Ww(t).delete(this.clientId)}Fi(){var t=this;return(0,$.A)(function*(){if(t.isPrimary&&!t.Mi(t.Ei,18e5)){t.Ei=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=_r(i,"clientMetadata");return r.U().next(o=>{const s=t.xi(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return re.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(t.Vi)for(const i of e)t.Vi.removeItem(t.Oi(i.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?re.resolve(!0):ob(t).get("owner").next(e=>{if(null!==e&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)){if(this.vi(e)&&this.networkEnabled)return!0;if(!this.vi(e)){if(!e.allowTabSynchronization)throw new Ee(de.FAILED_PRECONDITION,kD);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ww(t).U().next(i=>void 0===this.xi(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Ce("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,$.A)(function*(){t.Kr=!1,t.Li(),t.Ti&&(t.Ti.cancel(),t.Ti=null),t.Bi(),t.ki(),yield t.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new JS(e,ds.oe);return t.bi(i).next(()=>t.Ci(i))}),t.Ri.close(),t.qi()})()}xi(t,e){return t.filter(i=>this.Mi(i.updateTimeMs,e)&&!this.Ni(i.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>Ww(t).U().next(e=>this.xi(e,18e5).map(i=>i.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,e){return jw.lt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Due(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return Lw.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,e,i){Ce("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=17===(c=this.hi)?Ode:16===c?Pde:15===c?XS:14===c?S5:13===c?k5:12===c?Mde:11===c?A5:void $e();var c;let s;return this.Ri.runTransaction(t,r,o,a=>(s=new JS(a,this.Qr?this.Qr.next():ds.oe),"readwrite-primary"===e?this.wi(s).next(c=>!!c||this.Si(s)).next(c=>{if(!c)throw Ji(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Ee(de.FAILED_PRECONDITION,v5);return i(s)}).next(c=>this.Di(s).next(()=>c)):this.Ki(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ki(t){return ob(t).get("owner").next(e=>{if(null!==e&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)&&!this.vi(e)&&!(this.li||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ee(de.FAILED_PRECONDITION,kD)})}Di(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ob(t).put("owner",e)}static D(){return Fa.D()}bi(t){const e=ob(t);return e.get("owner").next(i=>this.vi(i)?(Ce("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):re.resolve())}Mi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Ji(`Detected an update time that is in the future: ${t} > ${i}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Pi=()=>{this.Li();const e=/(?:Version|Mobile)\/1[456]/;(0,yn.nr)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var e;try{const i=null!==(null===(e=this.Vi)||void 0===e?void 0:e.getItem(this.Oi(t)));return Ce("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ji("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){Ji("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function ob(n){return _r(n,"owner")}function Ww(n){return _r(n,"clientMetadata")}function DD(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class RD{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.$i=i,this.Ui=r}static Wi(t,e){let i=Lt(),r=Lt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new RD(t,e.fromCache,i,r)}}class $ue{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class EH{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,yn.nr)()?8:x5((0,yn.ZQ)())>0?6:4}initialize(t,e){this.Ji=t,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.Yi(t,e).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(t,e,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new $ue;return this.Xi(t,e,s).next(a=>{if(o.result=a,this.zi)return this.es(t,e,s,a.size)})}).next(()=>o.result)}es(t,e,i,r){return i.documentReadCount<this.ji?(Zf()<=Na.$b.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",cm(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),re.resolve()):(Zf()<=Na.$b.DEBUG&&Ce("QueryEngine","Query:",cm(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Zf()<=Na.$b.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",cm(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,io(e))):re.resolve())}Yi(t,e){if(nz(e))return re.resolve(null);let i=io(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Sw(e,null,"F"),i=io(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const s=Lt(...o);return this.Ji.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,i).next(c=>{const l=this.ts(e,a);return this.ns(e,l,s,c.readTime)?this.Yi(t,Sw(e,null,"F")):this.rs(t,l,e,c)}))})))}Zi(t,e,i,r){return nz(e)||r.isEqual(nt.min())?re.resolve(null):this.Ji.getDocuments(t,i).next(o=>{const s=this.ts(e,o);return this.ns(e,s,i,r)?re.resolve(null):(Zf()<=Na.$b.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),cm(e)),this.rs(t,s,e,_5(r,-1)).next(a=>a))})}ts(t,e){let i=new Bn(az(t));return e.forEach((r,o)=>{q_(t,o)&&(i=i.add(o))}),i}ns(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(t,e,i){return Zf()<=Na.$b.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",cm(e)),this.Ji.getDocumentsMatchingQuery(t,e,ls.min(),i)}rs(t,e,i,r){return this.Ji.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Kue{constructor(t,e,i,r){this.persistence=t,this.ss=e,this.serializer=r,this.os=new ai(At),this._s=new Tc(o=>wu(o),z_),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new xH(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.os))}}function IH(n,t,e,i){return new Kue(n,t,e,i)}function CH(n,t){return MD.apply(this,arguments)}function MD(){return(MD=(0,$.A)(function*(n,t){const e=Ve(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.ls(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let c=Lt();for(const l of r){s.push(l.batchId);for(const d of l.mutations)c=c.add(d.key)}for(const l of o){a.push(l.batchId);for(const d of l.mutations)c=c.add(d.key)}return e.localDocuments.getDocuments(i,c).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})).apply(this,arguments)}function TH(n){const t=Ve(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function AH(n,t,e){let i=Lt(),r=Lt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let s=Uo();return e.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(nt.min())?(t.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(t.addEntry(c),s=s.insert(a,c)):Ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ps:s,Is:r}})}function Xue(n,t){const e=Ve(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function vm(n,t){const e=Ve(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Ur.getTargetData(i,t).next(o=>o?(r=o,re.resolve(r)):e.Ur.allocateTargetId(i).next(s=>(r=new kc(t,s,"TargetPurposeListen",i.currentSequenceNumber),e.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.os.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.os=e.os.insert(i.targetId,i),e._s.set(t,i.targetId)),i})}function ym(n,t,e){return PD.apply(this,arguments)}function PD(){return(PD=(0,$.A)(function*(n,t,e){const i=Ve(n),r=i.os.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Ol(s))throw s;Ce("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}i.os=i.os.remove(t),i._s.delete(r.target)})).apply(this,arguments)}function Gw(n,t,e){const i=Ve(n);let r=nt.min(),o=Lt();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,d){const u=Ve(c),p=u._s.get(d);return void 0!==p?re.resolve(u.os.get(p)):u.Ur.getTargetData(l,d)}(i,s,io(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.ss.getDocumentsMatchingQuery(s,t,e?r:nt.min(),e?o:Lt())).next(a=>(DH(i,sz(t),a),{documents:a,Ts:o})))}function kH(n,t){const e=Ve(n),i=Ve(e.Ur),r=e.os.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.ot(o,t).next(s=>s?s.target:null))}function SH(n,t){const e=Ve(n),i=e.us.get(t)||nt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.cs.getAllFromCollectionGroup(r,t,_5(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(DH(e,t,r),r))}function DH(n,t,e){let i=n.us.get(t)||nt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.us.set(t,i)}function OD(){return(OD=(0,$.A)(function*(n,t,e,i){const r=Ve(n);let o=Lt(),s=Uo();for(const l of e){const d=t.Es(l.metadata.name);l.document&&(o=o.add(d));const u=t.ds(l);u.setReadTime(t.As(l.metadata.readTime)),s=s.insert(d,u)}const a=r.cs.newChangeBuffer({trackRemovals:!0}),c=yield vm(r,(d=i,io(sm(sn.fromString(`__bundle__/docs/${d}`)))));var d;return r.persistence.runTransaction("Apply bundle documents","readwrite",l=>AH(l,a,s).next(d=>(a.apply(l),d)).next(d=>r.Ur.removeMatchingKeysForTargetId(l,c.targetId).next(()=>r.Ur.addMatchingKeys(l,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(l,d.Ps,d.Is)).next(()=>d.Ps)))})).apply(this,arguments)}function Zue(n,t){return ND.apply(this,arguments)}function ND(){return(ND=(0,$.A)(function*(n,t,e=Lt()){const i=yield vm(n,io(vD(t.bundledQuery))),r=Ve(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=Zi(t.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Gr.saveNamedQuery(o,t);const a=i.withResumeToken(Ui.EMPTY_BYTE_STRING,s);return r.os=r.os.insert(a.targetId,a),r.Ur.updateTargetData(o,a).next(()=>r.Ur.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Ur.addMatchingKeys(o,e,i.targetId)).next(()=>r.Gr.saveNamedQuery(o,t))})})).apply(this,arguments)}function RH(n,t){return`firestore_clients_${n}_${t}`}function MH(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function FD(n,t){return`firestore_targets_${n}_${t}`}class $w{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Rs(t,e,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new Ee(r.error.code,r.error.message))),s?new $w(t,e,r.state,o):(Ji("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class sb{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Rs(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Ee(i.error.code,i.error.message))),o?new sb(t,i.state,r):(Ji("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Kw{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Rs(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=aD();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=E5(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new Kw(t,o):(Ji("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class LD{constructor(t,e){this.clientId=t,this.onlineState=e}static Rs(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new LD(e.clientId,e.onlineState):(Ji("SharedClientState",`Failed to parse online state: ${t}`),null)}}class VD{constructor(){this.activeTargetIds=aD()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class BD{constructor(t,e,i,r,o){this.window=t,this.ui=e,this.persistenceKey=i,this.ps=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ai(At),this.started=!1,this.bs=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=RH(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new VD),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,$.A)(function*(){const e=yield t.syncEngine.Qi();for(const r of e){if(r===t.ps)continue;const o=t.getItem(RH(t.persistenceKey,r));if(o){const s=Kw.Rs(r,o);s&&(t.Ss=t.Ss.insert(s.clientId,s))}}t.Ns();const i=t.storage.getItem(t.xs);if(i){const r=t.Ls(i);r&&t.Bs(r)}for(const r of t.bs)t.ws(r);t.bs=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let e=!1;return this.Ss.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,e,i){this.qs(t,e,i),this.Qs(t)}addLocalQueryTarget(t,e=!0){let i="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(FD(this.persistenceKey,t));if(r){const o=sb.Rs(t,r);o&&(i=o.state)}}return e&&this.Ks.fs(t),this.Ns(),i}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(FD(this.persistenceKey,t))}updateQueryState(t,e,i){this.$s(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Qs(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ce("SharedClientState","READ",t,e),e}setItem(t,e){Ce("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ce("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ce("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Ds)return void Ji("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,$.A)(function*(){if(e.started){if(null!==i.key)if(e.Cs.test(i.key)){if(null==i.newValue){const r=e.Gs(i.key);return e.zs(r,null)}{const r=e.js(i.key,i.newValue);if(r)return e.zs(r.clientId,r)}}else if(e.Fs.test(i.key)){if(null!==i.newValue){const r=e.Hs(i.key,i.newValue);if(r)return e.Js(r)}}else if(e.Ms.test(i.key)){if(null!==i.newValue){const r=e.Ys(i.key,i.newValue);if(r)return e.Zs(r)}}else if(i.key===e.xs){if(null!==i.newValue){const r=e.Ls(i.newValue);if(r)return e.Bs(r)}}else if(i.key===e.vs){const r=function(s){let a=ds.oe;if(null!=s)try{const c=JSON.parse(s);Je("number"==typeof c),a=c}catch(c){Ji("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(i.newValue);r!==ds.oe&&e.sequenceNumberHandler(r)}else if(i.key===e.Os){const r=e.Xs(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.eo(o)))}}else e.bs.push(i)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,e,i){const r=new $w(this.currentUser,t,e,i),o=MH(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Vs())}Qs(t){const e=MH(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Us(t){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:t}))}$s(t,e,i){const r=FD(this.persistenceKey,t),o=new sb(t,e,i);this.setItem(r,o.Vs())}Ws(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Os,e)}Gs(t){const e=this.Cs.exec(t);return e?e[1]:null}js(t,e){const i=this.Gs(t);return Kw.Rs(i,e)}Hs(t,e){const i=this.Fs.exec(t),r=Number(i[1]);return $w.Rs(new kr(void 0!==i[2]?i[2]:null),r,e)}Ys(t,e){const i=this.Ms.exec(t),r=Number(i[1]);return sb.Rs(r,e)}Ls(t){return LD.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){var e=this;return(0,$.A)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.no(t.batchId,t.state,t.error);Ce("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,e){const i=e?this.Ss.insert(t,e):this.Ss.remove(t),r=this.ks(this.Ss),o=this.ks(i),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.io(s,a).then(()=>{this.Ss=i})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let e=aD();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class PH{constructor(){this.so=new VD,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,e,i){this.oo[t]=e}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new VD,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class ehe{_o(t){}shutdown(){}}class OH{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qw=null;function UD(){return null===Qw?Qw=268435456+Math.round(2147483648*Math.random()):Qw++,"0x"+Qw.toString(16)}const the={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nhe{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const oo="WebChannelConnection";class ihe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+e.host,this.vo=`projects/${r}/databases/${o}`,this.Co="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Fo(){return!1}Mo(e,i,r,o,s){const a=UD(),c=this.xo(e,i.toUriEncodedString());Ce("RestConnection",`Sending RPC '${e}' ${a}:`,c,r);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(e,c,l,r).then(d=>(Ce("RestConnection",`Received RPC '${e}' ${a}: `,d),d),d=>{throw cs("RestConnection",`RPC '${e}' ${a} failed with error: `,d,"url: ",c,"request:",r),d})}Lo(e,i,r,o,s,a){return this.Mo(e,i,r,o,s)}Oo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Jf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>e[s]=o),r&&r.headers.forEach((o,s)=>e[s]=o)}xo(e,i){return`${this.Do}/v1/${i}:${the[e]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,e,i,r){const o=UD();return new Promise((s,a)=>{const c=new a5;c.setWithCredentials(!0),c.listenOnce(c5.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case _w.NO_ERROR:const d=c.getResponseJson();Ce(oo,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(d)),s(d);break;case _w.TIMEOUT:Ce(oo,`RPC '${t}' ${o} timed out`),a(new Ee(de.DEADLINE_EXCEEDED,"Request time out"));break;case _w.HTTP_ERROR:const u=c.getStatus();if(Ce(oo,`RPC '${t}' ${o} failed with status:`,u,"response text:",c.getResponseText()),u>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const b=p?.error;if(b&&b.status&&b.message){const v=function(w){const F=w.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(F)>=0?F:de.UNKNOWN}(b.status);a(new Ee(v,b.message))}else a(new Ee(de.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Ee(de.UNAVAILABLE,"Connection failed."));break;default:$e()}}finally{Ce(oo,`RPC '${t}' ${o} completed.`)}});const l=JSON.stringify(r);Ce(oo,`RPC '${t}' ${o} sending request:`,r),c.send(e,"POST",l,i,15)})}Bo(t,e,i){const r=UD(),o=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=u5(),a=d5(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,e,i),c.encodeInitMessageHeaders=!0;const d=o.join("");Ce(oo,`Creating RPC '${t}' stream ${r}: ${d}`,c);const u=s.createWebChannel(d,c);let p=!1,b=!1;const v=new nhe({Io:w=>{b?Ce(oo,`Not sending because RPC '${t}' stream ${r} is closed:`,w):(p||(Ce(oo,`Opening RPC '${t}' stream ${r} transport.`),u.open(),p=!0),Ce(oo,`RPC '${t}' stream ${r} sending:`,w),u.send(w))},To:()=>u.close()}),x=(w,F,R)=>{w.listen(F,z=>{try{R(z)}catch(K){setTimeout(()=>{throw K},0)}})};return x(u,M_.EventType.OPEN,()=>{b||(Ce(oo,`RPC '${t}' stream ${r} transport opened.`),v.yo())}),x(u,M_.EventType.CLOSE,()=>{b||(b=!0,Ce(oo,`RPC '${t}' stream ${r} transport closed`),v.So())}),x(u,M_.EventType.ERROR,w=>{b||(b=!0,cs(oo,`RPC '${t}' stream ${r} transport errored:`,w),v.So(new Ee(de.UNAVAILABLE,"The operation could not be completed")))}),x(u,M_.EventType.MESSAGE,w=>{var F;if(!b){const R=w.data[0];Je(!!R);const K=R.error||(null===(F=R[0])||void 0===F?void 0:F.error);if(K){Ce(oo,`RPC '${t}' stream ${r} received error:`,K);const Z=K.status;let ne=function(B){const G=sr[B];if(void 0!==G)return Cz(G)}(Z),U=K.message;void 0===ne&&(ne=de.INTERNAL,U="Unknown error status: "+Z+" with message "+K.message),b=!0,v.So(new Ee(ne,U)),u.close()}else Ce(oo,`RPC '${t}' stream ${r} received:`,R),v.bo(R)}}),x(a,l5.STAT_EVENT,w=>{w.stat===WS.PROXY?Ce(oo,`RPC '${t}' stream ${r} detected buffering proxy`):w.stat===WS.NOPROXY&&Ce(oo,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function NH(){return typeof window<"u"?window:null}function Yw(){return typeof document<"u"?document:null}function ab(n){return new uue(n,!0)}class jD{constructor(t,e,i=1e3,r=1.5,o=6e4){this.ui=t,this.timerId=e,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const e=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,e-i);r>0&&Ce("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class FH{constructor(t,e,i,r,o,s,a,c){this.ui=t,this.Ho=i,this.Jo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new jD(t,e)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,$.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,$.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,e){var i=this;return(0,$.A)(function*(){i.u_(),i.c_(),i.t_.cancel(),i.Yo++,4!==t?i.t_.reset():e&&e.code===de.RESOURCE_EXHAUSTED?(Ji(e.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),i.t_.Wo()):e&&e.code===de.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.l_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.mo(e)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===e&&this.P_(i,r)},i=>{t(()=>{const r=new Ee(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(t,e){const i=this.h_(this.Yo);this.stream=this.T_(t,e),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>1==++this.e_?this.E_(r):this.onNext(r))})}i_(){var t=this;this.state=5,this.t_.Go((0,$.A)(function*(){t.state=0,t.start()}))}I_(t){return Ce("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return e=>{this.ui.enqueueAndForget(()=>this.Yo===t?e():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rhe extends FH{constructor(t,e,i,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}T_(t,e){return this.connection.Bo("Listen",t,e)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const e=function mue(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(l=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:$e(),r=t.targetChange.targetIds||[],o=function(l,d){return l.useProto3Json?(Je(void 0===d||"string"==typeof d),Ui.fromBase64String(d||"")):(Je(void 0===d||d instanceof Buffer||d instanceof Uint8Array),Ui.fromUint8Array(d||new Uint8Array))}(n,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(l){const d=void 0===l.code?de.UNKNOWN:Cz(l.code);return new Ee(d,l.message||"")}(s);e=new Dz(i,r,o,a||null)}else if("documentChange"in t){const i=t.documentChange,r=Ua(n,i.document.name),o=Zi(i.document.updateTime),s=i.document.createTime?Zi(i.document.createTime):nt.min(),a=new Ur({mapValue:{fields:i.document.fields}}),c=_i.newFoundDocument(r,o,s,a);e=new Ow(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in t){const i=t.documentDelete,r=Ua(n,i.document),o=i.readTime?Zi(i.readTime):nt.min(),s=_i.newNoDocument(r,o);e=new Ow([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){const i=t.documentRemove,r=Ua(n,i.document);e=new Ow([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return $e();{const i=t.filter,{count:r=0,unchangedNames:o}=i,s=new oue(r,o);e=new Sz(i.targetId,s)}}var l;return e}(this.serializer,t),i=function(o){if(!("targetChange"in o))return nt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?nt.min():s.readTime?Zi(s.readTime):nt.min()}(t);return this.listener.d_(e,i)}A_(t){const e={};e.database=_D(this.serializer),e.addTarget=function(o,s){let a;const c=s.target;if(a=Aw(c)?{documents:jz(o,c)}:{query:Nw(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Oz(o,s.resumeToken);const l=mD(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(nt.min())>0){a.readTime=fm(o,s.snapshotVersion.toTimestamp());const l=mD(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,t);const i=function gue(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.a_(e)}R_(t){const e={};e.database=_D(this.serializer),e.removeTarget=t,this.a_(e)}}class ohe extends FH{constructor(t,e,i,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,e){return this.connection.Bo("Write",t,e)}E_(t){return Je(!!t.streamToken),this.lastStreamToken=t.streamToken,Je(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){Je(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const e=function pue(n,t){return n&&n.length>0?(Je(void 0!==t),n.map(e=>function(r,o){let s=Zi(r.updateTime?r.updateTime:o);return s.isEqual(nt.min())&&(s=Zi(o)),new nue(s,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Zi(t.commitTime);return this.listener.g_(i,e)}p_(){const t={};t.database=_D(this.serializer),this.a_(t)}m_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Z_(this.serializer,i))};this.a_(e)}}class she extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Ee(de.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,e,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(t,gD(e,i),r,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ee(de.UNKNOWN,o.toString())})}Lo(t,e,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(t,gD(e,i),r,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ee(de.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class ahe{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ji(e),this.D_=!1):Ce("OnlineStateTracker",e)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class che{constructor(t,e,i,r,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{i.enqueueAndForget((0,$.A)(function*(){var c;Wl(s)&&(Ce("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,$.A)(function*(d){const u=Ve(d);u.L_.add(4),yield xm(u),u.q_.set("Unknown"),u.L_.delete(4),yield cb(u)}),function l(d){return c.apply(this,arguments)})(s))}))}),this.q_=new ahe(i,r)}}function cb(n){return zD.apply(this,arguments)}function zD(){return(zD=(0,$.A)(function*(n){if(Wl(n))for(const t of n.B_)yield t(!0)})).apply(this,arguments)}function xm(n){return HD.apply(this,arguments)}function HD(){return(HD=(0,$.A)(function*(n){for(const t of n.B_)yield t(!1)})).apply(this,arguments)}function Xw(n,t){const e=Ve(n);e.N_.has(t.targetId)||(e.N_.set(t.targetId,t),GD(e)?WD(e):Im(e).r_()&&qD(e,t))}function wm(n,t){const e=Ve(n),i=Im(e);e.N_.delete(t),i.r_()&&LH(e,t),0===e.N_.size&&(i.r_()?i.o_():Wl(e)&&e.q_.set("Unknown"))}function qD(n,t){if(n.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(nt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Im(n).A_(t)}function LH(n,t){n.Q_.xe(t),Im(n).R_(t)}function WD(n){n.Q_=new aue({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.N_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),Im(n).start(),n.q_.v_()}function GD(n){return Wl(n)&&!Im(n).n_()&&n.N_.size>0}function Wl(n){return 0===Ve(n).L_.size}function VH(n){n.Q_=void 0}function lhe(n){return $D.apply(this,arguments)}function $D(){return($D=(0,$.A)(function*(n){n.q_.set("Online")})).apply(this,arguments)}function dhe(n){return KD.apply(this,arguments)}function KD(){return(KD=(0,$.A)(function*(n){n.N_.forEach((t,e)=>{qD(n,t)})})).apply(this,arguments)}function uhe(n,t){return QD.apply(this,arguments)}function QD(){return(QD=(0,$.A)(function*(n,t){VH(n),GD(n)?(n.q_.M_(t),WD(n)):n.q_.set("Unknown")})).apply(this,arguments)}function hhe(n,t,e){return YD.apply(this,arguments)}function YD(){return YD=(0,$.A)(function*(n,t,e){if(n.q_.set("Online"),t instanceof Dz&&2===t.state&&t.cause)try{yield(i=(0,$.A)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.N_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.N_.delete(c),o.Q_.removeTarget(c))}),function r(o,s){return i.apply(this,arguments)})(n,t)}catch(i){Ce("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield Jw(n,i)}else if(t instanceof Ow?n.Q_.Ke(t):t instanceof Sz?n.Q_.He(t):n.Q_.We(t),!e.isEqual(nt.min()))try{const i=yield TH(n.localStore);e.compareTo(i)>=0&&(yield function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.N_.get(l);d&&o.N_.set(l,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{const d=o.N_.get(c);if(!d)return;o.N_.set(c,d.withResumeToken(Ui.EMPTY_BYTE_STRING,d.snapshotVersion)),LH(o,c);const u=new kc(d.target,c,l,d.sequenceNumber);qD(o,u)}),o.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){Ce("RemoteStore","Failed to raise snapshot:",i),yield Jw(n,i)}var i}),YD.apply(this,arguments)}function Jw(n,t,e){return XD.apply(this,arguments)}function XD(){return(XD=(0,$.A)(function*(n,t,e){if(!Ol(t))throw t;n.L_.add(1),yield xm(n),n.q_.set("Offline"),e||(e=()=>TH(n.localStore)),n.asyncQueue.enqueueRetryable((0,$.A)(function*(){Ce("RemoteStore","Retrying IndexedDB access"),yield e(),n.L_.delete(1),yield cb(n)}))})).apply(this,arguments)}function BH(n,t){return t().catch(e=>Jw(n,e,t))}function Em(n){return JD.apply(this,arguments)}function JD(){return(JD=(0,$.A)(function*(n){const t=Ve(n),e=Gl(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;fhe(t);)try{const r=yield Xue(t.localStore,i);if(null===r){0===t.O_.length&&e.o_();break}i=r.batchId,mhe(t,r)}catch(r){yield Jw(t,r)}UH(t)&&jH(t)})).apply(this,arguments)}function fhe(n){return Wl(n)&&n.O_.length<10}function mhe(n,t){n.O_.push(t);const e=Gl(n);e.r_()&&e.V_&&e.m_(t.mutations)}function UH(n){return Wl(n)&&!Gl(n).n_()&&n.O_.length>0}function jH(n){Gl(n).start()}function phe(n){return ZD.apply(this,arguments)}function ZD(){return(ZD=(0,$.A)(function*(n){Gl(n).p_()})).apply(this,arguments)}function ghe(n){return e1.apply(this,arguments)}function e1(){return(e1=(0,$.A)(function*(n){const t=Gl(n);for(const e of n.O_)t.m_(e.mutations)})).apply(this,arguments)}function _he(n,t,e){return t1.apply(this,arguments)}function t1(){return(t1=(0,$.A)(function*(n,t,e){const i=n.O_.shift(),r=uD.from(i,t,e);yield BH(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Em(n)})).apply(this,arguments)}function bhe(n,t){return n1.apply(this,arguments)}function n1(){return n1=(0,$.A)(function*(n,t){var e;t&&Gl(n).V_&&(yield(e=(0,$.A)(function*(r,o){if(Iz(a=o.code)&&a!==de.ABORTED){const s=r.O_.shift();Gl(r).s_(),yield BH(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Em(r)}var a}),function i(r,o){return e.apply(this,arguments)})(n,t)),UH(n)&&jH(n)}),n1.apply(this,arguments)}function zH(n,t){return r1.apply(this,arguments)}function r1(){return(r1=(0,$.A)(function*(n,t){const e=Ve(n);e.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const i=Wl(e);e.L_.add(3),yield xm(e),i&&e.q_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.L_.delete(3),yield cb(e)})).apply(this,arguments)}function o1(n,t){return s1.apply(this,arguments)}function s1(){return(s1=(0,$.A)(function*(n,t){const e=Ve(n);t?(e.L_.delete(2),yield cb(e)):t||(e.L_.add(2),yield xm(e),e.q_.set("Unknown"))})).apply(this,arguments)}function Im(n){return n.K_||(n.K_=function(e,i,r){const o=Ve(e);return o.w_(),new rhe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:lhe.bind(null,n),Ro:dhe.bind(null,n),mo:uhe.bind(null,n),d_:hhe.bind(null,n)}),n.B_.push(function(){var t=(0,$.A)(function*(e){e?(n.K_.s_(),GD(n)?WD(n):n.q_.set("Unknown")):(yield n.K_.stop(),VH(n))});return function(e){return t.apply(this,arguments)}}())),n.K_}function Gl(n){return n.U_||(n.U_=function(e,i,r){const o=Ve(e);return o.w_(),new ohe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:phe.bind(null,n),mo:bhe.bind(null,n),f_:ghe.bind(null,n),g_:_he.bind(null,n)}),n.B_.push(function(){var t=(0,$.A)(function*(e){e?(n.U_.s_(),yield Em(n)):(yield n.U_.stop(),n.O_.length>0&&(Ce("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))});return function(e){return t.apply(this,arguments)}}())),n.U_}class a1{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const s=Date.now()+i,a=new a1(t,e,s,r,o);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ee(de.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cm(n,t){if(Ji("AsyncQueue",`${t}: ${n}`),Ol(n))return new Ee(de.UNAVAILABLE,`${t}: ${n}`);throw n}class Tm{constructor(t){this.comparator=t?(e,i)=>t(e,i)||ze.comparator(e.key,i.key):(e,i)=>ze.comparator(e.key,i.key),this.keyedMap=W_(),this.sortedSet=new ai(this.comparator)}static emptySet(t){return new Tm(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Tm)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Tm;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class HH{constructor(){this.W_=new ai(ze.comparator)}track(t){const e=t.doc.key,i=this.W_.get(e);i?0!==t.type&&3===i.type?this.W_=this.W_.insert(e,t):3===t.type&&1!==i.type?this.W_=this.W_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.W_=this.W_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.W_=this.W_.remove(e):1===t.type&&2===i.type?this.W_=this.W_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):$e():this.W_=this.W_.insert(e,t)}G_(){const t=[];return this.W_.inorderTraversal((e,i)=>{t.push(i)}),t}}class Am{constructor(t,e,i,r,o,s,a,c,l){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(t,e,i,r,o){const s=[];return e.forEach(a=>{s.push({type:0,doc:a})}),new Am(t,e,Tm.emptySet(e),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&H_(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class vhe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class yhe{constructor(){this.queries=qH(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,i){const r=Ve(e),o=r.queries;r.queries=qH(),o.forEach((s,a)=>{for(const c of a.j_)c.onError(i)})}(this,new Ee(de.ABORTED,"Firestore shutting down"))}}function qH(){return new Tc(n=>oz(n),H_)}function c1(n,t){return l1.apply(this,arguments)}function l1(){return(l1=(0,$.A)(function*(n,t){const e=Ve(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.H_()&&t.J_()&&(i=2):(o=new vhe,i=t.J_()?0:1);try{switch(i){case 0:o.z_=yield e.onListen(r,!0);break;case 1:o.z_=yield e.onListen(r,!1);break;case 2:yield e.onFirstRemoteStoreListen(r)}}catch(s){const a=Cm(s,`Initialization of query '${cm(t.query)}' failed`);return void t.onError(a)}e.queries.set(r,o),o.j_.push(t),t.Z_(e.onlineState),o.z_&&t.X_(o.z_)&&h1(e)})).apply(this,arguments)}function d1(n,t){return u1.apply(this,arguments)}function u1(){return(u1=(0,$.A)(function*(n,t){const e=Ve(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const s=o.j_.indexOf(t);s>=0&&(o.j_.splice(s,1),0===o.j_.length?r=t.J_()?0:1:!o.H_()&&t.J_()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}})).apply(this,arguments)}function xhe(n,t){const e=Ve(n);let i=!1;for(const r of t){const s=e.queries.get(r.query);if(s){for(const a of s.j_)a.X_(r)&&(i=!0);s.z_=r}}i&&h1(e)}function whe(n,t,e){const i=Ve(n),r=i.queries.get(t);if(r)for(const o of r.j_)o.onError(e);i.queries.delete(t)}function h1(n){n.Y_.forEach(t=>{t.next()})}var f1,WH;(WH=f1||(f1={})).ea="default",WH.Cache="cache";class m1{constructor(t,e,i){this.query=t,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Am(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.na?this.ia(t)&&(this.ta.next(t),e=!0):this.sa(t,this.onlineState)&&(this.oa(t),e=!0),this.ra=t,e}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),e=!0),e}sa(t,e){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=Am.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==f1.Cache}}class Ehe{constructor(t,e){this.aa=t,this.byteLength=e}ua(){return"metadata"in this.aa}}class GH{constructor(t){this.serializer=t}Es(t){return Ua(this.serializer,t)}ds(t){return t.metadata.exists?Uz(this.serializer,t.document,!1):_i.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return Zi(t)}}class Ihe{constructor(t,e,i){this.ca=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$H(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++e;const i=sn.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ha(t){const e=new Map,i=new GH(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.Es(r.metadata.name);for(const s of r.metadata.queries){const a=(e.get(s)||Lt()).add(o);e.set(s,a)}}return e}complete(){var t=this;return(0,$.A)(function*(){const e=yield function Jue(n,t,e,i){return OD.apply(this,arguments)}(t.localStore,new GH(t.serializer),t.documents,t.ca.id),i=t.ha(t.documents);for(const r of t.queries)yield Zue(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Pa:t.collectionGroups,Ia:e}})()}}function $H(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class KH{constructor(t){this.key=t}}class QH{constructor(t){this.key=t}}class YH{constructor(t,e){this.query=t,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Lt(),this.mutatedKeys=Lt(),this.Aa=az(t),this.Ra=new Tm(this.Aa)}get Va(){return this.Ta}ma(t,e){const i=e?e.fa:new HH,r=e?e.Ra:this.Ra;let o=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,u)=>{const p=r.get(d),b=q_(this.query,u)?u:null,v=!!p&&this.mutatedKeys.has(p.key),x=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let w=!1;p&&b?p.data.isEqual(b.data)?v!==x&&(i.track({type:3,doc:b}),w=!0):this.ga(p,b)||(i.track({type:2,doc:b}),w=!0,(c&&this.Aa(b,c)>0||l&&this.Aa(b,l)<0)&&(a=!0)):!p&&b?(i.track({type:0,doc:b}),w=!0):p&&!b&&(i.track({type:1,doc:p}),w=!0,(c||l)&&(a=!0)),w&&(b?(s=s.add(b),o=x?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const d="F"===this.query.limitType?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),i.track({type:1,doc:d})}return{Ra:s,fa:i,ns:a,mutatedKeys:o}}ga(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const s=t.fa.G_();s.sort((d,u)=>function(b,v){const x=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e()}};return x(b)-x(v)}(d.type,u.type)||this.Aa(d.doc,u.doc)),this.pa(i),r=null!=r&&r;const a=e&&!r?this.ya():[],c=0===this.da.size&&this.current&&!r?1:0,l=c!==this.Ea;return this.Ea=c,0!==s.length||l?{snapshot:new Am(this.query,t.Ra,o,s,t.mutatedKeys,0===c,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new HH,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Lt(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const e=[];return t.forEach(i=>{this.da.has(i)||e.push(new QH(i))}),this.da.forEach(i=>{t.has(i)||e.push(new KH(i))}),e}ba(t){this.Ta=t.Ts,this.da=Lt();const e=this.ma(t.documents);return this.applyChanges(e,!0)}Da(){return Am.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Che{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class The{constructor(t){this.key=t,this.va=!1}}class Ahe{constructor(t,e,i,r,o,s){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Tc(a=>oz(a),H_),this.Ma=new Map,this.xa=new Set,this.Oa=new ai(ze.comparator),this.Na=new Map,this.La=new TD,this.Ba={},this.ka=new Map,this.qa=Du.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function khe(n,t){return p1.apply(this,arguments)}function p1(){return(p1=(0,$.A)(function*(n,t,e=!0){const i=Zw(n);let r;const o=i.Fa.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=yield XH(i,t,e,!0),r})).apply(this,arguments)}function She(n,t){return g1.apply(this,arguments)}function g1(){return(g1=(0,$.A)(function*(n,t){const e=Zw(n);yield XH(e,t,!0,!1)})).apply(this,arguments)}function XH(n,t,e,i){return _1.apply(this,arguments)}function _1(){return(_1=(0,$.A)(function*(n,t,e,i){const r=yield vm(n.localStore,io(t)),o=r.targetId,s=n.sharedClientState.addLocalQueryTarget(o,e);let a;return i&&(a=yield b1(n,t,o,"current"===s,r.resumeToken)),n.isPrimaryClient&&e&&Xw(n.remoteStore,r),a})).apply(this,arguments)}function b1(n,t,e,i,r){return v1.apply(this,arguments)}function v1(){return v1=(0,$.A)(function*(n,t,e,i,r){n.Ka=(u,p,b)=>{return(v=(0,$.A)(function*(w,F,R,z){let K=F.view.ma(R);K.ns&&(K=yield Gw(w.localStore,F.query,!1).then(({documents:P})=>F.view.ma(P,K)));const Z=z&&z.targetChanges.get(F.targetId),ne=z&&null!=z.targetMismatches.get(F.targetId),U=F.view.applyChanges(K,w.isPrimaryClient,Z,ne);return D1(w,F.targetId,U.wa),U.snapshot}),function x(w,F,R,z){return v.apply(this,arguments)})(n,u,p,b);var v};const o=yield Gw(n.localStore,t,!0),s=new YH(t,o.Ts),a=s.ma(o.documents),c=X_.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),l=s.applyChanges(a,n.isPrimaryClient,c);D1(n,e,l.wa);const d=new Che(t,e,s);return n.Fa.set(t,d),n.Ma.has(e)?n.Ma.get(e).push(t):n.Ma.set(e,[t]),l.snapshot}),v1.apply(this,arguments)}function Dhe(n,t,e){return y1.apply(this,arguments)}function y1(){return(y1=(0,$.A)(function*(n,t,e){const i=Ve(n),r=i.Fa.get(t),o=i.Ma.get(r.targetId);if(o.length>1)return i.Ma.set(r.targetId,o.filter(s=>!H_(s,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ym(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&wm(i.remoteStore,r.targetId),km(i,r.targetId)}).catch(Pl))):(km(i,r.targetId),yield ym(i.localStore,r.targetId,!0))})).apply(this,arguments)}function Rhe(n,t){return x1.apply(this,arguments)}function x1(){return(x1=(0,$.A)(function*(n,t){const e=Ve(n),i=e.Fa.get(t),r=e.Ma.get(i.targetId);e.isPrimaryClient&&1===r.length&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),wm(e.remoteStore,i.targetId))})).apply(this,arguments)}function w1(){return(w1=(0,$.A)(function*(n,t,e){const i=j1(n);try{const r=yield function(s,a){const c=Ve(s),l=Ti.now(),d=a.reduce((b,v)=>b.add(v.key),Lt());let u,p;return c.persistence.runTransaction("Locally write mutations","readwrite",b=>{let v=Uo(),x=Lt();return c.cs.getEntries(b,d).next(w=>{v=w,v.forEach((F,R)=>{R.isValidDocument()||(x=x.add(F))})}).next(()=>c.localDocuments.getOverlayedDocuments(b,v)).next(w=>{u=w;const F=[];for(const R of a){const z=rue(R,u.get(R.key).overlayedDocument);null!=z&&F.push(new Ac(R.key,z,H5(z.value.mapValue),ki.exists(!0)))}return c.mutationQueue.addMutationBatch(b,l,F,a)}).next(w=>{p=w;const F=w.applyToLocalDocumentSet(u,x);return c.documentOverlayCache.saveOverlays(b,w.batchId,F)})}).then(()=>({batchId:p.batchId,changes:lz(u)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let l=s.Ba[s.currentUser.toKey()];l||(l=new ai(At)),l=l.insert(a,c),s.Ba[s.currentUser.toKey()]=l}(i,r.batchId,e),yield Sc(i,r.changes),yield Em(i.remoteStore)}catch(r){const o=Cm(r,"Failed to persist write");e.reject(o)}})).apply(this,arguments)}function JH(n,t){return E1.apply(this,arguments)}function E1(){return(E1=(0,$.A)(function*(n,t){const e=Ve(n);try{const i=yield function Yue(n,t){const e=Ve(n),i=t.snapshotVersion;let r=e.os;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=e.cs.newChangeBuffer({trackRemovals:!0});r=e.os;const a=[];t.targetChanges.forEach((d,u)=>{const p=r.get(u);if(!p)return;a.push(e.Ur.removeMatchingKeys(o,d.removedDocuments,u).next(()=>e.Ur.addMatchingKeys(o,d.addedDocuments,u)));let b=p.withSequenceNumber(o.currentSequenceNumber);var x,w,F;null!==t.targetMismatches.get(u)?b=b.withResumeToken(Ui.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):d.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(d.resumeToken,i)),r=r.insert(u,b),w=b,F=d,(0===(x=p).resumeToken.approximateByteSize()||w.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8||F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0)&&a.push(e.Ur.updateTargetData(o,b))});let c=Uo(),l=Lt();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(AH(o,s,t.documentUpdates).next(d=>{c=d.Ps,l=d.Is})),!i.isEqual(nt.min())){const d=e.Ur.getLastRemoteSnapshotVersion(o).next(u=>e.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(d)}return re.waitFor(a).next(()=>s.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(e.os=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const s=e.Na.get(o);s&&(Je(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.va=!0:r.modifiedDocuments.size>0?Je(s.va):r.removedDocuments.size>0&&(Je(s.va),s.va=!1))}),yield Sc(e,i,t)}catch(i){yield Pl(i)}})).apply(this,arguments)}function ZH(n,t,e){const i=Ve(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.Fa.forEach((o,s)=>{const a=s.view.Z_(t);a.snapshot&&r.push(a.snapshot)}),function(s,a){const c=Ve(s);c.onlineState=a;let l=!1;c.queries.forEach((d,u)=>{for(const p of u.j_)p.Z_(a)&&(l=!0)}),l&&h1(c)}(i.eventManager,t),r.length&&i.Ca.d_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Phe(n,t,e){return I1.apply(this,arguments)}function I1(){return(I1=(0,$.A)(function*(n,t,e){const i=Ve(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Na.get(t),o=r&&r.key;if(o){let s=new ai(ze.comparator);s=s.insert(o,_i.newNoDocument(o,nt.min()));const a=Lt().add(o),c=new Y_(nt.min(),new Map,new ai(At),s,a);yield JH(i,c),i.Oa=i.Oa.remove(o),i.Na.delete(t),R1(i)}else yield ym(i.localStore,t,!1).then(()=>km(i,t,e)).catch(Pl)})).apply(this,arguments)}function Ohe(n,t){return C1.apply(this,arguments)}function C1(){return(C1=(0,$.A)(function*(n,t){const e=Ve(n),i=t.batch.batchId;try{const r=yield function Que(n,t){const e=Ve(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,d){const u=l.batch,p=u.keys();let b=re.resolve();return p.forEach(v=>{b=b.next(()=>d.getEntry(c,v)).next(x=>{const w=l.docVersions.get(v);Je(null!==w),x.version.compareTo(w)<0&&(u.applyToRemoteDocument(x,l),x.isValidDocument()&&(x.setReadTime(l.commitVersion),d.addEntry(x)))})}),b.next(()=>a.mutationQueue.removeMutationBatch(c,u))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=Lt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);S1(e,i,null),k1(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Sc(e,r)}catch(r){yield Pl(r)}})).apply(this,arguments)}function Nhe(n,t,e){return T1.apply(this,arguments)}function T1(){return(T1=(0,$.A)(function*(n,t,e){const i=Ve(n);try{const r=yield function(s,a){const c=Ve(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(u=>(Je(null!==u),d=u.keys(),c.mutationQueue.removeMutationBatch(l,u))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})}(i.localStore,t);S1(i,t,e),k1(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Sc(i,r)}catch(r){yield Pl(r)}})).apply(this,arguments)}function A1(){return(A1=(0,$.A)(function*(n,t){const e=Ve(n);Wl(e.remoteStore)||Ce("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=Ve(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ka.get(i)||[];r.push(t),e.ka.set(i,r)}catch(i){const r=Cm(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}})).apply(this,arguments)}function k1(n,t){(n.ka.get(t)||[]).forEach(e=>{e.resolve()}),n.ka.delete(t)}function S1(n,t,e){const i=Ve(n);let r=i.Ba[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ba[i.currentUser.toKey()]=r}}function km(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Ma.get(t))n.Fa.delete(i),e&&n.Ca.$a(i,e);n.Ma.delete(t),n.isPrimaryClient&&n.La.gr(t).forEach(i=>{n.La.containsKey(i)||e6(n,i)})}function e6(n,t){n.xa.delete(t.path.canonicalString());const e=n.Oa.get(t);null!==e&&(wm(n.remoteStore,e),n.Oa=n.Oa.remove(t),n.Na.delete(e),R1(n))}function D1(n,t,e){for(const i of e)i instanceof KH?(n.La.addReference(i.key,t),Lhe(n,i)):i instanceof QH?(Ce("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,t),n.La.containsKey(i.key)||e6(n,i.key)):$e()}function Lhe(n,t){const e=t.key,i=e.path.canonicalString();n.Oa.get(e)||n.xa.has(i)||(Ce("SyncEngine","New document in limbo: "+e),n.xa.add(i),R1(n))}function R1(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const t=n.xa.values().next().value;n.xa.delete(t);const e=new ze(sn.fromString(t)),i=n.qa.next();n.Na.set(i,new The(e)),n.Oa=n.Oa.insert(e,i),Xw(n.remoteStore,new kc(io(sm(e.path)),i,"TargetPurposeLimboResolution",ds.oe))}}function Sc(n,t,e){return M1.apply(this,arguments)}function M1(){return M1=(0,$.A)(function*(n,t,e){const i=Ve(n),r=[],o=[],s=[];var a;i.Fa.isEmpty()||(i.Fa.forEach((a,c)=>{s.push(i.Ka(c,t,e).then(l=>{var d;if((l||e)&&i.isPrimaryClient){const u=l?!l.fromCache:null===(d=e?.targetChanges.get(c.targetId))||void 0===d?void 0:d.current;i.sharedClientState.updateQueryState(c.targetId,u?"current":"not-current")}if(l){r.push(l);const u=RD.Wi(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),i.Ca.d_(r),yield(a=(0,$.A)(function*(l,d){const u=Ve(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>re.forEach(d,b=>re.forEach(b.$i,v=>u.persistence.referenceDelegate.addReference(p,b.targetId,v)).next(()=>re.forEach(b.Ui,v=>u.persistence.referenceDelegate.removeReference(p,b.targetId,v)))))}catch(p){if(!Ol(p))throw p;Ce("LocalStore","Failed to update sequence numbers: "+p)}for(const p of d){const b=p.targetId;if(!p.fromCache){const v=u.os.get(b),w=v.withLastLimboFreeSnapshotVersion(v.snapshotVersion);u.os=u.os.insert(b,w)}}}),function c(l,d){return a.apply(this,arguments)})(i.localStore,o))}),M1.apply(this,arguments)}function Vhe(n,t){return P1.apply(this,arguments)}function P1(){return(P1=(0,$.A)(function*(n,t){const e=Ve(n);if(!e.currentUser.isEqual(t)){Ce("SyncEngine","User change. New user:",t.toKey());const i=yield CH(e.localStore,t);e.currentUser=t,(o=e).ka.forEach(a=>{a.forEach(c=>{c.reject(new Ee(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ka.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Sc(e,i.hs)}var o})).apply(this,arguments)}function Bhe(n,t){const e=Ve(n),i=e.Na.get(t);if(i&&i.va)return Lt().add(i.key);{let r=Lt();const o=e.Ma.get(t);if(!o)return r;for(const s of o){const a=e.Fa.get(s);r=r.unionWith(a.view.Va)}return r}}function Uhe(n,t){return O1.apply(this,arguments)}function O1(){return(O1=(0,$.A)(function*(n,t){const e=Ve(n),i=yield Gw(e.localStore,t.query,!0),r=t.view.ba(i);return e.isPrimaryClient&&D1(e,t.targetId,r.wa),r})).apply(this,arguments)}function jhe(n,t){return N1.apply(this,arguments)}function N1(){return(N1=(0,$.A)(function*(n,t){const e=Ve(n);return SH(e.localStore,t).then(i=>Sc(e,i))})).apply(this,arguments)}function zhe(n,t,e,i){return F1.apply(this,arguments)}function F1(){return(F1=(0,$.A)(function*(n,t,e,i){const r=Ve(n),o=yield function(a,c){const l=Ve(a),d=Ve(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",u=>d.Mn(u,c).next(p=>p?l.localDocuments.getDocuments(u,p):re.resolve(null)))}(r.localStore,t);var c;null!==o?("pending"===e?yield Em(r.remoteStore):"acknowledged"===e||"rejected"===e?(S1(r,t,i||null),k1(r,t),c=t,Ve(Ve(r.localStore).mutationQueue).On(c)):$e(),yield Sc(r,o)):Ce("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function L1(){return(L1=(0,$.A)(function*(n,t){const e=Ve(n);if(Zw(e),j1(e),!0===t&&!0!==e.Qa){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield t6(e,i.toArray());e.Qa=!0,yield o1(e.remoteStore,!0);for(const o of r)Xw(e.remoteStore,o)}else if(!1===t&&!1!==e.Qa){const i=[];let r=Promise.resolve();e.Ma.forEach((o,s)=>{e.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(km(e,s),ym(e.localStore,s,!0))),wm(e.remoteStore,s)}),yield r,yield t6(e,i),function(s){const a=Ve(s);a.Na.forEach((c,l)=>{wm(a.remoteStore,l)}),a.La.pr(),a.Na=new Map,a.Oa=new ai(ze.comparator)}(e),e.Qa=!1,yield o1(e.remoteStore,!1)}})).apply(this,arguments)}function t6(n,t,e){return V1.apply(this,arguments)}function V1(){return(V1=(0,$.A)(function*(n,t,e){const i=Ve(n),r=[],o=[];for(const s of t){let a;const c=i.Ma.get(s);if(c&&0!==c.length){a=yield vm(i.localStore,io(c[0]));for(const l of c){const d=i.Fa.get(l),u=yield Uhe(i,d);u.snapshot&&o.push(u.snapshot)}}else{const l=yield kH(i.localStore,s);a=yield vm(i.localStore,l),yield b1(i,n6(l),s,!1,a.resumeToken)}r.push(a)}return i.Ca.d_(o),r})).apply(this,arguments)}function n6(n){return tz(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function qhe(n){return e=Ve(n).localStore,Ve(Ve(e).persistence).Qi();var e}function Whe(n,t,e,i){return B1.apply(this,arguments)}function B1(){return(B1=(0,$.A)(function*(n,t,e,i){const r=Ve(n);if(r.Qa)return void Ce("SyncEngine","Ignoring unexpected query state notification.");const o=r.Ma.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const s=yield SH(r.localStore,sz(o[0])),a=Y_.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Ui.EMPTY_BYTE_STRING);yield Sc(r,s,a);break}case"rejected":yield ym(r.localStore,t,!0),km(r,t,i);break;default:$e()}})).apply(this,arguments)}function Ghe(n,t,e){return U1.apply(this,arguments)}function U1(){return(U1=(0,$.A)(function*(n,t,e){const i=Zw(n);if(i.Qa){for(const r of t){if(i.Ma.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){Ce("SyncEngine","Adding an already active target "+r);continue}const o=yield kH(i.localStore,r),s=yield vm(i.localStore,o);yield b1(i,n6(o),s.targetId,!1,s.resumeToken),Xw(i.remoteStore,s)}for(const r of e)i.Ma.has(r)&&(yield ym(i.localStore,r,!1).then(()=>{wm(i.remoteStore,r),km(i,r)}).catch(Pl))}})).apply(this,arguments)}function Zw(n){const t=Ve(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=JH.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bhe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Phe.bind(null,t),t.Ca.d_=xhe.bind(null,t.eventManager),t.Ca.$a=whe.bind(null,t.eventManager),t}function j1(n){const t=Ve(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ohe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Nhe.bind(null,t),t}let Sm=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){var i=this;return(0,$.A)(function*(){i.serializer=ab(e.databaseInfo.databaseId),i.sharedClientState=i.Wa(e),i.persistence=i.Ga(e),yield i.persistence.start(),i.localStore=i.za(e),i.gcScheduler=i.ja(e,i.localStore),i.indexBackfillerScheduler=i.Ha(e,i.localStore)})()}ja(e,i){return null}Ha(e,i){return null}za(e){return IH(this.persistence,new EH,e.initialUser,this.serializer)}Ga(e){return new AD(Hw.Zr,this.serializer)}Wa(e){return new PH}terminate(){var e=this;return(0,$.A)(function*(){var i,r;null===(i=e.gcScheduler)||void 0===i||i.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}return n.provider={build:()=>new n},n})();class z1 extends Sm{constructor(t,e,i){super(),this.Ja=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,$.A)(function*(){yield e().call(i,t),yield i.Ja.initialize(i,t),yield j1(i.Ja.syncEngine),yield Em(i.Ja.remoteStore),yield i.persistence.yi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(t){return IH(this.persistence,new EH,t.initialUser,this.serializer)}ja(t,e){return new mH(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ha(t,e){const i=new pde(e,this.persistence);return new mde(t.asyncQueue,i)}Ga(t){const e=DD(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ro.withCacheSize(this.cacheSizeBytes):ro.DEFAULT;return new SD(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,NH(),Yw(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(t){return new PH}}class i6 extends z1{constructor(t,e){super(t,e,!1),this.Ja=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,$.A)(function*(){yield e().call(i,t);const r=i.Ja.syncEngine;i.sharedClientState instanceof BD&&(i.sharedClientState.syncEngine={no:zhe.bind(null,r),ro:Whe.bind(null,r),io:Ghe.bind(null,r),Qi:qhe.bind(null,r),eo:jhe.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.yi(function(){var o=(0,$.A)(function*(s){yield function Hhe(n,t){return L1.apply(this,arguments)}(i.Ja.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}Wa(t){const e=NH();if(!BD.D(e))throw new Ee(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=DD(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new BD(e,t.asyncQueue,i,t.clientId,t.initialUser)}}let Dm=(()=>{class n{initialize(e,i){var r=this;return(0,$.A)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(i),r.remoteStore=r.createRemoteStore(i),r.eventManager=r.createEventManager(i),r.syncEngine=r.createSyncEngine(i,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>ZH(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=Vhe.bind(null,r.syncEngine),yield o1(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new yhe}createDatastore(e){const i=ab(e.databaseInfo.databaseId),r=new ihe(e.databaseInfo);return new she(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return r=this.localStore,o=this.datastore,s=e.asyncQueue,a=i=>ZH(this.syncEngine,i,0),c=OH.D()?new OH:new ehe,new che(r,o,s,a,c);var r,o,s,a,c}createSyncEngine(e,i){return function(o,s,a,c,l,d,u){const p=new Ahe(o,s,a,c,l,d);return u&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){var e=this;return(0,$.A)(function*(){var i,r,o;yield(o=(0,$.A)(function*(a){const c=Ve(a);Ce("RemoteStore","RemoteStore shutting down."),c.L_.add(5),yield xm(c),c.k_.shutdown(),c.q_.set("Unknown")}),function s(a){return o.apply(this,arguments)})(e.remoteStore),null===(i=e.datastore)||void 0===i||i.terminate(),null===(r=e.eventManager)||void 0===r||r.terminate()})()}}return n.provider={build:()=>new n},n})();function r6(n,t=10240){let e=0;return{read:()=>(0,$.A)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,$.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class eE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Ji("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,e){setTimeout(()=>{this.muted||t(e)},0)}}class Qhe{constructor(t,e){this.Xa=t,this.serializer=e,this.metadata=new Sr,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(i=>{i&&i.ua()?this.metadata.resolve(i.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.aa)}`))},i=>this.metadata.reject(i))}close(){return this.Xa.cancel()}getMetadata(){var t=this;return(0,$.A)(function*(){return t.metadata.promise})()}Ua(){var t=this;return(0,$.A)(function*(){return yield t.getMetadata(),t.tu()})()}tu(){var t=this;return(0,$.A)(function*(){const e=yield t.nu();if(null===e)return null;const i=t.eu.decode(e),r=Number(i);isNaN(r)&&t.ru(`length string (${i}) is not valid number`);const o=yield t.iu(r);return new Ehe(JSON.parse(o),e.length+r)})()}su(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}nu(){var t=this;return(0,$.A)(function*(){for(;t.su()<0&&!(yield t.ou()););if(0===t.buffer.length)return null;const e=t.su();e<0&&t.ru("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}iu(t){var e=this;return(0,$.A)(function*(){for(;e.buffer.length<t;)(yield e.ou())&&e.ru("Reached the end of bundle when more is expected.");const i=e.eu.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}ru(t){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${t}`)}ou(){var t=this;return(0,$.A)(function*(){const e=yield t.Xa.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Yhe{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,$.A)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw e.lastTransactionError=new Ee(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),e.lastTransactionError;const i=yield(r=(0,$.A)(function*(s,a){const c=Ve(s),l={documents:a.map(b=>J_(c.serializer,b))},d=yield c.Lo("BatchGetDocuments",c.serializer.databaseId,sn.emptyPath(),l,a.length),u=new Map;d.forEach(b=>{const v=function fue(n,t){return"found"in t?function(i,r){Je(!!r.found);const o=Ua(i,r.found.name),s=Zi(r.found.updateTime),a=r.found.createTime?Zi(r.found.createTime):nt.min(),c=new Ur({mapValue:{fields:r.found.fields}});return _i.newFoundDocument(o,s,a,c)}(n,t):"missing"in t?function(i,r){Je(!!r.missing),Je(!!r.readTime);const o=Ua(i,r.missing),s=Zi(r.readTime);return _i.newNoDocument(o,s)}(n,t):$e()}(c.serializer,b);u.set(v.key.toString(),v)});const p=[];return a.forEach(b=>{const v=u.get(b.toString());Je(!!v),p.push(v)}),p}),function o(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new hm(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,$.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=ze.fromPath(r);t.mutations.push(new lD(o,t.precondition(o)))}),yield(i=(0,$.A)(function*(o,s){const a=Ve(o),c={writes:s.map(l=>Z_(a.serializer,l))};yield a.Mo("Commit",a.serializer.databaseId,sn.emptyPath(),c)}),function r(o,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw $e();e=nt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ee(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(nt.min())?ki.exists(!1):ki.updateTime(e):ki.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(nt.min()))throw new Ee(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ki.updateTime(e)}return ki.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Xhe{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this._u=i.maxAttempts,this.t_=new jD(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var t=this;this.t_.Go((0,$.A)(function*(){const e=new Yhe(t.datastore),i=t.cu(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.lu(o)}))}).catch(r=>{t.lu(r)})}))}cu(t){try{const e=this.updateFunction(t);return!N_(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}lu(t){this._u>0&&this.hu(t)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(t)}hu(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!Iz(e)}return!1}}class Jhe{constructor(t,e,i,r,o){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=kr.UNAUTHENTICATED,this.clientId=p5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,function(){var a=(0,$.A)(function*(c){Ce("FirestoreClient","Received user=",c.uid),yield s.authCredentialListener(c),s.user=c});return function(c){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(Ce("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,$.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Cm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function H1(n,t){return q1.apply(this,arguments)}function q1(){return q1=(0,$.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const e=n.configuration;yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,$.A)(function*(o){i.isEqual(o)||(yield CH(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),q1.apply(this,arguments)}function o6(n,t){return W1.apply(this,arguments)}function W1(){return(W1=(0,$.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield G1(n);Ce("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>zH(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>zH(t.remoteStore,r)),n._onlineComponents=t})).apply(this,arguments)}function G1(n){return $1.apply(this,arguments)}function $1(){return($1=(0,$.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ce("FirestoreClient","Using user provided OfflineComponentProvider");try{yield H1(n,n._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===(r=t).name?r.code===de.FAILED_PRECONDITION||r.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code))throw t;cs("Error using user provided cache. Falling back to memory cache: "+t),yield H1(n,new Sm)}}else Ce("FirestoreClient","Using default OfflineComponentProvider"),yield H1(n,new Sm);var r;return n._offlineComponents})).apply(this,arguments)}function tE(n){return K1.apply(this,arguments)}function K1(){return(K1=(0,$.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ce("FirestoreClient","Using user provided OnlineComponentProvider"),yield o6(n,n._uninitializedComponentsProvider._online)):(Ce("FirestoreClient","Using default OnlineComponentProvider"),yield o6(n,new Dm))),n._onlineComponents})).apply(this,arguments)}function s6(n){return G1(n).then(t=>t.persistence)}function Rm(n){return G1(n).then(t=>t.localStore)}function a6(n){return tE(n).then(t=>t.remoteStore)}function Q1(n){return tE(n).then(t=>t.syncEngine)}function Mm(n){return Y1.apply(this,arguments)}function Y1(){return(Y1=(0,$.A)(function*(n){const t=yield tE(n),e=t.eventManager;return e.onListen=khe.bind(null,t.syncEngine),e.onUnlisten=Dhe.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=She.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Rhe.bind(null,t.syncEngine),e})).apply(this,arguments)}function l6(n,t,e={}){const i=new Sr;return n.asyncQueue.enqueueAndForget((0,$.A)(function*(){return function(o,s,a,c,l){const d=new eE({next:p=>{d.Za(),s.enqueueAndForget(()=>d1(o,u));const b=p.docs.has(a);!b&&p.fromCache?l.reject(new Ee(de.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&p.fromCache&&c&&"server"===c.source?l.reject(new Ee(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(p)},error:p=>l.reject(p)}),u=new m1(sm(a.path),d,{includeMetadataChanges:!0,_a:!0});return c1(o,u)}(yield Mm(n),n.asyncQueue,t,e,i)})),i.promise}function d6(n,t,e={}){const i=new Sr;return n.asyncQueue.enqueueAndForget((0,$.A)(function*(){return function(o,s,a,c,l){const d=new eE({next:p=>{d.Za(),s.enqueueAndForget(()=>d1(o,u)),p.fromCache&&"server"===c.source?l.reject(new Ee(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(p)},error:p=>l.reject(p)}),u=new m1(a,d,{includeMetadataChanges:!0,_a:!0});return c1(o,u)}(yield Mm(n),n.asyncQueue,t,e,i)})),i.promise}function u6(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const h6=new Map;function X1(n,t,e){if(!e)throw new Ee(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function f6(n,t,e,i){if(!0===t&&!0===i)throw new Ee(de.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function m6(n){if(!ze.isDocumentKey(n))throw new Ee(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function p6(n){if(ze.isDocumentKey(n))throw new Ee(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":$e()}function Jt(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ee(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=nE(n);throw new Ee(de.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function g6(n,t){if(t<=0)throw new Ee(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class _6{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Ee(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ee(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}f6("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=u6(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Ee(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ee(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ee(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lb{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _6({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ee(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _6(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new nde;switch(i.type){case"firstParty":return new sde(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ee(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var t=this;return(0,$.A)(function*(){"notTerminated"===t._terminateTask?yield t._terminate():t._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=h6.get(e);i&&(Ce("ComponentProvider","Removing Datastore"),h6.delete(e),i.terminate())}(this),Promise.resolve()}}function b6(n,t,e,i={}){var r;const o=(n=Jt(n,lb))._getSettings(),s=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=kr.MOCK_USER;else{a=(0,yn.Fy)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new Ee(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new kr(l)}n._authCredentials=new ide(new f5(a,c))}}class jr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new jr(this.firestore,t,this._query)}}class bi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bi(this.firestore,t,this._key)}}class ja extends jr{constructor(t,e,i){super(t,e,sm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bi(this.firestore,null,new ze(t))}withConverter(t){return new ja(this.firestore,t,this._path)}}function v6(n,t,...e){if(n=(0,yn.Ku)(n),X1("collection","path",t),n instanceof lb){const i=sn.fromString(t,...e);return p6(i),new ja(n,null,i)}{if(!(n instanceof bi||n instanceof ja))throw new Ee(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(sn.fromString(t,...e));return p6(i),new ja(n.firestore,null,i)}}function db(n,t,...e){if(n=(0,yn.Ku)(n),1===arguments.length&&(t=p5.newId()),X1("doc","path",t),n instanceof lb){const i=sn.fromString(t,...e);return m6(i),new bi(n,null,new ze(i))}{if(!(n instanceof bi||n instanceof ja))throw new Ee(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(sn.fromString(t,...e));return m6(i),new bi(n.firestore,n instanceof ja?n.converter:null,new ze(i))}}function y6(n,t){return n=(0,yn.Ku)(n),t=(0,yn.Ku)(t),(n instanceof bi||n instanceof ja)&&(t instanceof bi||t instanceof ja)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function J1(n,t){return n=(0,yn.Ku)(n),t=(0,yn.Ku)(t),n instanceof jr&&t instanceof jr&&n.firestore===t.firestore&&H_(n._query,t._query)&&n.converter===t.converter}class x6{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new jD(this,"async_queue_retry"),this.Vu=()=>{const i=Yw();i&&Ce("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=t;const e=Yw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const e=Yw();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const e=new Sr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}pu(){var t=this;return(0,$.A)(function*(){if(0!==t.Pu.length){try{yield t.Pu[0](),t.Pu.shift(),t.t_.reset()}catch(e){if(!Ol(e))throw e;Ce("AsyncQueue","Operation failed with retryable error: "+e)}t.Pu.length>0&&t.t_.Go(()=>t.pu())}})()}gu(t){const e=this.mu.then(()=>(this.du=!0,t().catch(i=>{throw this.Eu=i,this.du=!1,Ji("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.du=!1,i))));return this.mu=e,e}enqueueAfterDelay(t,e,i){this.fu(),this.Ru.indexOf(t)>-1&&(e=0);const r=a1.createAndSchedule(this,t,e,i,o=>this.yu(o));return this.Tu.push(r),r}fu(){this.Eu&&$e()}verifyOperationInProgress(){}wu(){var t=this;return(0,$.A)(function*(){let e;do{e=t.mu,yield e}while(e!==t.mu)})()}Su(t){for(const e of this.Tu)if(e.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Tu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const e=this.Tu.indexOf(t);this.Tu.splice(e,1)}}function Z1(n){return function(e,i){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class ufe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Sr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Xn extends lb{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new x6,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){var t=this;return(0,$.A)(function*(){if(t._firestoreClient){const e=t._firestoreClient.terminate();t._queue=new x6(e),t._firestoreClient=void 0,yield e}})()}}function ffe(n,t){const e="object"==typeof n?n:(0,to.getApp)(),i="string"==typeof n?n:t||"(default)",r=(0,to._getProvider)(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(0,yn.yU)("firestore");o&&b6(r,...o)}return r}function Si(n){if(n._terminated)throw new Ee(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||w6(n),n._firestoreClient}function w6(n){var t,e,i;const r=n._freezeSettings(),o=(c=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Lde(n._databaseId,c,n._persistenceKey,(d=r).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,u6(d.experimentalLongPollingOptions),d.useFetchStreams));var c,d;n._componentsProvider||!(null===(e=r.localCache)||void 0===e)&&e._offlineComponentProvider&&!(null===(i=r.localCache)||void 0===i)&&i._onlineComponentProvider&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new Jhe(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}function eR(){return(eR=(0,$.A)(function*(n){cs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();E6(n,Dm.provider,{build:e=>new i6(e,t.cacheSizeBytes)})})).apply(this,arguments)}function E6(n,t,e){if((n=Jt(n,Xn))._firestoreClient||n._terminated)throw new Ee(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new Ee(de.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:t,_offline:e},w6(n)}class za{constructor(t){this._byteString=t}static fromBase64String(t){try{return new za(Ui.fromBase64String(t))}catch(e){throw new Ee(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new za(Ui.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Dc{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ee(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Mu{constructor(t){this._methodName=t}}class iE{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ee(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ee(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return At(this._lat,t._lat)||At(this._long,t._long)}}class rE{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}}const Efe=/^__.*__$/;class Ife{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Ac(t,this.data,this.fieldMask,e,this.fieldTransforms):new um(t,this.data,e,this.fieldTransforms)}}class I6{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Ac(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function C6(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e()}}class oE{constructor(t,e,i,r,o,s){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new oE(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fu({path:i,xu:!1});return r.Ou(t),r}Nu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return cE(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if(C6(this.Cu)&&Efe.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class Cfe{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||ab(t)}Qu(t,e,i,r=!1){return new oE({Cu:t,methodName:e,qu:i,path:gi.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pu(n){const t=n._freezeSettings(),e=ab(n._databaseId);return new Cfe(n._databaseId,!!t.ignoreUndefinedProperties,e)}function sE(n,t,e,i,r,o={}){const s=n.Qu(o.merge||o.mergeFields?2:0,t,e,r);aR("Data must be an object, but it was:",s,i);const a=k6(i,s);let c,l;if(o.merge)c=new Bo(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const u of o.mergeFields){const p=fb(t,u,e);if(!s.contains(p))throw new Ee(de.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);D6(d,p)||d.push(p)}c=new Bo(d),l=s.fieldTransforms.filter(u=>c.covers(u.field))}else c=null,l=s.fieldTransforms;return new Ife(new Ur(a),c,l)}class hb extends Mu{_toFieldTransform(t){if(2!==t.Cu)throw t.Bu(1===t.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof hb}}function T6(n,t,e){return new oE({Cu:3,qu:t.settings.qu,methodName:n._methodName,xu:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class tR extends Mu{_toFieldTransform(t){return new $_(t.path,new lm)}isEqual(t){return t instanceof tR}}class nR extends Mu{constructor(t,e){super(t),this.Ku=e}_toFieldTransform(t){const e=T6(this,t,!0),i=this.Ku.map(o=>Ou(o,e)),r=new Eu(i);return new $_(t.path,r)}isEqual(t){return t instanceof nR&&(0,yn.bD)(this.Ku,t.Ku)}}class iR extends Mu{constructor(t,e){super(t),this.Ku=e}_toFieldTransform(t){const e=T6(this,t,!0),i=this.Ku.map(o=>Ou(o,e)),r=new Iu(i);return new $_(t.path,r)}isEqual(t){return t instanceof iR&&(0,yn.bD)(this.Ku,t.Ku)}}class rR extends Mu{constructor(t,e){super(t),this.$u=e}_toFieldTransform(t){const e=new dm(t.serializer,hz(t.serializer,this.$u));return new $_(t.path,e)}isEqual(t){return t instanceof rR&&this.$u===t.$u}}function oR(n,t,e,i){const r=n.Qu(1,t,e);aR("Data must be an object, but it was:",r,i);const o=[],s=Ur.empty();Nl(i,(c,l)=>{const d=aE(t,c,e);l=(0,yn.Ku)(l);const u=r.Nu(d);if(l instanceof hb)o.push(d);else{const p=Ou(l,u);null!=p&&(o.push(d),s.set(d,p))}});const a=new Bo(o);return new I6(s,a,r.fieldTransforms)}function sR(n,t,e,i,r,o){const s=n.Qu(1,t,e),a=[fb(t,i,e)],c=[r];if(o.length%2!=0)throw new Ee(de.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(fb(t,o[p])),c.push(o[p+1]);const l=[],d=Ur.empty();for(let p=a.length-1;p>=0;--p)if(!D6(l,a[p])){const b=a[p];let v=c[p];v=(0,yn.Ku)(v);const x=s.Nu(b);if(v instanceof hb)l.push(b);else{const w=Ou(v,x);null!=w&&(l.push(b),d.set(b,w))}}const u=new Bo(l);return new I6(d,u,s.fieldTransforms)}function A6(n,t,e,i=!1){return Ou(e,n.Qu(i?4:3,t))}function Ou(n,t){if(S6(n=(0,yn.Ku)(n)))return aR("Unsupported field value:",t,n),k6(n,t);if(n instanceof Mu)return function(i,r){if(!C6(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let c=Ou(a,r.Lu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if(null===(i=(0,yn.Ku)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return hz(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=Ti.fromDate(i);return{timestampValue:fm(r.serializer,o)}}if(i instanceof Ti){const o=new Ti(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:fm(r.serializer,o)}}if(i instanceof iE)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof za)return{bytesValue:Oz(r.serializer,i._byteString)};if(i instanceof bi){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:pD(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof rE)return a=r,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(c=>{if("number"!=typeof c)throw a.Bu("VectorValues must only contain numeric values.");return cD(a.serializer,c)})}}}}};var a;throw r.Bu(`Unsupported field value: ${nE(i)}`)}(n,t)}function k6(n,t){const e={};return M5(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Nl(n,(i,r)=>{const o=Ou(r,t.Mu(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function S6(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ti||n instanceof iE||n instanceof za||n instanceof bi||n instanceof Mu||n instanceof rE)}function aR(n,t,e){if(!S6(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=nE(e);throw t.Bu("an object"===i?n+" a custom object":n+" "+i)}var r}function fb(n,t,e){if((t=(0,yn.Ku)(t))instanceof Dc)return t._internalPath;if("string"==typeof t)return aE(n,t);throw cE("Field path arguments must be of type string or ",n,!1,void 0,e)}const Tfe=new RegExp("[~\\*/\\[\\]]");function aE(n,t,e){if(t.search(Tfe)>=0)throw cE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Dc(...t.split("."))._internalPath}catch{throw cE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function cE(n,t,e,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new Ee(de.INVALID_ARGUMENT,a+n+c)}function D6(n,t){return n.some(e=>e.isEqual(t))}class mb{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Afe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(lE("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Afe extends mb{data(){return super.data()}}function lE(n,t){return"string"==typeof t?aE(n,t):t instanceof Dc?t._internalPath:t._delegate._internalPath}function R6(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ee(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cR{}class pb extends cR{}function $l(n,t,...e){let i=[];t instanceof cR&&i.push(t),i=i.concat(e),function(o){const s=o.filter(c=>c instanceof Pm).length,a=o.filter(c=>c instanceof gb).length;if(s>1||s>0&&a>0)throw new Ee(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class gb extends pb{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new gb(t,e,i)}_apply(t){const e=this._parse(t);return N6(t._query,e),new jr(t.firestore,t.converter,sD(t._query,e))}_parse(t){const e=Pu(t.firestore);return function(o,s,a,c,l,d,u){let p;if(l.isKeyField()){if("array-contains"===d||"array-contains-any"===d)throw new Ee(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if("in"===d||"not-in"===d){O6(u,d);const b=[];for(const v of u)b.push(P6(c,o,v));p={arrayValue:{values:b}}}else p=P6(c,o,u)}else"in"!==d&&"not-in"!==d&&"array-contains-any"!==d||O6(u,d),p=A6(a,"where",u,"in"===d||"not-in"===d);return an.create(l,d,p)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Pm extends cR{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Pm(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Mn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const c of a)N6(s,c),s=sD(s,c)}(t._query,e),new jr(t.firestore,t.converter,sD(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class lR extends pb{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new lR(t,e)}_apply(t){const e=function(r,o,s){if(null!==r.startAt)throw new Ee(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ee(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new j_(o,s)}(t._query,this._field,this._direction);return new jr(t.firestore,t.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new Cc(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class dE extends pb{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new dE(t,e,i)}_apply(t){return new jr(t.firestore,t.converter,Sw(t._query,this._limit,this._limitType))}}class uE extends pb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new uE(t,e,i)}_apply(t){const e=M6(t,this.type,this._docOrFields,this._inclusive);return new jr(t.firestore,t.converter,(o=e,new Cc((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class hE extends pb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new hE(t,e,i)}_apply(t){const e=M6(t,this.type,this._docOrFields,this._inclusive);return new jr(t.firestore,t.converter,(o=e,new Cc((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function M6(n,t,e,i){if(e[0]=(0,yn.Ku)(e[0]),e[0]instanceof mb)return function(o,s,a,c,l){if(!c)throw new Ee(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const u of am(o))if(u.field.isKeyField())d.push(xu(s,c.key));else{const p=c.data.field(u.field);if(xw(p))throw new Ee(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===p){const b=u.field.canonicalString();throw new Ee(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}d.push(p)}return new Ul(d,l)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Pu(n.firestore);return function(s,a,c,l,d,u){const p=s.explicitOrderBy;if(d.length>p.length)throw new Ee(de.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let v=0;v<d.length;v++){const x=d[v];if(p[v].field.isKeyField()){if("string"!=typeof x)throw new Ee(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof x}`);if(!oD(s)&&-1!==x.indexOf("/"))throw new Ee(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${x}' contains a slash.`);const w=s.path.child(sn.fromString(x));if(!ze.isDocumentKey(w))throw new Ee(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const F=new ze(w);b.push(xu(a,F))}else{const w=A6(c,l,x);b.push(w)}}return new Ul(b,u)}(n._query,n.firestore._databaseId,r,t,e,i)}}function P6(n,t,e){if("string"==typeof(e=(0,yn.Ku)(e))){if(""===e)throw new Ee(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oD(t)&&-1!==e.indexOf("/"))throw new Ee(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(sn.fromString(e));if(!ze.isDocumentKey(i))throw new Ee(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return xu(n,new ze(i))}if(e instanceof bi)return xu(n,e._key);throw new Ee(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nE(e)}.`)}function O6(n,t){if(!Array.isArray(n)||0===n.length)throw new Ee(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function N6(n,t){const e=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Ee(de.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class dR{convertValue(t,e="none"){switch(Vl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ai(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ic(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw $e()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Nl(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,r;const o=null===(r=null===(i=null===(e=t.fields)||void 0===e?void 0:e.value.arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.map(s=>Ai(s.doubleValue));return new rE(o)}convertGeoPoint(t){return new iE(Ai(t.latitude),Ai(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=ww(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(L_(t));default:return null}}convertTimestamp(t){const e=Ec(t);return new Ti(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=sn.fromString(t);Je(Gz(i));const r=new Fl(i.get(1),i.get(3)),o=new ze(i.popFirst(5));return r.isEqual(e)||Ji(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function fE(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class Ffe extends dR{constructor(t){super(),this.firestore=t}convertBytes(t){return new za(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bi(this.firestore,null,e)}}class Nu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Rc extends mb{constructor(t,e,i,r,o,s){super(t,e,i,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new _b(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(lE("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class _b extends Rc{data(t={}){return super.data(t)}}class Kl{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Nu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new _b(this._firestore,this._userDataWriter,i.key,i,new Nu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ee(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new _b(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Nu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new _b(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Nu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,d=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:Vfe(a.type),doc:c,oldIndex:l,newIndex:d}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Vfe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e()}}function L6(n,t){return n instanceof Rc&&t instanceof Rc?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Kl&&t instanceof Kl&&n._firestore===t._firestore&&J1(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function V6(n){n=Jt(n,bi);const t=Jt(n.firestore,Xn);return l6(Si(t),n._key).then(e=>hR(t,n,e))}class Ql extends dR{constructor(t){super(),this.firestore=t}convertBytes(t){return new za(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bi(this.firestore,null,e)}}function uR(n,t,e){n=Jt(n,bi);const i=Jt(n.firestore,Xn),r=fE(n.converter,t,e);return Om(i,[sE(Pu(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,ki.none())])}function B6(n,t,e,...i){n=Jt(n,bi);const r=Jt(n.firestore,Xn),o=Pu(r);let s;return s="string"==typeof(t=(0,yn.Ku)(t))||t instanceof Dc?sR(o,"updateDoc",n._key,t,e,i):oR(o,"updateDoc",n._key,t),Om(r,[s.toMutation(n._key,ki.exists(!0))])}function U6(n,...t){var e,i,r;n=(0,yn.Ku)(n);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof t[s]||Z1(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Z1(t[s])){const u=t[s];t[s]=null===(e=u.next)||void 0===e?void 0:e.bind(u),t[s+1]=null===(i=u.error)||void 0===i?void 0:i.bind(u),t[s+2]=null===(r=u.complete)||void 0===r?void 0:r.bind(u)}let c,l,d;if(n instanceof bi)l=Jt(n.firestore,Xn),d=sm(n._key.path),c={next:u=>{t[s]&&t[s](hR(l,n,u))},error:t[s+1],complete:t[s+2]};else{const u=Jt(n,jr);l=Jt(u.firestore,Xn),d=u._query;const p=new Ql(l);c={next:b=>{t[s]&&t[s](new Kl(l,p,u,b))},error:t[s+1],complete:t[s+2]},R6(n._query)}return function(p,b,v,x){const w=new eE(x),F=new m1(b,w,v);return p.asyncQueue.enqueueAndForget((0,$.A)(function*(){return c1(yield Mm(p),F)})),()=>{w.Za(),p.asyncQueue.enqueueAndForget((0,$.A)(function*(){return d1(yield Mm(p),F)}))}}(Si(l),d,a,c)}function Om(n,t){return function(i,r){const o=new Sr;return i.asyncQueue.enqueueAndForget((0,$.A)(function*(){return function Mhe(n,t,e){return w1.apply(this,arguments)}(yield Q1(i),r,o)})),o.promise}(Si(n),t)}function hR(n,t,e){const i=e.docs.get(t._key),r=new Ql(n);return new Rc(n,r,t._key,i,new Nu(e.hasPendingWrites,e.fromCache),t.converter)}const tme={maxAttempts:5};class j6{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Pu(t)}set(t,e,i){this._verifyNotCommitted();const r=Yl(t,this._firestore),o=fE(r.converter,e,i),s=sE(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,ki.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Yl(t,this._firestore);let s;return s="string"==typeof(e=(0,yn.Ku)(e))||e instanceof Dc?sR(this._dataReader,"WriteBatch.update",o._key,e,i,r):oR(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,ki.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Yl(t,this._firestore);return this._mutations=this._mutations.concat(new hm(e._key,ki.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ee(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yl(n,t){if((n=(0,yn.Ku)(n)).firestore!==t)throw new Ee(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class nme extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=Pu(e)}get(e){const i=Yl(e,this._firestore),r=new Ffe(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return $e();const s=o[0];if(s.isFoundDocument())return new mb(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new mb(this._firestore,r,i._key,null,i.converter);throw $e()})}set(e,i,r){const o=Yl(e,this._firestore),s=fE(o.converter,i,r),a=sE(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(e,i,r,...o){const s=Yl(e,this._firestore);let a;return a="string"==typeof(i=(0,yn.Ku)(i))||i instanceof Dc?sR(this._dataReader,"Transaction.update",s._key,i,r,o):oR(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(e){const i=Yl(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Yl(t,this._firestore),i=new Ql(this._firestore);return super.get(t).then(r=>new Rc(this._firestore,i,e._key,r._document,new Nu(!1,!1),e.converter))}}function mR(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ee("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function W6(){if(typeof Uint8Array>"u")throw new Ee("unimplemented","Uint8Arrays are not available in this environment.")}function G6(){if(!function Nde(){return typeof atob<"u"}())throw new Ee("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){Jf=to.SDK_VERSION,(0,to._registerComponent)(new n5.uA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new Xn(new rde(i.getProvider("auth-internal")),new ade(i.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Ee(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(l.options.projectId,d)}(s,r),s);return o=Object.assign({useFetchStreams:e},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,to.registerVersion)(h5,"4.7.3",t),(0,to.registerVersion)(h5,"4.7.3","esm2017")}();class bb{constructor(t){this._delegate=t}static fromBase64String(t){return G6(),new bb(za.fromBase64String(t))}static fromUint8Array(t){return W6(),new bb(za.fromUint8Array(t))}toBase64(){return G6(),this._delegate.toBase64()}toUint8Array(){return W6(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function pR(n){return function hme(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class fme{enableIndexedDbPersistence(t,e){return function mfe(n,t){cs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();return E6(n,Dm.provider,{build:i=>new z1(i,e.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function pfe(n){return eR.apply(this,arguments)}(t._delegate)}clearIndexedDbPersistence(t){return function gfe(n){if(n._initialized&&!n._terminated)throw new Ee(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Sr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,$.A)(function*(){try{yield(e=(0,$.A)(function*(r){if(!Fa.D())return Promise.resolve();const o=r+"main";yield Fa.delete(o)}),function i(r){return e.apply(this,arguments)})(DD(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class $6{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Fl||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&cs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){b6(this._delegate,t,e,i)}enableNetwork(){return function bfe(n){return function Zhe(n){return n.asyncQueue.enqueue((0,$.A)(function*(){const t=yield s6(n),e=yield a6(n);return t.setNetworkEnabled(!0),function(r){const o=Ve(r);return o.L_.delete(0),cb(o)}(e)}))}(Si(n=Jt(n,Xn)))}(this._delegate)}disableNetwork(){return function vfe(n){return function efe(n){return n.asyncQueue.enqueue((0,$.A)(function*(){const t=yield s6(n),e=yield a6(n);return t.setNetworkEnabled(!1),(i=(0,$.A)(function*(o){const s=Ve(o);s.L_.add(0),yield xm(s),s.q_.set("Offline")}),function r(o){return i.apply(this,arguments)})(e);var i}))}(Si(n=Jt(n,Xn)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,f6("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function _fe(n){return function(e){const i=new Sr;return e.asyncQueue.enqueueAndForget((0,$.A)(function*(){return function Fhe(n,t){return A1.apply(this,arguments)}(yield Q1(e),i)})),i.promise}(Si(n=Jt(n,Xn)))}(this._delegate)}onSnapshotsInSync(t){return function Gfe(n,t){return function rfe(n,t){const e=new eE(t);return n.asyncQueue.enqueueAndForget((0,$.A)(function*(){return r=yield Mm(n),o=e,Ve(r).Y_.add(o),void o.next();var r,o})),()=>{e.Za(),n.asyncQueue.enqueueAndForget((0,$.A)(function*(){return r=yield Mm(n),o=e,void Ve(r).Y_.delete(o);var r,o}))}}(Si(n=Jt(n,Xn)),Z1(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ee("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Nm(this,v6(this._delegate,t))}catch(e){throw Io(e,"collection()","Firestore.collection()")}}doc(t){try{return new Ms(this,db(this._delegate,t))}catch(e){throw Io(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Co(this,function dfe(n,t){if(n=Jt(n,lb),X1("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ee(de.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new jr(n,null,(i=t,new Cc(sn.emptyPath(),i)));var i}(this._delegate,t))}catch(e){throw Io(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function ime(n,t,e){n=Jt(n,Xn);const i=Object.assign(Object.assign({},tme),e);return function(o){if(o.maxAttempts<1)throw new Ee(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const c=new Sr;return o.asyncQueue.enqueueAndForget((0,$.A)(function*(){const l=yield function c6(n){return tE(n).then(t=>t.datastore)}(o);new Xhe(o.asyncQueue,l,a,s,c).au()})),c.promise}(Si(n),r=>t(new nme(n,r)),i)}(this._delegate,e=>t(new K6(this,e)))}batch(){return Si(this._delegate),new Q6(new j6(this._delegate,t=>Om(this._delegate,t)))}loadBundle(t){return function yfe(n,t){const e=Si(n=Jt(n,Xn)),i=new ufe;return function ofe(n,t,e,i){const r=function(s,a){let c;return c="string"==typeof s?Tz().encode(s):s,d=function(d,u){if(d instanceof Uint8Array)return r6(d,u);if(d instanceof ArrayBuffer)return r6(new Uint8Array(d),u);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new Qhe(d,a);var d}(e,ab(t));n.asyncQueue.enqueueAndForget((0,$.A)(function*(){!function $he(n,t,e){const i=Ve(n);var r;(r=(0,$.A)(function*(s,a,c){try{const l=yield a.getMetadata();if(yield function(v,x){const w=Ve(v),F=Zi(x.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",R=>w.Gr.getBundleMetadata(R,x.id)).then(R=>!!R&&R.createTime.compareTo(F)>=0)}(s.localStore,l))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(v=l).totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}),Promise.resolve(new Set);c._updateProgress($H(l));const d=new Ihe(l,s.localStore,a.serializer);let u=yield a.Ua();for(;u;){const b=yield d.la(u);b&&c._updateProgress(b),u=yield a.Ua()}const p=yield d.complete();return yield Sc(s,p.Ia,void 0),yield function(v,x){const w=Ve(v);return w.persistence.runTransaction("Save bundle","readwrite",F=>w.Gr.saveBundleMetadata(F,x))}(s.localStore,l),c._completeWith(p.progress),Promise.resolve(p.Pa)}catch(l){return cs("SyncEngine",`Loading bundle failed with ${l}`),c._failWith(l),Promise.resolve(new Set)}var v}),function o(s,a,c){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield Q1(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function xfe(n,t){return function sfe(n,t){return n.asyncQueue.enqueue((0,$.A)(function*(){return function(i,r){const o=Ve(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Gr.getNamedQuery(s,r))}(yield Rm(n),t)}))}(Si(n=Jt(n,Xn)),t).then(e=>e?new jr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Co(this,e):null)}}class pE extends dR{constructor(t){super(),this.firestore=t}convertBytes(t){return new bb(new za(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Ms.forKey(e,this.firestore,null)}}class K6{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new pE(t)}get(t){const e=Lu(t);return this._delegate.get(e).then(i=>new vb(this._firestore,new Rc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Lu(t);return i?(mR("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Lu(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Lu(t);return this._delegate.delete(e),this}}class Q6{constructor(t){this._delegate=t}set(t,e,i){const r=Lu(t);return i?(mR("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Lu(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Lu(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Fu{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new _b(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new yb(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Fu.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Fu(t,new pE(t),e),r.set(e,o)),o}}Fu.INSTANCES=new WeakMap;class Ms{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new pE(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ee("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ms(e,new bi(e._delegate,i,new ze(t)))}static forKey(t,e,i){return new Ms(e,new bi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Nm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Nm(this.firestore,v6(this._delegate,t))}catch(e){throw Io(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,yn.Ku)(t))instanceof bi&&y6(this._delegate,t)}set(t,e){e=mR("DocumentReference.set",e);try{return e?uR(this._delegate,t,e):uR(this._delegate,t)}catch(i){throw Io(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?B6(this._delegate,t):B6(this._delegate,t,e,...i)}catch(r){throw Io(r,"updateDoc()","DocumentReference.update()")}}delete(){return function qfe(n){return Om(Jt(n.firestore,Xn),[new hm(n._key,ki.none())])}(this._delegate)}onSnapshot(...t){const e=Y6(t),i=X6(t,r=>new vb(this.firestore,new Rc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return U6(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function Bfe(n){n=Jt(n,bi);const t=Jt(n.firestore,Xn),e=Si(t),i=new Ql(t);return function tfe(n,t){const e=new Sr;return n.asyncQueue.enqueueAndForget((0,$.A)(function*(){return(i=(0,$.A)(function*(o,s,a){try{const c=yield function(d,u){const p=Ve(d);return p.persistence.runTransaction("read document","readonly",b=>p.localDocuments.getDocument(b,u))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new Ee(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const l=Cm(c,`Failed to get document '${s} from cache`);a.reject(l)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Rm(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Rc(t,i,n._key,r,new Nu(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function Ufe(n){n=Jt(n,bi);const t=Jt(n.firestore,Xn);return l6(Si(t),n._key,{source:"server"}).then(e=>hR(t,n,e))}(this._delegate):V6(this._delegate),e.then(i=>new vb(this.firestore,new Rc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Ms(this.firestore,this._delegate.withConverter(t?Fu.getInstance(this.firestore,t):null))}}function Io(n,t,e){return n.message=n.message.replace(t,e),n}function Y6(n){for(const t of n)if("object"==typeof t&&!pR(t))return t;return{}}function X6(n,t){var e,i;let r;return r=pR(n[0])?n[0]:pR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class vb{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Ms(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return L6(this._delegate,t._delegate)}}class yb extends vb{data(t){const e=this._delegate.data(t);return this._delegate._converter||function tde(n,t){n||$e()}(void 0!==e),e}}class Co{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new pE(t)}where(t,e,i){try{return new Co(this.firestore,$l(this._delegate,function kfe(n,t,e){const i=t,r=lE("where",n);return gb._create(r,i,e)}(t,e,i)))}catch(r){throw Io(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Co(this.firestore,$l(this._delegate,function Sfe(n,t="asc"){const e=t,i=lE("orderBy",n);return lR._create(i,e)}(t,e)))}catch(i){throw Io(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Co(this.firestore,$l(this._delegate,function Dfe(n){return g6("limit",n),dE._create("limit",n,"F")}(t)))}catch(e){throw Io(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Co(this.firestore,$l(this._delegate,function Rfe(n){return g6("limitToLast",n),dE._create("limitToLast",n,"L")}(t)))}catch(e){throw Io(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Co(this.firestore,$l(this._delegate,function Mfe(...n){return uE._create("startAt",n,!0)}(...t)))}catch(e){throw Io(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Co(this.firestore,$l(this._delegate,function Pfe(...n){return uE._create("startAfter",n,!1)}(...t)))}catch(e){throw Io(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Co(this.firestore,$l(this._delegate,function Ofe(...n){return hE._create("endBefore",n,!1)}(...t)))}catch(e){throw Io(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Co(this.firestore,$l(this._delegate,function Nfe(...n){return hE._create("endAt",n,!0)}(...t)))}catch(e){throw Io(e,"endAt()","Query.endAt()")}}isEqual(t){return J1(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function zfe(n){n=Jt(n,jr);const t=Jt(n.firestore,Xn),e=Si(t),i=new Ql(t);return function nfe(n,t){const e=new Sr;return n.asyncQueue.enqueueAndForget((0,$.A)(function*(){return(i=(0,$.A)(function*(o,s,a){try{const c=yield Gw(o,s,!0),l=new YH(s,c.Ts),d=l.ma(c.documents),u=l.applyChanges(d,!1);a.resolve(u.snapshot)}catch(c){const l=Cm(c,`Failed to execute query '${s} against cache`);a.reject(l)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Rm(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Kl(t,i,n,r))}(this._delegate):"server"===t?.source?function Hfe(n){n=Jt(n,jr);const t=Jt(n.firestore,Xn),e=Si(t),i=new Ql(t);return d6(e,n._query,{source:"server"}).then(r=>new Kl(t,i,n,r))}(this._delegate):function jfe(n){n=Jt(n,jr);const t=Jt(n.firestore,Xn),e=Si(t),i=new Ql(t);return R6(n._query),d6(e,n._query).then(r=>new Kl(t,i,n,r))}(this._delegate),e.then(i=>new gR(this.firestore,new Kl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=Y6(t),i=X6(t,r=>new gR(this.firestore,new Kl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return U6(this._delegate,e,i)}withConverter(t){return new Co(this.firestore,this._delegate.withConverter(t?Fu.getInstance(this.firestore,t):null))}}class pme{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new yb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gR{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Co(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new yb(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new pme(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new yb(this._firestore,i))})}isEqual(t){return L6(this._delegate,t._delegate)}}class Nm extends Co{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ms(this.firestore,t):null}doc(t){try{return new Ms(this.firestore,void 0===t?db(this._delegate):db(this._delegate,t))}catch(e){throw Io(e,"doc()","CollectionReference.doc()")}}add(t){return function Wfe(n,t){const e=Jt(n.firestore,Xn),i=db(n),r=fE(n.converter,t);return Om(e,[sE(Pu(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ki.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Ms(this.firestore,e))}isEqual(t){return y6(this._delegate,t._delegate)}withConverter(t){return new Nm(this.firestore,this._delegate.withConverter(t?Fu.getInstance(this.firestore,t):null))}}function Lu(n){return Jt(n,bi)}class _R{constructor(...t){this._delegate=new Dc(...t)}static documentId(){return new _R(gi.keyField().canonicalString())}isEqual(t){return(t=(0,yn.Ku)(t))instanceof Dc&&this._delegate._internalPath.isEqual(t._internalPath)}}class Vu{constructor(t){this._delegate=t}static serverTimestamp(){const t=function ome(){return new tR("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Vu(t)}static delete(){const t=function rme(){return new hb("deleteField")}();return t._methodName="FieldValue.delete",new Vu(t)}static arrayUnion(...t){const e=function sme(...n){return new nR("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Vu(e)}static arrayRemove(...t){const e=function ame(...n){return new iR("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Vu(e)}static increment(t){const e=function cme(n){return new rR("increment",n)}(t);return e._methodName="FieldValue.increment",new Vu(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const gme={Firestore:$6,GeoPoint:iE,Timestamp:Ti,Blob:bb,Transaction:K6,WriteBatch:Q6,DocumentReference:Ms,DocumentSnapshot:vb,Query:Co,QueryDocumentSnapshot:yb,QuerySnapshot:gR,CollectionReference:Nm,FieldPath:_R,FieldValue:Vu,setLogLevel:function mme(n){!function ede(n){Ml.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function J6(n,t){return function vme(n,t=Qf){return new at(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function bR(n,t){return J6(n,t).pipe(pe(e=>({payload:e,type:"query"})))}!function bme(n){(function _me(n,t){n.INTERNAL.registerComponent(new n5.uA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},gme)))})(n,(t,e)=>new $6(t,e,new fme)),n.registerVersion("@firebase/firestore-compat","0.3.38")}(Rl.A);class Z6{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=oq(i,e);return new nq(r,o,this.afs)}snapshotChanges(){return function yme(n,t){return J6(n,t).pipe(ra(void 0),qS(),pe(e=>{const[i,r]=e;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(as)}valueChanges(t={}){return this.snapshotChanges().pipe(pe(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return T(this.ref.get(t)).pipe(as)}}function gE(n,t){return bR(n,t).pipe(ra(void 0),qS(),pe(e=>{const[i,r]=e,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{const l=o.find(u=>u.doc.ref.isEqual(a.ref)),d=i?.payload.docs.find(u=>u.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function eq(n,t,e){return gE(n,e).pipe(Gx((i,r)=>function xme(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function wme(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return vR(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return vR(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return vR(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),Ze(),pe(i=>i.map(r=>({type:r.type,payload:r}))))}function vR(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function tq(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class nq{ref;query;afs;constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=gE(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(pe(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(ra(void 0),qS(),Zt(([i,r])=>r.length>0||!i),pe(([,i])=>i),as)}auditTrail(t){return this.stateChanges(t).pipe(Gx((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=tq(t);return eq(this.query,e,this.afs.schedulers.outsideAngular).pipe(as)}valueChanges(t={}){return bR(this.query,this.afs.schedulers.outsideAngular).pipe(pe(e=>e.payload.docs.map(i=>t.idField?{...i.data(),[t.idField]:i.id}:i.data())),as)}get(t){return T(this.query.get(t)).pipe(as)}add(t){return this.ref.add(t)}doc(t){return new Z6(this.ref.doc(t),this.afs)}}class Eme{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?gE(this.query,this.afs.schedulers.outsideAngular).pipe(pe(e=>e.filter(i=>t.indexOf(i.type)>-1)),Zt(e=>e.length>0),as):gE(this.query,this.afs.schedulers.outsideAngular).pipe(as)}auditTrail(t){return this.stateChanges(t).pipe(Gx((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=tq(t);return eq(this.query,e,this.afs.schedulers.outsideAngular).pipe(as)}valueChanges(t={}){return bR(this.query,this.afs.schedulers.outsideAngular).pipe(pe(i=>i.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),as)}get(t){return T(this.query.get(t)).pipe(as)}}const iq=new ue("angularfire2.enableFirestorePersistence"),rq=new ue("angularfire2.firestore.persistenceSettings"),Ime=new ue("angularfire2.firestore.settings"),Cme=new ue("angularfire2.firestore.use-emulator");function oq(n,t=(e=>e)){return{query:t(n),ref:n}}let yR=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(e,i,r,o,s,a,c,l,d,u,p,b,v,x,w,F,R){this.schedulers=c;const z=zS(e,a,i),K=d;u&&e5(z,a,p,v,x,w,b,F),[this.firestore,this.persistenceEnabled$]=Wj(`${z.name}.firestore`,"AngularFirestore",z.name,()=>{const Z=a.runOutsideAngular(()=>z.firestore());if(o&&Z.settings(o),K&&Z.useEmulator(...K),r&&!Bx(s)){const ne=()=>{try{return T(Z.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(U){return typeof console<"u"&&console.warn(U),O(!1)}};return[Z,a.runOutsideAngular(ne)]}return[Z,O(!1)]},[o,K,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:s}=oq(r,i),a=this.schedulers.ngZone.run(()=>o);return new nq(a,s,this)}collectionGroup(e,i){const r=i||(s=>s),o=this.firestore.collectionGroup(e);return new Eme(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new Z6(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(X(mw),X(pw,8),X(iq,8),X(Ime,8),X(Oo),X(We),X(R_),X(rq,8),X(Cme,8),X(t5,8),X(Kj,8),X(Qj,8),X(Yj,8),X(Xj,8),X(Jj,8),X(Zj,8),X(fw,8))};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Tme=(()=>{class n{constructor(){Rl.A.registerVersion("angularfire",pu.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:iq,useValue:!0},{provide:rq,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=lt({type:n});static \u0275inj=ht({providers:[yR]})}return n})(),Ame=(()=>{class n{constructor(e){this.firestore=e,this.tables=[],this.menu=[],this.waiters=[],this.tablesSubject=new k(this.tables),this.tables$=this.tablesSubject.asObservable(),this.loadInitialData()}loadInitialData(){this.firestore.collection("tables").valueChanges().subscribe(e=>{this.tables=e,this.tablesSubject.next([...this.tables])}),this.firestore.collection("menu").valueChanges().subscribe(e=>{this.menu=e}),this.firestore.collection("waiters").valueChanges().subscribe(e=>{this.waiters=e})}updateFirestore(e,i,r){this.firestore.collection(e).doc(i.toString()).set(r,{merge:!0})}getTables(){return this.tables}getMenu(){return this.menu}getWaiters(){return this.waiters}addTable(e){const i=this.firestore.collection("tables").doc();i.set({id:i.ref.id,name:e,available:!0,orders:[],linkedTables:[]})}editTable(e,i,r){this.updateFirestore("tables",e,{name:i,available:r})}deleteTable(e){this.firestore.collection("tables").doc(e.toString()).delete()}releaseTable(e){const i=this.tables.find(r=>r.id===e);if(i){if(i.orders.length>0){const r=i.orders.reduce((s,a)=>s+a.price*(a.quantity||1),0),o={date:(new Date).getTime(),tableName:i.name,waiterName:i.waiterName||"Desconocido",revenue:r};this.firestore.collection("daily_statistics").add(o)}i.orders=[],i.waiterId=void 0,i.waiterName=void 0,i.available=!0,i.controlledBy=void 0,i.linkedTables=[],this.updateFirestore("tables",e,{orders:[],waiterId:null,waiterName:null,available:!0,controlledBy:null,linkedTables:[]}),this.tablesSubject.next([...this.tables])}}editMenuItem(e,i,r){this.updateFirestore("menu",e,{name:i,price:r})}deleteMenuItem(e){this.firestore.collection("menu").doc(e.toString()).delete()}addWaiter(e){const i={id:this.waiters.length>0?Math.max(...this.waiters.map(r=>r.id))+1:1,name:e};this.firestore.collection("waiters").doc(i.id.toString()).set(i)}editWaiter(e,i){this.updateFirestore("waiters",e,{name:i})}deleteWaiter(e){this.firestore.collection("waiters").doc(e.toString()).delete()}linkMultipleTables(e,i){const r=this.tables.find(o=>o.id===e);if(r){r.available=!1;const o=[];i.forEach(s=>{const a=this.tables.find(c=>c.id===s);a&&!r.linkedTables.includes(s)&&(r.linkedTables.push(s),a.linkedTables.push(e),a.controlledBy=e,a.available=!1,o.push(s))}),this.updateFirestore("tables",e,{linkedTables:r.linkedTables,available:!1}),o.forEach(s=>{this.updateFirestore("tables",s,{linkedTables:this.tables.find(a=>a.id===s)?.linkedTables,controlledBy:e,available:!1})}),this.tablesSubject.next([...this.tables])}}static{this.\u0275fac=function(i){return new(i||n)(X(yR))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function xR(n=0,t,e=Nle){let i=-1;return null!=t&&(vn(t)?e=t:i=t),new at(r=>{let o=function Sme(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function wR(n=1/0){let t;t=n&&"object"==typeof n?n:{count:n};const{count:e=1/0,delay:i,resetOnSuccess:r=!1}=t;return e<=0?qt:te((o,s)=>{let c,a=0;const l=()=>{let d=!1;c=o.subscribe(me(s,u=>{r&&(a=0),s.next(u)},void 0,u=>{if(a++<e){const p=()=>{c?(c.unsubscribe(),c=null,l()):d=!0};if(null!=i){const b="number"==typeof i?xR(i):Wt(i(u,a)),v=me(s,()=>{v.unsubscribe(),p()},()=>{s.complete()});b.subscribe(v)}else p()}else s.error(u)})),d&&(c.unsubscribe(),c=null,l())};l()})}class _E{}class bE{}class Ha{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ha?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ha;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ha?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Dme{encodeKey(t){return sq(t)}encodeValue(t){return sq(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Mme=/%(\d[a-f0-9])/gi,Pme={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function sq(n){return encodeURIComponent(n).replace(Mme,(t,e)=>Pme[e]??t)}function vE(n){return`${n}`}class Xl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Dme,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Rme(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(vE):[vE(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Xl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(vE(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(vE(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Ome{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function aq(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function cq(n){return typeof Blob<"u"&&n instanceof Blob}function lq(n){return typeof FormData<"u"&&n instanceof FormData}class xb{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Nme(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ha),this.context||(this.context=new Ome),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Xl,this.urlWithParams=e}serializeBody(){return null===this.body?null:aq(this.body)||cq(this.body)||lq(this.body)||function Fme(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||lq(this.body)?null:cq(this.body)?this.body.type||null:aq(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,l=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((u,p)=>u.set(p,t.setHeaders[p]),c)),t.setParams&&(l=Object.keys(t.setParams).reduce((u,p)=>u.set(p,t.setParams[p]),l)),new xb(e,i,o,{params:l,headers:c,context:d,reportProgress:a,responseType:r,withCredentials:s})}}var Fm=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Fm||{});class ER{constructor(t,e=200,i="OK"){this.headers=t.headers||new Ha,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class IR extends ER{constructor(t={}){super(t),this.type=Fm.ResponseHeader}clone(t={}){return new IR({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Lm extends ER{constructor(t={}){super(t),this.type=Fm.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Lm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class dq extends ER{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function CR(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let wb=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof xb)o=e;else{let c,l;c=r.headers instanceof Ha?r.headers:new Ha(r.headers),r.params&&(l=r.params instanceof Xl?r.params:new Xl({fromObject:r.params})),o=new xb(e,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=O(o).pipe(Vf(c=>this.handler.handle(c)));if(e instanceof xb||"events"===r.observe)return s;const a=s.pipe(Zt(c=>c instanceof Lm));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(pe(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(pe(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(pe(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(pe(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Xl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,CR(r,i))}post(e,i,r={}){return this.request("POST",e,CR(r,i))}put(e,i,r={}){return this.request("PUT",e,CR(r,i))}static{this.\u0275fac=function(i){return new(i||n)(X(_E))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();function fq(n,t){return t(n)}function Vme(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const Ume=new ue(""),Eb=new ue(""),mq=new ue("");function jme(){let n=null;return(t,e)=>{null===n&&(n=(Me(Ume,{optional:!0})??[]).reduceRight(Vme,fq));const i=Me(vx),r=i.add();return n(t,e).pipe(Bf(()=>i.remove(r)))}}let pq=(()=>{class n extends _E{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=Me(vx)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Eb),...this.injector.get(mq,[])]));this.chain=r.reduceRight((o,s)=>function Bme(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(o,s,this.injector),fq)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Bf(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||n)(X(bE),X(ns))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();const Wme=/^\)\]\}',?\n/;let _q=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new he(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?T(i.\u0275loadImpl()):O(null)).pipe(ke(()=>new at(o=>{const s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((x,w)=>s.setRequestHeader(x,w.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const x=e.detectContentTypeHeader();null!==x&&s.setRequestHeader("Content-Type",x)}if(e.responseType){const x=e.responseType.toLowerCase();s.responseType="json"!==x?x:"text"}const a=e.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const x=s.statusText||"OK",w=new Ha(s.getAllResponseHeaders()),F=function Gme(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return c=new IR({headers:w,status:s.status,statusText:x,url:F}),c},d=()=>{let{headers:x,status:w,statusText:F,url:R}=l(),z=null;204!==w&&(z=typeof s.response>"u"?s.responseText:s.response),0===w&&(w=z?200:0);let K=w>=200&&w<300;if("json"===e.responseType&&"string"==typeof z){const Z=z;z=z.replace(Wme,"");try{z=""!==z?JSON.parse(z):null}catch(ne){z=Z,K&&(K=!1,z={error:ne,text:z})}}K?(o.next(new Lm({body:z,headers:x,status:w,statusText:F,url:R||void 0})),o.complete()):o.error(new dq({error:z,headers:x,status:w,statusText:F,url:R||void 0}))},u=x=>{const{url:w}=l(),F=new dq({error:x,status:s.status||0,statusText:s.statusText||"Unknown Error",url:w||void 0});o.error(F)};let p=!1;const b=x=>{p||(o.next(l()),p=!0);let w={type:Fm.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(w.total=x.total),"text"===e.responseType&&s.responseText&&(w.partialText=s.responseText),o.next(w)},v=x=>{let w={type:Fm.UploadProgress,loaded:x.loaded};x.lengthComputable&&(w.total=x.total),o.next(w)};return s.addEventListener("load",d),s.addEventListener("error",u),s.addEventListener("timeout",u),s.addEventListener("abort",u),e.reportProgress&&(s.addEventListener("progress",b),null!==a&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),o.next({type:Fm.Sent}),()=>{s.removeEventListener("error",u),s.removeEventListener("abort",u),s.removeEventListener("load",d),s.removeEventListener("timeout",u),e.reportProgress&&(s.removeEventListener("progress",b),null!==a&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(X(f3))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();const TR=new ue("XSRF_ENABLED"),bq=new ue("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),vq=new ue("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class yq{}let Qme=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=r3(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(X(Tt),X(Oo),X(bq))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();function Yme(n,t){const e=n.url.toLowerCase();if(!Me(TR)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=Me(yq).getToken(),r=Me(vq);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Jl=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Jl||{});function Bu(n,t){return{\u0275kind:n,\u0275providers:t}}function Xme(...n){const t=[wb,_q,pq,{provide:_E,useExisting:pq},{provide:bE,useExisting:_q},{provide:Eb,useValue:Yme,multi:!0},{provide:TR,useValue:!0},{provide:yq,useClass:Qme}];for(const e of n)t.push(...e.\u0275providers);return V0(t)}const xq=new ue("LEGACY_INTERCEPTOR_FN");let Zme=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({providers:[Xme(Bu(Jl.LegacyInterceptors,[{provide:xq,useFactory:jme},{provide:Eb,useExisting:xq,multi:!0}]))]})}}return n})(),sa=(()=>{class n{constructor(e){this.http=e,this.menuCache$=new k(null),this.apiUrl="https://coffe-manager-api-1.onrender.com/api"}getCachedData(e){try{const i=localStorage.getItem(`cache_${e}`);return i?JSON.parse(i):null}catch(i){return console.error("Error leyendo cache:",i),null}}setCachedData(e,i){try{const r={data:i,timestamp:Date.now()};localStorage.setItem(`cache_${e}`,JSON.stringify(r))}catch(r){console.error("Error guardando cache:",r)}}handleError(e){let i="Ocurri\xf3 un error inesperado";return i=e.error instanceof ErrorEvent?`Error: ${e.error.message}`:`Error ${e.status}: ${e.message}`,console.error(i),Al(()=>new Error(i))}getTables(){const e=this.getCachedData("tables");return e&&Date.now()-e.timestamp<18e4?(console.log("\u2705 Usando cache de mesas"),O(e.data)):this.http.get(`${this.apiUrl}/tables`).pipe(wR({count:3,delay:2e3}),pe(r=>r.map(o=>({...o,id:o._id,available:0===o.orders.length,waiterId:o.waiterId,waiterName:o.waiter?o.waiter.name:"Sin asignar"}))),Dn(r=>{console.log("\u2705 Mesas obtenidas del servidor"),this.setCachedData("tables",r)}),hn(r=>(console.error("\u274c Error obteniendo mesas:",r),e?(console.warn("\u26a0\ufe0f Usando cache antiguo de mesas"),O(e.data)):this.handleError(r))))}addTable(e){return this.http.post(`${this.apiUrl}/tables`,{name:e,available:!0,orders:[],linkedTables:[]}).pipe(hn(this.handleError))}editTable(e,i,r){return this.http.put(`${this.apiUrl}/tables/${e}`,{name:i,available:r}).pipe(hn(this.handleError))}deleteTable(e){return this.http.delete(`${this.apiUrl}/tables/${e}`).pipe(hn(this.handleError))}addItemsToTable(e,i){const r=i.map(o=>({id:o._id,quantity:o.quantity||1,name:o.name}));return this.http.put(`${this.apiUrl}/tables/${e}/add-items`,{items:r}).pipe(pe(o=>(o.available=0===o.orders.length,o)),hn(this.handleError))}deleteOrdersFromTable(e,i){return this.http.put(`${this.apiUrl}/tables/${e}/remove-order`,{orderIds:i}).pipe(pe(r=>{const o=r.table;return o.available=0===o.orders?.length,o}),hn(this.handleError))}getTableById(e){return this.http.get(`${this.apiUrl}/tables/${e}`).pipe(pe(i=>({...i,id:i._id})),hn(this.handleError))}releaseTable(e){return this.http.put(`${this.apiUrl}/tables/${e}/release`,{}).pipe(hn(this.handleError))}resetTable(e){return this.http.put(`${this.apiUrl}/tables/${e}/reset`,{}).pipe(pe(i=>({...i,waiterId:null,waiterName:"No asignado",linkedTables:[],orders:[],available:!0,controlledBy:null})),hn(this.handleError))}linkTables(e,i){return this.http.put(`${this.apiUrl}/tables/${e}/link-tables`,{linkedTableIds:i}).pipe(pe(r=>{const o=this.tables.find(s=>s.id===e);return o&&(o.linkedTables=i,o.available=!1),i.forEach(s=>{const a=this.tables.find(c=>c.id===s);a&&(a.controlledBy=e,a.available=!1)}),r}),hn(this.handleError))}unlinkTables(e,i){return this.http.put(`${this.apiUrl}/tables/${e}/unlink-tables`,{linkedTableIds:i}).pipe(pe(r=>({...r,linkedTables:r.linkedTables})),hn(this.handleError))}getBalance(){return this.http.get(`${this.apiUrl}/balances`).pipe(hn(this.handleError))}addBalanceEntry(e){return this.http.post(`${this.apiUrl}/balances`,e).pipe(hn(this.handleError))}deleteAllBalances(){return this.http.delete(`${this.apiUrl}/balances`).pipe(hn(this.handleError))}getMenu(){const e=this.getCachedData("menu");return e&&Date.now()-e.timestamp<3e5?(console.log("\u2705 Usando cache de men\xfa"),this.menuCache$.next(e.data),O(e.data)):this.http.get(`${this.apiUrl}/menu`).pipe(wR({count:3,delay:2e3}),Dn(r=>{console.log("\u2705 Men\xfa obtenido del servidor"),this.menuCache$.next(r),this.setCachedData("menu",r)}),hn(r=>(console.error("\u274c Error obteniendo men\xfa:",r),e?(console.warn("\u26a0\ufe0f Usando cache antiguo de men\xfa"),this.menuCache$.next(e.data),O(e.data)):this.handleError(r))))}refreshMenu(){return this.http.get(`${this.apiUrl}/menu`).pipe(Dn(e=>this.menuCache$.next(e)),hn(this.handleError))}addMenuItem(e,i){return this.http.post(`${this.apiUrl}/menu`,{name:e,price:i,quantity:1}).pipe(Dn(()=>this.menuCache$.next(null)),hn(this.handleError))}editMenuItem(e,i,r){return this.http.put(`${this.apiUrl}/menu/${e}`,{name:i,price:r}).pipe(Dn(()=>this.menuCache$.next(null)),hn(this.handleError))}deleteMenuItem(e){return this.http.delete(`${this.apiUrl}/menu/${e}`).pipe(Dn(()=>this.menuCache$.next(null)),hn(this.handleError))}getWaiters(){const e=this.getCachedData("waiters");return e&&Date.now()-e.timestamp<3e5?(console.log("\u2705 Usando cache de mozos"),O(e.data)):this.http.get(`${this.apiUrl}/waiters`).pipe(wR({count:3,delay:2e3}),Dn(r=>{console.log("\u2705 Mozos obtenidos del servidor"),this.setCachedData("waiters",r)}),hn(r=>(console.error("\u274c Error obteniendo mozos:",r),e?(console.warn("\u26a0\ufe0f Usando cache antiguo de mozos"),O(e.data)):O([]))))}addWaiter(e){return this.http.post(`${this.apiUrl}/waiters`,{name:e}).pipe(hn(this.handleError))}editWaiter(e,i){return this.http.put(`${this.apiUrl}/waiters/${e}`,{name:i}).pipe(hn(this.handleError))}deleteWaiter(e){return this.http.delete(`${this.apiUrl}/waiters/${e}`).pipe(hn(this.handleError))}getWaiterByName(e){return this.http.get(`${this.apiUrl}/waiter-by-name/${e}`).pipe(hn(this.handleError))}getWaiterById(e){return this.http.get(`${this.apiUrl}/waiters/${e}`).pipe(hn(this.handleError))}assignWaiterToTable(e,i){return this.http.put(`${this.apiUrl}/tables/${e}/assign-waiter`,{waiterId:i}).pipe(hn(this.handleError))}saveLog(e){const r={action:e,timestamp:(new Date).toISOString()},o=JSON.parse(localStorage.getItem("appLogs")||"[]");o.push(r),localStorage.setItem("appLogs",JSON.stringify(o)),console.log("[LOG GUARDADO]",r)}getLogs(){return JSON.parse(localStorage.getItem("appLogs")||"[]")}clearLogs(){localStorage.removeItem("appLogs")}static{this.\u0275fac=function(i){return new(i||n)(X(wb))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ope=(()=>{class n{constructor(e){this.http=e,this.apiUrl="http://localhost:8000/api/imprimir"}imprimirTicket(e){return this.http.post(this.apiUrl,{printerName:"nictomPrinter",imprimirEn:"nictomPrinter",operaciones:e})}static{this.\u0275fac=function(i){return new(i||n)(X(wb))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function cn(n){return null!=n&&"false"!=`${n}`}function Ib(n,t=0){return function wq(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function xE(n){return Array.isArray(n)?n:[n]}function ar(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Mc(n){return n instanceof ft?n.nativeElement:n}const spe=["addListener","removeListener"],ape=["addEventListener","removeEventListener"],cpe=["on","off"];function Uu(n,t,e,i){if(V(e)&&(i=e,e=void 0),i)return Uu(n,t,e).pipe(gS(i));const[r,o]=function upe(n){return V(n.addEventListener)&&V(n.removeEventListener)}(n)?ape.map(s=>a=>n[s](t,a,e)):function lpe(n){return V(n.addListener)&&V(n.removeListener)}(n)?spe.map(Eq(n,t)):function dpe(n){return V(n.on)&&V(n.off)}(n)?cpe.map(Eq(n,t)):[];if(!r&&En(n))return Wn(s=>Uu(s,t,e))(Wt(n));if(!r)throw new TypeError("Invalid event target");return new at(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function Eq(n,t){return e=>i=>n[e](t,i)}const Cb={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Cb;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new kt(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Cb;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Cb;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class fpe extends hw{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class hpe extends uw{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Cb.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Cb.cancelAnimationFrame(e),t._scheduled=void 0)}});let AR,ppe=1;const wE={};function Iq(n){return n in wE&&(delete wE[n],!0)}const gpe={setImmediate(n){const t=ppe++;return wE[t]=!0,AR||(AR=Promise.resolve()),AR.then(()=>Iq(t)&&n()),t},clearImmediate(n){Iq(n)}},{setImmediate:_pe,clearImmediate:bpe}=gpe,EE={setImmediate(...n){const{delegate:t}=EE;return(t?.setImmediate||_pe)(...n)},clearImmediate(n){const{delegate:t}=EE;return(t?.clearImmediate||bpe)(n)},delegate:void 0};new class ype extends hw{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class vpe extends uw{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=EE.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(EE.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function Cq(n,t=Qf){return function wpe(n){return te((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const l=r;r=null,e.next(l)}s&&e.complete()},c=()=>{o=null,s&&e.complete()};t.subscribe(me(e,l=>{i=!0,r=l,o||Wt(n(l)).subscribe(o=me(e,a,c))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>xR(n,t))}let kR;try{kR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{kR=!1}let Vm,Di=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?nS(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!kR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(X(Oo))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Tq=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Aq(){if(Vm)return Vm;if("object"!=typeof document||!document)return Vm=new Set(Tq),Vm;let n=document.createElement("input");return Vm=new Set(Tq.filter(t=>(n.setAttribute("type",t),n.type===t))),Vm}let Tb,IE,ju,SR;function Ab(n){return function Epe(){if(null==Tb&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Tb=!0}))}finally{Tb=Tb||!1}return Tb}()?n:!!n.capture}function kq(){if(null==ju){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ju=!1,ju;if("scrollBehavior"in document.documentElement.style)ju=!0;else{const n=Element.prototype.scrollTo;ju=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ju}function kb(){if("object"!=typeof document||!document)return 0;if(null==IE){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),IE=0,0===n.scrollLeft&&(n.scrollLeft=1,IE=0===n.scrollLeft?1:2),n.remove()}return IE}function CE(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Zl(n){return n.composedPath?n.composedPath()[0]:n.target}function DR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Tpe=new ue("cdk-dir-doc",{providedIn:"root",factory:function Ape(){return Me(Tt)}}),kpe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let zu=(()=>{class n{constructor(e){this.value="ltr",this.change=new zt,e&&(this.value=function Spe(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?kpe.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(X(Tpe,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Sb=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({})}}return n})(),RR=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Q,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new at(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Cq(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):O()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Zt(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Mc(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Uu(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(X(We),X(Di),X(Tt,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),MR=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new Q,this._elementScrolled=new at(s=>this.ngZone.runOutsideAngular(()=>Uu(this.elementRef.nativeElement,"scroll").pipe(si(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=kb()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==kb()?e.left=e.right:1==kb()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;kq()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?r:i:"end"==e&&(e=s?i:r),s&&2==kb()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==kb()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static{this.\u0275fac=function(i){return new(i||n)(N(ft),N(RR),N(We),N(zu,8))}}static{this.\u0275dir=be({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}}return n})(),TE=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Q,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Cq(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(X(Di),X(We),X(Tt,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Db=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({})}}return n})(),PR=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[Sb,Db,Sb,Db]})}}return n})();class OR{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Rb extends OR{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class AE extends OR{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Mpe extends OR{constructor(t){super(),this.element=t instanceof ft?t.nativeElement:t}}class kE{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Rb?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof AE?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Mpe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ppe extends kE{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Ln.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Bm=(()=>{class n extends kE{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new zt,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static{this.\u0275fac=function(i){return new(i||n)(N(ff),N(Ar),N(Tt))}}static{this.\u0275dir=be({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[qe]})}}return n})(),Um=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({})}}return n})();const Sq=kq();class Ope{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ar(-this._previousScrollPosition.left),t.style.top=ar(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Sq&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Sq&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Npe{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Zt(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Dq{enable(){}disable(){}attach(){}}function NR(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function Rq(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Fpe{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();NR(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Lpe=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Dq,this.close=s=>new Npe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Ope(this._viewportRuler,this._document),this.reposition=s=>new Fpe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(i){return new(i||n)(X(RR),X(TE),X(We),X(Tt))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class FR{constructor(t){if(this.scrollStrategy=new Dq,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Vpe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Mq=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(X(Tt))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Bpe=(()=>{class n extends Mq{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(X(Tt),X(We,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Upe=(()=>{class n extends Mq{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Zl(o)},this._clickListener=o=>{const s=Zl(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const d=c[l];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(s)||d.overlayElement.contains(a))break;const u=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(o)):u.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(X(Tt),X(Di),X(We,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),SE=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||DR()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),DR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(X(Tt),X(Di))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Mb{constructor(t,e,i,r,o,s,a,c,l,d=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new Q,this._attachments=new Q,this._detachments=new Q,this._locationChanges=kt.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new Q,this._outsidePointerEvents=new Q,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Vn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ar(this._config.width),t.height=ar(this._config.height),t.minWidth=ar(this._config.minWidth),t.minHeight=ar(this._config.minHeight),t.maxWidth=ar(this._config.maxWidth),t.maxHeight=ar(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=xE(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(si(E(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Pq="cdk-overlay-connected-position-bounding-box",jpe=/([A-Za-z%]+)$/;class zpe{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Q,this._resizeSubscription=kt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(Pq),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(t,r,a),l=this._getOverlayPoint(c,e,a),d=this._getOverlayFit(l,e,i,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(d,l,i)?o.push({position:a,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:l,originPoint:c,position:a,overlayRect:e})}if(o.length){let a=null,c=-1;for(const l of o){const d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Hu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Pq),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=Nq(e);let{x:s,y:a}=t,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let p=0-a,b=a+o.height-i.height,v=this._subtractOverflows(o.width,0-s,s+o.width-i.width),x=this._subtractOverflows(o.height,p,b),w=v*x;return{visibleArea:w,isCompletelyWithinViewport:o.width*o.height===w,fitsInViewportVertically:x===o.height,fitsInViewportHorizontally:v==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=Oq(this._overlayRef.getConfig().minHeight),a=Oq(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Nq(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),c=Math.max(o.top-i.top-t.y,0),l=Math.max(o.left-i.left-t.x,0);let d=0,u=0;return d=r.width<=o.width?l||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,u=r.height<=o.height?c||-a:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Vpe(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,d,u,p;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const b=Math.min(i.bottom-t.y+i.top,t.y),v=this._lastBoundingBoxSize.height;o=2*b,s=t.y-b,o>v&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-v/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)p=i.width-t.x+this._viewportMargin,d=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,d=i.right-t.x;else{const b=Math.min(i.right-t.x+i.left,t.x),v=this._lastBoundingBoxSize.width;d=2*b,u=t.x-b,d>v&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-v/2)}return{top:s,left:u,bottom:a,right:p,width:d,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=ar(i.height),r.top=ar(i.top),r.bottom=ar(i.bottom),r.width=ar(i.width),r.left=ar(i.left),r.right=ar(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=ar(o)),s&&(r.maxWidth=ar(s))}this._lastBoundingBoxSize=i,Hu(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Hu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Hu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();Hu(i,this._getExactOverlayY(e,t,d)),Hu(i,this._getExactOverlayX(e,t,d))}else i.position="static";let a="",c=this._getOffset(e,"x"),l=this._getOffset(e,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=ar(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=ar(s.maxWidth):o&&(i.maxWidth="")),Hu(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=ar(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=ar(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Rq(t,i),isOriginOutsideView:NR(t,i),isOverlayClipped:Rq(e,i),isOverlayOutsideView:NR(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&xE(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ft)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Hu(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Oq(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(jpe);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Nq(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Fq="cdk-global-overlay-wrapper";class Hpe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Fq),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),d=this._xPosition,u=this._xOffset,p="rtl"===this._overlayRef.getConfig().direction;let b="",v="",x="";c?x="flex-start":"center"===d?(x="center",p?v=u:b=u):p?"left"===d||"end"===d?(x="flex-end",b=u):("right"===d||"start"===d)&&(x="flex-start",v=u):"left"===d||"start"===d?(x="flex-start",b=u):("right"===d||"end"===d)&&(x="flex-end",v=u),t.position=this._cssPosition,t.marginLeft=c?"0":b,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":v,e.justifyContent=x,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Fq),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let qpe=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Hpe}flexibleConnectedTo(e){return new zpe(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(X(TE),X(Tt),X(Di),X(SE))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Wpe=0,Pc=(()=>{class n{constructor(e,i,r,o,s,a,c,l,d,u,p,b){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=d,this._location=u,this._outsideClickDispatcher=p,this._animationsModuleType=b}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new FR(e);return s.direction=s.direction||this._directionality.value,new Mb(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Wpe++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(fc)),new Ppe(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(X(Lpe),X(SE),X(ff),X(qpe),X(Bpe),X(Ln),X(We),X(Tt),X(zu),X(l_),X(Upe),X(Vr,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Kpe={provide:new ue("cdk-connected-overlay-scroll-strategy"),deps:[Pc],useFactory:function $pe(n){return()=>n.scrollStrategies.reposition()}};let DE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({providers:[Pc,Kpe],imports:[Sb,Um,PR,PR]})}}return n})();function jm(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function RE(n,t=Qf){return te((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,i.next(l)}};function c(){const l=s+n,d=t.now();if(d<l)return r=this.schedule(void 0,l-d),void i.add(r);a()}e.subscribe(me(i,l=>{o=l,s=t.now(),r||(r=t.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Uq(n){return Zt((t,e)=>n<=e)}let jq=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),VR=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({providers:[jq]})}}return n})();const zq=new Set;let qu,mge=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):gge}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function pge(n,t){if(!zq.has(n))try{qu||(qu=document.createElement("style"),t&&(qu.nonce=t),qu.setAttribute("type","text/css"),document.head.appendChild(qu)),qu.sheet&&(qu.sheet.insertRule(`@media ${n} {body{ }}`,0),zq.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(i){return new(i||n)(X(Di),X(pA,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function gge(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let BR=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Q}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Hq(xE(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=uu(Hq(xE(e)).map(s=>this._registerQuery(s).observable));return o=Ff(o.pipe(Vn(1)),o.pipe(Uq(1),RE(0))),o.pipe(pe(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new at(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(ra(i),pe(({matches:s})=>({query:e,matches:s})),si(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static{this.\u0275fac=function(i){return new(i||n)(X(mge),X(We))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Hq(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class yge{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Q,this._typeaheadSubscription=kt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Q,this.change=new Q,t instanceof cu&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Dn(e=>this._pressedLetters.push(e)),RE(t),Zt(()=>this._pressedLetters.length>0),pe(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||jm(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof cu?this._items.toArray():this._items}}class Gq extends yge{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Pb=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function wge(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function xge(n){try{return n.frameElement}catch{return null}}(function Dge(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Kq(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=Kq(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function kge(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Sge(n){return!function Ige(n){return function Tge(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Ege(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Cge(n){return function Age(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||$q(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static{this.\u0275fac=function(i){return new(i||n)(X(Di))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $q(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Kq(n){if(!$q(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Qq{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Vn(1)).subscribe(t)}}let ME=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new Qq(e,this._checker,this._ngZone,this._document,i)}static{this.\u0275fac=function(i){return new(i||n)(X(Pb),X(We),X(Tt))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Yq(n){return 0===n.buttons||0===n.detail}function Xq(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Rge=new ue("cdk-input-modality-detector-options"),Mge={ignoreKeys:[18,17,224,91,16]},zm=Ab({passive:!0,capture:!0});let Pge=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new k(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Zl(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Yq(s)?"keyboard":"mouse"),this._mostRecentTarget=Zl(s))},this._onTouchstart=s=>{Xq(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Zl(s))},this._options={...Mge,...o},this.modalityDetected=this._modality.pipe(Uq(1)),this.modalityChanged=this.modalityDetected.pipe(Ze()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,zm),r.addEventListener("mousedown",this._onMousedown,zm),r.addEventListener("touchstart",this._onTouchstart,zm)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,zm),document.removeEventListener("mousedown",this._onMousedown,zm),document.removeEventListener("touchstart",this._onTouchstart,zm))}static{this.\u0275fac=function(i){return new(i||n)(X(Di),X(We),X(Tt),X(Rge,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Oge=new ue("liveAnnouncerElement",{providedIn:"root",factory:function Nge(){return null}}),Fge=new ue("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Lge=0,Zq=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+Lge++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static{this.\u0275fac=function(i){return new(i||n)(X(Oge,8),X(We),X(Tt),X(Fge,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Vge=new ue("cdk-focus-monitor-default-options"),PE=Ab({passive:!0,capture:!0});let Hm=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Q,this._rootNodeFocusAndBlurListener=a=>{for(let l=Zl(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,i=!1){const r=Mc(e);if(!this._platform.isBrowser||1!==r.nodeType)return O();const o=function Cpe(n){if(function Ipe(){if(null==SR){const n=typeof document<"u"?document.head:null;SR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return SR}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new Q,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=Mc(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Mc(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Zl(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,PE),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,PE)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(si(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,PE),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,PE),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static{this.\u0275fac=function(i){return new(i||n)(X(We),X(Di),X(Pge),X(Tt,8),X(Vge,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const eW="cdk-high-contrast-black-on-white",tW="cdk-high-contrast-white-on-black",UR="cdk-high-contrast-active";let nW=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Me(BR).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(UR,eW,tW),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(UR,eW):2===i&&e.add(UR,tW)}}static{this.\u0275fac=function(i){return new(i||n)(X(Di),X(Tt))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Bge=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||n)(X(nW))}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[VR]})}}return n})();function Uge(n,t){}class OE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let iW=(()=>{class n extends kE{constructor(e,i,r,o,s,a,c,l){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=l,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const u=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),u},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=CE(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=CE();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=CE())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(i){return new(i||n)(N(ft),N(ME),N(Tt,8),N(OE),N(Pb),N(We),N(Mb),N(Hm))}}static{this.\u0275cmp=ct({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&ri(Bm,7),2&i){let o;gt(o=_t())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&kn("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[qe],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Se(0,Uge,0,0,"ng-template",0)},dependencies:[Bm],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return n})();class jR{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Q,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!jm(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const rW=new ue("DialogScrollStrategy"),jge=new ue("DialogData"),zge=new ue("DefaultDialogConfig"),qge={provide:rW,deps:[Pc],useFactory:function Hge(n){return()=>n.scrollStrategies.block()}};let Wge=0,oW=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,s,a){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Q,this._afterOpenedAtThisLevel=new Q,this._ariaHiddenElements=new Map,this.afterAllClosed=Lf(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ra(void 0))),this._scrollStrategy=a}open(e,i){(i={...this._defaultOptions||new OE,...i}).id=i.id||"cdk-dialog-"+Wge++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new jR(s,i),c=this._attachContainer(s,a,i);return a.containerInstance=c,this._attachDialogContent(e,a,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){zR(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){zR(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),zR(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new FR({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:OE,useValue:r},{provide:jR,useValue:i},{provide:Mb,useValue:e}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=iW;const c=new Rb(a,r.viewContainerRef,Ln.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return e.attach(c).instance}_attachDialogContent(e,i,r,o){if(e instanceof rr){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new AE(e,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new Rb(e,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(e,i,r,o){const s=e.injector||e.viewContainerRef?.injector,a=[{provide:jge,useValue:e.data},{provide:jR,useValue:i}];return e.providers&&("function"==typeof e.providers?a.push(...e.providers(i,e,r)):a.push(...e.providers)),e.direction&&(!s||!s.get(zu,null,{optional:!0}))&&a.push({provide:zu,useValue:{value:e.direction,change:O()}}),Ln.create({parent:s||o,providers:a})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(i){return new(i||n)(X(Pc),X(Ln),X(zge,8),X(n,12),X(SE),X(rW))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();function zR(n,t){let e=n.length;for(;e--;)t(n[e])}let Gge=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({providers:[oW,qge],imports:[DE,Um,Bge,Um]})}}return n})();const Kge=new ue("mat-sanity-checks",{providedIn:"root",factory:function $ge(){return!0}});let xn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!DR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static{this.\u0275fac=function(i){return new(i||n)(X(nW),X(Kge,8),X(Tt))}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[Sb,Sb]})}}return n})();function cW(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=cn(t)}constructor(...t){super(...t),this._disabled=!1}}}function NE(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function lW(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=cn(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function dW(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Ib(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function Qge(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let Xge=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Jge{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const uW=Ab({passive:!0,capture:!0});class Zge{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Zl(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,uW)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,uW)))}}const hW={enterDuration:225,exitDuration:150},fW=Ab({passive:!0,capture:!0}),mW=["mousedown","touchstart"],pW=["mouseup","mouseleave","touchend","touchcancel"];class Nb{static{this._eventManager=new Zge}constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Mc(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...hW,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function t_e(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,c=e-r.top,l=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-s+"px",d.style.top=c-s+"px",d.style.height=2*s+"px",d.style.width=2*s+"px",null!=i.color&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);const u=window.getComputedStyle(d),b=u.transitionDuration,v="none"===u.transitionProperty||"0s"===b||"0s, 0s"===b||0===r.width&&0===r.height,x=new Jge(this,d,i,v);d.style.transform="scale3d(1, 1, 1)",x.state=0,i.persistent||(this._mostRecentTransientRipple=x);let w=null;return!v&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const F=()=>this._finishRippleTransition(x),R=()=>this._destroyRipple(x);d.addEventListener("transitionend",F),d.addEventListener("transitioncancel",R),w={onTransitionEnd:F,onTransitionCancel:R}}),this._activeRipples.set(x,w),(v||!l)&&this._finishRippleTransition(x),x}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...hW,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Mc(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,mW.forEach(i=>{Nb._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{pW.forEach(e=>{this._triggerElement.addEventListener(e,this,fW)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Yq(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Xq(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(mW.forEach(e=>Nb._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&pW.forEach(e=>t.removeEventListener(e,this,fW)))}}const FE=new ue("mat-ripple-global-options");let HR=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Nb(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static{this.\u0275fac=function(i){return new(i||n)(N(ft),N(We),N(Di),N(FE,8),N(Vr,8))}}static{this.\u0275dir=be({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&Pt("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}}return n})(),LE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[xn,xn]})}}return n})(),gW=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[xn]})}}return n})(),_W=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[LE,vc,xn,gW]})}}return n})();const bW={capture:!0},vW=["focus","click","mouseenter","touchstart"],qR="mat-ripple-loader-uninitialized",WR="mat-ripple-loader-class-name",yW="mat-ripple-loader-centered",VE="mat-ripple-loader-disabled";let n_e=(()=>{class n{constructor(){this._document=Me(Tt,{optional:!0}),this._animationMode=Me(Vr,{optional:!0}),this._globalRippleOptions=Me(FE,{optional:!0}),this._platform=Me(Di),this._ngZone=Me(We),this._hosts=new Map,this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${qR}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of vW)this._document?.addEventListener(e,this._onInteraction,bW)})}ngOnDestroy(){const e=this._hosts.keys();for(const i of e)this.destroyRipple(i);for(const i of vW)this._document?.removeEventListener(i,this._onInteraction,bW)}configureRipple(e,i){e.setAttribute(qR,""),(i.className||!e.hasAttribute(WR))&&e.setAttribute(WR,i.className||""),i.centered&&e.setAttribute(yW,""),i.disabled&&e.setAttribute(VE,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,i){const r=this._hosts.get(e);r?r.disabled=i:i?e.setAttribute(VE,""):e.removeAttribute(VE)}_createRipple(e){if(!this._document)return;const i=this._hosts.get(e);if(i)return i;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(WR)),e.append(r);const o=new HR(new ft(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,o.centered=e.hasAttribute(yW),o.disabled=e.hasAttribute(VE),this.attachRipple(e,o),o}attachRipple(e,i){e.removeAttribute(qR),this._hosts.set(e,i)}destroyRipple(e){const i=this._hosts.get(e);i&&(i.ngOnDestroy(),this._hosts.delete(e))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class xW{}class i_e{}const Oc="*";function ed(n,t){return{type:7,name:n,definitions:t,options:{}}}function aa(n,t=null){return{type:4,styles:t,timings:n}}function EW(n,t=null){return{type:2,steps:n,options:t}}function cr(n){return{type:6,styles:n,offset:null}}function Ps(n,t,e){return{type:0,name:n,styles:t,options:e}}function Os(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}class Fb{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class IW{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function r_e(n,t){}class BE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const QR="mdc-dialog--open",CW="mdc-dialog--opening",TW="mdc-dialog--closing";let a_e=(()=>{class n extends iW{constructor(e,i,r,o,s,a,c,l){super(e,i,r,o,s,a,c,l),this._animationStateChanged=new zt}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}static{this.\u0275fac=function(i){return new(i||n)(N(ft),N(ME),N(Tt,8),N(BE),N(Pb),N(We),N(Mb),N(Hm))}}static{this.\u0275cmp=ct({type:n,selectors:[["ng-component"]],features:[qe],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return n})();const AW="--mat-dialog-transition-duration";function kW(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Ib(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Ib(n.substring(0,n.length-1)):"0"===n?0:null}let c_e=(()=>{class n extends a_e{constructor(e,i,r,o,s,a,c,l,d){super(e,i,r,o,s,a,c,d),this._animationMode=l,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?kW(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?kW(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(AW,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(CW,QR)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(QR),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(QR),this._animationsEnabled?(this._hostElement.style.setProperty(AW,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(TW)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(CW,TW)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}static{this.\u0275fac=function(i){return new(i||n)(N(ft),N(ME),N(Tt,8),N(BE),N(Pb),N(We),N(Mb),N(Vr,8),N(Hm))}}static{this.\u0275cmp=ct({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,r){2&i&&(kf("id",r._config.id),kn("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Pt("_mat-animation-noopable",!r._animationsEnabled))},features:[qe],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(D(0,"div",0)(1,"div",1),Se(2,r_e,0,0,"ng-template",2),S()())},dependencies:[Bm],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}}return n})();class td{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Q,this._beforeClosed=new Q,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(Zt(r=>"opened"===r.state),Vn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Zt(r=>"closed"===r.state),Vn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),E(this.backdropClick(),this.keydownEvents().pipe(Zt(r=>27===r.keyCode&&!this.disableClose&&!jm(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),SW(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Zt(e=>"closing"===e.state),Vn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function SW(n,t,e){return n._closeInteractionType=t,n.close(e)}const qm=new ue("MatMdcDialogData"),l_e=new ue("mat-mdc-dialog-default-options"),DW=new ue("mat-mdc-dialog-scroll-strategy"),u_e={provide:DW,deps:[Pc],useFactory:function d_e(n){return()=>n.scrollStrategies.block()}};let h_e=0,f_e=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,o,s,a,c,l,d,u){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=c,this._dialogContainerType=l,this._dialogDataToken=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Q,this._afterOpenedAtThisLevel=new Q,this._idPrefix="mat-dialog-",this.dialogConfigClass=BE,this.afterAllClosed=Lf(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ra(void 0))),this._scrollStrategy=a,this._dialog=i.get(oW)}open(e,i){let r;(i={...this._defaultOptions||new BE,...i}).id=i.id||`${this._idPrefix}${h_e++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:OE,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,c)=>(r=new this._dialogRefConstructor(s,i,c),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static{this.\u0275fac=function(i){jg()}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})(),UE=(()=>{class n extends f_e{constructor(e,i,r,o,s,a,c,l){super(e,i,o,a,c,s,td,c_e,qm,l),this._idPrefix="mat-mdc-dialog-"}static{this.\u0275fac=function(i){return new(i||n)(X(Pc),X(Ln),X(l_,8),X(l_e,8),X(DW),X(n,12),X(SE),X(Vr,8))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})(),RW=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function m_e(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){SW(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}static{this.\u0275fac=function(i){return new(i||n)(N(td,8),N(ft),N(UE))}}static{this.\u0275dir=be({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,r){1&i&&Re("click",function(s){return r._onButtonClick(s)}),2&i&&kn("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Ni]})}}return n})(),jE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=be({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}}return n})(),zE=(()=>{class n{constructor(){this.align="start"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=be({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(i,r){2&i&&Pt("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}})}}return n})(),p_e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({providers:[UE,u_e],imports:[Gge,DE,Um,xn,xn]})}}return n})();function PW(...n){const t=Ko(n),{args:e,keys:i}=F3(n),r=new at(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let d=0;d<s;d++){let u=!1;Wt(e[d]).subscribe(me(o,p=>{u||(u=!0,l--),a[d]=p},()=>c--,void 0,()=>{(!c||!u)&&(l||o.next(i?L3(i,a):a),o.complete())}))}});return t?r.pipe(gS(t)):r}let OW=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(N(dc),N(ft))}}static{this.\u0275dir=be({type:n})}}return n})(),Wu=(()=>{class n extends OW{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}()}static{this.\u0275dir=be({type:n,features:[qe]})}}return n})();const Ns=new ue("NgValueAccessor"),g_e={provide:Ns,useExisting:dn(()=>YR),multi:!0};let YR=(()=>{class n extends Wu{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}()}static{this.\u0275dir=be({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&Re("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[mt([g_e]),qe]})}}return n})();const __e={provide:Ns,useExisting:dn(()=>nd),multi:!0},v_e=new ue("CompositionEventMode");let nd=(()=>{class n extends OW{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function b_e(){const n=Cl()?Cl().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(N(dc),N(ft),N(v_e,8))}}static{this.\u0275dir=be({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Re("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[mt([__e]),qe]})}}return n})();function id(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function NW(n){return null!=n&&"number"==typeof n.length}const zr=new ue("NgValidators"),rd=new ue("NgAsyncValidators"),y_e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class x_e{static min(t){return function FW(n){return t=>{if(id(t.value)||id(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function LW(n){return t=>{if(id(t.value)||id(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return VW(t)}static requiredTrue(t){return function BW(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function UW(n){return id(n.value)||y_e.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function jW(n){return t=>id(t.value)||!NW(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function zW(n){return t=>NW(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function HW(n){if(!n)return HE;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(id(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return QW(t)}static composeAsync(t){return YW(t)}}function VW(n){return id(n.value)?{required:!0}:null}function HE(n){return null}function qW(n){return null!=n}function WW(n){return Yg(n)?T(n):n}function GW(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function $W(n,t){return t.map(e=>e(n))}function KW(n){return n.map(t=>function w_e(n){return!n.validate}(t)?t:e=>t.validate(e))}function QW(n){if(!n)return null;const t=n.filter(qW);return 0==t.length?null:function(e){return GW($W(e,t))}}function XR(n){return null!=n?QW(KW(n)):null}function YW(n){if(!n)return null;const t=n.filter(qW);return 0==t.length?null:function(e){return PW($W(e,t).map(WW)).pipe(pe(GW))}}function JR(n){return null!=n?YW(KW(n)):null}function XW(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function JW(n){return n._rawValidators}function ZW(n){return n._rawAsyncValidators}function ZR(n){return n?Array.isArray(n)?n:[n]:[]}function qE(n,t){return Array.isArray(n)?n.includes(t):n===t}function e8(n,t){const e=ZR(t);return ZR(n).forEach(r=>{qE(e,r)||e.push(r)}),e}function t8(n,t){return ZR(t).filter(e=>!qE(n,e))}class n8{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=XR(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=JR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class To extends n8{get formDirective(){return null}get path(){return null}}class Nc extends n8{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class r8{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let od=(()=>{class n extends r8{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(N(Nc,2))}}static{this.\u0275dir=be({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Pt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[qe]})}}return n})(),WE=(()=>{class n extends r8{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(N(To,10))}}static{this.\u0275dir=be({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Pt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[qe]})}}return n})();const Lb="VALID",$E="INVALID",Wm="PENDING",Vb="DISABLED";function nM(n){return(KE(n)?n.validators:n)||null}function iM(n,t){return(KE(t)?t.asyncValidators:n)||null}function KE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class rM{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Lb}get invalid(){return this.status===$E}get pending(){return this.status==Wm}get disabled(){return this.status===Vb}get enabled(){return this.status!==Vb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(e8(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(e8(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(t8(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(t8(t,this._rawAsyncValidators))}hasValidator(t){return qE(this._rawValidators,t)}hasAsyncValidator(t){return qE(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Wm,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Vb,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Lb,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lb||this.status===Wm)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vb:Lb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Wm,this._hasOwnPendingAsyncValidator=!0;const e=WW(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new zt,this.statusChanges=new zt}_calculateStatus(){return this._allControlsDisabled()?Vb:this.errors?$E:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wm)?Wm:this._anyControlsHaveStatus($E)?$E:Lb}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){KE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function T_e(n){return Array.isArray(n)?XR(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function A_e(n){return Array.isArray(n)?JR(n):n||null}(this._rawAsyncValidators)}}class Bb extends rM{constructor(t,e,i){super(nM(e),iM(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function a8(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new he(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function s8(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new he(1e3,"");if(!i[e])throw new he(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Gu=new ue("CallSetDisabledState",{providedIn:"root",factory:()=>Ub}),Ub="always";function QE(n,t){return[...t.path,n]}function jb(n,t,e=Ub){oM(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function D_e(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&c8(n,t)})}(n,t),function M_e(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function R_e(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&c8(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function S_e(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function YE(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),JE(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function XE(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function oM(n,t){const e=JW(n);null!==t.validator?n.setValidators(XW(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=ZW(n);null!==t.asyncValidator?n.setAsyncValidators(XW(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();XE(t._rawValidators,r),XE(t._rawAsyncValidators,r)}function JE(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=JW(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=ZW(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return XE(t._rawValidators,i),XE(t._rawAsyncValidators,i),e}function c8(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function l8(n,t){oM(n,t)}function aM(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function d8(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function cM(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===nd?e=o:function N_e(n){return Object.getPrototypeOf(n.constructor)===Wu}(o)?i=o:r=o}),r||i||e||null}const L_e={provide:To,useExisting:dn(()=>Hb)},zb=(()=>Promise.resolve())();let Hb=(()=>{class n extends To{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new zt,this.form=new Bb({},XR(e),JR(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){zb.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),jb(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){zb.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){zb.then(()=>{const i=this._findContainer(e.path),r=new Bb({});l8(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){zb.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){zb.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,d8(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||n)(N(zr,10),N(rd,10),N(Gu,8))}}static{this.\u0275dir=be({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Re("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[mt([L_e]),qe]})}}return n})();function u8(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function h8(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Gm=class extends rM{constructor(t=null,e,i){super(nM(e),iM(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),KE(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=h8(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){u8(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){u8(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){h8(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},U_e={provide:Nc,useExisting:dn(()=>$u)},p8=(()=>Promise.resolve())();let $u=(()=>{class n extends Nc{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Gm,this._registered=!1,this.name="",this.update=new zt,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=cM(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),aM(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){jb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){p8.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&Of(i);p8.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?QE(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||n)(N(To,9),N(zr,10),N(rd,10),N(Ns,10),N(Vo,8),N(Gu,8))}}static{this.\u0275dir=be({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[mt([U_e]),qe,Ni]})}}return n})(),ZE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=be({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const j_e={provide:Ns,useExisting:dn(()=>lM),multi:!0};let lM=(()=>{class n extends Wu{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}()}static{this.\u0275dir=be({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&Re("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[mt([j_e]),qe]})}}return n})(),g8=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({})}}return n})();const dM=new ue("NgModelWithFormControlWarning"),G_e={provide:To,useExisting:dn(()=>$m)};let $m=(()=>{class n extends To{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new zt,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(JE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return jb(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){YE(e.control||null,e,!1),function F_e(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,d8(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(YE(i||null,e),(n=>n instanceof Gm)(r)&&(jb(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);l8(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function P_e(n,t){return JE(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){oM(this.form,this),this._oldForm&&JE(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(i){return new(i||n)(N(zr,10),N(rd,10),N(Gu,8))}}static{this.\u0275dir=be({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&Re("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[mt([G_e]),qe,Ni]})}}return n})();const Q_e={provide:Nc,useExisting:dn(()=>eI)};let eI=(()=>{class n extends Nc{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new zt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=cM(0,o)}ngOnChanges(e){this._added||this._setUpControl(),aM(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return QE(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(N(To,13),N(zr,10),N(rd,10),N(Ns,10),N(dM,8))}}static{this.\u0275dir=be({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[mt([Q_e]),qe,Ni]})}}return n})();const Y_e={provide:Ns,useExisting:dn(()=>qb),multi:!0};function x8(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let qb=(()=>{class n extends Wu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=x8(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function X_e(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}()}static{this.\u0275dir=be({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&Re("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[mt([Y_e]),qe]})}}return n})(),fM=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(x8(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(N(ft),N(dc),N(qb,9))}}static{this.\u0275dir=be({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const J_e={provide:Ns,useExisting:dn(()=>mM),multi:!0};function w8(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let mM=(()=>{class n extends Wu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const l=this._getOptionValue(s[a].value);r.push(l)}}else{const s=i.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function Z_e(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}()}static{this.\u0275dir=be({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&Re("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[mt([J_e]),qe]})}}return n})(),pM=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(w8(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(w8(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(N(ft),N(dc),N(mM,9))}}static{this.\u0275dir=be({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),Ku=(()=>{class n{constructor(){this._validator=HE}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):HE,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=be({type:n,features:[Ni]})}}return n})();const nbe={provide:zr,useExisting:dn(()=>Km),multi:!0};let Km=(()=>{class n extends Ku{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Of,this.createValidator=e=>VW}enabled(e){return e}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}()}static{this.\u0275dir=be({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&kn("required",r._enabled?"":null)},inputs:{required:"required"},features:[mt([nbe]),qe]})}}return n})(),R8=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[g8]})}}return n})(),lbe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Gu,useValue:e.callSetDisabledState??Ub}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[R8]})}}return n})(),dbe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:dM,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Gu,useValue:e.callSetDisabledState??Ub}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[R8]})}}return n})();const ube=["*"];let tI;function Wb(n){return function hbe(){if(void 0===tI&&(tI=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(tI=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return tI}()?.createHTML(n)||n}function M8(n){return Error(`Unable to find icon with the name "${n}"`)}function P8(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function O8(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Qu{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let nI=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Qu(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(Lr.HTML,r);if(!s)throw O8(r);const a=Wb(s);return this._addSvgIconConfig(e,i,new Qu("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Qu(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(Lr.HTML,i);if(!o)throw O8(i);const s=Wb(o);return this._addSvgIconSetConfig(e,new Qu("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(Lr.RESOURCE_URL,e);if(!i)throw P8(e);const r=this._cachedIconsByUrl.get(i);return r?O(iI(r)):this._loadSvgIconFromConfig(new Qu(e,null)).pipe(Dn(o=>this._cachedIconsByUrl.set(i,o)),pe(o=>iI(o)))}getNamedSvgIcon(e,i=""){const r=N8(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):Al(M8(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?O(iI(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(pe(i=>iI(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?O(r):PW(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(hn(a=>{const l=`Loading icon set URL: ${this._sanitizer.sanitize(Lr.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),O(null)})))).pipe(pe(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw M8(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Dn(i=>e.svgText=i),pe(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?O(null):this._fetchIcon(e).pipe(Dn(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(Wb("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Wb("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function fbe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(Lr.RESOURCE_URL,i);if(!s)throw P8(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(pe(l=>Wb(l)),Bf(()=>this._inProgressUrlFetches.delete(s)),q());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(N8(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return pbe(o)?new Qu(o.url,null,o.options):new Qu(o,null)}}static{this.\u0275fac=function(i){return new(i||n)(X(wb,8),X(mS),X(Tt,8),X(As))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function iI(n){return n.cloneNode(!0)}function N8(n,t){return n+":"+t}function pbe(n){return!(!n.url||!n.options)}const gbe=NE(class{constructor(n){this._elementRef=n}}),_be=new ue("MAT_ICON_DEFAULT_OPTIONS"),bbe=new ue("mat-icon-location",{providedIn:"root",factory:function vbe(){const n=Me(Tt),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),F8=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ybe=F8.map(n=>`[${n}]`).join(", "),xbe=/^url\(['"]?#(.*?)['"]?\)$/;let qa=(()=>{class n extends gbe{get inline(){return this._inline}set inline(e){this._inline=cn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,s,a){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=kt.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(ybe),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)F8.forEach(s=>{const a=i[o],c=a.getAttribute(s),l=c?c.match(xbe):null;if(l){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:s,value:l[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Vn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static{this.\u0275fac=function(i){return new(i||n)(N(ft),N(nI),vl("aria-hidden"),N(bbe),N(As),N(_be,8))}}static{this.\u0275cmp=ct({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(kn("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Pt("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[qe],ngContentSelectors:ube,decls:1,vars:0,template:function(i,r){1&i&&(Yi(),xt(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return n})(),wbe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[xn,xn]})}}return n})();function Ebe(n,t){if(1&n){const e=Qi();D(0,"div",31)(1,"small",32),j(2),S(),D(3,"div",33)(4,"span",34),j(5),S(),D(6,"button",35),Re("click",function(){const o=Rt(e).$implicit;return Mt(Oe(2).removeSelectedItem(o))}),D(7,"mat-icon",36),j(8,"close"),S()()()()}if(2&n){const e=t.$implicit;ae(2),Vi(e.name),ae(3),Kn(" x",e.quantity," ")}}function Ibe(n,t){if(1&n&&(D(0,"div",13)(1,"div",25)(2,"div",26),rt(3,"div",27),S(),D(4,"div",28)(5,"div",29),Se(6,Ebe,9,2,"div",30),S()()()()),2&n){const e=Oe();ae(6),ve("ngForOf",e.selectedItems)}}function Cbe(n,t){1&n&&(D(0,"mat-icon",49),j(1,"add_circle"),S())}function Tbe(n,t){1&n&&(D(0,"mat-icon",49),j(1,"check_circle"),S())}function Abe(n,t){if(1&n){const e=Qi();D(0,"div",37)(1,"div",38)(2,"div",39)(3,"div",40)(4,"small",41),j(5),S(),D(6,"div",33)(7,"small",42),j(8),S()()(),D(9,"div",43)(10,"div",44)(11,"input",45),Re("input",function(r){const s=Rt(e).$implicit;return Mt(Oe().updateQuantity(s,r))}),S()(),D(12,"button",46),Re("click",function(){const o=Rt(e).$implicit;return Mt(Oe().addItem(o))}),Se(13,Cbe,2,0,"mat-icon",47),Se(14,Tbe,2,0,"mat-icon",47),D(15,"span",48),j(16),S()()()()()()}if(2&n){const e=t.$implicit,i=Oe();ae(5),Vi(e.name),ae(3),Vi(e.price),ae(3),ve("value",e.quantity),ae(1),ve("ngClass",i.addedItems[e._id]?"bg-gradient-to-r from-coffee-600 to-coffee-700 text-white":"bg-gradient-to-r from-green-600 to-emerald-600 text-white hover:from-green-700 hover:to-emerald-700"),ae(1),ve("ngIf",!i.addedItems[e._id]),ae(1),ve("ngIf",i.addedItems[e._id]),ae(2),Vi(i.addedItems[e._id]?"Agregado":"Agregar")}}let _M=(()=>{class n{constructor(e,i,r){this.gestionService=e,this.dialogRef=i,this.data=r,this.menuItems=[],this.selectedItems=[],this.canPrint=!1,this.filterText="",this.waiterName="",this.addedItems={}}ngOnInit(){console.log("Datos recibidos en MenuDialogComponent:",this.data),this.loadMenu(),this.waiterName=this.data&&this.data.waiter&&"object"==typeof this.data.waiter&&this.data.waiter.name?this.data.waiter.name:"Desconocido",window.addEventListener("message",e=>{"closeDialog"===e.data&&this.dialogRef.close(this.selectedItems)})}loadMenu(){this.gestionService.getMenu().subscribe(e=>{this.menuItems=e.map(i=>({...i,quantity:1})),console.log(this.menuItems,"menuItems desde dialog menu")})}get filteredMenuItems(){return this.menuItems.filter(e=>e.name.toLowerCase().includes(this.filterText.toLowerCase()))}toggleSelection(e,i){const r=this.selectedItems.findIndex(o=>o._id===e._id);i.target.checked?-1===r&&this.selectedItems.push({...e,quantity:1}):r>-1&&this.selectedItems.splice(r,1)}updateQuantity(e,i){const o=parseInt(i.target.value,10);e.quantity=o;const s=this.selectedItems.findIndex(a=>a._id===e._id);s>-1&&(this.selectedItems[s].quantity=o,this.gestionService.saveLog(`Se actualiz\xf3 la cantidad de <strong>${e.name}</strong> a <strong>${o}</strong> en la mesa <strong>${this.data.name}</strong> por el mozo <strong>${this.waiterName||(this.data.waiter?.name??"Desconocido")}</strong>.`))}printTicket(){this.selectedItems.length?this.gestionService.addItemsToTable(this.data.id,this.selectedItems).subscribe(e=>{this.data.orders=e.orders,this.data.available=!1,this.canPrint=!1;const i=this.selectedItems.map(c=>`${c.quantity}x ${c.name}`).join(", "),r=this.waiterName||(this.data.waiter?.name??"Desconocido");console.log(r),this.gestionService.saveLog(`Se agregaron: <strong>${i}</strong> a la mesa <strong>${this.data.name}</strong> por el mozo <strong>${r}</strong>`);const o=`\n          <html>\n            <head>\n              <title>Ticket</title>\n              <style>\n                @page { size: 58mm landscape; margin: 0; }\n                body { font-family: 'Courier New', monospace; font-size: 14px; font-weight: bold; margin: 0; padding: 0; text-align: left; }\n                .ticket { width: 58mm; padding: 5px; }\n                .header { text-align: left; margin-bottom: 5px; }\n                .order-list { text-align: left; word-wrap: break-word; }\n                .order-item { display: flex; justify-content: space-between; width: 100%; }\n                .order-item p { margin: 0; padding-right: 5px; }\n                .totals { margin-top: 5px; text-align: left; }\n                .line { border-top: 1px dashed #000; margin: 3px 0; }\n                .logo { text-align: center; margin-bottom: 10px; }\n                .logo img { width: 70px; max-width: 58mm; height: auto; }\n              </style>\n            </head>\n            <body>\n              <div class="ticket">\n                <div class="logo"><img src="\n                data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBUODAsLDBkSEw8VHhsgHx4bHR0hJTApISMtJB0dKjkqLTEzNjY2ICg7Pzo0PjA1NjP/wAALCADhAOEBAREA/8QAGgABAAIDAQAAAAAAAAAAAAAAAAYHBAUIA//EAFIQAAIBAwQBAgMEBQQKEAcBAAECAwQFEQAGEiEHEzEUIkEIFTJRFiNCYYEkM1ZxFxg3UlWRpKWz0iU0NVNXYmZ1goOTlbHR0+MnQ0VjcnN0of/aAAgBAQAAPwC/9NNNNNNNNYdyu1ts1OtRdLhSUMDPwWSqmWJS2CcAsQM4B6/cdVff/tCbUtqMtnhq7xPwDKVQwRZ5YKszjkCB30hHYGffEIuX2kr9LUK1rsdtpoOGGSqd52LZPYZSgAxjrH0PffUT/s2eQ/6Q/wCRU/8Aqaf2bPIf9If8ip/9TT+zZ5D/AKQ/5FT/AOpp/Zs8h/0h/wAip/8AU1KKH7SG5I6yNq+zWqelGeccAkiduusMWYDvH7J/h76m9k+0Rtav9CO7Udda5n5eo/ETwx4zj5l+c5AH7HRP5d6sjb26rFuujaqsdzgrY1/GEJDx9kDkhwy54nGQM4yOtbjTTTTTTTTTTTTTTTTUb3XvvbmzKcvebjHHOU5R0kfzzydNjCDsAlSORwueiRqhN5efr7evWo9vRfdFC2V9bIapkX5hnl7R5BU4XLAjp9V3RWrc29rpJLS01yvFY7ok055SlSflX1JD0owMZYgAD8hqyLB9nbcdwRZb1cKS0oyE+mo+IlVg2AGAIXBGTkOfp1743du8X+LrJbqG63vdX3tTvV/BtNDOq0jzMCVVvTyyYXBJMgHWSQDjWRMPEFlo7xUJs+uqPuS6pTViBHmMbqZAkhLycfSZlZSCezx5L+HUovFJZ7b+kvw3iihrfun4b4T07en+yHq458MRH+bz3jl7d40jj236V4qZvE/GloYqSSnWOzRtPVesoLKsZQDlGThgGOMH2xjWvu1v8bVN4u1ruexZ6Oqt1qF0mEcCU6vEi5IRopAGYGRlOPlLJgseC408/jnxLd6y3COvrrHNWWpblHSGpCgwEFi7NKHHIAHID9BCcYBOtBc/s73QW6Kt29f6G7xvEZQGT0fUGAU9NgXVuX5kqPbvB6ru+bP3Xseopqq6W2rt7h1eGqjcMqvklcSISA/yk4znrOpZtHznunbnGnuT/flCM/JVyETL+I9S9k9kfiDdKAMavfZflXbW9fhaWmqvhrvLEXe3zBgylfxBXwFf8xg549kDBAnGmmmmmmmmmmmmvOeeGlp5aioljhgiQvJJIwVUUDJJJ6AA+uuePIPnyaujmtezxJT07o0ctxlUrKfmxmEZ+QFR+Jhy+boKVzqp7Nt3ce9bpMtroau5VbuXnmJyAzZbMkjHAJw3bHs/mdXXY/C20dsVlFFva8QV1Zc8QUdGGeBPWxluLBgz/RQTxHzAEcmUCcWS7bgrqOzjbW1ILDaY7hLBX0dzpmp5I4MhxLCi4HzAsD0cO2OwC2sim8fVFVR21dzblrrvV226/eVNUIgpxnIYRsmWVlDciD0VB4qVHR3lt2dty0U7U9FZ6SOA1vx6xsnNY6jAHqIGyEIAGOOAPpjW81h3K7W2zU61F0uFJQwM/BZKqZYlLYJwCxAzgHr9x1C/7Nnjz+kP+RVH+pqcUNfR3OjjrKCrgq6WTPCaCQSI2Dg4YHBwQR/DWPX2O13P4k1lBBJJVUjUc03DEjQNnlHzHzBTknAPv3760cewqGgultuFmrKu3G10UlJR0SPypAGyS0kfTOSxVm+cFiiknIzrDoG3jQ0dst26KGhvVDLSVX3xXQfMQcsUUQBBzUphOKqSSfYY+eBy+OPHnkGyW+62GWTblZdXnelhdlJmKPiT9QXIwoVsCMqAGBPQA1Tm8dgbg2PWeldqXlTtx9OtgDNBISCeIcgYb5W+UgHrOMYJnGwfO10sHCg3L691to5kVGedWhPYHJmAdc56PY5e+FC66TtV1ob5a6e52ypjqaOoTnFKnsw/8QQcgg9ggg9jWZppppppppprT7m3Na9oWKa73ef0qePpVXt5XPsiD6scH/EScAEjlDyJ5NunkGsiEsfwVsgwYaFJOYD4wXZsDk3ZA6GB0PckyjYvhr16Mbh31UfctoglHKlq/wBQ8y5x87MR6SluIH7Td445VjadkqGrag2bx9SR2O32G8JBd/iKNQtaqHjII5AW5PxQZLAMeSHkv13lk2Htvalumlqj8f6NXJcTX3j05ZIJCF5yCQqOP82rFvfIyTrabd3baN1PcRZ5pKiKgqPh3qBGfSkbiCTG/s4Gcdfln2Klt5pprnjYcT+ZfIty3BuNfUtNs4PT2tp2eKN36QcSMFcREvjjybGQQSNdBzwQ1VPLT1EUc0EqFJI5FDK6kYIIPRBH01Qd4qovDXmZKqkp/R21fYkNRCqOsMHzYcpjIZkI54A6WQqAMg66A001o7xtK0XuviuU8MkN0gp5aenuFNIY54VkVlJUjokBmK5B4kkj3Oo2Fvu06M266Rffu1KKyTT3G41sgepnmBdnQIzHkpXoK2AAe3OMGsN8eFYqq3R7l2APXtk1ItQKAlzIykAhouQLNlTyKseWQcZyFFZ7N3xetiXR66zyxkSpwmp5wWimHeOQBByCcgggjsexIPWexd9WvftiFfQH0qiPC1dI7Zenc/Q/mpwcN9cfQggSjTTTTTTTWn3Nua17QsU13u8/pU8fSqvbyufZEH1Y4P8AiJOACRyBvrfV035fTX159KnjytJSI2Up0P0H5scDLfXH0AAFv+O/FlPsy0y743ZF8RUUdIa2nokQ5pwqcyWVwv60dgKelIzknBWxJduTbyeqbcYjqts19PT1FJaqqlMNVRTBfmBdSCp/PsnLFegDzyNyeRLDtq6UVpkkkrrtWVCU8dBRMjSqzY4l+TKEB5LjkRnlkZAJGZubZ9u3d8LFdp65qGHn6lDDUtFDU5xj1QuC3EqCvYwfz1C/Gs9Xsq8z+NL3LHJJEj1lpqlZFWop2Y5Tj+IOG5tg8j+PvioJtTTWvvts++9u3O0+t6Px1JLT+rx5cOaFeWMjOM5xkapP7OEi0lRue1VMMdPcI3hZo5CyzkKXVlKE9BGx7AEF8EnoC/Nc/wDneGs3Pv7a20qCmzVNE0iSkkj9a/E8gASFUQlie+ieuu+gNNNUH5XuVXt7zHt+r2osibirKdI54yEWCrVpOEaP2CxJUglj0FjIIK5F0WCqu9Va1N8t8dFcI3McohlDxS4/+ZGc5CN7gNhh2COsnR3qxXi23G5bh2wfjb3cPh6cw3KrcUlPCpwWWNcZxksQTkcnK9kq8P3749s3lP4y57aq4Ib7b6tqGrkkR0jlePAZH+XPJQRhwDkfL2MFefLBf71sbcq19A0lLX0zmKaCZSAwB+aORejjI7HRBGRggEdd7F31a9+2IV9AfSqI8LV0jtl6dz9D+anBw31x9CCBKNNNNNNec88NLTy1FRLHDBEheSSRgqooGSST0AB9dcgeS/Jddv8AugRBJTWWncmlpCeyfb1JMdFyPp7KDge5LTzxvsmxbLsVJ5B3xVQQrJwe3QuDII+XaSFVBLSEfMFAPEDkex8lr2jb9fdb7T7l3VSwQXa3y1MNvgo6qR4UgfCh2B6MhAb5gFyrDkoIAWUV9L8dbqmj+Inp/XiaP1qd+EkfIEckb6MM5B+h1Qnl3x0u0zSb32qskD0dQJa1pqlpmEpkBjm/W8ixLnDZJ916/EdXHsvdlHvba9Le6NPS9TKTQGQO0MinDKSP4EZwSpU4Gca0flSxzVe2juK2VUlHfNvJJWUVSshUBQAZUYYIYMinojsgAniWBlliuf33t22Xb0fR+OpIqj0uXLhzQNxzgZxnGcDWw01B92bDqLjeF3Lte6fcm5Y4miaoEYeOrTjgJKp6OCFw2DgAdHivHDnj8xTU8sSTbKgd0KrLGKkshI/EOQIyPfsEfmDrM2p41o7BfajcdzuE973HU59SvqUChM5H6tBnh8uF9zgDA4gkanGmmqHpW/TH7UU8olgqqGwxMFSaPHH014EKOPbLPIWBP5ZB6XVyX/cVo2ta2uV6ro6SkDhObAsWY+wVQCWPucAHoE+wOq/8Z1+/IqhqG7WW5T7flqJWo7jdqlEraeIF+KyoTyckhR7DGSQSuMSzeVqrKiKkvVFX3VJLN6lUbdQTFBceK8hC4AOcsij2PRYYy2RXe99i03lCzC+Wyljtm8YKeN6y2SzJ6hDLlUlAPyOVHyMwUkYDAfsUp4/3jUbG3bTXaL5qdsQ1kYQMZICwLBckYboEdjsDPWQez6Ctp7nbqavo5PUpaqJZoX4kckYAqcHsZBHvrI00001Q/wBoLfSRUa7Mojymm4T1zhlIVASUiI7IYkK59sAL7hjiIeFPHH6V3gX65xQS2SglKNDL83xEwUELxz+FeSsc9HpcEFsXHY6cb/vNTuKonvMdj4NQybdu9FGIXkjYEvxPIEBvrjmHQjlgcdWJprHr6GnuduqaCsj9SlqomhmTkRyRgQwyOxkE+2ufLHX13gzyDU2i8mrbadydmppQ3qKBkcZelGXVcK6qAewcMAmZvcvLC7lqF2945SS43iqQH46WFo6ejTJDSPzGSV6644yw/EfkM82rt6n2pte3WOlbnHSRBS+CPUcnLvgk45MWOM9ZwOtbjTWvud9s9k9L72utDQetn0/iqhIueMZxyIzjI/xjWw00001zJ4lvV6r91bnvFo27HX364uD8Q0xhpKJZXZnZ8klhz9MhBliqNg9HNx7d8epBcY9w7qq/v7cpijVqidF9GmKnkBAnEBcHHzYySCRx5MDONNQfcFmnse4xu+zpaqSM/rNw1dWJXmkpY0A4xAA8cKCxC4yyR5yMg1J5p2paK610fkHa4jloa9/5a8GeBZvwy8cfISwZXyR8xUY5Fs+fgHfSWe8SbVrjilucoelkLKqxz8cEHOCeYVQOz8wUAfMSOl9NNNafdW4afam17jfKpecdJEWCZI9RycImQDjkxUZx1nJ61xhQ0l03pu2OnjPr3O61ZLuUwObsSzsFHSjJY4HQB/LXU90syUtHYfHlDabrFZp4hyvNFIsZpHgIlViVU4kZ0BLELktkEnOJxTGng40EU/OSniTKPMZJAhyFZixLHPFvmPuVPZOdZGmmsO5Wm23mnWnulvpK6BX5rHVQrKobBGQGBGcE9/vOlttNts1O1Pa7fSUMDPzaOlhWJS2AMkKAM4A7/cNZmmoP5X3jUbJ2NNX0PVfUSrTUrlA6xuwJLEE/RVbHv83HIIzqu9qeFq7dNQN0eQa6rarrH9Z6EfJIwyvH1G/YBUEemoBUce1I4i/NNNNec8ENVTy09RFHNBKhSSORQyupGCCD0QR9NedDQUdso46OgpIKSljzwhgjEaLk5OFHQyST/HWRpppqv6OslsW722jfar7xob36i2ijitqR01JSxxsWidsAN18nEcsBFJxzxrmTfGza7Yu5ZLPXSRzAoJaedOhNESQGx7qcqQQfYg+4wT1X4y3d+mmxqK5Styrov5PW9Y/XKBlvYD5gVfA6HLH01MNNNc6faM3Q090t+14JIzBTIKup4urH1WyqKwxlSq5Pv2JB10Dr08DbTqKe3XTept/xdVHFJBaqdyI/VcDLkMy4XJxGHB6zICNWn4/sENHHcNzNaqu0XDcLrU1lunnEogYM5BB4ggtzLFT7FsYGMahdtTyNYLxfN7QWGC50l7lEslslk9GvhgjWQQjAHEMEKgqObHoYzkiebY8jbc3VUPRUtTJSXSN2SS216ejUIwLZHEnDEBCSFJwPfGpZpppppqD+V9nVG9tjTUFD3X08q1NKhcIsjqCCpJH1Vmx7fNxyQM6j+zvLqLWfoxvtPufcNLySaon4xwS8QCCWzhWYZP8AeHGVPzBdWxppppppprDuV2ttmp1qLpcKShgZ+CyVUyxKWwTgFiBnAPX7jqN2zynsW7+r8Nuahj9LHL4tjTZzn29ULy9vpnHWfca3G6LPWX7bdXbKC7T2mqm4cK2DPOLDhjjDKewCPce+qj8rQQ+SfFdt3rZoqsJQPK/oSqOZhL8JCVXl2DGrZ5ABQxOoZ4B3Mll3zJa6mf06W7xCJQeIUzqcx5Y9jILqAPdnUY/LqfTTXDF8udZu7dtbcRDPJVXKrLRQBjM45NhI1OMtgcVAA+gAH010nuDaS0e09r+OaazXK4W2qfjV19FUtAKYoyu8r8g6kMWdgjHGRhewuJpuPe+2to+mL5d4KSSTHGLDSSEHOG4KC3H5SOWMZGM51B637QuyqSskghiutbGuMTwU6hHyM9B3VuvbsD2/LvVabr33W+VKcpbfHMdTPTpxlq40lqp4shuGHiCFQCXPFuSk9461P/FzeWaOvoaXclJJNYZkLvUV8qNUQAqzL+36mSxUEOCQOvlxq5NNNNNNafcO1bFuujFLfLZBWxr+AuCHj7BPFxhlzxGcEZxg9ar+ot+5fE0UdfQXGu3DtCD5au31IV6miiCqPUjfrkq8T8vyqAfb3dbY000001j19bT2y3VNfWSenS0sTTTPxJ4ooJY4HZ6B9tc8Wnam4PON9qNy3upnte3llxSwBmkBA4qywhjgdL80mMF/2TghbHofBewKSjjgmtc9bIuczz1cgd8nPYQqvXt0B7fn3rH2dBdNgb0/Q653Oe4Wa5xNJYp55ObxekBzgIx1hCDnIT5OgCxA2FNFbqTfN92jcrjfLq1/pGrBBUMz01LTsXRolZTmPJL94UY4LnkBy5cutFXbJ3tUUsUsiVlprcwTPDxLFGyknBsjBAVgDkEEe412vablDebNQ3SnWRYK2njqI1kADBXUMAcEjOD+Z1mag/l68/cni69yq8AmqYhSRpMfx+qeDBRkZYIXYf8A45wQDrnzwnYFv3k2haVY2gtyNWurMyklCAnHHuRIyHBwMA+/seg7JQ/G+Vtw3qe0XWhmpKSKhhnqZ+cFXGx5lo1wQuCg6VsfNllVidR/dXhj9Nrjcbvd77PDc5pSlGIF509PTqcIpRvmLFQWbDKOTnAOO9HZoofGEdHTby2DbWpKV1MW5LbTCoCNyTDylx6ikMxPLrsAIhA1cFt3HZbvZmvFBdKSe3onOSoWUBYgFDHnn8BCkEhsEfXGtppppppppqF32vbeUd12rYzIY1dKa6XEMqxQozfroY2Ktzm9PIxxwvLtgwAMwgghpaeKnp4o4YIkCRxxqFVFAwAAOgAPpr000001p92UNRc9m3ygo4/Uqqq3zwwpyA5O0bBRk9DJI99afxZVUdZ4u29LQ0/oQrSCNk4BcyISkjYH986s2fc5yeydTDVP+Ra/7x8xbAtNnq+dzoat5auKGTi0ULemzBjkDuNJCVzkr9PmGZR5HqHtcFlvc+4a61Wq33CJ6yKkpWl+JBdQBIykFYwOWc5B5DotxBpj7RFk+A3zSXaOn4Q3KkHOXnn1JozxbrPWEMQ9gD/XnVj/AGfbz94eOmtzvB6ltq3jWND84jf9YGYZ+rNIAeh8v5g6tjVJ/aSuUMW1bNa2WT16itNQjADiFjQqwPec5lXHX0P8dB9nmkWip907jkt1XUPS06RQNAjM0owzyRoMgM54xde/a+2e7b8Z2ajsmy4IKBL5DSyyySJTXsBZ4O+JXiAAqkqWA/45P11MNNU/vDw1a7vvTb09qs0FHbGlka8NA3BCihCiCMMOPLiy5QdcuR1cGmmmmmmmmmmvOeeGlp5aioljhgiQvJJIwVUUDJJJ6AA+uoX/AGYNgfePwP6Rwet6vpcvSk9PlnGfU48OOf2s8cd5x3qYUNfR3OjjrKCrgq6WTPCaCQSI2Dg4YHBwQR/DWRpqs7xtjd+1Lzc73sB6Srgubmess9wdivxBYZliPJQCRkkFgOvr8oWCVe9PNO54haaTbM9rkn5A1ENBJTnjxOR6kzFU/MEENkDBz7zvxT41m2jHPfb5PJUbkuKH4gmUuIVZgxUnPzuWALN32MD6lppupqiPa9xmpbx9zyQRGY1/wwqPRRDyc+mfxfKGH8eu9Uv5kjp9zeKdt7noq+e7fCS+g9alOYklDApJKyEZTMkSgewHLHeRrE+zVcoYrzf7WyyevUU8VQjADiFjZlYHvOcyrjr6H+PReucPtJ3P1dw2O0+jj4akeo9Xl+L1X48cY6x6Oc575fTHeZ4wvENi+z/umvnnq6dBWyxCekUNLE0kcMauoLL2rOD+Ie3vq69pzfEbNsc/xM9V6lvgf16gYklzGp5OMt8x9z2ez7n31uNNNNNNNau/7itG1rW1yvVdHSUgcJzYFizH2CqASx9zgA9An2B1B4fKV3vtaV2hsW5Xi38GZbhUTijil4uVPAupDD2+ob3yowdbCOi8pXBJqeuu+2LSjJlKq3Uk1RKrBh1xlYLgjOSc/wBX1Hn+iXkP/hP/AMwU/wD56fol5D/4T/8AMFP/AOet4RvalqEZZNv3SBkYOhSagZGyOJDZmDDHLIwv071IIDM1PE1RHHHOUBkSNy6q2OwGIBIz9cDP5DVH+Str733/AOSIdvLHJS7ZgRJoqrgfQAKgO7YPzyhiyqnRx3gAsxllD4L2BSUccE1rnrZFzmeerkDvk57CFV69ugPb8+9Rvx7RzeN/LNz2NLVySWu5U/xdtM2SzsP3KeKnisgYkDl6SnroG7NNNNNNUfuCrqKr7Nl2SqvVqu01NLHTma1xhIYwlTGAgAAHQxghVBUrgEfM0A8BXP4DyjDTej6n3hSTU/Llj08AS8sY7/msY698/TB6v1zB9o3+6HQf81R/6WXU72hVLR/ZopZnvsliThKjXKOBpmgDVTL0q95OeOR2M5Htq2LSzNZqFnr47i5p4y1bGqqtQeI/WAL0A3vgdd9azNNNNNNNVH5Os96Te1r3PHtePdVlo6JoXtjOWMcrMQZFjwQSQydhX6Q5AwrDMpfPWzpLjPRXGO62mSHkHNdSezg4KFYyzBvf3A9j9dSS2+TdkXWnaen3PbURX4EVUwp2zgHpZOJI798Y9/yOtpQ7s23c6yOjoNwWqrqpM8IYK2OR2wMnCg5OACf4a3Go/wDp3s/+ldj/AO8Yf9bUPufn3YtB6Xw1RXXLnnl8LSlfTxj39Up75+mfY5x1myKCtp7nbqavo5PUpaqJZoX4kckYAqcHsZBHvrI1V9sip90efrtdVWB4dtW+OiR0nLEzyFyWAAx8oaWMgk4I/P8ADaGmmmmmqnNDUT+GN40lXHY7ZUU/xfqR7ZYRxgxKDxkxnDNwwynvgwBAOQKY8J/3X7F/1/8AoJNdf65g+0b/AHQ6D/mqP/Sy6meyK1q37N5pbXdrbQVdO8lNPUXMKKeItPyZX5qykNHIB7EZcD39rkoJviLdTT/EwVXqRK/r04xHLkA8kGW+U+47PR9z76yNNNNNNNUWdx11v+1PUUD3SSK31SR00kMsv6th8MHjUA9A+q3WO8uQPxHNyXOxWe9+l97Wqhr/AEc+n8VTpLwzjOOQOM4H+Iaic/hnx9U1Es77djDyOXYR1MyKCTnpVcBR+4AAfTUb/tctn/4Svn/bw/8Apaf2uWz/APCV8/7eH/0tP7XLZ/8AhK+f9vD/AOlqSWDw7sjb6Lxs8dwn4FGmuOJywLZ/ARwBHQBCg4/rOZ5qL7s3DUUnGwWJfX3LcIm+FQEcaVPY1MpIIWNT7ZB5MAoB7xmbS21DtTb8VtSokq5y7TVVZKAJKmZzl5HPuST12ScAAk4zreaaaaaaqueOHbvhzeElbtiPaoqUqP5JHViqV5JY1jVgU6QFiF4gALxz0NUp4T/uv2L/AK//AEEmuv8AXOn2lLbDFebBdFaT16inlp3UkcQsbBlI6znMrZ7+g/jn+EnhuPijdFpgoqS5XCKoeoSgq4g8UjNEvohuWFILxH69Yz10dXJtSrSu2laaiMUK8qSMOlA6tBG4UBkjKkrxVgVGCcY1uNNNNNNNUX50o2se6tp75jp5KhKOoSKdDKqqTG/qxqOsgt+tyewOI9vrdlBW09zt1NX0cnqUtVEs0L8SOSMAVOD2Mgj31kaaaaaa844IYXmeKKNHmfnKyqAXbiFy35niqjJ+gA+mvTTTTTTWPX1XwNuqaz4eeo9CJpPRp05yScQTxRfqxxgD6k6ou722h2/9mSthW3VdnnrqhXakuM3KdpfiFH1VMn04gQAo+UZ77Jin2eqGnq/JUs08fOSkt8s0B5EcHLIhPXv8rsO/z/PGup9U/wDaIsnx+xqS7R0/Oa21Y5y88enDIOLdZ7y4iHsSP6s6hn2c6yGW87hsNRSRzwV1EssnqYZSqNwKFSMMGE3/APnsc9XP46o6627TW3123Y7AKaolWno0rPiR6TNzDc+ROcsQcn3UnABAEs0000001o9x2ah3ntO5WZ542gqkeH1UPIRyo3R6IyUkXtc+6kH66r/w5uualp5Ng7kMlLuC1uyQQ1GcywgcgAxJDFQTgDA4cSuQCRbmmmmmmmmmmmmmo/viqo6PY16luNPXT0LUjx1CUCBphG44Myg9fKGLEnoAE/TVR+fa1qHYm1bE8VW7yv6zTVkyvODDGExIVyGc+rksDjKnGc68/s2WT/dy/wAtP/eUdPPz/wCnKvHP/wCk5I/qPvroDUb39YG3RsK82eJZGnnpy0CIyqXlQh0XLdAFlUHP0J7HvrlDxneodveSLHcaj0/QWo9KRpJBGsayKYy5Y9AKH5fw9x766f29ZVsHkHcSUVgkhpLmiV810NWzq8pJHpCMqOJ5eq5wzY5DOAyqJpppppppqL7Mq043u0SD06633WqM0RdSeE0rzxOACflZJBjOOww+msfe2yf0j+Gu1pqvuzc9u+aguCj+v9XJ0eUZyRjBxk9EFlbX0PkGsscsdv8AINt+56p5THFcoFL2+fLEJiTJMbEBjh8YC8iVzgTihr6O50cdZQVcFXSyZ4TQSCRGwcHDA4OCCP4ayNNNNaOTeFgi3ZDtdrlGb1KnNaVUZiBxLfMwHFTxUnBIOMfmM7zTTTTTUD3dcmqN+7U25DcbzbZ5Kj40SU8K/C1iRhmeF35Bs4X2GRhxlTkEUR52vUN48m1EMHplLdTx0hkSQOHYFnb29iGcqR3gqf6hd/hOwNYfGVC0qyLPcXatdWZWAD4CccewMaocHJyT7ewsTTXFnkna67Q37crVBHItHzE1JyRgPSccgFJJLBTlOWeyh+uRq85rtR7u8dbY3t9yV2473ZZUPw1JKI3FQOKyF1TPy8lSQBVJ/BkBS2rg0000001G9y7amuNRBerLUR0O4qJCtPUuCY5485MEwHbRMf4qfmXvIOrofJVHT1kdt3db59r3J88BXOGppcDkfTqB8jYXjnOMFgvZ1NIJ4aqniqKeWOaCVA8ckbBldSMggjogj66i8njTZ7XSG5wWWOhrIU4Ry26aSjKjvP8AMsoyQxBPuR17almmoHf/ADFsjb6NyvEdwn4B1ht2JywLY/GDwBHZILA4/rGasu3kHyN5KrJaTZVtrqO0GVo45qZfTduIVv1k5PFG6zhWX8fElsjM/wDFviKn2Pyud1eCtvrclSSPJjpk9sJkAliPdiB0eI6yWtDTTTTTVZ7e3XTSru/fdTdLzDaadxTtZq+JIvhZYY15BQXPzsxAABTLMQQTgjmShpLpvTdsdPGfXud1qyXcpgc3YlnYKOlGSxwOgD+Wu36Chp7Zbqago4/TpaWJYYU5E8UUAKMns9Ae+sjTVJ/aJ2u1dt+h3JTxx87c5hqiEUMYpCApLZyQr9BcH+cJ6wcwjwTuuGg3BU7Wuhjktd6Qosc+DGJsYwQx44dcqRglj6Y1d+xQ1ip6jbD2SS0W+21Hwttnqa1ZWuJIeRnUYHZX5yBkDLAY4ECaaaaaaaax62go7nRyUdfSQVdLJjnDPGJEbByMqejggH+GoPU+HttC4tX2We67eqn5+q9nrGh9QMQeJBBCqCOlXA/d0Ma+l8a7xtlxnqbd5SuojfkqR11N8XxQnIB9STiW6HzBR9fYHGlz8c76u/pfE+VK6P0s8fhbeKbOce/pSLy9vrnHePc6083gasu9ZTNuXft1u1LDyxG8Z5rkfss7uF7C5+U5x/ESSweE9kWF1la3yXOdXLLJcXEoAK448AAhHuRlScn36GLAgghpaeKnp4o4YIkCRxxqFVFAwAAOgAPpr0000001D9/XD+R0W3ozfKaqvkvw9NcLVHk0sikMGduQIXAJIHZRZPbGdVR5w3R93bdtOwUrp62up4oJLhWerj1eKEBXXJJZjiQhj18h7zkef2c9rtPdLhuieOMwUyGkpuSKx9VsM7Kc5UquB7diQ99Ea6L001j19DT3O3VNBWR+pS1UTQzJyI5IwIYZHYyCfbXFm7dtXLx/vGW2vUSCeldZqWsiDR8190kQ+4IIx0ThlIBOM66Dtl4ffmy6TfdjsNDVb3tmaWJHZkRHJAkUksgZTG5cAsePMgEnObIs13o73bkqqOsoarGEmNDUiojSTALKHGM4yPcA4IOBnWw0000000000000000001V9FfKy22e9eS77HfLappPTTb1bUEwpIGCqyDjleZEYBKAqWkJyrA65w/2Y8h75/wB9ud3q/wDjskeT/wBJhGi/18VX92ux9q7ep9qbXt1jpW5x0kQUvgj1HJy74JOOTFjjPWcDrW40001V/mbx1+mNiF1oOrvbInZEWLkaqP3MfQ5FhglB2MsRj5sihPGm/pvH+5TWNFJUW+pQRVlOjkErnIdRnBde8Z+hYZGcjov06fY9V9+0Nfard4/+E9aeGnpzK0tRLJ1KhQZ4kNGAcsAowFAwVsDTTTTWj3Tuqh2ja4q6uhq6gz1CU1PT0kXqSzyvnCqMgZwCeyPbHuQDp4d5XyiNEdx7Oq7fHW1ENNHLSVkVWsMkkhQCbHEoM8TyHIfOBkN8uthvTeVDse10dwuEcjQVFbFSll9ow2SztjJwqqxwASSAPrkZm6rzUbe2vcbxS2/4+SiiMxp/WEXJAcueRBxheTe3eMDs6ido8g7krI7XX3HY0lFZbg8CrXJdYZiomZVib08BsFnTP1AJOOsax4/Im8KncF2stH4+jqqu1Oi1Pp3uNVAcFkYF0GQyjP5j6gHrXncvLFxoK/btGNqYkvUrUoM9xVBDVJOYZYzwR8qrcTzHuG6GQRrcbKuG4qe7V9g3BabqrJzqoLlUVUdVDKpfBQSJHGF7PJUI5BSelAUanGmmmmq7ulFD5MvL2yqhttx2ZTok8VfQV4eQ1isMxtxb5QY3cEYPTAhgSAtIeXvJa76ukNDbBIlloXYxMxZTUuevUK+wAGQoIyAzE45cRY/gXx8tttY3bc4I2rK1P5ArxsHp4uwX76y4xggfhxg4cjV2aaaaaa5086eNGo6iq3razH8JK6mvp8KnpOSFEi4xkMxHIe/I57BPGP8AibyzNs2oSz3h5Jtvyv0cFmo2J7ZR7lCe2Uf1jvIa91lu+zq8rVfF3q23S51NTPXSTiNbRCVDKpDsR6ShX+bKgY6BJCmWUNfR3OjjrKCrgq6WTPCaCQSI2Dg4YHBwQR/DWRppqr/KVP6G7diX6rofXtFuuDLVzNL6aUzSNGI5Hb6KrLyyflPEKSOQzPL3f6Hb6ULVzSZrq2Kip1ReRaWRsD9wAGSSfoD7nANb7utu49+7lvFPt5rNNaaKie0Tm5HknxEhSSVovTDHmnGDt8BWU4GQTr0sV2qLh4D3BQV1N8PX2O31lqqkGOIeGEgYIY5+Urk/33LHWNbDxpZdwUkVpudVefjbJPt+lSnppGZHpX4qeIRcRsuM/OwL/hXOAS2rpbXd7l5g3m1qvElCKettEtVCFHGqhVOToWxyU4Bxg4OSrDByNh5AAbyf48Q3KS2l3r0WpjMfJWaJAoHqKy5YkLgg55dd41INl0y7Yt1HtK4XeOuvSpU1jNli8sTVDH1WzkgkyLnJ7PLBbBOpZpppqP1NTcbteJLdbpa61fdlXTy1FTNQq8NfCylmiiYn+oMw7U/nnVGeWfJdNFTvsrZgpKWzomKmooCgjmDjkY4+HQT5vmI7Y5HQzy0/hvxo28Lot8uBjFlt9QA0ZCuamVcN6ZU5HDBXkSOwcD3JXqvTTTTTTXnPBDVU8tPURRzQSoUkjkUMrqRggg9EEfTXLHlnxNNs2oe8WdJJtvyv2Mlmo2J6Vj7lCelY/wBR7wW8/FvlH9F+W39wL8Ztiq5I6SJ6nw3L8RC/tRnJ5J+8kd5DXHir2dQVG4NpSSbi278PHS0FgtaIY4eLANKJVLM55epyIVmJcculys8tl6oLt6sdLVQPVU+BVUqzxySUrnPySBGYKwIYe/upxnWw015zwQ1VPLT1EUc0EqFJI5FDK6kYIIPRBH01q6Tae27fKZaLb9qppDxy8NFGhPFg47A+jKrD96g+41kWyxWeyer902qhoPWx6nwlOkXPGcZ4gZxk/wCM61/6CbP/AKKWP/u6H/V1tLbabbZqdqe12+koYGfm0dLCsSlsAZIUAZwB3+4aw6Hae27ZWR1lBt+1UlVHnhNBRRxuuRg4YDIyCR/HXpcttWG81C1F0sltrp1TgslVSpKwXJOAWBOMk9fvOlt21YbNUNUWuyW2hnZODSUtKkTFcg4JUA4yB1+4a2mmserraehiElRJx5cuCKpZ5CFLlUUZZ24qx4qCTg9artqxfKdketkqI6LYk1FKtZHVxNDVesj5EgfPAInBWDAsueasD+zWnlHynTtbl2Ts2X07LSxLTT1Ubk+sijiIkYnJjAGC2fn9vw5LxPxp40rt/wB0LuZKay07gVVWB2T7+nHnouR9fZQcnOQG63tVqobHa6e2WymjpqOnThFEnso/8SSckk9kkk9nWZppppppprznghqqeWnqIo5oJUKSRyKGV1IwQQeiCPprnjyX4Lmo3F02VSSTUnA+vbhIWeLiueUZY5cHH4clsnrIOFrfY/kG9bEukc9DPJNQFyai3vIRFMDgE49lfCjDgZGB7jIN72e/7V8iOqbSusm1Lt95x1VWqQRQ1VwVVdiOmIkB5MTy54IJZcHuSfpndLHcfht1Wn0I7he/u+zyUQ5+pGxwjy9lU+n7XI/NhAFJMwpa+jrvX+Dq4Kj0JWhm9GQP6ci/iRsHphkZB7GsjTTTTTTTTUTn3lNU3Sjptu2iS8U/3nJbrlUrKYRQSJxLFgy/OApY5HRIABywGoveo7Rte1266+UbzHebtQ1ss9pkghML9cWVVjjIDH9WhJf5VLhScYJpTf3lq+7650f+59mbgfgInDcmXvLvgFuznHS9L1kZ1IPGXhWs3J8FfNwD4ayP+sSmyVmql64/T5Y277zyIHQAYNrpehoKO2UcdHQUkFJSx54QwRiNFycnCjoZJJ/jrI00000000001W/kfxFa98+rcqZ/gb6IuKTD+bnIxxEoxk9DiGHYBGeQUDXNm69ibj2ZUFLzbpI4C/GOrj+eCTtsYcdAkKTxOGx2QNTjann/AHHY6cUt5p473AicY3kk9KdcBQMuAQwwD7qWJbJb6as/aNd4/wBwPSUm0b7V2Z1rRcZrVTS/DmolKglGVweSBUIKRHgB/wBE63n/AMRrVbv/AKVe66a9/wD88cNAR/AqwI/+4QG/bxpXeTbdZfvSW/Wu62uko7hHRQVM9K3Cr5Zy8ePdRwkY4z8oUjJYLrcNvfbSS3WNrvAPumWKGuchuEDytwQM2OP4uj38uDyxg6zKncthoqipp6u922CelQPURy1SK0KkqAXBOVBLr2f74fmNen37Z/8ACtD/ALU+N/2wn+1/9+9/5v8A43t+/WHHvHbk10tttp7xSVFXckkekSnf1RIqZ5HkuQB8rDJIyVYDJB1q4fI1rq4LBUUNBdaylvlXLTUs8FNlEKOVLSZIKqQrOOs8VYkDBGsemrd9bjo7bVxUEG2mp7rxr6OqcTvU0qEBijhcLk8gBx7wGDgfi0df+he13I3zuuO8XClvBrqJqgs1VRFlVkThESQnyhscVQkr8o61BN3faIuNZyptqUf3fD1/LKpVeY/hPSdovYYd88gg/KdVfbLJunf14laip6671zY9aokctj5Tx5yOcDpSByPeMDXQex/BFl288dffpI7zXhCPQeIGljJUZ+UglyDywzYGCDxBAOrc000000000000015zwQ1VPLT1EUc0EqFJI5FDK6kYIIPRBH01T+6/s92C405l21NJaatEwsUjtNBIQG9+RLKSSo5AkAD8JOqc3D4j3rt6sED2ae4Rt+Ce2o1QjYAJ6A5L74+YDODjIGdauwb+3XtdFis98q4IFQosDESxIC3I8Y3BUHPeQM9n8zqxLN9o7cFJwS72mhuEaRBeULNTyO4x87H5l77yAo7PWAMa2EPnnbdfWVK3jYUApa7j8dIkkc7zcB+r5KyKHwQMcm6+ntjWXX+XPFt0qLjUVu1blNPcqdaarkalh5SxqcgZ9XIIOPmGD8qd/KuPRPMXi9IqWM7UrpfhKQUcDzUMEjpAFKenyaQsV4lgQT3k59zrzk86bJoUhNo2bJzoEzbg0MMAiaRj6oUry9MFcHK55EkEDGTrLn9pO8S+l907foaXGfU+Kmeo5e2MceGPr+ecj2x3Xd68mb03DT/D3HcFW0HBkaOHjAsisMMHEYUOMfRs+5/M689veOt3bqo2rLPZJ56Ue0zskSP2R8rOQGwVIPHOPrjVz7R+zvbqPjU7rrPvCbv+R0jMkI/EO36duuJ64YII+YauihoKO2UcdHQUkFJSx54QwRiNFycnCjoZJJ/jrI000000000000000001o7/s7bm6UZb1Z6SrcoE9Zk4yqobkAsgwyjOegR7n8zqD3L7P2yK6oWWnFyt6BOJipakMpOT8x9RXOe8e+Oh176jdb9mmjkrJGoNzzwUpxwjnoxK69d5YMoPef2R/H31j/wBrN/yu/wA2/wDu6f2s3/K7/Nv/ALun9rN/yu/zb/7upRQ/Z62VSVkc80t1rY1zmCeoUI+Rjsoit179Ee35danFk2PtbbnoNabDQ080HL06j0g8y8s5/WNlz0SPf269tSDTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTX/2Q==\n\n                " alt="Logo"></div>\n                <div class="header">\n                  <h2 style="font-size: 14px;">\u{1f37d}\ufe0f NUOVO CAFFE</h2>\n                  <p style="font-size: 14px;">Mesa: <strong>${this.data.name}</strong></p>\n                  <p style="font-size: 14px;">Solicitado por: <strong>${this.data.waiter?.name}</strong></p>\n                  <p>${(new Date).toLocaleString()}</p>\n                </div>\n                <div class="line"></div>\n                <div class="order-list">\n                  ${this.selectedItems.map(c=>`\n                    <div class="order-item">\n                      <p>${c.name}</p>\n                      <p>x${c.quantity}</p>\n                    </div>\n                  `).join("")}\n                </div>\n                <div class="line"></div>\n                <div class="totals"><p>Aclaracion:</p></div>\n                <div class="line"></div>\n                <br><br>\n                <div class="line"></div>\n                <p style="text-align:center; font-size:8px;"><br></p>\n              </div>\n              <script>\n                window.print();\n                window.onafterprint = function() {\n                  window.close();\n                  window.opener.postMessage('closeDialog', '*');\n                   window.opener.location.reload();\n                }\n              <\/script>\n            </body>\n          </html>\n        `,s=window.open("","","width=900,height=900");s&&(s.document.write(o),s.document.close(),s.focus(),this.dialogRef.close(),location.reload()),this.gestionService.saveLog(`Se imprimi\xf3 <strong>la comanda</strong> de la mesa <strong>${this.data.name}</strong> atendida por <strong>${this.data.waiterName||"Sin asignar"}</strong>`)},e=>{console.error("Error al actualizar la mesa:",e),alert("Ocurri\xf3 un error al actualizar la mesa antes de imprimir.")}):alert("No hay \xedtems seleccionados para imprimir.")}addItem(e){const i=this.selectedItems.findIndex(r=>r._id===e._id);-1===i?this.selectedItems.push({...e,quantity:e.quantity??1}):this.selectedItems[i].quantity=(this.selectedItems[i].quantity??0)+1,this.addedItems[e._id]=!0,setTimeout(()=>{this.addedItems[e._id]=!1},2e3),this.canPrint=this.selectedItems.length>0}removeSelectedItem(e){const i=this.selectedItems.findIndex(r=>r._id===e._id);i>-1&&this.selectedItems.splice(i,1),this.canPrint=this.selectedItems.length>0,this.addedItems[e._id]=!1}cancel(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||n)(N(sa),N(td),N(qm))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-menu-dialog"]],decls:36,vars:4,consts:[[1,"flex","flex-col","h-full","max-h-[75vh]","bg-white","rounded-2xl","overflow-hidden","shadow-2xl"],[1,"flex-shrink-0","px-4","sm:px-5","py-3","sm:py-4","bg-gradient-to-r","from-coffee-600","via-coffee-700","to-coffee-600","relative","overflow-hidden"],[1,"absolute","inset-0","opacity-10"],[1,"absolute","top-0","right-0","w-64","h-64","bg-white","rounded-full","-translate-y-32","translate-x-32"],[1,"absolute","bottom-0","left-0","w-48","h-48","bg-white","rounded-full","translate-y-24","-translate-x-24"],[1,"relative","flex","items-center","justify-between"],[1,"flex","items-center","gap-2.5"],[1,"flex","items-center","justify-center","w-10","h-10","rounded-xl","bg-white/20","backdrop-blur-sm"],[1,"!w-6","!h-6","!text-2xl","text-white"],[1,"text-lg","sm:text-xl","font-bold","text-white","m-0"],[1,"text-white/80","text-xs","mt-0.5"],[1,"flex-1","overflow-y-auto","px-4","sm:px-5","py-3","sm:py-4","bg-gray-50"],["class","mb-3 relative",4,"ngIf"],[1,"mb-3","relative"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"!w-5","!h-5","!text-xl","text-gray-400"],["type","text","placeholder","Buscar men\xfa...",1,"w-full","pl-10","pr-3","py-2","bg-white","border-2","border-gray-200","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-coffee-500","focus:border-transparent","transition-all","placeholder-gray-400","shadow-sm",3,"ngModel","ngModelChange"],[1,"space-y-2","max-h-[45vh]","overflow-y-auto","custom-scrollbar","pr-2"],["class","group bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100 hover:border-coffee-300",4,"ngFor","ngForOf"],[1,"flex-shrink-0","flex","flex-col","sm:flex-row","justify-end","items-stretch","sm:items-center","gap-2","px-3","sm:px-4","py-3","bg-white","border-t-2","border-gray-100","shadow-lg"],[1,"flex","items-center","justify-center","gap-2","px-4","py-2.5","rounded-lg","text-sm","font-bold","bg-gray-100","hover:bg-gray-200","text-gray-700","transition-all","duration-300","shadow-md","hover:shadow-lg",3,"click"],[1,"!w-4","!h-4","!text-lg"],[1,"flex","items-center","justify-center","gap-1","px-4","py-1.5","rounded-lg","text-sm","font-bold","bg-gradient-to-r","from-green-600","to-emerald-600","hover:from-green-700","hover:to-emerald-700","text-white","transition-all","duration-300","transform","hover:scale-105","shadow-lg","hover:shadow-xl","disabled:opacity-50","disabled:cursor-not-allowed","disabled:transform-none","disabled:shadow-md",3,"disabled","click"],[1,"!w-4","!h-4","!text-base"],[1,"bg-gradient-to-r","from-purple-50","to-pink-50","border-2","border-purple-200","rounded-xl","p-3","shadow-lg"],[1,"flex","items-center","justify-between","mb-2.5"],[1,"flex","items-center","gap-2"],[1,"max-h-24","overflow-y-auto","custom-scrollbar"],[1,"flex","flex-wrap","gap-1"],["class","group flex items-center gap-1 px-2 py-0.5 bg-white rounded shadow-sm hover:shadow-md transition-all duration-300 border border-purple-100",4,"ngFor","ngForOf"],[1,"group","flex","items-center","gap-1","px-2","py-0.5","bg-white","rounded","shadow-sm","hover:shadow-md","transition-all","duration-300","border","border-purple-100"],[1,"text-xs","font-semibold","text-gray-900"],[1,"flex","items-center","gap-1"],[1,"flex","items-center","justify-center","min-w-[20px]","h-5","px-1","bg-gradient-to-r","from-yellow-400","to-amber-400","text-coffee-900","text-xs","font-bold","rounded"],["aria-label","Eliminar",1,"flex","items-center","justify-center","w-5","h-5","rounded","bg-red-100","hover:bg-red-200","text-red-600","transition-colors","opacity-0","group-hover:opacity-100",3,"click"],[1,"!w-3","!h-3","!text-xs"],[1,"group","bg-white","rounded-lg","shadow-md","hover:shadow-xl","transition-all","duration-300","overflow-hidden","border","border-gray-100","hover:border-coffee-300"],[1,"p-2.5","sm:p-3"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","gap-2"],[1,"flex-1","min-w-0"],[1,"font-semibold","text-gray-900","mb-1"],[1,"font-semibold","text-green-600"],[1,"flex","items-center","gap-1.5","w-full","sm:w-auto"],[1,"flex","items-center","gap-1","bg-gray-50","rounded","px-1.5","py-1","border-2","border-gray-200"],["type","number","min","1",1,"w-12","px-1","py-0.5","bg-white","border-2","border-gray-200","rounded","text-center","text-xs","font-bold","focus:outline-none","focus:ring-2","focus:ring-coffee-500",3,"value","input"],[1,"flex","items-center","justify-center","gap-1","px-3","py-1.5","rounded","text-xs","font-bold","transition-all","duration-300","transform","hover:scale-105","shadow-md","hover:shadow-lg",3,"ngClass","click"],["class","!w-3.5 !h-3.5 !text-base",4,"ngIf"],[1,"hidden","sm:inline"],[1,"!w-3.5","!h-3.5","!text-base"]],template:function(i,r){1&i&&(D(0,"div",0)(1,"div",1)(2,"div",2),rt(3,"div",3)(4,"div",4),S(),D(5,"div",5)(6,"div",6)(7,"div",7)(8,"mat-icon",8),j(9,"restaurant_menu"),S()(),D(10,"div")(11,"h2",9),j(12,"Selecciona Men\xfas"),S(),D(13,"p",10),j(14,"Agrega items a tu orden"),S()()()()(),D(15,"div",11),Se(16,Ibe,7,1,"div",12),D(17,"div",13)(18,"div",14)(19,"div",15)(20,"mat-icon",16),j(21,"search"),S()(),D(22,"input",17),Re("ngModelChange",function(s){return r.filterText=s}),S()()(),D(23,"div",18),Se(24,Abe,17,7,"div",19),S()(),D(25,"div",20)(26,"button",21),Re("click",function(){return r.cancel()}),D(27,"mat-icon",22),j(28,"cancel"),S(),D(29,"span"),j(30,"Cancelar"),S()(),D(31,"button",23),Re("click",function(){return r.printTicket()}),D(32,"mat-icon",24),j(33,"print"),S(),D(34,"span"),j(35,"Imprimir Comanda"),S()()()()),2&i&&(ae(16),ve("ngIf",r.selectedItems.length>0),ae(6),ve("ngModel",r.filterText),ae(2),ve("ngForOf",r.filteredMenuItems),ae(7),ve("disabled",0===r.selectedItems.length||!r.canPrint))},dependencies:[Fx,bc,ss,nd,od,$u,qa],styles:[".custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar {\n    width: 8px;\n    height: 8px;\n  }\n  .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track {\n    background: #f1f5f9;\n    border-radius: 10px;\n  }\n  .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\n    background: linear-gradient(180deg, #6f4e37 0%, #8b6f47 100%);\n    border-radius: 10px;\n  }\n  .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover {\n    background: linear-gradient(180deg, #5a3e2b 0%, #6f4e37 100%);\n  }"]})}}return n})();class Gb{constructor(t){return t}}class bM{constructor(){return(0,to.getApps)()}}const vM=new ue("angularfire2._apps"),Sbe={provide:Gb,useFactory:function kbe(n){return n&&1===n.length?n[0]:new Gb((0,to.getApp)())},deps:[[new Fr,vM]]},Dbe={provide:bM,deps:[[new Fr,vM]]};function Rbe(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Gb(i)}}let Mbe=(()=>{class n{constructor(e){(0,to.registerVersion)("angularfire",pu.full,"core"),(0,to.registerVersion)("angularfire",pu.full,"app"),(0,to.registerVersion)("angular",TA.full,e.toString())}static \u0275fac=function(i){return new(i||n)(X(Oo))};static \u0275mod=lt({type:n});static \u0275inj=ht({providers:[Sbe,Dbe]})}return n})();function Pbe(n,...t){return{ngModule:Mbe,providers:[{provide:vM,useFactory:Rbe(n),multi:!0,deps:[We,Ln,R_,...t]}]}}const Obe=Rs(to.initializeApp,!0),L8=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t},V8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],s=r+1<n.length,a=s?n[r+1]:0,c=r+2<n.length,l=c?n[r+2]:0;let p=(15&a)<<2|l>>6,b=63&l;c||(b=64,s||(p=64)),i.push(e[o>>2],e[(3&o)<<4|a>>4],e[p],e[b])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(L8(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const c=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(c>>10)),t[i++]=String.fromCharCode(56320+(1023&c))}else{const o=n[e++],s=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],a=r<n.length?e[n.charAt(r)]:0;++r;const l=r<n.length?e[n.charAt(r)]:64;++r;const u=r<n.length?e[n.charAt(r)]:64;if(++r,null==o||null==a||null==l||null==u)throw new Vbe;i.push(o<<2|a>>4),64!==l&&(i.push(a<<4&240|l>>2),64!==u&&i.push(l<<6&192|u))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Vbe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rI=function(n){return function(n){const t=L8(n);return V8.encodeByteArray(t,!0)}(n).replace(/\./g,"")},$b=function(n){try{return V8.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function us(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class sd extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,sd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kb.prototype.create)}}class Kb{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],s=o?function ive(n,t){return n.replace(rve,(e,i)=>{const r=t[i];return null!=r?String(r):`<${i}?>`})}(o,i):"Error";return new sd(r,`${this.serviceName}: ${s} (${r}).`,i)}}const rve=/\{\$([^}]+)}/g;function xM(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}class ave{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");r=function cve(n,t){if("object"!=typeof n||null===n)return!1;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:i},void 0===r.next&&(r.next=wM),void 0===r.error&&(r.error=wM),void 0===r.complete&&(r.complete=wM);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wM(){}function Qb(n){return n&&n._delegate?n._delegate:n}class Qm{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const IM=[];var Jn=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Jn||{});const z8={debug:Jn.DEBUG,verbose:Jn.VERBOSE,info:Jn.INFO,warn:Jn.WARN,error:Jn.ERROR,silent:Jn.SILENT},_ve=Jn.INFO,bve={[Jn.DEBUG]:"log",[Jn.VERBOSE]:"log",[Jn.INFO]:"info",[Jn.WARN]:"warn",[Jn.ERROR]:"error"},vve=(n,t,...e)=>{if(t<n.logLevel)return;const i=(new Date).toISOString(),r=bve[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${n.name}:`,...e)};class H8{constructor(t){this.name=t,this._logLevel=_ve,this._logHandler=vve,this._userLogHandler=null,IM.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Jn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?z8[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Jn.DEBUG,...t),this._logHandler(this,Jn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Jn.VERBOSE,...t),this._logHandler(this,Jn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Jn.INFO,...t),this._logHandler(this,Jn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Jn.WARN,...t),this._logHandler(this,Jn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Jn.ERROR,...t),this._logHandler(this,Jn.ERROR,...t)}}var yve=it(749);class xve{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function wve(n){const t=n.getComponent();return"VERSION"===t?.type}(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}return null}).filter(e=>e).join(" ")}}const aI="@firebase/app",Fc=new H8("@firebase/app"),Yve={[aI]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Xu=new Map,Yb=new Map,Xb=new Map;function q8(n,t){try{n.container.addComponent(t)}catch(e){Fc.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Jb(n){const t=n.name;if(Xb.has(t))return Fc.debug(`There were multiple attempts to register component ${t}.`),!1;Xb.set(t,n);for(const e of Xu.values())q8(e,n);for(const e of Yb.values())q8(e,n);return!0}function ad(n){return null!=n&&void 0!==n.settings}const Fs=new Kb("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."}),TM="11.3.0";function Ym(n,t,e){var i;let r=null!==(i=Yve[n])&&void 0!==i?i:n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${r}" with version "${t}":`];return o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Fc.warn(a.join(" "))}Jb(new Qm(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const iye="firebase-heartbeat-database",rye=1,Zb="firebase-heartbeat-store";let kM=null;function $8(){return kM||(kM=(0,yve.P2)(iye,rye,{upgrade:(n,t)=>{if(0===t)try{n.createObjectStore(Zb)}catch(e){console.warn(e)}}}).catch(n=>{throw Fs.create("idb-open",{originalErrorMessage:n.message})})),kM}function SM(){return(SM=(0,$.A)(function*(n){try{const e=(yield $8()).transaction(Zb),i=yield e.objectStore(Zb).get(Q8(n));return yield e.done,i}catch(t){if(t instanceof sd)Fc.warn(t.message);else{const e=Fs.create("idb-get",{originalErrorMessage:t?.message});Fc.warn(e.message)}}})).apply(this,arguments)}function K8(n,t){return DM.apply(this,arguments)}function DM(){return(DM=(0,$.A)(function*(n,t){try{const i=(yield $8()).transaction(Zb,"readwrite");yield i.objectStore(Zb).put(t,Q8(n)),yield i.done}catch(e){if(e instanceof sd)Fc.warn(e.message);else{const i=Fs.create("idb-set",{originalErrorMessage:e?.message});Fc.warn(i.message)}}})).apply(this,arguments)}function Q8(n){return`${n.name}!${n.options.appId}`}class cye{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new dye(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var t=this;return(0,$.A)(function*(){var e,i;try{const o=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Y8();if(null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(t._heartbeatsCache=yield t._heartbeatsCachePromise,null==(null===(i=t._heartbeatsCache)||void 0===i?void 0:i.heartbeats))||t._heartbeatsCache.lastSentHeartbeatDate===s||t._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(t._heartbeatsCache.heartbeats.push({date:s,agent:o}),t._heartbeatsCache.heartbeats.length>30){const a=function uye(n){if(0===n.length)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}(t._heartbeatsCache.heartbeats);t._heartbeatsCache.heartbeats.splice(a,1)}return t._storage.overwrite(t._heartbeatsCache)}catch(r){Fc.warn(r)}})()}getHeartbeatsHeader(){var t=this;return(0,$.A)(function*(){var e;try{if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const i=Y8(),{heartbeatsToSend:r,unsentEntries:o}=function lye(n,t=1024){const e=[];let i=n.slice();for(const r of n){const o=e.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),X8(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),X8(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}(t._heartbeatsCache.heartbeats),s=rI(JSON.stringify({version:2,heartbeats:r}));return t._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(t._heartbeatsCache.heartbeats=o,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),s}catch(i){return Fc.warn(i),""}})()}}function Y8(){return(new Date).toISOString().substring(0,10)}class dye{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,$.A)(function*(){return!!function eve(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function tve(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t((null===(o=r.error)||void 0===o?void 0:o.message)||"")}}catch(e){t(e)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return(0,$.A)(function*(){if(yield t._canUseIndexedDBPromise){const i=yield function oye(n){return SM.apply(this,arguments)}(t.app);return i?.heartbeats?i:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var e=this;return(0,$.A)(function*(){var i;if(yield e._canUseIndexedDBPromise){const o=yield e.read();return K8(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var e=this;return(0,$.A)(function*(){var i;if(yield e._canUseIndexedDBPromise){const o=yield e.read();return K8(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}})()}}function X8(n){return rI(JSON.stringify({version:2,heartbeats:n})).length}!function hye(n){Jb(new Qm("platform-logger",t=>new xve(t),"PRIVATE")),Jb(new Qm("heartbeat",t=>new cye(t),"PRIVATE")),Ym(aI,"0.11.0",n),Ym(aI,"0.11.0","esm2017"),Ym("fire-js","")}("");const fye=function J8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Z8=new Kb("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),lI=new H8("@firebase/auth");function dI(n,...t){lI.logLevel<=Jn.ERROR&&lI.error(`Auth (${TM}): ${n}`,...t)}function jo(n,...t){throw MM(n,...t)}function Ls(n,...t){return MM(n,...t)}function RM(n,t,e){const i=Object.assign(Object.assign({},fye()),{[t]:e});return new Kb("auth","Firebase",i).create(t,{appName:n.name})}function Rr(n){return RM(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function MM(n,...t){if("string"!=typeof n){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return Z8.create(n,...t)}function Fe(n,t,...e){if(!n)throw MM(t,...e)}function Wa(n){const t="INTERNAL ASSERTION FAILED: "+n;throw dI(t),new Error(t)}function cd(n,t){n||Wa(t)}function e9(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function pye(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function PM(){return"http:"===e9()||"https:"===e9()}()||function Jbe(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class tv{constructor(t,e){this.shortDelay=t,this.longDelay=e,cd(e>t,"Short delay should be less than long delay!"),this.isMobile=function Kbe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(us())}()||function Zbe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return pye()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class t9{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Wa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Wa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Wa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _ye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},bye=new tv(3e4,6e4);function vi(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function yi(n,t,e,i){return NM.apply(this,arguments)}function NM(){return(NM=(0,$.A)(function*(n,t,e,i,r={}){return n9(n,r,(0,$.A)(function*(){let o={},s={};i&&("GET"===t?s=i:o={body:JSON.stringify(i)});const a=xM(Object.assign({key:n.config.apiKey},s)).slice(1),c=yield n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const l=Object.assign({method:t,headers:c},o);return function Xbe(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(l.referrerPolicy="no-referrer"),t9.fetch()(i9(n,n.config.apiHost,e,a),l)}))})).apply(this,arguments)}function n9(n,t,e){return FM.apply(this,arguments)}function FM(){return(FM=(0,$.A)(function*(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},_ye),t);try{const r=new yye(n),o=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw nv(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw nv(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw nv(n,"email-already-in-use",s);if("USER_DISABLED"===c)throw nv(n,"user-disabled",s);const d=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw RM(n,d,l);jo(n,d)}}catch(r){if(r instanceof sd)throw r;jo(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function i9(n,t,e,i){const r=`${t}${e}?${i}`;return n.config.emulator?function OM(n,t){cd(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}(n.config,r):`${n.config.apiScheme}://${r}`}class yye{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Ls(this.auth,"network-request-failed")),bye.get())})}}function nv(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Ls(n,t,i);return r.customData._tokenResponse=e,r}function UM(){return(UM=(0,$.A)(function*(n,t){return yi(n,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function c9(n,t){return zM.apply(this,arguments)}function zM(){return(zM=(0,$.A)(function*(n,t){return yi(n,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function iv(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function HM(){return(HM=(0,$.A)(function*(n,t=!1){const e=Qb(n),i=yield e.getIdToken(t),r=uI(i);Fe(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:iv(qM(r.auth_time)),issuedAtTime:iv(qM(r.iat)),expirationTime:iv(qM(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function qM(n){return 1e3*Number(n)}function uI(n){const[t,e,i]=n.split(".");if(void 0===t||void 0===e||void 0===i)return dI("JWT malformed, contained fewer than 3 sections"),null;try{const r=$b(e);return r?JSON.parse(r):(dI("Failed to decode base64 JWT payload"),null)}catch(r){return dI("Caught error parsing JWT payload as JSON",r?.toString()),null}}function l9(n){const t=uI(n);return Fe(t,"internal-error"),Fe(typeof t.exp<"u","internal-error"),Fe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Vc(n,t){return WM.apply(this,arguments)}function WM(){return(WM=(0,$.A)(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(i){throw i instanceof sd&&function Cye({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class Tye{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout((0,$.A)(function*(){yield e.iteration()}),i)}iteration(){var t=this;return(0,$.A)(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class GM{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=iv(this.lastLoginAt),this.creationTime=iv(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rv(n){return $M.apply(this,arguments)}function $M(){return($M=(0,$.A)(function*(n){var t;const e=n.auth,i=yield n.getIdToken(),r=yield Vc(n,c9(e,{idToken:i}));Fe(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const s=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?d9(o.providerUserInfo):[],a=function kye(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}(n.providerData,s),d=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),u={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new GM(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,u)})).apply(this,arguments)}function KM(){return(KM=(0,$.A)(function*(n){const t=Qb(n);yield rv(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function d9(n){return n.map(t=>{var{providerId:e}=t,i=(0,st.Tt)(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function QM(){return(QM=(0,$.A)(function*(n,t){const e=yield n9(n,{},(0,$.A)(function*(){const i=xM({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=i9(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",t9.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}function YM(){return(YM=(0,$.A)(function*(n,t){return yi(n,"POST","/v2/accounts:revokeToken",vi(n,t))})).apply(this,arguments)}class Jm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Fe(t.idToken,"internal-error"),Fe(typeof t.idToken<"u","internal-error"),Fe(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):l9(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Fe(0!==t.length,"internal-error");const e=l9(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){var i=this;return(0,$.A)(function*(){return e||!i.accessToken||i.isExpired?(Fe(i.refreshToken,t,"user-token-expired"),i.refreshToken?(yield i.refresh(t,i.refreshToken),i.accessToken):null):i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var i=this;return(0,$.A)(function*(){const{accessToken:r,refreshToken:o,expiresIn:s}=yield function Sye(n,t){return QM.apply(this,arguments)}(t,e);i.updateTokensAndExpiration(r,o,Number(s))})()}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,s=new Jm;return i&&(Fe("string"==typeof i,"internal-error",{appName:t}),s.refreshToken=i),r&&(Fe("string"==typeof r,"internal-error",{appName:t}),s.accessToken=r),o&&(Fe("number"==typeof o,"internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Jm,this.toJSON())}_performRefresh(){return Wa("not implemented")}}function ld(n,t){Fe("string"==typeof n||typeof n>"u","internal-error",{appName:t})}class Bc{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,o=(0,st.Tt)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tye(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new GM(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){var e=this;return(0,$.A)(function*(){const i=yield Vc(e,e.stsTokenManager.getToken(e.auth,t));return Fe(i,e.auth,"internal-error"),e.accessToken!==i&&(e.accessToken=i,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),i})()}getIdTokenResult(t){return function Iye(n){return HM.apply(this,arguments)}(this,t)}reload(){return function Aye(n){return KM.apply(this,arguments)}(this)}_assign(t){this!==t&&(Fe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Bc(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var i=this;return(0,$.A)(function*(){let r=!1;t.idToken&&t.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield rv(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var t=this;return(0,$.A)(function*(){if(ad(t.auth.app))return Promise.reject(Rr(t.auth));const e=yield t.getIdToken();return yield Vc(t,function wye(n,t){return UM.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,o,s,a,c,l,d;const u=null!==(i=e.displayName)&&void 0!==i?i:void 0,p=null!==(r=e.email)&&void 0!==r?r:void 0,b=null!==(o=e.phoneNumber)&&void 0!==o?o:void 0,v=null!==(s=e.photoURL)&&void 0!==s?s:void 0,x=null!==(a=e.tenantId)&&void 0!==a?a:void 0,w=null!==(c=e._redirectEventId)&&void 0!==c?c:void 0,F=null!==(l=e.createdAt)&&void 0!==l?l:void 0,R=null!==(d=e.lastLoginAt)&&void 0!==d?d:void 0,{uid:z,emailVerified:K,isAnonymous:Z,providerData:ne,stsTokenManager:U}=e;Fe(z&&U,t,"internal-error");const P=Jm.fromJSON(this.name,U);Fe("string"==typeof z,t,"internal-error"),ld(u,t.name),ld(p,t.name),Fe("boolean"==typeof K,t,"internal-error"),Fe("boolean"==typeof Z,t,"internal-error"),ld(b,t.name),ld(v,t.name),ld(x,t.name),ld(w,t.name),ld(F,t.name),ld(R,t.name);const B=new Bc({uid:z,auth:t,email:p,emailVerified:K,displayName:u,isAnonymous:Z,photoURL:v,phoneNumber:b,tenantId:x,stsTokenManager:P,createdAt:F,lastLoginAt:R});return ne&&Array.isArray(ne)&&(B.providerData=ne.map(G=>Object.assign({},G))),w&&(B._redirectEventId=w),B}static _fromIdTokenResponse(t,e,i=!1){return(0,$.A)(function*(){const r=new Jm;r.updateFromServerResponse(e);const o=new Bc({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield rv(o),o})()}static _fromGetAccountInfoResponse(t,e,i){return(0,$.A)(function*(){const r=e.users[0];Fe(void 0!==r.localId,"internal-error");const o=void 0!==r.providerUserInfo?d9(r.providerUserInfo):[],s=!(r.email&&r.passwordHash||o?.length),a=new Jm;a.updateFromIdToken(i);const c=new Bc({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new GM(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||o?.length)};return Object.assign(c,l),c})()}}const u9=new Map;function Uc(n){cd(n instanceof Function,"Expected a class definition");let t=u9.get(n);return t?(cd(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,u9.set(n,t),t)}const h9=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,$.A)(function*(){return!0})()}_set(e,i){var r=this;return(0,$.A)(function*(){r.storage[e]=i})()}_get(e){var i=this;return(0,$.A)(function*(){const r=i.storage[e];return void 0===r?null:r})()}_remove(e){var i=this;return(0,$.A)(function*(){delete i.storage[e]})()}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})();function hI(n,t,e){return`firebase:${n}:${t}:${e}`}class Zm{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=hI(this.userKey,r.apiKey,o),this.fullPersistenceKey=hI("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return(0,$.A)(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?Bc._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return(0,$.A)(function*(){if(e.persistence===t)return;const i=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,i?e.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return(0,$.A)(function*(){if(!e.length)return new Zm(Uc(h9),t,i);const r=(yield Promise.all(e.map(function(){var l=(0,$.A)(function*(d){if(yield d._isAvailable())return d});return function(d){return l.apply(this,arguments)}}()))).filter(l=>l);let o=r[0]||Uc(h9);const s=hI(i,t.config.apiKey,t.name);let a=null;for(const l of e)try{const d=yield l._get(s);if(d){const u=Bc._fromJSON(t,d);l!==o&&(a=u),o=l;break}}catch{}const c=r.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(e.map(function(){var l=(0,$.A)(function*(d){if(d!==o)try{yield d._remove(s)}catch{}});return function(d){return l.apply(this,arguments)}}())),new Zm(o,t,i)):new Zm(o,t,i)})()}}function f9(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(function _9(n=us()){return/iemobile/i.test(n)}(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(function m9(n=us()){return/firefox\//i.test(n)}(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(function v9(n=us()){return/blackberry/i.test(n)}(t))return"Blackberry";if(function y9(n=us()){return/webos/i.test(n)}(t))return"Webos";if(function p9(n=us()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}(t))return"Safari";if((t.includes("chrome/")||function g9(n=us()){return/crios\//i.test(n)}(t))&&!t.includes("edge/"))return"Chrome";if(function b9(n=us()){return/android/i.test(n)}(t))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function x9(n,t=[]){let e;switch(n){case"Browser":e=f9(us());break;case"Worker":e=`${f9(us())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${TM}/${i}`}class Pye{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((s,a)=>{try{s(t(o))}catch(c){a(c)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return(0,$.A)(function*(){if(e.auth.currentUser===t)return;const i=[];try{for(const r of e.queue)yield r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}function JM(){return(JM=(0,$.A)(function*(n,t={}){return yi(n,"GET","/v2/passwordPolicy",vi(n,t))})).apply(this,arguments)}class Fye{constructor(t){var e,i,r,o;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=s.minPasswordLength)&&void 0!==e?e:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(i=t.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(o=t.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=null===(e=c.meetsMinPasswordLength)||void 0===e||e),c.isValid&&(c.isValid=null===(i=c.meetsMaxPasswordLength)||void 0===i||i),c.isValid&&(c.isValid=null===(r=c.containsLowercaseLetter)||void 0===r||r),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){let i;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class Lye{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w9(this),this.idTokenSubscription=new w9(this),this.beforeStateQueue=new Pye(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){var i=this;return e&&(this._popupRedirectResolver=Uc(e)),this._initializationPromise=this.queue((0,$.A)(function*(){var r,o;if(!i._deleted&&(i.persistenceManager=yield Zm.create(i,t),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(e),i.lastNotifiedUid=(null===(o=i.currentUser)||void 0===o?void 0:o.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return(0,$.A)(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUserFromIdToken(t){var e=this;return(0,$.A)(function*(){try{const i=yield c9(e,{idToken:t}),r=yield Bc._fromGetAccountInfoResponse(e,i,t);yield e.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),yield e.directlySetCurrentUser(null)}})()}initializeCurrentUser(t){var e=this;return(0,$.A)(function*(){var i;if(ad(e.app)){const a=e.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>e.initializeCurrentUserFromIdToken(a).then(c,c))}):e.directlySetCurrentUser(null)}const r=yield e.assertedPersistence.getCurrentUser();let o=r,s=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const a=null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId,c=o?._redirectEventId,l=yield e.tryRedirectSignIn(t);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return e.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield e.beforeStateQueue.runMiddleware(o)}catch(a){o=r,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(a))}return o?e.reloadAndSetCurrentUserOrClear(o):e.directlySetCurrentUser(null)}return Fe(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===o._redirectEventId?e.directlySetCurrentUser(o):e.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(t){var e=this;return(0,$.A)(function*(){let i=null;try{i=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(t){var e=this;return(0,$.A)(function*(){try{yield rv(t)}catch(i){if("auth/network-request-failed"!==i?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function gye(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return(0,$.A)(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return(0,$.A)(function*(){if(ad(e.app))return Promise.reject(Rr(e));const i=t?Qb(t):null;return i&&Fe(i.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(i&&i._clone(e))})()}_updateCurrentUser(t,e=!1){var i=this;return(0,$.A)(function*(){if(!i._deleted)return t&&Fe(i.tenantId===t.tenantId,i,"tenant-id-mismatch"),e||(yield i.beforeStateQueue.runMiddleware(t)),i.queue((0,$.A)(function*(){yield i.directlySetCurrentUser(t),i.notifyAuthListeners()}))})()}signOut(){var t=this;return(0,$.A)(function*(){return ad(t.app)?Promise.reject(Rr(t)):(yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0))})()}setPersistence(t){var e=this;return ad(this.app)?Promise.reject(Rr(this)):this.queue((0,$.A)(function*(){yield e.assertedPersistence.setPersistence(Uc(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var e=this;return(0,$.A)(function*(){e._getPasswordPolicyInternal()||(yield e._updatePasswordPolicy());const i=e._getPasswordPolicyInternal();return i.schemaVersion!==e.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(e._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return(0,$.A)(function*(){const e=yield function Oye(n){return JM.apply(this,arguments)}(t),i=new Fye(e);null===t.tenantId?t._projectPasswordPolicy=i:t._tenantPasswordPolicies[t.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Kb("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}revokeAccessToken(t){var e=this;return(0,$.A)(function*(){if(e.currentUser){const i=yield e.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};null!=e.tenantId&&(r.tenantId=e.tenantId),yield function Dye(n,t){return YM.apply(this,arguments)}(e,r)}})()}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var i=this;return(0,$.A)(function*(){const r=yield i.getOrInitRedirectPersistenceManager(e);return null===t?r.removeCurrentUser():r.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return(0,$.A)(function*(){if(!e.redirectPersistenceManager){const i=t&&Uc(t)||e._popupRedirectResolver;Fe(i,e,"argument-error"),e.redirectPersistenceManager=yield Zm.create(e,[Uc(i._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return(0,$.A)(function*(){var i,r;return e._isInitialized&&(yield e.queue((0,$.A)(function*(){}))),(null===(i=e._currentUser)||void 0===i?void 0:i._redirectEventId)===t?e._currentUser:(null===(r=e.redirectUser)||void 0===r?void 0:r._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return(0,$.A)(function*(){if(t===e.currentUser)return e.queue((0,$.A)(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o="function"==typeof e?e:e.next.bind(e);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof e){const c=t.addObserver(e,i,r);return()=>{s=!0,c()}}{const c=t.addObserver(e);return()=>{s=!0,c()}}}directlySetCurrentUser(t){var e=this;return(0,$.A)(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=x9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return(0,$.A)(function*(){var e;const i={"X-Client-Version":t.clientVersion};t.app.options.appId&&(i["X-Firebase-gmpid"]=t.app.options.appId);const r=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const o=yield t._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i})()}_getAppCheckToken(){var t=this;return(0,$.A)(function*(){var e;if(ad(t.app)&&t.app.settings.appCheckToken)return t.app.settings.appCheckToken;const i=yield null===(e=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken();return i?.error&&function mye(n,...t){lI.logLevel<=Jn.WARN&&lI.warn(`Auth (${TM}): ${n}`,...t)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}class w9{constructor(t){this.auth=t,this.observer=null,this.addObserver=function sve(n,t){const e=new ave(n,t);return e.subscribe.bind(e)}(e=>this.observer=e)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ov={loadJS:()=>(0,$.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B9(n,t,e,i){return Qb(n).onIdTokenChanged(t,e,i)}(function E9(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new tv(3e4,6e4),new tv(2e3,1e4),new tv(3e4,6e4),new tv(5e3,15e3),encodeURIComponent("fac");var oG="@firebase/auth";class Lxe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return(0,$.A)(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cG(n){return new at(function(t){return{unsubscribe:B9(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}(()=>{try{return function jbe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&$b(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}})(),function Vye(n){ov=n}({loadJS:n=>new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=Ls("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",function Hxe(){var n,t;return null!==(t=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==t?t:document}().appendChild(i)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Bxe(n){Jb(new Qm("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;Fe(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x9(n)},l=new Lye(i,r,o,c);return function Xye(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Uc);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}(l,e),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Jb(new Qm("auth-internal",t=>{const e=function er(n){return Qb(n)}(t.getProvider("auth").getImmediate());return new Lxe(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ym(oG,"1.9.0",function Vxe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),Ym(oG,"1.9.0","esm2017")}("Browser");var eh=it(443);class pv{constructor(t){return t}}class dG{constructor(){return jS("auth")}}const zO=new ue("angularfire2.auth-instances");function Wxe(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new pv(i)}}const Gxe={provide:dG,deps:[[new Fr,zO]]},$xe={provide:pv,useFactory:function qxe(n,t){const e=zj("auth",n,t);return e&&new pv(e)},deps:[[new Fr,zO],Gb]};let Kxe=(()=>{class n{constructor(){(0,to.registerVersion)("angularfire",pu.full,"auth")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=lt({type:n});static \u0275inj=ht({providers:[$xe,Gxe]})}return n})();function Qxe(n,...t){return{ngModule:Kxe,providers:[{provide:zO,useFactory:Wxe(n),multi:!0,deps:[We,Ln,R_,bM,[new Fr,fw],...t]}]}}const Yxe=Rs(cG,!0),Xxe=Rs(eh.aa,!0),Jxe=Rs(eh.o,!0),Zxe=Rs(eh.y,!0),ewe=Rs(eh.ab,!0),twe=Rs(eh.c,!0),nwe=Rs(eh.C,!0);class II{constructor(t){return t}}const uG="firestore",HO=new ue("angularfire2.firestore-instances");function owe(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new II(i)}}const swe={provide:class iwe{constructor(){return jS(uG)}},deps:[[new Fr,HO]]},awe={provide:II,useFactory:function rwe(n,t){const e=zj(uG,n,t);return e&&new II(e)},deps:[[new Fr,HO],Gb]};let cwe=(()=>{class n{constructor(){(0,to.registerVersion)("angularfire",pu.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=lt({type:n});static \u0275inj=ht({providers:[awe,swe]})}return n})();function lwe(n,...t){return{ngModule:cwe,providers:[{provide:HO,useFactory:owe(n),multi:!0,deps:[We,Ln,R_,bM,[new Fr,dG],[new Fr,fw],...t]}]}}const hG=Rs(db,!0),dwe=Rs(V6,!0),uwe=Rs(ffe,!0),hwe=Rs(uR,!0);let tp=(()=>{class n{constructor(e,i){var r=this;this.auth=e,this.firestore=i,this.authState=new k(null),this.roleState=new k(null),Zxe(this.auth,function(){var o=(0,$.A)(function*(s){if(r.authState.next(s),s){const a=yield r.getUserRole(s.uid);r.roleState.next(a)}else r.roleState.next(null)});return function(s){return o.apply(this,arguments)}}())}register({email:e,password:i},r="user"){var o=this;return(0,$.A)(function*(){const s=yield Xxe(o.auth,e,i);return s.user&&(yield o.setUserRole(s.user.uid,r)),s})()}login({email:e,password:i}){return ewe(this.auth,e,i)}loginWithGoogle(){return twe(this.auth,new eh.X)}logout(){return nwe(this.auth)}getAuthState(){return this.authState.asObservable()}isAuthenticated(){return null!==this.authState.value}getRoleState(){return this.roleState.asObservable()}getUserRole(e){var i=this;return(0,$.A)(function*(){const r=hG(i.firestore,`users/${e}`),o=yield dwe(r);return o.exists()?o.data().role:null})()}setUserRole(e,i){var r=this;return(0,$.A)(function*(){console.log(e,"uuid");const o=hG(r.firestore,`users/${e}`);yield hwe(o,{role:i},{merge:!0})})()}static{this.\u0275fac=function(i){return new(i||n)(X(pv),X(II))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const fwe=["mat-button",""],fG=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],mG=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],pwe=["mat-mini-fab",""],_we=["mat-icon-button",""],bwe=["*"],vwe=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],ywe=NE(cW(lW(class{constructor(n){this._elementRef=n}})));let qO=(()=>{class n extends ywe{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=cn(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=cn(e),this._updateRippleDisabled()}constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=Me(Hm),this._rippleLoader=Me(n_e),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=e.nativeElement.classList;for(const a of vwe)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(c=>{s.add(c)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){jg()}}static{this.\u0275dir=be({type:n,features:[qe]})}}return n})(),np=(()=>{class n extends qO{constructor(e,i,r,o){super(e,i,r,o)}static{this.\u0275fac=function(i){return new(i||n)(N(ft),N(Di),N(We),N(Vr,8))}}static{this.\u0275cmp=ct({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(kn("disabled",r.disabled||null),Pt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[qe],attrs:fwe,ngContentSelectors:mG,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(Yi(fG),rt(0,"span",0),xt(1),D(2,"span",1),xt(3,1),S(),xt(4,2),rt(5,"span",2)(6,"span",3)),2&i&&Pt("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})();const wwe=new ue("mat-mdc-fab-default-options",{providedIn:"root",factory:pG});function pG(){return{color:"accent"}}const gG=pG();let Ewe=(()=>{class n extends qO{constructor(e,i,r,o,s){super(e,i,r,o),this._options=s,this._isFab=!0,this._options=this._options||gG,this.color=this.defaultColor=this._options.color||gG.color}static{this.\u0275fac=function(i){return new(i||n)(N(ft),N(Di),N(We),N(Vr,8),N(wwe,8))}}static{this.\u0275cmp=ct({type:n,selectors:[["button","mat-mini-fab",""]],hostVars:7,hostBindings:function(i,r){2&i&&(kn("disabled",r.disabled||null),Pt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[qe],attrs:pwe,ngContentSelectors:mG,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(Yi(fG),rt(0,"span",0),xt(1),D(2,"span",1),xt(3,1),S(),xt(4,2),rt(5,"span",2)(6,"span",3)),2&i&&Pt("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab:hover{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab.mdc-ripple-upgraded--background-focused,.mdc-fab:not(.mdc-ripple-upgraded):focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-button-font-family);font-size:var(--mdc-typography-button-font-size);line-height:var(--mdc-typography-button-line-height);font-weight:var(--mdc-typography-button-font-weight);letter-spacing:var(--mdc-typography-button-letter-spacing);text-decoration:var(--mdc-typography-button-text-decoration);text-transform:var(--mdc-typography-button-text-transform);border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-fab,.mat-mdc-mini-fab{background-color:var(--mdc-fab-container-color);--mdc-fab-container-shape:50%;--mdc-fab-icon-size:24px}.mat-mdc-fab .mdc-fab__icon,.mat-mdc-mini-fab .mdc-fab__icon{width:var(--mdc-fab-icon-size);height:var(--mdc-fab-icon-size);font-size:var(--mdc-fab-icon-size)}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape)}.mat-mdc-extended-fab{font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}}return n})(),_G=(()=>{class n extends qO{constructor(e,i,r,o){super(e,i,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(i){return new(i||n)(N(ft),N(Di),N(We),N(Vr,8))}}static{this.\u0275cmp=ct({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(kn("disabled",r.disabled||null),Pt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[qe],attrs:_we,ngContentSelectors:bwe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(Yi(),rt(0,"span",0),xt(1),rt(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})(),bG=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[xn,LE,xn]})}}return n})();function Iwe(n,t){if(1&n){const e=Qi();D(0,"button",33),Re("click",function(){Rt(e);const r=Oe().$implicit;return Mt(Oe().removeOrder(r))}),D(1,"mat-icon",29),j(2,"delete"),S()()}}function Cwe(n,t){if(1&n){const e=Qi();D(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",19)(4,"mat-icon",20),j(5,"restaurant_menu"),S()(),D(6,"div")(7,"strong",21),j(8),S(),D(9,"span",22),j(10),Fo(11,"currency"),S()()(),D(12,"div",23)(13,"span",24),j(14),Fo(15,"currency"),S()()(),D(16,"div",25)(17,"span",26),j(18,"Cantidad"),S(),D(19,"div",27)(20,"button",28),Re("click",function(){const o=Rt(e).$implicit;return Mt(Oe().decreaseQuantity(o))}),D(21,"mat-icon",29),j(22,"remove"),S()(),D(23,"div",30),j(24),S(),D(25,"button",31),Re("click",function(){const o=Rt(e).$implicit;return Mt(Oe().increaseQuantity(o))}),D(26,"mat-icon",29),j(27,"add"),S()(),Se(28,Iwe,3,0,"button",32),Fo(29,"async"),S()()()}if(2&n){const e=t.$implicit,i=Oe();ae(8),Kn(" ",e.name||"Nombre no disponible"," "),ae(2),Kn(" ",rs(11,6,e.price)," "),ae(4),Kn(" ",rs(15,8,e.price*(e.quantity||1))," "),ae(6),ve("disabled",(e.quantity||1)<=1),ae(4),Kn(" ",e.quantity||1," "),ae(4),ve("ngIf","admin"===rs(29,10,i.role$))}}function Twe(n,t){1&n&&(D(0,"div",34)(1,"div",35)(2,"mat-icon",36),j(3,"inbox"),S()(),D(4,"p",37),j(5,"No hay \xf3rdenes asignadas"),S(),D(6,"p",38),j(7,"Agrega productos desde el men\xfa"),S()())}function Awe(n,t){if(1&n){const e=Qi();D(0,"button",39),Re("click",function(){return Rt(e),Mt(Oe().saveChanges())}),D(1,"mat-icon",40),j(2,"save"),S(),j(3," Guardar Cambios "),S()}}let kwe=(()=>{class n{constructor(e,i,r,o){this.dialogRef=e,this.data=i,this.gestionService=r,this.userService=o,this.orders=[],this.hasChanges=!1,this.originalOrders=[],this.table=i,console.log(this.table,"Mesa seleccionada"),this.orders=this.table.orders||[],this.originalOrders=JSON.parse(JSON.stringify(this.orders)),this.role$=this.userService.getRoleState()}ngOnInit(){this.printMenuItems()}printMenuItems(){this.orders.forEach(e=>{e&&e.menuItem&&void 0!==e.quantity&&this.gestionService.getMenu().subscribe(i=>{const r=i.find(o=>o._id===e.menuItem);e.name=r?r.name:"No encontrado"})})}removeSelectedOrders(e){const i=e.map(o=>o.value),r=e.map(o=>{const s=this.orders.find(a=>a._id===o.value);return s&&s.name?s.name:`Item ID: ${o.value}`});this.gestionService.deleteOrdersFromTable(this.table.id,i).subscribe(o=>{this.gestionService.saveLog(`<strong style="color: red;">Se eliminaron</strong> \xf3rdenes: <strong> ${r.join(", ")}</strong> de la mesa <strong>${this.table.name}</strong> atendida por <strong>${this.table.waiterName||"Desconocido"}</strong>`),this.table=o,this.orders=this.table.orders,this.printMenuItems(),this.dialogRef.close(),location.reload()},o=>{console.error("Error eliminando \xf3rdenes:",o)})}releaseTable(){this.gestionService.releaseTable(this.table.id).subscribe(()=>{this.dialogRef.close()},e=>{console.error("Error liberando la mesa:",e)})}increaseQuantity(e){e.quantity=(e.quantity||1)+1,this.hasChanges=!0}decreaseQuantity(e){e.quantity>1&&(e.quantity-=1,this.hasChanges=!0)}removeOrder(e){const i=this.orders.findIndex(r=>r._id===e._id);i>-1&&(this.orders.splice(i,1),this.table.orders=this.orders,this.hasChanges=!0)}saveChanges(){const e=this.originalOrders.map(i=>i._id);this.gestionService.deleteOrdersFromTable(this.table.id,e).subscribe(()=>{if(this.orders.length>0){const i=this.orders.map(r=>({_id:r.menuItem,quantity:r.quantity,name:r.name,menuItem:r.menuItem,price:0}));this.gestionService.addItemsToTable(this.table.id,i).subscribe(()=>{const r=this.buildChangesLog();r&&this.gestionService.saveLog(r),this.finishSaving()},r=>{console.error("Error agregando \xf3rdenes actualizadas:",r),alert("Error al actualizar las \xf3rdenes. Por favor, int\xe9ntalo de nuevo.")})}else this.gestionService.saveLog(`<strong style="color: red;">Se eliminaron todas las \xf3rdenes</strong> de la mesa <strong>${this.table.name}</strong>`),this.finishSaving()},i=>{console.error("Error eliminando \xf3rdenes:",i),alert("Error al actualizar las \xf3rdenes. Por favor, int\xe9ntalo de nuevo.")})}buildChangesLog(){const e=this.originalOrders.filter(o=>!this.orders.find(s=>s._id===o._id)),i=this.orders.filter(o=>{const s=this.originalOrders.find(a=>a._id===o._id);return s&&s.quantity!==o.quantity});let r=[];if(e.length>0){const o=e.map(s=>s.name||"Item desconocido").join(", ");r.push(`<strong style="color: red;">Eliminados:</strong> ${o}`)}if(i.length>0){const o=i.map(s=>{const a=this.originalOrders.find(c=>c._id===s._id);return`${s.name}: ${a?.quantity} \u2192 ${s.quantity}`}).join(", ");r.push(`<strong style="color: blue;">Cantidades actualizadas:</strong> ${o}`)}return 0===r.length?"":`Cambios en la mesa <strong>${this.table.name}</strong>: ${r.join(" | ")}`}finishSaving(){this.dialogRef.close(),location.reload()}static{this.\u0275fac=function(i){return new(i||n)(N(td),N(qm),N(sa),N(tp))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-order-info-dialog"]],decls:21,vars:3,consts:[[1,"relative","w-[90vw]","sm:w-[500px]","max-w-[600px]","bg-white","rounded-2xl","shadow-2xl","overflow-hidden"],[1,"absolute","top-0","right-0","w-64","h-64","bg-gradient-to-br","from-purple-400","to-pink-400","opacity-5","rounded-full","-translate-y-32","translate-x-32"],[1,"absolute","bottom-0","left-0","w-48","h-48","bg-gradient-to-tr","from-blue-400","to-indigo-400","opacity-5","rounded-full","translate-y-24","-translate-x-24"],[1,"relative","bg-gradient-to-r","from-purple-600","via-pink-600","to-purple-600","p-3","sm:p-4"],[1,"flex","items-center","gap-2.5"],[1,"flex","items-center","justify-center","w-10","h-10","rounded-xl","bg-white/20","backdrop-blur-sm"],[1,"!w-6","!h-6","!text-2xl","text-white"],[1,"text-lg","sm:text-xl","font-bold","text-white"],[1,"text-white/80","text-xs","mt-0.5"],[1,"relative","max-h-[55vh]","overflow-y-auto","p-3","sm:p-4"],[1,"space-y-2"],["class","group relative p-3 bg-gradient-to-br from-white to-gray-50\n            border border-gray-200 rounded-xl shadow-sm\n            hover:shadow-md transition-all duration-200",4,"ngFor","ngForOf"],["class","flex flex-col items-center justify-center py-8 px-4",4,"ngIf"],[1,"relative","flex","flex-wrap","gap-2","p-3","sm:p-4","bg-gradient-to-r","from-gray-50","to-purple-50","border-t-2","border-gray-200"],["mat-raised-button","","mat-dialog-close","",1,"flex-1","min-w-[100px]","!px-4","!py-2.5","!bg-gradient-to-r","!from-gray-500","!to-gray-600","hover:!from-gray-600","hover:!to-gray-700","!text-white","!font-bold","!text-sm","!rounded-lg","!shadow-lg","hover:!shadow-xl","!transition-all","!duration-300","transform","hover:!scale-105","flex","items-center","justify-center","gap-1.5"],["mat-raised-button","","class","flex-1 min-w-[100px] !px-4 !py-2.5 !bg-gradient-to-r !from-purple-600 !to-pink-600 hover:!from-purple-700 hover:!to-pink-700 !text-white !font-bold !text-sm !rounded-lg !shadow-lg hover:!shadow-xl !transition-all !duration-300 transform hover:!scale-105 flex items-center justify-center gap-1.5",3,"click",4,"ngIf"],[1,"group","relative","p-3","bg-gradient-to-br","from-white","to-gray-50","border","border-gray-200","rounded-xl","shadow-sm","hover:shadow-md","transition-all","duration-200"],[1,"flex","justify-between","items-center","gap-3","mb-2"],[1,"flex","items-center","gap-2"],[1,"w-9","h-9","rounded-lg","bg-gradient-to-br","from-purple-100","to-pink-100","flex","items-center","justify-center"],[1,"!text-purple-600","!text-lg"],[1,"text-base","text-gray-900","block","leading-tight"],[1,"text-xs","text-gray-500","font-semibold"],[1,"px-3","py-1","bg-green-50","rounded-lg","border","border-green-200"],[1,"text-green-700","font-bold","text-sm"],[1,"flex","items-center","justify-between","gap-2","p-2","bg-blue-50","rounded-lg","border","border-blue-200"],[1,"text-blue-900","text-sm","font-semibold"],[1,"flex","items-center","gap-1.5"],["mat-mini-fab","",1,"!w-9","!h-9","!bg-gradient-to-r","!from-blue-600","!to-indigo-600",3,"disabled","click"],[1,"!text-white","!text-lg"],[1,"min-w-[56px]","px-3","py-1.5","bg-yellow-400","text-gray-900","font-bold","text-lg","rounded-lg","text-center"],["mat-mini-fab","",1,"!w-9","!h-9","!bg-gradient-to-r","!from-blue-600","!to-indigo-600",3,"click"],["mat-mini-fab","","class","!w-9 !h-9 !bg-gradient-to-r !from-red-600 !to-rose-600 ml-1",3,"click",4,"ngIf"],["mat-mini-fab","",1,"!w-9","!h-9","!bg-gradient-to-r","!from-red-600","!to-rose-600","ml-1",3,"click"],[1,"flex","flex-col","items-center","justify-center","py-8","px-4"],[1,"w-16","h-16","rounded-full","bg-gradient-to-br","from-gray-100","to-gray-200","flex","items-center","justify-center","mb-3"],[1,"!w-10","!h-10","!text-4xl","text-gray-400"],[1,"text-center","text-gray-500","text-base","font-semibold"],[1,"text-center","text-gray-400","text-xs","mt-1"],["mat-raised-button","",1,"flex-1","min-w-[100px]","!px-4","!py-2.5","!bg-gradient-to-r","!from-purple-600","!to-pink-600","hover:!from-purple-700","hover:!to-pink-700","!text-white","!font-bold","!text-sm","!rounded-lg","!shadow-lg","hover:!shadow-xl","!transition-all","!duration-300","transform","hover:!scale-105","flex","items-center","justify-center","gap-1.5",3,"click"],[1,"!w-4","!h-4","!text-lg"]],template:function(i,r){1&i&&(D(0,"div",0),rt(1,"div",1)(2,"div",2),D(3,"div",3)(4,"div",4)(5,"div",5)(6,"mat-icon",6),j(7,"shopping_bag"),S()(),D(8,"div")(9,"h2",7),j(10,"Gesti\xf3n de \xd3rdenes"),S(),D(11,"p",8),j(12,"Administra las cantidades y productos"),S()()()(),D(13,"mat-dialog-content",9)(14,"div",10),Se(15,Cwe,30,12,"div",11),S(),Se(16,Twe,8,0,"div",12),S(),D(17,"mat-dialog-actions",13)(18,"button",14),j(19," Cerrar "),S(),Se(20,Awe,4,0,"button",15),S()()),2&i&&(ae(15),ve("ngForOf",null==r.table?null:r.table.orders),ae(1),ve("ngIf",!(null!=r.table&&r.table.orders)||0===(null==r.table||null==r.table.orders?null:r.table.orders.length)),ae(4),ve("ngIf",r.hasChanges))},dependencies:[bc,ss,np,Ewe,RW,jE,zE,qa,h_,Zk]})}}return n})();function Swe(n,t){if(1&n&&(D(0,"option",24),j(1),S()),2&n){const e=t.$implicit;ve("value",e._id),ae(1),Kn(" ",e.name," ")}}let vG=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.gestionService=r,this.waiters=[],this.selectedWaiterId=""}ngOnInit(){this.gestionService.getWaiters().subscribe({next:e=>{this.waiters=e,console.log(e,"LOS MOZOS")},error:e=>{console.error("Error al cargar los mozos:",e)}})}onCancel(){this.dialogRef.close(null)}onConfirm(){const e=this.waiters.find(i=>i._id===this.selectedWaiterId);e?this.dialogRef.close({waiterId:e._id,waiterName:e.name}):(console.error("Mozo no seleccionado"),alert("Por favor selecciona un mozo v\xe1lido."))}static{this.\u0275fac=function(i){return new(i||n)(N(td),N(qm),N(sa))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-waiter-dialog"]],decls:41,vars:3,consts:[[1,"min-w-[90vw]","sm:min-w-[500px]","max-w-[600px]","bg-white","rounded-2xl","overflow-hidden","shadow-2xl"],[1,"relative","px-8","py-8","bg-gradient-to-r","from-blue-600","via-indigo-600","to-blue-600","overflow-hidden"],[1,"absolute","inset-0","opacity-10"],[1,"absolute","top-0","right-0","w-48","h-48","bg-white","rounded-full","-translate-y-24","translate-x-24"],[1,"relative","flex","items-center","gap-4"],[1,"flex","items-center","justify-center","w-16","h-16","rounded-2xl","bg-white/20","backdrop-blur-sm"],[1,"!w-10","!h-10","!text-4xl","text-white"],[1,"text-3xl","font-bold","text-white","m-0"],[1,"text-white/80","text-sm","mt-1"],[1,"p-8"],[1,"space-y-6"],[1,"bg-gradient-to-br","from-gray-50","to-blue-50","p-6","rounded-2xl","border-2","border-blue-200","shadow-inner"],["for","waiterSelect",1,"flex","items-center","gap-3","text-gray-900","font-bold","text-lg","mb-4"],[1,"flex","items-center","justify-center","w-10","h-10","rounded-xl","bg-blue-100"],[1,"!w-6","!h-6","!text-2xl","text-blue-600"],[1,"relative"],["id","waiterSelect",1,"w-full","px-5","py-4","border-2","border-blue-300","rounded-xl","text-base","font-semibold","focus:outline-none","focus:ring-4","focus:ring-blue-200","focus:border-blue-500","bg-white","shadow-sm","transition-all","appearance-none","cursor-pointer","hover:border-blue-400",3,"ngModel","ngModelChange"],["value","","disabled","","selected",""],["class","py-2",3,"value",4,"ngFor","ngForOf"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-4","pointer-events-none"],[1,"flex","flex-col","sm:flex-row","gap-3","px-8","py-6","bg-gray-50","border-t-2","border-gray-100"],[1,"flex-1","flex","items-center","justify-center","gap-2","px-5","py-2","rounded-lg","font-bold","text-sm","bg-gray-200","hover:bg-gray-300","text-gray-700","transition-all","duration-300","shadow-sm","hover:shadow-md",3,"click"],[1,"!w-5","!h-5","!text-lg"],[1,"flex-1","flex","items-center","justify-center","gap-2","px-5","py-2","rounded-lg","font-bold","text-sm","bg-gradient-to-r","from-blue-600","to-indigo-600","hover:from-blue-700","hover:to-indigo-700","text-white","transition-all","duration-300","transform","hover:scale-105","shadow-md","hover:shadow-lg","disabled:opacity-50","disabled:cursor-not-allowed","disabled:transform-none",3,"disabled","click"],[1,"py-2",3,"value"]],template:function(i,r){1&i&&(D(0,"div",0)(1,"div",1)(2,"div",2),rt(3,"div",3),S(),D(4,"div",4)(5,"div",5)(6,"mat-icon",6),j(7,"person"),S()(),D(8,"div")(9,"h2",7),j(10,"Asignar Mozo"),S(),D(11,"p",8),j(12,"Selecciona el mozo para esta mesa"),S()()()(),D(13,"mat-dialog-content",9)(14,"div",10)(15,"div",11)(16,"label",12)(17,"div",13)(18,"mat-icon",14),j(19,"badge"),S()(),D(20,"span"),j(21,"Seleccionar Mozo"),S()(),D(22,"div",15)(23,"select",16),Re("ngModelChange",function(s){return r.selectedWaiterId=s}),D(24,"option",17),j(25,"Seleccione un mozo..."),S(),Se(26,Swe,2,2,"option",18),S(),D(27,"div",19)(28,"mat-icon",14),j(29,"expand_more"),S()()()()()(),D(30,"mat-dialog-actions",20)(31,"button",21),Re("click",function(){return r.onCancel()}),D(32,"mat-icon",22),j(33,"close"),S(),D(34,"span"),j(35,"Cancelar"),S()(),D(36,"button",23),Re("click",function(){return r.onConfirm()}),D(37,"mat-icon",22),j(38,"check_circle"),S(),D(39,"span"),j(40,"Asignar"),S()()()()),2&i&&(ae(23),ve("ngModel",r.selectedWaiterId),ae(3),ve("ngForOf",r.waiters),ae(10),ve("disabled",!r.selectedWaiterId))},dependencies:[bc,fM,pM,qb,od,$u,jE,zE,qa]})}}return n})();function WO(n){return n&&"function"==typeof n.connect&&!(n instanceof qx)}class xG{applyChanges(t,e,i,r,o){t.forEachOperation((s,a,c)=>{let l,d;if(null==s.previousIndex){const u=i(s,a,c);l=e.createEmbeddedView(u.templateRef,u.context,u.index),d=1}else null==c?(e.remove(a),d=3):(l=e.get(a),e.move(l,c),d=2);o&&o({context:l?.context,operation:d,record:s})})}detach(){}}let IG=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const gv=new ue("_ViewRepeater");let Dwe=0;const GO=new ue("CdkAccordion");let Rwe=(()=>{class n{constructor(){this._stateChanges=new Q,this._openCloseAllActions=new Q,this.id="cdk-accordion-"+Dwe++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=cn(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=be({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[mt([{provide:GO,useExisting:n}]),Ni]})}}return n})(),Mwe=0,Pwe=(()=>{class n{get expanded(){return this._expanded}set expanded(e){e=cn(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=cn(e)}constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=kt.EMPTY,this.closed=new zt,this.opened=new zt,this.destroyed=new zt,this.expandedChange=new zt,this.id="cdk-accordion-child-"+Mwe++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,s)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===s&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static{this.\u0275fac=function(i){return new(i||n)(N(GO,12),N(Vo),N(IG))}}static{this.\u0275dir=be({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[mt([{provide:GO,useValue:void 0}])]})}}return n})(),Owe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({})}}return n})();const Nwe=["body"];function Fwe(n,t){}const Lwe=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Vwe=["mat-expansion-panel-header","*","mat-action-row"];function Bwe(n,t){1&n&&rt(0,"span",2),2&n&&ve("@indicatorRotate",Oe()._getExpandedState())}const Uwe=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],jwe=["mat-panel-title","mat-panel-description","*"],$O=new ue("MAT_ACCORDION"),CG="225ms cubic-bezier(0.4,0.0,0.2,1)",TG={indicatorRotate:ed("indicatorRotate",[Ps("collapsed, void",cr({transform:"rotate(0deg)"})),Ps("expanded",cr({transform:"rotate(180deg)"})),Os("expanded <=> collapsed, void => collapsed",aa(CG))]),bodyExpansion:ed("bodyExpansion",[Ps("collapsed, void",cr({height:"0px",visibility:"hidden"})),Ps("expanded",cr({height:"*",visibility:""})),Os("expanded <=> collapsed, void => collapsed",aa(CG))])},AG=new ue("MAT_EXPANSION_PANEL");let zwe=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}static{this.\u0275fac=function(i){return new(i||n)(N(rr),N(AG,8))}}static{this.\u0275dir=be({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]})}}return n})(),Hwe=0;const kG=new ue("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let KO=(()=>{class n extends Pwe{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=cn(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,i,r,o,s,a,c){super(e,i,r),this._viewContainerRef=o,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new zt,this.afterCollapse=new zt,this._inputChanges=new Q,this._headerId="mat-expansion-panel-header-"+Hwe++,this._bodyAnimationDone=new Q,this.accordion=e,this._document=s,this._bodyAnimationDone.pipe(Ze((l,d)=>l.fromState===d.fromState&&l.toState===d.toState)).subscribe(l=>{"void"!==l.fromState&&("expanded"===l.toState?this.afterExpand.emit():"collapsed"===l.toState&&this.afterCollapse.emit())}),c&&(this.hideToggle=c.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(ra(null),Zt(()=>this.expanded&&!this._portal),Vn(1)).subscribe(()=>{this._portal=new AE(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}static{this.\u0275fac=function(i){return new(i||n)(N($O,12),N(Vo),N(IG),N(Ar),N(Tt),N(Vr,8),N(kG,8))}}static{this.\u0275cmp=ct({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,r,o){if(1&i&&Qn(o,zwe,5),2&i){let s;gt(s=_t())&&(r._lazyContent=s.first)}},viewQuery:function(i,r){if(1&i&&ri(Nwe,5),2&i){let o;gt(o=_t())&&(r._body=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,r){2&i&&Pt("mat-expanded",r.expanded)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[mt([{provide:$O,useValue:void 0},{provide:AG,useExisting:n}]),qe,Ni],ngContentSelectors:Vwe,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,r){1&i&&(Yi(Lwe),xt(0),D(1,"div",0,1),Re("@bodyExpansion.done",function(s){return r._bodyAnimationDone.next(s)}),D(3,"div",2),xt(4,1),Se(5,Fwe,0,0,"ng-template",3),S(),xt(6,2),S()),2&i&&(ae(1),ve("@bodyExpansion",r._getExpandedState())("id",r.id),kn("aria-labelledby",r._headerId),ae(4),ve("cdkPortalOutlet",r._portal))},dependencies:[Bm],styles:['.mat-expansion-panel{--mat-expansion-container-shape:4px;box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[TG.bodyExpansion]},changeDetection:0})}}return n})();class qwe{}const Wwe=dW(qwe);let QO=(()=>{class n extends Wwe{constructor(e,i,r,o,s,a,c){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=a,this._parentChangeSubscription=kt.EMPTY;const l=e.accordion?e.accordion._stateChanges.pipe(Zt(d=>!(!d.hideToggle&&!d.togglePosition))):ni;this.tabIndex=parseInt(c||"")||0,this._parentChangeSubscription=E(e.opened,e.closed,l,e._inputChanges.pipe(Zt(d=>!!(d.hideToggle||d.disabled||d.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(Zt(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),s&&(this.expandedHeight=s.expandedHeight,this.collapsedHeight=s.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:jm(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static{this.\u0275fac=function(i){return new(i||n)(N(KO,1),N(ft),N(Hm),N(Vo),N(kG,8),N(Vr,8),vl("tabindex"))}}static{this.\u0275cmp=ct({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,r){1&i&&Re("click",function(){return r._toggle()})("keydown",function(s){return r._keydown(s)}),2&i&&(kn("id",r.panel._headerId)("tabindex",r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),El("height",r._getHeaderHeight()),Pt("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[qe],ngContentSelectors:jwe,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(i,r){1&i&&(Yi(Uwe),D(0,"span",0),xt(1),xt(2,1),xt(3,2),S(),Se(4,Bwe,1,1,"span",1)),2&i&&(Pt("mat-content-hide-toggle",!r._showToggle()),ae(4),ve("ngIf",r._showToggle()))},dependencies:[ss],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[TG.indicatorRotate]},changeDetection:0})}}return n})(),Gwe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=be({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]})}}return n})(),SG=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=be({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}}return n})(),DG=(()=>{class n extends Rwe{constructor(){super(...arguments),this._ownHeaders=new cu,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=cn(e)}ngAfterContentInit(){this._headers.changes.pipe(ra(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Gq(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}()}static{this.\u0275dir=be({type:n,selectors:[["mat-accordion"]],contentQueries:function(i,r,o){if(1&i&&Qn(o,QO,5),2&i){let s;gt(s=_t())&&(r._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(i,r){2&i&&Pt("mat-accordion-multi",r.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[mt([{provide:$O,useExisting:n}]),qe]})}}return n})(),$we=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[vc,xn,Owe,Um]})}}return n})();function Kwe(n,t){if(1&n&&(D(0,"div",62)(1,"div",63)(2,"div",64)(3,"span",65),j(4),S()(),D(5,"span",66),j(6),S()(),D(7,"div",67),j(8),Fo(9,"currency"),S(),D(10,"div",68),j(11),Fo(12,"currency"),S()()),2&n){const e=t.$implicit;ae(4),Kn("",e.quantity||1,"x"),ae(2),Vi(e.name),ae(2),Kn(" ",rs(9,4,e.price)," "),ae(3),Kn(" ",rs(12,6,e.price*(e.quantity||1))," ")}}let Qwe=(()=>{class n{constructor(e,i,r){this.data=e,this.dialogRef=i,this.gestionService=r,this.total=0,this.discountedTotal=0,this.discountPercentage=0,this.orders=[],this.table={},this.tableName="",this.waiterName="",this.isTicketPrinted=!1,this.paymentMethod="efectivo",this.orders=e.orders||[],this.table=e.table||[],this.tableName=e.tableName||"",this.waiterName=e.waiterName||"",this.calculateTotal()}ngOnInit(){console.log("Nombre de la mesa:",this.tableName),console.log("Nombre del mozo:",this.waiterName),this.printMenuItems(),console.log(this.orders,"ORDENES EN TOTAL"),console.log(this.table,"TABLESS"),this.getTable()}getTable(){this.gestionService.getTables().subscribe(e=>{const i=e.find(r=>r.id===this.data.tableId);i?(this.table=i,console.log("Datos de la mesa:",i)):console.warn("No se encontr\xf3 la mesa.")})}printMenuItems(){let e=0;this.orders.forEach(i=>{i&&i.menuItem&&void 0!==i.quantity&&this.gestionService.getMenu().subscribe(r=>{const o=r.find(s=>s._id===i.menuItem);o?(i.name=o.name,i.price=o.price):(i.name="No encontrado",i.price=0),e++,e===this.orders.length&&this.calculateTotal()})})}calculateTotal(){if(0===this.orders.length)return console.warn("No hay \xf3rdenes disponibles."),this.total=0,void(this.discountedTotal=0);console.log("Datos de las \xf3rdenes:"),this.orders.forEach(e=>{console.log(`Producto: ${e.name}, Cantidad: ${e.quantity||1}, Precio: ${e.price}`)}),this.total=this.orders.reduce((e,i)=>e+i.price*(i.quantity??1),0),this.calculateDiscountedTotal()}applyDiscount(e){this.discountPercentage=e,this.calculateDiscountedTotal()}calculateDiscountedTotal(){this.discountedTotal=this.total-this.total*this.discountPercentage/100}liberarMesa(){if(!this.data.tableId)return void console.error("No se pudo liberar la mesa: ID de la mesa no encontrado.");const e={tableName:this.data.tableName||this.tableName||"Mesa sin nombre",waiterName:this.data.waiterName||this.waiterName||"Sin mozo asignado",totalAmount:this.discountedTotal,paymentMethod:this.paymentMethod};console.log("M\xe9todo de pago seleccionado:",this.paymentMethod),console.log("Guardando balance:",e),this.gestionService.addBalanceEntry(e).subscribe({next:i=>{console.log("Balance guardado exitosamente:",i);const r=JSON.parse(localStorage.getItem("localBalances")||"[]");r.push({...e,timestamp:(new Date).toISOString(),id:i._id||Date.now().toString()}),localStorage.setItem("localBalances",JSON.stringify(r)),this.gestionService.resetTable(this.data.tableId).subscribe({next:o=>{console.log("Mesa liberada correctamente:",o);const s=`Se liber\xf3 la mesa <strong>${e.tableName}</strong> atendida por <strong>${e.waiterName}</strong> con un total de <strong>$${e.totalAmount.toFixed(2)}</strong>`;this.gestionService.saveLog(s),this.dialogRef.close({status:"mesa_liberada",tableId:this.data.tableId}),location.reload()},error:o=>{console.error("Error al liberar la mesa:",o),alert("Hubo un error al liberar la mesa. Int\xe9ntalo nuevamente.")}})},error:i=>{console.error("Error al guardar balance:",i),alert("Error al registrar el balance. Por favor, int\xe9ntalo nuevamente.")}})}printTicket(){const e=this.tableName,i=this.waiterName;this.isTicketPrinted=!0;const r=`\n      <html>\n        <head>\n          <title>Ticket</title>\n          <style>\n            @page { size: 58mm landscape; margin: 0; }\n            body { \n              font-family: 'Courier New', monospace; \n              font-size: 14px;\n              font-weight: bold;\n              margin: 0;\n              padding: 0;\n              text-align: left;\n            }\n            .ticket { width: 58mm; padding: 5px; }\n            .header { text-align: left; margin-bottom: 5px; font-size: 14px; }\n            .order-list { text-align: left; word-wrap: break-word; font-size: 14px; }\n            .order-item { display: flex; justify-content: space-between; width: 100%; }\n            .order-item p { margin: 0; padding-right: 5px; }\n            .totals { margin-top: 5px; text-align: left; font-size: 14px; }\n            .line { border-top: 1px dashed #000; margin: 3px 0; }\n            .logo { text-align: center; margin-bottom: 10px; }\n            .logo img { width: 70px; height: auto; max-width: 58mm; }\n          </style>\n        </head>\n        <body>\n          <div class="ticket">\n            <div class="logo">\n            <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBUODAsLDBkSEw8VHhsgHx4bHR0hJTApISMtJB0dKjkqLTEzNjY2ICg7Pzo0PjA1NjP/wAALCADhAOEBAREA/8QAGgABAAIDAQAAAAAAAAAAAAAAAAYHBAUIA//EAFIQAAIBAwQBAgMEBQQKEAcBAAECAwQFEQAGEiEHEzEUIkEIFTJRFiNCYYEkM1ZxFxg3UlWRpKWz0iU0NVNXYmZ1goOTlbHR0+MnQ0VjcnN0of/aAAgBAQAAPwC/9NNNNNNNNYdyu1ts1OtRdLhSUMDPwWSqmWJS2CcAsQM4B6/cdVff/tCbUtqMtnhq7xPwDKVQwRZ5YKszjkCB30hHYGffEIuX2kr9LUK1rsdtpoOGGSqd52LZPYZSgAxjrH0PffUT/s2eQ/6Q/wCRU/8Aqaf2bPIf9If8ip/9TT+zZ5D/AKQ/5FT/AOpp/Zs8h/0h/wAip/8AU1KKH7SG5I6yNq+zWqelGeccAkiduusMWYDvH7J/h76m9k+0Rtav9CO7Udda5n5eo/ETwx4zj5l+c5AH7HRP5d6sjb26rFuujaqsdzgrY1/GEJDx9kDkhwy54nGQM4yOtbjTTTTTTTTTTTTTTTTUb3XvvbmzKcvebjHHOU5R0kfzzydNjCDsAlSORwueiRqhN5efr7evWo9vRfdFC2V9bIapkX5hnl7R5BU4XLAjp9V3RWrc29rpJLS01yvFY7ok055SlSflX1JD0owMZYgAD8hqyLB9nbcdwRZb1cKS0oyE+mo+IlVg2AGAIXBGTkOfp1743du8X+LrJbqG63vdX3tTvV/BtNDOq0jzMCVVvTyyYXBJMgHWSQDjWRMPEFlo7xUJs+uqPuS6pTViBHmMbqZAkhLycfSZlZSCezx5L+HUovFJZ7b+kvw3iihrfun4b4T07en+yHq458MRH+bz3jl7d40jj236V4qZvE/GloYqSSnWOzRtPVesoLKsZQDlGThgGOMH2xjWvu1v8bVN4u1ruexZ6Oqt1qF0mEcCU6vEi5IRopAGYGRlOPlLJgseC408/jnxLd6y3COvrrHNWWpblHSGpCgwEFi7NKHHIAHID9BCcYBOtBc/s73QW6Kt29f6G7xvEZQGT0fUGAU9NgXVuX5kqPbvB6ru+bP3Xseopqq6W2rt7h1eGqjcMqvklcSISA/yk4znrOpZtHznunbnGnuT/flCM/JVyETL+I9S9k9kfiDdKAMavfZflXbW9fhaWmqvhrvLEXe3zBgylfxBXwFf8xg549kDBAnGmmmmmmmmmmmmvOeeGlp5aioljhgiQvJJIwVUUDJJJ6AA+uuePIPnyaujmtezxJT07o0ctxlUrKfmxmEZ+QFR+Jhy+boKVzqp7Nt3ce9bpMtroau5VbuXnmJyAzZbMkjHAJw3bHs/mdXXY/C20dsVlFFva8QV1Zc8QUdGGeBPWxluLBgz/RQTxHzAEcmUCcWS7bgrqOzjbW1ILDaY7hLBX0dzpmp5I4MhxLCi4HzAsD0cO2OwC2sim8fVFVR21dzblrrvV226/eVNUIgpxnIYRsmWVlDciD0VB4qVHR3lt2dty0U7U9FZ6SOA1vx6xsnNY6jAHqIGyEIAGOOAPpjW81h3K7W2zU61F0uFJQwM/BZKqZYlLYJwCxAzgHr9x1C/7Nnjz+kP+RVH+pqcUNfR3OjjrKCrgq6WTPCaCQSI2Dg4YHBwQR/DWPX2O13P4k1lBBJJVUjUc03DEjQNnlHzHzBTknAPv3760cewqGgultuFmrKu3G10UlJR0SPypAGyS0kfTOSxVm+cFiiknIzrDoG3jQ0dst26KGhvVDLSVX3xXQfMQcsUUQBBzUphOKqSSfYY+eBy+OPHnkGyW+62GWTblZdXnelhdlJmKPiT9QXIwoVsCMqAGBPQA1Tm8dgbg2PWeldqXlTtx9OtgDNBISCeIcgYb5W+UgHrOMYJnGwfO10sHCg3L691to5kVGedWhPYHJmAdc56PY5e+FC66TtV1ob5a6e52ypjqaOoTnFKnsw/8QQcgg9ggg9jWZppppppppprT7m3Na9oWKa73ef0qePpVXt5XPsiD6scH/EScAEjlDyJ5NunkGsiEsfwVsgwYaFJOYD4wXZsDk3ZA6GB0PckyjYvhr16Mbh31UfctoglHKlq/wBQ8y5x87MR6SluIH7Td445VjadkqGrag2bx9SR2O32G8JBd/iKNQtaqHjII5AW5PxQZLAMeSHkv13lk2Htvalumlqj8f6NXJcTX3j05ZIJCF5yCQqOP82rFvfIyTrabd3baN1PcRZ5pKiKgqPh3qBGfSkbiCTG/s4Gcdfln2Klt5pprnjYcT+ZfIty3BuNfUtNs4PT2tp2eKN36QcSMFcREvjjybGQQSNdBzwQ1VPLT1EUc0EqFJI5FDK6kYIIPRBH01Qd4qovDXmZKqkp/R21fYkNRCqOsMHzYcpjIZkI54A6WQqAMg66A001o7xtK0XuviuU8MkN0gp5aenuFNIY54VkVlJUjokBmK5B4kkj3Oo2Fvu06M266Rffu1KKyTT3G41sgepnmBdnQIzHkpXoK2AAe3OMGsN8eFYqq3R7l2APXtk1ItQKAlzIykAhouQLNlTyKseWQcZyFFZ7N3xetiXR66zyxkSpwmp5wWimHeOQBByCcgggjsexIPWexd9WvftiFfQH0qiPC1dI7Zenc/Q/mpwcN9cfQggSjTTTTTTTWn3Nua17QsU13u8/pU8fSqvbyufZEH1Y4P8AiJOACRyBvrfV035fTX159KnjytJSI2Up0P0H5scDLfXH0AAFv+O/FlPsy0y743ZF8RUUdIa2nokQ5pwqcyWVwv60dgKelIzknBWxJduTbyeqbcYjqts19PT1FJaqqlMNVRTBfmBdSCp/PsnLFegDzyNyeRLDtq6UVpkkkrrtWVCU8dBRMjSqzY4l+TKEB5LjkRnlkZAJGZubZ9u3d8LFdp65qGHn6lDDUtFDU5xj1QuC3EqCvYwfz1C/Gs9Xsq8z+NL3LHJJEj1lpqlZFWop2Y5Tj+IOG5tg8j+PvioJtTTWvvts++9u3O0+t6Px1JLT+rx5cOaFeWMjOM5xkapP7OEi0lRue1VMMdPcI3hZo5CyzkKXVlKE9BGx7AEF8EnoC/Nc/wDneGs3Pv7a20qCmzVNE0iSkkj9a/E8gASFUQlie+ieuu+gNNNUH5XuVXt7zHt+r2osibirKdI54yEWCrVpOEaP2CxJUglj0FjIIK5F0WCqu9Va1N8t8dFcI3McohlDxS4/+ZGc5CN7gNhh2COsnR3qxXi23G5bh2wfjb3cPh6cw3KrcUlPCpwWWNcZxksQTkcnK9kq8P3749s3lP4y57aq4Ib7b6tqGrkkR0jlePAZH+XPJQRhwDkfL2MFefLBf71sbcq19A0lLX0zmKaCZSAwB+aORejjI7HRBGRggEdd7F31a9+2IV9AfSqI8LV0jtl6dz9D+anBw31x9CCBKNNNNNNec88NLTy1FRLHDBEheSSRgqooGSST0AB9dcgeS/Jddv8AugRBJTWWncmlpCeyfb1JMdFyPp7KDge5LTzxvsmxbLsVJ5B3xVQQrJwe3QuDII+XaSFVBLSEfMFAPEDkex8lr2jb9fdb7T7l3VSwQXa3y1MNvgo6qR4UgfCh2B6MhAb5gFyrDkoIAWUV9L8dbqmj+Inp/XiaP1qd+EkfIEckb6MM5B+h1Qnl3x0u0zSb32qskD0dQJa1pqlpmEpkBjm/W8ixLnDZJ916/EdXHsvdlHvba9Le6NPS9TKTQGQO0MinDKSP4EZwSpU4Gca0flSxzVe2juK2VUlHfNvJJWUVSshUBQAZUYYIYMinojsgAniWBlliuf33t22Xb0fR+OpIqj0uXLhzQNxzgZxnGcDWw01B92bDqLjeF3Lte6fcm5Y4miaoEYeOrTjgJKp6OCFw2DgAdHivHDnj8xTU8sSTbKgd0KrLGKkshI/EOQIyPfsEfmDrM2p41o7BfajcdzuE973HU59SvqUChM5H6tBnh8uF9zgDA4gkanGmmqHpW/TH7UU8olgqqGwxMFSaPHH014EKOPbLPIWBP5ZB6XVyX/cVo2ta2uV6ro6SkDhObAsWY+wVQCWPucAHoE+wOq/8Z1+/IqhqG7WW5T7flqJWo7jdqlEraeIF+KyoTyckhR7DGSQSuMSzeVqrKiKkvVFX3VJLN6lUbdQTFBceK8hC4AOcsij2PRYYy2RXe99i03lCzC+Wyljtm8YKeN6y2SzJ6hDLlUlAPyOVHyMwUkYDAfsUp4/3jUbG3bTXaL5qdsQ1kYQMZICwLBckYboEdjsDPWQez6Ctp7nbqavo5PUpaqJZoX4kckYAqcHsZBHvrI00001Q/wBoLfSRUa7Mojymm4T1zhlIVASUiI7IYkK59sAL7hjiIeFPHH6V3gX65xQS2SglKNDL83xEwUELxz+FeSsc9HpcEFsXHY6cb/vNTuKonvMdj4NQybdu9FGIXkjYEvxPIEBvrjmHQjlgcdWJprHr6GnuduqaCsj9SlqomhmTkRyRgQwyOxkE+2ufLHX13gzyDU2i8mrbadydmppQ3qKBkcZelGXVcK6qAewcMAmZvcvLC7lqF2945SS43iqQH46WFo6ejTJDSPzGSV6644yw/EfkM82rt6n2pte3WOlbnHSRBS+CPUcnLvgk45MWOM9ZwOtbjTWvud9s9k9L72utDQetn0/iqhIueMZxyIzjI/xjWw00001zJ4lvV6r91bnvFo27HX364uD8Q0xhpKJZXZnZ8klhz9MhBliqNg9HNx7d8epBcY9w7qq/v7cpijVqidF9GmKnkBAnEBcHHzYySCRx5MDONNQfcFmnse4xu+zpaqSM/rNw1dWJXmkpY0A4xAA8cKCxC4yyR5yMg1J5p2paK610fkHa4jloa9/5a8GeBZvwy8cfISwZXyR8xUY5Fs+fgHfSWe8SbVrjilucoelkLKqxz8cEHOCeYVQOz8wUAfMSOl9NNNafdW4afam17jfKpecdJEWCZI9RycImQDjkxUZx1nJ61xhQ0l03pu2OnjPr3O61ZLuUwObsSzsFHSjJY4HQB/LXU90syUtHYfHlDabrFZp4hyvNFIsZpHgIlViVU4kZ0BLELktkEnOJxTGng40EU/OSniTKPMZJAhyFZixLHPFvmPuVPZOdZGmmsO5Wm23mnWnulvpK6BX5rHVQrKobBGQGBGcE9/vOlttNts1O1Pa7fSUMDPzaOlhWJS2AMkKAM4A7/cNZmmoP5X3jUbJ2NNX0PVfUSrTUrlA6xuwJLEE/RVbHv83HIIzqu9qeFq7dNQN0eQa6rarrH9Z6EfJIwyvH1G/YBUEemoBUce1I4i/NNNNec8ENVTy09RFHNBKhSSORQyupGCCD0QR9NedDQUdso46OgpIKSljzwhgjEaLk5OFHQyST/HWRpppqv6OslsW722jfar7xob36i2ijitqR01JSxxsWidsAN18nEcsBFJxzxrmTfGza7Yu5ZLPXSRzAoJaedOhNESQGx7qcqQQfYg+4wT1X4y3d+mmxqK5Styrov5PW9Y/XKBlvYD5gVfA6HLH01MNNNc6faM3Q090t+14JIzBTIKup4urH1WyqKwxlSq5Pv2JB10Dr08DbTqKe3XTept/xdVHFJBaqdyI/VcDLkMy4XJxGHB6zICNWn4/sENHHcNzNaqu0XDcLrU1lunnEogYM5BB4ggtzLFT7FsYGMahdtTyNYLxfN7QWGC50l7lEslslk9GvhgjWQQjAHEMEKgqObHoYzkiebY8jbc3VUPRUtTJSXSN2SS216ejUIwLZHEnDEBCSFJwPfGpZpppppqD+V9nVG9tjTUFD3X08q1NKhcIsjqCCpJH1Vmx7fNxyQM6j+zvLqLWfoxvtPufcNLySaon4xwS8QCCWzhWYZP8AeHGVPzBdWxppppppprDuV2ttmp1qLpcKShgZ+CyVUyxKWwTgFiBnAPX7jqN2zynsW7+r8Nuahj9LHL4tjTZzn29ULy9vpnHWfca3G6LPWX7bdXbKC7T2mqm4cK2DPOLDhjjDKewCPce+qj8rQQ+SfFdt3rZoqsJQPK/oSqOZhL8JCVXl2DGrZ5ABQxOoZ4B3Mll3zJa6mf06W7xCJQeIUzqcx5Y9jILqAPdnUY/LqfTTXDF8udZu7dtbcRDPJVXKrLRQBjM45NhI1OMtgcVAA+gAH010nuDaS0e09r+OaazXK4W2qfjV19FUtAKYoyu8r8g6kMWdgjHGRhewuJpuPe+2to+mL5d4KSSTHGLDSSEHOG4KC3H5SOWMZGM51B637QuyqSskghiutbGuMTwU6hHyM9B3VuvbsD2/LvVabr33W+VKcpbfHMdTPTpxlq40lqp4shuGHiCFQCXPFuSk9461P/FzeWaOvoaXclJJNYZkLvUV8qNUQAqzL+36mSxUEOCQOvlxq5NNNNNNafcO1bFuujFLfLZBWxr+AuCHj7BPFxhlzxGcEZxg9ar+ot+5fE0UdfQXGu3DtCD5au31IV6miiCqPUjfrkq8T8vyqAfb3dbY000001j19bT2y3VNfWSenS0sTTTPxJ4ooJY4HZ6B9tc8Wnam4PON9qNy3upnte3llxSwBmkBA4qywhjgdL80mMF/2TghbHofBewKSjjgmtc9bIuczz1cgd8nPYQqvXt0B7fn3rH2dBdNgb0/Q653Oe4Wa5xNJYp55ObxekBzgIx1hCDnIT5OgCxA2FNFbqTfN92jcrjfLq1/pGrBBUMz01LTsXRolZTmPJL94UY4LnkBy5cutFXbJ3tUUsUsiVlprcwTPDxLFGyknBsjBAVgDkEEe412vablDebNQ3SnWRYK2njqI1kADBXUMAcEjOD+Z1mag/l68/cni69yq8AmqYhSRpMfx+qeDBRkZYIXYf8A45wQDrnzwnYFv3k2haVY2gtyNWurMyklCAnHHuRIyHBwMA+/seg7JQ/G+Vtw3qe0XWhmpKSKhhnqZ+cFXGx5lo1wQuCg6VsfNllVidR/dXhj9Nrjcbvd77PDc5pSlGIF509PTqcIpRvmLFQWbDKOTnAOO9HZoofGEdHTby2DbWpKV1MW5LbTCoCNyTDylx6ikMxPLrsAIhA1cFt3HZbvZmvFBdKSe3onOSoWUBYgFDHnn8BCkEhsEfXGtppppppppqF32vbeUd12rYzIY1dKa6XEMqxQozfroY2Ktzm9PIxxwvLtgwAMwgghpaeKnp4o4YIkCRxxqFVFAwAAOgAPpr000001p92UNRc9m3ygo4/Uqqq3zwwpyA5O0bBRk9DJI99afxZVUdZ4u29LQ0/oQrSCNk4BcyISkjYH986s2fc5yeydTDVP+Ra/7x8xbAtNnq+dzoat5auKGTi0ULemzBjkDuNJCVzkr9PmGZR5HqHtcFlvc+4a61Wq33CJ6yKkpWl+JBdQBIykFYwOWc5B5DotxBpj7RFk+A3zSXaOn4Q3KkHOXnn1JozxbrPWEMQ9gD/XnVj/AGfbz94eOmtzvB6ltq3jWND84jf9YGYZ+rNIAeh8v5g6tjVJ/aSuUMW1bNa2WT16itNQjADiFjQqwPec5lXHX0P8dB9nmkWip907jkt1XUPS06RQNAjM0owzyRoMgM54xde/a+2e7b8Z2ajsmy4IKBL5DSyyySJTXsBZ4O+JXiAAqkqWA/45P11MNNU/vDw1a7vvTb09qs0FHbGlka8NA3BCihCiCMMOPLiy5QdcuR1cGmmmmmmmmmmvOeeGlp5aioljhgiQvJJIwVUUDJJJ6AA+uoX/AGYNgfePwP6Rwet6vpcvSk9PlnGfU48OOf2s8cd5x3qYUNfR3OjjrKCrgq6WTPCaCQSI2Dg4YHBwQR/DWRpqs7xtjd+1Lzc73sB6Srgubmess9wdivxBYZliPJQCRkkFgOvr8oWCVe9PNO54haaTbM9rkn5A1ENBJTnjxOR6kzFU/MEENkDBz7zvxT41m2jHPfb5PJUbkuKH4gmUuIVZgxUnPzuWALN32MD6lppupqiPa9xmpbx9zyQRGY1/wwqPRRDyc+mfxfKGH8eu9Uv5kjp9zeKdt7noq+e7fCS+g9alOYklDApJKyEZTMkSgewHLHeRrE+zVcoYrzf7WyyevUU8VQjADiFjZlYHvOcyrjr6H+PReucPtJ3P1dw2O0+jj4akeo9Xl+L1X48cY6x6Oc575fTHeZ4wvENi+z/umvnnq6dBWyxCekUNLE0kcMauoLL2rOD+Ie3vq69pzfEbNsc/xM9V6lvgf16gYklzGp5OMt8x9z2ez7n31uNNNNNNNau/7itG1rW1yvVdHSUgcJzYFizH2CqASx9zgA9An2B1B4fKV3vtaV2hsW5Xi38GZbhUTijil4uVPAupDD2+ob3yowdbCOi8pXBJqeuu+2LSjJlKq3Uk1RKrBh1xlYLgjOSc/wBX1Hn+iXkP/hP/AMwU/wD56fol5D/4T/8AMFP/AOet4RvalqEZZNv3SBkYOhSagZGyOJDZmDDHLIwv071IIDM1PE1RHHHOUBkSNy6q2OwGIBIz9cDP5DVH+Str733/AOSIdvLHJS7ZgRJoqrgfQAKgO7YPzyhiyqnRx3gAsxllD4L2BSUccE1rnrZFzmeerkDvk57CFV69ugPb8+9Rvx7RzeN/LNz2NLVySWu5U/xdtM2SzsP3KeKnisgYkDl6SnroG7NNNNNNUfuCrqKr7Nl2SqvVqu01NLHTma1xhIYwlTGAgAAHQxghVBUrgEfM0A8BXP4DyjDTej6n3hSTU/Llj08AS8sY7/msY698/TB6v1zB9o3+6HQf81R/6WXU72hVLR/ZopZnvsliThKjXKOBpmgDVTL0q95OeOR2M5Htq2LSzNZqFnr47i5p4y1bGqqtQeI/WAL0A3vgdd9azNNNNNNNVH5Os96Te1r3PHtePdVlo6JoXtjOWMcrMQZFjwQSQydhX6Q5AwrDMpfPWzpLjPRXGO62mSHkHNdSezg4KFYyzBvf3A9j9dSS2+TdkXWnaen3PbURX4EVUwp2zgHpZOJI798Y9/yOtpQ7s23c6yOjoNwWqrqpM8IYK2OR2wMnCg5OACf4a3Go/wDp3s/+ldj/AO8Yf9bUPufn3YtB6Xw1RXXLnnl8LSlfTxj39Up75+mfY5x1myKCtp7nbqavo5PUpaqJZoX4kckYAqcHsZBHvrI1V9sip90efrtdVWB4dtW+OiR0nLEzyFyWAAx8oaWMgk4I/P8ADaGmmmmmqnNDUT+GN40lXHY7ZUU/xfqR7ZYRxgxKDxkxnDNwwynvgwBAOQKY8J/3X7F/1/8AoJNdf65g+0b/AHQ6D/mqP/Sy6meyK1q37N5pbXdrbQVdO8lNPUXMKKeItPyZX5qykNHIB7EZcD39rkoJviLdTT/EwVXqRK/r04xHLkA8kGW+U+47PR9z76yNNNNNNNUWdx11v+1PUUD3SSK31SR00kMsv6th8MHjUA9A+q3WO8uQPxHNyXOxWe9+l97Wqhr/AEc+n8VTpLwzjOOQOM4H+Iaic/hnx9U1Es77djDyOXYR1MyKCTnpVcBR+4AAfTUb/tctn/4Svn/bw/8Apaf2uWz/APCV8/7eH/0tP7XLZ/8AhK+f9vD/AOlqSWDw7sjb6Lxs8dwn4FGmuOJywLZ/ARwBHQBCg4/rOZ5qL7s3DUUnGwWJfX3LcIm+FQEcaVPY1MpIIWNT7ZB5MAoB7xmbS21DtTb8VtSokq5y7TVVZKAJKmZzl5HPuST12ScAAk4zreaaaaaaqueOHbvhzeElbtiPaoqUqP5JHViqV5JY1jVgU6QFiF4gALxz0NUp4T/uv2L/AK//AEEmuv8AXOn2lLbDFebBdFaT16inlp3UkcQsbBlI6znMrZ7+g/jn+EnhuPijdFpgoqS5XCKoeoSgq4g8UjNEvohuWFILxH69Yz10dXJtSrSu2laaiMUK8qSMOlA6tBG4UBkjKkrxVgVGCcY1uNNNNNNNUX50o2se6tp75jp5KhKOoSKdDKqqTG/qxqOsgt+tyewOI9vrdlBW09zt1NX0cnqUtVEs0L8SOSMAVOD2Mgj31kaaaaaa844IYXmeKKNHmfnKyqAXbiFy35niqjJ+gA+mvTTTTTTWPX1XwNuqaz4eeo9CJpPRp05yScQTxRfqxxgD6k6ou722h2/9mSthW3VdnnrqhXakuM3KdpfiFH1VMn04gQAo+UZ77Jin2eqGnq/JUs08fOSkt8s0B5EcHLIhPXv8rsO/z/PGup9U/wDaIsnx+xqS7R0/Oa21Y5y88enDIOLdZ7y4iHsSP6s6hn2c6yGW87hsNRSRzwV1EssnqYZSqNwKFSMMGE3/APnsc9XP46o6627TW3123Y7AKaolWno0rPiR6TNzDc+ROcsQcn3UnABAEs0000001o9x2ah3ntO5WZ542gqkeH1UPIRyo3R6IyUkXtc+6kH66r/w5uualp5Ng7kMlLuC1uyQQ1GcywgcgAxJDFQTgDA4cSuQCRbmmmmmmmmmmmmmo/viqo6PY16luNPXT0LUjx1CUCBphG44Myg9fKGLEnoAE/TVR+fa1qHYm1bE8VW7yv6zTVkyvODDGExIVyGc+rksDjKnGc68/s2WT/dy/wAtP/eUdPPz/wCnKvHP/wCk5I/qPvroDUb39YG3RsK82eJZGnnpy0CIyqXlQh0XLdAFlUHP0J7HvrlDxneodveSLHcaj0/QWo9KRpJBGsayKYy5Y9AKH5fw9x766f29ZVsHkHcSUVgkhpLmiV810NWzq8pJHpCMqOJ5eq5wzY5DOAyqJpppppppqL7Mq043u0SD06633WqM0RdSeE0rzxOACflZJBjOOww+msfe2yf0j+Gu1pqvuzc9u+aguCj+v9XJ0eUZyRjBxk9EFlbX0PkGsscsdv8AINt+56p5THFcoFL2+fLEJiTJMbEBjh8YC8iVzgTihr6O50cdZQVcFXSyZ4TQSCRGwcHDA4OCCP4ayNNNNaOTeFgi3ZDtdrlGb1KnNaVUZiBxLfMwHFTxUnBIOMfmM7zTTTTTUD3dcmqN+7U25DcbzbZ5Kj40SU8K/C1iRhmeF35Bs4X2GRhxlTkEUR52vUN48m1EMHplLdTx0hkSQOHYFnb29iGcqR3gqf6hd/hOwNYfGVC0qyLPcXatdWZWAD4CccewMaocHJyT7ewsTTXFnkna67Q37crVBHItHzE1JyRgPSccgFJJLBTlOWeyh+uRq85rtR7u8dbY3t9yV2473ZZUPw1JKI3FQOKyF1TPy8lSQBVJ/BkBS2rg0000001G9y7amuNRBerLUR0O4qJCtPUuCY5485MEwHbRMf4qfmXvIOrofJVHT1kdt3db59r3J88BXOGppcDkfTqB8jYXjnOMFgvZ1NIJ4aqniqKeWOaCVA8ckbBldSMggjogj66i8njTZ7XSG5wWWOhrIU4Ry26aSjKjvP8AMsoyQxBPuR17almmoHf/ADFsjb6NyvEdwn4B1ht2JywLY/GDwBHZILA4/rGasu3kHyN5KrJaTZVtrqO0GVo45qZfTduIVv1k5PFG6zhWX8fElsjM/wDFviKn2Pyud1eCtvrclSSPJjpk9sJkAliPdiB0eI6yWtDTTTTTVZ7e3XTSru/fdTdLzDaadxTtZq+JIvhZYY15BQXPzsxAABTLMQQTgjmShpLpvTdsdPGfXud1qyXcpgc3YlnYKOlGSxwOgD+Wu36Chp7Zbqago4/TpaWJYYU5E8UUAKMns9Ae+sjTVJ/aJ2u1dt+h3JTxx87c5hqiEUMYpCApLZyQr9BcH+cJ6wcwjwTuuGg3BU7Wuhjktd6Qosc+DGJsYwQx44dcqRglj6Y1d+xQ1ip6jbD2SS0W+21Hwttnqa1ZWuJIeRnUYHZX5yBkDLAY4ECaaaaaaaax62go7nRyUdfSQVdLJjnDPGJEbByMqejggH+GoPU+HttC4tX2We67eqn5+q9nrGh9QMQeJBBCqCOlXA/d0Ma+l8a7xtlxnqbd5SuojfkqR11N8XxQnIB9STiW6HzBR9fYHGlz8c76u/pfE+VK6P0s8fhbeKbOce/pSLy9vrnHePc6083gasu9ZTNuXft1u1LDyxG8Z5rkfss7uF7C5+U5x/ESSweE9kWF1la3yXOdXLLJcXEoAK448AAhHuRlScn36GLAgghpaeKnp4o4YIkCRxxqFVFAwAAOgAPpr0000001D9/XD+R0W3ozfKaqvkvw9NcLVHk0sikMGduQIXAJIHZRZPbGdVR5w3R93bdtOwUrp62up4oJLhWerj1eKEBXXJJZjiQhj18h7zkef2c9rtPdLhuieOMwUyGkpuSKx9VsM7Kc5UquB7diQ99Ea6L001j19DT3O3VNBWR+pS1UTQzJyI5IwIYZHYyCfbXFm7dtXLx/vGW2vUSCeldZqWsiDR8190kQ+4IIx0ThlIBOM66Dtl4ffmy6TfdjsNDVb3tmaWJHZkRHJAkUksgZTG5cAsePMgEnObIs13o73bkqqOsoarGEmNDUiojSTALKHGM4yPcA4IOBnWw0000000000000000001V9FfKy22e9eS77HfLappPTTb1bUEwpIGCqyDjleZEYBKAqWkJyrA65w/2Y8h75/wB9ud3q/wDjskeT/wBJhGi/18VX92ux9q7ep9qbXt1jpW5x0kQUvgj1HJy74JOOTFjjPWcDrW40001V/mbx1+mNiF1oOrvbInZEWLkaqP3MfQ5FhglB2MsRj5sihPGm/pvH+5TWNFJUW+pQRVlOjkErnIdRnBde8Z+hYZGcjov06fY9V9+0Nfard4/+E9aeGnpzK0tRLJ1KhQZ4kNGAcsAowFAwVsDTTTTWj3Tuqh2ja4q6uhq6gz1CU1PT0kXqSzyvnCqMgZwCeyPbHuQDp4d5XyiNEdx7Oq7fHW1ENNHLSVkVWsMkkhQCbHEoM8TyHIfOBkN8uthvTeVDse10dwuEcjQVFbFSll9ow2SztjJwqqxwASSAPrkZm6rzUbe2vcbxS2/4+SiiMxp/WEXJAcueRBxheTe3eMDs6ido8g7krI7XX3HY0lFZbg8CrXJdYZiomZVib08BsFnTP1AJOOsax4/Im8KncF2stH4+jqqu1Oi1Pp3uNVAcFkYF0GQyjP5j6gHrXncvLFxoK/btGNqYkvUrUoM9xVBDVJOYZYzwR8qrcTzHuG6GQRrcbKuG4qe7V9g3BabqrJzqoLlUVUdVDKpfBQSJHGF7PJUI5BSelAUanGmmmmq7ulFD5MvL2yqhttx2ZTok8VfQV4eQ1isMxtxb5QY3cEYPTAhgSAtIeXvJa76ukNDbBIlloXYxMxZTUuevUK+wAGQoIyAzE45cRY/gXx8tttY3bc4I2rK1P5ArxsHp4uwX76y4xggfhxg4cjV2aaaaaa5086eNGo6iq3razH8JK6mvp8KnpOSFEi4xkMxHIe/I57BPGP8AibyzNs2oSz3h5Jtvyv0cFmo2J7ZR7lCe2Uf1jvIa91lu+zq8rVfF3q23S51NTPXSTiNbRCVDKpDsR6ShX+bKgY6BJCmWUNfR3OjjrKCrgq6WTPCaCQSI2Dg4YHBwQR/DWRppqr/KVP6G7diX6rofXtFuuDLVzNL6aUzSNGI5Hb6KrLyyflPEKSOQzPL3f6Hb6ULVzSZrq2Kip1ReRaWRsD9wAGSSfoD7nANb7utu49+7lvFPt5rNNaaKie0Tm5HknxEhSSVovTDHmnGDt8BWU4GQTr0sV2qLh4D3BQV1N8PX2O31lqqkGOIeGEgYIY5+Urk/33LHWNbDxpZdwUkVpudVefjbJPt+lSnppGZHpX4qeIRcRsuM/OwL/hXOAS2rpbXd7l5g3m1qvElCKettEtVCFHGqhVOToWxyU4Bxg4OSrDByNh5AAbyf48Q3KS2l3r0WpjMfJWaJAoHqKy5YkLgg55dd41INl0y7Yt1HtK4XeOuvSpU1jNli8sTVDH1WzkgkyLnJ7PLBbBOpZpppqP1NTcbteJLdbpa61fdlXTy1FTNQq8NfCylmiiYn+oMw7U/nnVGeWfJdNFTvsrZgpKWzomKmooCgjmDjkY4+HQT5vmI7Y5HQzy0/hvxo28Lot8uBjFlt9QA0ZCuamVcN6ZU5HDBXkSOwcD3JXqvTTTTTTXnPBDVU8tPURRzQSoUkjkUMrqRggg9EEfTXLHlnxNNs2oe8WdJJtvyv2Mlmo2J6Vj7lCelY/wBR7wW8/FvlH9F+W39wL8Ztiq5I6SJ6nw3L8RC/tRnJ5J+8kd5DXHir2dQVG4NpSSbi278PHS0FgtaIY4eLANKJVLM55epyIVmJcculys8tl6oLt6sdLVQPVU+BVUqzxySUrnPySBGYKwIYe/upxnWw015zwQ1VPLT1EUc0EqFJI5FDK6kYIIPRBH01q6Tae27fKZaLb9qppDxy8NFGhPFg47A+jKrD96g+41kWyxWeyer902qhoPWx6nwlOkXPGcZ4gZxk/wCM61/6CbP/AKKWP/u6H/V1tLbabbZqdqe12+koYGfm0dLCsSlsAZIUAZwB3+4aw6Hae27ZWR1lBt+1UlVHnhNBRRxuuRg4YDIyCR/HXpcttWG81C1F0sltrp1TgslVSpKwXJOAWBOMk9fvOlt21YbNUNUWuyW2hnZODSUtKkTFcg4JUA4yB1+4a2mmserraehiElRJx5cuCKpZ5CFLlUUZZ24qx4qCTg9artqxfKdketkqI6LYk1FKtZHVxNDVesj5EgfPAInBWDAsueasD+zWnlHynTtbl2Ts2X07LSxLTT1Ubk+sijiIkYnJjAGC2fn9vw5LxPxp40rt/wB0LuZKay07gVVWB2T7+nHnouR9fZQcnOQG63tVqobHa6e2WymjpqOnThFEnso/8SSckk9kkk9nWZppppppprznghqqeWnqIo5oJUKSRyKGV1IwQQeiCPprnjyX4Lmo3F02VSSTUnA+vbhIWeLiueUZY5cHH4clsnrIOFrfY/kG9bEukc9DPJNQFyai3vIRFMDgE49lfCjDgZGB7jIN72e/7V8iOqbSusm1Lt95x1VWqQRQ1VwVVdiOmIkB5MTy54IJZcHuSfpndLHcfht1Wn0I7he/u+zyUQ5+pGxwjy9lU+n7XI/NhAFJMwpa+jrvX+Dq4Kj0JWhm9GQP6ci/iRsHphkZB7GsjTTTTTTTTUTn3lNU3Sjptu2iS8U/3nJbrlUrKYRQSJxLFgy/OApY5HRIABywGoveo7Rte1266+UbzHebtQ1ss9pkghML9cWVVjjIDH9WhJf5VLhScYJpTf3lq+7650f+59mbgfgInDcmXvLvgFuznHS9L1kZ1IPGXhWs3J8FfNwD4ayP+sSmyVmql64/T5Y277zyIHQAYNrpehoKO2UcdHQUkFJSx54QwRiNFycnCjoZJJ/jrI00000000001W/kfxFa98+rcqZ/gb6IuKTD+bnIxxEoxk9DiGHYBGeQUDXNm69ibj2ZUFLzbpI4C/GOrj+eCTtsYcdAkKTxOGx2QNTjann/AHHY6cUt5p473AicY3kk9KdcBQMuAQwwD7qWJbJb6as/aNd4/wBwPSUm0b7V2Z1rRcZrVTS/DmolKglGVweSBUIKRHgB/wBE63n/AMRrVbv/AKVe66a9/wD88cNAR/AqwI/+4QG/bxpXeTbdZfvSW/Wu62uko7hHRQVM9K3Cr5Zy8ePdRwkY4z8oUjJYLrcNvfbSS3WNrvAPumWKGuchuEDytwQM2OP4uj38uDyxg6zKncthoqipp6u922CelQPURy1SK0KkqAXBOVBLr2f74fmNen37Z/8ACtD/ALU+N/2wn+1/9+9/5v8A43t+/WHHvHbk10tttp7xSVFXckkekSnf1RIqZ5HkuQB8rDJIyVYDJB1q4fI1rq4LBUUNBdaylvlXLTUs8FNlEKOVLSZIKqQrOOs8VYkDBGsemrd9bjo7bVxUEG2mp7rxr6OqcTvU0qEBijhcLk8gBx7wGDgfi0df+he13I3zuuO8XClvBrqJqgs1VRFlVkThESQnyhscVQkr8o61BN3faIuNZyptqUf3fD1/LKpVeY/hPSdovYYd88gg/KdVfbLJunf14laip6671zY9aokctj5Tx5yOcDpSByPeMDXQex/BFl288dffpI7zXhCPQeIGljJUZ+UglyDywzYGCDxBAOrc000000000000015zwQ1VPLT1EUc0EqFJI5FDK6kYIIPRBH01T+6/s92C405l21NJaatEwsUjtNBIQG9+RLKSSo5AkAD8JOqc3D4j3rt6sED2ae4Rt+Ce2o1QjYAJ6A5L74+YDODjIGdauwb+3XtdFis98q4IFQosDESxIC3I8Y3BUHPeQM9n8zqxLN9o7cFJwS72mhuEaRBeULNTyO4x87H5l77yAo7PWAMa2EPnnbdfWVK3jYUApa7j8dIkkc7zcB+r5KyKHwQMcm6+ntjWXX+XPFt0qLjUVu1blNPcqdaarkalh5SxqcgZ9XIIOPmGD8qd/KuPRPMXi9IqWM7UrpfhKQUcDzUMEjpAFKenyaQsV4lgQT3k59zrzk86bJoUhNo2bJzoEzbg0MMAiaRj6oUry9MFcHK55EkEDGTrLn9pO8S+l907foaXGfU+Kmeo5e2MceGPr+ecj2x3Xd68mb03DT/D3HcFW0HBkaOHjAsisMMHEYUOMfRs+5/M689veOt3bqo2rLPZJ56Ue0zskSP2R8rOQGwVIPHOPrjVz7R+zvbqPjU7rrPvCbv+R0jMkI/EO36duuJ64YII+YauihoKO2UcdHQUkFJSx54QwRiNFycnCjoZJJ/jrI000000000000000001o7/s7bm6UZb1Z6SrcoE9Zk4yqobkAsgwyjOegR7n8zqD3L7P2yK6oWWnFyt6BOJipakMpOT8x9RXOe8e+Oh176jdb9mmjkrJGoNzzwUpxwjnoxK69d5YMoPef2R/H31j/wBrN/yu/wA2/wDu6f2s3/K7/Nv/ALun9rN/yu/zb/7upRQ/Z62VSVkc80t1rY1zmCeoUI+Rjsoit179Ee35danFk2PtbbnoNabDQ080HL06j0g8y8s5/WNlz0SPf269tSDTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTX/2Q=="\n\n            </div>\n            <div class="header">\n              <h2 style="font-size: 14px; margin-left: 4rem">NUOVO CAFFE</h2>\n              <div class="line"></div>\n              <p><strong style="font-size: 10px;">De Aylen Leonela Lupino</strong></p>\n              <p><strong style="font-size: 10px;">Cuit: 27-37630138-4</strong></p>\n              <p><strong style="font-size: 10px;">Dom.Comer: Libertad 321</strong></p>\n              <p><strong style="font-size: 10px;">CP: 5196</strong></p>\n              <p><strong style="font-size: 10px;">Sta Rosa de Calamuchita</strong></p>\n              <p><strong style="font-size: 10px;">Documento no v\xe1lido como factura</strong></p>\n              <p><strong style="font-size: 10px;">Pida su factura en caja</strong></p>\n              <div class="line"></div>\n              <p>${(new Date).toLocaleString()}</p>\n            </div>\n            <div class="order-list">\n              ${this.orders.map(a=>{const c=a.quantity??1;return`\n                    <div class="order-item">\n                      <p style="font-size: 12px">${a.name}</p>\n                      <p style="font-size: 12px">x${c}</p>\n                      <p style="font-size: 12px">$${(a.price*c).toFixed(2)}</p>\n                    </div>\n                  `}).join("")}\n            </div>\n            <div class="line"></div>\n            <div class="totals">\n              <p><strong>Total:</strong> $${this.total.toFixed(2)}</p>\n              ${this.discountPercentage>0?`<p><strong>Descuento (${this.discountPercentage}%):</strong> -$${(this.total*this.discountPercentage/100).toFixed(2)}</p>\n                     <p><strong>Total con descuento:</strong> $${this.discountedTotal.toFixed(2)}</p>`:""}\n            </div>\n            <div class="line"></div>\n             \x3c!-- Aqu\xed agregamos el nombre de la mesa y del mozo --\x3e\n              <p style="font-size: 10px"><strong style="font-size: 10px">Nro de mesa:</strong> ${e}</p>\n              <p style="font-size: 10px"><strong style="font-size: 10px">Atendido por:</strong> ${i}</p>\n               <div class="line"></div>\n          </div>\n          <script>\n            window.print();\n            window.onafterprint = function() {\n              window.close();\n              window.opener.postMessage('closeDialog', '*');\n            }\n          <\/script>\n        </body>\n      </html>\n    `,o=window.open("","","width=600,height=400");o&&(o.document.write(r),o.document.close(),o.focus()),this.gestionService.saveLog(`Se imprimi\xf3 <strong>el ticket final</strong> de la mesa <strong>${e}</strong> atendida por <strong>${i||"Sin asignar"}</strong>`)}static{this.\u0275fac=function(i){return new(i||n)(N(qm),N(td),N(sa))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-total-dialog"]],decls:138,vars:9,consts:[[1,"relative","w-[90vw]","sm:w-[450px]","max-w-[520px]","bg-white","rounded-2xl","shadow-2xl","overflow-hidden"],[1,"absolute","top-0","right-0","w-64","h-64","bg-gradient-to-br","from-green-400","to-emerald-400","opacity-5","rounded-full","-translate-y-32","translate-x-32"],[1,"absolute","bottom-0","left-0","w-48","h-48","bg-gradient-to-tr","from-blue-400","to-indigo-400","opacity-5","rounded-full","translate-y-24","-translate-x-24"],[1,"relative","bg-gradient-to-r","from-green-600","via-emerald-600","to-green-600","p-3","sm:p-4"],[1,"flex","items-center","gap-2"],[1,"flex","items-center","justify-center","w-10","h-10","rounded-lg","bg-white/20","backdrop-blur-sm"],[1,"!w-6","!h-6","!text-2xl","text-white"],[1,"text-lg","sm:text-xl","font-bold","text-white"],[1,"text-white/80","text-xs","mt-0.5"],[1,"relative","max-h-[55vh]","overflow-y-auto","p-3","sm:p-4"],[1,"mb-3"],[1,"text-sm","font-bold","text-gray-900","mb-2","flex","items-center","gap-1.5"],[1,"!w-4","!h-4","!text-lg","text-blue-600"],[1,"grid","grid-cols-12","gap-2","mb-1.5","px-2","py-1","bg-gray-100","rounded-lg","font-bold","text-gray-700","text-xs"],[1,"col-span-6"],[1,"col-span-3","text-center"],[1,"col-span-3","text-right"],[1,"space-y-1"],["class","grid grid-cols-12 gap-2 px-2 py-1.5 bg-gradient-to-r from-white to-gray-50 rounded-lg hover:shadow-md transition-all duration-200 border border-gray-200",4,"ngFor","ngForOf"],[1,"mb-3","p-3","bg-gradient-to-br","from-blue-50","to-indigo-50","rounded-lg","border-2","border-blue-200"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-1.5"],[1,"flex","items-center","justify-center","w-8","h-8","rounded-lg","bg-blue-600","shadow-lg"],[1,"!w-5","!h-5","!text-lg","text-white"],[1,"text-blue-900","font-bold","text-sm"],[1,"text-xl","font-bold","text-blue-900"],[1,"!w-4","!h-4","!text-lg","text-purple-600"],[1,"!rounded-lg","!shadow-lg","overflow-hidden"],[1,"!bg-gradient-to-r","!from-purple-50","!to-pink-50","!border-2","!border-purple-200"],[1,"!font-bold","!text-purple-700","flex","items-center","gap-1.5","!text-xs"],[1,"!w-3","!h-3","!text-base"],[1,"grid","grid-cols-3","sm:grid-cols-5","gap-1","p-2","bg-gradient-to-br","from-gray-50","to-purple-50"],[1,"group","px-2","py-2","bg-gradient-to-br","from-orange-100","to-red-100","hover:from-orange-200","hover:to-red-200","text-orange-800","font-bold","rounded-lg","transition-all","duration-300","hover:-translate-y-1","hover:shadow-lg","border-2","border-transparent","hover:border-orange-400",3,"click"],[1,"!w-4","!h-4","!text-lg","group-hover:scale-110","transition-transform"],[1,"text-xs","mt-0.5","block"],[1,"group","px-2","py-2","bg-gradient-to-br","from-blue-100","to-indigo-100","hover:from-blue-200","hover:to-indigo-200","text-blue-800","font-bold","rounded-lg","transition-all","duration-300","hover:-translate-y-1","hover:shadow-lg","border-2","border-transparent","hover:border-blue-400",3,"click"],[1,"group","px-2","py-2","bg-gradient-to-br","from-green-100","to-emerald-100","hover:from-green-200","hover:to-emerald-200","text-green-800","font-bold","rounded-lg","transition-all","duration-300","hover:-translate-y-1","hover:shadow-lg","border-2","border-transparent","hover:border-green-400",3,"click"],[1,"group","px-2","py-2","bg-gradient-to-br","from-purple-100","to-pink-100","hover:from-purple-200","hover:to-pink-200","text-purple-800","font-bold","rounded-lg","transition-all","duration-300","hover:-translate-y-1","hover:shadow-lg","border-2","border-transparent","hover:border-purple-400",3,"click"],[1,"group","px-2","py-2","bg-gradient-to-br","from-yellow-100","to-orange-100","hover:from-yellow-200","hover:to-orange-200","text-yellow-800","font-bold","rounded-lg","transition-all","duration-300","hover:-translate-y-1","hover:shadow-lg","border-2","border-transparent","hover:border-yellow-400",3,"click"],[1,"group","px-2","py-2","bg-gradient-to-br","from-pink-100","to-rose-100","hover:from-pink-200","hover:to-rose-200","text-pink-800","font-bold","rounded-lg","transition-all","duration-300","hover:-translate-y-1","hover:shadow-lg","border-2","border-transparent","hover:border-pink-400",3,"click"],[1,"group","px-2","py-2","bg-gradient-to-br","from-indigo-100","to-purple-100","hover:from-indigo-200","hover:to-purple-200","text-indigo-800","font-bold","rounded-lg","transition-all","duration-300","hover:-translate-y-1","hover:shadow-lg","border-2","border-transparent","hover:border-indigo-400",3,"click"],[1,"group","px-2","py-2","bg-gradient-to-br","from-red-100","to-rose-100","hover:from-red-200","hover:to-rose-200","text-red-800","font-bold","rounded-lg","transition-all","duration-300","hover:-translate-y-1","hover:shadow-lg","border-2","border-transparent","hover:border-red-400",3,"click"],[1,"group","px-2","py-2","bg-gradient-to-br","from-amber-100","to-yellow-100","hover:from-amber-200","hover:to-yellow-200","text-amber-800","font-bold","rounded-lg","transition-all","duration-300","hover:-translate-y-1","hover:shadow-lg","border-2","border-transparent","hover:border-amber-400",3,"click"],[1,"mb-3","p-3","bg-gradient-to-br","from-green-50","to-emerald-50","rounded-lg","border-2","border-green-300","shadow-lg"],[1,"flex","items-center","justify-center","w-9","h-9","rounded-lg","bg-green-600","shadow-lg"],[1,"!w-5","!h-5","!text-xl","text-white"],[1,"text-green-900","font-bold","text-sm"],[1,"text-xl","font-bold","text-green-700"],[1,"p-3","bg-gradient-to-br","from-orange-50","to-amber-50","rounded-lg","border-2","border-orange-200"],[1,"!w-4","!h-4","!text-lg","text-orange-600"],[1,"relative"],[1,"w-full","appearance-none","px-3","py-2","border-2","border-orange-300","rounded-lg","bg-white","focus:outline-none","focus:ring-4","focus:ring-orange-200","focus:border-orange-500","transition-all","duration-300","text-gray-700","font-semibold","text-xs","cursor-pointer","pr-8",3,"ngModel","ngModelChange"],["value","efectivo"],["value","transferencia"],["value","qr"],["value","tarjeta"],[1,"absolute","right-2","top-1/2","-translate-y-1/2","text-orange-600","pointer-events-none","!w-4","!h-4","!text-lg"],[1,"relative","flex","flex-wrap","gap-1.5","p-3","sm:p-3","bg-gradient-to-r","from-gray-50","to-blue-50","border-t-2","border-gray-200"],["mat-dialog-close","",1,"flex-1","min-w-[85px]","px-3","py-2.5","bg-gradient-to-r","from-gray-500","to-gray-600","hover:from-gray-600","hover:to-gray-700","text-white","font-bold","text-xs","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","duration-300","transform","hover:scale-105","flex","items-center","justify-center","gap-1.5"],[1,"!w-4","!h-4","!text-lg"],[1,"flex-1","min-w-[85px]","px-3","py-2.5","bg-gradient-to-r","from-blue-600","to-indigo-600","hover:from-blue-700","hover:to-indigo-700","text-white","font-bold","text-xs","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","duration-300","transform","hover:scale-105","flex","items-center","justify-center","gap-1.5",3,"click"],[1,"flex-1","min-w-[85px]","px-3","py-2.5","bg-gradient-to-r","from-red-600","to-rose-600","hover:from-red-700","hover:to-rose-700","text-white","font-bold","text-xs","rounded-lg","shadow-lg","hover:shadow-xl","transition-all","duration-300","transform","hover:scale-105","disabled:opacity-50","disabled:cursor-not-allowed","disabled:transform-none","flex","items-center","justify-center","gap-1.5",3,"disabled","click"],[1,"grid","grid-cols-12","gap-2","px-2","py-1.5","bg-gradient-to-r","from-white","to-gray-50","rounded-lg","hover:shadow-md","transition-all","duration-200","border","border-gray-200"],[1,"col-span-6","flex","items-center","gap-1.5"],[1,"flex","items-center","justify-center","w-6","h-6","rounded","bg-green-100"],[1,"text-green-700","font-bold","text-xs"],[1,"text-gray-800","font-semibold","text-xs"],[1,"col-span-3","text-center","text-blue-600","font-semibold","text-sm","flex","items-center","justify-center"],[1,"col-span-3","text-right","text-green-600","font-bold","text-base","flex","items-center","justify-end"]],template:function(i,r){1&i&&(D(0,"div",0),rt(1,"div",1)(2,"div",2),D(3,"div",3)(4,"div",4)(5,"div",5)(6,"mat-icon",6),j(7,"receipt_long"),S()(),D(8,"div")(9,"h2",7),j(10,"Detalle de la Orden"),S(),D(11,"p",8),j(12,"Resumen de consumo y pago"),S()()()(),D(13,"mat-dialog-content",9)(14,"div",10)(15,"h3",11)(16,"mat-icon",12),j(17,"shopping_cart"),S(),j(18," Productos Ordenados "),S(),D(19,"div",13)(20,"div",14),j(21,"Producto"),S(),D(22,"div",15),j(23,"Precio Unit."),S(),D(24,"div",16),j(25,"Subtotal"),S()(),D(26,"div",17),Se(27,Kwe,13,8,"div",18),S()(),D(28,"div",19)(29,"div",20)(30,"div",21)(31,"div",22)(32,"mat-icon",23),j(33,"calculate"),S()(),D(34,"span",24),j(35,"Total:"),S()(),D(36,"span",25),j(37),Fo(38,"currency"),S()()(),D(39,"div",10)(40,"h3",11)(41,"mat-icon",26),j(42,"local_offer"),S(),j(43," Aplicar Descuento "),S(),D(44,"mat-accordion")(45,"mat-expansion-panel",27)(46,"mat-expansion-panel-header",28)(47,"mat-panel-title",29)(48,"mat-icon",30),j(49,"sell"),S(),j(50," Escoge un descuento "),S()(),D(51,"div",31)(52,"button",32),Re("click",function(){return r.applyDiscount(0)}),D(53,"mat-icon",33),j(54,"block"),S(),D(55,"span",34),j(56,"0%"),S()(),D(57,"button",35),Re("click",function(){return r.applyDiscount(5)}),D(58,"mat-icon",33),j(59,"redeem"),S(),D(60,"span",34),j(61,"5%"),S()(),D(62,"button",36),Re("click",function(){return r.applyDiscount(10)}),D(63,"mat-icon",33),j(64,"loyalty"),S(),D(65,"span",34),j(66,"10%"),S()(),D(67,"button",37),Re("click",function(){return r.applyDiscount(15)}),D(68,"mat-icon",33),j(69,"card_giftcard"),S(),D(70,"span",34),j(71,"15%"),S()(),D(72,"button",38),Re("click",function(){return r.applyDiscount(20)}),D(73,"mat-icon",33),j(74,"stars"),S(),D(75,"span",34),j(76,"20%"),S()(),D(77,"button",39),Re("click",function(){return r.applyDiscount(25)}),D(78,"mat-icon",33),j(79,"celebration"),S(),D(80,"span",34),j(81,"25%"),S()(),D(82,"button",40),Re("click",function(){return r.applyDiscount(30)}),D(83,"mat-icon",33),j(84,"workspace_premium"),S(),D(85,"span",34),j(86,"30%"),S()(),D(87,"button",41),Re("click",function(){return r.applyDiscount(35)}),D(88,"mat-icon",33),j(89,"emoji_events"),S(),D(90,"span",34),j(91,"35%"),S()(),D(92,"button",42),Re("click",function(){return r.applyDiscount(50)}),D(93,"mat-icon",33),j(94,"military_tech"),S(),D(95,"span",34),j(96,"50%"),S()()()()()(),D(97,"div",43)(98,"div",20)(99,"div",21)(100,"div",44)(101,"mat-icon",45),j(102,"payments"),S()(),D(103,"span",46),j(104,"Total con Descuento:"),S()(),D(105,"span",47),j(106),Fo(107,"currency"),S()()(),D(108,"div",48)(109,"h3",11)(110,"mat-icon",49),j(111,"payment"),S(),j(112," M\xe9todo de Pago "),S(),D(113,"div",50)(114,"select",51),Re("ngModelChange",function(s){return r.paymentMethod=s}),D(115,"option",52),j(116,"\u{1f4b5} Efectivo"),S(),D(117,"option",53),j(118,"\u{1f3e6} Transferencia"),S(),D(119,"option",54),j(120,"\u{1f4f1} C\xf3digo QR"),S(),D(121,"option",55),j(122,"\u{1f4b3} Tarjeta Cr\xe9dito/D\xe9bito"),S()(),D(123,"mat-icon",56),j(124," expand_more "),S()()()(),D(125,"mat-dialog-actions",57)(126,"button",58)(127,"mat-icon",59),j(128,"close"),S(),j(129," Cerrar "),S(),D(130,"button",60),Re("click",function(){return r.printTicket()}),D(131,"mat-icon",59),j(132,"print"),S(),j(133," Imprimir "),S(),D(134,"button",61),Re("click",function(){return r.liberarMesa()}),D(135,"mat-icon",59),j(136,"check_circle"),S(),j(137," Liberar Mesa "),S()()()),2&i&&(ae(27),ve("ngForOf",r.data.orders),ae(10),Vi(rs(38,5,r.total)),ae(69),Vi(rs(107,7,r.discountedTotal)),ae(8),ve("ngModel",r.paymentMethod),ae(20),ve("disabled",!r.isTicketPrinted))},dependencies:[bc,fM,pM,qb,od,$u,RW,jE,zE,DG,KO,QO,SG,qa,Zk],styles:[".custom-dialog-container .mat-mdc-dialog-container{padding:0!important;overflow:hidden!important}  .custom-dialog-container .mat-mdc-dialog-surface{padding:0!important;overflow:hidden!important;border-radius:1rem!important;box-shadow:none!important}  .custom-dialog-container .mdc-dialog__surface{padding:0!important}  .custom-dialog-container{padding:0!important}"]})}}return n})();function Ywe(n,t){if(1&n){const e=Qi();D(0,"div",10)(1,"input",11),Re("change",function(r){const s=Rt(e).$implicit;return Mt(Oe().onTableSelectionChange(r,s.id))}),S(),D(2,"label",12),j(3),S()()}if(2&n){const e=t.$implicit;ae(1),Xg("id","table-",e.id,""),ae(1),Xg("for","table-",e.id,""),ae(1),Kn(" ",e.name," ")}}let Xwe=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.gestionService=r,this.tables=[],this.selectedTableIds=[]}ngOnInit(){this.loadTables()}loadTables(){this.gestionService.getTables().subscribe(e=>{this.tables=e.filter(i=>i.id!==this.data.table.id&&i.available)})}onTableSelectionChange(e,i){e.checked?this.selectedTableIds.push(i):this.selectedTableIds=this.selectedTableIds.filter(r=>r!==i)}onCancel(){this.dialogRef.close(null)}onConfirm(){this.dialogRef.close(this.selectedTableIds)}static{this.\u0275fac=function(i){return new(i||n)(N(td),N(qm),N(sa))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-link-tables-dialog"]],decls:17,vars:2,consts:[[1,"text-center","mb-3"],[1,"fw-bold","text-center"],[1,"text-primary"],[1,"table-list-container","border","rounded","p-3","overflow-auto",2,"max-height","300px"],["class","form-check d-flex align-items-center gap-2",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","mt-4","gap-2"],[1,"btn","btn-outline-secondary","d-flex","align-items-center","gap-2",3,"click"],["fontIcon","cancel"],[1,"btn","btn-primary","d-flex","align-items-center","gap-2",3,"click"],["fontIcon","link"],[1,"form-check","d-flex","align-items-center","gap-2"],["type","checkbox",1,"form-check-input","cursor-pointer",3,"id","change"],[1,"form-check-label","fs-5","table-hover",3,"for"]],template:function(i,r){1&i&&(D(0,"h2",0),j(1,"Vincular Mesas"),S(),D(2,"div")(3,"p",1),j(4," Selecciona las mesas que deseas vincular con la "),D(5,"span",2),j(6),S(),j(7,": "),S(),D(8,"div",3),Se(9,Ywe,4,3,"div",4),S()(),D(10,"div",5)(11,"button",6),Re("click",function(){return r.onCancel()}),rt(12,"mat-icon",7),j(13," Cancelar "),S(),D(14,"button",8),Re("click",function(){return r.onConfirm()}),rt(15,"mat-icon",9),j(16," Vincular "),S()()),2&i&&(ae(6),Vi(r.data.table.name),ae(3),ve("ngForOf",r.tables))},dependencies:[bc,qa],styles:['@charset "UTF-8";.table-list-container[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;padding-right:10px;margin-bottom:20px}',"\n\n  .table-hover[_ngcontent-%COMP%] {\n    transition: color 0.3s ease, text-decoration 0.3s ease;\n  }\n  \n  .table-hover[_ngcontent-%COMP%]:hover {\n    color: #007bff; \n\n    text-decoration: none;\n    cursor: pointer;\n  }\n\n  \n\n  .cursor-pointer[_ngcontent-%COMP%] {\n    cursor: pointer;\n  }"]})}}return n})();function Jwe(n,t){if(1&n&&(D(0,"p",18),j(1),S()),2&n){const e=Oe().$implicit;ae(1),Vi(e.waiterName)}}function Zwe(n,t){1&n&&(D(0,"p",18),j(1,"No asignado"),S())}function eEe(n,t){if(1&n&&(D(0,"div",10)(1,"div",11)(2,"p",19),j(3,"Administrada por:"),S(),D(4,"p",20),j(5),S()()()),2&n){const e=Oe().$implicit,i=Oe();ae(5),Vi(i.getTableNameById(e.controlledBy))}}function tEe(n,t){if(1&n&&(D(0,"span",24),j(1),S()),2&n){const e=t.$implicit,i=Oe(3);ae(1),Kn(" ",i.getTableNameById(e)," ")}}function nEe(n,t){if(1&n&&(D(0,"div",10)(1,"div",11)(2,"p",21),j(3,"Vinculada con:"),S(),D(4,"div",22),Se(5,tEe,2,1,"span",23),S()()()),2&n){const e=Oe().$implicit;ae(5),ve("ngForOf",e.linkedTables)}}function iEe(n,t){if(1&n){const e=Qi();D(0,"button",31),Re("click",function(){Rt(e);const r=Oe(2).$implicit;return Mt(Oe().openTotalDialog(r))}),D(1,"mat-icon",28),j(2,"payments"),S(),D(3,"span"),j(4,"Total"),S()()}2&n&&ve("disabled",Oe(2).$implicit.controlledBy)}function rEe(n,t){if(1&n){const e=Qi();D(0,"div",25)(1,"div",26)(2,"button",27),Re("click",function(){Rt(e);const r=Oe().$implicit;return Mt(Oe().openTableInfoDialog(r))}),D(3,"mat-icon",28),j(4,"receipt_long"),S(),D(5,"span"),j(6,"\xd3rdenes"),S()(),Se(7,iEe,5,1,"button",29),Fo(8,"async"),S(),D(9,"button",30),Re("click",function(){Rt(e);const r=Oe().$implicit;return Mt(Oe().printTicket(r.id))}),D(10,"mat-icon",28),j(11,"print"),S(),D(12,"span"),j(13,"Imprimir Comanda"),S()()()}if(2&n){const e=Oe().$implicit,i=Oe();ae(2),ve("disabled",e.controlledBy),ae(5),ve("ngIf","admin"===rs(8,2,i.role$))}}function oEe(n,t){if(1&n){const e=Qi();D(0,"div",4)(1,"div",5)(2,"div",6)(3,"h3",7),j(4),S(),D(5,"div",8),rt(6,"img",9),S()(),D(7,"div",10)(8,"div",11)(9,"p",12),j(10,"Mozo:"),S(),Se(11,Jwe,2,1,"p",13),Se(12,Zwe,2,0,"p",13),S()(),Se(13,eEe,6,1,"div",14),Se(14,nEe,6,1,"div",14),D(15,"button",15),Re("click",function(){const o=Rt(e).$implicit;return Mt(Oe().addMenuItems(o))}),D(16,"mat-icon",16),j(17,"restaurant_menu"),S(),D(18,"span"),j(19,"Ordenar"),S()(),Se(20,rEe,14,4,"div",17),S()()}if(2&n){const e=t.$implicit;ae(1),Pt("bg-gradient-to-br",!0)("from-green-500",e.available&&!e.controlledBy)("to-green-600",e.available&&!e.controlledBy)("from-red-500",!e.available||e.controlledBy)("to-red-600",!e.available||e.controlledBy),ae(3),Kn(" ",e.name," "),ae(7),ve("ngIf",null==e.waiterName?null:e.waiterName.trim()),ae(1),ve("ngIf",!(null!=e.waiterName&&e.waiterName.trim())),ae(1),ve("ngIf",e.controlledBy),ae(1),ve("ngIf",e.linkedTables&&e.linkedTables.length>0),ae(1),ve("disabled",e.controlledBy),ae(5),ve("ngIf",e.orders&&e.orders.length>0)}}let sEe=(()=>{class n{constructor(e,i,r){this.gestionService=e,this.dialog=i,this.userService=r,this.tables=[],this.waiters=[],this.selectedItems=[],this.menuItems=[],this.role$=this.userService.getRoleState()}ngOnInit(){this.loadTables(),this.loadMenu(),this.gestionService.getWaiters().subscribe({next:e=>{this.waiters=e,console.log(e,"LOS MOZOS dede HOME")},error:e=>{console.error("Error al cargar los mozos:",e)}})}loadMenu(){this.gestionService.getMenu().subscribe({next:e=>{this.menuItems=e,console.log("Men\xfa cargado:",this.menuItems)},error:e=>console.error("Error al cargar el men\xfa:",e)})}loadTables(){this.gestionService.getTables().subscribe(e=>{console.log(e,"LAS MESAS desde CARD"),this.tables=e.map(i=>{const r=this.waiters.find(o=>o._id===i.waiterId);return{...i,waiterName:r?r.name:"No asignado",available:!i.controlledBy&&i.available,linkedTables:i.linkedTables||[]}})})}addMenuItems(e){e.waiterId?this.dialog.open(_M,{width:"400px",data:{...e,waiter:this.waiters.find(r=>r._id===e.waiterId)||null}}).afterClosed().subscribe(r=>{r&&r.length>0&&this.gestionService.addItemsToTable(e.id,r).subscribe(()=>{this.loadTables()})}):this.dialog.open(vG,{width:"500px",maxWidth:"95vw",height:"auto",data:{table:e}}).afterClosed().subscribe(r=>{if(r){const{waiterId:o,waiterName:s}=r;this.gestionService.assignWaiterToTable(e.id,o).subscribe({next:()=>{e.waiterId=o,e.waiterName=s,this.gestionService.saveLog(`Se asign\xf3 el mozo <strong>${s}</strong> a la mesa <strong>${e.name}</strong>`),this.dialog.open(_M,{width:"400px",data:{...e,waiter:this.waiters.find(l=>l._id===o)||null}}).afterClosed().subscribe(l=>{l&&l.length>0&&this.gestionService.addItemsToTable(e.id,l).subscribe(()=>{this.loadTables()})})},error:a=>{console.error("Error al asignar el mozo:",a),alert("No se pudo asignar el mozo. Int\xe9ntalo nuevamente.")}})}})}openTableInfoDialog(e){e&&Array.isArray(e.orders)?this.dialog.open(kwe,{width:"500px",data:e}).afterClosed().subscribe(r=>{this.loadTables()}):console.error("La mesa no tiene \xf3rdenes o es undefined:",e)}openTotalDialog(e){e&&e.orders&&e.orders.length>0?this.dialog.open(Qwe,{width:"450px",panelClass:"custom-dialog-container",data:{tableId:e.id,orders:e.orders,tableName:e.name,waiterName:e.waiterName}}).afterClosed().subscribe(r=>{"mesa_liberada"===r?.status&&(console.log(`Mesa con ID ${r.tableId} liberada correctamente.`),this.loadTables())}):console.warn("La mesa no tiene \xf3rdenes.")}openWaiterDialog(e){this.dialog.open(vG,{width:"500px",maxWidth:"95vw",data:{table:e}}).afterClosed().subscribe(r=>{if(r){const{waiterId:o}=r;this.gestionService.assignWaiterToTable(e.id,o).subscribe({next:a=>{console.log("Mozo asignado correctamente:",a),e.waiterId=a.table.waiterId,e.waiterName=a.table.waiterName,this.gestionService.saveLog(`Se asign\xf3 el mozo <strong>${e.waiterName}</strong> a la mesa <strong>${e.name}</strong>`),this.dialog.open(_M,{width:"400px",data:{...e,waiter:this.waiters.find(d=>d._id===e.waiterId)||null}}).afterClosed().subscribe(d=>{d&&d.length>0&&this.gestionService.addItemsToTable(e.id,d).subscribe(()=>{this.loadTables()})})},error:a=>{console.error("Error al asignar el mozo:",a),alert("No se pudo asignar el mozo. Int\xe9ntalo nuevamente.")}})}})}openLinkTablesDialog(e){this.dialog.open(Xwe,{width:"400px",data:{table:e}}).afterClosed().subscribe(r=>{r&&this.gestionService.linkTables(e.id,r).subscribe({next:o=>{console.log("Mesas vinculadas correctamente:",o),this.tables=this.tables.map(s=>s.id===e.id?{...s,linkedTables:r,available:!1}:r.includes(s.id)?{...s,controlledBy:e.id,available:!1}:s)},error:o=>{console.error("Error al vincular las mesas:",o)}})})}unlinkTables(e){this.gestionService.unlinkTables(e.id,e.linkedTables).subscribe({next:r=>{console.log("Mesas desvinculadas correctamente:",r),this.loadTables()},error:r=>{console.error("Error al desvincular las mesas:",r)}})}getTableNameById(e){const i=this.tables.find(r=>r.id===e);return i?i.name:"Desconocida"}getControllingTableName(e){const i=this.tables.find(r=>r.id===e);return i?i.name:"Desconocida"}isLastLinkedTable(e,i){return e.indexOf(i)===e.length-1}printTicket(e){const i=this.tables.find(a=>a.id===e);if(!i)return void alert("Mesa no encontrada.");if(!i.orders||0===i.orders.length)return void alert("No hay \xf3rdenes registradas para imprimir.");const r=(new Date).toLocaleString(),o=`\n    <html>\n      <head>\n        <title>Ticket</title>\n        <style>\n          @page { size: 58mm landscape; margin: 0; }\n          body { font-family: 'Courier New', monospace; font-size: 14px; font-weight: bold; margin: 0; padding: 0; text-align: left; }\n          .ticket { width: 58mm; padding: 5px; }\n          .header { text-align: left; margin-bottom: 5px; }\n          .order-list { text-align: left; word-wrap: break-word; }\n          .order-item { display: flex; justify-content: space-between; width: 100%; }\n          .order-item p { margin: 0; padding-right: 5px; }\n          .totals { margin-top: 5px; text-align: left; }\n          .line { border-top: 1px dashed #000; margin: 3px 0; }\n          .logo { text-align: center; margin-bottom: 10px; }\n          .logo img { width: 70px; max-width: 58mm; height: auto; }\n        </style>\n      </head>\n      <body>\n        <div class="ticket">\n          <div class="logo"><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBUODAsLDBkSEw8VHhsgHx4bHR0hJTApISMtJB0dKjkqLTEzNjY2ICg7Pzo0PjA1NjP/wAALCADhAOEBAREA/8QAGgABAAIDAQAAAAAAAAAAAAAAAAYHBAUIA//EAFIQAAIBAwQBAgMEBQQKEAcBAAECAwQFEQAGEiEHEzEUIkEIFTJRFiNCYYEkM1ZxFxg3UlWRpKWz0iU0NVNXYmZ1goOTlbHR0+MnQ0VjcnN0of/aAAgBAQAAPwC/9NNNNNNNNYdyu1ts1OtRdLhSUMDPwWSqmWJS2CcAsQM4B6/cdVff/tCbUtqMtnhq7xPwDKVQwRZ5YKszjkCB30hHYGffEIuX2kr9LUK1rsdtpoOGGSqd52LZPYZSgAxjrH0PffUT/s2eQ/6Q/wCRU/8Aqaf2bPIf9If8ip/9TT+zZ5D/AKQ/5FT/AOpp/Zs8h/0h/wAip/8AU1KKH7SG5I6yNq+zWqelGeccAkiduusMWYDvH7J/h76m9k+0Rtav9CO7Udda5n5eo/ETwx4zj5l+c5AH7HRP5d6sjb26rFuujaqsdzgrY1/GEJDx9kDkhwy54nGQM4yOtbjTTTTTTTTTTTTTTTTUb3XvvbmzKcvebjHHOU5R0kfzzydNjCDsAlSORwueiRqhN5efr7evWo9vRfdFC2V9bIapkX5hnl7R5BU4XLAjp9V3RWrc29rpJLS01yvFY7ok055SlSflX1JD0owMZYgAD8hqyLB9nbcdwRZb1cKS0oyE+mo+IlVg2AGAIXBGTkOfp1743du8X+LrJbqG63vdX3tTvV/BtNDOq0jzMCVVvTyyYXBJMgHWSQDjWRMPEFlo7xUJs+uqPuS6pTViBHmMbqZAkhLycfSZlZSCezx5L+HUovFJZ7b+kvw3iihrfun4b4T07en+yHq458MRH+bz3jl7d40jj236V4qZvE/GloYqSSnWOzRtPVesoLKsZQDlGThgGOMH2xjWvu1v8bVN4u1ruexZ6Oqt1qF0mEcCU6vEi5IRopAGYGRlOPlLJgseC408/jnxLd6y3COvrrHNWWpblHSGpCgwEFi7NKHHIAHID9BCcYBOtBc/s73QW6Kt29f6G7xvEZQGT0fUGAU9NgXVuX5kqPbvB6ru+bP3Xseopqq6W2rt7h1eGqjcMqvklcSISA/yk4znrOpZtHznunbnGnuT/flCM/JVyETL+I9S9k9kfiDdKAMavfZflXbW9fhaWmqvhrvLEXe3zBgylfxBXwFf8xg549kDBAnGmmmmmmmmmmmmvOeeGlp5aioljhgiQvJJIwVUUDJJJ6AA+uuePIPnyaujmtezxJT07o0ctxlUrKfmxmEZ+QFR+Jhy+boKVzqp7Nt3ce9bpMtroau5VbuXnmJyAzZbMkjHAJw3bHs/mdXXY/C20dsVlFFva8QV1Zc8QUdGGeBPWxluLBgz/RQTxHzAEcmUCcWS7bgrqOzjbW1ILDaY7hLBX0dzpmp5I4MhxLCi4HzAsD0cO2OwC2sim8fVFVR21dzblrrvV226/eVNUIgpxnIYRsmWVlDciD0VB4qVHR3lt2dty0U7U9FZ6SOA1vx6xsnNY6jAHqIGyEIAGOOAPpjW81h3K7W2zU61F0uFJQwM/BZKqZYlLYJwCxAzgHr9x1C/7Nnjz+kP+RVH+pqcUNfR3OjjrKCrgq6WTPCaCQSI2Dg4YHBwQR/DWPX2O13P4k1lBBJJVUjUc03DEjQNnlHzHzBTknAPv3760cewqGgultuFmrKu3G10UlJR0SPypAGyS0kfTOSxVm+cFiiknIzrDoG3jQ0dst26KGhvVDLSVX3xXQfMQcsUUQBBzUphOKqSSfYY+eBy+OPHnkGyW+62GWTblZdXnelhdlJmKPiT9QXIwoVsCMqAGBPQA1Tm8dgbg2PWeldqXlTtx9OtgDNBISCeIcgYb5W+UgHrOMYJnGwfO10sHCg3L691to5kVGedWhPYHJmAdc56PY5e+FC66TtV1ob5a6e52ypjqaOoTnFKnsw/8QQcgg9ggg9jWZppppppppprT7m3Na9oWKa73ef0qePpVXt5XPsiD6scH/EScAEjlDyJ5NunkGsiEsfwVsgwYaFJOYD4wXZsDk3ZA6GB0PckyjYvhr16Mbh31UfctoglHKlq/wBQ8y5x87MR6SluIH7Td445VjadkqGrag2bx9SR2O32G8JBd/iKNQtaqHjII5AW5PxQZLAMeSHkv13lk2Htvalumlqj8f6NXJcTX3j05ZIJCF5yCQqOP82rFvfIyTrabd3baN1PcRZ5pKiKgqPh3qBGfSkbiCTG/s4Gcdfln2Klt5pprnjYcT+ZfIty3BuNfUtNs4PT2tp2eKN36QcSMFcREvjjybGQQSNdBzwQ1VPLT1EUc0EqFJI5FDK6kYIIPRBH01Qd4qovDXmZKqkp/R21fYkNRCqOsMHzYcpjIZkI54A6WQqAMg66A001o7xtK0XuviuU8MkN0gp5aenuFNIY54VkVlJUjokBmK5B4kkj3Oo2Fvu06M266Rffu1KKyTT3G41sgepnmBdnQIzHkpXoK2AAe3OMGsN8eFYqq3R7l2APXtk1ItQKAlzIykAhouQLNlTyKseWQcZyFFZ7N3xetiXR66zyxkSpwmp5wWimHeOQBByCcgggjsexIPWexd9WvftiFfQH0qiPC1dI7Zenc/Q/mpwcN9cfQggSjTTTTTTTWn3Nua17QsU13u8/pU8fSqvbyufZEH1Y4P8AiJOACRyBvrfV035fTX159KnjytJSI2Up0P0H5scDLfXH0AAFv+O/FlPsy0y743ZF8RUUdIa2nokQ5pwqcyWVwv60dgKelIzknBWxJduTbyeqbcYjqts19PT1FJaqqlMNVRTBfmBdSCp/PsnLFegDzyNyeRLDtq6UVpkkkrrtWVCU8dBRMjSqzY4l+TKEB5LjkRnlkZAJGZubZ9u3d8LFdp65qGHn6lDDUtFDU5xj1QuC3EqCvYwfz1C/Gs9Xsq8z+NL3LHJJEj1lpqlZFWop2Y5Tj+IOG5tg8j+PvioJtTTWvvts++9u3O0+t6Px1JLT+rx5cOaFeWMjOM5xkapP7OEi0lRue1VMMdPcI3hZo5CyzkKXVlKE9BGx7AEF8EnoC/Nc/wDneGs3Pv7a20qCmzVNE0iSkkj9a/E8gASFUQlie+ieuu+gNNNUH5XuVXt7zHt+r2osibirKdI54yEWCrVpOEaP2CxJUglj0FjIIK5F0WCqu9Va1N8t8dFcI3McohlDxS4/+ZGc5CN7gNhh2COsnR3qxXi23G5bh2wfjb3cPh6cw3KrcUlPCpwWWNcZxksQTkcnK9kq8P3749s3lP4y57aq4Ib7b6tqGrkkR0jlePAZH+XPJQRhwDkfL2MFefLBf71sbcq19A0lLX0zmKaCZSAwB+aORejjI7HRBGRggEdd7F31a9+2IV9AfSqI8LV0jtl6dz9D+anBw31x9CCBKNNNNNNec88NLTy1FRLHDBEheSSRgqooGSST0AB9dcgeS/Jddv8AugRBJTWWncmlpCeyfb1JMdFyPp7KDge5LTzxvsmxbLsVJ5B3xVQQrJwe3QuDII+XaSFVBLSEfMFAPEDkex8lr2jb9fdb7T7l3VSwQXa3y1MNvgo6qR4UgfCh2B6MhAb5gFyrDkoIAWUV9L8dbqmj+Inp/XiaP1qd+EkfIEckb6MM5B+h1Qnl3x0u0zSb32qskD0dQJa1pqlpmEpkBjm/W8ixLnDZJ916/EdXHsvdlHvba9Le6NPS9TKTQGQO0MinDKSP4EZwSpU4Gca0flSxzVe2juK2VUlHfNvJJWUVSshUBQAZUYYIYMinojsgAniWBlliuf33t22Xb0fR+OpIqj0uXLhzQNxzgZxnGcDWw01B92bDqLjeF3Lte6fcm5Y4miaoEYeOrTjgJKp6OCFw2DgAdHivHDnj8xTU8sSTbKgd0KrLGKkshI/EOQIyPfsEfmDrM2p41o7BfajcdzuE973HU59SvqUChM5H6tBnh8uF9zgDA4gkanGmmqHpW/TH7UU8olgqqGwxMFSaPHH014EKOPbLPIWBP5ZB6XVyX/cVo2ta2uV6ro6SkDhObAsWY+wVQCWPucAHoE+wOq/8Z1+/IqhqG7WW5T7flqJWo7jdqlEraeIF+KyoTyckhR7DGSQSuMSzeVqrKiKkvVFX3VJLN6lUbdQTFBceK8hC4AOcsij2PRYYy2RXe99i03lCzC+Wyljtm8YKeN6y2SzJ6hDLlUlAPyOVHyMwUkYDAfsUp4/3jUbG3bTXaL5qdsQ1kYQMZICwLBckYboEdjsDPWQez6Ctp7nbqavo5PUpaqJZoX4kckYAqcHsZBHvrI00001Q/wBoLfSRUa7Mojymm4T1zhlIVASUiI7IYkK59sAL7hjiIeFPHH6V3gX65xQS2SglKNDL83xEwUELxz+FeSsc9HpcEFsXHY6cb/vNTuKonvMdj4NQybdu9FGIXkjYEvxPIEBvrjmHQjlgcdWJprHr6GnuduqaCsj9SlqomhmTkRyRgQwyOxkE+2ufLHX13gzyDU2i8mrbadydmppQ3qKBkcZelGXVcK6qAewcMAmZvcvLC7lqF2945SS43iqQH46WFo6ejTJDSPzGSV6644yw/EfkM82rt6n2pte3WOlbnHSRBS+CPUcnLvgk45MWOM9ZwOtbjTWvud9s9k9L72utDQetn0/iqhIueMZxyIzjI/xjWw00001zJ4lvV6r91bnvFo27HX364uD8Q0xhpKJZXZnZ8klhz9MhBliqNg9HNx7d8epBcY9w7qq/v7cpijVqidF9GmKnkBAnEBcHHzYySCRx5MDONNQfcFmnse4xu+zpaqSM/rNw1dWJXmkpY0A4xAA8cKCxC4yyR5yMg1J5p2paK610fkHa4jloa9/5a8GeBZvwy8cfISwZXyR8xUY5Fs+fgHfSWe8SbVrjilucoelkLKqxz8cEHOCeYVQOz8wUAfMSOl9NNNafdW4afam17jfKpecdJEWCZI9RycImQDjkxUZx1nJ61xhQ0l03pu2OnjPr3O61ZLuUwObsSzsFHSjJY4HQB/LXU90syUtHYfHlDabrFZp4hyvNFIsZpHgIlViVU4kZ0BLELktkEnOJxTGng40EU/OSniTKPMZJAhyFZixLHPFvmPuVPZOdZGmmsO5Wm23mnWnulvpK6BX5rHVQrKobBGQGBGcE9/vOlttNts1O1Pa7fSUMDPzaOlhWJS2AMkKAM4A7/cNZmmoP5X3jUbJ2NNX0PVfUSrTUrlA6xuwJLEE/RVbHv83HIIzqu9qeFq7dNQN0eQa6rarrH9Z6EfJIwyvH1G/YBUEemoBUce1I4i/NNNNec8ENVTy09RFHNBKhSSORQyupGCCD0QR9NedDQUdso46OgpIKSljzwhgjEaLk5OFHQyST/HWRpppqv6OslsW722jfar7xob36i2ijitqR01JSxxsWidsAN18nEcsBFJxzxrmTfGza7Yu5ZLPXSRzAoJaedOhNESQGx7qcqQQfYg+4wT1X4y3d+mmxqK5Styrov5PW9Y/XKBlvYD5gVfA6HLH01MNNNc6faM3Q090t+14JIzBTIKup4urH1WyqKwxlSq5Pv2JB10Dr08DbTqKe3XTept/xdVHFJBaqdyI/VcDLkMy4XJxGHB6zICNWn4/sENHHcNzNaqu0XDcLrU1lunnEogYM5BB4ggtzLFT7FsYGMahdtTyNYLxfN7QWGC50l7lEslslk9GvhgjWQQjAHEMEKgqObHoYzkiebY8jbc3VUPRUtTJSXSN2SS216ejUIwLZHEnDEBCSFJwPfGpZpppppqD+V9nVG9tjTUFD3X08q1NKhcIsjqCCpJH1Vmx7fNxyQM6j+zvLqLWfoxvtPufcNLySaon4xwS8QCCWzhWYZP8AeHGVPzBdWxppppppprDuV2ttmp1qLpcKShgZ+CyVUyxKWwTgFiBnAPX7jqN2zynsW7+r8Nuahj9LHL4tjTZzn29ULy9vpnHWfca3G6LPWX7bdXbKC7T2mqm4cK2DPOLDhjjDKewCPce+qj8rQQ+SfFdt3rZoqsJQPK/oSqOZhL8JCVXl2DGrZ5ABQxOoZ4B3Mll3zJa6mf06W7xCJQeIUzqcx5Y9jILqAPdnUY/LqfTTXDF8udZu7dtbcRDPJVXKrLRQBjM45NhI1OMtgcVAA+gAH010nuDaS0e09r+OaazXK4W2qfjV19FUtAKYoyu8r8g6kMWdgjHGRhewuJpuPe+2to+mL5d4KSSTHGLDSSEHOG4KC3H5SOWMZGM51B637QuyqSskghiutbGuMTwU6hHyM9B3VuvbsD2/LvVabr33W+VKcpbfHMdTPTpxlq40lqp4shuGHiCFQCXPFuSk9461P/FzeWaOvoaXclJJNYZkLvUV8qNUQAqzL+36mSxUEOCQOvlxq5NNNNNNafcO1bFuujFLfLZBWxr+AuCHj7BPFxhlzxGcEZxg9ar+ot+5fE0UdfQXGu3DtCD5au31IV6miiCqPUjfrkq8T8vyqAfb3dbY000001j19bT2y3VNfWSenS0sTTTPxJ4ooJY4HZ6B9tc8Wnam4PON9qNy3upnte3llxSwBmkBA4qywhjgdL80mMF/2TghbHofBewKSjjgmtc9bIuczz1cgd8nPYQqvXt0B7fn3rH2dBdNgb0/Q653Oe4Wa5xNJYp55ObxekBzgIx1hCDnIT5OgCxA2FNFbqTfN92jcrjfLq1/pGrBBUMz01LTsXRolZTmPJL94UY4LnkBy5cutFXbJ3tUUsUsiVlprcwTPDxLFGyknBsjBAVgDkEEe412vablDebNQ3SnWRYK2njqI1kADBXUMAcEjOD+Z1mag/l68/cni69yq8AmqYhSRpMfx+qeDBRkZYIXYf8A45wQDrnzwnYFv3k2haVY2gtyNWurMyklCAnHHuRIyHBwMA+/seg7JQ/G+Vtw3qe0XWhmpKSKhhnqZ+cFXGx5lo1wQuCg6VsfNllVidR/dXhj9Nrjcbvd77PDc5pSlGIF509PTqcIpRvmLFQWbDKOTnAOO9HZoofGEdHTby2DbWpKV1MW5LbTCoCNyTDylx6ikMxPLrsAIhA1cFt3HZbvZmvFBdKSe3onOSoWUBYgFDHnn8BCkEhsEfXGtppppppppqF32vbeUd12rYzIY1dKa6XEMqxQozfroY2Ktzm9PIxxwvLtgwAMwgghpaeKnp4o4YIkCRxxqFVFAwAAOgAPpr000001p92UNRc9m3ygo4/Uqqq3zwwpyA5O0bBRk9DJI99afxZVUdZ4u29LQ0/oQrSCNk4BcyISkjYH986s2fc5yeydTDVP+Ra/7x8xbAtNnq+dzoat5auKGTi0ULemzBjkDuNJCVzkr9PmGZR5HqHtcFlvc+4a61Wq33CJ6yKkpWl+JBdQBIykFYwOWc5B5DotxBpj7RFk+A3zSXaOn4Q3KkHOXnn1JozxbrPWEMQ9gD/XnVj/AGfbz94eOmtzvB6ltq3jWND84jf9YGYZ+rNIAeh8v5g6tjVJ/aSuUMW1bNa2WT16itNQjADiFjQqwPec5lXHX0P8dB9nmkWip907jkt1XUPS06RQNAjM0owzyRoMgM54xde/a+2e7b8Z2ajsmy4IKBL5DSyyySJTXsBZ4O+JXiAAqkqWA/45P11MNNU/vDw1a7vvTb09qs0FHbGlka8NA3BCihCiCMMOPLiy5QdcuR1cGmmmmmmmmmmvOeeGlp5aioljhgiQvJJIwVUUDJJJ6AA+uoX/AGYNgfePwP6Rwet6vpcvSk9PlnGfU48OOf2s8cd5x3qYUNfR3OjjrKCrgq6WTPCaCQSI2Dg4YHBwQR/DWRpqs7xtjd+1Lzc73sB6Srgubmess9wdivxBYZliPJQCRkkFgOvr8oWCVe9PNO54haaTbM9rkn5A1ENBJTnjxOR6kzFU/MEENkDBz7zvxT41m2jHPfb5PJUbkuKH4gmUuIVZgxUnPzuWALN32MD6lppupqiPa9xmpbx9zyQRGY1/wwqPRRDyc+mfxfKGH8eu9Uv5kjp9zeKdt7noq+e7fCS+g9alOYklDApJKyEZTMkSgewHLHeRrE+zVcoYrzf7WyyevUU8VQjADiFjZlYHvOcyrjr6H+PReucPtJ3P1dw2O0+jj4akeo9Xl+L1X48cY6x6Oc575fTHeZ4wvENi+z/umvnnq6dBWyxCekUNLE0kcMauoLL2rOD+Ie3vq69pzfEbNsc/xM9V6lvgf16gYklzGp5OMt8x9z2ez7n31uNNNNNNNau/7itG1rW1yvVdHSUgcJzYFizH2CqASx9zgA9An2B1B4fKV3vtaV2hsW5Xi38GZbhUTijil4uVPAupDD2+ob3yowdbCOi8pXBJqeuu+2LSjJlKq3Uk1RKrBh1xlYLgjOSc/wBX1Hn+iXkP/hP/AMwU/wD56fol5D/4T/8AMFP/AOet4RvalqEZZNv3SBkYOhSagZGyOJDZmDDHLIwv071IIDM1PE1RHHHOUBkSNy6q2OwGIBIz9cDP5DVH+Str733/AOSIdvLHJS7ZgRJoqrgfQAKgO7YPzyhiyqnRx3gAsxllD4L2BSUccE1rnrZFzmeerkDvk57CFV69ugPb8+9Rvx7RzeN/LNz2NLVySWu5U/xdtM2SzsP3KeKnisgYkDl6SnroG7NNNNNNUfuCrqKr7Nl2SqvVqu01NLHTma1xhIYwlTGAgAAHQxghVBUrgEfM0A8BXP4DyjDTej6n3hSTU/Llj08AS8sY7/msY698/TB6v1zB9o3+6HQf81R/6WXU72hVLR/ZopZnvsliThKjXKOBpmgDVTL0q95OeOR2M5Htq2LSzNZqFnr47i5p4y1bGqqtQeI/WAL0A3vgdd9azNNNNNNNVH5Os96Te1r3PHtePdVlo6JoXtjOWMcrMQZFjwQSQydhX6Q5AwrDMpfPWzpLjPRXGO62mSHkHNdSezg4KFYyzBvf3A9j9dSS2+TdkXWnaen3PbURX4EVUwp2zgHpZOJI798Y9/yOtpQ7s23c6yOjoNwWqrqpM8IYK2OR2wMnCg5OACf4a3Go/wDp3s/+ldj/AO8Yf9bUPufn3YtB6Xw1RXXLnnl8LSlfTxj39Up75+mfY5x1myKCtp7nbqavo5PUpaqJZoX4kckYAqcHsZBHvrI1V9sip90efrtdVWB4dtW+OiR0nLEzyFyWAAx8oaWMgk4I/P8ADaGmmmmmqnNDUT+GN40lXHY7ZUU/xfqR7ZYRxgxKDxkxnDNwwynvgwBAOQKY8J/3X7F/1/8AoJNdf65g+0b/AHQ6D/mqP/Sy6meyK1q37N5pbXdrbQVdO8lNPUXMKKeItPyZX5qykNHIB7EZcD39rkoJviLdTT/EwVXqRK/r04xHLkA8kGW+U+47PR9z76yNNNNNNNUWdx11v+1PUUD3SSK31SR00kMsv6th8MHjUA9A+q3WO8uQPxHNyXOxWe9+l97Wqhr/AEc+n8VTpLwzjOOQOM4H+Iaic/hnx9U1Es77djDyOXYR1MyKCTnpVcBR+4AAfTUb/tctn/4Svn/bw/8Apaf2uWz/APCV8/7eH/0tP7XLZ/8AhK+f9vD/AOlqSWDw7sjb6Lxs8dwn4FGmuOJywLZ/ARwBHQBCg4/rOZ5qL7s3DUUnGwWJfX3LcIm+FQEcaVPY1MpIIWNT7ZB5MAoB7xmbS21DtTb8VtSokq5y7TVVZKAJKmZzl5HPuST12ScAAk4zreaaaaaaqueOHbvhzeElbtiPaoqUqP5JHViqV5JY1jVgU6QFiF4gALxz0NUp4T/uv2L/AK//AEEmuv8AXOn2lLbDFebBdFaT16inlp3UkcQsbBlI6znMrZ7+g/jn+EnhuPijdFpgoqS5XCKoeoSgq4g8UjNEvohuWFILxH69Yz10dXJtSrSu2laaiMUK8qSMOlA6tBG4UBkjKkrxVgVGCcY1uNNNNNNNUX50o2se6tp75jp5KhKOoSKdDKqqTG/qxqOsgt+tyewOI9vrdlBW09zt1NX0cnqUtVEs0L8SOSMAVOD2Mgj31kaaaaaa844IYXmeKKNHmfnKyqAXbiFy35niqjJ+gA+mvTTTTTTWPX1XwNuqaz4eeo9CJpPRp05yScQTxRfqxxgD6k6ou722h2/9mSthW3VdnnrqhXakuM3KdpfiFH1VMn04gQAo+UZ77Jin2eqGnq/JUs08fOSkt8s0B5EcHLIhPXv8rsO/z/PGup9U/wDaIsnx+xqS7R0/Oa21Y5y88enDIOLdZ7y4iHsSP6s6hn2c6yGW87hsNRSRzwV1EssnqYZSqNwKFSMMGE3/APnsc9XP46o6627TW3123Y7AKaolWno0rPiR6TNzDc+ROcsQcn3UnABAEs0000001o9x2ah3ntO5WZ542gqkeH1UPIRyo3R6IyUkXtc+6kH66r/w5uualp5Ng7kMlLuC1uyQQ1GcywgcgAxJDFQTgDA4cSuQCRbmmmmmmmmmmmmmo/viqo6PY16luNPXT0LUjx1CUCBphG44Myg9fKGLEnoAE/TVR+fa1qHYm1bE8VW7yv6zTVkyvODDGExIVyGc+rksDjKnGc68/s2WT/dy/wAtP/eUdPPz/wCnKvHP/wCk5I/qPvroDUb39YG3RsK82eJZGnnpy0CIyqXlQh0XLdAFlUHP0J7HvrlDxneodveSLHcaj0/QWo9KRpJBGsayKYy5Y9AKH5fw9x766f29ZVsHkHcSUVgkhpLmiV810NWzq8pJHpCMqOJ5eq5wzY5DOAyqJpppppppqL7Mq043u0SD06633WqM0RdSeE0rzxOACflZJBjOOww+msfe2yf0j+Gu1pqvuzc9u+aguCj+v9XJ0eUZyRjBxk9EFlbX0PkGsscsdv8AINt+56p5THFcoFL2+fLEJiTJMbEBjh8YC8iVzgTihr6O50cdZQVcFXSyZ4TQSCRGwcHDA4OCCP4ayNNNNaOTeFgi3ZDtdrlGb1KnNaVUZiBxLfMwHFTxUnBIOMfmM7zTTTTTUD3dcmqN+7U25DcbzbZ5Kj40SU8K/C1iRhmeF35Bs4X2GRhxlTkEUR52vUN48m1EMHplLdTx0hkSQOHYFnb29iGcqR3gqf6hd/hOwNYfGVC0qyLPcXatdWZWAD4CccewMaocHJyT7ewsTTXFnkna67Q37crVBHItHzE1JyRgPSccgFJJLBTlOWeyh+uRq85rtR7u8dbY3t9yV2473ZZUPw1JKI3FQOKyF1TPy8lSQBVJ/BkBS2rg0000001G9y7amuNRBerLUR0O4qJCtPUuCY5485MEwHbRMf4qfmXvIOrofJVHT1kdt3db59r3J88BXOGppcDkfTqB8jYXjnOMFgvZ1NIJ4aqniqKeWOaCVA8ckbBldSMggjogj66i8njTZ7XSG5wWWOhrIU4Ry26aSjKjvP8AMsoyQxBPuR17almmoHf/ADFsjb6NyvEdwn4B1ht2JywLY/GDwBHZILA4/rGasu3kHyN5KrJaTZVtrqO0GVo45qZfTduIVv1k5PFG6zhWX8fElsjM/wDFviKn2Pyud1eCtvrclSSPJjpk9sJkAliPdiB0eI6yWtDTTTTTVZ7e3XTSru/fdTdLzDaadxTtZq+JIvhZYY15BQXPzsxAABTLMQQTgjmShpLpvTdsdPGfXud1qyXcpgc3YlnYKOlGSxwOgD+Wu36Chp7Zbqago4/TpaWJYYU5E8UUAKMns9Ae+sjTVJ/aJ2u1dt+h3JTxx87c5hqiEUMYpCApLZyQr9BcH+cJ6wcwjwTuuGg3BU7Wuhjktd6Qosc+DGJsYwQx44dcqRglj6Y1d+xQ1ip6jbD2SS0W+21Hwttnqa1ZWuJIeRnUYHZX5yBkDLAY4ECaaaaaaaax62go7nRyUdfSQVdLJjnDPGJEbByMqejggH+GoPU+HttC4tX2We67eqn5+q9nrGh9QMQeJBBCqCOlXA/d0Ma+l8a7xtlxnqbd5SuojfkqR11N8XxQnIB9STiW6HzBR9fYHGlz8c76u/pfE+VK6P0s8fhbeKbOce/pSLy9vrnHePc6083gasu9ZTNuXft1u1LDyxG8Z5rkfss7uF7C5+U5x/ESSweE9kWF1la3yXOdXLLJcXEoAK448AAhHuRlScn36GLAgghpaeKnp4o4YIkCRxxqFVFAwAAOgAPpr0000001D9/XD+R0W3ozfKaqvkvw9NcLVHk0sikMGduQIXAJIHZRZPbGdVR5w3R93bdtOwUrp62up4oJLhWerj1eKEBXXJJZjiQhj18h7zkef2c9rtPdLhuieOMwUyGkpuSKx9VsM7Kc5UquB7diQ99Ea6L001j19DT3O3VNBWR+pS1UTQzJyI5IwIYZHYyCfbXFm7dtXLx/vGW2vUSCeldZqWsiDR8190kQ+4IIx0ThlIBOM66Dtl4ffmy6TfdjsNDVb3tmaWJHZkRHJAkUksgZTG5cAsePMgEnObIs13o73bkqqOsoarGEmNDUiojSTALKHGM4yPcA4IOBnWw0000000000000000001V9FfKy22e9eS77HfLappPTTb1bUEwpIGCqyDjleZEYBKAqWkJyrA65w/2Y8h75/wB9ud3q/wDjskeT/wBJhGi/18VX92ux9q7ep9qbXt1jpW5x0kQUvgj1HJy74JOOTFjjPWcDrW40001V/mbx1+mNiF1oOrvbInZEWLkaqP3MfQ5FhglB2MsRj5sihPGm/pvH+5TWNFJUW+pQRVlOjkErnIdRnBde8Z+hYZGcjov06fY9V9+0Nfard4/+E9aeGnpzK0tRLJ1KhQZ4kNGAcsAowFAwVsDTTTTWj3Tuqh2ja4q6uhq6gz1CU1PT0kXqSzyvnCqMgZwCeyPbHuQDp4d5XyiNEdx7Oq7fHW1ENNHLSVkVWsMkkhQCbHEoM8TyHIfOBkN8uthvTeVDse10dwuEcjQVFbFSll9ow2SztjJwqqxwASSAPrkZm6rzUbe2vcbxS2/4+SiiMxp/WEXJAcueRBxheTe3eMDs6ido8g7krI7XX3HY0lFZbg8CrXJdYZiomZVib08BsFnTP1AJOOsax4/Im8KncF2stH4+jqqu1Oi1Pp3uNVAcFkYF0GQyjP5j6gHrXncvLFxoK/btGNqYkvUrUoM9xVBDVJOYZYzwR8qrcTzHuG6GQRrcbKuG4qe7V9g3BabqrJzqoLlUVUdVDKpfBQSJHGF7PJUI5BSelAUanGmmmmq7ulFD5MvL2yqhttx2ZTok8VfQV4eQ1isMxtxb5QY3cEYPTAhgSAtIeXvJa76ukNDbBIlloXYxMxZTUuevUK+wAGQoIyAzE45cRY/gXx8tttY3bc4I2rK1P5ArxsHp4uwX76y4xggfhxg4cjV2aaaaaa5086eNGo6iq3razH8JK6mvp8KnpOSFEi4xkMxHIe/I57BPGP8AibyzNs2oSz3h5Jtvyv0cFmo2J7ZR7lCe2Uf1jvIa91lu+zq8rVfF3q23S51NTPXSTiNbRCVDKpDsR6ShX+bKgY6BJCmWUNfR3OjjrKCrgq6WTPCaCQSI2Dg4YHBwQR/DWRppqr/KVP6G7diX6rofXtFuuDLVzNL6aUzSNGI5Hb6KrLyyflPEKSOQzPL3f6Hb6ULVzSZrq2Kip1ReRaWRsD9wAGSSfoD7nANb7utu49+7lvFPt5rNNaaKie0Tm5HknxEhSSVovTDHmnGDt8BWU4GQTr0sV2qLh4D3BQV1N8PX2O31lqqkGOIeGEgYIY5+Urk/33LHWNbDxpZdwUkVpudVefjbJPt+lSnppGZHpX4qeIRcRsuM/OwL/hXOAS2rpbXd7l5g3m1qvElCKettEtVCFHGqhVOToWxyU4Bxg4OSrDByNh5AAbyf48Q3KS2l3r0WpjMfJWaJAoHqKy5YkLgg55dd41INl0y7Yt1HtK4XeOuvSpU1jNli8sTVDH1WzkgkyLnJ7PLBbBOpZpppqP1NTcbteJLdbpa61fdlXTy1FTNQq8NfCylmiiYn+oMw7U/nnVGeWfJdNFTvsrZgpKWzomKmooCgjmDjkY4+HQT5vmI7Y5HQzy0/hvxo28Lot8uBjFlt9QA0ZCuamVcN6ZU5HDBXkSOwcD3JXqvTTTTTTXnPBDVU8tPURRzQSoUkjkUMrqRggg9EEfTXLHlnxNNs2oe8WdJJtvyv2Mlmo2J6Vj7lCelY/wBR7wW8/FvlH9F+W39wL8Ztiq5I6SJ6nw3L8RC/tRnJ5J+8kd5DXHir2dQVG4NpSSbi278PHS0FgtaIY4eLANKJVLM55epyIVmJcculys8tl6oLt6sdLVQPVU+BVUqzxySUrnPySBGYKwIYe/upxnWw015zwQ1VPLT1EUc0EqFJI5FDK6kYIIPRBH01q6Tae27fKZaLb9qppDxy8NFGhPFg47A+jKrD96g+41kWyxWeyer902qhoPWx6nwlOkXPGcZ4gZxk/wCM61/6CbP/AKKWP/u6H/V1tLbabbZqdqe12+koYGfm0dLCsSlsAZIUAZwB3+4aw6Hae27ZWR1lBt+1UlVHnhNBRRxuuRg4YDIyCR/HXpcttWG81C1F0sltrp1TgslVSpKwXJOAWBOMk9fvOlt21YbNUNUWuyW2hnZODSUtKkTFcg4JUA4yB1+4a2mmserraehiElRJx5cuCKpZ5CFLlUUZZ24qx4qCTg9artqxfKdketkqI6LYk1FKtZHVxNDVesj5EgfPAInBWDAsueasD+zWnlHynTtbl2Ts2X07LSxLTT1Ubk+sijiIkYnJjAGC2fn9vw5LxPxp40rt/wB0LuZKay07gVVWB2T7+nHnouR9fZQcnOQG63tVqobHa6e2WymjpqOnThFEnso/8SSckk9kkk9nWZppppppprznghqqeWnqIo5oJUKSRyKGV1IwQQeiCPprnjyX4Lmo3F02VSSTUnA+vbhIWeLiueUZY5cHH4clsnrIOFrfY/kG9bEukc9DPJNQFyai3vIRFMDgE49lfCjDgZGB7jIN72e/7V8iOqbSusm1Lt95x1VWqQRQ1VwVVdiOmIkB5MTy54IJZcHuSfpndLHcfht1Wn0I7he/u+zyUQ5+pGxwjy9lU+n7XI/NhAFJMwpa+jrvX+Dq4Kj0JWhm9GQP6ci/iRsHphkZB7GsjTTTTTTTTUTn3lNU3Sjptu2iS8U/3nJbrlUrKYRQSJxLFgy/OApY5HRIABywGoveo7Rte1266+UbzHebtQ1ss9pkghML9cWVVjjIDH9WhJf5VLhScYJpTf3lq+7650f+59mbgfgInDcmXvLvgFuznHS9L1kZ1IPGXhWs3J8FfNwD4ayP+sSmyVmql64/T5Y277zyIHQAYNrpehoKO2UcdHQUkFJSx54QwRiNFycnCjoZJJ/jrI00000000001W/kfxFa98+rcqZ/gb6IuKTD+bnIxxEoxk9DiGHYBGeQUDXNm69ibj2ZUFLzbpI4C/GOrj+eCTtsYcdAkKTxOGx2QNTjann/AHHY6cUt5p473AicY3kk9KdcBQMuAQwwD7qWJbJb6as/aNd4/wBwPSUm0b7V2Z1rRcZrVTS/DmolKglGVweSBUIKRHgB/wBE63n/AMRrVbv/AKVe66a9/wD88cNAR/AqwI/+4QG/bxpXeTbdZfvSW/Wu62uko7hHRQVM9K3Cr5Zy8ePdRwkY4z8oUjJYLrcNvfbSS3WNrvAPumWKGuchuEDytwQM2OP4uj38uDyxg6zKncthoqipp6u922CelQPURy1SK0KkqAXBOVBLr2f74fmNen37Z/8ACtD/ALU+N/2wn+1/9+9/5v8A43t+/WHHvHbk10tttp7xSVFXckkekSnf1RIqZ5HkuQB8rDJIyVYDJB1q4fI1rq4LBUUNBdaylvlXLTUs8FNlEKOVLSZIKqQrOOs8VYkDBGsemrd9bjo7bVxUEG2mp7rxr6OqcTvU0qEBijhcLk8gBx7wGDgfi0df+he13I3zuuO8XClvBrqJqgs1VRFlVkThESQnyhscVQkr8o61BN3faIuNZyptqUf3fD1/LKpVeY/hPSdovYYd88gg/KdVfbLJunf14laip6671zY9aokctj5Tx5yOcDpSByPeMDXQex/BFl288dffpI7zXhCPQeIGljJUZ+UglyDywzYGCDxBAOrc000000000000015zwQ1VPLT1EUc0EqFJI5FDK6kYIIPRBH01T+6/s92C405l21NJaatEwsUjtNBIQG9+RLKSSo5AkAD8JOqc3D4j3rt6sED2ae4Rt+Ce2o1QjYAJ6A5L74+YDODjIGdauwb+3XtdFis98q4IFQosDESxIC3I8Y3BUHPeQM9n8zqxLN9o7cFJwS72mhuEaRBeULNTyO4x87H5l77yAo7PWAMa2EPnnbdfWVK3jYUApa7j8dIkkc7zcB+r5KyKHwQMcm6+ntjWXX+XPFt0qLjUVu1blNPcqdaarkalh5SxqcgZ9XIIOPmGD8qd/KuPRPMXi9IqWM7UrpfhKQUcDzUMEjpAFKenyaQsV4lgQT3k59zrzk86bJoUhNo2bJzoEzbg0MMAiaRj6oUry9MFcHK55EkEDGTrLn9pO8S+l907foaXGfU+Kmeo5e2MceGPr+ecj2x3Xd68mb03DT/D3HcFW0HBkaOHjAsisMMHEYUOMfRs+5/M689veOt3bqo2rLPZJ56Ue0zskSP2R8rOQGwVIPHOPrjVz7R+zvbqPjU7rrPvCbv+R0jMkI/EO36duuJ64YII+YauihoKO2UcdHQUkFJSx54QwRiNFycnCjoZJJ/jrI000000000000000001o7/s7bm6UZb1Z6SrcoE9Zk4yqobkAsgwyjOegR7n8zqD3L7P2yK6oWWnFyt6BOJipakMpOT8x9RXOe8e+Oh176jdb9mmjkrJGoNzzwUpxwjnoxK69d5YMoPef2R/H31j/wBrN/yu/wA2/wDu6f2s3/K7/Nv/ALun9rN/yu/zb/7upRQ/Z62VSVkc80t1rY1zmCeoUI+Rjsoit179Ee35danFk2PtbbnoNabDQ080HL06j0g8y8s5/WNlz0SPf269tSDTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTX/2Q==\n" alt="Logo"></div>\n          <div class="header">\n            <h2 style="font-size: 14px;">\u{1f37d}\ufe0f NUOVO CAFFE</h2>\n            <p style="font-size: 14px;">Mesa: <strong>${i.name}</strong></p>\n            <p>Mozo: <strong>${i.waiterName||"No asignado"}</strong></p>\n            <p>${r}</p>\n          </div>\n          <div class="line"></div>\n          <div class="order-list">\n            ${i.orders.map(a=>{const c=this.menuItems.find(l=>l._id===a.menuItem);return`\n                <div class="order-item">\n                  <p>${c?c.name:"Producto desconocido"}</p>\n                  <p>x${a.quantity}</p>\n                </div>\n              `}).join("")}\n          </div>\n          <div class="line"></div>\n          <div class="totals"><p>Aclaraci\xf3n:</p></div>\n          <div class="line"></div>\n          <br><br>\n          <div class="line"></div>\n          <p style="text-align:center; font-size:8px;"><br></p>\n        </div>\n        <script>\n          window.print();\n          window.onafterprint = function() {\n            window.close();\n            window.opener.postMessage('closeDialog', '*');\n          }\n        <\/script>\n      </body>\n    </html>\n  `;for(let a=0;a<2;a++){const c=window.open("","","width=900,height=900");c&&(c.document.write(o),c.document.close(),c.focus())}location.reload(),this.gestionService.saveLog(`Se imprimi\xf3 <strong>la comanda</strong> de la mesa <strong>${i.name}</strong> atendida por <strong>${i.waiterName||"Sin asignar"}</strong>`)}static{this.\u0275fac=function(i){return new(i||n)(N(sa),N(UE),N(tp))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-card"]],decls:4,vars:1,consts:[[1,"w-full","min-h-screen","bg-gradient-to-br","from-gray-50","to-gray-100","px-3","sm:px-6","lg:px-8","py-6","sm:py-8","lg:py-10"],[1,"max-w-[1920px]","mx-auto"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","2xl:grid-cols-5","gap-5","sm:gap-6","lg:gap-8"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"relative","rounded-2xl","overflow-visible","transition-all","duration-300","ease-out","hover:-translate-y-1","shadow-lg","hover:shadow-2xl","p-4"],[1,"flex","items-start","justify-between","mb-3"],[1,"text-xl","font-bold","text-white"],[1,"relative","w-10","h-10","rounded-full","overflow-hidden","shadow-md","flex-shrink-0"],["src","./assets/nuovo-cafe.jpg","alt","table",1,"w-full","h-full","object-cover"],[1,"mb-2"],[1,"px-3","py-2","bg-black/25","backdrop-blur-sm","rounded-xl"],[1,"text-xs","text-white/80","font-medium","mb-0.5"],["class","font-bold text-white text-sm",4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"w-full","flex","items-center","justify-center","gap-2","px-3","py-2.5","text-sm","font-bold","rounded-xl","transition-all","duration-200","disabled:opacity-50","disabled:cursor-not-allowed","bg-black/30","hover:bg-black/40","text-white","shadow-md","hover:shadow-lg","mb-2",3,"disabled","click"],[1,"!w-5","!h-5","!text-lg"],["class","space-y-2",4,"ngIf"],[1,"font-bold","text-white","text-sm"],[1,"text-xs","font-medium","text-white/80","mb-0.5"],[1,"text-xs","font-bold","text-white"],[1,"text-xs","font-medium","text-white/80","mb-1.5"],[1,"flex","flex-wrap","gap-1"],["class","inline-flex items-center px-2 py-0.5 bg-white/30 backdrop-blur-sm text-white rounded-lg text-xs font-bold",4,"ngFor","ngForOf"],[1,"inline-flex","items-center","px-2","py-0.5","bg-white/30","backdrop-blur-sm","text-white","rounded-lg","text-xs","font-bold"],[1,"space-y-2"],[1,"grid","grid-cols-2","gap-2"],[1,"flex","items-center","justify-center","gap-1.5","px-2","py-2","text-xs","font-bold","rounded-xl","bg-black/30","hover:bg-black/40","text-white","transition-all","duration-200","disabled:opacity-50","disabled:cursor-not-allowed","shadow-md","hover:shadow-lg",3,"disabled","click"],[1,"!w-4","!h-4","!text-sm"],["class","flex items-center justify-center gap-1.5 px-2 py-2 text-xs font-bold rounded-xl bg-black/30 hover:bg-black/40 text-white transition-all duration-200 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",3,"disabled","click",4,"ngIf"],[1,"w-full","flex","items-center","justify-center","gap-1.5","px-3","py-2","text-xs","font-bold","rounded-xl","bg-black/30","hover:bg-black/40","text-white","transition-all","duration-200","shadow-md","hover:shadow-lg",3,"click"],[1,"flex","items-center","justify-center","gap-1.5","px-2","py-2","text-xs","font-bold","rounded-xl","bg-black/30","hover:bg-black/40","text-white","transition-all","duration-200","shadow-md","hover:shadow-lg","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled","click"]],template:function(i,r){1&i&&(D(0,"div",0)(1,"div",1)(2,"div",2),Se(3,oEe,21,17,"div",3),S()()()),2&i&&(ae(3),ve("ngForOf",r.tables))},dependencies:[bc,ss,qa,h_]})}}return n})(),aEe=(()=>{class n{constructor(e,i,r){this.coffeService=e,this.gestionService=i,this.printService=r,this.tables=[],this.refreshLinkedTables=!1}ngOnInit(){this.loadTables()}loadTables(){this.gestionService.getTables().subscribe(e=>{this.tables=e,console.log(e,"MESAS DESDE")})}handleAddOrder(e){console.log("A\xf1adiendo orden a la mesa:",e.tableId)}handleRemoveOrder(e){console.log("Removiendo orden",e.orderId,"de la mesa",e.tableId)}handleLinkTables(){this.refreshLinkedTables=!this.refreshLinkedTables}static{this.\u0275fac=function(i){return new(i||n)(N(Ame),N(sa),N(ope))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-home"]],decls:2,vars:0,consts:[[1,"w-full","min-h-screen"]],template:function(i,r){1&i&&(D(0,"div",0),rt(1,"app-card"),S())},dependencies:[sEe]})}}return n})();class cEe{constructor(t){this._box=t,this._destroyed=new Q,this._resizeSubject=new Q,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new at(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Zt(e=>e.some(i=>i.target===t)),HS({bufferSize:1,refCount:!0}),si(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let lEe=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=Me(We)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new cEe(r)),this._observers.get(r).observe(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const dEe=["notch"],uEe=["matFormFieldNotchedOutline",""],hEe=["*"],fEe=["textField"],mEe=["iconPrefixContainer"],pEe=["textPrefixContainer"];function gEe(n,t){1&n&&rt(0,"span",19)}function _Ee(n,t){if(1&n&&(D(0,"label",17),xt(1,1),Se(2,gEe,1,0,"span",18),S()),2&n){const e=Oe(2);ve("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),kn("for",e._control.id),ae(2),ve("ngIf",!e.hideRequiredMarker&&e._control.required)}}function bEe(n,t){1&n&&Se(0,_Ee,3,5,"label",16),2&n&&ve("ngIf",Oe()._hasFloatingLabel())}function vEe(n,t){1&n&&rt(0,"div",20)}function yEe(n,t){}function xEe(n,t){1&n&&Se(0,yEe,0,0,"ng-template",22),2&n&&(Oe(2),ve("ngTemplateOutlet",ka(1)))}function wEe(n,t){if(1&n&&(D(0,"div",21),Se(1,xEe,1,1,"ng-template",9),S()),2&n){const e=Oe();ve("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),ae(1),ve("ngIf",!e._forceDisplayInfixLabel())}}function EEe(n,t){1&n&&(D(0,"div",23,24),xt(2,2),S())}function IEe(n,t){1&n&&(D(0,"div",25,26),xt(2,3),S())}function CEe(n,t){}function TEe(n,t){1&n&&Se(0,CEe,0,0,"ng-template",22),2&n&&(Oe(),ve("ngTemplateOutlet",ka(1)))}function AEe(n,t){1&n&&(D(0,"div",27),xt(1,4),S())}function kEe(n,t){1&n&&(D(0,"div",28),xt(1,5),S())}function SEe(n,t){1&n&&rt(0,"div",29)}function DEe(n,t){1&n&&(D(0,"div",30),xt(1,6),S()),2&n&&ve("@transitionMessages",Oe()._subscriptAnimationState)}function REe(n,t){if(1&n&&(D(0,"mat-hint",34),j(1),S()),2&n){const e=Oe(2);ve("id",e._hintLabelId),ae(1),Vi(e.hintLabel)}}function MEe(n,t){if(1&n&&(D(0,"div",31),Se(1,REe,2,2,"mat-hint",32),xt(2,7),rt(3,"div",33),xt(4,8),S()),2&n){const e=Oe();ve("@transitionMessages",e._subscriptAnimationState),ae(1),ve("ngIf",e.hintLabel)}}const PEe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],OEe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let _v=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=be({type:n,selectors:[["mat-label"]]})}}return n})();const NEe=new ue("MatError");let FEe=0,RG=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+FEe++}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=be({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(kf("id",r.id),kn("align",null),Pt("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}}return n})();const LEe=new ue("MatPrefix"),MG=new ue("MatSuffix");let VEe=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=be({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[mt([{provide:MG,useExisting:n}])]})}}return n})();const PG=new ue("FloatingLabelParent");let OG=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Me(lEe),this._ngZone=Me(We),this._parent=Me(PG),this._resizeSubscription=new kt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function BEe(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(i){return new(i||n)(N(ft))}}static{this.\u0275dir=be({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&Pt("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}}return n})();const NG="mdc-line-ripple--active",CI="mdc-line-ripple--deactivating";let FG=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains(CI);"opacity"===r.propertyName&&s&&o.remove(NG,CI)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(CI),e.add(NG)}deactivate(){this._elementRef.nativeElement.classList.add(CI)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(i){return new(i||n)(N(ft),N(We))}}static{this.\u0275dir=be({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}}return n})(),LG=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static{this.\u0275fac=function(i){return new(i||n)(N(ft),N(We))}}static{this.\u0275cmp=ct({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&ri(dEe,5),2&i){let o;gt(o=_t())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&Pt("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:uEe,ngContentSelectors:hEe,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(Yi(),rt(0,"div",0),D(1,"div",1,2),xt(3),S(),rt(4,"div",3))},encapsulation:2,changeDetection:0})}}return n})();const UEe={transitionMessages:ed("transitionMessages",[Ps("enter",cr({opacity:1,transform:"translateY(0%)"})),Os("void => enter",[cr({opacity:0,transform:"translateY(-5px)"}),aa("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let VG=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=be({type:n})}}return n})();const BG=new ue("MatFormField"),jEe=new ue("MAT_FORM_FIELD_DEFAULT_OPTIONS");let UG=0,YO=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=cn(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,s,a,c,l){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=c,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+UG++,this._hintLabelId="mat-mdc-hint-"+UG++,this._subscriptAnimationState="",this._destroyed=new Q,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(si(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),E(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(si(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(si(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static{this.\u0275fac=function(i){return new(i||n)(N(ft),N(Vo),N(We),N(zu),N(Di),N(jEe,8),N(Vr,8),N(Tt))}}static{this.\u0275cmp=ct({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(Qn(o,_v,5),Qn(o,_v,7),Qn(o,VG,5),Qn(o,LEe,5),Qn(o,MG,5),Qn(o,NEe,5),Qn(o,RG,5)),2&i){let s;gt(s=_t())&&(r._labelChildNonStatic=s.first),gt(s=_t())&&(r._labelChildStatic=s.first),gt(s=_t())&&(r._formFieldControl=s.first),gt(s=_t())&&(r._prefixChildren=s),gt(s=_t())&&(r._suffixChildren=s),gt(s=_t())&&(r._errorChildren=s),gt(s=_t())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(1&i&&(ri(fEe,5),ri(mEe,5),ri(pEe,5),ri(OG,5),ri(LG,5),ri(FG,5)),2&i){let o;gt(o=_t())&&(r._textField=o.first),gt(o=_t())&&(r._iconPrefixContainer=o.first),gt(o=_t())&&(r._textPrefixContainer=o.first),gt(o=_t())&&(r._floatingLabel=o.first),gt(o=_t())&&(r._notchedOutline=o.first),gt(o=_t())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&Pt("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[mt([{provide:BG,useExisting:n},{provide:PG,useExisting:n}])],ngContentSelectors:OEe,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(Yi(PEe),Se(0,bEe,1,1,"ng-template",null,0,Rf),D(2,"div",1,2),Re("click",function(s){return r._control.onContainerClick(s)}),Se(4,vEe,1,0,"div",3),D(5,"div",4),Se(6,wEe,2,2,"div",5),Se(7,EEe,3,0,"div",6),Se(8,IEe,3,0,"div",7),D(9,"div",8),Se(10,TEe,1,1,"ng-template",9),xt(11),S(),Se(12,AEe,2,0,"div",10),Se(13,kEe,2,0,"div",11),S(),Se(14,SEe,1,0,"div",12),S(),D(15,"div",13),Se(16,DEe,2,1,"div",14),Se(17,MEe,5,2,"div",15),S()),2&i&&(ae(2),Pt("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),ae(2),ve("ngIf",!r._hasOutline()&&!r._control.disabled),ae(2),ve("ngIf",r._hasOutline()),ae(1),ve("ngIf",r._hasIconPrefix),ae(1),ve("ngIf",r._hasTextPrefix),ae(2),ve("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),ae(2),ve("ngIf",r._hasTextSuffix),ae(1),ve("ngIf",r._hasIconSuffix),ae(1),ve("ngIf",!r._hasOutline()),ae(1),Pt("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),ve("ngSwitch",r._getDisplayedMessages()),ae(1),ve("ngSwitchCase","error"),ae(1),ve("ngSwitchCase","hint"))},dependencies:[ss,Jk,Lx,l3,RG,OG,LG,FG],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[UEe.transitionMessages]},changeDetection:0})}}return n})(),TI=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[xn,vc,VR,xn]})}}return n})();const HG=Ab({passive:!0});let qEe=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return ni;const i=Mc(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new Q,s="cdk-text-field-autofilled",a=c=>{"cdk-text-field-autofill-start"!==c.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===c.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,HG),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,HG)}}),o}stopMonitoring(e){const i=Mc(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static{this.\u0275fac=function(i){return new(i||n)(X(Di),X(We))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),WEe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({})}}return n})();const GEe=new ue("MAT_INPUT_VALUE_ACCESSOR"),$Ee=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let KEe=0;const QEe=Qge(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Q}});let XO=(()=>{class n extends QEe{get disabled(){return this._disabled}set disabled(e){this._disabled=cn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(x_e.required)??!1}set required(e){this._required=cn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Aq().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=cn(e)}constructor(e,i,r,o,s,a,c,l,d,u){super(a,o,s,r),this._elementRef=e,this._platform=i,this._autofillMonitor=l,this._formField=u,this._uid="mat-input-"+KEe++,this.focused=!1,this.stateChanges=new Q,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(v=>Aq().has(v)),this._iOSKeyupListener=v=>{const x=v.target;!x.value&&0===x.selectionStart&&0===x.selectionEnd&&(x.setSelectionRange(1,1),x.setSelectionRange(0,0))};const p=this._elementRef.nativeElement,b=p.nodeName.toLowerCase();this._inputValueAccessor=c||p,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&d.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===b,this._isTextarea="textarea"===b,this._isInFormField=!!u,this._isNativeSelect&&(this.controlType=p.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){$Ee.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static{this.\u0275fac=function(i){return new(i||n)(N(ft),N(Di),N(Nc,10),N(Hb,8),N($m,8),N(Xge),N(GEe,10),N(qEe),N(We),N(BG,8))}}static{this.\u0275dir=be({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&Re("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(kf("id",r.id)("disabled",r.disabled)("required",r.required),kn("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Pt("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[mt([{provide:VG,useExisting:n}]),qe,Ni]})}}return n})(),YEe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[xn,TI,TI,WEe,xn]})}}return n})(),XEe=(()=>{class n{constructor(e,i){this.userService=e,this.router=i,this.formLogin=new Bb({email:new Gm,password:new Gm})}ngOnInit(){}onSubmit(){this.userService.login(this.formLogin.value).then(e=>{console.log(e,"respuesta"),this.router.navigate([""])}).catch(e=>{console.log(e,"este es el error")})}loginWithGoogle(){this.userService.loginWithGoogle().then(()=>{this.router.navigate(["/home"])}).then(e=>console.log(e))}static{this.\u0275fac=function(i){return new(i||n)(N(tp),N(eo))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-login"]],decls:23,vars:2,consts:[[1,"container-fluid","vh-100","d-flex","justify-content-center","align-items-center","login-background"],[1,"login-container","p-5","rounded","shadow"],[1,"text-center","fw-bold","login-title"],[1,"text-center","text-muted","login-subtitle"],[1,"text-center","my-4"],["src","./assets/nuovo-cafe.jpg","alt","Cafe Logo",1,"rounded-circle","login-image"],[1,"w-100",3,"formGroup","ngSubmit"],["appearance","outline",1,"w-100","mb-3"],["matInput","","type","email","formControlName","email","required",""],["appearance","outline",1,"w-100","mb-4"],["matInput","","type","password","formControlName","password","required",""],[1,"text-center"],["type","submit",1,"btn","login-btn",3,"disabled"],[1,"text-center","mt-3"],["routerLink","/register",1,"btn","login-btn-outline"]],template:function(i,r){1&i&&(D(0,"div",0)(1,"div",1)(2,"h2",2),j(3,"Nuovo caff\xe9"),S(),D(4,"p",3),j(5,"Bienvenido"),S(),D(6,"div",4),rt(7,"img",5),S(),D(8,"form",6),Re("ngSubmit",function(){return r.onSubmit()}),D(9,"mat-form-field",7)(10,"mat-label"),j(11,"Email"),S(),rt(12,"input",8),S(),D(13,"mat-form-field",9)(14,"mat-label"),j(15,"Contrase\xf1a"),S(),rt(16,"input",10),S(),D(17,"div",11)(18,"button",12),j(19," Login "),S()(),D(20,"div",13)(21,"button",14),j(22," Sign Up "),S()()()()()),2&i&&(ae(8),ve("formGroup",r.formLogin),ae(10),ve("disabled",r.formLogin.invalid))},dependencies:[mu,ZE,nd,od,WE,Km,$m,eI,YO,_v,XO],styles:['@charset "UTF-8";.login-background[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-dark) 0%,var(--primary-color) 40%,var(--primary-light) 100%);min-height:100vh;display:flex;justify-content:center;align-items:center;padding:2rem;position:relative;overflow:hidden}.login-background[_ngcontent-%COMP%]:before{content:"";position:absolute;width:200%;height:200%;background-image:radial-gradient(circle,rgba(255,255,255,.1) 1px,transparent 1px);background-size:50px 50px;animation:_ngcontent-%COMP%_moveBackground 20s linear infinite}@keyframes _ngcontent-%COMP%_moveBackground{0%{transform:translate(0)}to{transform:translate(50px,50px)}}.login-container[_ngcontent-%COMP%]{max-width:450px;width:100%;background:rgba(255,255,255,.95);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:24px;box-shadow:0 20px 60px #0000004d;padding:3rem 2.5rem;position:relative;z-index:1;animation:_ngcontent-%COMP%_slideInUp .6s ease-out}.login-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:24px;padding:2px;background:linear-gradient(135deg,var(--secondary-color),var(--secondary-light));mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask-composite:exclude}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}.login-title[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:800;background:linear-gradient(135deg,var(--primary-dark) 0%,var(--primary-color) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;margin-bottom:.5rem;letter-spacing:1px}.login-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-secondary);font-weight:500;margin-bottom:2rem}.image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:2rem 0}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:4px solid var(--secondary-color);box-shadow:0 8px 24px #d4af3766;transition:all .3s ease;object-fit:cover}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1) rotate(5deg);box-shadow:0 12px 32px #d4af3780}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:1.5rem}mat-form-field[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{background:white;border-radius:12px}mat-form-field[_ngcontent-%COMP%]     .mat-mdc-form-field-focus-overlay{background-color:transparent}mat-form-field[_ngcontent-%COMP%]     .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading, mat-form-field[_ngcontent-%COMP%]     .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch, mat-form-field[_ngcontent-%COMP%]     .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--border-color);border-width:2px}mat-form-field[_ngcontent-%COMP%]     .mdc-text-field--outlined:hover .mdc-notched-outline .mdc-notched-outline__leading, mat-form-field[_ngcontent-%COMP%]     .mdc-text-field--outlined:hover .mdc-notched-outline .mdc-notched-outline__notch, mat-form-field[_ngcontent-%COMP%]     .mdc-text-field--outlined:hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--primary-light)}mat-form-field[_ngcontent-%COMP%]     .mdc-text-field--outlined.mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading, mat-form-field[_ngcontent-%COMP%]     .mdc-text-field--outlined.mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch, mat-form-field[_ngcontent-%COMP%]     .mdc-text-field--outlined.mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--primary-color)!important}mat-form-field[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{padding:1rem .75rem}mat-form-field[_ngcontent-%COMP%]     label{color:var(--text-secondary);font-weight:500}.login-btn[_ngcontent-%COMP%]{width:100%;padding:1rem;background:linear-gradient(135deg,var(--primary-color) 0%,var(--primary-light) 100%);color:#fff;border:none;border-radius:12px;font-size:1.1rem;font-weight:700;letter-spacing:.5px;box-shadow:0 6px 20px #6f4e374d;transition:all .3s ease;position:relative;overflow:hidden}.login-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:rgba(255,255,255,.3);transform:translate(-50%,-50%);transition:width .6s,height .6s}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 8px 28px #6f4e3766}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled):before{width:300px;height:300px}.login-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px)}.login-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.login-btn-outline[_ngcontent-%COMP%]{width:100%;padding:1rem;background:white;color:var(--primary-color);border:2px solid var(--primary-color);border-radius:12px;font-size:1.1rem;font-weight:700;letter-spacing:.5px;transition:all .3s ease}.login-btn-outline[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,var(--primary-color) 0%,var(--primary-light) 100%);color:#fff;border-color:transparent;transform:translateY(-3px);box-shadow:0 6px 20px #6f4e374d}.login-btn-outline[_ngcontent-%COMP%]:active{transform:translateY(-1px)}.text-center[_ngcontent-%COMP%]{margin-top:1.5rem}@media (max-width: 576px){.login-container[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-radius:20px}.login-title[_ngcontent-%COMP%]{font-size:1.75rem}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}button[type=submit][_ngcontent-%COMP%]:disabled{position:relative}button[type=submit][_ngcontent-%COMP%]:disabled:after{content:"";position:absolute;width:20px;height:20px;top:50%;left:50%;margin-left:-10px;margin-top:-10px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}',"\n\n  .login-background[_ngcontent-%COMP%] {\n    background: linear-gradient(to right, #d2a679, #c0936b);\n  }\n\n  \n\n  .login-container[_ngcontent-%COMP%] {\n    max-width: 400px;\n    background: white;\n    border-radius: 12px;\n    box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.2);\n  }\n\n  \n\n  .login-image[_ngcontent-%COMP%] {\n    width: 100px;\n    height: 100px;\n    object-fit: cover;\n  }\n\n  \n\n  .login-title[_ngcontent-%COMP%] {\n    font-size: 28px;\n    color: #5a3e2b;\n  }\n\n  .login-subtitle[_ngcontent-%COMP%] {\n    font-size: 16px;\n    color: #7a5e47;\n  }\n\n  \n\n  .login-btn[_ngcontent-%COMP%] {\n    width: 100%;\n    padding: 10px;\n    background: #5a3e2b;\n    color: white;\n    border: none;\n    border-radius: 8px;\n    font-size: 16px;\n    transition: 0.3s;\n  }\n\n  .login-btn[_ngcontent-%COMP%]:hover {\n    background: #3e2b1c;\n  }\n\n  \n\n  .login-btn-outline[_ngcontent-%COMP%] {\n    width: 100%;\n    padding: 10px;\n    background: transparent;\n    border: 2px solid #5a3e2b;\n    color: #5a3e2b;\n    border-radius: 8px;\n    font-size: 16px;\n    transition: 0.3s;\n  }\n\n  .login-btn-outline[_ngcontent-%COMP%]:hover {\n    background: #5a3e2b;\n    color: white;\n  }"]})}}return n})(),AI=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=be({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]})}}return n})(),hIe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[xn,vc,xn]})}}return n})(),fIe=(()=>{class n{constructor(e,i){this.userService=e,this.router=i,this.formRegister=new Bb({email:new Gm,password:new Gm})}ngOnInit(){}onSubmit(){this.userService.register(this.formRegister.value).then(e=>{console.log(e,"respuesta"),this.router.navigate(["/login"])}).catch(e=>{console.log(e,"este es el error")})}static{this.\u0275fac=function(i){return new(i||n)(N(tp),N(eo))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-register"]],decls:19,vars:2,consts:[[1,"container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"register-container","w-100","shadow-box"],[1,"image-container"],["mat-card-image","","src","./assets/nuovo-cafe.jpg","alt","table",1,"rounded-circle"],[1,"w-100","p-4",3,"formGroup","ngSubmit"],["appearance","outline",1,"w-100","mb-3"],["matInput","","type","email","formControlName","email","required",""],["matInput","","type","password","formControlName","password","required",""],[1,"text-center"],["mat-raised-button","","color","primary","type","submit",1,"btn","btn-primary",3,"disabled"],[1,"text-center","mt-3"],["mat-raised-button","","color","accent","routerLink","/login"]],template:function(i,r){1&i&&(D(0,"div",0)(1,"div",1)(2,"div",2),rt(3,"img",3),S(),D(4,"form",4),Re("ngSubmit",function(){return r.onSubmit()}),D(5,"mat-form-field",5)(6,"mat-label"),j(7,"Email"),S(),rt(8,"input",6),S(),D(9,"mat-form-field",5)(10,"mat-label"),j(11,"Contrase\xf1a"),S(),rt(12,"input",7),S(),D(13,"div",8)(14,"button",9),j(15," Registrarse "),S()(),D(16,"div",10)(17,"button",11),j(18," Iniciar sesi\xf3n "),S()()()()()),2&i&&(ae(4),ve("formGroup",r.formRegister),ae(10),ve("disabled",r.formRegister.invalid))},dependencies:[mu,ZE,nd,od,WE,Km,$m,eI,AI,np,YO,_v,XO],styles:[".shadow-box[_ngcontent-%COMP%]{max-width:400px;background:white;padding:20px;border:1px solid #ccc;border-radius:10px;box-shadow:5px 5px 15px #0003}.image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:2rem}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}"]})}}return n})();function mIe(n,t){if(1&n){const e=Qi();D(0,"tr",50)(1,"td",51),j(2),S(),D(3,"td",52)(4,"span",53),rt(5,"span",54),j(6),S()(),D(7,"td",52)(8,"div",55)(9,"button",56),Re("click",function(){const o=Rt(e).$implicit;return Mt(Oe(2).startEditingTable(o))}),D(10,"mat-icon",57),j(11,"edit"),S(),j(12," Editar "),S(),D(13,"button",58),Re("click",function(){const o=Rt(e).$implicit;return Mt(Oe(2).deleteTable(o.id))}),D(14,"mat-icon",57),j(15,"delete"),S(),j(16," Eliminar "),S()()()()}if(2&n){const e=t.$implicit;Pt("bg-gray-50",t.index%2==0),ae(2),Vi(e.name),ae(2),ve("ngClass",e.available?"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border-2 border-green-200":"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border-2 border-red-200"),ae(1),ve("ngClass",e.available?"bg-green-500 animate-pulse":"bg-red-500"),ae(1),Kn(" ",e.available?"Disponible":"Ocupada"," ")}}function pIe(n,t){if(1&n){const e=Qi();D(0,"div",59)(1,"h3",19)(2,"mat-icon",60),j(3,"edit_note"),S(),j(4," Editar Mesa "),S(),D(5,"div",61)(6,"input",62),Re("ngModelChange",function(r){return Rt(e),Mt(Oe(2).editTableName=r)}),S(),D(7,"div",63)(8,"input",64),Re("ngModelChange",function(r){return Rt(e),Mt(Oe(2).editTableAvailability=r)}),S(),D(9,"label",65),j(10,"Marcar como disponible"),S()(),D(11,"div",66)(12,"button",67),Re("click",function(){return Rt(e),Mt(Oe(2).saveTableEdit())}),D(13,"mat-icon",15),j(14,"save"),S(),j(15," Guardar Cambios "),S(),D(16,"button",68),Re("click",function(){return Rt(e),Mt(Oe(2).editTableId=void 0)}),j(17," Cancelar "),S()()()()}if(2&n){const e=Oe(2);ae(6),ve("ngModel",e.editTableName),ae(2),ve("ngModel",e.editTableAvailability)}}function gIe(n,t){if(1&n){const e=Qi();D(0,"tr",69)(1,"td",51),j(2),S(),D(3,"td",52)(4,"div",70)(5,"mat-icon",71),j(6,"payments"),S(),D(7,"span",72),j(8),S()()(),D(9,"td",52)(10,"div",55)(11,"button",56),Re("click",function(){const o=Rt(e).$implicit;return Mt(Oe(2).startEditingMenu(o))}),D(12,"mat-icon",57),j(13,"edit"),S(),j(14," Editar "),S(),D(15,"button",58),Re("click",function(){const o=Rt(e).$implicit;return Mt(Oe(2).deleteMenuItem(o._id))}),D(16,"mat-icon",57),j(17,"delete"),S(),j(18," Eliminar "),S()()()()}if(2&n){const e=t.$implicit;Pt("bg-gray-50",t.index%2==0),ae(2),Vi(e.name),ae(6),Kn("$",e.price,"")}}function _Ie(n,t){if(1&n){const e=Qi();D(0,"div",59)(1,"h3",19)(2,"mat-icon",60),j(3,"edit_note"),S(),j(4," Editar \xcdtem del Men\xfa "),S(),D(5,"div",61)(6,"input",62),Re("ngModelChange",function(r){return Rt(e),Mt(Oe(2).editItemName=r)}),S(),D(7,"input",73),Re("ngModelChange",function(r){return Rt(e),Mt(Oe(2).editItemPrice=r)}),S(),D(8,"div",66)(9,"button",67),Re("click",function(){return Rt(e),Mt(Oe(2).saveMenuItemEdit())}),D(10,"mat-icon",15),j(11,"save"),S(),j(12," Guardar Cambios "),S(),D(13,"button",68),Re("click",function(){return Rt(e),Mt(Oe(2).editItemId=void 0)}),j(14," Cancelar "),S()()()()}if(2&n){const e=Oe(2);ae(6),ve("ngModel",e.editItemName),ae(1),ve("ngModel",e.editItemPrice)}}function bIe(n,t){if(1&n){const e=Qi();D(0,"tr",74)(1,"td",52)(2,"div",75)(3,"div",76)(4,"span",77),j(5),S()(),D(6,"span",78),j(7),S()()(),D(8,"td",52)(9,"div",55)(10,"button",56),Re("click",function(){const o=Rt(e).$implicit;return Mt(Oe(2).startEditingWaiter(o))}),D(11,"mat-icon",57),j(12,"edit"),S(),j(13," Editar "),S(),D(14,"button",58),Re("click",function(){const o=Rt(e).$implicit;return Mt(Oe(2).deleteWaiter(o._id))}),D(15,"mat-icon",57),j(16,"delete"),S(),j(17," Eliminar "),S()()()()}if(2&n){const e=t.$implicit;Pt("bg-gray-50",t.index%2==0),ae(5),Vi(e.name.charAt(0).toUpperCase()),ae(2),Vi(e.name)}}function vIe(n,t){if(1&n){const e=Qi();D(0,"div",59)(1,"h3",19)(2,"mat-icon",60),j(3,"edit_note"),S(),j(4," Editar Mesero "),S(),D(5,"div",61)(6,"input",62),Re("ngModelChange",function(r){return Rt(e),Mt(Oe(2).editWaiterName=r)}),S(),D(7,"div",66)(8,"button",67),Re("click",function(){return Rt(e),Mt(Oe(2).saveWaiterEdit())}),D(9,"mat-icon",15),j(10,"save"),S(),j(11," Guardar Cambios "),S(),D(12,"button",68),Re("click",function(){return Rt(e),Mt(Oe(2).editWaiterId=void 0)}),j(13," Cancelar "),S()()()()}if(2&n){const e=Oe(2);ae(6),ve("ngModel",e.editWaiterName)}}function yIe(n,t){if(1&n){const e=Qi();D(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"mat-icon",7),j(6,"admin_panel_settings"),S()(),D(7,"div")(8,"h2",8),j(9,"Panel de Administrador"),S(),D(10,"p",9),j(11,"Gestiona mesas, men\xfa y mozos"),S()()()(),D(12,"mat-accordion",10)(13,"mat-expansion-panel",11)(14,"mat-expansion-panel-header",12)(15,"mat-panel-title",13)(16,"div",14)(17,"mat-icon",15),j(18,"table_restaurant"),S()(),D(19,"span"),j(20,"Administrar Mesas"),S()(),D(21,"mat-panel-description",16),j(22," Agrega, edita o elimina tus mesas "),S()(),D(23,"div",17)(24,"div",18)(25,"h3",19)(26,"mat-icon",20),j(27,"add_circle"),S(),j(28," Agregar Nueva Mesa "),S(),D(29,"div",21)(30,"input",22),Re("ngModelChange",function(r){return Rt(e),Mt(Oe().newTableName=r)}),S(),D(31,"button",23),Re("click",function(){return Rt(e),Mt(Oe().addTable())}),D(32,"mat-icon",15),j(33,"add"),S(),j(34," Agregar "),S()()(),D(35,"h3",19)(36,"mat-icon",24),j(37,"list"),S(),j(38," Lista de Mesas "),S(),D(39,"div",25)(40,"table",26)(41,"thead",27)(42,"tr")(43,"th",28)(44,"div",29)(45,"mat-icon",30),j(46,"table_restaurant"),S(),j(47," Nombre "),S()(),D(48,"th",28)(49,"div",29)(50,"mat-icon",30),j(51,"check_circle"),S(),j(52," Disponible "),S()(),D(53,"th",28)(54,"div",29)(55,"mat-icon",30),j(56,"settings"),S(),j(57," Acciones "),S()()()(),D(58,"tbody",31),Se(59,mIe,17,6,"tr",32),S()()(),Se(60,pIe,18,2,"div",33),S()()(),D(61,"mat-accordion",10)(62,"mat-expansion-panel",11)(63,"mat-expansion-panel-header",34)(64,"mat-panel-title",13)(65,"div",14)(66,"mat-icon",15),j(67,"restaurant_menu"),S()(),D(68,"span"),j(69,"Administrar Men\xfa"),S()(),D(70,"mat-panel-description",16),j(71," Agrega, edita o elimina \xedtems del men\xfa "),S()(),D(72,"div",17)(73,"div",35)(74,"h3",19)(75,"mat-icon",36),j(76,"add_circle"),S(),j(77," Agregar \xcdtem al Men\xfa "),S(),D(78,"div",21)(79,"input",37),Re("ngModelChange",function(r){return Rt(e),Mt(Oe().newItemName=r)}),S(),D(80,"input",38),Re("ngModelChange",function(r){return Rt(e),Mt(Oe().newItemPrice=r)})("change",function(){return Rt(e),Mt(Oe().formatPrice())}),S(),D(81,"button",23),Re("click",function(){return Rt(e),Mt(Oe().addMenuItem())}),D(82,"mat-icon",15),j(83,"add"),S(),j(84," Agregar "),S()()(),D(85,"div",39)(86,"h3",40)(87,"mat-icon",41),j(88,"search"),S(),j(89," Buscar en el men\xfa "),S(),D(90,"input",42),Re("ngModelChange",function(r){return Rt(e),Mt(Oe().searchTerm=r)}),S()(),D(91,"h3",19)(92,"mat-icon",43),j(93,"list"),S(),j(94," Lista del Men\xfa "),S(),D(95,"div",25)(96,"table",26)(97,"thead",27)(98,"tr")(99,"th",28)(100,"div",29)(101,"mat-icon",30),j(102,"restaurant_menu"),S(),j(103," Nombre "),S()(),D(104,"th",28)(105,"div",29)(106,"mat-icon",30),j(107,"attach_money"),S(),j(108," Precio "),S()(),D(109,"th",28)(110,"div",29)(111,"mat-icon",30),j(112,"settings"),S(),j(113," Acciones "),S()()()(),D(114,"tbody",31),Se(115,gIe,19,4,"tr",44),S()()(),Se(116,_Ie,15,2,"div",33),S()()(),D(117,"mat-accordion",10)(118,"mat-expansion-panel",11)(119,"mat-expansion-panel-header",45)(120,"mat-panel-title",13)(121,"div",14)(122,"mat-icon",15),j(123,"person"),S()(),D(124,"span"),j(125,"Administrar Mozos"),S()(),D(126,"mat-panel-description",16),j(127," Agrega, edita o elimina mozos "),S()(),D(128,"div",17)(129,"div",46)(130,"h3",19)(131,"mat-icon",47),j(132,"add_circle"),S(),j(133," Agregar Nuevo Mesero "),S(),D(134,"div",21)(135,"input",48),Re("ngModelChange",function(r){return Rt(e),Mt(Oe().newWaiterName=r)}),S(),D(136,"button",23),Re("click",function(){return Rt(e),Mt(Oe().addWaiter())}),D(137,"mat-icon",15),j(138,"add"),S(),j(139," Agregar "),S()()(),D(140,"h3",19)(141,"mat-icon",47),j(142,"list"),S(),j(143," Lista de Meseros "),S(),D(144,"div",25)(145,"table",26)(146,"thead",27)(147,"tr")(148,"th",28)(149,"div",29)(150,"mat-icon",30),j(151,"person"),S(),j(152," Nombre "),S()(),D(153,"th",28)(154,"div",29)(155,"mat-icon",30),j(156,"settings"),S(),j(157," Acciones "),S()()()(),D(158,"tbody",31),Se(159,bIe,18,4,"tr",49),S()()(),Se(160,vIe,14,1,"div",33),S()()()()()}if(2&n){const e=Oe();ae(30),ve("ngModel",e.newTableName),ae(29),ve("ngForOf",e.tables),ae(1),ve("ngIf",void 0!==e.editTableId),ae(19),ve("ngModel",e.newItemName),ae(1),ve("ngModel",e.newItemPrice),ae(10),ve("ngModel",e.searchTerm),ae(25),ve("ngForOf",e.filteredMenuItems),ae(1),ve("ngIf",void 0!==e.editItemId),ae(19),ve("ngModel",e.newWaiterName),ae(24),ve("ngForOf",e.waiters),ae(1),ve("ngIf",void 0!==e.editWaiterId)}}function xIe(n,t){1&n&&(D(0,"div",79)(1,"div",80)(2,"mat-icon",81),j(3,"block"),S()(),D(4,"h1",82),j(5,"ACCESO DENEGADO"),S(),D(6,"p",83),j(7,"No tienes los permisos suficientes para visualizar el contenido de esta p\xe1gina."),S(),D(8,"button",84),j(9," Volver al Inicio "),S()())}let wIe=(()=>{class n{constructor(e,i){this.userService=e,this.gestionService=i,this.tables=[],this.newTableName="",this.editTableName="",this.editTableAvailability=!0,this.menuItems=[],this.newItemName="",this.newItemPrice=0,this.editItemName="",this.editItemPrice=0,this.waiters=[],this.newWaiterName="",this.editWaiterName="",this.role$=this.userService.getRoleState(),this.loadTables(),this.loadMenuItems(),this.loadWaiters(),this.searchTerm=""}loadTables(){this.gestionService.getTables().subscribe(e=>{this.tables=e})}get filteredMenuItems(){return this.searchTerm?this.menuItems.filter(e=>e.name.toLowerCase().includes(this.searchTerm.toLowerCase())):this.menuItems}addTable(){this.newTableName.trim()&&this.gestionService.addTable(this.newTableName.trim()).subscribe(()=>{this.loadTables(),this.newTableName=""})}startEditingTable(e){this.editTableId=e.id,this.editTableName=e.name,this.editTableAvailability=e.available}saveTableEdit(){void 0!==this.editTableId&&this.gestionService.editTable(this.editTableId,this.editTableName,this.editTableAvailability).subscribe(()=>{this.loadTables(),this.editTableId=void 0})}deleteTable(e){this.gestionService.deleteTable(e).subscribe(()=>{this.loadTables()})}loadMenuItems(){this.gestionService.getMenu().subscribe(e=>{this.menuItems=e})}addMenuItem(){this.newItemName.trim()&&this.newItemPrice>0&&this.gestionService.addMenuItem(this.newItemName.trim(),this.newItemPrice).subscribe(()=>{this.gestionService.refreshMenu().subscribe(e=>{this.menuItems=e}),this.newItemName="",this.newItemPrice=0})}startEditingMenu(e){this.editItemId=e._id,this.editItemName=e.name,this.editItemPrice=e.price}saveMenuItemEdit(){void 0!==this.editItemId&&this.gestionService.editMenuItem(this.editItemId,this.editItemName,this.editItemPrice).subscribe(()=>{this.gestionService.refreshMenu().subscribe(e=>{this.menuItems=e}),this.editItemId=void 0})}deleteMenuItem(e){this.gestionService.deleteMenuItem(e).subscribe(()=>{this.gestionService.refreshMenu().subscribe(i=>{this.menuItems=i})})}loadWaiters(){this.gestionService.getWaiters().subscribe(e=>{this.waiters=e})}addWaiter(){this.newWaiterName.trim()&&this.gestionService.addWaiter(this.newWaiterName.trim()).subscribe(()=>{this.loadWaiters(),this.newWaiterName=""})}startEditingWaiter(e){this.editWaiterId=e._id,this.editWaiterName=e.name}saveWaiterEdit(){void 0!==this.editWaiterId&&this.gestionService.editWaiter(this.editWaiterId,this.editWaiterName).subscribe(()=>{this.loadWaiters(),this.editWaiterId=void 0})}deleteWaiter(e){this.gestionService.deleteWaiter(e).subscribe(()=>{this.loadWaiters()})}formatPrice(){this.newItemPrice=Number(this.newItemPrice)}static{this.\u0275fac=function(i){return new(i||n)(N(tp),N(sa))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-admin-panel"]],decls:4,vars:3,consts:[["class","w-full min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-gray-50 p-4 sm:p-6 lg:p-10",4,"ngIf"],["accessDenied",""],[1,"w-full","min-h-screen","bg-gradient-to-br","from-gray-50","via-blue-50","to-gray-50","p-4","sm:p-6","lg:p-10"],[1,"max-w-7xl","mx-auto"],[1,"mb-8","sm:mb-10"],[1,"flex","items-center","gap-4","mb-4"],[1,"flex","items-center","justify-center","w-16","h-16","rounded-2xl","bg-gradient-to-br","from-purple-500","to-pink-600","shadow-lg"],[1,"!w-10","!h-10","!text-4xl","text-white"],[1,"text-3xl","sm:text-4xl","font-bold","text-gray-900"],[1,"text-gray-600","text-sm","sm:text-base","mt-1"],[1,"mb-6"],[1,"!rounded-2xl","!shadow-xl","overflow-hidden","!bg-white"],[1,"!bg-gradient-to-r","!from-coffee-600","!via-coffee-700","!to-coffee-600","!text-white","!py-6"],[1,"!font-bold","!text-xl","flex","items-center","gap-3"],[1,"w-10","h-10","rounded-xl","bg-white/20","backdrop-blur-sm","flex","items-center","justify-center"],[1,"!w-6","!h-6","!text-2xl"],[1,"!text-white/90","!text-base"],[1,"p-6","sm:p-8","bg-gradient-to-br","from-white","to-gray-50"],[1,"mb-8","p-6","bg-gradient-to-br","from-blue-50","to-indigo-50","rounded-2xl","border-2","border-blue-200"],[1,"text-2xl","font-bold","text-gray-900","mb-4","flex","items-center","gap-2"],[1,"!w-7","!h-7","!text-3xl","text-blue-600"],[1,"flex","flex-col","sm:flex-row","gap-3"],["placeholder","Nombre de la mesa (ej: Mesa 1)",1,"flex-1","px-5","py-4","border-2","border-blue-300","rounded-xl","bg-white","focus:outline-none","focus:ring-4","focus:ring-blue-200","focus:border-blue-500","transition-all","text-gray-700","font-semibold",3,"ngModel","ngModelChange"],[1,"px-8","py-4","bg-gradient-to-r","from-green-600","to-emerald-600","hover:from-green-700","hover:to-emerald-700","text-white","font-bold","text-base","rounded-xl","shadow-lg","hover:shadow-xl","transition-all","duration-300","transform","hover:scale-105","flex","items-center","justify-center","gap-2",3,"click"],[1,"!w-7","!h-7","!text-3xl","text-purple-600"],[1,"overflow-x-auto","rounded-2xl","shadow-xl","bg-white"],[1,"w-full"],[1,"bg-gradient-to-r","from-gray-800","to-gray-900"],[1,"px-6","py-5","text-left","font-bold","text-base","text-white","uppercase","tracking-wider"],[1,"flex","items-center","gap-2"],[1,"!w-5","!h-5","!text-xl"],[1,"divide-y","divide-gray-100"],["class","hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50 transition-all duration-300",3,"bg-gray-50",4,"ngFor","ngForOf"],["class","mt-6 p-6 bg-gradient-to-br from-yellow-50 to-amber-50 rounded-2xl border-2 border-yellow-400 shadow-xl",4,"ngIf"],[1,"!bg-gradient-to-r","!from-orange-600","!via-red-600","!to-orange-600","!text-white","!py-6"],[1,"mb-8","p-6","bg-gradient-to-br","from-orange-50","to-red-50","rounded-2xl","border-2","border-orange-200"],[1,"!w-7","!h-7","!text-3xl","text-orange-600"],["placeholder","Nombre del \xedtem (ej: Caf\xe9 Americano)",1,"flex-1","px-5","py-4","border-2","border-orange-300","rounded-xl","bg-white","focus:outline-none","focus:ring-4","focus:ring-orange-200","focus:border-orange-500","transition-all","text-gray-700","font-semibold",3,"ngModel","ngModelChange"],["type","number","placeholder","Precio",1,"w-full","sm:w-40","px-5","py-4","border-2","border-orange-300","rounded-xl","bg-white","focus:outline-none","focus:ring-4","focus:ring-orange-200","focus:border-orange-500","transition-all","text-gray-700","font-semibold",3,"ngModel","ngModelChange","change"],[1,"mb-6","p-6","bg-gradient-to-br","from-purple-50","to-pink-50","rounded-2xl","border-2","border-purple-200"],[1,"text-lg","font-bold","text-gray-900","mb-3","flex","items-center","gap-2"],[1,"!w-6","!h-6","!text-2xl","text-purple-600"],["placeholder","Buscar por nombre...",1,"w-full","px-5","py-4","border-2","border-purple-300","rounded-xl","bg-white","focus:outline-none","focus:ring-4","focus:ring-purple-200","focus:border-purple-500","transition-all","text-gray-700","font-semibold",3,"ngModel","ngModelChange"],[1,"!w-7","!h-7","!text-3xl","text-red-600"],["class","hover:bg-gradient-to-r hover:from-gray-50 hover:to-orange-50 transition-all duration-300",3,"bg-gray-50",4,"ngFor","ngForOf"],[1,"!bg-gradient-to-r","!from-blue-600","!via-indigo-600","!to-blue-600","!text-white","!py-6"],[1,"mb-8","p-6","bg-gradient-to-br","from-indigo-50","to-purple-50","rounded-2xl","border-2","border-indigo-200"],[1,"!w-7","!h-7","!text-3xl","text-indigo-600"],["placeholder","Nombre del mesero (ej: Juan P\xe9rez)",1,"flex-1","px-5","py-4","border-2","border-indigo-300","rounded-xl","bg-white","focus:outline-none","focus:ring-4","focus:ring-indigo-200","focus:border-indigo-500","transition-all","text-gray-700","font-semibold",3,"ngModel","ngModelChange"],["class","hover:bg-gradient-to-r hover:from-gray-50 hover:to-indigo-50 transition-all duration-300",3,"bg-gray-50",4,"ngFor","ngForOf"],[1,"hover:bg-gradient-to-r","hover:from-gray-50","hover:to-blue-50","transition-all","duration-300"],[1,"px-6","py-4","text-gray-900","font-bold","text-lg"],[1,"px-6","py-4"],[1,"inline-flex","items-center","gap-2","px-4","py-2","rounded-xl","font-semibold","text-sm","shadow-sm",3,"ngClass"],[1,"w-2","h-2","rounded-full",3,"ngClass"],[1,"flex","gap-2"],[1,"px-4","py-2.5","bg-gradient-to-r","from-amber-500","to-orange-500","hover:from-amber-600","hover:to-orange-600","text-white","font-bold","rounded-xl","text-sm","transition-all","duration-300","transform","hover:scale-105","shadow-md","hover:shadow-lg","flex","items-center","gap-1",3,"click"],[1,"!w-4","!h-4","!text-base"],[1,"px-4","py-2.5","bg-gradient-to-r","from-red-600","to-rose-600","hover:from-red-700","hover:to-rose-700","text-white","font-bold","rounded-xl","text-sm","transition-all","duration-300","transform","hover:scale-105","shadow-md","hover:shadow-lg","flex","items-center","gap-1",3,"click"],[1,"mt-6","p-6","bg-gradient-to-br","from-yellow-50","to-amber-50","rounded-2xl","border-2","border-yellow-400","shadow-xl"],[1,"!w-7","!h-7","!text-3xl","text-yellow-600"],[1,"space-y-4"],["placeholder","Nuevo nombre",1,"w-full","px-5","py-4","border-2","border-yellow-400","rounded-xl","bg-white","focus:outline-none","focus:ring-4","focus:ring-yellow-200","focus:border-yellow-500","text-gray-700","font-semibold",3,"ngModel","ngModelChange"],[1,"flex","items-center","gap-3","p-4","bg-white","rounded-xl","border-2","border-yellow-300"],["type","checkbox","id","disponibleCheck",1,"w-6","h-6","cursor-pointer",3,"ngModel","ngModelChange"],["for","disponibleCheck",1,"font-bold","text-gray-900","cursor-pointer","text-lg"],[1,"flex","gap-3"],[1,"flex-1","px-6","py-4","bg-gradient-to-r","from-green-600","to-emerald-600","hover:from-green-700","hover:to-emerald-700","text-white","font-bold","rounded-xl","shadow-lg","hover:shadow-xl","transition-all","duration-300","transform","hover:scale-105","flex","items-center","justify-center","gap-2",3,"click"],[1,"px-6","py-4","bg-gradient-to-r","from-gray-500","to-gray-600","hover:from-gray-600","hover:to-gray-700","text-white","font-bold","rounded-xl","shadow-lg","hover:shadow-xl","transition-all","duration-300","transform","hover:scale-105",3,"click"],[1,"hover:bg-gradient-to-r","hover:from-gray-50","hover:to-orange-50","transition-all","duration-300"],[1,"inline-flex","items-center","gap-2","px-4","py-2","bg-gradient-to-r","from-green-50","to-emerald-50","rounded-xl","border-2","border-green-200"],[1,"!w-5","!h-5","!text-xl","text-green-600"],[1,"text-green-700","font-bold","text-lg"],["type","number","placeholder","Nuevo precio",1,"w-full","px-5","py-4","border-2","border-yellow-400","rounded-xl","bg-white","focus:outline-none","focus:ring-4","focus:ring-yellow-200","focus:border-yellow-500","text-gray-700","font-semibold",3,"ngModel","ngModelChange"],[1,"hover:bg-gradient-to-r","hover:from-gray-50","hover:to-indigo-50","transition-all","duration-300"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","rounded-full","bg-gradient-to-br","from-purple-400","to-pink-400","flex","items-center","justify-center"],[1,"text-white","font-bold","text-lg"],[1,"text-gray-900","font-bold","text-lg"],[1,"flex","flex-col","items-center","justify-center","min-h-screen","bg-gradient-to-br","from-red-50","to-rose-50","p-8"],[1,"w-24","h-24","rounded-full","bg-gradient-to-br","from-red-500","to-rose-600","flex","items-center","justify-center","mb-6","shadow-2xl"],[1,"!w-16","!h-16","!text-6xl","text-white"],[1,"text-4xl","sm:text-5xl","font-bold","text-red-600","mb-4","text-center"],[1,"text-xl","text-gray-700","text-center","max-w-md"],["routerLink","/",1,"mt-8","px-8","py-4","bg-gradient-to-r","from-red-600","to-rose-600","hover:from-red-700","hover:to-rose-700","text-white","font-bold","text-base","rounded-xl","shadow-lg","hover:shadow-xl","transition-all","duration-300","transform","hover:scale-105"]],template:function(i,r){1&i&&(Se(0,yIe,161,11,"div",0),Fo(1,"async"),Se(2,xIe,10,0,"ng-template",null,1,Rf)),2&i&&ve("ngIf","admin"===rs(1,1,r.role$))},dependencies:[Fx,bc,ss,mu,nd,lM,YR,od,$u,DG,KO,QO,SG,Gwe,qa,h_]})}}return n})();const JO=pe(n=>!!n);let EIe=(()=>{class n{router;auth;constructor(e,i){this.router=e,this.auth=i}canActivate=(e,i)=>{const r=e.data.authGuardPipe||(()=>JO);return Yxe(this.auth).pipe(Vn(1),r(e,i),pe(o=>"boolean"==typeof o?o:Array.isArray(o)?this.router.createUrlTree(o):this.router.parseUrl(o)))};static \u0275fac=function(i){return new(i||n)(X(eo),X(pv))};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();const ZO=n=>({canActivate:[EIe],data:{authGuardPipe:n}});function ip(n){return n+.5|0}const Hc=(n,t,e)=>Math.max(Math.min(n,e),t);function bv(n){return Hc(ip(2.55*n),0,255)}function ud(n){return Hc(ip(255*n),0,255)}function qc(n){return Hc(ip(n/2.55)/100,0,1)}function qG(n){return Hc(ip(100*n),0,100)}const Bs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},eN=[..."0123456789ABCDEF"],AIe=n=>eN[15&n],kIe=n=>eN[(240&n)>>4]+eN[15&n],kI=n=>(240&n)>>4==(15&n);const PIe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function WG(n,t,e){const i=t*Math.min(e,1-e),r=(o,s=(o+n/30)%12)=>e-i*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function OIe(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function NIe(n,t,e){const i=WG(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function tN(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),s=Math.min(e,i,r),a=(o+s)/2;let c,l,d;return o!==s&&(d=o-s,l=a>.5?d/(2-o-s):d/(o+s),c=function FIe(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}(e,i,r,d,o),c=60*c+.5),[0|c,l||0,a]}function nN(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(ud)}function iN(n,t,e){return nN(WG,n,t,e)}function GG(n){return(n%360+360)%360}const $G={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},KG={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let SI;const qIe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,rN=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,rp=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function DI(n,t,e){if(n){let i=tN(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,0===t?360:1)),i=iN(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function QG(n,t){return n&&Object.assign(t||{},n)}function YG(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ud(n[3]))):(t=QG(n,{r:0,g:0,b:0,a:1})).a=ud(t.a),t}function KIe(n){return"r"===n.charAt(0)?function WIe(n){const t=qIe.exec(n);let i,r,o,e=255;if(t){if(t[7]!==i){const s=+t[7];e=t[8]?bv(s):Hc(255*s,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?bv(i):Hc(i,0,255)),r=255&(t[4]?bv(r):Hc(r,0,255)),o=255&(t[6]?bv(o):Hc(o,0,255)),{r:i,g:r,b:o,a:e}}}(n):function BIe(n){const t=PIe.exec(n);let i,e=255;if(!t)return;t[5]!==i&&(e=t[6]?bv(+t[5]):ud(+t[5]));const r=GG(+t[2]),o=+t[3]/100,s=+t[4]/100;return i="hwb"===t[1]?function LIe(n,t,e){return nN(NIe,n,t,e)}(r,o,s):"hsv"===t[1]?function VIe(n,t,e){return nN(OIe,n,t,e)}(r,o,s):iN(r,o,s),{r:i[0],g:i[1],b:i[2],a:e}}(n)}class op{constructor(t){if(t instanceof op)return t;const e=typeof t;let i;"object"===e?i=YG(t):"string"===e&&(i=function DIe(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*Bs[n[1]],g:255&17*Bs[n[2]],b:255&17*Bs[n[3]],a:5===t?17*Bs[n[4]]:255}:(7===t||9===t)&&(e={r:Bs[n[1]]<<4|Bs[n[2]],g:Bs[n[3]]<<4|Bs[n[4]],b:Bs[n[5]]<<4|Bs[n[6]],a:9===t?Bs[n[7]]<<4|Bs[n[8]]:255})),e}(t)||function HIe(n){SI||(SI=function zIe(){const n={},t=Object.keys(KG),e=Object.keys($G);let i,r,o,s,a;for(i=0;i<t.length;i++){for(s=a=t[i],r=0;r<e.length;r++)o=e[r],a=a.replace(o,$G[o]);o=parseInt(KG[s],16),n[a]=[o>>16&255,o>>8&255,255&o]}return n}(),SI.transparent=[0,0,0,0]);const t=SI[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||KIe(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=QG(this._rgb);return t&&(t.a=qc(t.a)),t}set rgb(t){this._rgb=YG(t)}rgbString(){return this._valid?function GIe(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${qc(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function MIe(n){var t=(n=>kI(n.r)&&kI(n.g)&&kI(n.b)&&kI(n.a))(n)?AIe:kIe;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function jIe(n){if(!n)return;const t=tN(n),e=t[0],i=qG(t[1]),r=qG(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${qc(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const s=e===o?.5:e,a=2*s-1,c=i.a-r.a,l=((a*c==-1?a:(a+c)/(1+a*c))+1)/2;o=1-l,i.r=255&l*i.r+o*r.r+.5,i.g=255&l*i.g+o*r.g+.5,i.b=255&l*i.b+o*r.b+.5,i.a=s*i.a+(1-s)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function $Ie(n,t,e){const i=rp(qc(n.r)),r=rp(qc(n.g)),o=rp(qc(n.b));return{r:ud(rN(i+e*(rp(qc(t.r))-i))),g:ud(rN(r+e*(rp(qc(t.g))-r))),b:ud(rN(o+e*(rp(qc(t.b))-o))),a:n.a+e*(t.a-n.a)}}(this._rgb,t._rgb,e)),this}clone(){return new op(this.rgb)}alpha(t){return this._rgb.a=ud(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=ip(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return DI(this._rgb,2,t),this}darken(t){return DI(this._rgb,2,-t),this}saturate(t){return DI(this._rgb,1,t),this}desaturate(t){return DI(this._rgb,1,-t),this}rotate(t){return function UIe(n,t){var e=tN(n);e[0]=GG(e[0]+t),e=iN(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function Wc(){}const QIe=(()=>{let n=0;return()=>n++})();function _n(n){return null==n}function xi(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function ln(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function ji(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function hs(n,t){return ji(n)?n:t}function Vt(n,t){return typeof n>"u"?t:n}const XG=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ci(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function Pn(n,t,e,i){let r,o,s;if(xi(n))if(o=n.length,i)for(r=o-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<o;r++)t.call(e,n[r],r);else if(ln(n))for(s=Object.keys(n),o=s.length,r=0;r<o;r++)t.call(e,n[s[r]],s[r])}function RI(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function MI(n){if(xi(n))return n.map(MI);if(ln(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=MI(n[e[r]]);return t}return n}function JG(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function XIe(n,t,e,i){if(!JG(n))return;const r=t[n],o=e[n];ln(r)&&ln(o)?vv(r,o,i):t[n]=MI(o)}function vv(n,t,e){const i=xi(t)?t:[t],r=i.length;if(!ln(n))return n;const o=(e=e||{}).merger||XIe;let s;for(let a=0;a<r;++a){if(s=i[a],!ln(s))continue;const c=Object.keys(s);for(let l=0,d=c.length;l<d;++l)o(c[l],n,s,e)}return n}function yv(n,t){return vv(n,t,{merger:JIe})}function JIe(n,t,e){if(!JG(n))return;const i=t[n],r=e[n];ln(i)&&ln(r)?yv(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=MI(r))}const ZG={"":n=>n,x:n=>n.x,y:n=>n.y};function hd(n,t){return(ZG[t]||(ZG[t]=function eCe(n){const t=function ZIe(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}(n);return e=>{for(const i of t){if(""===i)break;e=e&&e[i]}return e}}(t)))(n)}function oN(n){return n.charAt(0).toUpperCase()+n.slice(1)}const xv=n=>typeof n<"u",fd=n=>"function"==typeof n,e$=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},wi=Math.PI,Ei=2*wi,nCe=Ei+wi,PI=Number.POSITIVE_INFINITY,iCe=wi/180,tr=wi/2,th=wi/4,t$=2*wi/3,md=Math.log10,Ga=Math.sign;function wv(n,t,e){return Math.abs(n-t)<e}function n$(n){const t=Math.round(n);n=wv(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(md(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function sp(n){return!isNaN(parseFloat(n))&&isFinite(n)}function i$(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function ca(n){return n*(wi/180)}function sN(n){return n*(180/wi)}function r$(n){if(!ji(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function o$(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*wi&&(o+=Ei),{angle:o,distance:r}}function aN(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function sCe(n,t){return(n-t+nCe)%Ei-wi}function fs(n){return(n%Ei+Ei)%Ei}function Ev(n,t,e,i){const r=fs(n),o=fs(t),s=fs(e),a=fs(o-r),c=fs(s-r),l=fs(r-o),d=fs(r-s);return r===o||r===s||i&&o===s||a>c&&l<d}function Mr(n,t,e){return Math.max(t,Math.min(e,n))}function Gc(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function cN(n,t,e){e=e||(s=>n[s]<t);let o,i=n.length-1,r=0;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const $c=(n,t,e,i)=>cN(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),cCe=(n,t,e)=>cN(n,e,i=>n[i][t]>=e),s$=["push","pop","shift","splice","unshift"];function a$(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),!(i.length>0)&&(s$.forEach(o=>{delete n[o]}),delete n._chartjs)}function c$(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const l$=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function d$(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,l$.call(window,()=>{i=!1,n.apply(t,e)}))}}const lN=n=>"start"===n?"left":"end"===n?"right":"center",so=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function u$(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:s,_parsed:a}=n,c=s.axis,{min:l,max:d,minDefined:u,maxDefined:p}=s.getUserBounds();u&&(r=Mr(Math.min($c(a,c,l).lo,e?i:$c(t,c,s.getPixelForValue(l)).lo),0,i-1)),o=p?Mr(Math.max($c(a,s.axis,d,!0).hi+1,e?0:$c(t,c,s.getPixelForValue(d),!0).hi+1),r,i)-r:i-r}return{start:r,count:o}}function h$(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const OI=n=>0===n||1===n,f$=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*Ei/e),m$=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Ei/e)+1,Iv={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*tr),easeOutSine:n=>Math.sin(n*tr),easeInOutSine:n=>-.5*(Math.cos(wi*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>OI(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>OI(n)?n:f$(n,.075,.3),easeOutElastic:n=>OI(n)?n:m$(n,.075,.3),easeInOutElastic:n=>OI(n)?n:n<.5?.5*f$(2*n,.1125,.45):.5+.5*m$(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-Iv.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*Iv.easeInBounce(2*n):.5*Iv.easeOutBounce(2*n-1)+.5};function dN(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function p$(n){return dN(n)?n:new op(n)}function uN(n){return dN(n)?n:new op(n).saturate(.5).darken(.1).hexString()}const fCe=["x","y","borderWidth","radius","tension"],mCe=["color","borderColor","backgroundColor"],g$=new Map;function Cv(n,t,e){return function _Ce(n,t){t=t||{};const e=n+JSON.stringify(t);let i=g$.get(e);return i||(i=new Intl.NumberFormat(n,t),g$.set(e,i)),i}(t,e).format(n)}const _$={values:n=>xi(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const l=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(l<1e-4||l>1e15)&&(r="scientific"),o=function bCe(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const s=md(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Cv(n,i,c)},logarithmic(n,t,e){if(0===n)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(md(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?_$.numeric.call(this,n,t,e):""}};var NI={formatters:_$};const nh=Object.create(null),hN=Object.create(null);function Tv(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function fN(n,t,e){return"string"==typeof t?vv(Tv(n,t),e):vv(Tv(n,""),t)}class yCe{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>uN(r.backgroundColor),this.hoverBorderColor=(i,r)=>uN(r.borderColor),this.hoverColor=(i,r)=>uN(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return fN(this,t,e)}get(t){return Tv(this,t)}describe(t,e){return fN(hN,t,e)}override(t,e){return fN(nh,t,e)}route(t,e,i,r){const o=Tv(this,t),s=Tv(this,i),a="_"+e;Object.defineProperties(o,{[a]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const c=this[a],l=s[r];return ln(c)?Object.assign({},l,c):Vt(c,l)},set(c){this[a]=c}}})}apply(t){t.forEach(e=>e(this))}}var Ri=new yCe({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function pCe(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),n.set("animations",{colors:{type:"color",properties:mCe},numbers:{type:"number",properties:fCe}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function gCe(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function vCe(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:NI.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function FI(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function wCe(n,t,e,i){let r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let s=0;const a=e.length;let c,l,d,u,p;for(c=0;c<a;c++)if(u=e[c],null==u||xi(u)){if(xi(u))for(l=0,d=u.length;l<d;l++)p=u[l],null!=p&&!xi(p)&&(s=FI(n,r,o,s,p))}else s=FI(n,r,o,s,u);n.restore();const b=o.length/2;if(b>e.length){for(c=0;c<b;c++)delete r[o[c]];o.splice(0,b)}return s}function ih(n,t,e){const i=n.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function b$(n,t){!t&&!n||((t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function mN(n,t,e,i){v$(n,t,e,i,null)}function v$(n,t,e,i,r){let o,s,a,c,l,d,u,p;const b=t.pointStyle,v=t.rotation,x=t.radius;let w=(v||0)*iCe;if(b&&"object"==typeof b&&(o=b.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return n.save(),n.translate(e,i),n.rotate(w),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),void n.restore();if(!(isNaN(x)||x<=0)){switch(n.beginPath(),b){default:r?n.ellipse(e,i,r/2,x,0,0,Ei):n.arc(e,i,x,0,Ei),n.closePath();break;case"triangle":d=r?r/2:x,n.moveTo(e+Math.sin(w)*d,i-Math.cos(w)*x),w+=t$,n.lineTo(e+Math.sin(w)*d,i-Math.cos(w)*x),w+=t$,n.lineTo(e+Math.sin(w)*d,i-Math.cos(w)*x),n.closePath();break;case"rectRounded":l=.516*x,c=x-l,s=Math.cos(w+th)*c,u=Math.cos(w+th)*(r?r/2-l:c),a=Math.sin(w+th)*c,p=Math.sin(w+th)*(r?r/2-l:c),n.arc(e-u,i-a,l,w-wi,w-tr),n.arc(e+p,i-s,l,w-tr,w),n.arc(e+u,i+a,l,w,w+tr),n.arc(e-p,i+s,l,w+tr,w+wi),n.closePath();break;case"rect":if(!v){c=Math.SQRT1_2*x,d=r?r/2:c,n.rect(e-d,i-c,2*d,2*c);break}w+=th;case"rectRot":u=Math.cos(w)*(r?r/2:x),s=Math.cos(w)*x,a=Math.sin(w)*x,p=Math.sin(w)*(r?r/2:x),n.moveTo(e-u,i-a),n.lineTo(e+p,i-s),n.lineTo(e+u,i+a),n.lineTo(e-p,i+s),n.closePath();break;case"crossRot":w+=th;case"cross":u=Math.cos(w)*(r?r/2:x),s=Math.cos(w)*x,a=Math.sin(w)*x,p=Math.sin(w)*(r?r/2:x),n.moveTo(e-u,i-a),n.lineTo(e+u,i+a),n.moveTo(e+p,i-s),n.lineTo(e-p,i+s);break;case"star":u=Math.cos(w)*(r?r/2:x),s=Math.cos(w)*x,a=Math.sin(w)*x,p=Math.sin(w)*(r?r/2:x),n.moveTo(e-u,i-a),n.lineTo(e+u,i+a),n.moveTo(e+p,i-s),n.lineTo(e-p,i+s),w+=th,u=Math.cos(w)*(r?r/2:x),s=Math.cos(w)*x,a=Math.sin(w)*x,p=Math.sin(w)*(r?r/2:x),n.moveTo(e-u,i-a),n.lineTo(e+u,i+a),n.moveTo(e+p,i-s),n.lineTo(e-p,i+s);break;case"line":s=r?r/2:Math.cos(w)*x,a=Math.sin(w)*x,n.moveTo(e-s,i-a),n.lineTo(e+s,i+a);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(w)*(r?r/2:x),i+Math.sin(w)*x);break;case!1:n.closePath()}n.fill(),t.borderWidth>0&&n.stroke()}}function Kc(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function LI(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function VI(n){n.restore()}function ECe(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if("middle"===r){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else"after"===r!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function ICe(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function TCe(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),s=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=e+o.actualBoundingBoxDescent,d=r.strikethrough?(e-o.actualBoundingBoxAscent+l)/2:l;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(s,d),n.lineTo(a,d),n.stroke()}}function ACe(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function rh(n,t,e,i,r,o={}){const s=xi(t)?t:[t],a=o.strokeWidth>0&&""!==o.strokeColor;let c,l;for(n.save(),n.font=r.string,function CCe(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),_n(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,o),c=0;c<s.length;++c)l=s[c],o.backdrop&&ACe(n,o.backdrop),a&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),_n(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(l,e,i,o.maxWidth)),n.fillText(l,e,i,o.maxWidth),TCe(n,e,i,l,o),i+=Number(r.lineHeight);n.restore()}function Av(n,t){const{x:e,y:i,w:r,h:o,radius:s}=t;n.arc(e+s.topLeft,i+s.topLeft,s.topLeft,1.5*wi,wi,!0),n.lineTo(e,i+o-s.bottomLeft),n.arc(e+s.bottomLeft,i+o-s.bottomLeft,s.bottomLeft,wi,tr,!0),n.lineTo(e+r-s.bottomRight,i+o),n.arc(e+r-s.bottomRight,i+o-s.bottomRight,s.bottomRight,tr,0,!0),n.lineTo(e+r,i+s.topRight),n.arc(e+r-s.topRight,i+s.topRight,s.topRight,0,-tr,!0),n.lineTo(e+s.topLeft,i)}const kCe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,SCe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function DCe(n,t){const e=(""+n).match(kCe);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const RCe=n=>+n||0;function pN(n,t){const e={},i=ln(t),r=i?Object.keys(t):t,o=ln(n)?i?s=>Vt(n[s],n[t[s]]):s=>n[s]:()=>n;for(const s of r)e[s]=RCe(o(s));return e}function y$(n){return pN(n,{top:"y",right:"x",bottom:"y",left:"x"})}function oh(n){return pN(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ao(n){const t=y$(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function br(n,t){let e=Vt((n=n||{}).size,(t=t||Ri.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=Vt(n.style,t.style);i&&!(""+i).match(SCe)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Vt(n.family,t.family),lineHeight:DCe(Vt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Vt(n.weight,t.weight),string:""};return r.string=function xCe(n){return!n||_n(n.size)||_n(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function kv(n,t,e,i){let o,s,a,r=!0;for(o=0,s=n.length;o<s;++o)if(a=n[o],void 0!==a&&(void 0!==t&&"function"==typeof a&&(a=a(t),r=!1),void 0!==e&&xi(a)&&(a=a[e%a.length],r=!1),void 0!==a))return i&&!r&&(i.cacheable=!1),a}function pd(n,t){return Object.assign(Object.create(n),t)}function gN(n,t=[""],e,i,r=(()=>n[0])){const o=e||n;typeof i>"u"&&(i=C$("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:a=>gN([a,...n],t,o,i)};return new Proxy(s,{deleteProperty:(a,c)=>(delete a[c],delete a._keys,delete n[0][c],!0),get:(a,c)=>w$(a,c,()=>function UCe(n,t,e,i){let r;for(const o of t)if(r=C$(PCe(o,n),e),typeof r<"u")return _N(n,r)?bN(e,i,n,r):r}(c,t,n,a)),getOwnPropertyDescriptor:(a,c)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],c),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(a,c)=>T$(a).includes(c),ownKeys:a=>T$(a),set(a,c,l){const d=a._storage||(a._storage=r());return a[c]=d[c]=l,delete a._keys,!0}})}function ap(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:x$(n,i),setContext:o=>ap(n,o,e,i),override:o=>ap(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty:(o,s)=>(delete o[s],delete n[s],!0),get:(o,s,a)=>w$(o,s,()=>function OCe(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:s}=n;let a=i[t];return fd(a)&&s.isScriptable(t)&&(a=function NCe(n,t,e,i){const{_proxy:r,_context:o,_subProxy:s,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let c=t(o,s||i);return a.delete(n),_N(n,c)&&(c=bN(r._scopes,r,n,c)),c}(t,a,n,e)),xi(a)&&a.length&&(a=function FCe(n,t,e,i){const{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(ln(t[0])){const c=t,l=r._scopes.filter(d=>d!==c);t=[];for(const d of c){const u=bN(l,r,n,d);t.push(ap(u,o,s&&s[n],a))}}return t}(t,a,n,s.isIndexable)),_N(t,a)&&(a=ap(a,r,o&&o[t],s)),a}(o,s,a)),getOwnPropertyDescriptor:(o,s)=>o._descriptors.allKeys?Reflect.has(n,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,s),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(o,s)=>Reflect.has(n,s),ownKeys:()=>Reflect.ownKeys(n),set:(o,s,a)=>(n[s]=a,delete o[s],!0)})}function x$(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:fd(e)?e:()=>e,isIndexable:fd(i)?i:()=>i}}const PCe=(n,t)=>n?n+oN(t):t,_N=(n,t)=>ln(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function w$(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||"constructor"===t)return n[t];const i=e();return n[t]=i,i}function E$(n,t,e){return fd(n)?n(t,e):n}const LCe=(n,t)=>!0===n?t:"string"==typeof n?hd(t,n):void 0;function VCe(n,t,e,i,r){for(const o of t){const s=LCe(e,o);if(s){n.add(s);const a=E$(s._fallback,e,r);if(typeof a<"u"&&a!==e&&a!==i)return a}else if(!1===s&&typeof i<"u"&&e!==i)return null}return!1}function bN(n,t,e,i){const r=t._rootScopes,o=E$(t._fallback,e,i),s=[...n,...r],a=new Set;a.add(i);let c=I$(a,s,e,o||e,i);return!(null===c||typeof o<"u"&&o!==e&&(c=I$(a,s,o,c,i),null===c))&&gN(Array.from(a),[""],r,o,()=>function BCe(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return xi(r)&&ln(e)?e:r||{}}(t,e,i))}function I$(n,t,e,i,r){for(;e;)e=VCe(n,t,e,i,r);return e}function C$(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function T$(n){let t=n._keys;return t||(t=n._keys=function jCe(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}(n._scopes)),t}function A$(n,t,e,i){const{iScale:r}=n,{key:o="r"}=this._parsing,s=new Array(i);let a,c,l,d;for(a=0,c=i;a<c;++a)l=a+e,d=t[l],s[a]={r:r.parse(hd(d,o),l)};return s}const zCe=Number.EPSILON||1e-14,cp=(n,t)=>t<n.length&&!n[t].skip&&n[t],k$=n=>"x"===n?"y":"x";function HCe(n,t,e,i){const r=n.skip?t:n,o=t,s=e.skip?t:e,a=aN(o,r),c=aN(s,o);let l=a/(a+c),d=c/(a+c);l=isNaN(l)?0:l,d=isNaN(d)?0:d;const u=i*l,p=i*d;return{previous:{x:o.x-u*(s.x-r.x),y:o.y-u*(s.y-r.y)},next:{x:o.x+p*(s.x-r.x),y:o.y+p*(s.y-r.y)}}}function BI(n,t,e){return Math.max(Math.min(n,e),t)}function KCe(n,t,e,i,r){let o,s,a,c;if(t.spanGaps&&(n=n.filter(l=>!l.skip)),"monotone"===t.cubicInterpolationMode)!function GCe(n,t="x"){const e=k$(t),i=n.length,r=Array(i).fill(0),o=Array(i);let s,a,c,l=cp(n,0);for(s=0;s<i;++s)if(a=c,c=l,l=cp(n,s+1),c){if(l){const d=l[t]-c[t];r[s]=0!==d?(l[e]-c[e])/d:0}o[s]=a?l?Ga(r[s-1])!==Ga(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}(function qCe(n,t,e){const i=n.length;let r,o,s,a,c,l=cp(n,0);for(let d=0;d<i-1;++d)if(c=l,l=cp(n,d+1),c&&l){if(wv(t[d],0,zCe)){e[d]=e[d+1]=0;continue}r=e[d]/t[d],o=e[d+1]/t[d],a=Math.pow(r,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),e[d]=r*s*t[d],e[d+1]=o*s*t[d])}})(n,r,o),function WCe(n,t,e="x"){const i=k$(e),r=n.length;let o,s,a,c=cp(n,0);for(let l=0;l<r;++l){if(s=a,a=c,c=cp(n,l+1),!a)continue;const d=a[e],u=a[i];s&&(o=(d-s[e])/3,a[`cp1${e}`]=d-o,a[`cp1${i}`]=u-o*t[l]),c&&(o=(c[e]-d)/3,a[`cp2${e}`]=d+o,a[`cp2${i}`]=u+o*t[l])}}(n,o,t)}(n,r);else{let l=i?n[n.length-1]:n[0];for(o=0,s=n.length;o<s;++o)a=n[o],c=HCe(l,a,n[Math.min(o+1,s-(i?0:1))%s],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}t.capBezierPoints&&function $Ce(n,t){let e,i,r,o,s,a=Kc(n[0],t);for(e=0,i=n.length;e<i;++e)s=o,o=a,a=e<i-1&&Kc(n[e+1],t),o&&(r=n[e],s&&(r.cp1x=BI(r.cp1x,t.left,t.right),r.cp1y=BI(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=BI(r.cp2x,t.left,t.right),r.cp2y=BI(r.cp2y,t.top,t.bottom)))}(n,e)}function vN(){return typeof window<"u"&&typeof document<"u"}function yN(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function UI(n,t,e){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*t.parentNode[e])):i=n,i}const jI=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),YCe=["top","right","bottom","left"];function sh(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=YCe[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const XCe=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function ah(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=jI(e),o="border-box"===r.boxSizing,s=sh(r,"padding"),a=sh(r,"border","width"),{x:c,y:l,box:d}=function JCe(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let a,c,s=!1;if(XCe(r,o,n.target))a=r,c=o;else{const l=t.getBoundingClientRect();a=i.clientX-l.left,c=i.clientY-l.top,s=!0}return{x:a,y:c,box:s}}(n,e),u=s.left+(d&&a.left),p=s.top+(d&&a.top);let{width:b,height:v}=t;return o&&(b-=s.width+a.width,v-=s.height+a.height),{x:Math.round((c-u)/b*e.width/i),y:Math.round((l-p)/v*e.height/i)}}const zI=n=>Math.round(10*n)/10;function S$(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const s=n.canvas;return s.style&&(e||!s.style.height&&!s.style.width)&&(s.style.height=`${n.height}px`,s.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||s.height!==r||s.width!==o)&&(n.currentDevicePixelRatio=i,s.height=r,s.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0)}const tTe=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};vN()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function D$(n,t){const e=function QCe(n,t){return jI(n).getPropertyValue(t)}(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ch(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function nTe(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:"middle"===i?e<.5?n.y:t.y:"after"===i?e<1?n.y:t.y:e>0?t.y:n.y}}function iTe(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},s=ch(n,r,e),a=ch(r,o,e),c=ch(o,t,e),l=ch(s,a,e),d=ch(a,c,e);return ch(l,d,e)}function lp(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function R$(n,t){let e,i;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function M$(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function P$(n){return"angle"===n?{between:Ev,compare:sCe,normalize:fs}:{between:Gc,compare:(t,e)=>t-e,normalize:t=>t}}function O$({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:r}}function N$(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,s=t.length,{compare:a,between:c,normalize:l}=P$(i),{start:d,end:u,loop:p,style:b}=function sTe(n,t,e){const{property:i,start:r,end:o}=e,{between:s,normalize:a}=P$(i),c=t.length;let p,b,{start:l,end:d,loop:u}=n;if(u){for(l+=c,d+=c,p=0,b=c;p<b&&s(a(t[l%c][i]),r,o);++p)l--,d--;l%=c,d%=c}return d<l&&(d+=c),{start:l,end:d,loop:u,style:n.style}}(n,t,e),v=[];let F,R,z,x=!1,w=null;for(let P=d,B=d;P<=u;++P)R=t[P%s],!R.skip&&(F=l(R[i]),F!==z&&(x=c(F,r,o),null===w&&(x||c(r,z,F)&&0!==a(r,z))&&(w=0===a(F,r)?P:B),null!==w&&(!x||0===a(o,F)||c(o,z,F))&&(v.push(O$({start:w,end:P,loop:p,count:s,style:b})),w=null),B=P,z=F));return null!==w&&v.push(O$({start:w,end:u,loop:p,count:s,style:b})),v}function F$(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=N$(i[r],n.points,t);o.length&&e.push(...o)}return e}function V$(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function uTe(n,t){if(!t)return!1;const e=[],i=function(r,o){return dN(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}class hTe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const s=e.duration;e.listeners[r].forEach(a=>a({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(i-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=l$.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c,s=o.length-1,a=!1;for(;s>=0;--s)c=o[s],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(t),a=!0):(o[s]=o[o.length-1],o.pop());a&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Qc=new hTe;const B$="transparent",fTe={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const i=p$(n||B$),r=i.valid&&p$(t||B$);return r&&r.valid?r.mix(i,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class mTe{constructor(t,e,i,r){const o=e[i];r=kv([t.to,r,o,t.from]);const s=kv([t.from,o,r]);this._active=!0,this._fn=t.fn||fTe[t.type||typeof s],this._easing=Iv[t.easing]||Iv.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,s=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=kv([t.to,e,r,t.from]),this._from=kv([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,s=this._loop,a=this._to;let c;if(this._active=o!==a&&(s||e<i),!this._active)return this._target[r]=a,void this._notify(!0);e<0?this._target[r]=o:(c=e/i%2,c=s&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(o,a,c))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class U${constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!ln(t))return;const e=Object.keys(Ri.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!ln(o))return;const s={};for(const a of e)s[a]=o[a];(xi(o.properties)&&o.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,s)})})}_animateOptions(t,e){const i=e.options,r=function gTe(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&function pTe(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),s=Object.keys(e),a=Date.now();let c;for(c=s.length-1;c>=0;--c){const l=s[c];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(t,e));continue}const d=e[l];let u=o[l];const p=i.get(l);if(u){if(p&&u.active()){u.update(p,d,a);continue}u.cancel()}p&&p.duration?(o[l]=u=new mTe(p,t,l,d),r.push(u)):t[l]=d}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(Qc.add(this._chart,i),!0):void 0}}function j$(n,t){const e=n&&n.options||{},i=e.reverse,r=void 0===e.min?t:0,o=void 0===e.max?t:0;return{start:i?o:r,end:i?r:o}}function z$(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function H$(n,t,e,i={}){const r=n.keys,o="single"===i.mode;let s,a,c,l;if(null===t)return;let d=!1;for(s=0,a=r.length;s<a;++s){if(c=+r[s],c===e){if(d=!0,i.all)continue;break}l=n.values[c],ji(l)&&(o||0===t||Ga(t)===Ga(l))&&(t+=l)}return d||i.all?t:0}function xN(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function wTe(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function q$(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function W$(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:s,index:a}=i,c=o.axis,l=s.axis,d=function yTe(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(o,s,i),u=t.length;let p;for(let b=0;b<u;++b){const v=t[b],{[c]:x,[l]:w}=v;p=(v._stacks||(v._stacks={}))[l]=wTe(r,d,x),p[a]=w,p._top=q$(p,s,!0,i.type),p._bottom=q$(p,s,!1,i.type),(p._visualValues||(p._visualValues={}))[a]=w}}function wN(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Sv(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||void 0===o[i]||void 0===o[i][e])return;delete o[i][e],void 0!==o[i]._visualValues&&void 0!==o[i]._visualValues[e]&&delete o[i]._visualValues[e]}}}const EN=n=>"reset"===n||"none"===n,G$=(n,t)=>t?n:Object.assign({},n);let gd=(()=>class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=xN(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Sv(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,r=this.getDataset(),o=(p,b,v,x)=>"x"===p?b:"r"===p?x:v,s=i.xAxisID=Vt(r.xAxisID,wN(e,"x")),a=i.yAxisID=Vt(r.yAxisID,wN(e,"y")),c=i.rAxisID=Vt(r.rAxisID,wN(e,"r")),l=i.indexAxis,d=i.iAxisID=o(l,s,a,c),u=i.vAxisID=o(l,a,s,c);i.xScale=this.getScaleForId(s),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(c),i.iScale=this.getScaleForId(d),i.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&a$(this._data,this),e._stacked&&Sv(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),r=this._data;if(ln(i))this._data=function vTe(n,t){const{iScale:e,vScale:i}=t,r="x"===e.axis?"x":"y",o="x"===i.axis?"x":"y",s=Object.keys(n),a=new Array(s.length);let c,l,d;for(c=0,l=s.length;c<l;++c)d=s[c],a[c]={[r]:d,[o]:n[d]};return a}(i,this._cachedMeta);else if(r!==i){if(r){a$(r,this);const o=this._cachedMeta;Sv(o),o._parsed=[]}i&&Object.isExtensible(i)&&function dCe(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),s$.forEach(e=>{const i="_onData"+oN(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const s=r.apply(this,o);return n._chartjs.listeners.forEach(a=>{"function"==typeof a[i]&&a[i](...o)}),s}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const s=i._stacked;i._stacked=xN(i.vScale,i),i.stack!==r.stack&&(o=!0,Sv(i),i.stack=r.stack),this._resyncElements(e),(o||s!==i._stacked)&&(W$(this,i._parsed),i._stacked=xN(i.vScale,i))}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:r,_data:o}=this,{iScale:s,_stacked:a}=r,c=s.axis;let u,p,b,l=0===e&&i===o.length||r._sorted,d=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=o,r._sorted=!0,b=o;else{b=xi(o[e])?this.parseArrayData(r,o,e,i):ln(o[e])?this.parseObjectData(r,o,e,i):this.parsePrimitiveData(r,o,e,i);const v=()=>null===p[c]||d&&p[c]<d[c];for(u=0;u<i;++u)r._parsed[u+e]=p=b[u],l&&(v()&&(l=!1),d=p);r._sorted=l}a&&W$(this,b)}parsePrimitiveData(e,i,r,o){const{iScale:s,vScale:a}=e,c=s.axis,l=a.axis,d=s.getLabels(),u=s===a,p=new Array(o);let b,v,x;for(b=0,v=o;b<v;++b)x=b+r,p[b]={[c]:u||s.parse(d[x],x),[l]:a.parse(i[x],x)};return p}parseArrayData(e,i,r,o){const{xScale:s,yScale:a}=e,c=new Array(o);let l,d,u,p;for(l=0,d=o;l<d;++l)u=l+r,p=i[u],c[l]={x:s.parse(p[0],u),y:a.parse(p[1],u)};return c}parseObjectData(e,i,r,o){const{xScale:s,yScale:a}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=new Array(o);let u,p,b,v;for(u=0,p=o;u<p;++u)b=u+r,v=i[b],d[u]={x:s.parse(hd(v,c),b),y:a.parse(hd(v,l),b)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,r){const s=this._cachedMeta,a=i[e.axis];return H$({keys:z$(this.chart,!0),values:i._stacks[e.axis]._visualValues},a,s.index,{mode:r})}updateRangeFromParsed(e,i,r,o){const s=r[i.axis];let a=null===s?NaN:s;const c=o&&r._stacks[i.axis];o&&c&&(o.values=c,a=H$(o,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,i){const r=this._cachedMeta,o=r._parsed,s=r._sorted&&e===r.iScale,a=o.length,c=this._getOtherScale(e),l=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:z$(this.chart,!0),values:null})(i,r),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:p}=function xTe(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(c);let b,v;function x(){v=o[b];const w=v[c.axis];return!ji(v[e.axis])||u>w||p<w}for(b=0;b<a&&(x()||(this.updateRangeFromParsed(d,e,v,l),!s));++b);if(s)for(b=a-1;b>=0;--b)if(!x()){this.updateRangeFromParsed(d,e,v,l);break}return d}getAllParsedValues(e){const i=this._cachedMeta._parsed,r=[];let o,s,a;for(o=0,s=i.length;o<s;++o)a=i[o][e.axis],ji(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,r=i.iScale,o=i.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=function bTe(n){let t,e,i,r;return ln(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:!1===n}}(Vt(this.options.clip,function _Te(n,t,e){if(!1===e)return!1;const i=j$(n,e),r=j$(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this._cachedMeta,o=r.data||[],s=this.chart.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||o.length-c,d=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,c,l),u=c;u<c+l;++u){const p=o[u];p.hidden||(p.active&&d?a.push(p):p.draw(e,s))}for(u=0;u<a.length;++u)a[u].draw(e,s)}getStyle(e,i){const r=i?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,i,r){const o=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=function ITe(n,t,e){return pd(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=o.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function ETe(n,t){return pd(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!i,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",r){const o="active"===i,s=this._cachedDataOpts,a=e+"-"+i,c=s[a],l=this.enableOptionSharing&&xv(r);if(c)return G$(c,l);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),p=o?[`${e}Hover`,"hover",e,""]:[e,""],b=d.getOptionScopes(this.getDataset(),u),v=Object.keys(Ri.elements[e]),w=d.resolveNamedOptions(b,v,()=>this.getContext(r,o,i),p);return w.$shared&&(w.$shared=l,s[a]=Object.freeze(G$(w,l))),w}_resolveAnimations(e,i,r){const o=this.chart,s=this._cachedDataOpts,a=`animation-${i}`,c=s[a];if(c)return c;let l;if(!1!==o.options.animation){const u=this.chart.config,p=u.datasetAnimationScopeKeys(this._type,i),b=u.getOptionScopes(this.getDataset(),p);l=u.createResolver(b,this.getContext(e,r,i))}const d=new U$(o,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||EN(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){const r=this.resolveDataElementOptions(e,i),o=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(i,s)||s!==o;return this.updateSharedOptions(s,i,r),{sharedOptions:s,includeOptions:a}}updateElement(e,i,r,o){EN(o)?Object.assign(e,r):this._resolveAnimations(i,o).update(e,r)}updateSharedOptions(e,i,r){e&&!EN(i)&&this._resolveAnimations(void 0,i).update(e,r)}_setStyle(e,i,r,o){e.active=o;const s=this.getStyle(i,o);this._resolveAnimations(i,r,o).update(e,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(e,i,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,i,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,r=this._cachedMeta.data;for(const[c,l,d]of this._syncList)this[c](l,d);this._syncList=[];const o=r.length,s=i.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,e):s<o&&this._removeElements(s,o-s)}_insertElements(e,i,r=!0){const o=this._cachedMeta,s=o.data,a=e+i;let c;const l=d=>{for(d.length+=i,c=d.length-1;c>=a;c--)d[c]=d[c-i]};for(l(s),c=e;c<a;++c)s[c]=new this.dataElementType;this._parsing&&l(o._parsed),this.parse(e,i),r&&this.updateElements(s,e,i,"reset")}updateElements(e,i,r,o){}_removeElements(e,i){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(e,i);r._stacked&&Sv(r,o)}r.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,r,o]=e;this[i](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function ATe(n){const t=n.iScale,e=function TTe(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=c$(i.sort((r,o)=>r-o))}return n._cache.$bar}(t,n.type);let r,o,s,a,i=t._length;const c=()=>{32767===s||-32768===s||(xv(a)&&(i=Math.min(i,Math.abs(s-a)||i)),a=s)};for(r=0,o=e.length;r<o;++r)s=t.getPixelForValue(e[r]),c();for(a=void 0,r=0,o=t.ticks.length;r<o;++r)s=t.getPixelForTick(r),c();return i}function $$(n,t,e,i){return xi(n)?function DTe(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),s=Math.min(r,o),a=Math.max(r,o);let c=s,l=a;Math.abs(s)>Math.abs(a)&&(c=a,l=s),t[e.axis]=l,t._custom={barStart:c,barEnd:l,start:r,end:o,min:s,max:a}}(n,t,e,i):t[e.axis]=e.parse(n,i),t}function K$(n,t,e,i){const r=n.iScale,o=n.vScale,s=r.getLabels(),a=r===o,c=[];let l,d,u,p;for(l=e,d=e+i;l<d;++l)p=t[l],u={},u[r.axis]=a||r.parse(s[l],l),c.push($$(p,u,o,l));return c}function IN(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function PTe(n,t,e,i){let r=t.borderSkipped;const o={};if(!r)return void(n.borderSkipped=o);if(!0===r)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:a,reverse:c,top:l,bottom:d}=function MTe(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}(n);"middle"===r&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=l:(e._bottom||0)===i?r=d:(o[Q$(d,s,a,c)]=!0,r=l)),o[Q$(r,s,a,c)]=!0,n.borderSkipped=o}function Q$(n,t,e,i){return i?(n=function OTe(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=Y$(n,e,t)):n=Y$(n,t,e),n}function Y$(n,t,e){return"start"===n?t:"end"===n?e:n}function NTe(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}let FTe=(()=>class n extends gd{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,i,r,o){return K$(e,i,r,o)}parseArrayData(e,i,r,o){return K$(e,i,r,o)}parseObjectData(e,i,r,o){const{iScale:s,vScale:a}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d="x"===s.axis?c:l,u="x"===a.axis?c:l,p=[];let b,v,x,w;for(b=r,v=r+o;b<v;++b)w=i[b],x={},x[s.axis]=s.parse(hd(w,d),b),p.push($$(hd(w,u),x,a,b));return p}updateRangeFromParsed(e,i,r,o){super.updateRangeFromParsed(e,i,r,o);const s=r._custom;s&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const i=this._cachedMeta,{iScale:r,vScale:o}=i,s=this.getParsed(e),a=s._custom,c=IN(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,r,o){const s="reset"===o,{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),d=c.isHorizontal(),u=this._getRuler(),{sharedOptions:p,includeOptions:b}=this._getSharedOptions(i,o);for(let v=i;v<i+r;v++){const x=this.getParsed(v),w=s||_n(x[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(v),F=this._calculateBarIndexPixels(v,u),R=(x._stacks||{})[c.axis],z={horizontal:d,base:w.base,enableBorderRadius:!R||IN(x._custom)||a===R._top||a===R._bottom,x:d?w.head:F.center,y:d?F.center:w.head,height:d?F.size:Math.abs(w.size),width:d?Math.abs(w.size):F.size};b&&(z.options=p||this.resolveDataElementOptions(v,e[v].active?"active":o));const K=z.options||e[v].options;PTe(z,K,R,a),NTe(z,K,u.ratio),this.updateElement(e[v],v,z,o)}}_getStacks(e,i){const{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(i),l=c&&c[r.axis],d=u=>{const p=u._parsed.find(v=>v[r.axis]===l),b=p&&p[u.vScale.axis];if(_n(b)||isNaN(b))return!0};for(const u of o)if((void 0===i||!d(u))&&((!1===s||-1===a.indexOf(u.stack)||void 0===s&&void 0===u.stack)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,r){const o=this._getStacks(e,r),s=void 0!==i?o.indexOf(i):-1;return-1===s?o.length-1:s}_getRuler(){const e=this.options,i=this._cachedMeta,r=i.iScale,o=[];let s,a;for(s=0,a=i.data.length;s<a;++s)o.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const c=e.barThickness;return{min:c||ATe(i),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:i,_stacked:r,index:o},options:{base:s,minBarLength:a}}=this,c=s||0,l=this.getParsed(e),d=l._custom,u=IN(d);let x,w,p=l[i.axis],b=0,v=r?this.applyStack(i,l,r):p;v!==p&&(b=v-p,v=p),u&&(p=d.barStart,v=d.barEnd-d.barStart,0!==p&&Ga(p)!==Ga(d.barEnd)&&(b=0),b+=p);const F=_n(s)||u?b:s;let R=i.getPixelForValue(F);if(x=this.chart.getDataVisibility(e)?i.getPixelForValue(b+v):R,w=x-R,Math.abs(w)<a){w=function RTe(n,t,e){return 0!==n?Ga(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(w,i,c)*a,p===c&&(R-=w/2);const z=i.getPixelForDecimal(0),K=i.getPixelForDecimal(1),Z=Math.min(z,K),ne=Math.max(z,K);R=Math.max(Math.min(R,ne),Z),x=R+w,r&&!u&&(l._stacks[i.axis]._visualValues[o]=i.getValueForPixel(x)-i.getValueForPixel(R))}if(R===i.getPixelForValue(c)){const z=Ga(w)*i.getLineWidthForValue(c)/2;R+=z,w-=z}return{size:w,base:R,head:x,center:x+w/2}}_calculateBarIndexPixels(e,i){const r=i.scale,o=this.options,s=o.skipNull,a=Vt(o.maxBarThickness,1/0);let c,l;if(i.grouped){const d=s?this._getStackCount(e):i.stackCount,u="flex"===o.barThickness?function STe(n,t,e,i){const r=t.pixels,o=r[n];let s=n>0?r[n-1]:null,a=n<r.length-1?r[n+1]:null;const c=e.categoryPercentage;null===s&&(s=o-(null===a?t.end-t.start:a-o)),null===a&&(a=o+o-s);const l=o-(o-Math.min(s,a))/2*c;return{chunk:Math.abs(a-s)/2*c/i,ratio:e.barPercentage,start:l}}(e,i,o,d):function kTe(n,t,e,i){const r=e.barThickness;let o,s;return _n(r)?(o=t.min*e.categoryPercentage,s=e.barPercentage):(o=r*i,s=1),{chunk:o/i,ratio:s,start:t.pixels[n]-o/2}}(e,i,o,d),p=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);c=u.start+u.chunk*p+u.chunk/2,l=Math.min(a,u.chunk*u.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,i.min*i.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){const e=this._cachedMeta,i=e.vScale,r=e.data,o=r.length;let s=0;for(;s<o;++s)null!==this.getParsed(s)[i.axis]&&!r[s].hidden&&r[s].draw(this._ctx)}})(),LTe=(()=>class n extends gd{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,r,o){const s=super.parsePrimitiveData(e,i,r,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(e,i,r,o){const s=super.parseArrayData(e,i,r,o);for(let a=0;a<s.length;a++)s[a]._custom=Vt(i[r+a][2],this.resolveDataElementOptions(a+r).radius);return s}parseObjectData(e,i,r,o){const s=super.parseObjectData(e,i,r,o);for(let a=0;a<s.length;a++){const c=i[r+a];s[a]._custom=Vt(c&&c.r&&+c.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let i=0;for(let r=e.length-1;r>=0;--r)i=Math.max(i,e[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(e){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=i,a=this.getParsed(e),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y),d=a._custom;return{label:r[e]||"",value:"("+c+", "+l+(d?", "+d:"")+")"}}update(e){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,r,o){const s="reset"===o,{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:d}=this._getSharedOptions(i,o),u=a.axis,p=c.axis;for(let b=i;b<i+r;b++){const v=e[b],x=!s&&this.getParsed(b),w={},F=w[u]=s?a.getPixelForDecimal(.5):a.getPixelForValue(x[u]),R=w[p]=s?c.getBasePixel():c.getPixelForValue(x[p]);w.skip=isNaN(F)||isNaN(R),d&&(w.options=l||this.resolveDataElementOptions(b,v.active?"active":o),s&&(w.options.radius=0)),this.updateElement(v,b,w,o)}}resolveDataElementOptions(e,i){const r=this.getParsed(e);let o=super.resolveDataElementOptions(e,i);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const s=o.radius;return"active"!==i&&(o.radius=0),o.radius+=Vt(r&&r._custom,s),o}})(),CN=(()=>class n extends gd{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const i=e.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:r,color:o}}=e.legend.options;return i.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const r=this.getDataset().data,o=this._cachedMeta;if(!1===this._parsing)o._parsed=r;else{let a,c,s=l=>+r[l];if(ln(r[e])){const{key:l="value"}=this._parsing;s=d=>+hd(r[d],l)}for(a=e,c=e+i;a<c;++a)o._parsed[a]=s(a)}}_getRotation(){return ca(this.options.rotation-90)}_getCircumference(){return ca(this.options.circumference)}_getRotationExtents(){let e=Ei,i=-Ei;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const o=this.chart.getDatasetMeta(r).controller,s=o._getRotation(),a=o._getCircumference();e=Math.min(e,s),i=Math.max(i,s+a)}return{rotation:e,circumference:i-e}}update(e){const i=this.chart,{chartArea:r}=i,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/t)(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:u,rotation:p}=this._getRotationExtents(),{ratioX:b,ratioY:v,offsetX:x,offsetY:w}=function VTe(n,t,e){let i=1,r=1,o=0,s=0;if(t<Ei){const a=n,c=a+t,l=Math.cos(a),d=Math.sin(a),u=Math.cos(c),p=Math.sin(c),b=(z,K,Z)=>Ev(z,a,c,!0)?1:Math.max(K,K*e,Z,Z*e),v=(z,K,Z)=>Ev(z,a,c,!0)?-1:Math.min(K,K*e,Z,Z*e),x=b(0,l,u),w=b(tr,d,p),F=v(wi,l,u),R=v(wi+tr,d,p);i=(x-F)/2,r=(w-R)/2,o=-(x+F)/2,s=-(w+R)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:s}}(p,u,l),z=Math.max(Math.min((r.width-a)/b,(r.height-a)/v)/2,0),K=XG(this.options.radius,z),ne=(K-Math.max(K*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=x*K,this.offsetY=w*K,o.total=this.calculateTotal(),this.outerRadius=K-ne*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ne*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,i){const r=this.options,o=this._cachedMeta,s=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===o._parsed[e]||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*s/Ei)}updateElements(e,i,r,o){const s="reset"===o,a=this.chart,c=a.chartArea,u=(c.left+c.right)/2,p=(c.top+c.bottom)/2,b=s&&a.options.animation.animateScale,v=b?0:this.innerRadius,x=b?0:this.outerRadius,{sharedOptions:w,includeOptions:F}=this._getSharedOptions(i,o);let z,R=this._getRotation();for(z=0;z<i;++z)R+=this._circumference(z,s);for(z=i;z<i+r;++z){const K=this._circumference(z,s),Z=e[z],ne={x:u+this.offsetX,y:p+this.offsetY,startAngle:R,endAngle:R+K,circumference:K,outerRadius:x,innerRadius:v};F&&(ne.options=w||this.resolveDataElementOptions(z,Z.active?"active":o)),R+=K,this.updateElement(Z,z,ne,o)}}calculateTotal(){const e=this._cachedMeta,i=e.data;let o,r=0;for(o=0;o<i.length;o++){const s=e._parsed[o];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!i[o].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?Ei*(Math.abs(e)/i):0}getLabelAndValue(e){const r=this.chart,o=r.data.labels||[],s=Cv(this._cachedMeta._parsed[e],r.options.locale);return{label:o[e]||"",value:s}}getMaxBorderWidth(e){let i=0;const r=this.chart;let o,s,a,c,l;if(!e)for(o=0,s=r.data.datasets.length;o<s;++o)if(r.isDatasetVisible(o)){a=r.getDatasetMeta(o),e=a.data,c=a.controller;break}if(!e)return 0;for(o=0,s=e.length;o<s;++o)l=c.resolveDataElementOptions(o),"inner"!==l.borderAlign&&(i=Math.max(i,l.borderWidth||0,l.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let r=0,o=e.length;r<o;++r){const s=this.resolveDataElementOptions(r);i=Math.max(i,s.offset||0,s.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(e){return Math.max(Vt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),BTe=(()=>class n extends gd{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:r,data:o=[],_dataset:s}=i,a=this.chart._animationsDisabled;let{start:c,count:l}=u$(i,o,a);this._drawStart=c,this._drawCount=l,h$(i)&&(c=0,l=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=o;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},e),this.updateElements(o,c,l,e)}updateElements(e,i,r,o){const s="reset"===o,{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:p}=this._getSharedOptions(i,o),b=a.axis,v=c.axis,{spanGaps:x,segment:w}=this.options,F=sp(x)?x:Number.POSITIVE_INFINITY,R=this.chart._animationsDisabled||s||"none"===o,z=i+r,K=e.length;let Z=i>0&&this.getParsed(i-1);for(let ne=0;ne<K;++ne){const U=e[ne],P=R?U:{};if(ne<i||ne>=z){P.skip=!0;continue}const B=this.getParsed(ne),G=_n(B[v]),Y=P[b]=a.getPixelForValue(B[b],ne),ee=P[v]=s||G?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,B,l):B[v],ne);P.skip=isNaN(Y)||isNaN(ee)||G,P.stop=ne>0&&Math.abs(B[b]-Z[b])>F,w&&(P.parsed=B,P.raw=d.data[ne]),p&&(P.options=u||this.resolveDataElementOptions(ne,U.active?"active":o)),R||this.updateElement(U,ne,P,o),Z=B}}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,r=i.options&&i.options.borderWidth||0,o=e.data||[];if(!o.length)return r;const s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}})(),X$=(()=>class n extends gd{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const i=e.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:r,color:o}}=e.legend.options;return i.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this.chart,o=r.data.labels||[],s=Cv(this._cachedMeta._parsed[e].r,r.options.locale);return{label:o[e]||"",value:s}}parseObjectData(e,i,r,o){return A$.bind(this)(e,i,r,o)}update(e){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,o)=>{const s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<i.min&&(i.min=s),s>i.max&&(i.max=s))}),i}_updateRadius(){const e=this.chart,i=e.chartArea,r=e.options,o=Math.min(i.right-i.left,i.bottom-i.top),s=Math.max(o/2,0),c=(s-Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=s-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,i,r,o){const s="reset"===o,a=this.chart,l=a.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,p=d.yCenter,b=d.getIndexAngle(0)-.5*wi;let x,v=b;const w=360/this.countVisibleElements();for(x=0;x<i;++x)v+=this._computeAngle(x,o,w);for(x=i;x<i+r;x++){const F=e[x];let R=v,z=v+this._computeAngle(x,o,w),K=a.getDataVisibility(x)?d.getDistanceFromCenterForValue(this.getParsed(x).r):0;v=z,s&&(l.animateScale&&(K=0),l.animateRotate&&(R=z=b));const Z={x:u,y:p,innerRadius:0,outerRadius:K,startAngle:R,endAngle:z,options:this.resolveDataElementOptions(x,F.active?"active":o)};this.updateElement(F,x,Z,o)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&i++}),i}_computeAngle(e,i,r){return this.chart.getDataVisibility(e)?ca(this.resolveDataElementOptions(e,i).angle||r):0}})();var UTe=Object.freeze({__proto__:null,BarController:FTe,BubbleController:LTe,DoughnutController:CN,LineController:BTe,PieController:(()=>class n extends CN{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:X$,RadarController:(()=>class n extends gd{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const i=this._cachedMeta.vScale,r=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(e,i,r,o){return A$.bind(this)(e,i,r,o)}update(e){const i=this._cachedMeta,r=i.dataset,o=i.data||[],s=i.iScale.getLabels();if(r.points=o,"resize"!==e){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:s.length===o.length,options:a},e)}this.updateElements(o,0,o.length,e)}updateElements(e,i,r,o){const s=this._cachedMeta.rScale,a="reset"===o;for(let c=i;c<i+r;c++){const l=e[c],d=this.resolveDataElementOptions(c,l.active?"active":o),u=s.getPointPositionForValue(c,this.getParsed(c).r),p=a?s.xCenter:u.x,b=a?s.yCenter:u.y,v={x:p,y:b,angle:u.angle,skip:isNaN(p)||isNaN(b),options:d};this.updateElement(l,c,v,o)}}})(),ScatterController:(()=>class n extends gd{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=i,a=this.getParsed(e),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y);return{label:r[e]||"",value:"("+c+", "+l+")"}}update(e){const i=this._cachedMeta,{data:r=[]}=i,o=this.chart._animationsDisabled;let{start:s,count:a}=u$(i,r,o);if(this._drawStart=s,this._drawCount=a,h$(i)&&(s=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:l}=i;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=r;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!o,options:d},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,r,o){const s="reset"===o,{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(i,o),p=this.getSharedOptions(u),b=this.includeOptions(o,p),v=a.axis,x=c.axis,{spanGaps:w,segment:F}=this.options,R=sp(w)?w:Number.POSITIVE_INFINITY,z=this.chart._animationsDisabled||s||"none"===o;let K=i>0&&this.getParsed(i-1);for(let Z=i;Z<i+r;++Z){const ne=e[Z],U=this.getParsed(Z),P=z?ne:{},B=_n(U[x]),G=P[v]=a.getPixelForValue(U[v],Z),Y=P[x]=s||B?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,U,l):U[x],Z);P.skip=isNaN(G)||isNaN(Y)||B,P.stop=Z>0&&Math.abs(U[v]-K[v])>R,F&&(P.parsed=U,P.raw=d.data[Z]),b&&(P.options=p||this.resolveDataElementOptions(Z,ne.active?"active":o)),z||this.updateElement(ne,Z,P,o),K=U}this.updateSharedOptions(p,o,u)}getMaxOverflow(){const e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let c=0;for(let l=i.length-1;l>=0;--l)c=Math.max(c,i[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}const r=e.dataset,o=r.options&&r.options.borderWidth||0;if(!i.length)return o;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(o,s,a)/2}})()});function lh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class TN{static override(t){Object.assign(TN.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return lh()}parse(){return lh()}format(){return lh()}add(){return lh()}diff(){return lh()}startOf(){return lh()}endOf(){return lh()}}var jTe__date=TN;function zTe(n,t,e,i){const{controller:r,data:o,_sorted:s}=n,a=r._cachedMeta.iScale;if(a&&t===a.axis&&"r"!==t&&s&&o.length){const c=a._reversePixels?cCe:$c;if(!i)return c(o,t,e);if(r._sharedOptions){const l=o[0],d="function"==typeof l.getRange&&l.getRange(t);if(d){const u=c(o,t,e-d),p=c(o,t,e+d);return{lo:u.lo,hi:p.hi}}}}return{lo:0,hi:o.length-1}}function Dv(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),s=e[t];for(let a=0,c=o.length;a<c;++a){const{index:l,data:d}=o[a],{lo:u,hi:p}=zTe(o[a],t,s,r);for(let b=u;b<=p;++b){const v=d[b];v.skip||i(v,l,b)}}}function AN(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||Dv(n,e,t,function(a,c,l){!r&&!Kc(a,n.chartArea,0)||a.inRange(t.x,t.y,i)&&o.push({element:a,datasetIndex:c,index:l})},!0),o}function kN(n,t,e,i,r,o){return o||n.isPointInArea(t)?"r"!==e||i?function WTe(n,t,e,i,r,o){let s=[];const a=function HTe(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(i,r){const o=t?Math.abs(i.x-r.x):0,s=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}(e);let c=Number.POSITIVE_INFINITY;return Dv(n,e,t,function l(d,u,p){const b=d.inRange(t.x,t.y,r);if(i&&!b)return;const v=d.getCenterPoint(r);if(!o&&!n.isPointInArea(v)&&!b)return;const w=a(t,v);w<c?(s=[{element:d,datasetIndex:u,index:p}],c=w):w===c&&s.push({element:d,datasetIndex:u,index:p})}),s}(n,t,e,i,r,o):function qTe(n,t,e,i){let r=[];return Dv(n,e,t,function o(s,a,c){const{startAngle:l,endAngle:d}=s.getProps(["startAngle","endAngle"],i),{angle:u}=o$(s,{x:t.x,y:t.y});Ev(u,l,d)&&r.push({element:s,datasetIndex:a,index:c})}),r}(n,t,e,r):[]}function J$(n,t,e,i,r){const o=[],s="x"===e?"inXRange":"inYRange";let a=!1;return Dv(n,e,t,(c,l,d)=>{c[s]&&c[s](t[e],r)&&(o.push({element:c,datasetIndex:l,index:d}),a=a||c.inRange(t.x,t.y,r))}),i&&!a?[]:o}var GTe={evaluateInteractionItems:Dv,modes:{index(n,t,e,i){const r=ah(t,n),o=e.axis||"x",s=e.includeInvisible||!1,a=e.intersect?AN(n,r,o,i,s):kN(n,r,o,!1,i,s),c=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(l=>{const d=a[0].index,u=l.data[d];u&&!u.skip&&c.push({element:u,datasetIndex:l.index,index:d})}),c):[]},dataset(n,t,e,i){const r=ah(t,n),o=e.axis||"xy",s=e.includeInvisible||!1;let a=e.intersect?AN(n,r,o,i,s):kN(n,r,o,!1,i,s);if(a.length>0){const c=a[0].datasetIndex,l=n.getDatasetMeta(c).data;a=[];for(let d=0;d<l.length;++d)a.push({element:l[d],datasetIndex:c,index:d})}return a},point:(n,t,e,i)=>AN(n,ah(t,n),e.axis||"xy",i,e.includeInvisible||!1),nearest:(n,t,e,i)=>kN(n,ah(t,n),e.axis||"xy",e.intersect,i,e.includeInvisible||!1),x:(n,t,e,i)=>J$(n,ah(t,n),"x",e.intersect,i),y:(n,t,e,i)=>J$(n,ah(t,n),"y",e.intersect,i)}};const Z$=["left","top","right","bottom"];function Rv(n,t){return n.filter(e=>e.pos===t)}function e7(n,t){return n.filter(e=>-1===Z$.indexOf(e.pos)&&e.box.axis===t)}function Mv(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function t7(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function n7(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function XTe(n,t,e,i){const{pos:r,box:o}=e,s=n.maxPadding;if(!ln(r)){e.size&&(n[r]-=e.size);const u=i[e.stack]||{size:0,count:1};u.size=Math.max(u.size,e.horizontal?o.height:o.width),e.size=u.size/u.count,n[r]+=e.size}o.getPadding&&n7(s,o.getPadding());const a=Math.max(0,t.outerWidth-t7(s,n,"left","right")),c=Math.max(0,t.outerHeight-t7(s,n,"top","bottom")),l=a!==n.w,d=c!==n.h;return n.w=a,n.h=c,e.horizontal?{same:l,other:d}:{same:d,other:l}}function ZTe(n,t){const e=t.maxPadding;return function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{o[s]=Math.max(t[s],e[s])}),o}(n?["left","right"]:["top","bottom"])}function Pv(n,t,e,i){const r=[];let o,s,a,c,l,d;for(o=0,s=n.length,l=0;o<s;++o){a=n[o],c=a.box,c.update(a.width||t.w,a.height||t.h,ZTe(a.horizontal,t));const{same:u,other:p}=XTe(t,e,a,i);l|=u&&r.length,d=d||p,c.fullSize||r.push(a)}return l&&Pv(r,t,e,i)||d}function HI(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function r7(n,t,e,i){const r=e.padding;let{x:o,y:s}=t;for(const a of n){const c=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/l.weight||1;if(a.horizontal){const u=t.w*d,p=l.size||c.height;xv(l.start)&&(s=l.start),c.fullSize?HI(c,r.left,s,e.outerWidth-r.right-r.left,p):HI(c,t.left+l.placed,s,u,p),l.start=s,l.placed+=u,s=c.bottom}else{const u=t.h*d,p=l.size||c.width;xv(l.start)&&(o=l.start),c.fullSize?HI(c,o,r.top,p,e.outerHeight-r.bottom-r.top):HI(c,o,t.top+l.placed,p,u),l.start=o,l.placed+=u,o=c.right}}t.x=o,t.y=s}var co={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=ao(n.options.layout.padding),o=Math.max(t-r.width,0),s=Math.max(e-r.height,0),a=function YTe(n){const t=function $Te(n){const t=[];let e,i,r,o,s,a;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],({position:o,options:{stack:s,stackWeight:a=1}}=r),t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return t}(n),e=Mv(t.filter(l=>l.box.fullSize),!0),i=Mv(Rv(t,"left"),!0),r=Mv(Rv(t,"right")),o=Mv(Rv(t,"top"),!0),s=Mv(Rv(t,"bottom")),a=e7(t,"x"),c=e7(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(c).concat(s).concat(a),chartArea:Rv(t,"chartArea"),vertical:i.concat(r).concat(c),horizontal:o.concat(s).concat(a)}}(n.boxes),c=a.vertical,l=a.horizontal;Pn(n.boxes,x=>{"function"==typeof x.beforeLayout&&x.beforeLayout()});const d=c.reduce((x,w)=>w.box.options&&!1===w.box.options.display?x:x+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/d,hBoxMaxHeight:s/2}),p=Object.assign({},r);n7(p,ao(i));const b=Object.assign({maxPadding:p,w:o,h:s,x:r.left,y:r.top},r),v=function QTe(n,t){const e=function KTe(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!Z$.includes(r))continue;const s=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return t}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,s,a;for(o=0,s=n.length;o<s;++o){a=n[o];const{fullSize:c}=a.box,l=e[a.stack],d=l&&a.stackWeight/l.weight;a.horizontal?(a.width=d?d*i:c&&t.availableWidth,a.height=r):(a.width=i,a.height=d?d*r:c&&t.availableHeight)}return e}(c.concat(l),u);Pv(a.fullSize,b,u,v),Pv(c,b,u,v),Pv(l,b,u,v)&&Pv(c,b,u,v),function JTe(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(b),r7(a.leftAndTop,b,u,v),b.x+=b.w,b.y+=b.h,r7(a.rightAndBottom,b,u,v),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Pn(a.chartArea,x=>{const w=x.box;Object.assign(w,n.chartArea),w.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class o7{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class eAe extends o7{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const qI="$chartjs",tAe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},s7=n=>null===n||""===n,a7=!!tTe&&{passive:!0};function rAe(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,a7)}function WI(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function sAe(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||WI(a.addedNodes,i),s=s&&!WI(a.removedNodes,i);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function aAe(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||WI(a.removedNodes,i),s=s&&!WI(a.addedNodes,i);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ov=new Map;let c7=0;function l7(){const n=window.devicePixelRatio;n!==c7&&(c7=n,Ov.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function dAe(n,t,e){const i=n.canvas,r=i&&yN(i);if(!r)return;const o=d$((a,c)=>{const l=r.clientWidth;e(a,c),l<r.clientWidth&&e()},window),s=new ResizeObserver(a=>{const c=a[0],l=c.contentRect.width,d=c.contentRect.height;0===l&&0===d||o(l,d)});return s.observe(r),function cAe(n,t){Ov.size||window.addEventListener("resize",l7),Ov.set(n,t)}(n,o),s}function SN(n,t,e){e&&e.disconnect(),"resize"===t&&function lAe(n){Ov.delete(n),Ov.size||window.removeEventListener("resize",l7)}(n)}function uAe(n,t,e){const i=n.canvas,r=d$(o=>{null!==n.ctx&&e(function oAe(n,t){const e=tAe[n.type]||n.type,{x:i,y:r}=ah(n,t);return{type:e,chart:t,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(o,n))},n);return function iAe(n,t,e){n&&n.addEventListener(t,e,a7)}(i,t,r),r}class hAe extends o7{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function nAe(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[qI]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",s7(r)){const o=D$(n,"width");void 0!==o&&(n.width=o)}if(s7(i))if(""===n.style.height)n.height=n.width/(t||2);else{const o=D$(n,"height");void 0!==o&&(n.height=o)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[qI])return!1;const i=e[qI].initial;["height","width"].forEach(o=>{const s=i[o];_n(s)?e.removeAttribute(o):e.setAttribute(o,s)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[qI],!0}addEventListener(t,e,i){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:sAe,detach:aAe,resize:dAe}[e]||uAe)(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];r&&(({attach:SN,detach:SN,resize:SN}[e]||rAe)(t,e,r),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return function eTe(n,t,e,i){const r=jI(n),o=sh(r,"margin"),s=UI(r.maxWidth,n,"clientWidth")||PI,a=UI(r.maxHeight,n,"clientHeight")||PI,c=function ZCe(n,t,e){let i,r;if(void 0===t||void 0===e){const o=n&&yN(n);if(o){const s=o.getBoundingClientRect(),a=jI(o),c=sh(a,"border","width"),l=sh(a,"padding");t=s.width-l.width-c.width,e=s.height-l.height-c.height,i=UI(a.maxWidth,o,"clientWidth"),r=UI(a.maxHeight,o,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:i||PI,maxHeight:r||PI}}(n,t,e);let{width:l,height:d}=c;if("content-box"===r.boxSizing){const p=sh(r,"border","width"),b=sh(r,"padding");l-=b.width+p.width,d-=b.height+p.height}return l=Math.max(0,l-o.width),d=Math.max(0,i?l/i:d-o.height),l=zI(Math.min(l,s,c.maxWidth)),d=zI(Math.min(d,a,c.maxHeight)),l&&!d&&(d=zI(l/2)),(void 0!==t||void 0!==e)&&i&&c.height&&d>c.height&&(d=c.height,l=zI(Math.floor(d*i))),{width:l,height:d}}(t,e,i,r)}isAttached(t){const e=t&&yN(t);return!(!e||!e.isConnected)}}class Yc{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return sp(this.x)&&sp(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function GI(n,t,e,i,r){const o=Vt(i,0),s=Math.min(Vt(r,n.length),n.length);let c,l,d,a=0;for(e=Math.ceil(e),r&&(c=r-i,e=c/Math.floor(c/e)),d=o;d<0;)a++,d=Math.round(o+a*e);for(l=Math.max(o,0);l<s;l++)l===d&&(t.push(n[l]),a++,d=Math.round(o+a*e))}const d7=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e,u7=(n,t)=>Math.min(t||n,n);function h7(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function xAe(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,s=n._endPixel,a=1e-6;let l,c=n.getPixelForTick(r);if(!(e&&(l=1===i?Math.max(c-o,s-c):0===t?(n.getPixelForTick(1)-c)/2:(c-n.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<o-a||c>s+a)))return c}function Nv(n){return n.drawTicks?n.tickLength:0}function f7(n,t){if(!n.display)return 0;const e=br(n.font,t),i=ao(n.padding);return(xi(n.text)?n.text.length:1)*e.lineHeight+i.height}function CAe(n,t,e){let i=lN(n);return(e&&"right"!==t||!e&&"right"===t)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class dh extends Yc{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=hs(t,Number.POSITIVE_INFINITY),e=hs(e,Number.NEGATIVE_INFINITY),i=hs(i,Number.POSITIVE_INFINITY),r=hs(r,Number.NEGATIVE_INFINITY),{min:hs(t,i),max:hs(e,r),minDefined:ji(t),maxDefined:ji(e)}}getMinMax(t){let s,{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds();if(r&&o)return{min:e,max:i};const a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)s=a[c].controller.getMinMax(this,t),r||(e=Math.min(e,s.min)),o||(i=Math.max(i,s.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:hs(e,hs(i,e)),max:hs(i,hs(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ci(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function MCe(n,t,e){const{min:i,max:r}=n,o=XG(t,(r-i)/2),s=(a,c)=>e&&0===a?0:a+c;return{min:s(i,-Math.abs(o)),max:s(r,o)}}(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?h7(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=function mAe(n,t){const e=n.options.ticks,i=function pAe(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?function _Ae(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}(t):[],s=o.length,a=o[0],c=o[s-1],l=[];if(s>r)return function bAe(n,t,e,i){let s,r=0,o=e[0];for(i=Math.ceil(i),s=0;s<n.length;s++)s===o&&(t.push(n[s]),r++,o=e[r*i])}(t,l,o,s/r),l;const d=function gAe(n,t,e){const i=function vAe(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}(n),r=t.length/e;if(!i)return Math.max(r,1);const o=function rCe(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(0|e)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}(i);for(let s=0,a=o.length-1;s<a;s++){const c=o[s];if(c>r)return c}return Math.max(r,1)}(o,t,r);if(s>0){let u,p;const b=s>1?Math.round((c-a)/(s-1)):null;for(GI(t,l,d,_n(b)?0:a-b,a),u=0,p=s-1;u<p;u++)GI(t,l,d,o[u],o[u+1]);return GI(t,l,d,c,_n(b)?t.length:c+b),l}return GI(t,l,d),l}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,t=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ci(this.options.afterUpdate,[this])}beforeSetDimensions(){ci(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ci(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ci(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ci(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=ci(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ci(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ci(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=u7(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let a,c,l,s=r;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const d=this._getLabelSizes(),u=d.widest.width,p=d.highest.height,b=Mr(this.chart.width-u,0,this.maxWidth);a=t.offset?this.maxWidth/i:b/(i-1),u+6>a&&(a=b/(i-(t.offset?.5:1)),c=this.maxHeight-Nv(t.grid)-e.padding-f7(t.title,this.chart.options.font),l=Math.sqrt(u*u+p*p),s=sN(Math.min(Math.asin(Mr((d.highest.height+6)/a,-1,1)),Math.asin(Mr(c/l,-1,1))-Math.asin(Mr(p/l,-1,1)))),s=Math.max(r,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){ci(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ci(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const c=f7(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=Nv(o)+c):(t.height=this.maxHeight,t.width=Nv(o)+c),i.display&&this.ticks.length){const{first:l,last:d,widest:u,highest:p}=this._getLabelSizes(),b=2*i.padding,v=ca(this.labelRotation),x=Math.cos(v),w=Math.sin(v);a?t.height=Math.min(this.maxHeight,t.height+(i.mirror?0:w*u.width+x*p.height)+b):t.width=Math.min(this.maxWidth,t.width+(i.mirror?0:x*u.width+w*p.height)+b),this._calculatePadding(l,d,w,x)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:s},position:a}=this.options,c=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,b=0;c?l?(p=r*t.width,b=i*e.height):(p=i*t.height,b=r*e.width):"start"===o?b=e.width:"end"===o?p=t.width:"inner"!==o&&(p=t.width/2,b=e.width/2),this.paddingLeft=Math.max((p-d+s)*this.width/(this.width-d),0),this.paddingRight=Math.max((b-u+s)*this.width/(this.width-u),0)}else{let d=e.height/2,u=t.height/2;"start"===o?(d=0,u=t.height):"end"===o&&(d=e.height,u=0),this.paddingTop=d+s,this.paddingBottom=u+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ci(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)_n(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=h7(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,s=[],a=[],c=Math.floor(e/u7(e,i));let u,p,b,v,x,w,F,R,z,K,Z,l=0,d=0;for(u=0;u<e;u+=c){if(v=t[u].label,x=this._resolveTickFontOptions(u),r.font=w=x.string,F=o[w]=o[w]||{data:{},gc:[]},R=x.lineHeight,z=K=0,_n(v)||xi(v)){if(xi(v))for(p=0,b=v.length;p<b;++p)Z=v[p],!_n(Z)&&!xi(Z)&&(z=FI(r,F.data,F.gc,z,Z),K+=R)}else z=FI(r,F.data,F.gc,z,v),K=R;s.push(z),a.push(K),l=Math.max(z,l),d=Math.max(K,d)}!function wAe(n,t){Pn(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}(o,e);const ne=s.indexOf(l),U=a.indexOf(d),P=B=>({width:s[B]||0,height:a[B]||0});return{first:P(0),last:P(e-1),widest:P(ne),highest:P(U),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function aCe(n){return Mr(n,-32768,32767)}(this._alignToPixels?ih(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function IAe(n,t,e){return pd(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=function EAe(n,t){return pd(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ca(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),s=t.autoSkipPadding||0,a=o?o.widest.width+s:0,c=o?o.highest.height+s:0;return this.isHorizontal()?c*i>a*r?a/i:c/r:c*r<a*i?c/i:a/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:s,border:a}=r,c=o.offset,l=this.isHorizontal(),u=this.ticks.length+(c?1:0),p=Nv(o),b=[],v=a.setContext(this.getContext()),x=v.display?v.width:0,w=x/2,F=function(Pe){return ih(i,Pe,x)};let R,z,K,Z,ne,U,P,B,G,Y,ee,W;if("top"===s)R=F(this.bottom),U=this.bottom-p,B=R-w,Y=F(t.top)+w,W=t.bottom;else if("bottom"===s)R=F(this.top),Y=t.top,W=F(t.bottom)-w,U=R+w,B=this.top+p;else if("left"===s)R=F(this.right),ne=this.right-p,P=R-w,G=F(t.left)+w,ee=t.right;else if("right"===s)R=F(this.left),G=t.left,ee=F(t.right)-w,ne=R+w,P=this.left+p;else if("x"===e){if("center"===s)R=F((t.top+t.bottom)/2+.5);else if(ln(s)){const Pe=Object.keys(s)[0];R=F(this.chart.scales[Pe].getPixelForValue(s[Pe]))}Y=t.top,W=t.bottom,U=R+w,B=U+p}else if("y"===e){if("center"===s)R=F((t.left+t.right)/2);else if(ln(s)){const Pe=Object.keys(s)[0];R=F(this.chart.scales[Pe].getPixelForValue(s[Pe]))}ne=R-w,P=ne-p,G=t.left,ee=t.right}const li=Vt(r.ticks.maxTicksLimit,u),en=Math.max(1,Math.ceil(u/li));for(z=0;z<u;z+=en){const Pe=this.getContext(z),Ue=o.setContext(Pe),Qe=a.setContext(Pe),dt=Ue.lineWidth,Un=Ue.color,Hr=Qe.dash||[],On=Qe.dashOffset,Tn=Ue.tickWidth,bn=Ue.tickColor,qo=Ue.tickBorderDash||[],da=Ue.tickBorderDashOffset;K=xAe(this,z,c),void 0!==K&&(Z=ih(i,K,dt),l?ne=P=G=ee=Z:U=B=Y=W=Z,b.push({tx1:ne,ty1:U,tx2:P,ty2:B,x1:G,y1:Y,x2:ee,y2:W,width:dt,color:Un,borderDash:Hr,borderDashOffset:On,tickWidth:Tn,tickColor:bn,tickBorderDash:qo,tickBorderDashOffset:da}))}return this._ticksLength=u,this._borderValue=R,b}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,s=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:d,mirror:u}=o,p=Nv(i.grid),b=p+d,v=u?-d:b,x=-ca(this.labelRotation),w=[];let F,R,z,K,Z,ne,U,P,B,G,Y,ee,W="middle";if("top"===r)ne=this.bottom-v,U=this._getXAxisLabelAlignment();else if("bottom"===r)ne=this.top+v,U=this._getXAxisLabelAlignment();else if("left"===r){const en=this._getYAxisLabelAlignment(p);U=en.textAlign,Z=en.x}else if("right"===r){const en=this._getYAxisLabelAlignment(p);U=en.textAlign,Z=en.x}else if("x"===e){if("center"===r)ne=(t.top+t.bottom)/2+b;else if(ln(r)){const en=Object.keys(r)[0];ne=this.chart.scales[en].getPixelForValue(r[en])+b}U=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)Z=(t.left+t.right)/2-b;else if(ln(r)){const en=Object.keys(r)[0];Z=this.chart.scales[en].getPixelForValue(r[en])}U=this._getYAxisLabelAlignment(p).textAlign}"y"===e&&("start"===c?W="top":"end"===c&&(W="bottom"));const li=this._getLabelSizes();for(F=0,R=a.length;F<R;++F){z=a[F],K=z.label;const en=o.setContext(this.getContext(F));P=this.getPixelForTick(F)+o.labelOffset,B=this._resolveTickFontOptions(F),G=B.lineHeight,Y=xi(K)?K.length:1;const Pe=Y/2,Ue=en.color,Qe=en.textStrokeColor,dt=en.textStrokeWidth;let Hr,Un=U;if(s?(Z=P,"inner"===U&&(Un=F===R-1?this.options.reverse?"left":"right":0===F?this.options.reverse?"right":"left":"center"),ee="top"===r?"near"===l||0!==x?-Y*G+G/2:"center"===l?-li.highest.height/2-Pe*G+G:G/2-li.highest.height:"near"===l||0!==x?G/2:"center"===l?li.highest.height/2-Pe*G:li.highest.height-Y*G,u&&(ee*=-1),0!==x&&!en.showLabelBackdrop&&(Z+=G/2*Math.sin(x))):(ne=P,ee=(1-Y)*G/2),en.showLabelBackdrop){const On=ao(en.backdropPadding),Tn=li.heights[F],bn=li.widths[F];let qo=ee-On.top,da=0-On.left;switch(W){case"middle":qo-=Tn/2;break;case"bottom":qo-=Tn}switch(U){case"center":da-=bn/2;break;case"right":da-=bn;break;case"inner":F===R-1?da-=bn:F>0&&(da-=bn/2)}Hr={left:da,top:qo,width:bn+On.width,height:Tn+On.height,color:en.backdropColor}}w.push({label:K,font:B,textOffset:ee,options:{rotation:x,color:Ue,strokeColor:Qe,strokeWidth:dt,textAlign:Un,textBaseline:W,translation:[Z,ne],backdrop:Hr}})}return w}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ca(this.labelRotation))return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,a=t+o,c=this._getLabelSizes().widest.width;let l,d;return"left"===e?r?(d=this.right+o,"near"===i?l="left":"center"===i?(l="center",d+=c/2):(l="right",d+=c)):(d=this.right-a,"near"===i?l="right":"center"===i?(l="center",d-=c/2):(l="left",d=this.left)):"right"===e?r?(d=this.left+o,"near"===i?l="right":"center"===i?(l="center",d-=c/2):(l="left",d-=c)):(d=this.left+a,"near"===i?l="left":"center"===i?(l="center",d+=c/2):(l="right",d=this.right)):l="right",{textAlign:l,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,s;const a=(c,l,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(l.x,l.y),i.stroke(),i.restore())};if(e.display)for(o=0,s=r.length;o<s;++o){const c=r[o];e.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),e.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),s=i.display?o.width:0;if(!s)return;const a=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let l,d,u,p;this.isHorizontal()?(l=ih(t,this.left,s)-s/2,d=ih(t,this.right,a)+a/2,u=p=c):(u=ih(t,this.top,s)-s/2,p=ih(t,this.bottom,a)+a/2,l=d=c),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(l,u),e.lineTo(d,p),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&LI(i,r);const o=this.getLabelItems(t);for(const s of o)rh(i,s.label,0,s.textOffset,s.font,s.options);r&&VI(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=br(i.font),s=ao(i.padding),a=i.align;let c=o.lineHeight/2;"bottom"===e||"center"===e||ln(e)?(c+=s.bottom,xi(i.text)&&(c+=o.lineHeight*(i.text.length-1))):c+=s.top;const{titleX:l,titleY:d,maxWidth:u,rotation:p}=function TAe(n,t,e,i){const{top:r,left:o,bottom:s,right:a,chart:c}=n,{chartArea:l,scales:d}=c;let p,b,v,u=0;const x=s-r,w=a-o;if(n.isHorizontal()){if(b=so(i,o,a),ln(e)){const F=Object.keys(e)[0];v=d[F].getPixelForValue(e[F])+x-t}else v="center"===e?(l.bottom+l.top)/2+x-t:d7(n,e,t);p=a-o}else{if(ln(e)){const F=Object.keys(e)[0];b=d[F].getPixelForValue(e[F])-w+t}else b="center"===e?(l.left+l.right)/2-w+t:d7(n,e,t);v=so(i,s,r),u="left"===e?-tr:tr}return{titleX:b,titleY:v,maxWidth:p,rotation:u}}(this,c,e,a);rh(t,i.text,0,0,o,{color:i.color,maxWidth:u,rotation:p,textAlign:CAe(a,e,r),textBaseline:"middle",translation:[l,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Vt(t.grid&&t.grid.z,-1),r=Vt(t.border&&t.border.z,0);return this._isVisible()&&this.draw===dh.prototype.draw?[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]:[{z:e,draw:o=>{this.draw(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,s;for(o=0,s=e.length;o<s;++o){const a=e[o];a[i]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){return br(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class $I{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function SAe(n){return"id"in n&&"defaults"in n})(e)&&(i=this.register(e));const r=this.items,o=t.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,function AAe(n,t,e){const i=vv(Object.create(null),[e?Ri.get(e):{},Ri.get(t),n.defaults]);Ri.set(t,i),n.defaultRoutes&&function kAe(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),s=t[e].split("."),a=s.pop(),c=s.join(".");Ri.route(o,r,c,a)})}(t,n.defaultRoutes),n.descriptors&&Ri.describe(t,n.descriptors)}(t,s,i),this.override&&Ri.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Ri[r]&&(delete Ri[r][i],this.override&&delete nh[i])}}class DAe{constructor(){this.controllers=new $I(gd,"datasets",!0),this.elements=new $I(Yc,"elements"),this.plugins=new $I(Object,"plugins"),this.scales=new $I(dh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Pn(r,s=>{const a=i||this._getRegistryForType(s);this._exec(t,a,s)})})}_exec(t,e,i){const r=oN(t);ci(i["before"+r],[],i),e[t](i),ci(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var $a=new DAe;class RAe{constructor(){this._init=[]}notify(t,e,i,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),s=this._notify(o,t,e,i);return"afterDestroy"===e&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,i,r){r=r||{};for(const o of t){const s=o.plugin;if(!1===ci(s[i],[e,r,o.options],s)&&r.cancelable)return!1}return!0}invalidate(){_n(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Vt(i.options&&i.options.plugins,{}),o=function MAe(n){const t={},e=[],i=Object.keys($a.plugins.items);for(let o=0;o<i.length;o++)e.push($a.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const s=r[o];-1===e.indexOf(s)&&(e.push(s),t[s.id]=!0)}return{plugins:e,localIds:t}}(i);return!1!==r||e?function OAe(n,{plugins:t,localIds:e},i,r){const o=[],s=n.getContext();for(const a of t){const c=a.id,l=PAe(i[c],r);null!==l&&o.push({plugin:a,options:NAe(n.config,{plugin:a,local:e[c]},l,s)})}return o}(t,o,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,s)=>o.filter(a=>!s.some(c=>a.plugin.id===c.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function PAe(n,t){return t||!1!==n?!0===n?{}:n:null}function NAe(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),s=n.getOptionScopes(i,o);return e&&t.defaults&&s.push(t.defaults),n.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function DN(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(Ri.datasets[n]||{}).indexAxis||"x"}function m7(n){if("x"===n||"y"===n||"r"===n)return n}function VAe(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function RN(n,...t){if(m7(n))return n;for(const e of t){const i=e.axis||VAe(e.position)||n.length>1&&m7(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function p7(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function g7(n){const t=n.options||(n.options={});t.plugins=Vt(t.plugins,{}),t.scales=function UAe(n,t){const e=nh[n.type]||{scales:{}},i=t.scales||{},r=DN(n.type,t),o=Object.create(null);return Object.keys(i).forEach(s=>{const a=i[s];if(!ln(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const c=RN(s,a,function BAe(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return p7(n,"x",e[0])||p7(n,"y",e[0])}return{}}(s,n),Ri.scales[a.type]),l=function LAe(n,t){return n===t?"_index_":"_value_"}(c,r),d=e.scales||{};o[s]=yv(Object.create(null),[{axis:c},a,d[c],d[l]])}),n.data.datasets.forEach(s=>{const a=s.type||n.type,c=s.indexAxis||DN(a,t),d=(nh[a]||{}).scales||{};Object.keys(d).forEach(u=>{const p=function FAe(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(u,c),b=s[p+"AxisID"]||p;o[b]=o[b]||Object.create(null),yv(o[b],[{axis:p},i[b],d[u]])})}),Object.keys(o).forEach(s=>{const a=o[s];yv(a,[Ri.scales[a.type],Ri.scale])}),o}(n,t)}function _7(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const b7=new Map,v7=new Set;function KI(n,t){let e=b7.get(n);return e||(e=t(),b7.set(n,e),v7.add(e)),e}const Fv=(n,t,e)=>{const i=hd(t,e);void 0!==i&&n.add(i)};class zAe{constructor(t){this._config=function jAe(n){return(n=n||{}).data=_7(n.data),g7(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=_7(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),g7(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return KI(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return KI(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return KI(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return KI(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,s=this._cachedScopes(t,i),a=s.get(e);if(a)return a;const c=new Set;e.forEach(d=>{t&&(c.add(t),d.forEach(u=>Fv(c,t,u))),d.forEach(u=>Fv(c,r,u)),d.forEach(u=>Fv(c,nh[o]||{},u)),d.forEach(u=>Fv(c,Ri,u)),d.forEach(u=>Fv(c,hN,u))});const l=Array.from(c);return 0===l.length&&l.push(Object.create(null)),v7.has(e)&&s.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,nh[e]||{},Ri.datasets[e]||{},{type:e},Ri,hN]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:s,subPrefixes:a}=y7(this._resolverCache,t,r);let c=s;(function qAe(n,t){const{isScriptable:e,isIndexable:i}=x$(n);for(const r of t){const o=e(r),s=i(r),a=(s||o)&&n[r];if(o&&(fd(a)||HAe(a))||s&&xi(a))return!0}return!1})(s,e)&&(o.$shared=!1,c=ap(s,i=fd(i)?i():i,this.createResolver(t,i,a)));for(const l of e)o[l]=c[l];return o}createResolver(t,e,i=[""],r){const{resolver:o}=y7(this._resolverCache,t,i);return ln(e)?ap(o,e,void 0,r):o}}function y7(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:gN(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,o)),o}const HAe=n=>ln(n)&&Object.getOwnPropertyNames(n).some(t=>fd(n[t])),GAe=["top","bottom","left","right","chartArea"];function x7(n,t){return"top"===n||"bottom"===n||-1===GAe.indexOf(n)&&"x"===t}function w7(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function E7(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ci(e&&e.onComplete,[n],t)}function $Ae(n){const t=n.chart,e=t.options.animation;ci(e&&e.onProgress,[n],t)}function I7(n){return vN()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const QI={},C7=n=>{const t=I7(n);return Object.values(QI).filter(e=>e.canvas===t).pop()};function KAe(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const s=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=s)}}}function YI(n,t,e){return n.options.clip?n[e]:t[e]}let Lv=(()=>class n{static defaults=Ri;static instances=QI;static overrides=nh;static registry=$a;static version="4.4.7";static getChart=C7;static register(...e){$a.add(...e),T7()}static unregister(...e){$a.remove(...e),T7()}constructor(e,i){const r=this.config=new zAe(i),o=I7(e),s=C7(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function fAe(n){return!vN()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?eAe:hAe}(o)),this.platform.updateConfig(r);const c=this.platform.acquireContext(o,a.aspectRatio),l=c&&c.canvas,d=l&&l.height,u=l&&l.width;this.id=QIe(),this.ctx=c,this.canvas=l,this.width=u,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new RAe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function uCe(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}(p=>this.update(p),a.resizeDelay||0),this._dataChanges=[],QI[this.id]=this,c&&l?(Qc.listen(this,"complete",E7),Qc.listen(this,"progress",$Ae),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:i},width:r,height:o,_aspectRatio:s}=this;return _n(e)?i&&s?s:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return $a}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():S$(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return b$(this.canvas,this.ctx),this}stop(){return Qc.stop(this),this}resize(e,i){Qc.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){const r=this.options,a=this.platform.getMaximumSize(this.canvas,e,i,r.maintainAspectRatio&&this.aspectRatio),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,S$(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),ci(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){Pn(this.options.scales||{},(r,o)=>{r.id=o})}buildOrUpdateScales(){const e=this.options,i=e.scales,r=this.scales,o=Object.keys(r).reduce((a,c)=>(a[c]=!1,a),{});let s=[];i&&(s=s.concat(Object.keys(i).map(a=>{const c=i[a],l=RN(a,c),d="r"===l,u="x"===l;return{options:c,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),Pn(s,a=>{const c=a.options,l=c.id,d=RN(l,c),u=Vt(c.type,a.dtype);(void 0===c.position||x7(c.position,d)!==x7(a.dposition))&&(c.position=a.dposition),o[l]=!0;let p=null;l in r&&r[l].type===u?p=r[l]:(p=new($a.getScale(u))({id:l,type:u,ctx:this.ctx,chart:this}),r[p.id]=p),p.init(c,e)}),Pn(o,(a,c)=>{a||delete r[c]}),Pn(r,a=>{co.configure(this,a,a.options),co.addBox(this,a)})}_updateMetasets(){const e=this._metasets,i=this.data.datasets.length,r=e.length;if(e.sort((o,s)=>o.index-s.index),r>i){for(let o=i;o<r;++o)this._destroyDatasetMeta(o);e.splice(i,r-i)}this._sortedMetasets=e.slice(0).sort(w7("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((r,o)=>{0===i.filter(s=>s===r._dataset).length&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],i=this.data.datasets;let r,o;for(this._removeUnreferencedMetasets(),r=0,o=i.length;r<o;r++){const s=i[r];let a=this.getDatasetMeta(r);const c=s.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=c,a.indexAxis=s.indexAxis||DN(c,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=$a.getController(c),{datasetElementType:d,dataElementType:u}=Ri.datasets[c];Object.assign(l,{dataElementType:$a.getElement(u),datasetElementType:d&&$a.getElement(d)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Pn(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const i=this.config;i.update();const r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:p}=this.getDatasetMeta(d),b=!o&&-1===s.indexOf(p);p.buildOrUpdateElements(b),a=Math.max(+p.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),o||Pn(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(w7("z","_idx"));const{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Pn(this.scales,e=>{co.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!e$(i,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(const{method:r,start:o,count:s}of i)KAe(e,o,"_removeElements"===r?-s:s)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const i=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,c)=>c+","+a.splice(1).join(","))),o=r(0);for(let s=1;s<i;s++)if(!e$(o,r(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;co.update(this,this.width,this.height,e);const i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],Pn(this.boxes,o=>{r&&"chartArea"===o.position||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,fd(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){const r=this.getDatasetMeta(e),o={meta:r,index:e,mode:i,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",o)&&(r.controller._update(i),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Qc.has(this)?this.attached&&!Qc.running(this)&&Qc.start(this):(this.draw(),E7({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const i=this._sortedMetasets,r=[];let o,s;for(o=0,s=i.length;o<s;++o){const a=i[o];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const i=this.ctx,r=e._clip,o=!r.disabled,s=function YAe(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:YI(e,t,"left"),right:YI(e,t,"right"),top:YI(i,t,"top"),bottom:YI(i,t,"bottom")}:t}(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(o&&LI(i,{left:!1===r.left?0:s.left-r.left,right:!1===r.right?this.width:s.right+r.right,top:!1===r.top?0:s.top-r.top,bottom:!1===r.bottom?this.height:s.bottom+r.bottom}),e.controller.draw(),o&&VI(i),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return Kc(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,r,o){const s=GTe.modes[i];return"function"==typeof s?s(this,e,r,o):[]}getDatasetMeta(e){const i=this.data.datasets[e],r=this._metasets;let o=r.filter(s=>s&&s._dataset===i).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=pd(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const i=this.data.datasets[e];if(!i)return!1;const r=this.getDatasetMeta(e);return"boolean"==typeof r.hidden?!r.hidden:!i.hidden}setDatasetVisibility(e,i){this.getDatasetMeta(e).hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,r){const o=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,o);xv(i)?(s.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(c=>c.datasetIndex===e?o:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){const i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),Qc.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),b$(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete QI[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,i=this.platform,r=(s,a)=>{i.addEventListener(this,s,a),e[s]=a},o=(s,a,c)=>{s.offsetX=a,s.offsetY=c,this._eventHandler(s)};Pn(this.options.events,s=>r(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,i=this.platform,r=(l,d)=>{i.addEventListener(this,l,d),e[l]=d},o=(l,d)=>{e[l]&&(i.removeEventListener(this,l,d),delete e[l])},s=(l,d)=>{this.canvas&&this.resize(l,d)};let a;const c=()=>{o("attach",c),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),r("attach",c)},i.isAttached(this.canvas)?c():a()}unbindEvents(){Pn(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},Pn(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,r){const o=r?"set":"remove";let s,a,c,l;for("dataset"===i&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),c=0,l=e.length;c<l;++c){a=e[c];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const i=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[a],index:a}});!RI(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(e,i,r){return this._plugins.notify(this,e,i,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter(i=>i.plugin.id===e).length}_updateHoverStyles(e,i,r){const o=this.options.hover,s=(l,d)=>l.filter(u=>!d.some(p=>u.datasetIndex===p.datasetIndex&&u.index===p.index)),a=s(i,e),c=r?e:s(e,i);a.length&&this.updateHoverStyle(a,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(e,i){const r={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},o=a=>(a.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,o))return;const s=this._handleEvent(e,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(s||r.changed)&&this.render(),this}_handleEvent(e,i,r){const{_active:o=[],options:s}=this,c=this._getActiveElements(e,o,r,i),l=function tCe(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(e),d=function QAe(n,t,e,i){return e&&"mouseout"!==n.type?i?t:n:null}(e,this._lastEvent,r,l);r&&(this._lastEvent=null,ci(s.onHover,[e,c,this],this),l&&ci(s.onClick,[e,c,this],this));const u=!RI(c,o);return(u||i)&&(this._active=c,this._updateHoverStyles(c,o,i)),this._lastEvent=d,u}_getActiveElements(e,i,r,o){if("mouseout"===e.type)return[];if(!r)return i;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,o)}})();function T7(){return Pn(Lv.instances,n=>n._plugins.invalidate())}function dp(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function XI(n,t,e,i,r,o){const{x:s,y:a,startAngle:c,pixelMargin:l,innerRadius:d}=t,u=Math.max(t.outerRadius+i+e-l,0),p=d>0?d+i+e+l:0;let b=0;const v=r-c;if(i){const Ue=((d>0?d-i:0)+(u>0?u-i:0))/2;b=(v-(0!==Ue?v*Ue/(Ue+i):v))/2}const w=(v-Math.max(.001,v*u-e/wi)/u)/2,F=c+w+b,R=r-w-b,{outerStart:z,outerEnd:K,innerStart:Z,innerEnd:ne}=function ZAe(n,t,e,i){const r=function JAe(n){return pN(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),o=(e-t)/2,s=Math.min(o,i*t/2),a=c=>{const l=(e-Math.min(o,c))*i/2;return Mr(c,0,Math.min(o,l))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Mr(r.innerStart,0,s),innerEnd:Mr(r.innerEnd,0,s)}}(t,p,u,R-F),U=u-z,P=u-K,B=F+z/U,G=R-K/P,Y=p+Z,ee=p+ne,W=F+Z/Y,li=R-ne/ee;if(n.beginPath(),o){const en=(B+G)/2;if(n.arc(s,a,u,B,en),n.arc(s,a,u,en,G),K>0){const dt=dp(P,G,s,a);n.arc(dt.x,dt.y,K,G,R+tr)}const Pe=dp(ee,R,s,a);if(n.lineTo(Pe.x,Pe.y),ne>0){const dt=dp(ee,li,s,a);n.arc(dt.x,dt.y,ne,R+tr,li+Math.PI)}const Ue=(R-ne/p+(F+Z/p))/2;if(n.arc(s,a,p,R-ne/p,Ue,!0),n.arc(s,a,p,Ue,F+Z/p,!0),Z>0){const dt=dp(Y,W,s,a);n.arc(dt.x,dt.y,Z,W+Math.PI,F-tr)}const Qe=dp(U,F,s,a);if(n.lineTo(Qe.x,Qe.y),z>0){const dt=dp(U,B,s,a);n.arc(dt.x,dt.y,z,F-tr,B)}}else{n.moveTo(s,a);const en=Math.cos(B)*u+s,Pe=Math.sin(B)*u+a;n.lineTo(en,Pe);const Ue=Math.cos(G)*u+s,Qe=Math.sin(G)*u+a;n.lineTo(Ue,Qe)}n.closePath()}function A7(n,t,e=t){n.lineCap=Vt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Vt(e.borderDash,t.borderDash)),n.lineDashOffset=Vt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Vt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Vt(e.borderWidth,t.borderWidth),n.strokeStyle=Vt(e.borderColor,t.borderColor)}function ike(n,t,e){n.lineTo(e.x,e.y)}function k7(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:s,end:a}=t,c=Math.max(r,s),l=Math.min(o,a);return{count:i,start:c,loop:t.loop,ilen:l<c&&!(r<s&&o<s||r>a&&o>a)?i+l-c:l-c}}function oke(n,t,e,i){const{points:r,options:o}=t,{count:s,start:a,loop:c,ilen:l}=k7(r,e,i),d=function rke(n){return n.stepped?ECe:n.tension||"monotone"===n.cubicInterpolationMode?ICe:ike}(o);let b,v,x,{move:u=!0,reverse:p}=i||{};for(b=0;b<=l;++b)v=r[(a+(p?l-b:b))%s],!v.skip&&(u?(n.moveTo(v.x,v.y),u=!1):d(n,x,v,p,o.stepped),x=v);return c&&(v=r[(a+(p?l:0))%s],d(n,x,v,p,o.stepped)),!!c}function ske(n,t,e,i){const r=t.points,{count:o,start:s,ilen:a}=k7(r,e,i),{move:c=!0,reverse:l}=i||{};let p,b,v,x,w,F,d=0,u=0;const R=K=>(s+(l?a-K:K))%o,z=()=>{x!==w&&(n.lineTo(d,w),n.lineTo(d,x),n.lineTo(d,F))};for(c&&(b=r[R(0)],n.moveTo(b.x,b.y)),p=0;p<=a;++p){if(b=r[R(p)],b.skip)continue;const K=b.x,Z=b.y,ne=0|K;ne===v?(Z<x?x=Z:Z>w&&(w=Z),d=(u*d+K)/++u):(z(),n.lineTo(K,Z),v=ne,u=0,x=w=Z),F=Z}z()}function MN(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?oke:ske}const dke="function"==typeof Path2D;let JI=(()=>class n extends Yc{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(KCe(this._points,r,e,r.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function lTe(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:s,end:a}=function aTe(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}(e,r,o,i);return function L$(n,t,e,i){return i&&i.setContext&&e?function dTe(n,t,e,i){const r=n._chart.getContext(),o=V$(n.options),{_datasetIndex:s,options:{spanGaps:a}}=n,c=e.length,l=[];let d=o,u=t[0].start,p=u;function b(v,x,w,F){const R=a?-1:1;if(v!==x){for(v+=c;e[v%c].skip;)v-=R;for(;e[x%c].skip;)x+=R;v%c!=x%c&&(l.push({start:v%c,end:x%c,loop:w,style:F}),d=F,u=x%c)}}for(const v of t){u=a?u:v.start;let w,x=e[u%c];for(p=u+1;p<=v.end;p++){const F=e[p%c];w=V$(i.setContext(pd(r,{type:"segment",p0:x,p1:F,p0DataIndex:(p-1)%c,p1DataIndex:p%c,datasetIndex:s}))),uTe(w,d)&&b(u,p-1,v.loop,d),x=F,d=w}u<p-1&&b(u,p-1,v.loop,d)}return l}(n,t,e,i):t}(n,!0===i?[{start:s,end:a,loop:o}]:function cTe(n,t,e,i){const r=n.length,o=[];let c,s=t,a=n[t];for(c=t+1;c<=e;++c){const l=n[c%r];l.skip||l.stop?a.skip||(o.push({start:t%r,end:(c-1)%r,loop:i=!1}),t=s=l.stop?c:null):(s=c,a.skip&&(t=c)),a=l}return null!==s&&o.push({start:t%r,end:s%r,loop:i}),o}(e,s,a<s?a+r:a,!!n._fullLoop&&0===s&&a===r-1),e,t)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,i){const r=this.options,o=e[i],s=this.points,a=F$(this,{property:i,start:o,end:o});if(!a.length)return;const c=[],l=function ake(n){return n.stepped?nTe:n.tension||"monotone"===n.cubicInterpolationMode?iTe:ch}(r);let d,u;for(d=0,u=a.length;d<u;++d){const{start:p,end:b}=a[d],v=s[p],x=s[b];if(v===x){c.push(v);continue}const F=l(v,x,Math.abs((o-v[i])/(x[i]-v[i])),r.stepped);F[i]=e[i],c.push(F)}return 1===c.length?c[0]:c}pathSegment(e,i,r){return MN(this)(e,this,i,r)}path(e,i,r){const o=this.segments,s=MN(this);let a=this._loop;i=i||0,r=r||this.points.length-i;for(const c of o)a&=s(e,this,c,{start:i,end:i+r-1});return!!a}draw(e,i,r,o){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function uke(n,t,e,i){dke&&!t.options.segment?function cke(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),A7(n,t.options),n.stroke(r)}(n,t,e,i):function lke(n,t,e,i){const{segments:r,options:o}=t,s=MN(t);for(const a of r)A7(n,o,a.style),n.beginPath(),s(n,t,a,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}(n,t,e,i)}(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function S7(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}let hke=(()=>class n extends Yc{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const o=this.options,{x:s,y:a}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(i-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,i){return S7(this,e,"x",i)}inYRange(e,i){return S7(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){let i=(e=e||this.options||{}).radius||0;return i=Math.max(i,i&&e.hoverRadius||0),2*(i+(i&&e.borderWidth||0))}draw(e,i){const r=this.options;this.skip||r.radius<.1||!Kc(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,mN(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}})();function D7(n,t){const{x:e,y:i,base:r,width:o,height:s}=n.getProps(["x","y","base","width","height"],t);let a,c,l,d,u;return n.horizontal?(u=s/2,a=Math.min(e,r),c=Math.max(e,r),l=i-u,d=i+u):(u=o/2,a=e-u,c=e+u,l=Math.min(i,r),d=Math.max(i,r)),{left:a,top:l,right:c,bottom:d}}function _d(n,t,e,i){return n?0:Mr(t,e,i)}function PN(n,t,e,i){const r=null===t,o=null===e,a=n&&!(r&&o)&&D7(n,i);return a&&(r||Gc(t,a.left,a.right))&&(o||Gc(e,a.top,a.bottom))}function _ke(n,t){n.rect(t.x,t.y,t.w,t.h)}function ON(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-i),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-r),radius:n.radius}}var vke=Object.freeze({__proto__:null,ArcElement:class nke extends Yc{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:s}=o$(r,{x:t,y:e}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:d,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,b=Vt(u,c-a),v=Ev(o,a,c)&&a!==c,x=b>=Ei||v,w=Gc(s,l+p,d+p);return x&&w}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:l}=this.options,d=(r+o)/2,u=(s+a+l+c)/2;return{x:e+Math.cos(d)*u,y:i+Math.sin(d)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>Ei?Math.floor(i/Ei):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*r,Math.sin(a)*r);const l=r*(1-Math.sin(Math.min(wi,i||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function eke(n,t,e,i,r){const{fullCircles:o,startAngle:s,circumference:a}=t;let c=t.endAngle;if(o){XI(n,t,e,i,c,r);for(let l=0;l<o;++l)n.fill();isNaN(a)||(c=s+(a%Ei||Ei))}XI(n,t,e,i,c,r),n.fill()}(t,this,l,o,s),function tke(n,t,e,i,r){const{fullCircles:o,startAngle:s,circumference:a,options:c}=t,{borderWidth:l,borderJoinStyle:d,borderDash:u,borderDashOffset:p}=c,b="inner"===c.borderAlign;if(!l)return;n.setLineDash(u||[]),n.lineDashOffset=p,b?(n.lineWidth=2*l,n.lineJoin=d||"round"):(n.lineWidth=l,n.lineJoin=d||"bevel");let v=t.endAngle;if(o){XI(n,t,e,i,v,r);for(let x=0;x<o;++x)n.stroke();isNaN(a)||(v=s+(a%Ei||Ei))}b&&function XAe(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:c}=t;let l=r/a;n.beginPath(),n.arc(o,s,a,i-l,e+l),c>r?(l=r/c,n.arc(o,s,c,e+l,i-l,!0)):n.arc(o,s,r,e+tr,i-tr),n.closePath(),n.clip()}(n,t,v),o||(XI(n,t,e,i,v,r),n.stroke())}(t,this,l,o,s),t.restore()}},BarElement:class bke extends Yc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:s}=function pke(n){const t=D7(n),e=t.right-t.left,i=t.bottom-t.top,r=function fke(n,t,e){const r=n.borderSkipped,o=y$(n.options.borderWidth);return{t:_d(r.top,o.top,0,e),r:_d(r.right,o.right,0,t),b:_d(r.bottom,o.bottom,0,e),l:_d(r.left,o.left,0,t)}}(n,e/2,i/2),o=function mke(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=oh(r),s=Math.min(t,e),a=n.borderSkipped,c=i||ln(r);return{topLeft:_d(!c||a.top||a.left,o.topLeft,0,s),topRight:_d(!c||a.top||a.right,o.topRight,0,s),bottomLeft:_d(!c||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:_d(!c||a.bottom||a.right,o.bottomRight,0,s)}}(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}(this),a=function gke(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(s.radius)?Av:_ke;t.save(),(s.w!==o.w||s.h!==o.h)&&(t.beginPath(),a(t,ON(s,e,o)),t.clip(),a(t,ON(o,-e,s)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,ON(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return PN(this,t,e,i)}inXRange(t,e){return PN(this,t,null,e)}inYRange(t,e){return PN(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}},LineElement:JI,PointElement:hke});const NN=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],R7=NN.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function M7(n){return NN[n%NN.length]}function P7(n){return R7[n%R7.length]}function O7(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}var Tke={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:o}=r,s=O7(i)||function Ike(n){return n&&(n.borderColor||n.backgroundColor)}(r)||o&&O7(o)||function Cke(){return"rgba(0,0,0,0.1)"!==Ri.borderColor||"rgba(0,0,0,0.1)"!==Ri.backgroundColor}();if(!e.forceOverride&&s)return;const a=function Eke(n){let t=0;return(e,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof CN?t=function xke(n,t){return n.backgroundColor=n.data.map(()=>M7(t++)),t}(e,t):r instanceof X$?t=function wke(n,t){return n.backgroundColor=n.data.map(()=>P7(t++)),t}(e,t):r&&(t=function yke(n,t){return n.borderColor=M7(t),n.backgroundColor=P7(t),++t}(e,t))}}(n);i.forEach(a)}};function N7(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function F7(n){n.data.datasets.forEach(t=>{N7(t)})}var Dke={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void F7(n);const i=n.width;n.data.datasets.forEach((r,o)=>{const{_data:s,indexAxis:a}=r,c=n.getDatasetMeta(o),l=s||r.data;if("y"===kv([a,n.options.indexAxis])||!c.controller.supportsDecimation)return;const d=n.scales[c.xAxisID];if("linear"!==d.type&&"time"!==d.type||n.options.parsing)return;let v,{start:u,count:p}=function Ske(n,t){const e=t.length;let r,i=0;const{iScale:o}=n,{min:s,max:a,minDefined:c,maxDefined:l}=o.getUserBounds();return c&&(i=Mr($c(t,o.axis,s).lo,0,e-1)),r=l?Mr($c(t,o.axis,a).hi+1,i,e)-i:e-i,{start:i,count:r}}(c,l);if(p<=(e.threshold||4*i))N7(r);else{switch(_n(s)&&(r._data=l,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(x){this._data=x}})),e.algorithm){case"lttb":v=function Ake(n,t,e,i,r){const o=r.samples||i;if(o>=e)return n.slice(t,t+e);const s=[],a=(e-2)/(o-2);let c=0;const l=t+e-1;let u,p,b,v,x,d=t;for(s[c++]=n[d],u=0;u<o-2;u++){let R,w=0,F=0;const z=Math.floor((u+1)*a)+1+t,K=Math.min(Math.floor((u+2)*a)+1,e)+t,Z=K-z;for(R=z;R<K;R++)w+=n[R].x,F+=n[R].y;w/=Z,F/=Z;const ne=Math.floor(u*a)+1+t,U=Math.min(Math.floor((u+1)*a)+1,e)+t,{x:P,y:B}=n[d];for(b=v=-1,R=ne;R<U;R++)v=.5*Math.abs((P-w)*(n[R].y-B)-(P-n[R].x)*(F-B)),v>b&&(b=v,p=n[R],x=R);s[c++]=p,d=x}return s[c++]=n[l],s}(l,u,p,i,e);break;case"min-max":v=function kke(n,t,e,i){let s,a,c,l,d,u,p,b,v,x,r=0,o=0;const w=[],R=n[t].x,K=n[t+e-1].x-R;for(s=t;s<t+e;++s){a=n[s],c=(a.x-R)/K*i,l=a.y;const Z=0|c;if(Z===d)l<v?(v=l,u=s):l>x&&(x=l,p=s),r=(o*r+a.x)/++o;else{const ne=s-1;if(!_n(u)&&!_n(p)){const U=Math.min(u,p),P=Math.max(u,p);U!==b&&U!==ne&&w.push({...n[U],x:r}),P!==b&&P!==ne&&w.push({...n[P],x:r})}s>0&&ne!==b&&w.push(n[ne]),w.push(a),d=Z,o=0,v=x=l,u=p=b=s}}return w}(l,u,p,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=v}})},destroy(n){F7(n)}};function FN(n,t,e,i){if(i)return;let r=t[n],o=e[n];return"angle"===n&&(r=fs(r),o=fs(o)),{property:n,start:r,end:o}}function LN(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function L7(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function V7(n,t){let e=[],i=!1;return xi(n)?(i=!0,e=n):e=function Mke(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,o=[];return t.segments.forEach(({start:s,end:a})=>{a=LN(s,a,r);const c=r[s],l=r[a];null!==i?(o.push({x:c.x,y:i}),o.push({x:l.x,y:i})):null!==e&&(o.push({x:e,y:c.y}),o.push({x:e,y:l.y}))}),o}(n,t),e.length?new JI({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function B7(n){return n&&!1!==n.fill}function Pke(n,t,e){let r=n[t].fill;const o=[t];let s;if(!e)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!ji(r))return r;if(s=n[r],!s)return!1;if(s.visible)return r;o.push(r),r=s.fill}return!1}function Oke(n,t,e){const i=function Vke(n){const t=n.options,e=t.fill;let i=Vt(e&&e.target,e);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(ln(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return ji(r)&&Math.floor(r)===r?function Nke(n,t,e,i){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=i)&&e}(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function jke(n,t,e){const i=[];for(let r=0;r<e.length;r++){const o=e[r],{first:s,last:a,point:c}=zke(o,t,"x");if(!(!c||s&&a))if(s)i.unshift(c);else if(n.push(c),!a)break}n.push(...i)}function zke(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],o=n.segments,s=n.points;let a=!1,c=!1;for(let l=0;l<o.length;l++){const d=o[l],u=s[d.start][e],p=s[d.end][e];if(Gc(r,u,p)){a=r===u,c=r===p;break}}return{first:a,last:c,point:i}}class U7{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:o,radius:s}=this;return t.arc(r,o,s,(e=e||{start:0,end:Ei}).end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function VN(n,t,e){const i=function Hke(n){const{chart:t,fill:e,line:i}=n;if(ji(e))return function qke(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function Bke(n){const{scale:t,index:e,line:i}=n,r=[],o=i.segments,s=i.points,a=function Uke(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}(t,e);a.push(V7({x:null,y:t.bottom},i));for(let c=0;c<o.length;c++){const l=o[c];for(let d=l.start;d<=l.end;d++)jke(r,s[d],a)}return new JI({points:r,options:{}})}(n);if("shape"===e)return!0;const r=function Wke(n){return(n.scale||{}).getPointPositionForValue?function $ke(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,s=function Lke(n,t,e){let i;return i="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:ln(n)?n.value:t.getBaseValue(),i}(e,t,o),a=[];if(i.grid.circular){const c=t.getPointPositionForValue(0,o);return new U7({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(s)})}for(let c=0;c<r;++c)a.push(t.getPointPositionForValue(c,s));return a}(n):function Gke(n){const{scale:t={},fill:e}=n,i=function Fke(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:ln(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(ji(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof U7?r:V7(r,i)}(t),{line:r,scale:o,axis:s}=t,a=r.options,c=a.fill,l=a.backgroundColor,{above:d=l,below:u=l}=c||{};i&&r.points.length&&(LI(n,e),function Kke(n,t){const{line:e,target:i,above:r,below:o,area:s,scale:a}=t,c=e._loop?"angle":t.axis;n.save(),"x"===c&&o!==r&&(j7(n,i,s.top),z7(n,{line:e,target:i,color:r,scale:a,property:c}),n.restore(),n.save(),j7(n,i,s.bottom)),z7(n,{line:e,target:i,color:o,scale:a,property:c}),n.restore()}(n,{line:r,target:i,above:d,below:u,area:e,scale:o,axis:s}),VI(n))}function j7(n,t,e){const{segments:i,points:r}=t;let o=!0,s=!1;n.beginPath();for(const a of i){const{start:c,end:l}=a,d=r[c],u=r[LN(c,l,r)];o?(n.moveTo(d.x,d.y),o=!1):(n.lineTo(d.x,e),n.lineTo(d.x,d.y)),s=!!t.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(u.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function z7(n,t){const{line:e,target:i,property:r,color:o,scale:s}=t,a=function Rke(n,t,e){const i=n.segments,r=n.points,o=t.points,s=[];for(const a of i){let{start:c,end:l}=a;l=LN(c,l,r);const d=FN(e,r[c],r[l],a.loop);if(!t.segments){s.push({source:a,target:d,start:r[c],end:r[l]});continue}const u=F$(t,d);for(const p of u){const b=FN(e,o[p.start],o[p.end],p.loop),v=N$(a,r,b);for(const x of v)s.push({source:x,target:p,start:{[e]:L7(d,b,"start",Math.max)},end:{[e]:L7(d,b,"end",Math.min)}})}}return s}(e,i,r);for(const{source:c,target:l,start:d,end:u}of a){const{style:{backgroundColor:p=o}={}}=c,b=!0!==i;n.save(),n.fillStyle=p,Qke(n,s,b&&FN(r,d,u)),n.beginPath();const v=!!e.pathSegment(n,c);let x;if(b){v?n.closePath():H7(n,i,u,r);const w=!!i.pathSegment(n,l,{move:v,reverse:!0});x=v&&w,x||H7(n,i,d,r)}n.closePath(),n.fill(x?"evenodd":"nonzero"),n.restore()}}function Qke(n,t,e){const{top:i,bottom:r}=t.chart.chartArea,{property:o,start:s,end:a}=e||{};"x"===o&&(n.beginPath(),n.rect(s,i,a-s,r-i),n.clip())}function H7(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var Yke={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let o,s,a,c;for(s=0;s<i;++s)o=n.getDatasetMeta(s),a=o.dataset,c=null,a&&a.options&&a instanceof JI&&(c={visible:n.isDatasetVisible(s),index:s,fill:Oke(a,s,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=c,r.push(c);for(s=0;s<i;++s)c=r[s],c&&!1!==c.fill&&(c.fill=Pke(r,s,e.propagate))},beforeDraw(n,t,e){const i="beforeDraw"===e.drawTime,r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let s=r.length-1;s>=0;--s){const a=r[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),i&&a.fill&&VN(n.ctx,a,o))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;B7(o)&&VN(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!B7(i)||"beforeDatasetDraw"!==e.drawTime||VN(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const q7=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}};class W7 extends Yc{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ci(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,r=br(i.font),o=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=q7(i,o);let l,d;e.font=r.string,this.isHorizontal()?(l=this.maxWidth,d=this._fitRows(s,o,a,c)+10):(d=this.maxHeight,l=this._fitCols(s,r,a,c)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],d=r+a;let u=t;o.textAlign="left",o.textBaseline="middle";let p=-1,b=-d;return this.legendItems.forEach((v,x)=>{const w=i+e/2+o.measureText(v.text).width;(0===x||l[l.length-1]+w+2*a>s)&&(u+=d,l[l.length-(x>0?0:1)]=0,b+=d,p++),c[x]={left:0,top:b,row:p,width:w,height:r},l[l.length-1]+=w+a}),u}_fitCols(t,e,i,r){const{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],d=s-t;let u=a,p=0,b=0,v=0,x=0;return this.legendItems.forEach((w,F)=>{const{itemWidth:R,itemHeight:z}=function Jke(n,t,e,i,r){const o=function Zke(n,t,e,i){let r=n.text;return r&&"string"!=typeof r&&(r=r.reduce((o,s)=>o.length>s.length?o:s)),t+e.size/2+i.measureText(r).width}(i,n,t,e),s=function eSe(n,t,e){let i=n;return"string"!=typeof t.text&&(i=G7(t,e)),i}(r,i,t.lineHeight);return{itemWidth:o,itemHeight:s}}(i,e,o,w,r);F>0&&b+z+2*a>d&&(u+=p+a,l.push({width:p,height:b}),v+=p+a,x++,p=b=0),c[F]={left:v,top:b,col:x,width:R,height:z},p=Math.max(p,R),b+=z+a}),u+=p,l.push({width:p,height:b}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,s=lp(o,this.left,this.width);if(this.isHorizontal()){let a=0,c=so(i,this.left+r,this.right-this.lineWidths[a]);for(const l of e)a!==l.row&&(a=l.row,c=so(i,this.left+r,this.right-this.lineWidths[a])),l.top+=this.top+t+r,l.left=s.leftForLtr(s.x(c),l.width),c+=l.width+r}else{let a=0,c=so(i,this.top+t+r,this.bottom-this.columnSizes[a].height);for(const l of e)l.col!==a&&(a=l.col,c=so(i,this.top+t+r,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+r,l.left=s.leftForLtr(s.x(l.left),l.width),c+=l.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;LI(t,this),this._draw(),VI(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:s}=t,a=Ri.color,c=lp(t.rtl,this.left,this.width),l=br(s.font),{padding:d}=s,u=l.size,p=u/2;let b;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:v,boxHeight:x,itemHeight:w}=q7(s,u),z=this.isHorizontal(),K=this._computeTitleHeight();b=z?{x:so(o,this.left+d,this.right-i[0]),y:this.top+d+K,line:0}:{x:this.left+d,y:so(o,this.top+K+d,this.bottom-e[0].height),line:0},R$(this.ctx,t.textDirection);const Z=w+d;this.legendItems.forEach((ne,U)=>{r.strokeStyle=ne.fontColor,r.fillStyle=ne.fontColor;const P=r.measureText(ne.text).width,B=c.textAlign(ne.textAlign||(ne.textAlign=s.textAlign)),G=v+p+P;let Y=b.x,ee=b.y;c.setWidth(this.width),z?U>0&&Y+G+d>this.right&&(ee=b.y+=Z,b.line++,Y=b.x=so(o,this.left+d,this.right-i[b.line])):U>0&&ee+Z>this.bottom&&(Y=b.x=Y+e[b.line].width+d,b.line++,ee=b.y=so(o,this.top+K+d,this.bottom-e[b.line].height)),function(ne,U,P){if(isNaN(v)||v<=0||isNaN(x)||x<0)return;r.save();const B=Vt(P.lineWidth,1);if(r.fillStyle=Vt(P.fillStyle,a),r.lineCap=Vt(P.lineCap,"butt"),r.lineDashOffset=Vt(P.lineDashOffset,0),r.lineJoin=Vt(P.lineJoin,"miter"),r.lineWidth=B,r.strokeStyle=Vt(P.strokeStyle,a),r.setLineDash(Vt(P.lineDash,[])),s.usePointStyle){const G={radius:x*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:B},Y=c.xPlus(ne,v/2);v$(r,G,Y,U+p,s.pointStyleWidth&&v)}else{const G=U+Math.max((u-x)/2,0),Y=c.leftForLtr(ne,v),ee=oh(P.borderRadius);r.beginPath(),Object.values(ee).some(W=>0!==W)?Av(r,{x:Y,y:G,w:v,h:x,radius:ee}):r.rect(Y,G,v,x),r.fill(),0!==B&&r.stroke()}r.restore()}(c.x(Y),ee,ne),Y=((n,t,e,i)=>n===(i?"left":"right")?e:"center"===n?(t+e)/2:t)(B,Y+v+p,z?Y+G:this.right,t.rtl),function(ne,U,P){rh(r,P.text,ne,U+w/2,l,{strikethrough:P.hidden,textAlign:c.textAlign(P.textAlign)})}(c.x(Y),ee,ne),z?b.x+=G+d:b.y+="string"!=typeof ne.text?G7(ne,l.lineHeight)+d:Z}),M$(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=br(e.font),r=ao(e.padding);if(!e.display)return;const o=lp(t.rtl,this.left,this.width),s=this.ctx,a=e.position,l=r.top+i.size/2;let d,u=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),d=this.top+l,u=so(t.align,u,this.right-p);else{const v=this.columnSizes.reduce((x,w)=>Math.max(x,w.height),0);d=l+so(t.align,this.top,this.bottom-v-t.labels.padding-this._computeTitleHeight())}const b=so(a,u,u+p);s.textAlign=o.textAlign(lN(a)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=i.string,rh(s,e.text,b,d,i)}_computeTitleHeight(){const t=this.options.title,e=br(t.font),i=ao(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Gc(t,this.left,this.right)&&Gc(e,this.top,this.bottom))for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Gc(t,r.left,r.left+r.width)&&Gc(e,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function tSe(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,o=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(r,i);r&&!o&&ci(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&ci(e.onHover,[t,i,this],this)}else i&&ci(e.onClick,[t,i,this],this)}}function G7(n,t){return t*(n.text?n.text.length:0)}var nSe={id:"legend",_element:W7,start(n,t,e){const i=n.legend=new W7({ctx:n.ctx,options:e,chart:n});co.configure(n,i,e),co.addBox(n,i)},stop(n){co.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;co.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:s,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const l=c.controller.getStyle(e?0:void 0),d=ao(l.borderWidth);return{text:t[c.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:s&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class BN extends Yc{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=xi(i.text)?i.text.length:1;this._padding=ao(i.padding);const o=r*br(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:s}=this,a=s.align;let l,d,u,c=0;return this.isHorizontal()?(d=so(a,i,o),u=e+t,l=o-i):("left"===s.position?(d=i+t,u=so(a,r,e),c=-.5*wi):(d=o-t,u=so(a,e,r),c=.5*wi),l=r-e),{titleX:d,titleY:u,maxWidth:l,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=br(e.font),o=i.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(o);rh(t,e.text,0,0,i,{color:e.color,maxWidth:c,rotation:l,textAlign:lN(e.align),textBaseline:"middle",translation:[s,a]})}}var rSe={id:"title",_element:BN,start(n,t,e){!function iSe(n,t){const e=new BN({ctx:n.ctx,options:t,chart:n});co.configure(n,e,t),co.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){co.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;co.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ZI=new WeakMap;var oSe={id:"subtitle",start(n,t,e){const i=new BN({ctx:n.ctx,options:e,chart:n});co.configure(n,i,e),co.addBox(n,i),ZI.set(n,i)},stop(n){co.removeBox(n,ZI.get(n)),ZI.delete(n)},beforeUpdate(n,t,e){const i=ZI.get(n);co.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vv={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const a=n[t].element;if(a&&a.hasValue()){const c=a.tooltipPosition();i.add(c.x),r+=c.y,++o}}return 0!==o&&0!==i.size&&{x:[...i].reduce((a,c)=>a+c)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let o,s,a,e=t.x,i=t.y,r=Number.POSITIVE_INFINITY;for(o=0,s=n.length;o<s;++o){const c=n[o].element;if(c&&c.hasValue()){const d=aN(t,c.getCenterPoint());d<r&&(r=d,a=c)}}if(a){const c=a.tooltipPosition();e=c.x,i=c.y}return{x:e,y:i}}};function Ka(n,t){return t&&(xi(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Xc(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function sSe(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:n,label:s,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function $7(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:s,boxHeight:a}=t,c=br(t.bodyFont),l=br(t.titleFont),d=br(t.footerFont),u=o.length,p=r.length,b=i.length,v=ao(t.padding);let x=v.height,w=0,F=i.reduce((K,Z)=>K+Z.before.length+Z.lines.length+Z.after.length,0);F+=n.beforeBody.length+n.afterBody.length,u&&(x+=u*l.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),F&&(x+=b*(t.displayColors?Math.max(a,c.lineHeight):c.lineHeight)+(F-b)*c.lineHeight+(F-1)*t.bodySpacing),p&&(x+=t.footerMarginTop+p*d.lineHeight+(p-1)*t.footerSpacing);let R=0;const z=function(K){w=Math.max(w,e.measureText(K).width+R)};return e.save(),e.font=l.string,Pn(n.title,z),e.font=c.string,Pn(n.beforeBody.concat(n.afterBody),z),R=t.displayColors?s+2+t.boxPadding:0,Pn(i,K=>{Pn(K.before,z),Pn(K.lines,z),Pn(K.after,z)}),R=0,e.font=d.string,Pn(n.footer,z),e.restore(),w+=v.width,{width:w,height:x}}function lSe(n,t,e,i){const{x:r,width:o}=e,{width:s,chartArea:{left:a,right:c}}=n;let l="center";return"center"===i?l=r<=(a+c)/2?"left":"right":r<=o/2?l="left":r>=s-o/2&&(l="right"),function cSe(n,t,e,i){const{x:r,width:o}=i,s=e.caretSize+e.caretPadding;if("left"===n&&r+o+s>t.width||"right"===n&&r-o-s<0)return!0}(l,n,t,e)&&(l="center"),l}function K7(n,t,e){const i=e.yAlign||t.yAlign||function aSe(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||lSe(n,t,e,i),yAlign:i}}function Q7(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:s}=n,{xAlign:a,yAlign:c}=e,l=r+o,{topLeft:d,topRight:u,bottomLeft:p,bottomRight:b}=oh(s);let v=function dSe(n,t){let{x:e,width:i}=n;return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(t,a);const x=function uSe(n,t,e){let{y:i,height:r}=n;return"top"===t?i+=e:i-="bottom"===t?r+e:r/2,i}(t,c,l);return"center"===c?"left"===a?v+=l:"right"===a&&(v-=l):"left"===a?v-=Math.max(d,p)+r:"right"===a&&(v+=Math.max(u,b)+r),{x:Mr(v,0,i.width-t.width),y:Mr(x,0,i.height-t.height)}}function eC(n,t,e){const i=ao(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-i.right:n.x+i.left}function Y7(n){return Ka([],Xc(n))}function X7(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const J7={beforeTitle:Wc,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Wc,beforeBody:Wc,beforeLabel:Wc,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return _n(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Wc,afterBody:Wc,beforeFooter:Wc,footer:Wc,afterFooter:Wc};function zo(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?J7[t].call(e,i):r}let Z7=(()=>class n extends Yc{static positioners=Vv;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&i.options.animation&&r.animations,s=new U$(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=function hSe(n,t,e){return pd(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:r}=i,o=zo(r,"beforeTitle",this,e),s=zo(r,"title",this,e),a=zo(r,"afterTitle",this,e);let c=[];return c=Ka(c,Xc(o)),c=Ka(c,Xc(s)),c=Ka(c,Xc(a)),c}getBeforeBody(e,i){return Y7(zo(i.callbacks,"beforeBody",this,e))}getBody(e,i){const{callbacks:r}=i,o=[];return Pn(e,s=>{const a={before:[],lines:[],after:[]},c=X7(r,s);Ka(a.before,Xc(zo(c,"beforeLabel",this,s))),Ka(a.lines,zo(c,"label",this,s)),Ka(a.after,Xc(zo(c,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(e,i){return Y7(zo(i.callbacks,"afterBody",this,e))}getFooter(e,i){const{callbacks:r}=i,o=zo(r,"beforeFooter",this,e),s=zo(r,"footer",this,e),a=zo(r,"afterFooter",this,e);let c=[];return c=Ka(c,Xc(o)),c=Ka(c,Xc(s)),c=Ka(c,Xc(a)),c}_createItems(e){const i=this._active,r=this.chart.data,o=[],s=[],a=[];let l,d,c=[];for(l=0,d=i.length;l<d;++l)c.push(sSe(this.chart,i[l]));return e.filter&&(c=c.filter((u,p,b)=>e.filter(u,p,b,r))),e.itemSort&&(c=c.sort((u,p)=>e.itemSort(u,p,r))),Pn(c,u=>{const p=X7(e.callbacks,u);o.push(zo(p,"labelColor",this,u)),s.push(zo(p,"labelPointStyle",this,u)),a.push(zo(p,"labelTextColor",this,u))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=c,c}update(e,i){const r=this.options.setContext(this.getContext()),o=this._active;let s,a=[];if(o.length){const c=Vv[r.position].call(this,o,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=$7(this,r),d=Object.assign({},c,l),u=K7(this.chart,r,d),p=Q7(r,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:p.x,y:p.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,r,o){const s=this.getCaretPosition(e,r,o);i.lineTo(s.x1,s.y1),i.lineTo(s.x2,s.y2),i.lineTo(s.x3,s.y3)}getCaretPosition(e,i,r){const{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:c}=r,{topLeft:l,topRight:d,bottomLeft:u,bottomRight:p}=oh(c),{x:b,y:v}=e,{width:x,height:w}=i;let F,R,z,K,Z,ne;return"center"===s?(Z=v+w/2,"left"===o?(F=b,R=F-a,K=Z+a,ne=Z-a):(F=b+x,R=F+a,K=Z-a,ne=Z+a),z=F):(R="left"===o?b+Math.max(l,u)+a:"right"===o?b+x-Math.max(d,p)-a:this.caretX,"top"===s?(K=v,Z=K-a,F=R-a,z=R+a):(K=v+w,Z=K+a,F=R+a,z=R-a),ne=K),{x1:F,x2:R,x3:z,y1:K,y2:Z,y3:ne}}drawTitle(e,i,r){const o=this.title,s=o.length;let a,c,l;if(s){const d=lp(r.rtl,this.x,this.width);for(e.x=eC(this,r.titleAlign,r),i.textAlign=d.textAlign(r.titleAlign),i.textBaseline="middle",a=br(r.titleFont),c=r.titleSpacing,i.fillStyle=r.titleColor,i.font=a.string,l=0;l<s;++l)i.fillText(o[l],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+c,l+1===s&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,i,r,o,s){const a=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:l,boxWidth:d}=s,u=br(s.bodyFont),p=eC(this,"left",s),b=o.x(p),x=i.y+(l<u.lineHeight?(u.lineHeight-l)/2:0);if(s.usePointStyle){const w={radius:Math.min(d,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},F=o.leftForLtr(b,d)+d/2,R=x+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,mN(e,w,F,R),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,mN(e,w,F,R)}else{e.lineWidth=ln(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const w=o.leftForLtr(b,d),F=o.leftForLtr(o.xPlus(b,1),d-2),R=oh(a.borderRadius);Object.values(R).some(z=>0!==z)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Av(e,{x:w,y:x,w:d,h:l,radius:R}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Av(e,{x:F,y:x+1,w:d-2,h:l-2,radius:R}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(w,x,d,l),e.strokeRect(w,x,d,l),e.fillStyle=a.backgroundColor,e.fillRect(F,x+1,d-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,i,r){const{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:d,boxPadding:u}=r,p=br(r.bodyFont);let b=p.lineHeight,v=0;const x=lp(r.rtl,this.x,this.width),w=function(B){i.fillText(B,x.x(e.x+v),e.y+b/2),e.y+=b+s},F=x.textAlign(a);let R,z,K,Z,ne,U,P;for(i.textAlign=a,i.textBaseline="middle",i.font=p.string,e.x=eC(this,F,r),i.fillStyle=r.bodyColor,Pn(this.beforeBody,w),v=c&&"right"!==F?"center"===a?d/2+u:d+2+u:0,Z=0,U=o.length;Z<U;++Z){for(R=o[Z],z=this.labelTextColors[Z],i.fillStyle=z,Pn(R.before,w),K=R.lines,c&&K.length&&(this._drawColorBox(i,e,Z,x,r),b=Math.max(p.lineHeight,l)),ne=0,P=K.length;ne<P;++ne)w(K[ne]),b=p.lineHeight;Pn(R.after,w)}v=0,b=p.lineHeight,Pn(this.afterBody,w),e.y-=s}drawFooter(e,i,r){const o=this.footer,s=o.length;let a,c;if(s){const l=lp(r.rtl,this.x,this.width);for(e.x=eC(this,r.footerAlign,r),e.y+=r.footerMarginTop,i.textAlign=l.textAlign(r.footerAlign),i.textBaseline="middle",a=br(r.footerFont),i.fillStyle=r.footerColor,i.font=a.string,c=0;c<s;++c)i.fillText(o[c],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,i,r,o){const{xAlign:s,yAlign:a}=this,{x:c,y:l}=e,{width:d,height:u}=r,{topLeft:p,topRight:b,bottomLeft:v,bottomRight:x}=oh(o.cornerRadius);i.fillStyle=o.backgroundColor,i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.beginPath(),i.moveTo(c+p,l),"top"===a&&this.drawCaret(e,i,r,o),i.lineTo(c+d-b,l),i.quadraticCurveTo(c+d,l,c+d,l+b),"center"===a&&"right"===s&&this.drawCaret(e,i,r,o),i.lineTo(c+d,l+u-x),i.quadraticCurveTo(c+d,l+u,c+d-x,l+u),"bottom"===a&&this.drawCaret(e,i,r,o),i.lineTo(c+v,l+u),i.quadraticCurveTo(c,l+u,c,l+u-v),"center"===a&&"left"===s&&this.drawCaret(e,i,r,o),i.lineTo(c,l+p),i.quadraticCurveTo(c,l,c+p,l),i.closePath(),i.fill(),o.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,r=this.$animations,o=r&&r.x,s=r&&r.y;if(o||s){const a=Vv[e.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=$7(this,e),l=Object.assign({},a,this._size),d=K7(i,e,l),u=Q7(e,l,d,i);(o._to!==u.x||s._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const i=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(i);const o={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=ao(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,o,i),R$(e,i.textDirection),s.y+=a.top,this.drawTitle(s,e,i),this.drawBody(s,e,i),this.drawFooter(s,e,i),M$(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const r=this._active,o=e.map(({datasetIndex:c,index:l})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[l],index:l}}),s=!RI(r,o),a=this._positionChanged(o,i);(s||a)&&(this._active=o,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,s=this._active||[],a=this._getActiveElements(e,s,i,r),c=this._positionChanged(a,e),l=i||!RI(a,s)||c;return l&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),l}_getActiveElements(e,i,r,o){const s=this.options;if("mouseout"===e.type)return[];if(!o)return i.filter(c=>this.chart.data.datasets[c.datasetIndex]&&void 0!==this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index));const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,i){const{caretX:r,caretY:o,options:s}=this,a=Vv[s.position].call(this,e,i);return!1!==a&&(r!==a.x||o!==a.y)}})();var fSe={id:"tooltip",_element:Z7,positioners:Vv,afterInit(n,t,e){e&&(n.tooltip=new Z7({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:J7},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},mSe=Object.freeze({__proto__:null,Colors:Tke,Decimation:Dke,Filler:Yke,Legend:nSe,SubTitle:oSe,Title:rSe,Tooltip:fSe});function eK(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}let bSe=(()=>class n extends dh{static id="category";static defaults={ticks:{callback:eK}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const i=this._addedLabels;if(i.length){const r=this.getLabels();for(const{index:o,label:s}of i)r[o]===s&&r.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(_n(e))return null;const r=this.getLabels();return((n,t)=>null===n?null:Mr(Math.round(n),0,t))(i=isFinite(i)&&r[i]===e?i:function gSe(n,t,e,i){const r=n.indexOf(t);return-1===r?((n,t,e,i)=>("string"==typeof t?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,i):r!==n.lastIndexOf(t)?e:r}(r,e,Vt(i,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),i||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){const e=this.min,i=this.max,r=this.options.offset,o=[];let s=this.getLabels();s=0===e&&i===s.length-1?s:s.slice(e,i+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=i;a++)o.push({value:a});return o}getLabelForValue(e){return eK.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}})();function tK(n,t,{horizontal:e,minRotation:i}){const r=ca(i),o=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(t/o,.75*t*(""+n).length)}class tC extends dh{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return _n(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const s=c=>r=e?r:c,a=c=>o=i?o:c;if(t){const c=Ga(r),l=Ga(o);c<0&&l<0?a(0):c>0&&l>0&&s(0)}if(r===o){let c=0===o?1:Math.abs(.05*o);a(o+c),t||s(r-c)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let r,{maxTicksLimit:e,stepSize:i}=t;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s=function vSe(n,t){const e=[],{bounds:r,step:o,min:s,max:a,precision:c,count:l,maxTicks:d,maxDigits:u,includeBounds:p}=n,b=o||1,v=d-1,{min:x,max:w}=t,F=!_n(s),R=!_n(a),z=!_n(l),K=(w-x)/(u+1);let ne,U,P,B,Z=n$((w-x)/v/b)*b;if(Z<1e-14&&!F&&!R)return[{value:x},{value:w}];B=Math.ceil(w/Z)-Math.floor(x/Z),B>v&&(Z=n$(B*Z/v/b)*b),_n(c)||(ne=Math.pow(10,c),Z=Math.ceil(Z*ne)/ne),"ticks"===r?(U=Math.floor(x/Z)*Z,P=Math.ceil(w/Z)*Z):(U=x,P=w),F&&R&&o&&function oCe(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((a-s)/o,Z/1e3)?(B=Math.round(Math.min((a-s)/Z,d)),Z=(a-s)/B,U=s,P=a):z?(U=F?s:U,P=R?a:P,B=l-1,Z=(P-U)/B):(B=(P-U)/Z,B=wv(B,Math.round(B),Z/1e3)?Math.round(B):Math.ceil(B));const G=Math.max(r$(Z),r$(U));ne=Math.pow(10,_n(c)?G:c),U=Math.round(U*ne)/ne,P=Math.round(P*ne)/ne;let Y=0;for(F&&(p&&U!==s?(e.push({value:s}),U<s&&Y++,wv(Math.round((U+Y*Z)*ne)/ne,s,tK(s,K,n))&&Y++):U<s&&Y++);Y<B;++Y){const ee=Math.round((U+Y*Z)*ne)/ne;if(R&&ee>a)break;e.push({value:ee})}return R&&p&&P!==a?e.length&&wv(e[e.length-1].value,a,tK(a,K,n))?e[e.length-1].value=a:e.push({value:a}):(!R||P===a)&&e.push({value:P}),e}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&i$(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Cv(t,this.chart.options.locale,this.options.ticks.format)}}const Bv=n=>Math.floor(md(n)),uh=(n,t)=>Math.pow(10,Bv(n)+t);function nK(n){return n/Math.pow(10,Bv(n))==1}function iK(n,t,e){const i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}function UN(n){const t=n.ticks;if(t.display&&n.display){const e=ao(t.backdropPadding);return Vt(t.font&&t.font.size,Ri.font.size)+e.height}return 0}function ISe(n,t,e){return e=xi(e)?e:[e],{w:wCe(n,t.string,e),h:e.length*t.lineHeight}}function rK(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function TSe(n,t,e,i,r){const o=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e));let a=0,c=0;i.start<t.l?(a=(t.l-i.start)/o,n.l=Math.min(n.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/o,n.r=Math.max(n.r,t.r+a)),r.start<t.t?(c=(t.t-r.start)/s,n.t=Math.min(n.t,t.t-c)):r.end>t.b&&(c=(r.end-t.b)/s,n.b=Math.max(n.b,t.b+c))}function ASe(n,t,e){const i=n.drawingArea,{extra:r,additionalAngle:o,padding:s,size:a}=e,c=n.getPointPosition(t,i+r+s,o),l=Math.round(sN(fs(c.angle+tr))),d=function MSe(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}(c.y,a.h,l),u=function DSe(n){return 0===n||180===n?"center":n<180?"left":"right"}(l),p=function RSe(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}(c.x,a.w,u);return{visible:!0,x:c.x,y:d,textAlign:u,left:p,top:d,right:p+a.w,bottom:d+a.h}}function kSe(n,t){if(!t)return!0;const{left:e,top:i,right:r,bottom:o}=n;return!(Kc({x:e,y:i},t)||Kc({x:e,y:o},t)||Kc({x:r,y:i},t)||Kc({x:r,y:o},t))}function PSe(n,t,e){const{left:i,top:r,right:o,bottom:s}=e,{backdropColor:a}=t;if(!_n(a)){const c=oh(t.borderRadius),l=ao(t.backdropPadding);n.fillStyle=a;const d=i-l.left,u=r-l.top,p=o-i+l.width,b=s-r+l.height;Object.values(c).some(v=>0!==v)?(n.beginPath(),Av(n,{x:d,y:u,w:p,h:b,radius:c}),n.fill()):n.fillRect(d,u,p,b)}}function oK(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,Ei);else{let o=n.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let s=1;s<i;s++)o=n.getPointPosition(s,t),r.lineTo(o.x,o.y)}}const nC={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ho=Object.keys(nC);function sK(n,t){return n-t}function aK(n,t){if(_n(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let s=t;return"function"==typeof i&&(s=i(s)),ji(s)||(s="string"==typeof i?e.parse(s,i):e.parse(s)),null===s?null:(r&&(s="week"!==r||!sp(o)&&!0!==o?e.startOf(s,r):e.startOf(s,"isoWeek",o)),+s)}function cK(n,t,e,i){const r=Ho.length;for(let o=Ho.indexOf(n);o<r-1;++o){const s=nC[Ho[o]];if(s.common&&Math.ceil((e-t)/((s.steps?s.steps:Number.MAX_SAFE_INTEGER)*s.size))<=i)return Ho[o]}return Ho[r-1]}function lK(n,t,e){if(e){if(e.length){const{lo:i,hi:r}=cN(e,t);n[e[i]>=t?e[i]:e[r]]=!0}}else n[t]=!0}function dK(n,t,e){const i=[],r={},o=t.length;let s,a;for(s=0;s<o;++s)a=t[s],r[a]=s,i.push({value:a,major:!1});return 0!==o&&e?function USe(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),s=t[t.length-1].value;let a,c;for(a=o;a<=s;a=+r.add(a,1,i))c=e[a],c>=0&&(t[c].major=!0);return t}(n,i,r,e):i}let jN=(()=>class n extends dh{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){const r=e.time||(e.time={}),o=this._adapter=new jTe__date(e.adapters.date);o.init(i),yv(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return void 0===e?null:aK(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,r=e.time.unit||"day";let{min:o,max:s,minDefined:a,maxDefined:c}=this.getUserBounds();function l(d){!a&&!isNaN(d.min)&&(o=Math.min(o,d.min)),!c&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!c)&&(l(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&l(this.getMinMax(!1))),o=ji(o)&&!isNaN(o)?o:+i.startOf(Date.now(),r),s=ji(s)&&!isNaN(s)?s:+i.endOf(Date.now(),r)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],r=e[e.length-1]),{min:i,max:r}}buildTicks(){const e=this.options,i=e.time,r=e.ticks,o="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const s=this.min,c=function lCe(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}(o,s,this.max);return this._unit=i.unit||(r.autoSkip?cK(i.minUnit,this.min,this.max,this._getLabelCapacity(s)):function VSe(n,t,e,i,r){for(let o=Ho.length-1;o>=Ho.indexOf(e);o--){const s=Ho[o];if(nC[s].common&&n._adapter.diff(r,i,s)>=t-1)return s}return Ho[e?Ho.indexOf(e):0]}(this,c.length,i.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function BSe(n){for(let t=Ho.indexOf(n)+1,e=Ho.length;t<e;++t)if(nC[Ho[t]].common)return Ho[t]}(this._unit):void 0,this.initOffsets(o),e.reverse&&c.reverse(),dK(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let o,s,i=0,r=0;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),i=1===e.length?1-o:(this.getDecimalForValue(e[1])-o)/2,s=this.getDecimalForValue(e[e.length-1]),r=1===e.length?s:(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;i=Mr(i,0,a),r=Mr(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,i=this.min,r=this.max,o=this.options,s=o.time,a=s.unit||cK(s.minUnit,i,r,this._getLabelCapacity(i)),c=Vt(o.ticks.stepSize,1),l="week"===a&&s.isoWeekday,d=sp(l)||!0===l,u={};let b,v,p=i;if(d&&(p=+e.startOf(p,"isoWeek",l)),p=+e.startOf(p,d?"day":a),e.diff(r,i,a)>1e5*c)throw new Error(i+" and "+r+" are too far apart with stepSize of "+c+" "+a);const x="data"===o.ticks.source&&this.getDataTimestamps();for(b=p,v=0;b<r;b=+e.add(b,c,a),v++)lK(u,b,x);return(b===r||"ticks"===o.bounds||1===v)&&lK(u,b,x),Object.keys(u).sort(sK).map(w=>+w)}getLabelForValue(e){const r=this.options.time;return this._adapter.format(e,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}format(e,i){return this._adapter.format(e,i||this.options.time.displayFormats[this._unit])}_tickFormatFunction(e,i,r,o){const s=this.options,a=s.ticks.callback;if(a)return ci(a,[e,i,r],this);const c=s.time.displayFormats,l=this._unit,d=this._majorUnit,p=d&&c[d],b=r[i];return this._adapter.format(e,o||(d&&p&&b&&b.major?p:l&&c[l]))}generateTickLabels(e){let i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i],o.label=this._tickFormatFunction(o.value,i,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(e){const i=this._offsets,r=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,r=this.ctx.measureText(e).width,o=ca(this.isHorizontal()?i.maxRotation:i.minRotation),s=Math.cos(o),a=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:r*s+c*a,h:r*a+c*s}}_getLabelCapacity(e){const i=this.options.time,r=i.displayFormats,o=r[i.unit]||r.millisecond,s=this._tickFormatFunction(e,0,dK(this,[e],this._majorUnit),o),a=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let i,r,e=this._cache.data||[];if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(i=0,r=o.length;i<r;++i)e=e.concat(o[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,r;if(e.length)return e;const o=this.getLabels();for(i=0,r=o.length;i<r;++i)e.push(aK(this,o[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return c$(e.sort(sK))}})();function iC(n,t,e){let o,s,a,c,i=0,r=n.length-1;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=$c(n,"pos",t)),({pos:o,time:a}=n[i]),({pos:s,time:c}=n[r])):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=$c(n,"time",t)),({time:o,pos:a}=n[i]),({time:s,pos:c}=n[r]));const l=s-o;return l?a+(c-a)*(t-o)/l:a}var zSe=Object.freeze({__proto__:null,CategoryScale:bSe,LinearScale:class ySe extends tC{static id="linear";static defaults={ticks:{callback:NI.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ji(t)?t:0,this.max=ji(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ca(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},LogarithmicScale:class ESe extends dh{static id="logarithmic";static defaults={ticks:{callback:NI.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=tC.prototype.parse.apply(this,[t,e]);if(0!==i)return ji(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ji(t)?Math.max(0,t):null,this.max=ji(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ji(this._userMin)&&(this.min=t===uh(this.min,0)?uh(this.min,-1):uh(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const o=a=>i=t?i:a,s=a=>r=e?r:a;i===r&&(i<=0?(o(1),s(10)):(o(uh(i,-1)),s(uh(r,1)))),i<=0&&o(uh(r,-1)),r<=0&&s(uh(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,i=function wSe(n,{min:t,max:e}){t=hs(n.min,t);const i=[],r=Bv(t);let o=function xSe(n,t){let i=Bv(t-n);for(;iK(n,t,i)>10;)i++;for(;iK(n,t,i)<10;)i--;return Math.min(i,Bv(n))}(t,e),s=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),c=r>o?Math.pow(10,r):0,l=Math.round((t-c)*s)/s,d=Math.floor((t-c)/a/10)*a*10;let u=Math.floor((l-d)/Math.pow(10,o)),p=hs(n.min,Math.round((c+d+u*Math.pow(10,o))*s)/s);for(;p<e;)i.push({value:p,major:nK(p),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(o++,u=2,s=o>=0?1:s),p=Math.round((c+d+u*Math.pow(10,o))*s)/s;const b=hs(n.max,p);return i.push({value:b,major:nK(b),significand:u}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&i$(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":Cv(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=md(t),this._valueRange=md(this.max)-md(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(md(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}},RadialLinearScale:class LSe extends tC{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:NI.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ao(UN(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=ji(t)&&!isNaN(t)?t:0,this.max=ji(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/UN(this.options))}generateTickLabels(t){tC.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=ci(this.options.pointLabels.callback,[e,i],this);return r||0===r?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?function CSe(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],o=n._pointLabels.length,s=n.options.pointLabels,a=s.centerPointLabels?wi/o:0;for(let c=0;c<o;c++){const l=s.setContext(n.getPointLabelContext(c));r[c]=l.padding;const d=n.getPointPosition(c,n.drawingArea+r[c],a),u=br(l.font),p=ISe(n.ctx,u,n._pointLabels[c]);i[c]=p;const b=fs(n.getIndexAngle(c)+a),v=Math.round(sN(b));TSe(e,t,b,rK(v,d.x,p.w,0,180),rK(v,d.y,p.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function SSe(n,t,e){const i=[],r=n._pointLabels.length,o=n.options,{centerPointLabels:s,display:a}=o.pointLabels,c={extra:UN(o)/2,additionalAngle:s?wi/r:0};let l;for(let d=0;d<r;d++){c.padding=e[d],c.size=t[d];const u=ASe(n,d,c);i.push(u),"auto"===a&&(u.visible=kSe(u,l),u.visible&&(l=u))}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){return fs(t*(Ei/(this._pointLabels.length||1))+ca(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(_n(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(_n(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function FSe(n,t,e){return pd(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-tr+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),oK(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r,border:o}=e,s=this._pointLabels.length;let a,c,l;if(e.pointLabels.display&&function OSe(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const o=n._pointLabelItems[r];if(!o.visible)continue;const s=i.setContext(n.getPointLabelContext(r));PSe(e,s,o);const a=br(s.font),{x:c,y:l,textAlign:d}=o;rh(e,n._pointLabels[r],c,l+a.lineHeight/2,a,{color:s.color,textAlign:d,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach((d,u)=>{if(0!==u||0===u&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const p=this.getContext(u),b=r.setContext(p),v=o.setContext(p);!function NSe(n,t,e,i,r){const o=n.ctx,s=t.circular,{color:a,lineWidth:c}=t;!s&&!i||!a||!c||e<0||(o.save(),o.strokeStyle=a,o.lineWidth=c,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),oK(n,e,s,i),o.closePath(),o.stroke(),o.restore())}(this,b,c,s,v)}}),i.display){for(t.save(),a=s-1;a>=0;a--){const d=i.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:p}=d;!p||!u||(t.lineWidth=p,t.strokeStyle=u,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),l=this.getPointPosition(a,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let o,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,c)=>{if(0===c&&this.min>=0&&!e.reverse)return;const l=i.setContext(this.getContext(c)),d=br(l.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){t.font=d.string,s=t.measureText(a.label).width,t.fillStyle=l.backdropColor;const u=ao(l.backdropPadding);t.fillRect(-s/2-u.left,-o-d.size/2-u.top,s+u.width,d.size+u.height)}rh(t,a.label,0,-o,d,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),t.restore()}drawTitle(){}},TimeScale:jN,TimeSeriesScale:class jSe extends jN{static id="timeseries";static defaults=jN.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=iC(e,this.min),this._tableRange=iC(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let s,a,c,l,d;for(s=0,a=t.length;s<a;++s)l=t[s],l>=e&&l<=i&&r.push(l);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(s=0,a=r.length;s<a;++s)d=r[s+1],c=r[s-1],l=r[s],Math.round((d+c)/2)!==l&&o.push({time:l,pos:s/(a-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||1===i.length)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(iC(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return iC(this._table,i*this._tableRange+this._minPos,!0)}}});Lv.register(UTe,vke,mSe,zSe);let qSe=(()=>{class n{constructor(e){this.firestore=e,this.statistics=[],this.totalRevenue=0}ngOnInit(){this.loadStatistics(),this.cleanupOldStatistics()}loadStatistics(){this.firestore.collection("daily_statistics").valueChanges().subscribe(e=>{this.statistics=e,this.calculateTotalRevenue(),this.generateCharts()})}calculateTotalRevenue(){this.totalRevenue=this.statistics.reduce((e,i)=>e+i.revenue,0)}generateCharts(){setTimeout(()=>{this.createTableRevenueChart(),this.createWaiterChart(),this.createSalesByDayChart()},500)}createTableRevenueChart(){const e={};this.statistics.forEach(o=>{e[o.tableName]=(e[o.tableName]||0)+o.revenue});const i=Object.keys(e),r=Object.values(e);this.tableChart&&this.tableChart.destroy(),this.tableChart=new Lv("tableRevenueChart",{type:"bar",data:{labels:i,datasets:[{label:"Ingresos por Mesa ($)",data:r,backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1,barThickness:48}]}})}createWaiterChart(){const e={};this.statistics.forEach(o=>{e[o.waiterName]=(e[o.waiterName]||0)+1});const i=Object.keys(e),r=Object.values(e);this.waiterChart&&this.waiterChart.destroy(),this.waiterChart=new Lv("waiterChart",{type:"bar",data:{labels:i,datasets:[{label:"Mesas Atendidas",data:r,backgroundColor:"rgba(255, 99, 132, 0.6)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1,barThickness:48}]}})}createSalesByDayChart(){const e=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],i={};this.statistics.forEach(s=>{const a=new Date(s.date),c=e[a.getDay()];i[c]=(i[c]||0)+s.revenue});const r=Object.keys(i),o=Object.values(i);this.salesChart&&this.salesChart.destroy(),this.salesChart=new Lv("salesByDayChart",{type:"bar",data:{labels:r,datasets:[{label:"Ingresos por D\xeda ($)",data:o,backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1,barThickness:48}]}})}cleanupOldStatistics(){const e=(new Date).getTime()-6048e5;this.firestore.collection("daily_statistics").get().subscribe(i=>{i.forEach(r=>{r.data().date<e&&this.firestore.collection("daily_statistics").doc(r.id).delete()})})}static{this.\u0275fac=function(i){return new(i||n)(N(yR))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-stadistics"]],decls:16,vars:0,consts:[[1,"container","mt-4"],[1,"text-center","mb-4"],["mat-card-image","","src","./assets/nuovo-cafe.jpg","alt","table",1,"rounded-circle",2,"width","50px","height","50px"],[1,"card","shadow-lg","p-4","mb-4"],[1,"text-center"],["id","tableRevenueChart"],["id","waiterChart"],["id","salesByDayChart"]],template:function(i,r){1&i&&(D(0,"div",0)(1,"h2",1),rt(2,"img",2),j(3," Estad\xedsticas de nuovo caff\xe9"),S(),D(4,"div",3)(5,"h4",4),j(6,"\u{1f4b0} Mesas con m\xe1s ingresos"),S(),rt(7,"canvas",5),S(),D(8,"div",3)(9,"h4",4),j(10,"\u{1f9d1}\u200d\u{1f373} Mozos con m\xe1s mesas atendidas"),S(),rt(11,"canvas",6),S(),D(12,"div",3)(13,"h4",4),j(14,"\u{1f4c5} D\xedas con m\xe1s ventas"),S(),rt(15,"canvas",7),S()())},dependencies:[AI],styles:[".container[_ngcontent-%COMP%]{max-width:900px}.card[_ngcontent-%COMP%]{border-radius:15px;background:#ffffff;box-shadow:0 4px 10px #0000001a;padding:20px}h4[_ngcontent-%COMP%]{font-weight:700;margin-bottom:20px}canvas[_ngcontent-%COMP%]{width:100%!important;height:300px!important}.btn[_ngcontent-%COMP%]{font-size:1.2rem;padding:12px 25px;border-radius:10px}.badge[_ngcontent-%COMP%]{font-size:1.2rem;padding:10px 15px}"]})}}return n})();function WSe(n,t){1&n&&(D(0,"span",49),j(1,"\u{1f4b5}"),S())}function GSe(n,t){1&n&&(D(0,"span",49),j(1,"\u{1f3e6}"),S())}function $Se(n,t){1&n&&(D(0,"span",49),j(1,"\u{1f4f1}"),S())}function KSe(n,t){1&n&&(D(0,"span",49),j(1,"\u{1f4b3}"),S())}function QSe(n,t){1&n&&(D(0,"span"),j(1,"Efectivo"),S())}function YSe(n,t){1&n&&(D(0,"span"),j(1,"Transferencia"),S())}function XSe(n,t){1&n&&(D(0,"span"),j(1,"C\xf3digo QR"),S())}function JSe(n,t){1&n&&(D(0,"span"),j(1,"Tarjeta"),S())}function ZSe(n,t){1&n&&(D(0,"span"),j(1,"-"),S())}const eDe=function(n,t,e,i,r){return{"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border-2 border-green-200":n,"bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-800 border-2 border-blue-200":t,"bg-gradient-to-r from-purple-100 to-pink-100 text-purple-800 border-2 border-purple-200":e,"bg-gradient-to-r from-orange-100 to-amber-100 text-orange-800 border-2 border-orange-200":i,"bg-gray-100 text-gray-800":r}};function tDe(n,t){if(1&n&&(D(0,"tr",34)(1,"td",35)(2,"div",23)(3,"div",36)(4,"mat-icon",37),j(5,"restaurant"),S()(),D(6,"span",38),j(7),S()()(),D(8,"td",35)(9,"div",13)(10,"div",39)(11,"span",40),j(12),S()(),D(13,"span",41),j(14),S()()(),D(15,"td",35)(16,"div",42),Se(17,WSe,2,0,"span",43),Se(18,GSe,2,0,"span",43),Se(19,$Se,2,0,"span",43),Se(20,KSe,2,0,"span",43),Se(21,QSe,2,0,"span",44),Se(22,YSe,2,0,"span",44),Se(23,XSe,2,0,"span",44),Se(24,JSe,2,0,"span",44),Se(25,ZSe,2,0,"span",44),S()(),D(26,"td",45)(27,"div",46)(28,"mat-icon",47),j(29,"payments"),S(),D(30,"span",48),j(31),S()()()()),2&n){const e=t.$implicit;Pt("bg-gray-50",t.index%2==0),ae(7),Vi(e.tableName),ae(5),Vi(e.waiterName.charAt(0).toUpperCase()),ae(2),Vi(e.waiterName),ae(2),ve("ngClass",IU(16,eDe,"efectivo"===e.paymentMethod,"transferencia"===e.paymentMethod,"qr"===e.paymentMethod,"tarjeta"===e.paymentMethod,!e.paymentMethod)),ae(1),ve("ngIf","efectivo"===e.paymentMethod),ae(1),ve("ngIf","transferencia"===e.paymentMethod),ae(1),ve("ngIf","qr"===e.paymentMethod),ae(1),ve("ngIf","tarjeta"===e.paymentMethod),ae(1),ve("ngIf","efectivo"===e.paymentMethod),ae(1),ve("ngIf","transferencia"===e.paymentMethod),ae(1),ve("ngIf","qr"===e.paymentMethod),ae(1),ve("ngIf","tarjeta"===e.paymentMethod),ae(1),ve("ngIf",!e.paymentMethod),ae(6),Kn("$",e.totalAmount.toFixed(2),"")}}let nDe=(()=>{class n{constructor(e){this.gestionService=e,this.balanceData=[],this.totalRevenue=0}ngOnInit(){this.loadBalance()}loadBalance(){const e=JSON.parse(localStorage.getItem("localBalances")||"[]");e.length>0?(this.balanceData=e,this.calculateTotalRevenue()):this.gestionService.getBalance().subscribe({next:i=>{this.balanceData=i.map(r=>({...r,paymentMethod:"efectivo"})),this.calculateTotalRevenue()},error:i=>{console.error("Error al obtener el balance:",i)}})}calculateTotalRevenue(){this.totalRevenue=this.balanceData.reduce((e,i)=>e+i.totalAmount,0)}deleteBalance(){confirm("\xbfEst\xe1s seguro de que deseas eliminar todos los datos del balance?")&&this.gestionService.deleteAllBalances().subscribe({next:e=>{console.log(e.message),this.balanceData=[],this.totalRevenue=0,localStorage.removeItem("localBalances")},error:e=>{console.error("Error al eliminar balance:",e)}})}static{this.\u0275fac=function(i){return new(i||n)(N(sa))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-balance"]],decls:63,vars:3,consts:[[1,"w-full","min-h-screen","bg-gradient-to-br","from-gray-50","via-blue-50","to-gray-50","p-4","sm:p-6","lg:p-10"],[1,"max-w-7xl","mx-auto"],[1,"mb-8","sm:mb-10"],[1,"flex","items-center","gap-4","mb-4"],[1,"flex","items-center","justify-center","w-16","h-16","rounded-2xl","bg-gradient-to-br","from-green-500","to-emerald-600","shadow-lg"],[1,"!w-10","!h-10","!text-4xl","text-white"],[1,"text-3xl","sm:text-4xl","font-bold","text-gray-900"],[1,"text-gray-600","text-sm","sm:text-base","mt-1"],[1,"bg-white","rounded-2xl","shadow-xl","overflow-hidden","mb-8"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-gradient-to-r","from-gray-800","to-gray-900"],[1,"px-6","py-5","text-left","font-bold","text-base","text-white","uppercase","tracking-wider"],[1,"flex","items-center","gap-2"],[1,"!w-5","!h-5","!text-xl"],[1,"px-6","py-5","text-right","font-bold","text-base","text-white","uppercase","tracking-wider"],[1,"flex","items-center","justify-end","gap-2"],[1,"divide-y","divide-gray-100"],["class","hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50 transition-all duration-300",3,"bg-gray-50",4,"ngFor","ngForOf"],[1,"relative","mb-5","overflow-hidden"],[1,"absolute","inset-0","bg-gradient-to-r","from-green-600","via-emerald-600","to-green-600","opacity-10","rounded-xl"],[1,"relative","bg-gradient-to-r","from-green-600","via-emerald-600","to-green-600","p-5","sm:p-6","rounded-xl","shadow-lg"],[1,"flex","flex-col","sm:flex-row","items-center","justify-between","gap-3"],[1,"flex","items-center","gap-3"],[1,"flex","items-center","justify-center","w-12","h-12","sm:w-14","sm:h-14","rounded-xl","bg-white/20","backdrop-blur-sm"],[1,"!text-white","!text-2xl","sm:!text-3xl"],[1,"text-white/80","text-xs","sm:text-sm","font-semibold","mb-0.5"],[1,"text-3xl","sm:text-4xl","lg:text-5xl","font-bold","text-white","leading-tight"],[1,"flex","items-center","gap-1.5","px-4","py-2","bg-white/20","backdrop-blur-sm","rounded-lg"],[1,"!text-white","!text-lg"],[1,"text-white","font-bold","text-base"],[1,"flex","justify-center"],[1,"group","flex","items-center","gap-2","px-6","py-3","bg-gradient-to-r","from-red-600","to-rose-600","hover:from-red-700","hover:to-rose-700","text-white","font-bold","text-base","rounded-xl","shadow-lg","hover:shadow-xl","transition-all","duration-300","transform","hover:scale-105",3,"click"],[1,"!text-xl","group-hover:rotate-180","transition-transform","duration-500"],[1,"hover:bg-gradient-to-r","hover:from-gray-50","hover:to-blue-50","transition-all","duration-300"],[1,"px-6","py-5"],[1,"flex","items-center","justify-center","w-10","h-10","rounded-xl","bg-blue-100"],[1,"!w-5","!h-5","!text-xl","text-blue-600"],[1,"text-gray-900","font-bold","text-base"],[1,"w-8","h-8","rounded-full","bg-gradient-to-br","from-purple-400","to-pink-400","flex","items-center","justify-center"],[1,"text-white","font-bold","text-sm"],[1,"text-gray-700","font-semibold"],[1,"inline-flex","items-center","gap-2","px-4","py-2","rounded-xl","font-semibold","text-sm","shadow-sm",3,"ngClass"],["class","text-lg",4,"ngIf"],[4,"ngIf"],[1,"px-6","py-5","text-right"],[1,"inline-flex","items-center","gap-2","px-4","py-2","bg-gradient-to-r","from-green-50","to-emerald-50","rounded-xl","border-2","border-green-200"],[1,"!w-5","!h-5","!text-xl","text-green-600"],[1,"text-green-700","font-bold","text-lg"],[1,"text-lg"]],template:function(i,r){1&i&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-icon",5),j(6,"account_balance_wallet"),S()(),D(7,"div")(8,"h2",6),j(9,"Balance de Mesas"),S(),D(10,"p",7),j(11,"Resumen de mesas liberadas y recaudaci\xf3n"),S()()()(),D(12,"div",8)(13,"div",9)(14,"table",10)(15,"thead")(16,"tr",11)(17,"th",12)(18,"div",13)(19,"mat-icon",14),j(20,"table_restaurant"),S(),j(21," Mesa "),S()(),D(22,"th",12)(23,"div",13)(24,"mat-icon",14),j(25,"person"),S(),j(26," Mozo "),S()(),D(27,"th",12)(28,"div",13)(29,"mat-icon",14),j(30,"payment"),S(),j(31," M\xe9todo de Pago "),S()(),D(32,"th",15)(33,"div",16)(34,"mat-icon",14),j(35,"attach_money"),S(),j(36," Total "),S()()()(),D(37,"tbody",17),Se(38,tDe,32,22,"tr",18),S()()()(),D(39,"div",19),rt(40,"div",20),D(41,"div",21)(42,"div",22)(43,"div",23)(44,"div",24)(45,"mat-icon",25),j(46,"account_balance"),S()(),D(47,"div")(48,"p",26),j(49," Total Recaudado "),S(),D(50,"h2",27),j(51),S()()(),D(52,"div",28)(53,"mat-icon",29),j(54,"trending_up"),S(),D(55,"span",30),j(56),S()()()()(),D(57,"div",31)(58,"button",32),Re("click",function(){return r.deleteBalance()}),D(59,"mat-icon",33),j(60," restart_alt "),S(),D(61,"span"),j(62,"Comenzar Nuevo Turno"),S()()()()()),2&i&&(ae(38),ve("ngForOf",r.balanceData),ae(13),Kn(" $",r.totalRevenue.toFixed(2)," "),ae(5),Kn(" ",r.balanceData.length," mesas "))},dependencies:[Fx,bc,ss,qa]})}}return n})();const iDe=[[["caption"]],[["colgroup"],["col"]]],rDe=["caption","colgroup, col"];function zN(n){return class extends n{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=cn(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const up=new ue("CDK_TABLE");let hp=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(N(rr))}}static{this.\u0275dir=be({type:n,selectors:[["","cdkCellDef",""]]})}}return n})(),fp=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(N(rr))}}static{this.\u0275dir=be({type:n,selectors:[["","cdkHeaderCellDef",""]]})}}return n})(),rC=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(N(rr))}}static{this.\u0275dir=be({type:n,selectors:[["","cdkFooterCellDef",""]]})}}return n})();class cDe{}const lDe=zN(cDe);let Jc=(()=>{class n extends lDe{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=cn(e),this._hasStickyChanged=i!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static{this.\u0275fac=function(i){return new(i||n)(N(up,8))}}static{this.\u0275dir=be({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,r,o){if(1&i&&(Qn(o,hp,5),Qn(o,fp,5),Qn(o,rC,5)),2&i){let s;gt(s=_t())&&(r.cell=s.first),gt(s=_t())&&(r.headerCell=s.first),gt(s=_t())&&(r.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[mt([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),qe]})}}return n})();class HN{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let qN=(()=>{class n extends HN{constructor(e,i){super(e,i)}static{this.\u0275fac=function(i){return new(i||n)(N(Jc),N(ft))}}static{this.\u0275dir=be({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[qe]})}}return n})(),WN=(()=>{class n extends HN{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}static{this.\u0275fac=function(i){return new(i||n)(N(Jc),N(ft))}}static{this.\u0275dir=be({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[qe]})}}return n})();class hK{constructor(){this.tasks=[],this.endTasks=[]}}const GN=new ue("_COALESCED_STYLE_SCHEDULER");let fK=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Q}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new hK,this._getScheduleObservable().pipe(si(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new hK;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?T(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Vn(1))}static{this.\u0275fac=function(i){return new(i||n)(X(We))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})(),$N=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Uv?e.headerCell.template:this instanceof jv?e.footerCell.template:e.cell.template}static{this.\u0275fac=function(i){return new(i||n)(N(rr),N(mc))}}static{this.\u0275dir=be({type:n,features:[Ni]})}}return n})();class dDe extends $N{}const uDe=zN(dDe);let Uv=(()=>{class n extends uDe{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}static{this.\u0275fac=function(i){return new(i||n)(N(rr),N(mc),N(up,8))}}static{this.\u0275dir=be({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[qe,Ni]})}}return n})();class hDe extends $N{}const fDe=zN(hDe);let jv=(()=>{class n extends fDe{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}static{this.\u0275fac=function(i){return new(i||n)(N(rr),N(mc),N(up,8))}}static{this.\u0275dir=be({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[qe,Ni]})}}return n})(),oC=(()=>{class n extends $N{constructor(e,i,r){super(e,i),this._table=r}static{this.\u0275fac=function(i){return new(i||n)(N(rr),N(mc),N(up,8))}}static{this.\u0275dir=be({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[qe]})}}return n})(),Zc=(()=>{class n{static{this.mostRecentCellOutlet=null}constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}static{this.\u0275fac=function(i){return new(i||n)(N(Ar))}}static{this.\u0275dir=be({type:n,selectors:[["","cdkCellOutlet",""]]})}}return n})(),KN=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ct({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&Sa(0,0)},dependencies:[Zc],encapsulation:2})}}return n})(),YN=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ct({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&Sa(0,0)},dependencies:[Zc],encapsulation:2})}}return n})(),sC=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}static{this.\u0275fac=function(i){return new(i||n)(N(rr))}}static{this.\u0275dir=be({type:n,selectors:[["ng-template","cdkNoDataRow",""]]})}}return n})();const mK=["top","bottom","left","right"];class mDe{constructor(t,e,i,r,o=!0,s=!0,a){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=s,this._positionListener=a,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(p=>p)&&!i.some(p=>p))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],s=o.children.length,a=this._getCellWidths(o,r),c=this._getStickyStartColumnPositions(a,e),l=this._getStickyEndColumnPositions(a,i),d=e.lastIndexOf(!0),u=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const p="rtl"===this.direction,b=p?"right":"left",v=p?"left":"right";for(const x of t)for(let w=0;w<s;w++){const F=x.children[w];e[w]&&this._addStickyStyle(F,b,c[w],w===d),i[w]&&this._addStickyStyle(F,v,l[w],w===u)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===d?[]:a.slice(0,d+1).map((x,w)=>e[w]?x:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===u?[]:a.slice(u).map((x,w)=>i[w+u]?x:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,s=[],a=[],c=[];for(let d=0,u=0;d<r.length;d++){if(!o[d])continue;s[d]=u;const p=r[d];c[d]=this._isNativeHtmlTable?Array.from(p.children):[p];const b=p.getBoundingClientRect().height;u+=b,a[d]=b}const l=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let d=0;d<r.length;d++){if(!o[d])continue;const u=s[d],p=d===l;for(const b of c[d])this._addStickyStyle(b,i,u,p)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:a,offsets:s,elements:c}):this._positionListener?.stickyFooterRowsUpdated({sizes:a,offsets:s,elements:c})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);mK.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of mK)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=r,r+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=r,r+=t[o]);return i}}const XN=new ue("CDK_SPL");let aC=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}static{this.\u0275fac=function(i){return new(i||n)(N(Ar),N(ft))}}static{this.\u0275dir=be({type:n,selectors:[["","rowOutlet",""]]})}}return n})(),cC=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}static{this.\u0275fac=function(i){return new(i||n)(N(Ar),N(ft))}}static{this.\u0275dir=be({type:n,selectors:[["","headerRowOutlet",""]]})}}return n})(),lC=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}static{this.\u0275fac=function(i){return new(i||n)(N(Ar),N(ft))}}static{this.\u0275dir=be({type:n,selectors:[["","footerRowOutlet",""]]})}}return n})(),dC=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}static{this.\u0275fac=function(i){return new(i||n)(N(Ar),N(ft))}}static{this.\u0275dir=be({type:n,selectors:[["","noDataRowOutlet",""]]})}}return n})(),uC=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=cn(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=cn(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,r,o,s,a,c,l,d,u,p,b){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=s,this._platform=c,this._viewRepeater=l,this._coalescedStyleScheduler=d,this._viewportRuler=u,this._stickyPositioningListener=p,this._ngZone=b,this._onDestroy=new Q,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new zt,this.viewChange=new k({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=a,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(si(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),WO(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,s)=>this._getEmbeddedViewArgs(r.item,s),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&We.isInAngularZone()?this._ngZone.onStable.pipe(Vn(1),si(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,s)=>{this._addStickyColumnStyles([o],this._headerRowDefs[s])}),this._rowDefs.forEach(o=>{const s=[];for(let a=0;a<i.length;a++)this._renderRows[a].rowDef===o&&s.push(i[a]);this._addStickyColumnStyles(s,o)}),r.forEach((o,s)=>{this._addStickyColumnStyles([o],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const s=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let a=0;a<s.length;a++){let c=s[a];const l=this._cachedRenderRowsMap.get(c.data);l.has(c.rowDef)?l.get(c.rowDef).push(c):l.set(c.rowDef,[c]),e.push(c)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(s=>{const a=r&&r.has(s)?r.get(s):[];if(a.length){const c=a.shift();return c.dataIndex=i,c}return{data:e,rowDef:s,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),hC(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=hC(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=hC(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=hC(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(s,a)=>s||!!a.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],WO(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;WO(this.dataSource)?e=this.dataSource.connect(this):pS(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=O(this.dataSource)),this._renderChangeSubscription=e.pipe(si(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(a=>this._columnDefsByName.get(a)),o=r.map(a=>a.sticky),s=r.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(s=>s.when&&s.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const s=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),s}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Zc.mostRecentCellOutlet&&Zc.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const s=e.get(i).context;s.count=r,s.first=0===i,s.last=i===r-1,s.even=i%2==0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[i].dataIndex,s.renderIndex=i):s.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const s of r.outlets)o.appendChild(s.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new mDe(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:O()).pipe(si(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),s=o.rootNodes[0];1===o.rootNodes.length&&s?.nodeType===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(i){return new(i||n)(N(mc),N(Vo),N(ft),vl("role"),N(zu,8),N(Tt),N(Di),N(gv),N(GN),N(TE),N(XN,12),N(We,8))}}static{this.\u0275cmp=ct({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,r,o){if(1&i&&(Qn(o,sC,5),Qn(o,Jc,5),Qn(o,oC,5),Qn(o,Uv,5),Qn(o,jv,5)),2&i){let s;gt(s=_t())&&(r._noDataRow=s.first),gt(s=_t())&&(r._contentColumnDefs=s),gt(s=_t())&&(r._contentRowDefs=s),gt(s=_t())&&(r._contentHeaderRowDefs=s),gt(s=_t())&&(r._contentFooterRowDefs=s)}},viewQuery:function(i,r){if(1&i&&(ri(aC,7),ri(cC,7),ri(lC,7),ri(dC,7)),2&i){let o;gt(o=_t())&&(r._rowOutlet=o.first),gt(o=_t())&&(r._headerRowOutlet=o.first),gt(o=_t())&&(r._footerRowOutlet=o.first),gt(o=_t())&&(r._noDataRowOutlet=o.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(i,r){2&i&&Pt("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[mt([{provide:up,useExisting:n},{provide:gv,useClass:xG},{provide:GN,useClass:fK},{provide:XN,useValue:null}])],ngContentSelectors:rDe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){1&i&&(Yi(iDe),xt(0),xt(1,1),Sa(2,0)(3,1)(4,2)(5,3))},dependencies:[aC,cC,lC,dC],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}}return n})();function hC(n,t){return n.concat(Array.from(t))}let gDe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[PR]})}}return n})();const _De=[[["caption"]],[["colgroup"],["col"]]],bDe=["caption","colgroup, col"];let gK=(()=>{class n extends uC{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}()}static{this.\u0275cmp=ct({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,r){2&i&&Pt("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[mt([{provide:uC,useExisting:n},{provide:up,useExisting:n},{provide:GN,useClass:fK},{provide:gv,useClass:xG},{provide:XN,useValue:null}]),qe],ngContentSelectors:bDe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){1&i&&(Yi(_De),xt(0),xt(1,1),Sa(2,0)(3,1)(4,2)(5,3))},dependencies:[aC,cC,lC,dC],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{--mat-table-row-item-outline-width:1px;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}}return n})(),JN=(()=>{class n extends hp{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}()}static{this.\u0275dir=be({type:n,selectors:[["","matCellDef",""]],features:[mt([{provide:hp,useExisting:n}]),qe]})}}return n})(),ZN=(()=>{class n extends fp{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}()}static{this.\u0275dir=be({type:n,selectors:[["","matHeaderCellDef",""]],features:[mt([{provide:fp,useExisting:n}]),qe]})}}return n})(),eF=(()=>{class n extends Jc{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}()}static{this.\u0275dir=be({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[mt([{provide:Jc,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),qe]})}}return n})(),tF=(()=>{class n extends qN{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}()}static{this.\u0275dir=be({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[qe]})}}return n})(),nF=(()=>{class n extends WN{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}()}static{this.\u0275dir=be({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[qe]})}}return n})(),_K=(()=>{class n extends Uv{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}()}static{this.\u0275dir=be({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[mt([{provide:Uv,useExisting:n}]),qe]})}}return n})(),bK=(()=>{class n extends oC{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}()}static{this.\u0275dir=be({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[mt([{provide:oC,useExisting:n}]),qe]})}}return n})(),vK=(()=>{class n extends KN{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}()}static{this.\u0275cmp=ct({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[mt([{provide:KN,useExisting:n}]),qe],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&Sa(0,0)},dependencies:[Zc],encapsulation:2})}}return n})(),yK=(()=>{class n extends YN{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}()}static{this.\u0275cmp=ct({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[mt([{provide:YN,useExisting:n}]),qe],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&Sa(0,0)},dependencies:[Zc],encapsulation:2})}}return n})(),TDe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[xn,gDe,xn]})}}return n})();function kDe(n,t){1&n&&(D(0,"div")(1,"p"),j(2,"No hay acciones registradas."),S()())}function SDe(n,t){1&n&&(D(0,"th",11),j(1," Fecha "),S())}function DDe(n,t){if(1&n&&(D(0,"td",12),j(1),Fo(2,"date"),S()),2&n){const e=t.$implicit;ae(1),Kn(" ",DU(2,1,e.timestamp,"short")," ")}}function RDe(n,t){1&n&&(D(0,"th",11),j(1," Acci\xf3n "),S())}function MDe(n,t){if(1&n&&(D(0,"td",12),rt(1,"span",13),S()),2&n){const e=t.$implicit;ae(1),ve("innerHTML",e.action,x2)}}function PDe(n,t){1&n&&rt(0,"tr",14)}function ODe(n,t){1&n&&rt(0,"tr",15)}function NDe(n,t){if(1&n&&(D(0,"table",4),iu(1,5),Se(2,SDe,2,0,"th",6),Se(3,DDe,3,4,"td",7),ru(),iu(4,8),Se(5,RDe,2,0,"th",6),Se(6,MDe,2,1,"td",7),ru(),Se(7,PDe,1,0,"tr",9),Se(8,ODe,1,0,"tr",10),S()),2&n){const e=Oe();ve("dataSource",e.logs),ae(7),ve("matHeaderRowDef",e.displayedColumns),ae(1),ve("matRowDefColumns",e.displayedColumns)}}let FDe=(()=>{class n{constructor(e){this.gestionService=e,this.displayedColumns=["timestamp","action"],this.logs=[]}ngOnInit(){this.logs=this.gestionService.getLogs()}clearLogs(){this.gestionService.clearLogs(),this.logs=[]}static{this.\u0275fac=function(i){return new(i||n)(N(sa))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-logs"]],decls:7,vars:2,consts:[[1,"logs-container"],[4,"ngIf"],["mat-table","","class","mat-elevation-z8","style","width: 100%; margin-top: 1rem;",3,"dataSource",4,"ngIf"],["mat-raised-button","","color","warn",2,"margin-top","1rem",3,"click"],["mat-table","",1,"mat-elevation-z8",2,"width","100%","margin-top","1rem",3,"dataSource"],["matColumnDef","timestamp"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"innerHTML"],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(D(0,"div",0)(1,"h2"),j(2,"Historial de Acciones"),S(),Se(3,kDe,3,0,"div",1),Se(4,NDe,9,3,"table",2),D(5,"button",3),Re("click",function(){return r.clearLogs()}),j(6," Borrar Logs "),S()()),2&i&&(ae(3),ve("ngIf",0===r.logs.length),ae(1),ve("ngIf",r.logs.length>0))},dependencies:[ss,np,gK,ZN,_K,eF,JN,bK,tF,nF,vK,yK,Vx],styles:[".logs-container[_ngcontent-%COMP%]{padding:1rem}.logs-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem}.logs-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.logs-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .logs-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;text-align:left}"]})}}return n})(),LDe=(()=>{class n{constructor(e){this.dialogRef=e,this.password="",this.hide=!0}cancel(){this.dialogRef.close(null)}submit(){this.dialogRef.close(this.password)}static{this.\u0275fac=function(i){return new(i||n)(N(td))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-password-dialog"]],decls:14,vars:3,consts:[[3,"ngSubmit"],["appearance","outline",2,"width","100%"],["matInput","","name","password","required","",3,"type","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["align","end"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"click"]],template:function(i,r){1&i&&(D(0,"mat-dialog-content")(1,"form",0),Re("ngSubmit",function(){return r.submit()}),D(2,"mat-form-field",1)(3,"mat-label"),j(4,"Contrase\xf1a"),S(),D(5,"input",2),Re("ngModelChange",function(s){return r.password=s}),S(),D(6,"button",3),Re("click",function(){return r.hide=!r.hide}),D(7,"mat-icon"),j(8),S()()()()(),D(9,"mat-dialog-actions",4)(10,"button",5),Re("click",function(){return r.cancel()}),j(11,"Cancelar"),S(),D(12,"button",6),Re("click",function(){return r.submit()}),j(13,"Ingresar"),S()()),2&i&&(ae(5),ve("type",r.hide?"password":"text")("ngModel",r.password),ae(3),Vi(r.hide?"visibility_off":"visibility"))},dependencies:[ZE,nd,od,WE,Km,$u,Hb,np,_G,jE,zE,YO,_v,VEe,XO,qa]})}}return n})();function VDe(n,t){if(1&n){const e=Qi();D(0,"div",2)(1,"button",3),Re("click",function(){return Rt(e),Mt(Oe().action())}),j(2),S()()}if(2&n){const e=Oe();ae(2),Kn(" ",e.data.action," ")}}const BDe=["label"];function UDe(n,t){}const jDe=Math.pow(2,31)-1;class iF{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Q,this._afterOpened=new Q,this._onAction=new Q,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,jDe))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const xK=new ue("MatSnackBarData");class fC{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let zDe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=be({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}}return n})(),HDe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=be({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}}return n})(),qDe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=be({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}}return n})(),WDe=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static{this.\u0275fac=function(i){return new(i||n)(N(iF),N(xK))}}static{this.\u0275cmp=ct({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){1&i&&(D(0,"div",0),j(1),S(),Se(2,VDe,3,1,"div",1)),2&i&&(ae(1),Kn(" ",r.data.message,"\n"),ae(1),ve("ngIf",r.hasAction))},dependencies:[ss,np,zDe,HDe,qDe],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}}return n})();const GDe={snackBarState:ed("state",[Ps("void, hidden",cr({transform:"scale(0.8)",opacity:0})),Ps("visible",cr({transform:"scale(1)",opacity:1})),Os("* => visible",aa("150ms cubic-bezier(0, 0, 0.2, 1)")),Os("* => void, * => hidden",aa("75ms cubic-bezier(0.4, 0.0, 1, 1)",cr({opacity:0})))])};let $De=0,KDe=(()=>{class n extends kE{constructor(e,i,r,o,s){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=s,this._document=Me(Tt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Q,this._onExit=new Q,this._onEnter=new Q,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+$De++,this.attachDomPortal=a=>{this._assertNotAttached();const c=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),c},this._live="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Vn(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),this._exposeToModals()}_exposeToModals(){const e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const i=e.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static{this.\u0275fac=function(i){return new(i||n)(N(We),N(ft),N(Vo),N(Di),N(fC))}}static{this.\u0275dir=be({type:n,viewQuery:function(i,r){if(1&i&&ri(Bm,7),2&i){let o;gt(o=_t())&&(r._portalOutlet=o.first)}},features:[qe]})}}return n})(),QDe=(()=>{class n extends KDe{_afterPortalAttached(){super._afterPortalAttached();const e=this._label.nativeElement,i="mdc-snackbar__label";e.classList.toggle(i,!e.querySelector(`.${i}`))}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Ut(n)))(r||n)}}()}static{this.\u0275cmp=ct({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(1&i&&ri(BDe,7),2&i){let o;gt(o=_t())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(i,r){1&i&&ax("@state.done",function(s){return r.onAnimationEnd(s)}),2&i&&dx("@state",r._animationState)},features:[qe],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(D(0,"div",0)(1,"div",1,2)(3,"div",3),Se(4,UDe,0,0,"ng-template",4),S(),rt(5,"div"),S()()),2&i&&(ae(5),kn("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Bm],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[GDe.snackBarState]}})}}return n})(),wK=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[DE,Um,vc,bG,xn,xn]})}}return n})();const EK=new ue("mat-snack-bar-default-options",{providedIn:"root",factory:function YDe(){return new fC}});let XDe=(()=>{class n{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,i,r,o,s,a){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=Ln.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:fC,useValue:i}]}),s=new Rb(this.snackBarContainerComponent,i.viewContainerRef,o),a=e.attach(s);return a.instance.snackBarConfig=i,a.instance}_attach(e,i){const r={...new fC,...this._defaultConfig,...i},o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new iF(s,o);if(e instanceof rr){const c=new AE(e,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{const c=this._createInjector(r,a),l=new Rb(e,void 0,c),d=s.attachComponentPortal(l);a.instance=d.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(si(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new FR;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,s="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,a=!s&&"center"!==e.horizontalPosition;return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return Ln.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:iF,useValue:i},{provide:xK,useValue:e.data}]})}static{this.\u0275fac=function(i){return new(i||n)(X(Pc),X(Zq),X(Ln),X(BR),X(n,12),X(EK))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})(),JDe=(()=>{class n extends XDe{constructor(e,i,r,o,s,a){super(e,i,r,o,s,a),this.simpleSnackBarComponent=WDe,this.snackBarContainerComponent=QDe,this.handsetCssClass="mat-mdc-snack-bar-handset"}static{this.\u0275fac=function(i){return new(i||n)(X(Pc),X(Zq),X(Ln),X(BR),X(n,12),X(EK))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:wK})}}return n})(),mC=(()=>{class n{constructor(e,i){this.dialog=e,this.snackBar=i}canActivate(){return this.dialog.open(LDe,{width:"300px",disableClose:!0}).afterClosed().pipe(ke(i=>"cachica2025"===i?O(!0):(null!==i&&this.snackBar.open("Contrase\xf1a incorrecta","Cerrar",{duration:3e3,panelClass:["snackbar-error","snackbar-center"]}),O(!1))))}static{this.\u0275fac=function(i){return new(i||n)(X(UE),X(JDe))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const IK=()=>(n=>zn(JO,pe(t=>t&&n||!0)))(["/home"]),e1e=[{path:"",pathMatch:"full",redirectTo:"/home"},{path:"home",component:aEe,...ZO(()=>(n=>zn(JO,pe(t=>t||n)))(["/login"]))},{path:"login",component:XEe,...ZO(IK)},{path:"register",component:fIe,...ZO(IK)},{path:"admin",component:wIe,canActivate:[mC]},{path:"stadistic",component:qSe,canActivate:[mC]},{path:"balance",component:nDe,canActivate:[mC]},{path:"logs",component:FDe,canActivate:[mC]}];let t1e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[Uj.forRoot(e1e),Uj]})}}return n})();function CK(n){return new he(3e3,!1)}function bd(n){switch(n.length){case 0:return new Fb;case 1:return n[0];default:return new IW(n)}}function TK(n,t,e=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(t.forEach(c=>{const l=c.get("offset"),d=l==s,u=d&&a||new Map;c.forEach((p,b)=>{let v=b,x=p;if("offset"!==b)switch(v=n.normalizePropertyName(v,r),x){case"!":x=e.get(b);break;case Oc:x=i.get(b);break;default:x=n.normalizeStyleValue(b,v,x,r)}u.set(v,x)}),d||o.push(u),a=u,s=l}),r.length)throw function I1e(n){return new he(3502,!1)}();return o}function rF(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&oF(e,"start",n)));break;case"done":n.onDone(()=>i(e&&oF(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&oF(e,"destroy",n)))}}function oF(n,t,e){const o=sF(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function sF(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function ms(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function AK(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const F1e=(()=>typeof document>"u"?null:document.documentElement)();function aF(n){const t=n.parentNode||n.host||null;return t===F1e?null:t}let hh=null,kK=!1;function SK(n,t){for(;t;){if(t===n)return!0;t=aF(t)}return!1}function DK(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let RK=(()=>{class n{validateStyleProperty(e){return function V1e(n){hh||(hh=function B1e(){return typeof document<"u"?document.body:null}()||{},kK=!!hh.style&&"WebkitAppearance"in hh.style);let t=!0;return hh.style&&!function L1e(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in hh.style,!t&&kK&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in hh.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return SK(e,i)}getParentElement(e){return aF(e)}query(e,i,r){return DK(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],c){return new Fb(r,o)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})(),cF=(()=>{class n{static{this.NOOP=new RK}}return n})();const U1e=1e3,lF="ng-enter",pC="ng-leave",gC="ng-trigger",_C=".ng-trigger",PK="ng-animating",dF=".ng-animating";function el(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:uF(parseFloat(t[1]),t[2])}function uF(n,t){return"s"===t?n*U1e:n}function bC(n,t,e){return n.hasOwnProperty("duration")?n:function z1e(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(CK()),{duration:0,delay:0,easing:""};r=uF(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=uF(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else r=n;if(!e){let a=!1,c=t.length;r<0&&(t.push(function n1e(){return new he(3100,!1)}()),a=!0),o<0&&(t.push(function i1e(){return new he(3101,!1)}()),a=!0),a&&t.splice(c,0,CK())}return{duration:r,delay:o,easing:s}}(n,t,e)}function zv(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function OK(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function vd(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Qa(n,t,e){t.forEach((i,r)=>{const o=fF(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function fh(n,t){t.forEach((e,i)=>{const r=fF(i);n.style[r]=""})}function Hv(n){return Array.isArray(n)?1==n.length?n[0]:EW(n):n}const hF=new RegExp("{{\\s*(.+?)\\s*}}","g");function FK(n){let t=[];if("string"==typeof n){let e;for(;e=hF.exec(n);)t.push(e[1]);hF.lastIndex=0}return t}function qv(n,t,e){const i=n.toString(),r=i.replace(hF,(o,s)=>{let a=t[s];return null==a&&(e.push(function o1e(n){return new he(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function vC(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const W1e=/-+([a-z0-9])/g;function fF(n){return n.replace(W1e,(...t)=>t[1].toUpperCase())}function ps(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function s1e(n){return new he(3004,!1)}()}}function LK(n,t){return window.getComputedStyle(n)[t]}const yC="*";function K1e(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Q1e(n,t,e){if(":"==n[0]){const c=function Y1e(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function y1e(n){return new he(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof c)return void t.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function v1e(n){return new he(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push(VK(r,s));"<"==o[0]&&!(r==yC&&s==yC)&&t.push(VK(s,r))}(i,e,t)):e.push(n),e}const xC=new Set(["true","1"]),wC=new Set(["false","0"]);function VK(n,t){const e=xC.has(n)||wC.has(n),i=xC.has(t)||wC.has(t);return(r,o)=>{let s=n==yC||n==r,a=t==yC||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?xC.has(n):wC.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?xC.has(t):wC.has(t)),s&&a}}const X1e=new RegExp("s*:selfs*,?","g");function mF(n,t,e,i){return new J1e(n).build(t,e,i)}class J1e{constructor(t){this._driver=t}build(t,e,i){const r=new tRe(e);return this._resetContextStyleTimingState(r),ps(this,Hv(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function c1e(){return new he(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,e))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,e);i+=c.queryCount,r+=c.depCount,s.push(c)}else e.errors.push(function l1e(){return new he(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{FK(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&(vC(o.values()),e.errors.push(function d1e(n,t){return new he(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ps(this,Hv(t.animation),e);return{type:1,matchers:K1e(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:mh(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ps(this,i,e)),options:mh(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=ps(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:mh(t.options)}}visitAnimate(t,e){const i=function iRe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return pF(bC(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=pF(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=bC(e,t);return pF(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:cr({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const l={};i.easing&&(l.easing=i.easing),s=cr(l)}e.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,e);c.isEmptyStep=a,r=c}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Oc?i.push(a):e.errors.push(new he(3002,!1)):i.push(OK(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=e.collectedStyles.get(e.currentQuerySelector),d=l.get(c);let u=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push(function h1e(n,t,e,i,r){return new he(3010,!1)}()),u=!1),o=d.startTime),u&&l.set(c,{startTime:o,endTime:r}),e.options&&function q1e(n,t,e){const i=t.params||{},r=FK(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function r1e(n){return new he(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function f1e(){return new he(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,l=0;const d=t.steps.map(F=>{const R=this._makeStyleAst(F,e);let z=null!=R.offset?R.offset:function nRe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(R.styles),K=0;return null!=z&&(o++,K=R.offset=z),c=c||K<0||K>1,a=a||K<l,l=K,s.push(K),R});c&&e.errors.push(function m1e(){return new he(3012,!1)}()),a&&e.errors.push(function p1e(){return new he(3200,!1)}());const u=t.steps.length;let p=0;o>0&&o<u?e.errors.push(function g1e(){return new he(3202,!1)}()):0==o&&(p=1/(u-1));const b=u-1,v=e.currentTime,x=e.currentAnimateTimings,w=x.duration;return d.forEach((F,R)=>{const z=p>0?R==b?1:p*R:s[R],K=z*w;e.currentTime=v+x.delay+K,x.duration=K,this._validateStyleAst(F,e),F.offset=z,i.styles.push(F)}),i}visitReference(t,e){return{type:8,animation:ps(this,Hv(t.animation),e),options:mh(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:mh(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:mh(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function Z1e(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(X1e,"")),n=n.replace(/@\*/g,_C).replace(/@\w+/g,e=>_C+"-"+e.slice(1)).replace(/:animating/g,dF),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,ms(e.collectedStyles,e.currentQuerySelector,new Map);const a=ps(this,Hv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:mh(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function _1e(){return new he(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:bC(t.timings,e.errors,!0);return{type:12,animation:ps(this,Hv(t.animation),e),timings:i,options:null}}}class tRe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function mh(n){return n?(n=zv(n)).params&&(n.params=function eRe(n){return n?zv(n):null}(n.params)):n={},n}function pF(n,t,e){return{duration:n,delay:t,easing:e}}function gF(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class EC{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const sRe=new RegExp(":enter","g"),cRe=new RegExp(":leave","g");function _F(n,t,e,i,r,o=new Map,s=new Map,a,c,l=[]){return(new lRe).buildKeyframes(n,t,e,i,r,o,s,a,c,l)}class lRe{buildKeyframes(t,e,i,r,o,s,a,c,l,d=[]){l=l||new EC;const u=new bF(t,e,l,r,o,d,[]);u.options=c;const p=c.delay?el(c.delay):0;u.currentTimeline.delayNextStep(p),u.currentTimeline.setStyles([s],null,u.errors,c),ps(this,i,u);const b=u.timelines.filter(v=>v.containsAnimation());if(b.length&&a.size){let v;for(let x=b.length-1;x>=0;x--){const w=b[x];if(w.element===e){v=w;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,u.errors,c)}return b.length?b.map(v=>v.buildKeyframes()):[gF(e,[],[],[],0,p,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:el(qv(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?el(i.duration):null,a=null!=i.delay?el(i.delay):null;return 0!==s&&t.forEach(c=>{const l=e.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),ps(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=IC);const s=el(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>ps(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?el(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),ps(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return bC(e.params?qv(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?el(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=IC);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{e.currentQueryIndex=d;const u=e.createSubContext(t.options,l);o&&u.delayNextStep(o),l===e.element&&(c=u.currentTimeline),ps(this,t.animation,u),u.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,u.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let c=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const d=e.currentTimeline;c&&d.delayNextStep(c);const u=d.currentTime;ps(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-u+(r.startTime-i.currentTimeline.startTime)}}const IC={};class bF{constructor(t,e,i,r,o,s,a,c){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=IC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new CC(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=el(i.duration)),null!=i.delay&&(r.delay=el(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=qv(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new bF(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=IC,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new dRe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(sRe,"."+this._enterClassName)).replace(cRe,"."+this._leaveClassName);let l=this._driver.query(this.element,t,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&0==a.length&&s.push(function b1e(n){return new he(3014,!1)}()),a}}class CC{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new CC(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Oc),this._currentKeyframe.set(e,Oc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function uRe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Oc)}else vd(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,c]of s){const l=qv(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Oc),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=vd(a,new Map,this._backFill);l.forEach((d,u)=>{"!"===d?t.add(u):d===Oc&&e.add(u)}),i||l.set("offset",c/this.duration),r.push(l)});const o=t.size?vC(t.values()):[],s=e.size?vC(e.values()):[];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return gF(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class dRe extends CC{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,c=vd(t[0]);c.set("offset",0),o.push(c);const l=vd(t[0]);l.set("offset",jK(a)),o.push(l);const d=t.length-1;for(let u=1;u<=d;u++){let p=vd(t[u]);const b=p.get("offset");p.set("offset",jK((e+b*i)/s)),o.push(p)}i=s,e=0,r="",t=o}return gF(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function jK(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class vF{}const hRe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class fRe extends vF{normalizePropertyName(t,e){return fF(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(hRe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function a1e(n,t){return new he(3005,!1)}())}return s+o}}function zK(n,t,e,i,r,o,s,a,c,l,d,u,p){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:u,errors:p}}const yF={};class HK{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function mRe(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,c,l,d){const u=[],p=this.ast.options&&this.ast.options.params||yF,v=this.buildStyles(i,a&&a.params||yF,u),x=c&&c.params||yF,w=this.buildStyles(r,x,u),F=new Set,R=new Map,z=new Map,K="void"===r,Z={params:pRe(x,p),delay:this.ast.options?.delay},ne=d?[]:_F(t,e,this.ast.animation,o,s,v,w,Z,l,u);let U=0;if(ne.forEach(B=>{U=Math.max(B.duration+B.delay,U)}),u.length)return zK(e,this._triggerName,i,r,K,v,w,[],[],R,z,U,u);ne.forEach(B=>{const G=B.element,Y=ms(R,G,new Set);B.preStyleProps.forEach(W=>Y.add(W));const ee=ms(z,G,new Set);B.postStyleProps.forEach(W=>ee.add(W)),G!==e&&F.add(G)});const P=vC(F.values());return zK(e,this._triggerName,i,r,K,v,w,ne,P,R,z,U)}}function pRe(n,t){const e=zv(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class gRe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=zv(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=qv(s,r,e));const c=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,c,s,e),i.set(a,s)})}),i}}class bRe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new gRe(r.style,r.options&&r.options.params||{},i))}),qK(this.states,"true","1"),qK(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new HK(t,r,this.states))}),this.fallbackTransition=function vRe(n,t,e){return new HK(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function qK(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const yRe=new EC;class xRe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=mF(this._driver,e,i,[]);if(i.length)throw function C1e(n){return new he(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=TK(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=_F(this._driver,e,o,lF,pC,new Map,new Map,i,yRe,r),s.forEach(d=>{const u=ms(a,d.element,new Map);d.postStyleProps.forEach(p=>u.set(p,null))})):(r.push(function T1e(){return new he(3300,!1)}()),s=[]),r.length)throw function A1e(n){return new he(3504,!1)}();a.forEach((d,u)=>{d.forEach((p,b)=>{d.set(b,this._driver.computeStyle(u,b,Oc))})});const l=bd(s.map(d=>{const u=a.get(d.element);return this._buildPlayer(d,new Map,u)}));return this._playersById.set(t,l),l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function k1e(n){return new he(3301,!1)}();return e}listen(t,e,i,r){const o=sF(e,"","","");return rF(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const WK="ng-animate-queued",xF="ng-animate-disabled",TRe=[],GK={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ARe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},la="__ng_removed";class wF{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function RRe(n){return n??null}(i?t.value:t),i){const o=zv(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Wv="void",EF=new wF(Wv);class kRe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Us(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function S1e(n,t){return new he(3302,!1)}();if(null==i||0==i.length)throw function D1e(n){return new he(3303,!1)}();if(!function MRe(n){return"start"==n||"done"==n}(i))throw function R1e(n,t){return new he(3400,!1)}();const o=ms(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=ms(this._engine.statesByElement,t,new Map);return a.has(e)||(Us(t,gC),Us(t,gC+"-"+e),a.set(e,EF)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function M1e(n){return new he(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new IF(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Us(t,gC),Us(t,gC+"-"+e),this._engine.statesByElement.set(t,a=new Map));let c=a.get(e);const l=new wF(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(e,l),c||(c=EF),l.value!==Wv&&c.value===l.value){if(!function NRe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(c.params,l.params)){const x=[],w=o.matchStyles(c.value,c.params,x),F=o.matchStyles(l.value,l.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{fh(t,w),Qa(t,F)})}return}const p=ms(this._engine.playersByElement,t,[]);p.forEach(x=>{x.namespaceId==this.id&&x.triggerName==e&&x.queued&&x.destroy()});let b=o.matchTransition(c.value,l.value,t,l.params),v=!1;if(!b){if(!r)return;b=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:b,fromState:c,toState:l,player:s,isFallbackTransition:v}),v||(Us(t,WK),s.onStart(()=>{mp(t,WK)})),s.onDone(()=>{let x=this.players.indexOf(s);x>=0&&this.players.splice(x,1);const w=this._engine.playersByElement.get(t);if(w){let F=w.indexOf(s);F>=0&&w.splice(F,1)}}),this.players.push(s),p.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,_C,!0);i.forEach(r=>{if(r[la])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const d=this.trigger(t,l,Wv,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&bd(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=i.get(s)||EF,d=new wF(Wv),u=new IF(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:c,fromState:l,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[la];(!o||o===GK)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Us(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=sF(o,i.triggerName,i.fromState.value,i.toState.value);c._data=t,rF(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class SRe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new kRe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const c=r.get(a);if(c){const l=i.indexOf(c);i.splice(l+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(TC(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!TC(e))return;const o=e[la];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Us(t,xF)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),mp(t,xF))}removeNode(t,e,i){if(TC(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[la]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return TC(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,_C,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,dF,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return bd(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[la];if(e&&e.setForRemoval){if(t[la]=GK,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(xF)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Us(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?bd(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function P1e(n){return new he(3402,!1)}()}_flushAnimations(t,e){const i=new EC,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(Pe=>{d.add(Pe);const Ue=this.driver.query(Pe,".ng-animate-queued",!0);for(let Qe=0;Qe<Ue.length;Qe++)d.add(Ue[Qe])});const u=this.bodyNode,p=Array.from(this.statesByElement.keys()),b=QK(p,this.collectedEnterElements),v=new Map;let x=0;b.forEach((Pe,Ue)=>{const Qe=lF+x++;v.set(Ue,Qe),Pe.forEach(dt=>Us(dt,Qe))});const w=[],F=new Set,R=new Set;for(let Pe=0;Pe<this.collectedLeaveElements.length;Pe++){const Ue=this.collectedLeaveElements[Pe],Qe=Ue[la];Qe&&Qe.setForRemoval&&(w.push(Ue),F.add(Ue),Qe.hasAnimation?this.driver.query(Ue,".ng-star-inserted",!0).forEach(dt=>F.add(dt)):R.add(Ue))}const z=new Map,K=QK(p,Array.from(F));K.forEach((Pe,Ue)=>{const Qe=pC+x++;z.set(Ue,Qe),Pe.forEach(dt=>Us(dt,Qe))}),t.push(()=>{b.forEach((Pe,Ue)=>{const Qe=v.get(Ue);Pe.forEach(dt=>mp(dt,Qe))}),K.forEach((Pe,Ue)=>{const Qe=z.get(Ue);Pe.forEach(dt=>mp(dt,Qe))}),w.forEach(Pe=>{this.processLeaveNode(Pe)})});const Z=[],ne=[];for(let Pe=this._namespaceList.length-1;Pe>=0;Pe--)this._namespaceList[Pe].drainQueuedTransitions(e).forEach(Qe=>{const dt=Qe.player,Un=Qe.element;if(Z.push(dt),this.collectedEnterElements.length){const zi=Un[la];if(zi&&zi.setForMove){if(zi.previousTriggersValues&&zi.previousTriggersValues.has(Qe.triggerName)){const tl=zi.previousTriggersValues.get(Qe.triggerName),Wo=this.statesByElement.get(Qe.element);if(Wo&&Wo.has(Qe.triggerName)){const nl=Wo.get(Qe.triggerName);nl.value=tl,Wo.set(Qe.triggerName,nl)}}return void dt.destroy()}}const Hr=!u||!this.driver.containsElement(u,Un),On=z.get(Un),Tn=v.get(Un),bn=this._buildInstruction(Qe,i,Tn,On,Hr);if(bn.errors&&bn.errors.length)return void ne.push(bn);if(Hr)return dt.onStart(()=>fh(Un,bn.fromStyles)),dt.onDestroy(()=>Qa(Un,bn.toStyles)),void r.push(dt);if(Qe.isFallbackTransition)return dt.onStart(()=>fh(Un,bn.fromStyles)),dt.onDestroy(()=>Qa(Un,bn.toStyles)),void r.push(dt);const qo=[];bn.timelines.forEach(zi=>{zi.stretchStartingKeyframe=!0,this.disabledNodes.has(zi.element)||qo.push(zi)}),bn.timelines=qo,i.append(Un,bn.timelines),s.push({instruction:bn,player:dt,element:Un}),bn.queriedElements.forEach(zi=>ms(a,zi,[]).push(dt)),bn.preStyleProps.forEach((zi,tl)=>{if(zi.size){let Wo=c.get(tl);Wo||c.set(tl,Wo=new Set),zi.forEach((nl,xd)=>Wo.add(xd))}}),bn.postStyleProps.forEach((zi,tl)=>{let Wo=l.get(tl);Wo||l.set(tl,Wo=new Set),zi.forEach((nl,xd)=>Wo.add(xd))})});if(ne.length){const Pe=[];ne.forEach(Ue=>{Pe.push(function O1e(n,t){return new he(3505,!1)}())}),Z.forEach(Ue=>Ue.destroy()),this.reportError(Pe)}const U=new Map,P=new Map;s.forEach(Pe=>{const Ue=Pe.element;i.has(Ue)&&(P.set(Ue,Ue),this._beforeAnimationBuild(Pe.player.namespaceId,Pe.instruction,U))}),r.forEach(Pe=>{const Ue=Pe.element;this._getPreviousPlayers(Ue,!1,Pe.namespaceId,Pe.triggerName,null).forEach(dt=>{ms(U,Ue,[]).push(dt),dt.destroy()})});const B=w.filter(Pe=>XK(Pe,c,l)),G=new Map;KK(G,this.driver,R,l,Oc).forEach(Pe=>{XK(Pe,c,l)&&B.push(Pe)});const ee=new Map;b.forEach((Pe,Ue)=>{KK(ee,this.driver,new Set(Pe),c,"!")}),B.forEach(Pe=>{const Ue=G.get(Pe),Qe=ee.get(Pe);G.set(Pe,new Map([...Ue?.entries()??[],...Qe?.entries()??[]]))});const W=[],li=[],en={};s.forEach(Pe=>{const{element:Ue,player:Qe,instruction:dt}=Pe;if(i.has(Ue)){if(d.has(Ue))return Qe.onDestroy(()=>Qa(Ue,dt.toStyles)),Qe.disabled=!0,Qe.overrideTotalTime(dt.totalTime),void r.push(Qe);let Un=en;if(P.size>1){let On=Ue;const Tn=[];for(;On=On.parentNode;){const bn=P.get(On);if(bn){Un=bn;break}Tn.push(On)}Tn.forEach(bn=>P.set(bn,Un))}const Hr=this._buildAnimation(Qe.namespaceId,dt,U,o,ee,G);if(Qe.setRealPlayer(Hr),Un===en)W.push(Qe);else{const On=this.playersByElement.get(Un);On&&On.length&&(Qe.parentPlayer=bd(On)),r.push(Qe)}}else fh(Ue,dt.fromStyles),Qe.onDestroy(()=>Qa(Ue,dt.toStyles)),li.push(Qe),d.has(Ue)&&r.push(Qe)}),li.forEach(Pe=>{const Ue=o.get(Pe.element);if(Ue&&Ue.length){const Qe=bd(Ue);Pe.setRealPlayer(Qe)}}),r.forEach(Pe=>{Pe.parentPlayer?Pe.syncPlayerEvents(Pe.parentPlayer):Pe.destroy()});for(let Pe=0;Pe<w.length;Pe++){const Ue=w[Pe],Qe=Ue[la];if(mp(Ue,pC),Qe&&Qe.hasAnimation)continue;let dt=[];if(a.size){let Hr=a.get(Ue);Hr&&Hr.length&&dt.push(...Hr);let On=this.driver.query(Ue,dF,!0);for(let Tn=0;Tn<On.length;Tn++){let bn=a.get(On[Tn]);bn&&bn.length&&dt.push(...bn)}}const Un=dt.filter(Hr=>!Hr.destroyed);Un.length?PRe(this,Ue,Un):this.processLeaveNode(Ue)}return w.length=0,W.forEach(Pe=>{this.players.push(Pe),Pe.onDone(()=>{Pe.destroy();const Ue=this.players.indexOf(Pe);this.players.splice(Ue,1)}),Pe.play()}),W}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const c=!o||o==Wv;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const c of e.timelines){const l=c.element,d=l!==o,u=ms(i,l,[]);this._getPreviousPlayers(l,d,s,a,e.toState).forEach(b=>{const v=b.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),b.destroy(),u.push(b)})}fh(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,c=e.element,l=[],d=new Set,u=new Set,p=e.timelines.map(v=>{const x=v.element;d.add(x);const w=x[la];if(w&&w.removedBeforeQueried)return new Fb(v.duration,v.delay);const F=x!==c,R=function ORe(n){const t=[];return YK(n,t),t}((i.get(x)||TRe).map(U=>U.getRealPlayer())).filter(U=>!!U.element&&U.element===x),z=o.get(x),K=s.get(x),Z=TK(this._normalizer,v.keyframes,z,K),ne=this._buildPlayer(v,Z,R);if(v.subTimeline&&r&&u.add(x),F){const U=new IF(t,a,x);U.setRealPlayer(ne),l.push(U)}return ne});l.forEach(v=>{ms(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function DRe(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,v.element,v))}),d.forEach(v=>Us(v,PK));const b=bd(p);return b.onDestroy(()=>{d.forEach(v=>mp(v,PK)),Qa(c,e.toStyles)}),u.forEach(v=>{ms(r,v,[]).push(b)}),b}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Fb(t.duration,t.delay)}}class IF{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Fb,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>rF(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ms(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function TC(n){return n&&1===n.nodeType}function $K(n,t){const e=n.style.display;return n.style.display=t??"none",e}function KK(n,t,e,i,r){const o=[];e.forEach(c=>o.push($K(c)));const s=[];i.forEach((c,l)=>{const d=new Map;c.forEach(u=>{const p=t.computeStyle(l,u,r);d.set(u,p),(!p||0==p.length)&&(l[la]=ARe,s.push(l))}),n.set(l,d)});let a=0;return e.forEach(c=>$K(c,o[a++])),s}function QK(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=e.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return t.forEach(a=>{const c=s(a);1!==c&&e.get(c).push(a)}),e}function Us(n,t){n.classList?.add(t)}function mp(n,t){n.classList?.remove(t)}function PRe(n,t,e){bd(e).onDone(()=>n.processLeaveNode(t))}function YK(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof IW?YK(i.players,t):t.push(i)}}function XK(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class AC{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new SRe(t,e,i),this._timelineEngine=new xRe(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],d=mF(this._driver,o,c,[]);if(c.length)throw function E1e(n,t){return new he(3404,!1)}();a=function _Re(n,t,e){return new bRe(n,t,e)}(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=AK(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=AK(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let LRe=(()=>{class n{static{this.initialStylesByElement=new WeakMap}constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Qa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qa(this._element,this._initialStyles),this._endStyles&&(Qa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(fh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fh(this._element,this._endStyles),this._endStyles=null),Qa(this._element,this._initialStyles),this._state=3)}}return n})();function CF(n){let t=null;return n.forEach((e,i)=>{(function VRe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class JK{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:LK(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class BRe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return SK(t,e)}getParentElement(t){return aF(t)}query(t,e,i){return DK(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,d=s.filter(b=>b instanceof JK);(function G1e(n,t){return 0===n||0===t})(i,r)&&d.forEach(b=>{b.currentSnapshot.forEach((v,x)=>l.set(x,v))});let u=function H1e(n){return n.length?n[0]instanceof Map?n:n.map(t=>OK(t)):[]}(e).map(b=>vd(b));u=function $1e(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,LK(n,a)))}}return t}(t,u,l);const p=function FRe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=CF(t[0]),t.length>1&&(i=CF(t[t.length-1]))):t instanceof Map&&(e=CF(t)),e||i?new LRe(n,e,i):null}(t,u);return new JK(t,u,c,p)}}let URe=(()=>{class n extends xW{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:dr.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?EW(e):e;return ZK(this._renderer,null,i,"register",[r]),new jRe(i,this._renderer)}static{this.\u0275fac=function(i){return new(i||n)(X(Bg),X(Tt))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();class jRe extends i_e{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new zRe(this._id,t,e||{},this._renderer)}}class zRe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return ZK(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ZK(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const eQ="@.disabled";let HRe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(o);return d||(d=new tQ("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,d)),d}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const c=d=>{Array.isArray(d)?d.forEach(c):this.engine.registerTrigger(s,a,e,d.name,d)};return i.data.animation.forEach(c),new qRe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(i){return new(i||n)(X(Bg),X(AC),X(We))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();class tQ{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==eQ?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class qRe extends tQ{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==eQ?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function WRe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function GRe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let $Re=(()=>{class n extends AC{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(X(Tt),X(cF),X(vF),X(fc))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();const nQ=[{provide:xW,useClass:URe},{provide:vF,useFactory:function KRe(){return new fRe}},{provide:AC,useClass:$Re},{provide:Bg,useFactory:function QRe(n,t,e){return new HRe(n,t,e)},deps:[dS,AC,We]}],TF=[{provide:cF,useFactory:()=>new BRe},{provide:Vr,useValue:"BrowserAnimations"},...nQ],iQ=[{provide:cF,useClass:RK},{provide:Vr,useValue:"NoopAnimations"},...nQ];let YRe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?iQ:TF}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({providers:TF,imports:[D3]})}}return n})(),XRe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[xn,xn]})}}return n})(),AMe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[VR,vc,xn,LE,gW,XRe]})}}return n})();const kMe=["*",[["mat-toolbar-row"]]],SMe=["*","mat-toolbar-row"],DMe=NE(class{constructor(n){this._elementRef=n}});let RMe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=be({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}}return n})(),MMe=(()=>{class n extends DMe{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static{this.\u0275fac=function(i){return new(i||n)(N(ft),N(Di),N(Tt))}}static{this.\u0275cmp=ct({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&Qn(o,RMe,5),2&i){let s;gt(s=_t())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&Pt("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[qe],ngContentSelectors:SMe,decls:2,vars:0,template:function(i,r){1&i&&(Yi(kMe),xt(0),xt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})(),PMe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[xn,xn]})}}return n})();const cQ=["*"],OMe=["content"];function NMe(n,t){if(1&n){const e=Qi();D(0,"div",2),Re("click",function(){return Rt(e),Mt(Oe()._onBackdropClicked())}),S()}2&n&&Pt("mat-drawer-shown",Oe()._isShowingBackdrop())}function FMe(n,t){1&n&&(D(0,"mat-drawer-content"),xt(1,2),S())}const LMe=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],VMe=["mat-drawer","mat-drawer-content","*"],BMe={transformDrawer:ed("transform",[Ps("open, open-instant",cr({transform:"none",visibility:"visible"})),Ps("void",cr({"box-shadow":"none",visibility:"hidden"})),Os("void => open-instant",aa("0ms")),Os("void <=> open, open-instant => void",aa("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},UMe=new ue("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function jMe(){return!1}}),lQ=new ue("MAT_DRAWER_CONTAINER");let SC=(()=>{class n extends MR{constructor(e,i,r,o,s){super(r,o,s),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static{this.\u0275fac=function(i){return new(i||n)(N(Vo),N(dn(()=>uQ)),N(ft),N(RR),N(We))}}static{this.\u0275cmp=ct({type:n,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,r){2&i&&El("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[mt([{provide:MR,useExisting:n}]),qe],ngContentSelectors:cQ,decls:1,vars:0,template:function(i,r){1&i&&(Yi(),xt(0))},encapsulation:2,changeDetection:0})}}return n})(),dQ=(()=>{class n{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=cn(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=cn(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(cn(e))}constructor(e,i,r,o,s,a,c,l){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=s,this._interactivityChecker=a,this._doc=c,this._container=l,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Q,this._animationEnd=new Q,this._animationState="void",this.openedChange=new zt(!0),this._openedStream=this.openedChange.pipe(Zt(d=>d),pe(()=>{})),this.openedStart=this._animationStarted.pipe(Zt(d=>d.fromState!==d.toState&&0===d.toState.indexOf("open")),$x(void 0)),this._closedStream=this.openedChange.pipe(Zt(d=>!d),pe(()=>{})),this.closedStart=this._animationStarted.pipe(Zt(d=>d.fromState!==d.toState&&"void"===d.toState),$x(void 0)),this._destroyed=new Q,this.onPositionChanged=new zt,this._modeChanged=new Q,this.openedChange.subscribe(d=>{d?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Uu(this._elementRef.nativeElement,"keydown").pipe(Zt(d=>27===d.keyCode&&!this.disableClose&&!jm(d)),si(this._destroyed)).subscribe(d=>this._ngZone.run(()=>{this.close(),d.stopPropagation(),d.preventDefault()}))}),this._animationEnd.pipe(Ze((d,u)=>d.fromState===u.fromState&&d.toState===u.toState)).subscribe(d=>{const{fromState:u,toState:p}=d;(0===p.indexOf("open")&&"void"===u||"void"===p&&0===u.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Vn(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}static{this.\u0275fac=function(i){return new(i||n)(N(ft),N(ME),N(Hm),N(Di),N(We),N(Pb),N(Tt,8),N(lQ,8))}}static{this.\u0275cmp=ct({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(1&i&&ri(OMe,5),2&i){let o;gt(o=_t())&&(r._content=o.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){1&i&&ax("@transform.start",function(s){return r._animationStarted.next(s)})("@transform.done",function(s){return r._animationEnd.next(s)}),2&i&&(kn("align",null),dx("@transform",r._animationState),Pt("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:cQ,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(Yi(),D(0,"div",0,1),xt(2),S())},dependencies:[MR],encapsulation:2,data:{animation:[BMe.transformDrawer]},changeDetection:0})}}return n})(),uQ=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=cn(e)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=null==e?null:cn(e)}get scrollable(){return this._userContent||this._content}constructor(e,i,r,o,s,a=!1,c){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=c,this._drawers=new cu,this.backdropClick=new zt,this._destroyed=new Q,this._doCheckSubject=new Q,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Q,e&&e.change.pipe(si(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(si(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}ngAfterContentInit(){this._allDrawers.changes.pipe(ra(this._allDrawers),si(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ra(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(RE(10),si(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Zt(i=>i.fromState!==i.toState),si(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(si(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(si(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Vn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(si(E(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return null!=e&&e.opened}_drawerHasBackdrop(e){return null==this._backdropOverride?!!e&&"side"!==e.mode:this._backdropOverride}static{this.\u0275fac=function(i){return new(i||n)(N(zu,8),N(ft),N(We),N(Vo),N(TE),N(UMe),N(Vr,8))}}static{this.\u0275cmp=ct({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,o){if(1&i&&(Qn(o,SC,5),Qn(o,dQ,5)),2&i){let s;gt(s=_t())&&(r._content=s.first),gt(s=_t())&&(r._allDrawers=s)}},viewQuery:function(i,r){if(1&i&&ri(SC,5),2&i){let o;gt(o=_t())&&(r._userContent=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){2&i&&Pt("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[mt([{provide:lQ,useExisting:n}])],ngContentSelectors:VMe,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(Yi(LMe),Se(0,NMe,1,2,"div",0),xt(1),xt(2,1),Se(3,FMe,2,0,"mat-drawer-content",1)),2&i&&(ve("ngIf",r.hasBackdrop),ae(3),ve("ngIf",!r._content))},dependencies:[ss,SC],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}}return n})(),zMe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[vc,xn,Db,Db,xn]})}}return n})(),mQ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({})}}return n})(),tPe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({imports:[xn,LE,mQ,xn,mQ]})}}return n})();const sPe={provide:new ue("mat-select-scroll-strategy"),deps:[Pc],useFactory:function oPe(n){return()=>n.scrollStrategies.reposition()}};let aPe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({providers:[sPe],imports:[vc,DE,_W,xn,Db,TI,_W,xn]})}}return n})();const cPe=["sidenav"];function lPe(n,t){1&n&&(D(0,"button",12),rt(1,"mat-icon",13),j(2," Administrar "),S())}function dPe(n,t){1&n&&(D(0,"button",14),rt(1,"mat-icon",15),j(2," Balance "),S())}function uPe(n,t){1&n&&(D(0,"button",16),rt(1,"mat-icon",17),j(2," Logs "),S())}function hPe(n,t){if(1&n){const e=Qi();D(0,"button",18),Re("click",function(){return Rt(e),Mt(Oe(2).logout())}),j(1,"Cerrar sesi\xf3n"),S()}}function fPe(n,t){if(1&n&&(D(0,"mat-drawer",3,4)(2,"h2",5),j(3,"Bienvenido"),S(),D(4,"button",6),rt(5,"mat-icon",7),j(6," Inicio "),S(),Se(7,lPe,3,0,"button",8),Fo(8,"async"),Se(9,dPe,3,0,"button",9),Fo(10,"async"),Se(11,uPe,3,0,"button",10),Fo(12,"async"),Se(13,hPe,2,0,"button",11),S()),2&n){const e=Oe();ae(7),ve("ngIf","admin"===rs(8,4,e.role$)),ae(2),ve("ngIf","admin"===rs(10,6,e.role$)),ae(2),ve("ngIf","admin"===rs(12,8,e.role$)),ae(2),ve("ngIf",e.isLoggedIn)}}function mPe(n,t){if(1&n){const e=Qi();D(0,"div")(1,"mat-toolbar",19)(2,"div",20)(3,"button",21),Re("click",function(){return Rt(e),Mt(Oe().sidenav.toggle())}),D(4,"mat-icon",22),j(5,"menu"),S()(),D(6,"span",22),j(7,"Nuovo Caffe"),S(),rt(8,"img",23),S(),D(9,"div",24),rt(10,"mat-icon",25),D(11,"span",22),j(12),S()()()()}if(2&n){const e=Oe();ae(12),Vi(e.shift)}}let pPe=(()=>{class n{constructor(e,i,r,o){this.datePipe=e,this.userService=i,this.router=r,this.gestionService=o,this.showFiller=!1,this.isLoggedIn=!1,this.tables=[],this.menu=[],this.waiters=[],this.currentDate=this.getFormattedDate(),this.shift=this.getShift(),this.role$=this.userService.getRoleState()}ngOnInit(){this.userService.getAuthState().subscribe(e=>{this.isLoggedIn=!!e})}toggleSidenav(){this.sidenav.toggle()}getFormattedDate(){return this.datePipe.transform(new Date,"dd/MM/yyyy")||""}getShift(){const e=(new Date).getHours();return e>=6&&e<12?"Turno Ma\xf1ana":e>=12&&e<18?"Turno Tarde":"Turno Noche"}logout(){this.userService.logout().then(()=>{this.router.navigate(["/login"])}).catch(e=>console.log(e))}static{this.\u0275fac=function(i){return new(i||n)(N(Vx),N(tp),N(eo),N(sa))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-root"]],viewQuery:function(i,r){if(1&i&&ri(cPe,5),2&i){let o;gt(o=_t())&&(r.sidenav=o.first)}},decls:5,vars:2,consts:[["autosize","",1,"example-container"],["class","example-sidenav d-flex flex-column","mode","side",4,"ngIf"],[4,"ngIf"],["mode","side",1,"example-sidenav","d-flex","flex-column"],["sidenav",""],[2,"color","#aa7e67","font-weight","bold"],["mat-button","","routerLink","/home",2,"color","#aa7e67"],["fontIcon","storefront"],["mat-button","","routerLink","/admin","style","color: #aa7e67;",4,"ngIf"],["mat-button","","routerLink","/balance","style","color: #aa7e67;",4,"ngIf"],["mat-button","","routerLink","/logs","style","color: #aa7e67;",4,"ngIf"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["mat-button","","routerLink","/admin",2,"color","#aa7e67"],["fontIcon","settings"],["mat-button","","routerLink","/balance",2,"color","#aa7e67"],["fontIcon","paid"],["mat-button","","routerLink","/logs",2,"color","#aa7e67"],["fontIcon","visibility_lock"],["mat-flat-button","","color","warn",3,"click"],[1,"custom-toolbar","d-flex","justify-content-between","align-items-center"],[1,"cont-1","d-flex","align-items-center","gap-2"],["mat-icon-button","",3,"click"],[2,"color","#aa7e67"],["mat-card-image","","src","./assets/nuovo-cafe.jpg","alt","table",1,"rounded-circle",2,"width","50px","height","50px"],[1,"cont-2","d-flex","align-items-center",2,"gap","0.5rem","color","#aa7e67"],["fontIcon","schedule",2,"color","#aa7e67"]],template:function(i,r){1&i&&(D(0,"mat-drawer-container",0),Se(1,fPe,14,10,"mat-drawer",1),D(2,"mat-drawer-content"),Se(3,mPe,13,1,"div",2),rt(4,"router-outlet"),S()()),2&i&&(ae(1),ve("ngIf",r.isLoggedIn),ae(2),ve("ngIf",r.isLoggedIn))},dependencies:[ss,RS,mu,AI,np,_G,dQ,uQ,SC,qa,MMe,h_],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;background-color:#f3e498!important;color:#fff!important}[_nghost-%COMP%]{display:block;min-height:100vh;background-color:#f6efcc!important;color:#fff}mat-drawer-container[_ngcontent-%COMP%]{background-color:#f6efcc!important}mat-drawer[_ngcontent-%COMP%]{background-color:#f6efcc!important}mat-drawer-content[_ngcontent-%COMP%]{background-color:#f6efcc!important}.example-container[_ngcontent-%COMP%]{height:100vh}.example-sidenav[_ngcontent-%COMP%]{width:250px;padding:20px}.custom-toolbar[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem;margin-top:0rem;border:solid #aa7e67 1px;border-right:none;border-left:none;border-top:none;background-color:#f6efcc!important}.example-spacer[_ngcontent-%COMP%]{flex:1}.example-sidenav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%;text-align:left;margin-bottom:10px}"]})}}return n})();const yd=new at(Ye),_Pe={connector:()=>new Q};function pQ(n,t=_Pe){const{connector:e}=t;return te((i,r)=>{const o=e();Wt(n(function gPe(n){return new at(t=>n.subscribe(t))}(o))).subscribe(r),r.add(i.subscribe(o))})}function gQ(n,t){return t?e=>Ff(t.pipe(Vn(1),function yPe(){return te((n,t)=>{n.subscribe(me(t,Ye))})}()),e.pipe(gQ(n))):Wn((e,i)=>Wt(n(e,i)).pipe(Vn(1),$x(e)))}const Gv="Service workers are disabled or not supported by this browser";class DC{constructor(t){if(this.serviceWorker=t,t){const i=Uu(t,"controllerchange").pipe(pe(()=>t.controller)),o=Ff(Lf(()=>O(t.controller)),i);this.worker=o.pipe(Zt(d=>!!d)),this.registration=this.worker.pipe(ke(()=>t.getRegistration()));const l=Uu(t,"message").pipe(pe(d=>d.data)).pipe(Zt(d=>d&&d.type)).pipe(function vPe(n){return n?t=>pQ(n)(t):t=>function bPe(n,t){const e=V(n)?n:()=>n;return V(t)?pQ(t,{connector:e}):i=>new qx(i,e)}(new Q)(t)}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function wPe(n){return Lf(()=>Al(new Error(n)))}(Gv)}postMessage(t,e){return this.worker.pipe(Vn(1),Dn(i=>{i.postMessage({action:t,...e})})).toPromise().then(()=>{})}postMessageWithOperation(t,e,i){const r=this.waitForOperationCompleted(i),o=this.postMessage(t,e);return Promise.all([o,r]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?i=>i.type===t:i=>t.includes(i.type),this.events.pipe(Zt(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(Vn(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(Zt(e=>e.nonce===t),Vn(1),pe(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let _Q=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.pushManager=null,this.subscriptionChanges=new Q,!e.isEnabled)return this.messages=yd,this.notificationClicks=yd,void(this.subscription=yd);this.messages=this.sw.eventsOfType("PUSH").pipe(pe(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(pe(r=>r.data)),this.pushManager=this.sw.registration.pipe(pe(r=>r.pushManager));const i=this.pushManager.pipe(ke(r=>r.getSubscription()));this.subscription=E(i,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Gv));const i={userVisibleOnly:!0};let r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(r.length));for(let s=0;s<r.length;s++)o[s]=r.charCodeAt(s);return i.applicationServerKey=o,this.pushManager.pipe(ke(s=>s.subscribe(i)),Vn(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Vn(1),ke(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Gv))}decodeBase64(e){return atob(e)}static{this.\u0275fac=function(i){return new(i||n)(X(DC))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})(),bQ=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=yd,this.available=yd,this.activated=yd,void(this.unrecoverable=yd);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Zt(i=>"VERSION_READY"===i.type),pe(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Gv));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Gv));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static{this.\u0275fac=function(i){return new(i||n)(X(DC))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac})}}return n})();const vQ=new ue("NGSW_REGISTER_SCRIPT");function EPe(n,t,e,i){return()=>{if(!nS(i)||!("serviceWorker"in navigator)||!1===e.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)r=e.registrationStrategy();else{const[s,...a]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":r=O(null);break;case"registerWithDelay":r=yQ(+a[0]||0);break;case"registerWhenStable":r=a[0]?E(xQ(n),yQ(+a[0])):xQ(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}n.get(We).runOutsideAngular(()=>r.pipe(Vn(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function yQ(n){return O(null).pipe(function xPe(n,t=Qf){const e=xR(n,t);return gQ(()=>e)}(n))}function xQ(n){return n.get(fc).isStable.pipe(Zt(e=>e))}function IPe(n,t){return new DC(nS(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class kF{}function CPe(n,t={}){return V0([_Q,bQ,{provide:vQ,useValue:n},{provide:kF,useValue:t},{provide:DC,useFactory:IPe,deps:[kF,Oo]},{provide:bx,useFactory:EPe,deps:[Ln,vQ,kF,Oo],multi:!0}])}let TPe=(()=>{class n{static register(e,i={}){return{ngModule:n,providers:[CPe(e,i)]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n})}static{this.\u0275inj=ht({providers:[_Q,bQ]})}}return n})();const wQ_firebase={apiKey:"AIzaSyBuYr748J1j9TCFcjUpuznXnk_4Jo8pPiQ",authDomain:"nuovo-caffe.firebaseapp.com",projectId:"nuovo-caffe",storageBucket:"nuovo-caffe.appspot.com",messagingSenderId:"1013495355496",appId:"1:1013495355496:web:fdaaf0fb143f3f2c0303dd",measurementId:"G-L1Q71BEWLK"};let APe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=lt({type:n,bootstrap:[pPe]})}static{this.\u0275inj=ht({providers:[Vx],imports:[D3,t1e,YRe,lbe,dbe,hIe,bG,p_e,TI,$we,tPe,wK,YEe,zMe,aPe,AMe,wbe,PMe,TDe,Zme,Tme,Kle.initializeApp(wQ_firebase),Pbe(()=>Obe(wQ_firebase)),Qxe(()=>Jxe()),lwe(()=>uwe()),TPe.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})}}return n})();Kse().bootstrapModule(APe).catch(n=>console.error(n))},574:(Go,Fi,it)=>{it.d(Fi,{A:()=>Mi});var V=it(401),Ne=it(779),H=it(631),Ke=it(398);class kt{constructor(bt,ot){this._delegate=bt,this.firebase=ot,(0,H._addComponent)(bt,new Ne.uA("app-compat",()=>this,"PUBLIC")),this.container=bt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(bt){this._delegate.automaticDataCollectionEnabled=bt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(bt=>{this._delegate.checkDestroyed(),bt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(bt,ot=H._DEFAULT_ENTRY_NAME){var di;this._delegate.checkDestroyed();const jn=this._delegate.container.getProvider(bt);return!jn.isInitialized()&&"EXPLICIT"===(null===(di=jn.getComponent())||void 0===di?void 0:di.instantiationMode)&&jn.initialize(),jn.getImmediate({identifier:ot})}_removeServiceInstance(bt,ot=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(bt).clearInstance(ot)}_addComponent(bt){(0,H._addComponent)(this._delegate,bt)}_addOrOverwriteComponent(bt){(0,H._addOrOverwriteComponent)(this._delegate,bt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ti=new V.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),_e=function Nt(){const Bt=function tn(Bt){const bt={},ot={__esModule:!0,initializeApp:function mn(Et,De={}){const oe=H.initializeApp(Et,De);if((0,V.gR)(bt,oe.name))return bt[oe.name];const et=new Bt(oe,ot);return bt[oe.name]=et,et},app:jn,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function vr(Et){const De=Et.name,oe=De.replace("-compat","");if(H._registerComponent(Et)&&"PUBLIC"===Et.type){const et=(It=jn())=>{if("function"!=typeof It[oe])throw ti.create("invalid-app-argument",{appName:De});return It[oe]()};void 0!==Et.serviceProps&&(0,V.zw)(et,Et.serviceProps),ot[oe]=et,Bt.prototype[oe]=function(...It){return this._getService.bind(this,De).apply(this,Et.multipleInstances?It:[])}}return"PUBLIC"===Et.type?ot[oe]:null},removeApp:function di(Et){delete bt[Et]},useAsService:function Ht(Et,De){return"serverAuth"===De?null:De},modularAPIs:H}};function jn(Et){if(!(0,V.gR)(bt,Et=Et||H._DEFAULT_ENTRY_NAME))throw ti.create("no-app",{appName:Et});return bt[Et]}return ot.default=ot,Object.defineProperty(ot,"apps",{get:function pn(){return Object.keys(bt).map(Et=>bt[Et])}}),jn.App=Bt,ot}(kt);return Bt.INTERNAL=Object.assign(Object.assign({},Bt.INTERNAL),{createFirebaseNamespace:Nt,extendNamespace:function bt(ot){(0,V.zw)(Bt,ot)},createSubscribe:V.tD,ErrorFactory:V.FA,deepExtend:V.zw}),Bt}(),Te=new Ke.Vy("@firebase/app-compat");try{const Bt=(0,V.mS)();if(void 0!==Bt.firebase){Te.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const bt=Bt.firebase.SDK_VERSION;bt&&bt.indexOf("LITE")>=0&&Te.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Mi=_e;!function Kt(Bt){(0,H.registerVersion)("@firebase/app-compat","0.2.43",Bt)}()},631:(Go,Fi,it)=>{it.r(Fi),it.d(Fi,{FirebaseError:()=>Ke.g,SDK_VERSION:()=>nr,_DEFAULT_ENTRY_NAME:()=>Q,_addComponent:()=>Ae,_addOrOverwriteComponent:()=>pe,_apps:()=>se,_clearComponents:()=>Wi,_components:()=>me,_getProvider:()=>En,_isFirebaseApp:()=>nn,_isFirebaseServerApp:()=>qn,_registerComponent:()=>st,_removeServiceInstance:()=>ut,_serverApps:()=>te,deleteApp:()=>bs,getApp:()=>js,getApps:()=>ha,initializeApp:()=>Wt,initializeServerApp:()=>Gr,onLog:()=>zs,registerVersion:()=>So,setLogLevel:()=>$i});var V=it(467),Ne=it(779),H=it(398),Ke=it(401),kt=it(749);class ei{constructor(ye){this.container=ye}getPlatformInfoString(){return this.container.getProviders().map(T=>{if(function ti(Be){const ye=Be.getComponent();return"VERSION"===ye?.type}(T)){const E=T.getImmediate();return`${E.library}/${E.version}`}return null}).filter(T=>T).join(" ")}}const tn="@firebase/app",Nt="0.10.13",_e=new H.Vy("@firebase/app"),Q="[DEFAULT]",le={[tn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},se=new Map,te=new Map,me=new Map;function Ae(Be,ye){try{Be.container.addComponent(ye)}catch(T){_e.debug(`Component ${ye.name} failed to register with FirebaseApp ${Be.name}`,T)}}function pe(Be,ye){Be.container.addOrOverwriteComponent(ye)}function st(Be){const ye=Be.name;if(me.has(ye))return _e.debug(`There were multiple attempts to register component ${ye}.`),!1;me.set(ye,Be);for(const T of se.values())Ae(T,Be);for(const T of te.values())Ae(T,Be);return!0}function En(Be,ye){const T=Be.container.getProvider("heartbeat").getImmediate({optional:!0});return T&&T.triggerHeartbeat(),Be.container.getProvider(ye)}function ut(Be,ye,T=Q){En(Be,ye).clearInstance(T)}function nn(Be){return void 0!==Be.options}function qn(Be){return void 0!==Be.settings}function Wi(){me.clear()}const on=new Ke.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ci{constructor(ye,T,E){this._isDeleted=!1,this._options=Object.assign({},ye),this._config=Object.assign({},T),this._name=T.name,this._automaticDataCollectionEnabled=T.automaticDataCollectionEnabled,this._container=E,this.container.addComponent(new Ne.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this.checkDestroyed(),this._automaticDataCollectionEnabled=ye}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ye){this._isDeleted=ye}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}}class Gi extends Ci{constructor(ye,T,E,k){const O=void 0!==T.automaticDataCollectionEnabled&&T.automaticDataCollectionEnabled,q={name:E,automaticDataCollectionEnabled:O};super(void 0!==ye.apiKey?ye:ye.options,q,k),this._serverConfig=Object.assign({automaticDataCollectionEnabled:O},T),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,T.releaseOnDeref=void 0,So(tn,Nt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ye){this.isDeleted||(this._refCount++,void 0!==ye&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(ye,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){bs(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw on.create("server-app-deleted")}}const nr="10.14.1";function Wt(Be,ye={}){let T=Be;"object"!=typeof ye&&(ye={name:ye});const E=Object.assign({name:Q,automaticDataCollectionEnabled:!1},ye),k=E.name;if("string"!=typeof k||!k)throw on.create("bad-app-name",{appName:String(k)});if(T||(T=(0,Ke.T9)()),!T)throw on.create("no-options");const O=se.get(k);if(O){if((0,Ke.bD)(T,O.options)&&(0,Ke.bD)(E,O.config))return O;throw on.create("duplicate-app",{appName:k})}const q=new Ne.h1(k);for(const ke of me.values())q.addComponent(ke);const ge=new Ci(T,E,q);return se.set(k,ge),ge}function Gr(Be,ye){if((0,Ke.Bd)()&&!(0,Ke.p7)())throw on.create("invalid-server-app-environment");let T;void 0===ye.automaticDataCollectionEnabled&&(ye.automaticDataCollectionEnabled=!1),T=nn(Be)?Be.options:Be;const E=Object.assign(Object.assign({},ye),T);if(void 0!==E.releaseOnDeref&&delete E.releaseOnDeref,void 0!==ye.releaseOnDeref&&typeof FinalizationRegistry>"u")throw on.create("finalization-registry-not-supported",{});const O=""+(Ze=JSON.stringify(E),[...Ze].reduce((Qt,Xe)=>Math.imul(31,Qt)+Xe.charCodeAt(0)|0,0)),q=te.get(O);var Ze;if(q)return q.incRefCount(ye.releaseOnDeref),q;const ge=new Ne.h1(O);for(const Ze of me.values())ge.addComponent(Ze);const ke=new Gi(T,ye,O,ge);return te.set(O,ke),ke}function js(Be=Q){const ye=se.get(Be);if(!ye&&Be===Q&&(0,Ke.T9)())return Wt();if(!ye)throw on.create("no-app",{appName:Be});return ye}function ha(){return Array.from(se.values())}function bs(Be){return $r.apply(this,arguments)}function $r(){return($r=(0,V.A)(function*(Be){let ye=!1;const T=Be.name;se.has(T)?(ye=!0,se.delete(T)):te.has(T)&&Be.decRefCount()<=0&&(te.delete(T),ye=!0),ye&&(yield Promise.all(Be.container.getProviders().map(E=>E.delete())),Be.isDeleted=!0)})).apply(this,arguments)}function So(Be,ye,T){var E;let k=null!==(E=le[Be])&&void 0!==E?E:Be;T&&(k+=`-${T}`);const O=k.match(/\s|\//),q=ye.match(/\s|\//);if(O||q){const ge=[`Unable to register library "${k}" with version "${ye}":`];return O&&ge.push(`library name "${k}" contains illegal characters (whitespace or "/")`),O&&q&&ge.push("and"),q&&ge.push(`version name "${ye}" contains illegal characters (whitespace or "/")`),void _e.warn(ge.join(" "))}st(new Ne.uA(`${k}-version`,()=>({library:k,version:ye}),"VERSION"))}function zs(Be,ye){if(null!==Be&&"function"!=typeof Be)throw on.create("invalid-log-argument");(0,H.Ey)(Be,ye)}function $i(Be){(0,H.He)(Be)}const fo="firebase-heartbeat-database",Wn=1,ir="firebase-heartbeat-store";let ni=null;function Hs(){return ni||(ni=(0,kt.P2)(fo,Wn,{upgrade:(Be,ye)=>{if(0===ye)try{Be.createObjectStore(ir)}catch(T){console.warn(T)}}}).catch(Be=>{throw on.create("idb-open",{originalErrorMessage:Be.message})})),ni}function vn(){return(vn=(0,V.A)(function*(Be){try{const T=(yield Hs()).transaction(ir),E=yield T.objectStore(ir).get(Qo(Be));return yield T.done,E}catch(ye){if(ye instanceof Ke.g)_e.warn(ye.message);else{const T=on.create("idb-get",{originalErrorMessage:ye?.message});_e.warn(T.message)}}})).apply(this,arguments)}function mo(Be,ye){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,V.A)(function*(Be,ye){try{const E=(yield Hs()).transaction(ir,"readwrite");yield E.objectStore(ir).put(ye,Qo(Be)),yield E.done}catch(T){if(T instanceof Ke.g)_e.warn(T.message);else{const E=on.create("idb-set",{originalErrorMessage:T?.message});_e.warn(E.message)}}})).apply(this,arguments)}function Qo(Be){return`${Be.name}!${Be.options.appId}`}class xr{constructor(ye){this.container=ye,this._heartbeatsCache=null;const T=this.container.getProvider("app").getImmediate();this._storage=new Gs(T),this._heartbeatsCachePromise=this._storage.read().then(E=>(this._heartbeatsCache=E,E))}triggerHeartbeat(){var ye=this;return(0,V.A)(function*(){var T,E;try{const O=ye.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),q=qs();return null==(null===(T=ye._heartbeatsCache)||void 0===T?void 0:T.heartbeats)&&(ye._heartbeatsCache=yield ye._heartbeatsCachePromise,null==(null===(E=ye._heartbeatsCache)||void 0===E?void 0:E.heartbeats))||ye._heartbeatsCache.lastSentHeartbeatDate===q||ye._heartbeatsCache.heartbeats.some(ge=>ge.date===q)?void 0:(ye._heartbeatsCache.heartbeats.push({date:q,agent:O}),ye._heartbeatsCache.heartbeats=ye._heartbeatsCache.heartbeats.filter(ge=>{const ke=new Date(ge.date).valueOf();return Date.now()-ke<=2592e6}),ye._storage.overwrite(ye._heartbeatsCache))}catch(k){_e.warn(k)}})()}getHeartbeatsHeader(){var ye=this;return(0,V.A)(function*(){var T;try{if(null===ye._heartbeatsCache&&(yield ye._heartbeatsCachePromise),null==(null===(T=ye._heartbeatsCache)||void 0===T?void 0:T.heartbeats)||0===ye._heartbeatsCache.heartbeats.length)return"";const E=qs(),{heartbeatsToSend:k,unsentEntries:O}=function Ws(Be,ye=1024){const T=[];let E=Be.slice();for(const k of Be){const O=T.find(q=>q.agent===k.agent);if(O){if(O.dates.push(k.date),fa(T)>ye){O.dates.pop();break}}else if(T.push({agent:k.agent,dates:[k.date]}),fa(T)>ye){T.pop();break}E=E.slice(1)}return{heartbeatsToSend:T,unsentEntries:E}}(ye._heartbeatsCache.heartbeats),q=(0,Ke.Uj)(JSON.stringify({version:2,heartbeats:k}));return ye._heartbeatsCache.lastSentHeartbeatDate=E,O.length>0?(ye._heartbeatsCache.heartbeats=O,yield ye._storage.overwrite(ye._heartbeatsCache)):(ye._heartbeatsCache.heartbeats=[],ye._storage.overwrite(ye._heartbeatsCache)),q}catch(E){return _e.warn(E),""}})()}}function qs(){return(new Date).toISOString().substring(0,10)}class Gs{constructor(ye){this.app=ye,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,V.A)(function*(){return!!(0,Ke.zW)()&&(0,Ke.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ye=this;return(0,V.A)(function*(){if(yield ye._canUseIndexedDBPromise){const E=yield function $o(Be){return vn.apply(this,arguments)}(ye.app);return E?.heartbeats?E:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ye){var T=this;return(0,V.A)(function*(){var E;if(yield T._canUseIndexedDBPromise){const O=yield T.read();return mo(T.app,{lastSentHeartbeatDate:null!==(E=ye.lastSentHeartbeatDate)&&void 0!==E?E:O.lastSentHeartbeatDate,heartbeats:ye.heartbeats})}})()}add(ye){var T=this;return(0,V.A)(function*(){var E;if(yield T._canUseIndexedDBPromise){const O=yield T.read();return mo(T.app,{lastSentHeartbeatDate:null!==(E=ye.lastSentHeartbeatDate)&&void 0!==E?E:O.lastSentHeartbeatDate,heartbeats:[...O.heartbeats,...ye.heartbeats]})}})()}}function fa(Be){return(0,Ke.Uj)(JSON.stringify({version:2,heartbeats:Be})).length}!function Ya(Be){st(new Ne.uA("platform-logger",ye=>new ei(ye),"PRIVATE")),st(new Ne.uA("heartbeat",ye=>new xr(ye),"PRIVATE")),So(tn,Nt,Be),So(tn,Nt,"esm2017"),So("fire-js","")}("")},779:(Go,Fi,it)=>{it.d(Fi,{h1:()=>tn,uA:()=>H});var V=it(467),Ne=it(401);class H{constructor(_e,Te,Ye){this.name=_e,this.instanceFactory=Te,this.type=Ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(_e){return this.instantiationMode=_e,this}setMultipleInstances(_e){return this.multipleInstances=_e,this}setServiceProps(_e){return this.serviceProps=_e,this}setInstanceCreatedCallback(_e){return this.onInstanceCreated=_e,this}}const Ke="[DEFAULT]";class kt{constructor(_e,Te){this.name=_e,this.container=Te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(_e){const Te=this.normalizeInstanceIdentifier(_e);if(!this.instancesDeferred.has(Te)){const Ye=new Ne.cY;if(this.instancesDeferred.set(Te,Ye),this.isInitialized(Te)||this.shouldAutoInitialize())try{const St=this.getOrInitializeService({instanceIdentifier:Te});St&&Ye.resolve(St)}catch{}}return this.instancesDeferred.get(Te).promise}getImmediate(_e){var Te;const Ye=this.normalizeInstanceIdentifier(_e?.identifier),St=null!==(Te=_e?.optional)&&void 0!==Te&&Te;if(!this.isInitialized(Ye)&&!this.shouldAutoInitialize()){if(St)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ye})}catch(Kt){if(St)return null;throw Kt}}getComponent(){return this.component}setComponent(_e){if(_e.name!==this.name)throw Error(`Mismatching Component ${_e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=_e,this.shouldAutoInitialize()){if(function ti(Nt){return"EAGER"===Nt.instantiationMode}(_e))try{this.getOrInitializeService({instanceIdentifier:Ke})}catch{}for(const[Te,Ye]of this.instancesDeferred.entries()){const St=this.normalizeInstanceIdentifier(Te);try{const Kt=this.getOrInitializeService({instanceIdentifier:St});Ye.resolve(Kt)}catch{}}}}clearInstance(_e=Ke){this.instancesDeferred.delete(_e),this.instancesOptions.delete(_e),this.instances.delete(_e)}delete(){var _e=this;return(0,V.A)(function*(){const Te=Array.from(_e.instances.values());yield Promise.all([...Te.filter(Ye=>"INTERNAL"in Ye).map(Ye=>Ye.INTERNAL.delete()),...Te.filter(Ye=>"_delete"in Ye).map(Ye=>Ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(_e=Ke){return this.instances.has(_e)}getOptions(_e=Ke){return this.instancesOptions.get(_e)||{}}initialize(_e={}){const{options:Te={}}=_e,Ye=this.normalizeInstanceIdentifier(_e.instanceIdentifier);if(this.isInitialized(Ye))throw Error(`${this.name}(${Ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const St=this.getOrInitializeService({instanceIdentifier:Ye,options:Te});for(const[Kt,Mi]of this.instancesDeferred.entries())Ye===this.normalizeInstanceIdentifier(Kt)&&Mi.resolve(St);return St}onInit(_e,Te){var Ye;const St=this.normalizeInstanceIdentifier(Te),Kt=null!==(Ye=this.onInitCallbacks.get(St))&&void 0!==Ye?Ye:new Set;Kt.add(_e),this.onInitCallbacks.set(St,Kt);const Mi=this.instances.get(St);return Mi&&_e(Mi,St),()=>{Kt.delete(_e)}}invokeOnInitCallbacks(_e,Te){const Ye=this.onInitCallbacks.get(Te);if(Ye)for(const St of Ye)try{St(_e,Te)}catch{}}getOrInitializeService({instanceIdentifier:_e,options:Te={}}){let Ye=this.instances.get(_e);if(!Ye&&this.component&&(Ye=this.component.instanceFactory(this.container,{instanceIdentifier:(Nt=_e,Nt===Ke?void 0:Nt),options:Te}),this.instances.set(_e,Ye),this.instancesOptions.set(_e,Te),this.invokeOnInitCallbacks(Ye,_e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,_e,Ye)}catch{}var Nt;return Ye||null}normalizeInstanceIdentifier(_e=Ke){return this.component?this.component.multipleInstances?_e:Ke:_e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class tn{constructor(_e){this.name=_e,this.providers=new Map}addComponent(_e){const Te=this.getProvider(_e.name);if(Te.isComponentSet())throw new Error(`Component ${_e.name} has already been registered with ${this.name}`);Te.setComponent(_e)}addOrOverwriteComponent(_e){this.getProvider(_e.name).isComponentSet()&&this.providers.delete(_e.name),this.addComponent(_e)}getProvider(_e){if(this.providers.has(_e))return this.providers.get(_e);const Te=new kt(_e,this);return this.providers.set(_e,Te),Te}getProviders(){return Array.from(this.providers.values())}}},398:(Go,Fi,it)=>{it.d(Fi,{$b:()=>Ne,Ey:()=>Nt,He:()=>tn,Vy:()=>ti});const V=[];var Ne=function(_e){return _e[_e.DEBUG=0]="DEBUG",_e[_e.VERBOSE=1]="VERBOSE",_e[_e.INFO=2]="INFO",_e[_e.WARN=3]="WARN",_e[_e.ERROR=4]="ERROR",_e[_e.SILENT=5]="SILENT",_e}(Ne||{});const H={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},Ke=Ne.INFO,kt={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},ei=(_e,Te,...Ye)=>{if(Te<_e.logLevel)return;const St=(new Date).toISOString(),Kt=kt[Te];if(!Kt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Te})`);console[Kt](`[${St}]  ${_e.name}:`,...Ye)};class ti{constructor(Te){this.name=Te,this._logLevel=Ke,this._logHandler=ei,this._userLogHandler=null,V.push(this)}get logLevel(){return this._logLevel}set logLevel(Te){if(!(Te in Ne))throw new TypeError(`Invalid value "${Te}" assigned to \`logLevel\``);this._logLevel=Te}setLogLevel(Te){this._logLevel="string"==typeof Te?H[Te]:Te}get logHandler(){return this._logHandler}set logHandler(Te){if("function"!=typeof Te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Te}get userLogHandler(){return this._userLogHandler}set userLogHandler(Te){this._userLogHandler=Te}debug(...Te){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...Te),this._logHandler(this,Ne.DEBUG,...Te)}log(...Te){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...Te),this._logHandler(this,Ne.VERBOSE,...Te)}info(...Te){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...Te),this._logHandler(this,Ne.INFO,...Te)}warn(...Te){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...Te),this._logHandler(this,Ne.WARN,...Te)}error(...Te){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...Te),this._logHandler(this,Ne.ERROR,...Te)}}function tn(_e){V.forEach(Te=>{Te.setLogLevel(_e)})}function Nt(_e,Te){for(const Ye of V){let St=null;Te&&Te.level&&(St=H[Te.level]),Ye.userLogHandler=null===_e?null:(Kt,Mi,...Bt)=>{const bt=Bt.map(ot=>{if(null==ot)return null;if("string"==typeof ot)return ot;if("number"==typeof ot||"boolean"==typeof ot)return ot.toString();if(ot instanceof Error)return ot.message;try{return JSON.stringify(ot)}catch{return null}}).filter(ot=>ot).join(" ");Mi>=(St??Kt.logLevel)&&_e({level:Ne[Mi].toLowerCase(),message:bt,args:Bt,type:Kt.name})}}}},46:(Go,Fi,it)=>{var V=it(467),Ne=it(574),H=it(443),Ke=it(401),ti=(it(631),it(398),it(779));function tn(){return window}function Te(){return Te=(0,V.A)(function*(T,E,k){var O;const{BuildInfo:q}=tn();(0,H.au)(E.sessionId,"AuthEvent did not contain a session ID");const ge=yield function ot(T){return di.apply(this,arguments)}(E.sessionId),ke={};return(0,H.av)()?ke.ibi=q.packageName:(0,H.aw)()?ke.apn=q.packageName:(0,H.ax)(T,"operation-not-supported-in-this-environment"),q.displayName&&(ke.appDisplayName=q.displayName),ke.sessionId=ge,(0,H.ay)(T,k,E.type,void 0,null!==(O=E.eventId)&&void 0!==O?O:void 0,ke)}),Te.apply(this,arguments)}function St(){return(St=(0,V.A)(function*(T){const{BuildInfo:E}=tn(),k={};(0,H.av)()?k.iosBundleId=E.packageName:(0,H.aw)()?k.androidPackageName=E.packageName:(0,H.ax)(T,"operation-not-supported-in-this-environment"),yield(0,H.az)(T,k)})).apply(this,arguments)}function Bt(){return(Bt=(0,V.A)(function*(T,E,k){const{cordova:O}=tn();let q=()=>{};try{yield new Promise((ge,ke)=>{let Ze=null;function Qt(){var Le;ge();const ui=null===(Le=O.plugins.browsertab)||void 0===Le?void 0:Le.close;"function"==typeof ui&&ui(),"function"==typeof k?.close&&k.close()}function Xe(){Ze||(Ze=window.setTimeout(()=>{ke((0,H.aB)(T,"redirect-cancelled-by-user"))},2e3))}function Gn(){"visible"===document?.visibilityState&&Xe()}E.addPassiveListener(Qt),document.addEventListener("resume",Xe,!1),(0,H.aw)()&&document.addEventListener("visibilitychange",Gn,!1),q=()=>{E.removePassiveListener(Qt),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",Gn,!1),Ze&&window.clearTimeout(Ze)}})}finally{q()}})).apply(this,arguments)}function di(){return(di=(0,V.A)(function*(T){const E=function jn(T){if((0,H.au)(/[0-9a-zA-Z]+/.test(T),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(T);const E=new ArrayBuffer(T.length),k=new Uint8Array(E);for(let O=0;O<T.length;O++)k[O]=T.charCodeAt(O);return k}(T),k=yield crypto.subtle.digest("SHA-256",E);return Array.from(new Uint8Array(k)).map(q=>q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class pn extends H.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(E=>{this.resolveInitialized=E})}addPassiveListener(E){this.passiveListeners.add(E)}removePassiveListener(E){this.passiveListeners.delete(E)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(E){return this.resolveInitialized(),this.passiveListeners.forEach(k=>k(E)),super.onEvent(E)}initialized(){var E=this;return(0,V.A)(function*(){yield E.initPromise})()}}function Et(T){return De.apply(this,arguments)}function De(){return(De=(0,V.A)(function*(T){const E=yield It()._get(qt(T));return E&&(yield It()._remove(qt(T))),E})).apply(this,arguments)}function et(){const T=[];for(let k=0;k<20;k++){const O=Math.floor(62*Math.random());T.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(O))}return T.join("")}function It(){return(0,H.aE)(H.b)}function qt(T){return(0,H.aF)("authEvent",T.config.apiKey,T.name)}function at(T){if(!T?.includes("?"))return{};const[E,...k]=T.split("?");return(0,Ke.I9)(k.join("?"))}const Wr=class qi{constructor(){this._redirectPersistence=H.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=H.aG,this._overrideRedirectResult=H.aH}_initialize(E){var k=this;return(0,V.A)(function*(){const O=E._key();let q=k.eventManagers.get(O);return q||(q=new pn(E),k.eventManagers.set(O,q),k.attachCallbackListeners(E,q)),q})()}_openPopup(E){(0,H.ax)(E,"operation-not-supported-in-this-environment")}_openRedirect(E,k,O,q){var ge=this;return(0,V.A)(function*(){!function bt(T){var E,k,O,q,ge,ke,Ze,Qt,Xe,Gn;const Le=tn();(0,H.aC)("function"==typeof(null===(E=Le?.universalLinks)||void 0===E?void 0:E.subscribe),T,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,H.aC)(typeof(null===(k=Le?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,H.aC)("function"==typeof(null===(ge=null===(q=null===(O=Le?.cordova)||void 0===O?void 0:O.plugins)||void 0===q?void 0:q.browsertab)||void 0===ge?void 0:ge.openUrl),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.aC)("function"==typeof(null===(Qt=null===(Ze=null===(ke=Le?.cordova)||void 0===ke?void 0:ke.plugins)||void 0===Ze?void 0:Ze.browsertab)||void 0===Qt?void 0:Qt.isAvailable),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.aC)("function"==typeof(null===(Gn=null===(Xe=Le?.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===Gn?void 0:Gn.open),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(E);const ke=yield ge._initialize(E);yield ke.initialized(),ke.resetRedirect(),(0,H.aI)(),yield ge._originValidation(E);const Ze=function vr(T,E,k=null){return{type:E,eventId:k,urlResponse:null,sessionId:et(),postBody:null,tenantId:T.tenantId,error:(0,H.aB)(T,"no-auth-event")}}(E,O,q);yield function Ht(T,E){return It()._set(qt(T),E)}(E,Ze);const Qt=yield function _e(T,E,k){return Te.apply(this,arguments)}(E,Ze,k),Xe=yield function Kt(T){const{cordova:E}=tn();return new Promise(k=>{E.plugins.browsertab.isAvailable(O=>{let q=null;O?E.plugins.browsertab.openUrl(T):q=E.InAppBrowser.open(T,(0,H.aA)()?"_blank":"_system","location=yes"),k(q)})})}(Qt);return function Mi(T,E,k){return Bt.apply(this,arguments)}(E,ke,Xe)})()}_isIframeWebStorageSupported(E,k){throw new Error("Method not implemented.")}_originValidation(E){const k=E._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function Ye(T){return St.apply(this,arguments)}(E)),this.originValidationPromises[k]}attachCallbackListeners(E,k){const{universalLinks:O,handleOpenURL:q,BuildInfo:ge}=tn(),ke=setTimeout((0,V.A)(function*(){yield Et(E),k.onEvent(_s())}),500),Ze=function(){var Gn=(0,V.A)(function*(Le){clearTimeout(ke);const ui=yield Et(E);let vs=null;ui&&Le?.url&&(vs=function oe(T,E){var k,O;const q=function Sn(T){const E=at(T),k=E.link?decodeURIComponent(E.link):void 0,O=at(k).link,q=E.deep_link_id?decodeURIComponent(E.deep_link_id):void 0;return at(q).link||q||O||k||T}(E);if(q.includes("/__/auth/callback")){const ge=at(q),ke=ge.firebaseError?function zn(T){try{return JSON.parse(T)}catch{return null}}(decodeURIComponent(ge.firebaseError)):null,Ze=null===(O=null===(k=ke?.code)||void 0===k?void 0:k.split("auth/"))||void 0===O?void 0:O[1],Qt=Ze?(0,H.aB)(Ze):null;return Qt?{type:T.type,eventId:T.eventId,tenantId:T.tenantId,error:Qt,urlResponse:null,sessionId:null,postBody:null}:{type:T.type,eventId:T.eventId,tenantId:T.tenantId,sessionId:T.sessionId,urlResponse:q,postBody:null}}return null}(ui,Le.url)),k.onEvent(vs||_s())});return function(ui){return Gn.apply(this,arguments)}}();typeof O<"u"&&"function"==typeof O.subscribe&&O.subscribe(null,Ze);const Qt=q,Xe=`${ge.packageName.toLowerCase()}://`;tn().handleOpenURL=function(){var Gn=(0,V.A)(function*(Le){if(Le.toLowerCase().startsWith(Xe)&&Ze({url:Le}),"function"==typeof Qt)try{Qt(Le)}catch(ui){console.error(ui)}});return function(Le){return Gn.apply(this,arguments)}}()}};function _s(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,H.aB)("no-auth-event")}}function me(){var T;return(null===(T=self?.location)||void 0===T?void 0:T.protocol)||null}function pe(T=(0,Ke.ZQ)()){return!("file:"!==me()&&"ionic:"!==me()&&"capacitor:"!==me()||!T.toLowerCase().match(/iphone|ipad|ipod|android/))}function qn(){try{const T=self.localStorage,E=H.aN();if(T)return T.setItem(E,"1"),T.removeItem(E),!function nn(T=(0,Ke.ZQ)()){return function En(){return(0,Ke.lT)()&&11===document?.documentMode}()||function ut(T=(0,Ke.ZQ)()){return/Edge\/\d+/.test(T)}(T)}()||(0,Ke.zW)()}catch{return Wi()&&(0,Ke.zW)()}return!1}function Wi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function rn(){return(function Ae(){return"http:"===me()||"https:"===me()}()||(0,Ke.sr)()||pe())&&!function st(){return(0,Ke.lV)()||(0,Ke.Ll)()}()&&qn()&&!Wi()}function on(){return pe()&&typeof document<"u"}function Gi(){return(Gi=(0,V.A)(function*(){return!!on()&&new Promise(T=>{const E=setTimeout(()=>{T(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(E),T(!0)})})})).apply(this,arguments)}const Wt={LOCAL:"local",NONE:"none",SESSION:"session"},Gr=H.aC,js="persistence";function bs(T){return $r.apply(this,arguments)}function $r(){return($r=(0,V.A)(function*(T){yield T._initializationPromise;const E=zs(),k=H.aF(js,T.config.apiKey,T.name);E&&E.setItem(k,T._getPersistence())})).apply(this,arguments)}function zs(){var T;try{return(null===(T=function nr(){return typeof window<"u"?window:null}())||void 0===T?void 0:T.sessionStorage)||null}catch{return null}}const $i=H.aC;class fo{constructor(){this.browserResolver=H.aE(H.k),this.cordovaResolver=H.aE(Wr),this.underlyingResolver=null,this._redirectPersistence=H.a,this._completeRedirectFn=H.aG,this._overrideRedirectResult=H.aH}_initialize(E){var k=this;return(0,V.A)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(E)})()}_openPopup(E,k,O,q){var ge=this;return(0,V.A)(function*(){return yield ge.selectUnderlyingResolver(),ge.assertedUnderlyingResolver._openPopup(E,k,O,q)})()}_openRedirect(E,k,O,q){var ge=this;return(0,V.A)(function*(){return yield ge.selectUnderlyingResolver(),ge.assertedUnderlyingResolver._openRedirect(E,k,O,q)})()}_isIframeWebStorageSupported(E,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(E,k)}_originValidation(E){return this.assertedUnderlyingResolver._originValidation(E)}get _shouldInitProactively(){return on()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $i(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var E=this;return(0,V.A)(function*(){if(E.underlyingResolver)return;const k=yield function Ci(){return Gi.apply(this,arguments)}();E.underlyingResolver=k?E.cordovaResolver:E.browserResolver})()}}function Wn(T){return T.unwrap()}function ni(T){return $o(T)}function $o(T){const{_tokenResponse:E}=T instanceof Ke.g?T.customData:T;if(!E)return null;if(!(T instanceof Ke.g)&&"temporaryProof"in E&&"phoneNumber"in E)return H.P.credentialFromResult(T);const k=E.providerId;if(!k||k===H.p.PASSWORD)return null;let O;switch(k){case H.p.GOOGLE:O=H.X;break;case H.p.FACEBOOK:O=H.W;break;case H.p.GITHUB:O=H.Y;break;case H.p.TWITTER:O=H.$;break;default:const{oauthIdToken:q,oauthAccessToken:ge,oauthTokenSecret:ke,pendingToken:Ze,nonce:Qt}=E;return ge||ke||q||Ze?Ze?k.startsWith("saml.")?H.aQ._create(k,Ze):H.N._fromParams({providerId:k,signInMethod:k,pendingToken:Ze,idToken:q,accessToken:ge}):new H.Z(k).credential({idToken:q,accessToken:ge,rawNonce:Qt}):null}return T instanceof Ke.g?O.credentialFromError(T):O.credentialFromResult(T)}function vn(T,E){return E.catch(k=>{throw k instanceof Ke.g&&function Hs(T,E){var k;const O=null===(k=E.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===E?.code)E.resolver=new Qo(T,H.as(T,E));else if(O){const q=$o(E),ge=E;q&&(ge.credential=q,ge.tenantId=O.tenantId||void 0,ge.email=O.email||void 0,ge.phoneNumber=O.phoneNumber||void 0)}}(T,k),k}).then(k=>{const q=k.user;return{operationType:k.operationType,credential:ni(k),additionalUserInfo:H.aq(k),user:yr.getOrCreate(q)}})}function mo(T,E){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,V.A)(function*(T,E){const k=yield E;return{verificationId:k.verificationId,confirm:O=>vn(T,k.confirm(O))}})).apply(this,arguments)}class Qo{constructor(E,k){this.resolver=k,this.auth=function ir(T){return T.wrapped()}(E)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(E){return vn(Wn(this.auth),this.resolver.resolveSignIn(E))}}class yr{constructor(E){this._delegate=E,this.multiFactor=H.at(E)}static getOrCreate(E){return yr.USER_MAP.has(E)||yr.USER_MAP.set(E,new yr(E)),yr.USER_MAP.get(E)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(E){return this._delegate.getIdTokenResult(E)}getIdToken(E){return this._delegate.getIdToken(E)}linkAndRetrieveDataWithCredential(E){return this.linkWithCredential(E)}linkWithCredential(E){var k=this;return(0,V.A)(function*(){return vn(k.auth,H.a2(k._delegate,E))})()}linkWithPhoneNumber(E,k){var O=this;return(0,V.A)(function*(){return mo(O.auth,H.l(O._delegate,E,k))})()}linkWithPopup(E){var k=this;return(0,V.A)(function*(){return vn(k.auth,H.d(k._delegate,E,fo))})()}linkWithRedirect(E){var k=this;return(0,V.A)(function*(){return yield bs(H.aJ(k.auth)),H.g(k._delegate,E,fo)})()}reauthenticateAndRetrieveDataWithCredential(E){return this.reauthenticateWithCredential(E)}reauthenticateWithCredential(E){var k=this;return(0,V.A)(function*(){return vn(k.auth,H.a3(k._delegate,E))})()}reauthenticateWithPhoneNumber(E,k){return mo(this.auth,H.r(this._delegate,E,k))}reauthenticateWithPopup(E){return vn(this.auth,H.e(this._delegate,E,fo))}reauthenticateWithRedirect(E){var k=this;return(0,V.A)(function*(){return yield bs(H.aJ(k.auth)),H.h(k._delegate,E,fo)})()}sendEmailVerification(E){return H.ag(this._delegate,E)}unlink(E){var k=this;return(0,V.A)(function*(){return yield H.ap(k._delegate,E),k})()}updateEmail(E){return H.al(this._delegate,E)}updatePassword(E){return H.am(this._delegate,E)}updatePhoneNumber(E){return H.u(this._delegate,E)}updateProfile(E){return H.ak(this._delegate,E)}verifyBeforeUpdateEmail(E,k){return H.ah(this._delegate,E,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}yr.USER_MAP=new WeakMap;const Pi=H.aC;let xr=(()=>{class T{constructor(k,O){if(this.app=k,O.isInitialized())return this._delegate=O.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:q}=k.options;Pi(q,"invalid-api-key",{appName:k.name}),Pi(q,"invalid-api-key",{appName:k.name});const ge=typeof window<"u"?fo:void 0;this._delegate=O.initialize({options:{persistence:Ws(q,k.name),popupRedirectResolver:ge}}),this._delegate._updateErrorMap(H.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?yr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,O){H.K(this._delegate,k,O)}applyActionCode(k){return H.a7(this._delegate,k)}checkActionCode(k){return H.a8(this._delegate,k)}confirmPasswordReset(k,O){return H.a6(this._delegate,k,O)}createUserWithEmailAndPassword(k,O){var q=this;return(0,V.A)(function*(){return vn(q._delegate,H.aa(q._delegate,k,O))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return H.af(this._delegate,k)}isSignInWithEmailLink(k){return H.ad(this._delegate,k)}getRedirectResult(){var k=this;return(0,V.A)(function*(){Pi(rn(),k._delegate,"operation-not-supported-in-this-environment");const O=yield H.j(k._delegate,fo);return O?vn(k._delegate,Promise.resolve(O)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function Q(T,E){(0,H.aJ)(T)._logFramework(E)}(this._delegate,k)}onAuthStateChanged(k,O,q){const{next:ge,error:ke,complete:Ze}=qs(k,O,q);return this._delegate.onAuthStateChanged(ge,ke,Ze)}onIdTokenChanged(k,O,q){const{next:ge,error:ke,complete:Ze}=qs(k,O,q);return this._delegate.onIdTokenChanged(ge,ke,Ze)}sendSignInLinkToEmail(k,O){return H.ac(this._delegate,k,O)}sendPasswordResetEmail(k,O){return H.a5(this._delegate,k,O||void 0)}setPersistence(k){var O=this;return(0,V.A)(function*(){let q;switch(function ha(T,E){Gr(Object.values(Wt).includes(E),T,"invalid-persistence-type"),(0,Ke.lV)()?Gr(E!==Wt.SESSION,T,"unsupported-persistence-type"):(0,Ke.Ll)()?Gr(E===Wt.NONE,T,"unsupported-persistence-type"):Wi()?Gr(E===Wt.NONE||E===Wt.LOCAL&&(0,Ke.zW)(),T,"unsupported-persistence-type"):Gr(E===Wt.NONE||qn(),T,"unsupported-persistence-type")}(O._delegate,k),k){case Wt.SESSION:q=H.a;break;case Wt.LOCAL:q=(yield H.aE(H.i)._isAvailable())?H.i:H.b;break;case Wt.NONE:q=H.U;break;default:return H.ax("argument-error",{appName:O._delegate.name})}return O._delegate.setPersistence(q)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return vn(this._delegate,H.a0(this._delegate))}signInWithCredential(k){return vn(this._delegate,H.a1(this._delegate,k))}signInWithCustomToken(k){return vn(this._delegate,H.a4(this._delegate,k))}signInWithEmailAndPassword(k,O){return vn(this._delegate,H.ab(this._delegate,k,O))}signInWithEmailLink(k,O){return vn(this._delegate,H.ae(this._delegate,k,O))}signInWithPhoneNumber(k,O){return mo(this._delegate,H.s(this._delegate,k,O))}signInWithPopup(k){var O=this;return(0,V.A)(function*(){return Pi(rn(),O._delegate,"operation-not-supported-in-this-environment"),vn(O._delegate,H.c(O._delegate,k,fo))})()}signInWithRedirect(k){var O=this;return(0,V.A)(function*(){return Pi(rn(),O._delegate,"operation-not-supported-in-this-environment"),yield bs(O._delegate),H.f(O._delegate,k,fo)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return H.a9(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return T.Persistence=Wt,T})();function qs(T,E,k){let O=T;"function"!=typeof T&&({next:O,error:E,complete:k}=T);const q=O;return{next:ke=>q(ke&&yr.getOrCreate(ke)),error:E,complete:k}}function Ws(T,E){const k=function So(T,E){const k=zs();if(!k)return[];const O=H.aF(js,T,E);switch(k.getItem(O)){case Wt.NONE:return[H.U];case Wt.LOCAL:return[H.i,H.a];case Wt.SESSION:return[H.a];default:return[]}}(T,E);if(typeof self<"u"&&!k.includes(H.i)&&k.push(H.i),typeof window<"u")for(const O of[H.b,H.a])k.includes(O)||k.push(O);return k.includes(H.U)||k.push(H.U),k}class Gs{constructor(){this.providerId="phone",this._delegate=new H.P(Wn(Ne.A.auth()))}static credential(E,k){return H.P.credential(E,k)}verifyPhoneNumber(E,k){return this._delegate.verifyPhoneNumber(E,k)}unwrap(){return this._delegate}}Gs.PHONE_SIGN_IN_METHOD=H.P.PHONE_SIGN_IN_METHOD,Gs.PROVIDER_ID=H.P.PROVIDER_ID;const fa=H.aC;class Ya{constructor(E,k,O=Ne.A.app()){var q;fa(null===(q=O.options)||void 0===q?void 0:q.apiKey,"invalid-api-key",{appName:O.name}),this._delegate=new H.R(O.auth(),E,k),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ye(T){T.INTERNAL.registerComponent(new ti.uA("auth-compat",E=>{const k=E.getProvider("app-compat").getImmediate(),O=E.getProvider("auth");return new xr(k,O)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:H.A.EMAIL_SIGNIN,PASSWORD_RESET:H.A.PASSWORD_RESET,RECOVER_EMAIL:H.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:H.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:H.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:H.A.VERIFY_EMAIL}},EmailAuthProvider:H.V,FacebookAuthProvider:H.W,GithubAuthProvider:H.Y,GoogleAuthProvider:H.X,OAuthProvider:H.Z,SAMLAuthProvider:H._,PhoneAuthProvider:Gs,PhoneMultiFactorGenerator:H.m,RecaptchaVerifier:Ya,TwitterAuthProvider:H.$,Auth:xr,AuthCredential:H.L,Error:Ke.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),T.registerVersion("@firebase/auth-compat","0.5.14")}(Ne.A)},749:(Go,Fi,it)=>{it.d(Fi,{P2:()=>jn});var V=it(467);const Ne=(De,oe)=>oe.some(et=>De instanceof et);let H,Ke;const ti=new WeakMap,tn=new WeakMap,Nt=new WeakMap,_e=new WeakMap,Te=new WeakMap;let Kt={get(De,oe,et){if(De instanceof IDBTransaction){if("done"===oe)return tn.get(De);if("objectStoreNames"===oe)return De.objectStoreNames||Nt.get(De);if("store"===oe)return et.objectStoreNames[1]?void 0:et.objectStore(et.objectStoreNames[0])}return ot(De[oe])},set:(De,oe,et)=>(De[oe]=et,!0),has:(De,oe)=>De instanceof IDBTransaction&&("done"===oe||"store"===oe)||oe in De};function bt(De){return"function"==typeof De?function Bt(De){return De!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ei(){return Ke||(Ke=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(De)?function(...oe){return De.apply(di(this),oe),ot(ti.get(this))}:function(...oe){return ot(De.apply(di(this),oe))}:function(oe,...et){const It=De.call(di(this),oe,...et);return Nt.set(It,oe.sort?oe.sort():[oe]),ot(It)}}(De):(De instanceof IDBTransaction&&function St(De){if(tn.has(De))return;const oe=new Promise((et,It)=>{const qt=()=>{De.removeEventListener("complete",zn),De.removeEventListener("error",Sn),De.removeEventListener("abort",Sn)},zn=()=>{et(),qt()},Sn=()=>{It(De.error||new DOMException("AbortError","AbortError")),qt()};De.addEventListener("complete",zn),De.addEventListener("error",Sn),De.addEventListener("abort",Sn)});tn.set(De,oe)}(De),Ne(De,function kt(){return H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(De,Kt):De)}function ot(De){if(De instanceof IDBRequest)return function Ye(De){const oe=new Promise((et,It)=>{const qt=()=>{De.removeEventListener("success",zn),De.removeEventListener("error",Sn)},zn=()=>{et(ot(De.result)),qt()},Sn=()=>{It(De.error),qt()};De.addEventListener("success",zn),De.addEventListener("error",Sn)});return oe.then(et=>{et instanceof IDBCursor&&ti.set(et,De)}).catch(()=>{}),Te.set(oe,De),oe}(De);if(_e.has(De))return _e.get(De);const oe=bt(De);return oe!==De&&(_e.set(De,oe),Te.set(oe,De)),oe}const di=De=>Te.get(De);function jn(De,oe,{blocked:et,upgrade:It,blocking:qt,terminated:zn}={}){const Sn=indexedDB.open(De,oe),at=ot(Sn);return It&&Sn.addEventListener("upgradeneeded",Hn=>{It(ot(Sn.result),Hn.oldVersion,Hn.newVersion,ot(Sn.transaction),Hn)}),et&&Sn.addEventListener("blocked",Hn=>et(Hn.oldVersion,Hn.newVersion,Hn)),at.then(Hn=>{zn&&Hn.addEventListener("close",()=>zn()),qt&&Hn.addEventListener("versionchange",qi=>qt(qi.oldVersion,qi.newVersion,qi))}).catch(()=>{}),at}const pn=["get","getKey","getAll","getAllKeys","count"],vr=["put","add","delete","clear"],Ht=new Map;function Et(De,oe){if(!(De instanceof IDBDatabase)||oe in De||"string"!=typeof oe)return;if(Ht.get(oe))return Ht.get(oe);const et=oe.replace(/FromIndex$/,""),It=oe!==et,qt=vr.includes(et);if(!(et in(It?IDBIndex:IDBObjectStore).prototype)||!qt&&!pn.includes(et))return;const zn=function(){var Sn=(0,V.A)(function*(at,...Hn){const qi=this.transaction(at,qt?"readwrite":"readonly");let Wr=qi.store;return It&&(Wr=Wr.index(Hn.shift())),(yield Promise.all([Wr[et](...Hn),qt&&qi.done]))[0]});return function(Hn){return Sn.apply(this,arguments)}}();return Ht.set(oe,zn),zn}!function Mi(De){Kt=De(Kt)}(De=>({...De,get:(oe,et,It)=>Et(oe,et)||De.get(oe,et,It),has:(oe,et)=>!!Et(oe,et)||De.has(oe,et)}))},467:(Go,Fi,it)=>{function V(H,Ke,kt,ei,ti,tn,Nt){try{var _e=H[tn](Nt),Te=_e.value}catch(Ye){return void kt(Ye)}_e.done?Ke(Te):Promise.resolve(Te).then(ei,ti)}function Ne(H){return function(){var Ke=this,kt=arguments;return new Promise(function(ei,ti){var tn=H.apply(Ke,kt);function Nt(Te){V(tn,ei,ti,Nt,_e,"next",Te)}function _e(Te){V(tn,ei,ti,Nt,_e,"throw",Te)}Nt(void 0)})}}it.d(Fi,{A:()=>Ne})},635:(Go,Fi,it)=>{function Ke(Q,le){var se={};for(var te in Q)Object.prototype.hasOwnProperty.call(Q,te)&&le.indexOf(te)<0&&(se[te]=Q[te]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(te=Object.getOwnPropertySymbols(Q);me<te.length;me++)le.indexOf(te[me])<0&&Object.prototype.propertyIsEnumerable.call(Q,te[me])&&(se[te[me]]=Q[te[me]])}return se}function Ye(Q,le,se,te){return new(se||(se=Promise))(function(Ae,pe){function st(nn){try{ut(te.next(nn))}catch(qn){pe(qn)}}function En(nn){try{ut(te.throw(nn))}catch(qn){pe(qn)}}function ut(nn){nn.done?Ae(nn.value):function me(Ae){return Ae instanceof se?Ae:new se(function(pe){pe(Ae)})}(nn.value).then(st,En)}ut((te=te.apply(Q,le||[])).next())})}function mn(Q){return this instanceof mn?(this.v=Q,this):new mn(Q)}function pn(Q,le,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,te=se.apply(Q,le||[]),Ae=[];return me=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),st("next"),st("throw"),st("return",function pe(rn){return function(on){return Promise.resolve(on).then(rn,qn)}}),me[Symbol.asyncIterator]=function(){return this},me;function st(rn,on){te[rn]&&(me[rn]=function(Ci){return new Promise(function(Gi,nr){Ae.push([rn,Ci,Gi,nr])>1||En(rn,Ci)})},on&&(me[rn]=on(me[rn])))}function En(rn,on){try{!function ut(rn){rn.value instanceof mn?Promise.resolve(rn.value.v).then(nn,qn):Wi(Ae[0][2],rn)}(te[rn](on))}catch(Ci){Wi(Ae[0][3],Ci)}}function nn(rn){En("next",rn)}function qn(rn){En("throw",rn)}function Wi(rn,on){rn(on),Ae.shift(),Ae.length&&En(Ae[0][0],Ae[0][1])}}function Ht(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,le=Q[Symbol.asyncIterator];return le?le.call(Q):(Q=function Bt(Q){var le="function"==typeof Symbol&&Symbol.iterator,se=le&&Q[le],te=0;if(se)return se.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&te>=Q.length&&(Q=void 0),{value:Q&&Q[te++],done:!Q}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),se={},te("next"),te("throw"),te("return"),se[Symbol.asyncIterator]=function(){return this},se);function te(Ae){se[Ae]=Q[Ae]&&function(pe){return new Promise(function(st,En){!function me(Ae,pe,st,En){Promise.resolve(En).then(function(ut){Ae({value:ut,done:st})},pe)}(st,En,(pe=Q[Ae](pe)).done,pe.value)})}}}it.d(Fi,{AQ:()=>pn,N3:()=>mn,Tt:()=>Ke,sH:()=>Ye,xN:()=>Ht}),"function"==typeof SuppressedError&&SuppressedError}},Go=>{Go(Go.s=206)}]);