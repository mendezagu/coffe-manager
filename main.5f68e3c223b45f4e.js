"use strict";(self.webpackChunkcoffe_manager=self.webpackChunkcoffe_manager||[]).push([[792],{443:(Ho,Mi,tt)=>{tt.d(Mi,{$:()=>hy,A:()=>Ee,C:()=>HC,G:()=>$t,K:()=>ny,L:()=>ua,N:()=>_s,P:()=>Wr,R:()=>JC,U:()=>Ye,V:()=>Ko,W:()=>ln,X:()=>gh,Y:()=>pp,Z:()=>jr,_:()=>fa,a:()=>Ty,a0:()=>Id,a1:()=>bh,a2:()=>gy,a3:()=>_y,a4:()=>BC,a5:()=>go,a6:()=>vy,a7:()=>UC,a8:()=>ai,a9:()=>Dt,aA:()=>Xb,aB:()=>un,aC:()=>ie,aD:()=>Gp,aE:()=>me,aF:()=>qt,aG:()=>$p,aH:()=>Gy,aI:()=>rA,aJ:()=>si,aN:()=>wr,aQ:()=>Za,aa:()=>Yo,ab:()=>yr,ac:()=>tc,ad:()=>pa,ae:()=>nc,af:()=>ic,ag:()=>Sd,ah:()=>bs,ak:()=>Ws,al:()=>Dd,am:()=>zt,ap:()=>LC,aq:()=>Hr,as:()=>LF,at:()=>Ay,au:()=>yt,av:()=>sp,aw:()=>ut,ax:()=>dn,ay:()=>uc,az:()=>qp,b:()=>Gs,c:()=>jy,d:()=>$y,e:()=>Hy,f:()=>oA,g:()=>Yy,h:()=>Rt,i:()=>Ah,j:()=>Hp,k:()=>ol,l:()=>Fp,m:()=>KF,o:()=>s0,p:()=>Jt,r:()=>ws,s:()=>Uy,u:()=>Vp,y:()=>jC});var N=tt(467),Me=tt(631),B=tt(401),Ge=tt(398),ft=tt(635),Yn=tt(779);const Jt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ee={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const $t=function Ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ai=function Tt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Lt=new B.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new Ge.Vy("@firebase/auth");function Ln(g,...u){nt.logLevel<=Ge.$b.ERROR&&nt.error(`Auth (${Me.SDK_VERSION}): ${g}`,...u)}function dn(g,...u){throw Se(g,...u)}function un(g,...u){return Se(g,...u)}function pr(g,u,f){const _=Object.assign(Object.assign({},Ai()),{[u]:f});return new B.FA("auth","Firebase",_).create(u,{appName:g.name})}function Bt(g){return pr(g,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bt(g,u,f){if(!(u instanceof f))throw f.name!==u.constructor.name&&dn(g,"argument-error"),pr(g,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Se(g,...u){if("string"!=typeof g){const f=u[0],_=[...u.slice(1)];return _[0]&&(_[0].appName=g.name),g._errorFactory.create(f,..._)}return Lt.create(g,...u)}function ie(g,u,...f){if(!g)throw Se(u,...f)}function Ze(g){const u="INTERNAL ASSERTION FAILED: "+g;throw Ln(u),new Error(u)}function yt(g,u){g||Ze(u)}function Wt(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function Vn(){return"http:"===Cn()||"https:"===Cn()}function Cn(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class zi{constructor(u,f){this.shortDelay=u,this.longDelay=f,yt(f>u,"Short delay should be less than long delay!"),this.isMobile=(0,B.jZ)()||(0,B.lV)()}get(){return function rt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Vn()||(0,B.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Br(g,u){yt(g.emulator,"Emulator should always be set here");const{url:f}=g.emulator;return u?`${f}${u.startsWith("/")?u.slice(1):u}`:f}class ms{static initialize(u,f,_){this.fetchImpl=u,f&&(this.headersImpl=f),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const W={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},se=new zi(3e4,6e4);function re(g,u){return g.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:g.tenantId}):u}function J(g,u,f,_){return he.apply(this,arguments)}function he(){return(he=(0,N.A)(function*(g,u,f,_,C={}){return Ce(g,C,(0,N.A)(function*(){let D={},Y={};_&&("GET"===u?Y=_:D={body:JSON.stringify(_)});const oe=(0,B.Am)(Object.assign({key:g.config.apiKey},Y)).slice(1),be=yield g._getAdditionalHeaders();be["Content-Type"]="application/json",g.languageCode&&(be["X-Firebase-Locale"]=g.languageCode);const je=Object.assign({method:u,headers:be},D);return(0,B.c1)()||(je.referrerPolicy="no-referrer"),ms.fetch()(at(g,g.config.apiHost,f,oe),je)}))})).apply(this,arguments)}function Ce(g,u,f){return fe.apply(this,arguments)}function fe(){return(fe=(0,N.A)(function*(g,u,f){g._canInitEmulator=!1;const _=Object.assign(Object.assign({},W),u);try{const C=new Un(g),D=yield Promise.race([f(),C.promise]);C.clearNetworkTimeout();const Y=yield D.json();if("needConfirmation"in Y)throw ji(g,"account-exists-with-different-credential",Y);if(D.ok&&!("errorMessage"in Y))return Y;{const oe=D.ok?Y.errorMessage:Y.error.message,[be,je]=oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===be)throw ji(g,"credential-already-in-use",Y);if("EMAIL_EXISTS"===be)throw ji(g,"email-already-in-use",Y);if("USER_DISABLED"===be)throw ji(g,"user-disabled",Y);const Je=_[be]||be.toLowerCase().replace(/[_\s]+/g,"-");if(je)throw pr(g,Je,je);dn(g,Je)}}catch(C){if(C instanceof B.g)throw C;dn(g,"network-request-failed",{message:String(C)})}})).apply(this,arguments)}function it(g,u,f,_){return yn.apply(this,arguments)}function yn(){return(yn=(0,N.A)(function*(g,u,f,_,C={}){const D=yield J(g,u,f,_,C);return"mfaPendingCredential"in D&&dn(g,"multi-factor-auth-required",{_serverResponse:D}),D})).apply(this,arguments)}function at(g,u,f,_){const C=`${u}${f}?${_}`;return g.config.emulator?Br(g.config,C):`${g.config.apiScheme}://${C}`}function en(g){switch(g){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Un{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((f,_)=>{this.timer=setTimeout(()=>_(un(this.auth,"network-request-failed")),se.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ji(g,u,f){const _={appName:g.name};f.email&&(_.email=f.email),f.phoneNumber&&(_.phoneNumber=f.phoneNumber);const C=un(g,u,_);return C.customData._tokenResponse=f,C}function tn(g){return void 0!==g&&void 0!==g.getResponse}function nn(g){return void 0!==g&&void 0!==g.enterprise}class yi{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const f of this.recaptchaEnforcementState)if(f.provider&&f.provider===u)return en(f.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function Zi(){return(Zi=(0,N.A)(function*(g){return(yield J(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Gt(g,u){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,N.A)(function*(g,u){return J(g,"GET","/v2/recaptchaConfig",re(g,u))})).apply(this,arguments)}function ca(){return(ca=(0,N.A)(function*(g,u){return J(g,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function zr(){return(zr=(0,N.A)(function*(g,u){return J(g,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function To(g,u){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,N.A)(function*(g,u){return J(g,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function $i(g){if(g)try{const u=new Date(Number(g));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Ji(){return(Ji=(0,N.A)(function*(g,u=!1){const f=(0,B.Ku)(g),_=yield f.getIdToken(u),C=Bs(_);ie(C&&C.exp&&C.auth_time&&C.iat,f.auth,"internal-error");const D="object"==typeof C.firebase?C.firebase:void 0,Y=D?.sign_in_provider;return{claims:C,token:_,authTime:$i(Xn(C.auth_time)),issuedAtTime:$i(Xn(C.iat)),expirationTime:$i(Xn(C.exp)),signInProvider:Y||null,signInSecondFactor:D?.sign_in_second_factor||null}})).apply(this,arguments)}function Xn(g){return 1e3*Number(g)}function Bs(g){const[u,f,_]=g.split(".");if(void 0===u||void 0===f||void 0===_)return Ln("JWT malformed, contained fewer than 3 sections"),null;try{const C=(0,B.u)(f);return C?JSON.parse(C):(Ln("Failed to decode base64 JWT payload"),null)}catch(C){return Ln("Caught error parsing JWT payload as JSON",C?.toString()),null}}function $o(g){const u=Bs(g);return ie(u,"internal-error"),ie(typeof u.exp<"u","internal-error"),ie(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}function gn(g,u){return uo.apply(this,arguments)}function uo(){return(uo=(0,N.A)(function*(g,u,f=!1){if(f)return u;try{return yield u}catch(_){throw _ instanceof B.g&&function Wo({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}(_)&&g.auth.currentUser===g&&(yield g.auth.signOut()),_}})).apply(this,arguments)}class Go{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var f;if(u){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const C=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,C)}}schedule(u=!1){var f=this;if(!this.isRunning)return;const _=this.getInterval(u);this.timerId=setTimeout((0,N.A)(function*(){yield f.iteration()}),_)}iteration(){var u=this;return(0,N.A)(function*(){try{yield u.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&u.schedule(!0))}u.schedule()})()}}class gr{constructor(u,f){this.createdAt=u,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=$i(this.lastLoginAt),this.creationTime=$i(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ti(g){return _r.apply(this,arguments)}function _r(){return(_r=(0,N.A)(function*(g){var u;const f=g.auth,_=yield g.getIdToken(),C=yield gn(g,To(f,{idToken:_}));ie(C?.users.length,f,"internal-error");const D=C.users[0];g._notifyReloadListener(D);const Y=null!==(u=D.providerUserInfo)&&void 0!==u&&u.length?da(D.providerUserInfo):[],oe=function js(g,u){return[...g.filter(_=>!u.some(C=>C.providerId===_.providerId)),...u]}(g.providerData,Y),Je=!!g.isAnonymous&&!(g.email&&D.passwordHash||oe?.length),Vt={uid:D.localId,displayName:D.displayName||null,photoURL:D.photoUrl||null,email:D.email||null,emailVerified:D.emailVerified||!1,phoneNumber:D.phoneNumber||null,tenantId:D.tenantId||null,providerData:oe,metadata:new gr(D.createdAt,D.lastLoginAt),isAnonymous:Je};Object.assign(g,Vt)})).apply(this,arguments)}function zs(){return(zs=(0,N.A)(function*(g){const u=(0,B.Ku)(g);yield Ti(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function da(g){return g.map(u=>{var{providerId:f}=u,_=(0,ft.Tt)(u,["providerId"]);return{providerId:f,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function Ne(){return(Ne=(0,N.A)(function*(g,u){const f=yield Ce(g,{},(0,N.A)(function*(){const _=(0,B.Am)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:C,apiKey:D}=g.config,Y=at(g,C,"/v1/token",`key=${D}`),oe=yield g._getAdditionalHeaders();return oe["Content-Type"]="application/x-www-form-urlencoded",ms.fetch()(Y,{method:"POST",headers:oe,body:_})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}function A(){return(A=(0,N.A)(function*(g,u){return J(g,"POST","/v2/accounts:revokeToken",re(g,u))})).apply(this,arguments)}class x{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){ie(u.idToken,"internal-error"),ie(typeof u.idToken<"u","internal-error"),ie(typeof u.refreshToken<"u","internal-error");const f="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):$o(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,f)}updateFromIdToken(u){ie(0!==u.length,"internal-error");const f=$o(u);this.updateTokensAndExpiration(u,null,f)}getToken(u,f=!1){var _=this;return(0,N.A)(function*(){return f||!_.accessToken||_.isExpired?(ie(_.refreshToken,u,"user-token-expired"),_.refreshToken?(yield _.refresh(u,_.refreshToken),_.accessToken):null):_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,f){var _=this;return(0,N.A)(function*(){const{accessToken:C,refreshToken:D,expiresIn:Y}=yield function Ya(g,u){return Ne.apply(this,arguments)}(u,f);_.updateTokensAndExpiration(C,D,Number(Y))})()}updateTokensAndExpiration(u,f,_){this.refreshToken=f||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(u,f){const{refreshToken:_,accessToken:C,expirationTime:D}=f,Y=new x;return _&&(ie("string"==typeof _,"internal-error",{appName:u}),Y.refreshToken=_),C&&(ie("string"==typeof C,"internal-error",{appName:u}),Y.accessToken=C),D&&(ie("number"==typeof D,"internal-error",{appName:u}),Y.expirationTime=D),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new x,this.toJSON())}_performRefresh(){return Ze("not implemented")}}function T(g,u){ie("string"==typeof g||typeof g>"u","internal-error",{appName:u})}class R{constructor(u){var{uid:f,auth:_,stsTokenManager:C}=u,D=(0,ft.Tt)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Go(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=_,this.stsTokenManager=C,this.accessToken=C.accessToken,this.displayName=D.displayName||null,this.email=D.email||null,this.emailVerified=D.emailVerified||!1,this.phoneNumber=D.phoneNumber||null,this.photoURL=D.photoURL||null,this.isAnonymous=D.isAnonymous||!1,this.tenantId=D.tenantId||null,this.providerData=D.providerData?[...D.providerData]:[],this.metadata=new gr(D.createdAt||void 0,D.lastLoginAt||void 0)}getIdToken(u){var f=this;return(0,N.A)(function*(){const _=yield gn(f,f.stsTokenManager.getToken(f.auth,u));return ie(_,f.auth,"internal-error"),f.accessToken!==_&&(f.accessToken=_,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),_})()}getIdTokenResult(u){return function zn(g){return Ji.apply(this,arguments)}(this,u)}reload(){return function Us(g){return zs.apply(this,arguments)}(this)}_assign(u){this!==u&&(ie(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(f=>Object.assign({},f)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const f=new R(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(u){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,f=!1){var _=this;return(0,N.A)(function*(){let C=!1;u.idToken&&u.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(u),C=!0),f&&(yield Ti(_)),yield _.auth._persistUserIfCurrent(_),C&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var u=this;return(0,N.A)(function*(){if((0,Me._isFirebaseServerApp)(u.auth.app))return Promise.reject(Bt(u.auth));const f=yield u.getIdToken();return yield gn(u,function Ls(g,u){return ca.apply(this,arguments)}(u.auth,{idToken:f})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,f){var _,C,D,Y,oe,be,je,Je;const Vt=null!==(_=f.displayName)&&void 0!==_?_:void 0,kr=null!==(C=f.email)&&void 0!==C?C:void 0,ya=null!==(D=f.phoneNumber)&&void 0!==D?D:void 0,sl=null!==(Y=f.photoURL)&&void 0!==Y?Y:void 0,wa=null!==(oe=f.tenantId)&&void 0!==oe?oe:void 0,sg=null!==(be=f._redirectEventId)&&void 0!==be?be:void 0,ag=null!==(je=f.createdAt)&&void 0!==je?je:void 0,lg=null!==(Je=f.lastLoginAt)&&void 0!==Je?Je:void 0,{uid:al,emailVerified:l0,isAnonymous:xr,providerData:cg,stsTokenManager:Zn}=f;ie(al&&Zn,u,"internal-error");const dg=x.fromJSON(this.name,Zn);ie("string"==typeof al,u,"internal-error"),T(Vt,u.name),T(kr,u.name),ie("boolean"==typeof l0,u,"internal-error"),ie("boolean"==typeof xr,u,"internal-error"),T(ya,u.name),T(sl,u.name),T(wa,u.name),T(sg,u.name),T(ag,u.name),T(lg,u.name);const ug=new R({uid:al,auth:u,email:kr,emailVerified:l0,displayName:Vt,isAnonymous:xr,photoURL:sl,phoneNumber:ya,tenantId:wa,stsTokenManager:dg,createdAt:ag,lastLoginAt:lg});return cg&&Array.isArray(cg)&&(ug.providerData=cg.map(c0=>Object.assign({},c0))),sg&&(ug._redirectEventId=sg),ug}static _fromIdTokenResponse(u,f,_=!1){return(0,N.A)(function*(){const C=new x;C.updateFromServerResponse(f);const D=new R({uid:f.localId,auth:u,stsTokenManager:C,isAnonymous:_});return yield Ti(D),D})()}static _fromGetAccountInfoResponse(u,f,_){return(0,N.A)(function*(){const C=f.users[0];ie(void 0!==C.localId,"internal-error");const D=void 0!==C.providerUserInfo?da(C.providerUserInfo):[],Y=!(C.email&&C.passwordHash||D?.length),oe=new x;oe.updateFromIdToken(_);const be=new R({uid:C.localId,auth:u,stsTokenManager:oe,isAnonymous:Y}),je={uid:C.localId,displayName:C.displayName||null,photoURL:C.photoUrl||null,email:C.email||null,emailVerified:C.emailVerified||!1,phoneNumber:C.phoneNumber||null,tenantId:C.tenantId||null,providerData:D,metadata:new gr(C.createdAt,C.lastLoginAt),isAnonymous:!(C.email&&C.passwordHash||D?.length)};return Object.assign(be,je),be})()}}const U=new Map;function me(g){yt(g instanceof Function,"Expected a class definition");let u=U.get(g);return u?(yt(u instanceof g,"Instance stored in cache mismatched with class"),u):(u=new g,U.set(g,u),u)}const Ye=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,N.A)(function*(){return!0})()}_set(f,_){var C=this;return(0,N.A)(function*(){C.storage[f]=_})()}_get(f){var _=this;return(0,N.A)(function*(){const C=_.storage[f];return void 0===C?null:C})()}_remove(f){var _=this;return(0,N.A)(function*(){delete _.storage[f]})()}_addListener(f,_){}_removeListener(f,_){}}return g.type="NONE",g})();function qt(g,u,f){return`firebase:${g}:${u}:${f}`}class Qe{constructor(u,f,_){this.persistence=u,this.auth=f,this.userKey=_;const{config:C,name:D}=this.auth;this.fullUserKey=qt(this.userKey,C.apiKey,D),this.fullPersistenceKey=qt("persistence",C.apiKey,D),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,N.A)(function*(){const f=yield u.persistence._get(u.fullUserKey);return f?R._fromJSON(u.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var f=this;return(0,N.A)(function*(){if(f.persistence===u)return;const _=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=u,_?f.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,f,_="authUser"){return(0,N.A)(function*(){if(!f.length)return new Qe(me(Ye),u,_);const C=(yield Promise.all(f.map(function(){var je=(0,N.A)(function*(Je){if(yield Je._isAvailable())return Je});return function(Je){return je.apply(this,arguments)}}()))).filter(je=>je);let D=C[0]||me(Ye);const Y=qt(_,u.config.apiKey,u.name);let oe=null;for(const je of f)try{const Je=yield je._get(Y);if(Je){const Vt=R._fromJSON(u,Je);je!==D&&(oe=Vt),D=je;break}}catch{}const be=C.filter(je=>je._shouldAllowMigration);return D._shouldAllowMigration&&be.length?(D=be[0],oe&&(yield D._set(Y,oe.toJSON())),yield Promise.all(f.map(function(){var je=(0,N.A)(function*(Je){if(Je!==D)try{yield Je._remove(Y)}catch{}});return function(Je){return je.apply(this,arguments)}}())),new Qe(D,u,_)):new Qe(D,u,_)})()}}function jn(g){const u=g.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(hn(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(Pe(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(dh(u))return"Blackberry";if(uh(u))return"Webos";if(oi(u))return"Safari";if((u.includes("chrome/")||gs(u))&&!u.includes("edge/"))return"Chrome";if(ut(u))return"Android";{const _=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function Pe(g=(0,B.ZQ)()){return/firefox\//i.test(g)}function oi(g=(0,B.ZQ)()){const u=g.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function gs(g=(0,B.ZQ)()){return/crios\//i.test(g)}function hn(g=(0,B.ZQ)()){return/iemobile/i.test(g)}function ut(g=(0,B.ZQ)()){return/android/i.test(g)}function dh(g=(0,B.ZQ)()){return/blackberry/i.test(g)}function uh(g=(0,B.ZQ)()){return/webos/i.test(g)}function sp(g=(0,B.ZQ)()){return/iphone|ipad|ipod/i.test(g)||/macintosh/i.test(g)&&/mobile/i.test(g)}function Xb(g=(0,B.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}function wt(g=(0,B.ZQ)()){return sp(g)||ut(g)||uh(g)||dh(g)||/windows phone/i.test(g)||hn(g)}function fn(g,u=[]){let f;switch(g){case"Browser":f=jn((0,B.ZQ)());break;case"Worker":f=`${jn((0,B.ZQ)())}-${g}`;break;default:f=g}const _=u.length?u.join(","):"FirebaseCore-web";return`${f}/JsCore/${Me.SDK_VERSION}/${_}`}class AC{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,f){const _=D=>new Promise((Y,oe)=>{try{Y(u(D))}catch(be){oe(be)}});_.onAbort=f,this.queue.push(_);const C=this.queue.length-1;return()=>{this.queue[C]=()=>Promise.resolve()}}runMiddleware(u){var f=this;return(0,N.A)(function*(){if(f.auth.currentUser===u)return;const _=[];try{for(const C of f.queue)yield C(u),C.onAbort&&_.push(C.onAbort)}catch(C){_.reverse();for(const D of _)try{D()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:C?.message})}})()}}function ap(){return(ap=(0,N.A)(function*(g,u={}){return J(g,"GET","/v2/passwordPolicy",re(g,u))})).apply(this,arguments)}class ho{constructor(u){var f,_,C,D;const Y=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(f=Y.minPasswordLength)&&void 0!==f?f:6,Y.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Y.maxPasswordLength),void 0!==Y.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Y.containsLowercaseCharacter),void 0!==Y.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Y.containsUppercaseCharacter),void 0!==Y.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Y.containsNumericCharacter),void 0!==Y.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Y.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(C=null===(_=u.allowedNonAlphanumericCharacters)||void 0===_?void 0:_.join(""))&&void 0!==C?C:"",this.forceUpgradeOnSignin=null!==(D=u.forceUpgradeOnSignin)&&void 0!==D&&D,this.schemaVersion=u.schemaVersion}validatePassword(u){var f,_,C,D,Y,oe;const be={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,be),this.validatePasswordCharacterOptions(u,be),be.isValid&&(be.isValid=null===(f=be.meetsMinPasswordLength)||void 0===f||f),be.isValid&&(be.isValid=null===(_=be.meetsMaxPasswordLength)||void 0===_||_),be.isValid&&(be.isValid=null===(C=be.containsLowercaseLetter)||void 0===C||C),be.isValid&&(be.isValid=null===(D=be.containsUppercaseLetter)||void 0===D||D),be.isValid&&(be.isValid=null===(Y=be.containsNumericCharacter)||void 0===Y||Y),be.isValid&&(be.isValid=null===(oe=be.containsNonAlphanumericCharacter)||void 0===oe||oe),be}validatePasswordLengthOptions(u,f){const _=this.customStrengthOptions.minPasswordLength,C=this.customStrengthOptions.maxPasswordLength;_&&(f.meetsMinPasswordLength=u.length>=_),C&&(f.meetsMaxPasswordLength=u.length<=C)}validatePasswordCharacterOptions(u,f){let _;this.updatePasswordCharacterOptionsStatuses(f,!1,!1,!1,!1);for(let C=0;C<u.length;C++)_=u.charAt(C),this.updatePasswordCharacterOptionsStatuses(f,_>="a"&&_<="z",_>="A"&&_<="Z",_>="0"&&_<="9",this.allowedNonAlphanumericCharacters.includes(_))}updatePasswordCharacterOptionsStatuses(u,f,_,C,D){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=f)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=_)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=C)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=D))}}class CF{constructor(u,f,_,C){this.app=u,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TC(this),this.idTokenSubscription=new TC(this),this.beforeStateQueue=new AC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(u,f){var _=this;return f&&(this._popupRedirectResolver=me(f)),this._initializationPromise=this.queue((0,N.A)(function*(){var C,D;if(!_._deleted&&(_.persistenceManager=yield Qe.create(_,u),!_._deleted)){if(null!==(C=_._popupRedirectResolver)&&void 0!==C&&C._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(f),_.lastNotifiedUid=(null===(D=_.currentUser)||void 0===D?void 0:D.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,N.A)(function*(){if(u._deleted)return;const f=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||f){if(u.currentUser&&f&&u.currentUser.uid===f.uid)return u._currentUser._assign(f),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(f,!0)}})()}initializeCurrentUserFromIdToken(u){var f=this;return(0,N.A)(function*(){try{const _=yield To(f,{idToken:u}),C=yield R._fromGetAccountInfoResponse(f,_,u);yield f.directlySetCurrentUser(C)}catch(_){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",_),yield f.directlySetCurrentUser(null)}})()}initializeCurrentUser(u){var f=this;return(0,N.A)(function*(){var _;if((0,Me._isFirebaseServerApp)(f.app)){const oe=f.app.settings.authIdToken;return oe?new Promise(be=>{setTimeout(()=>f.initializeCurrentUserFromIdToken(oe).then(be,be))}):f.directlySetCurrentUser(null)}const C=yield f.assertedPersistence.getCurrentUser();let D=C,Y=!1;if(u&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const oe=null===(_=f.redirectUser)||void 0===_?void 0:_._redirectEventId,be=D?._redirectEventId,je=yield f.tryRedirectSignIn(u);(!oe||oe===be)&&je?.user&&(D=je.user,Y=!0)}if(!D)return f.directlySetCurrentUser(null);if(!D._redirectEventId){if(Y)try{yield f.beforeStateQueue.runMiddleware(D)}catch(oe){D=C,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(oe))}return D?f.reloadAndSetCurrentUserOrClear(D):f.directlySetCurrentUser(null)}return ie(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===D._redirectEventId?f.directlySetCurrentUser(D):f.reloadAndSetCurrentUserOrClear(D)})()}tryRedirectSignIn(u){var f=this;return(0,N.A)(function*(){let _=null;try{_=yield f._popupRedirectResolver._completeRedirectFn(f,u,!0)}catch{yield f._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(u){var f=this;return(0,N.A)(function*(){try{yield Ti(u)}catch(_){if("auth/network-request-failed"!==_?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function Bn(){if(typeof navigator>"u")return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var u=this;return(0,N.A)(function*(){u._deleted=!0})()}updateCurrentUser(u){var f=this;return(0,N.A)(function*(){if((0,Me._isFirebaseServerApp)(f.app))return Promise.reject(Bt(f));const _=u?(0,B.Ku)(u):null;return _&&ie(_.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(_&&_._clone(f))})()}_updateCurrentUser(u,f=!1){var _=this;return(0,N.A)(function*(){if(!_._deleted)return u&&ie(_.tenantId===u.tenantId,_,"tenant-id-mismatch"),f||(yield _.beforeStateQueue.runMiddleware(u)),_.queue((0,N.A)(function*(){yield _.directlySetCurrentUser(u),_.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,N.A)(function*(){return(0,Me._isFirebaseServerApp)(u.app)?Promise.reject(Bt(u)):(yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0))})()}setPersistence(u){var f=this;return(0,Me._isFirebaseServerApp)(this.app)?Promise.reject(Bt(this)):this.queue((0,N.A)(function*(){yield f.assertedPersistence.setPersistence(me(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var f=this;return(0,N.A)(function*(){f._getPasswordPolicyInternal()||(yield f._updatePasswordPolicy());const _=f._getPasswordPolicyInternal();return _.schemaVersion!==f.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(f._errorFactory.create("unsupported-password-policy-schema-version",{})):_.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,N.A)(function*(){const f=yield function IF(g){return ap.apply(this,arguments)}(u),_=new ho(f);null===u.tenantId?u._projectPasswordPolicy=_:u._tenantPasswordPolicies[u.tenantId]=_})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new B.FA("auth","Firebase",u())}onAuthStateChanged(u,f,_){return this.registerStateListener(this.authStateSubscription,u,f,_)}beforeAuthStateChanged(u,f){return this.beforeStateQueue.pushCallback(u,f)}onIdTokenChanged(u,f,_){return this.registerStateListener(this.idTokenSubscription,u,f,_)}authStateReady(){return new Promise((u,f)=>{if(this.currentUser)u();else{const _=this.onAuthStateChanged(()=>{_(),u()},f)}})}revokeAccessToken(u){var f=this;return(0,N.A)(function*(){if(f.currentUser){const _=yield f.currentUser.getIdToken(),C={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:_};null!=f.tenantId&&(C.tenantId=f.tenantId),yield function _e(g,u){return A.apply(this,arguments)}(f,C)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,f){var _=this;return(0,N.A)(function*(){const C=yield _.getOrInitRedirectPersistenceManager(f);return null===u?C.removeCurrentUser():C.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var f=this;return(0,N.A)(function*(){if(!f.redirectPersistenceManager){const _=u&&me(u)||f._popupRedirectResolver;ie(_,f,"argument-error"),f.redirectPersistenceManager=yield Qe.create(f,[me(_._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(u){var f=this;return(0,N.A)(function*(){var _,C;return f._isInitialized&&(yield f.queue((0,N.A)(function*(){}))),(null===(_=f._currentUser)||void 0===_?void 0:_._redirectEventId)===u?f._currentUser:(null===(C=f.redirectUser)||void 0===C?void 0:C._redirectEventId)===u?f.redirectUser:null})()}_persistUserIfCurrent(u){var f=this;return(0,N.A)(function*(){if(u===f.currentUser)return f.queue((0,N.A)(function*(){return f.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(f=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,f,_,C){if(this._deleted)return()=>{};const D="function"==typeof f?f:f.next.bind(f);let Y=!1;const oe=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(oe,this,"internal-error"),oe.then(()=>{Y||D(this.currentUser)}),"function"==typeof f){const be=u.addObserver(f,_,C);return()=>{Y=!0,be()}}{const be=u.addObserver(f);return()=>{Y=!0,be()}}}directlySetCurrentUser(u){var f=this;return(0,N.A)(function*(){f.currentUser&&f.currentUser!==u&&f._currentUser._stopProactiveRefresh(),u&&f.isProactiveRefreshEnabled&&u._startProactiveRefresh(),f.currentUser=u,u?yield f.assertedPersistence.setCurrentUser(u):yield f.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=fn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,N.A)(function*(){var f;const _={"X-Client-Version":u.clientVersion};u.app.options.appId&&(_["X-Firebase-gmpid"]=u.app.options.appId);const C=yield null===(f=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();C&&(_["X-Firebase-Client"]=C);const D=yield u._getAppCheckToken();return D&&(_["X-Firebase-AppCheck"]=D),_})()}_getAppCheckToken(){var u=this;return(0,N.A)(function*(){var f;const _=yield null===(f=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return _?.error&&function ri(g,...u){nt.logLevel<=Ge.$b.WARN&&nt.warn(`Auth (${Me.SDK_VERSION}): ${g}`,...u)}(`Error while retrieving App Check token: ${_.error}`),_?.token})()}}function si(g){return(0,B.Ku)(g)}class TC{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,B.tD)(f=>this.observer=f)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qo={loadJS:()=>(0,N.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zb(g){return qo.loadJS(g)}function DC(g){return`__${g}${Math.floor(1e6*Math.random())}`}class fo{constructor(u){this.type="recaptcha-enterprise",this.auth=si(u)}verify(u="verify",f=!1){var _=this;return(0,N.A)(function*(){function D(){return D=(0,N.A)(function*(oe){if(!f){if(null==oe.tenantId&&null!=oe._agentRecaptchaConfig)return oe._agentRecaptchaConfig.siteKey;if(null!=oe.tenantId&&void 0!==oe._tenantRecaptchaConfigs[oe.tenantId])return oe._tenantRecaptchaConfigs[oe.tenantId].siteKey}return new Promise(function(){var be=(0,N.A)(function*(je,Je){Gt(oe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Vt=>{if(void 0!==Vt.recaptchaKey){const kr=new yi(Vt);return null==oe.tenantId?oe._agentRecaptchaConfig=kr:oe._tenantRecaptchaConfigs[oe.tenantId]=kr,je(kr.siteKey)}Je(new Error("recaptcha Enterprise site key undefined"))}).catch(Vt=>{Je(Vt)})});return function(je,Je){return be.apply(this,arguments)}}())}),D.apply(this,arguments)}function Y(oe,be,je){const Je=window.grecaptcha;nn(Je)?Je.enterprise.ready(()=>{Je.enterprise.execute(oe,{action:u}).then(Vt=>{be(Vt)}).catch(()=>{be("NO_RECAPTCHA")})}):je(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((oe,be)=>{(function C(oe){return D.apply(this,arguments)})(_.auth).then(je=>{if(!f&&nn(window.grecaptcha))Y(je,oe,be);else{if(typeof window>"u")return void be(new Error("RecaptchaVerifier is only supported in browser"));let Je=function SF(){return qo.recaptchaEnterpriseScript}();0!==Je.length&&(Je+=je),Zb(Je).then(()=>{Y(je,oe,be)}).catch(Vt=>{be(Vt)})}}).catch(je=>{be(je)})})})()}}function ht(g,u,f){return Jb.apply(this,arguments)}function Jb(){return(Jb=(0,N.A)(function*(g,u,f,_=!1){const C=new fo(g);let D;try{D=yield C.verify(f)}catch{D=yield C.verify(f,!0)}const Y=Object.assign({},u);return Object.assign(Y,_?{captchaResp:D}:{captchaResponse:D}),Object.assign(Y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Y})).apply(this,arguments)}function fh(g,u,f,_){return ey.apply(this,arguments)}function ey(){return ey=(0,N.A)(function*(g,u,f,_){var C;if(null!==(C=g._getRecaptchaConfig())&&void 0!==C&&C.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const D=yield ht(g,u,f,"getOobCode"===f);return _(g,D)}return _(g,u).catch(function(){var D=(0,N.A)(function*(Y){if("auth/missing-recaptcha-token"===Y.code){console.log(`${f} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const oe=yield ht(g,u,f,"getOobCode"===f);return _(g,oe)}return Promise.reject(Y)});return function(Y){return D.apply(this,arguments)}}())}),ey.apply(this,arguments)}function ny(g,u,f){const _=si(g);ie(_._canInitEmulator,_,"emulator-config-failed"),ie(/^https?:\/\//.test(u),_,"invalid-emulator-scheme");const C=!!f?.disableWarnings,D=cp(u),{host:Y,port:oe}=function MC(g){const u=cp(g),f=/(\/\/)?([^?#/]+)/.exec(g.substr(u.length));if(!f)return{host:"",port:null};const _=f[2].split("@").pop()||"",C=/^(\[[^\]]+\])(:|$)/.exec(_);if(C){const D=C[1];return{host:D,port:gd(_.substr(D.length+1))}}{const[D,Y]=_.split(":");return{host:D,port:gd(Y)}}}(u);_.config.emulator={url:`${D}//${Y}${null===oe?"":`:${oe}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:Y,port:oe,protocol:D.replace(":",""),options:Object.freeze({disableWarnings:C})}),C||function ph(){function g(){const u=document.createElement("p"),f=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}function cp(g){const u=g.indexOf(":");return u<0?"":g.substr(0,u+1)}function gd(g){if(!g)return null;const u=Number(g);return isNaN(u)?null:u}class ua{constructor(u,f){this.providerId=u,this.signInMethod=f}toJSON(){return Ze("not implemented")}_getIdTokenResponse(u){return Ze("not implemented")}_linkToIdToken(u,f){return Ze("not implemented")}_getReauthenticationResolver(u){return Ze("not implemented")}}function dp(g,u){return up.apply(this,arguments)}function up(){return(up=(0,N.A)(function*(g,u){return J(g,"POST","/v1/accounts:resetPassword",re(g,u))})).apply(this,arguments)}function _d(){return(_d=(0,N.A)(function*(g,u){return J(g,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function iy(g,u){return vr.apply(this,arguments)}function vr(){return(vr=(0,N.A)(function*(g,u){return J(g,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function oy(){return(oy=(0,N.A)(function*(g,u){return J(g,"POST","/v1/accounts:update",re(g,u))})).apply(this,arguments)}function kn(g,u){return sy.apply(this,arguments)}function sy(){return(sy=(0,N.A)(function*(g,u){return it(g,"POST","/v1/accounts:signInWithPassword",re(g,u))})).apply(this,arguments)}function hp(g,u){return de.apply(this,arguments)}function de(){return(de=(0,N.A)(function*(g,u){return J(g,"POST","/v1/accounts:sendOobCode",re(g,u))})).apply(this,arguments)}function vd(){return(vd=(0,N.A)(function*(g,u){return hp(g,u)})).apply(this,arguments)}function ay(g,u){return bd.apply(this,arguments)}function bd(){return(bd=(0,N.A)(function*(g,u){return hp(g,u)})).apply(this,arguments)}function RC(g,u){return yd.apply(this,arguments)}function yd(){return(yd=(0,N.A)(function*(g,u){return hp(g,u)})).apply(this,arguments)}function ly(){return(ly=(0,N.A)(function*(g,u){return hp(g,u)})).apply(this,arguments)}function cy(){return(cy=(0,N.A)(function*(g,u){return it(g,"POST","/v1/accounts:signInWithEmailLink",re(g,u))})).apply(this,arguments)}function Qa(){return(Qa=(0,N.A)(function*(g,u){return it(g,"POST","/v1/accounts:signInWithEmailLink",re(g,u))})).apply(this,arguments)}class Xa extends ua{constructor(u,f,_,C=null){super("password",_),this._email=u,this._password=f,this._tenantId=C}static _fromEmailAndPassword(u,f){return new Xa(u,f,"password")}static _fromEmailAndCode(u,f,_=null){return new Xa(u,f,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const f="string"==typeof u?JSON.parse(u):u;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(u){var f=this;return(0,N.A)(function*(){switch(f.signInMethod){case"password":return fh(u,{returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",kn);case"emailLink":return function MF(g,u){return cy.apply(this,arguments)}(u,{email:f._email,oobCode:f._password});default:dn(u,"internal-error")}})()}_linkToIdToken(u,f){var _=this;return(0,N.A)(function*(){switch(_.signInMethod){case"password":return fh(u,{idToken:f,returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iy);case"emailLink":return function RF(g,u){return Qa.apply(this,arguments)}(u,{idToken:f,email:_._email,oobCode:_._password});default:dn(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function So(g,u){return mp.apply(this,arguments)}function mp(){return(mp=(0,N.A)(function*(g,u){return it(g,"POST","/v1/accounts:signInWithIdp",re(g,u))})).apply(this,arguments)}class _s extends ua{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const f=new _s(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(f.idToken=u.idToken),u.accessToken&&(f.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(f.nonce=u.nonce),u.pendingToken&&(f.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(f.accessToken=u.oauthToken,f.secret=u.oauthTokenSecret):dn("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const f="string"==typeof u?JSON.parse(u):u,{providerId:_,signInMethod:C}=f,D=(0,ft.Tt)(f,["providerId","signInMethod"]);if(!_||!C)return null;const Y=new _s(_,C);return Y.idToken=D.idToken||void 0,Y.accessToken=D.accessToken||void 0,Y.secret=D.secret,Y.nonce=D.nonce,Y.pendingToken=D.pendingToken||null,Y}_getIdTokenResponse(u){return So(u,this.buildRequest())}_linkToIdToken(u,f){const _=this.buildRequest();return _.idToken=f,So(u,_)}_getReauthenticationResolver(u){const f=this.buildRequest();return f.autoCreate=!1,So(u,f)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),u.postBody=(0,B.Am)(f)}return u}}function ha(){return(ha=(0,N.A)(function*(g,u){return J(g,"POST","/v1/accounts:sendVerificationCode",re(g,u))})).apply(this,arguments)}function vs(){return(vs=(0,N.A)(function*(g,u){return it(g,"POST","/v1/accounts:signInWithPhoneNumber",re(g,u))})).apply(this,arguments)}function X(){return(X=(0,N.A)(function*(g,u){const f=yield it(g,"POST","/v1/accounts:signInWithPhoneNumber",re(g,u));if(f.temporaryProof)throw ji(g,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const uy={USER_NOT_FOUND:"user-not-found"};function Jl(){return(Jl=(0,N.A)(function*(g,u){return it(g,"POST","/v1/accounts:signInWithPhoneNumber",re(g,Object.assign(Object.assign({},u),{operation:"REAUTH"})),uy)})).apply(this,arguments)}class Hs extends ua{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,f){return new Hs({verificationId:u,verificationCode:f})}static _fromTokenResponse(u,f){return new Hs({phoneNumber:u,temporaryProof:f})}_getIdTokenResponse(u){return function OC(g,u){return vs.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,f){return function NC(g,u){return X.apply(this,arguments)}(u,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function De(g,u){return Jl.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:f,verificationId:_,verificationCode:C}=this.params;return u&&f?{temporaryProof:u,phoneNumber:f}:{sessionInfo:_,code:C}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:f,verificationCode:_,phoneNumber:C,temporaryProof:D}=u;return _||f||C||D?new Hs({verificationId:f,verificationCode:_,phoneNumber:C,temporaryProof:D}):null}}class xd{constructor(u){var f,_,C,D,Y,oe;const be=(0,B.I9)((0,B.hp)(u)),je=null!==(f=be.apiKey)&&void 0!==f?f:null,Je=null!==(_=be.oobCode)&&void 0!==_?_:null,Vt=function wd(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(C=be.mode)&&void 0!==C?C:null);ie(je&&Je&&Vt,"argument-error"),this.apiKey=je,this.operation=Vt,this.code=Je,this.continueUrl=null!==(D=be.continueUrl)&&void 0!==D?D:null,this.languageCode=null!==(Y=be.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(oe=be.tenantId)&&void 0!==oe?oe:null}static parseLink(u){const f=function FC(g){const u=(0,B.I9)((0,B.hp)(g)).link,f=u?(0,B.I9)((0,B.hp)(u)).deep_link_id:null,_=(0,B.I9)((0,B.hp)(g)).deep_link_id;return(_?(0,B.I9)((0,B.hp)(_)).link:null)||_||f||u||g}(u);try{return new xd(f)}catch{return null}}}let Ko=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(f,_){return Xa._fromEmailAndPassword(f,_)}static credentialWithLink(f,_){const C=xd.parseLink(_);return ie(C,"argument-error"),Xa._fromEmailAndCode(f,C.code,C.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class Do{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class or extends Do{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class jr extends or{static credentialFromJSON(u){const f="string"==typeof u?JSON.parse(u):u;return ie("providerId"in f&&"signInMethod"in f,"argument-error"),_s._fromParams(f)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return ie(u.idToken||u.accessToken,"argument-error"),_s._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return jr.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return jr.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:f,oauthAccessToken:_,oauthTokenSecret:C,pendingToken:D,nonce:Y,providerId:oe}=u;if(!_&&!C&&!f&&!D||!oe)return null;try{return new jr(oe)._credential({idToken:f,accessToken:_,nonce:Y,pendingToken:D})}catch{return null}}}let ln=(()=>{class g extends or{constructor(){super("facebook.com")}static credential(f){return _s._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return g.credential(f.oauthAccessToken)}catch{return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),gh=(()=>{class g extends or{constructor(){super("google.com"),this.addScope("profile")}static credential(f,_){return _s._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:_})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:C}=f;if(!_&&!C)return null;try{return g.credential(_,C)}catch{return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),pp=(()=>{class g extends or{constructor(){super("github.com")}static credential(f){return _s._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return g.credential(f.oauthAccessToken)}catch{return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class Za extends ua{constructor(u,f){super(u,u),this.pendingToken=f}_getIdTokenResponse(u){return So(u,this.buildRequest())}_linkToIdToken(u,f){const _=this.buildRequest();return _.idToken=f,So(u,_)}_getReauthenticationResolver(u){const f=this.buildRequest();return f.autoCreate=!1,So(u,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const f="string"==typeof u?JSON.parse(u):u,{providerId:_,signInMethod:C,pendingToken:D}=f;return _&&C&&D&&_===C?new Za(_,D):null}static _create(u,f){return new Za(u,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fa extends Do{constructor(u){ie(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return fa.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return fa.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const f=Za.fromJSON(u);return ie(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:f,providerId:_}=u;if(!f||!_)return null;try{return Za._create(_,f)}catch{return null}}}let hy=(()=>{class g extends or{constructor(){super("twitter.com")}static credential(f,_){return _s._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:_})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:_,oauthTokenSecret:C}=f;if(!_||!C)return null;try{return g.credential(_,C)}catch{return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function _p(g,u){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,N.A)(function*(g,u){return it(g,"POST","/v1/accounts:signUp",re(g,u))})).apply(this,arguments)}class mo{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,f,_,C=!1){return(0,N.A)(function*(){const D=yield R._fromIdTokenResponse(u,_,C),Y=vp(_);return new mo({user:D,providerId:Y,_tokenResponse:_,operationType:f})})()}static _forOperation(u,f,_){return(0,N.A)(function*(){yield u._updateTokensIfNecessary(_,!0);const C=vp(_);return new mo({user:u,providerId:C,_tokenResponse:_,operationType:f})})()}}function vp(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function Id(g){return _h.apply(this,arguments)}function _h(){return(_h=(0,N.A)(function*(g){var u;if((0,Me._isFirebaseServerApp)(g.app))return Promise.reject(Bt(g));const f=si(g);if(yield f._initializationPromise,null!==(u=f.currentUser)&&void 0!==u&&u.isAnonymous)return new mo({user:f.currentUser,providerId:null,operationType:"signIn"});const _=yield _p(f,{returnSecureToken:!0}),C=yield mo._fromIdTokenResponse(f,"signIn",_,!0);return yield f._updateCurrentUser(C.user),C})).apply(this,arguments)}class Cd extends B.g{constructor(u,f,_,C){var D;super(f.code,f.message),this.operationType=_,this.user=C,Object.setPrototypeOf(this,Cd.prototype),this.customData={appName:u.name,tenantId:null!==(D=u.tenantId)&&void 0!==D?D:void 0,_serverResponse:f.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(u,f,_,C){return new Cd(u,f,_,C)}}function fy(g,u,f,_){return("reauthenticate"===u?f._getReauthenticationResolver(g):f._getIdTokenResponse(g)).catch(D=>{throw"auth/multi-factor-auth-required"===D.code?Cd._fromErrorAndOperation(g,D,u,_):D})}function bp(g){return new Set(g.map(({providerId:u})=>u).filter(u=>!!u))}function LC(g,u){return yp.apply(this,arguments)}function yp(){return yp=(0,N.A)(function*(g,u){const f=(0,B.Ku)(g);yield Ad(!0,f,u);const{providerUserInfo:_}=yield function ps(g,u){return zr.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[u]}),C=bp(_||[]);return f.providerData=f.providerData.filter(D=>C.has(D.providerId)),C.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),yp.apply(this,arguments)}function po(g,u){return wp.apply(this,arguments)}function wp(){return(wp=(0,N.A)(function*(g,u,f=!1){const _=yield gn(g,u._linkToIdToken(g.auth,yield g.getIdToken()),f);return mo._forOperation(g,"link",_)})).apply(this,arguments)}function Ad(g,u,f){return xp.apply(this,arguments)}function xp(){return(xp=(0,N.A)(function*(g,u,f){yield Ti(u);const C=!1===g?"provider-already-linked":"no-such-provider";ie(bp(u.providerData).has(f)===g,u.auth,C)})).apply(this,arguments)}function my(g,u){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,N.A)(function*(g,u,f=!1){const{auth:_}=g;if((0,Me._isFirebaseServerApp)(_.app))return Promise.reject(Bt(_));const C="reauthenticate";try{const D=yield gn(g,fy(_,C,u,g),f);ie(D.idToken,_,"internal-error");const Y=Bs(D.idToken);ie(Y,_,"internal-error");const{sub:oe}=Y;return ie(g.uid===oe,_,"user-mismatch"),mo._forOperation(g,C,D)}catch(D){throw"auth/user-not-found"===D?.code&&dn(_,"user-mismatch"),D}})).apply(this,arguments)}function py(g,u){return vh.apply(this,arguments)}function vh(){return(vh=(0,N.A)(function*(g,u,f=!1){if((0,Me._isFirebaseServerApp)(g.app))return Promise.reject(Bt(g));const _="signIn",C=yield fy(g,_,u),D=yield mo._fromIdTokenResponse(g,_,C);return f||(yield g._updateCurrentUser(D.user)),D})).apply(this,arguments)}function bh(g,u){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,N.A)(function*(g,u){return py(si(g),u)})).apply(this,arguments)}function gy(g,u){return St.apply(this,arguments)}function St(){return(St=(0,N.A)(function*(g,u){const f=(0,B.Ku)(g);return yield Ad(!1,f,u.providerId),po(f,u)})).apply(this,arguments)}function _y(g,u){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,N.A)(function*(g,u){return my((0,B.Ku)(g),u)})).apply(this,arguments)}function mt(){return(mt=(0,N.A)(function*(g,u){return it(g,"POST","/v1/accounts:signInWithCustomToken",re(g,u))})).apply(this,arguments)}function BC(g,u){return yh.apply(this,arguments)}function yh(){return yh=(0,N.A)(function*(g,u){if((0,Me._isFirebaseServerApp)(g.app))return Promise.reject(Bt(g));const f=si(g),_=yield function VC(g,u){return mt.apply(this,arguments)}(f,{token:u,returnSecureToken:!0}),C=yield mo._fromIdTokenResponse(f,"signIn",_);return yield f._updateCurrentUser(C.user),C}),yh.apply(this,arguments)}class Te{constructor(u,f){this.factorId=u,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(u,f){return"phoneInfo"in f?br._fromServerResponse(u,f):"totpInfo"in f?Kt._fromServerResponse(u,f):dn(u,"internal-error")}}class br extends Te{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,f){return new br(f)}}class Kt extends Te{constructor(u){super("totp",u)}static _fromServerResponse(u,f){return new Kt(f)}}function Ri(g,u,f){var _;ie((null===(_=f.url)||void 0===_?void 0:_.length)>0,g,"invalid-continue-uri"),ie(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),u.continueUrl=f.url,u.dynamicLinkDomain=f.dynamicLinkDomain,u.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(ie(f.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),u.iOSBundleId=f.iOS.bundleId),f.android&&(ie(f.android.packageName.length>0,g,"missing-android-pkg-name"),u.androidInstallApp=f.android.installApp,u.androidMinimumVersionCode=f.android.minimumVersion,u.androidPackageName=f.android.packageName)}function sr(g){return ma.apply(this,arguments)}function ma(){return(ma=(0,N.A)(function*(g){const u=si(g);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function go(g,u,f){return wh.apply(this,arguments)}function wh(){return(wh=(0,N.A)(function*(g,u,f){const _=si(g),C={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};f&&Ri(_,C,f),yield fh(_,C,"getOobCode",ay)})).apply(this,arguments)}function vy(g,u,f){return ec.apply(this,arguments)}function ec(){return ec=(0,N.A)(function*(g,u,f){yield dp((0,B.Ku)(g),{oobCode:u,newPassword:f}).catch(function(){var _=(0,N.A)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&sr(g),C});return function(C){return _.apply(this,arguments)}}())}),ec.apply(this,arguments)}function UC(g,u){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,N.A)(function*(g,u){yield function ry(g,u){return oy.apply(this,arguments)}((0,B.Ku)(g),{oobCode:u})}),Ap.apply(this,arguments)}function ai(g,u){return ze.apply(this,arguments)}function ze(){return(ze=(0,N.A)(function*(g,u){const f=(0,B.Ku)(g),_=yield dp(f,{oobCode:u}),C=_.requestType;switch(ie(C,f,"internal-error"),C){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(_.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(_.mfaInfo,f,"internal-error");default:ie(_.email,f,"internal-error")}let D=null;return _.mfaInfo&&(D=Te._fromServerResponse(si(f),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:D},operation:C}})).apply(this,arguments)}function Dt(g,u){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,N.A)(function*(g,u){const{data:f}=yield ai((0,B.Ku)(g),u);return f.email})).apply(this,arguments)}function Yo(g,u,f){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,N.A)(function*(g,u,f){if((0,Me._isFirebaseServerApp)(g.app))return Promise.reject(Bt(g));const _=si(g),Y=yield fh(_,{returnSecureToken:!0,email:u,password:f,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_p).catch(be=>{throw"auth/password-does-not-meet-requirements"===be.code&&sr(g),be}),oe=yield mo._fromIdTokenResponse(_,"signIn",Y);return yield _._updateCurrentUser(oe.user),oe})).apply(this,arguments)}function yr(g,u,f){return(0,Me._isFirebaseServerApp)(g.app)?Promise.reject(Bt(g)):bh((0,B.Ku)(g),Ko.credential(u,f)).catch(function(){var _=(0,N.A)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&sr(g),C});return function(C){return _.apply(this,arguments)}}())}function tc(g,u,f){return li.apply(this,arguments)}function li(){return(li=(0,N.A)(function*(g,u,f){const _=si(g),C={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function D(Y,oe){ie(oe.handleCodeInApp,_,"argument-error"),oe&&Ri(_,Y,oe)})(C,f),yield fh(_,C,"getOobCode",RC)})).apply(this,arguments)}function pa(g,u){const f=xd.parseLink(u);return"EMAIL_SIGNIN"===f?.operation}function nc(g,u,f){return gt.apply(this,arguments)}function gt(){return(gt=(0,N.A)(function*(g,u,f){if((0,Me._isFirebaseServerApp)(g.app))return Promise.reject(Bt(g));const _=(0,B.Ku)(g),C=Ko.credentialWithLink(u,f||Wt());return ie(C._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),bh(_,C)})).apply(this,arguments)}function xh(){return(xh=(0,N.A)(function*(g,u){return J(g,"POST","/v1/accounts:createAuthUri",re(g,u))})).apply(this,arguments)}function ic(g,u){return ci.apply(this,arguments)}function ci(){return ci=(0,N.A)(function*(g,u){const _={identifier:u,continueUri:Vn()?Wt():"http://localhost"},{signinMethods:C}=yield function Td(g,u){return xh.apply(this,arguments)}((0,B.Ku)(g),_);return C||[]}),ci.apply(this,arguments)}function Sd(g,u){return ga.apply(this,arguments)}function ga(){return ga=(0,N.A)(function*(g,u){const f=(0,B.Ku)(g),C={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};u&&Ri(f.auth,C,u);const{email:D}=yield function fp(g,u){return vd.apply(this,arguments)}(f.auth,C);D!==g.email&&(yield g.reload())}),ga.apply(this,arguments)}function bs(g,u,f){return el.apply(this,arguments)}function el(){return el=(0,N.A)(function*(g,u,f){const _=(0,B.Ku)(g),D={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:u};f&&Ri(_.auth,D,f);const{email:Y}=yield function kF(g,u){return ly.apply(this,arguments)}(_.auth,D);Y!==g.email&&(yield g.reload())}),el.apply(this,arguments)}function ys(){return(ys=(0,N.A)(function*(g,u){return J(g,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Ws(g,u){return tl.apply(this,arguments)}function tl(){return tl=(0,N.A)(function*(g,{displayName:u,photoURL:f}){if(void 0===u&&void 0===f)return;const _=(0,B.Ku)(g),D={idToken:yield _.getIdToken(),displayName:u,photoUrl:f,returnSecureToken:!0},Y=yield gn(_,function by(g,u){return ys.apply(this,arguments)}(_.auth,D));_.displayName=Y.displayName||null,_.photoURL=Y.photoUrl||null;const oe=_.providerData.find(({providerId:be})=>"password"===be);oe&&(oe.displayName=_.displayName,oe.photoURL=_.photoURL),yield _._updateTokensIfNecessary(Y)}),tl.apply(this,arguments)}function Dd(g,u){const f=(0,B.Ku)(g);return(0,Me._isFirebaseServerApp)(f.auth.app)?Promise.reject(Bt(f.auth)):zC(f,u,null)}function zt(g,u){return zC((0,B.Ku)(g),null,u)}function zC(g,u,f){return kd.apply(this,arguments)}function kd(){return kd=(0,N.A)(function*(g,u,f){const{auth:_}=g,D={idToken:yield g.getIdToken(),returnSecureToken:!0};u&&(D.email=u),f&&(D.password=f);const Y=yield gn(g,function Ut(g,u){return _d.apply(this,arguments)}(_,D));yield g._updateTokensIfNecessary(Y,!0)}),kd.apply(this,arguments)}class Sr{constructor(u,f,_={}){this.isNewUser=u,this.providerId=f,this.profile=_}}class Md extends Sr{constructor(u,f,_,C){super(u,f,_),this.username=C}}class rc extends Sr{constructor(u,f){super(u,"facebook.com",f)}}class Rd extends Md{constructor(u,f){super(u,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class ar extends Sr{constructor(u,f){super(u,"google.com",f)}}class OF extends Md{constructor(u,f,_){super(u,"twitter.com",f,_)}}function Hr(g){const{user:u,_tokenResponse:f}=g;return u.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function yy(g){var u,f;if(!g)return null;const{providerId:_}=g,C=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},D=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!_&&g?.idToken){const Y=null===(f=null===(u=Bs(g.idToken))||void 0===u?void 0:u.firebase)||void 0===f?void 0:f.sign_in_provider;if(Y)return new Sr(D,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!_)return null;switch(_){case"facebook.com":return new rc(D,C);case"github.com":return new Rd(D,C);case"google.com":return new ar(D,C);case"twitter.com":return new OF(D,C,g.screenName||null);case"custom":case"anonymous":return new Sr(D,null);default:return new Sr(D,_,C)}}(f)}function jC(g,u,f,_){return(0,B.Ku)(g).onAuthStateChanged(u,f,_)}function HC(g){return(0,B.Ku)(g).signOut()}class ac{constructor(u,f,_){this.type=u,this.credential=f,this.user=_}static _fromIdtoken(u,f){return new ac("enroll",u,f)}static _fromMfaPendingCredential(u){return new ac("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var f,_;if(u?.multiFactorSession){if(null!==(f=u.multiFactorSession)&&void 0!==f&&f.pendingCredential)return ac._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(_=u.multiFactorSession)&&void 0!==_&&_.idToken)return ac._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Ey{constructor(u,f,_){this.session=u,this.hints=f,this.signInResolver=_}static _fromError(u,f){const _=si(u),C=f.customData._serverResponse,D=(C.mfaInfo||[]).map(oe=>Te._fromServerResponse(_,oe));ie(C.mfaPendingCredential,_,"internal-error");const Y=ac._fromMfaPendingCredential(C.mfaPendingCredential);return new Ey(Y,D,function(){var oe=(0,N.A)(function*(be){const je=yield be._process(_,Y);delete C.mfaInfo,delete C.mfaPendingCredential;const Je=Object.assign(Object.assign({},C),{idToken:je.idToken,refreshToken:je.refreshToken});switch(f.operationType){case"signIn":const Vt=yield mo._fromIdTokenResponse(_,f.operationType,Je);return yield _._updateCurrentUser(Vt.user),Vt;case"reauthenticate":return ie(f.user,_,"internal-error"),mo._forOperation(f.user,f.operationType,Je);default:dn(_,"internal-error")}});return function(be){return oe.apply(this,arguments)}}())}resolveSignIn(u){var f=this;return(0,N.A)(function*(){return f.signInResolver(u)})()}}function LF(g,u){var f;const _=(0,B.Ku)(g),C=u;return ie(u.customData.operationType,_,"argument-error"),ie(null===(f=C.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,_,"argument-error"),Ey._fromError(_,C)}class Iy{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(_=>Te._fromServerResponse(u.auth,_)))})}static _fromUser(u){return new Iy(u)}getSession(){var u=this;return(0,N.A)(function*(){return ac._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,f){var _=this;return(0,N.A)(function*(){const C=u,D=yield _.getSession(),Y=yield gn(_.user,C._process(_.user.auth,D,f));return yield _.user._updateTokensIfNecessary(Y),_.user.reload()})()}unenroll(u){var f=this;return(0,N.A)(function*(){const _="string"==typeof u?u:u.uid,C=yield f.user.getIdToken();try{const D=yield gn(f.user,function zF(g,u){return J(g,"POST","/v2/accounts/mfaEnrollment:withdraw",re(g,u))}(f.user.auth,{idToken:C,mfaEnrollmentId:_}));f.enrolledFactors=f.enrolledFactors.filter(({uid:Y})=>Y!==_),yield f.user._updateTokensIfNecessary(D),yield f.user.reload()}catch(D){throw D}})()}}const Cy=new WeakMap;function Ay(g){const u=(0,B.Ku)(g);return Cy.has(u)||Cy.set(u,Iy._fromUser(u)),Cy.get(u)}const Pd="__sak";class $C{constructor(u,f){this.storageRetriever=u,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Pd,"1"),this.storage.removeItem(Pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,f){return this.storage.setItem(u,JSON.stringify(f)),Promise.resolve()}_get(u){const f=this.storage.getItem(u);return Promise.resolve(f?JSON.parse(f):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gs=(()=>{class g extends $C{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,_)=>this.onStorageEvent(f,_),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wt(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const _ of Object.keys(this.listeners)){const C=this.storage.getItem(_),D=this.localCache[_];C!==D&&f(_,D,C)}}onStorageEvent(f,_=!1){if(!f.key)return void this.forAllChangedKeys((oe,be,je)=>{this.notifyListeners(oe,je)});const C=f.key;_?this.detachListener():this.stopPolling();const D=()=>{const oe=this.storage.getItem(C);!_&&this.localCache[C]===oe||this.notifyListeners(C,oe)},Y=this.storage.getItem(C);!function hh(){return(0,B.lT)()&&10===document.documentMode}()||Y===f.newValue||f.newValue===f.oldValue?D():setTimeout(D,10)}notifyListeners(f,_){this.localCache[f]=_;const C=this.listeners[f];if(C)for(const D of Array.from(C))D(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,_,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:_,newValue:C}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,_){var C=()=>super._set,D=this;return(0,N.A)(function*(){yield C().call(D,f,_),D.localCache[f]=JSON.stringify(_)})()}_get(f){var _=()=>super._get,C=this;return(0,N.A)(function*(){const D=yield _().call(C,f);return C.localCache[f]=JSON.stringify(D),D})()}_remove(f){var _=()=>super._remove,C=this;return(0,N.A)(function*(){yield _().call(C,f),delete C.localCache[f]})()}}return g.type="LOCAL",g})(),Ty=(()=>{class g extends $C{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,_){}_removeListener(f,_){}}return g.type="SESSION",g})();let Eh=(()=>{class g{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const _=this.receivers.find(D=>D.isListeningto(f));if(_)return _;const C=new g(f);return this.receivers.push(C),C}isListeningto(f){return this.eventTarget===f}handleEvent(f){var _=this;return(0,N.A)(function*(){const C=f,{eventId:D,eventType:Y,data:oe}=C.data,be=_.handlersMap[Y];if(!be?.size)return;C.ports[0].postMessage({status:"ack",eventId:D,eventType:Y});const je=Array.from(be).map(function(){var Vt=(0,N.A)(function*(kr){return kr(C.origin,oe)});return function(kr){return Vt.apply(this,arguments)}}()),Je=yield function lr(g){return Promise.all(g.map(function(){var u=(0,N.A)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(_){return{fulfilled:!1,reason:_}}});return function(f){return u.apply(this,arguments)}}()))}(je);C.ports[0].postMessage({status:"done",eventId:D,eventType:Y,response:Je})})()}_subscribe(f,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(_)}_unsubscribe(f,_){this.handlersMap[f]&&_&&this.handlersMap[f].delete(_),(!_||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function wr(g="",u=10){let f="";for(let _=0;_<u;_++)f+=Math.floor(10*Math.random());return g+f}class Sy{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,f,_=50){var C=this;return(0,N.A)(function*(){const D=typeof MessageChannel<"u"?new MessageChannel:null;if(!D)throw new Error("connection_unavailable");let Y,oe;return new Promise((be,je)=>{const Je=wr("",20);D.port1.start();const Vt=setTimeout(()=>{je(new Error("unsupported_event"))},_);oe={messageChannel:D,onMessage(kr){const ya=kr;if(ya.data.eventId===Je)switch(ya.data.status){case"ack":clearTimeout(Vt),Y=setTimeout(()=>{je(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),be(ya.data.response);break;default:clearTimeout(Vt),clearTimeout(Y),je(new Error("invalid_response"))}}},C.handlers.add(oe),D.port1.addEventListener("message",oe.onMessage),C.target.postMessage({eventType:u,eventId:Je,data:f},[D.port2])}).finally(()=>{oe&&C.removeMessageHandler(oe)})})()}}function Si(){return window}function Ih(){return typeof Si().WorkerGlobalScope<"u"&&"function"==typeof Si().importScripts}function Ch(){return(Ch=(0,N.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Mp="firebaseLocalStorageDb",Od="firebaseLocalStorage",Nd="fbase_key";class qs{constructor(u){this.request=u}toPromise(){return new Promise((u,f)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Ks(g,u){return g.transaction([Od],u?"readwrite":"readonly").objectStore(Od)}function Ry(){const g=indexedDB.open(Mp,1);return new Promise((u,f)=>{g.addEventListener("error",()=>{f(g.error)}),g.addEventListener("upgradeneeded",()=>{const _=g.result;try{_.createObjectStore(Od,{keyPath:Nd})}catch(C){f(C)}}),g.addEventListener("success",(0,N.A)(function*(){const _=g.result;_.objectStoreNames.contains(Od)?u(_):(_.close(),yield function My(){const g=indexedDB.deleteDatabase(Mp);return new qs(g).toPromise()}(),u(yield Ry()))}))})}function WC(g,u,f){return Py.apply(this,arguments)}function Py(){return(Py=(0,N.A)(function*(g,u,f){const _=Ks(g,!0).put({[Nd]:u,value:f});return new qs(_).toPromise()})).apply(this,arguments)}function Rp(){return(Rp=(0,N.A)(function*(g,u){const f=Ks(g,!1).get(u),_=yield new qs(f).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function qC(g,u){const f=Ks(g,!0).delete(u);return new qs(f).toPromise()}const Ah=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,N.A)(function*(){return f.db||(f.db=yield Ry()),f.db})()}_withRetries(f){var _=this;return(0,N.A)(function*(){let C=0;for(;;)try{const D=yield _._openDb();return yield f(D)}catch(D){if(C++>3)throw D;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,N.A)(function*(){return Ih()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,N.A)(function*(){f.receiver=Eh._getInstance(function kp(){return Ih()?self:null}()),f.receiver._subscribe("keyChanged",function(){var _=(0,N.A)(function*(C,D){return{keyProcessed:(yield f._poll()).includes(D.key)}});return function(C,D){return _.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var _=(0,N.A)(function*(C,D){return["keyChanged"]});return function(C,D){return _.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,N.A)(function*(){var _,C;if(f.activeServiceWorker=yield function Sp(){return Ch.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Sy(f.activeServiceWorker);const D=yield f.sender._send("ping",{},800);D&&null!==(_=D[0])&&void 0!==_&&_.fulfilled&&null!==(C=D[0])&&void 0!==C&&C.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var _=this;return(0,N.A)(function*(){if(_.sender&&_.activeServiceWorker&&function Dp(){var g;return(null===(g=navigator?.serviceWorker)||void 0===g?void 0:g.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:f},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,N.A)(function*(){try{if(!indexedDB)return!1;const f=yield Ry();return yield WC(f,Pd,"1"),yield qC(f,Pd),!0}catch{}return!1})()}_withPendingWrite(f){var _=this;return(0,N.A)(function*(){_.pendingWrites++;try{yield f()}finally{_.pendingWrites--}})()}_set(f,_){var C=this;return(0,N.A)(function*(){return C._withPendingWrite((0,N.A)(function*(){return yield C._withRetries(D=>WC(D,f,_)),C.localCache[f]=_,C.notifyServiceWorker(f)}))})()}_get(f){var _=this;return(0,N.A)(function*(){const C=yield _._withRetries(D=>function GC(g,u){return Rp.apply(this,arguments)}(D,f));return _.localCache[f]=C,C})()}_remove(f){var _=this;return(0,N.A)(function*(){return _._withPendingWrite((0,N.A)(function*(){return yield _._withRetries(C=>qC(C,f)),delete _.localCache[f],_.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,N.A)(function*(){const _=yield f._withRetries(Y=>{const oe=Ks(Y,!1).getAll();return new qs(oe).toPromise()});if(!_)return[];if(0!==f.pendingWrites)return[];const C=[],D=new Set;if(0!==_.length)for(const{fbase_key:Y,value:oe}of _)D.add(Y),JSON.stringify(f.localCache[Y])!==JSON.stringify(oe)&&(f.notifyListeners(Y,oe),C.push(Y));for(const Y of Object.keys(f.localCache))f.localCache[Y]&&!D.has(Y)&&(f.notifyListeners(Y,null),C.push(Y));return C})()}notifyListeners(f,_){this.localCache[f]=_;const C=this.listeners[f];if(C)for(const D of Array.from(C))D(_)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,N.A)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})(),Th=1e12;class YC{constructor(u){this.auth=u,this.counter=Th,this._widgets=new Map}render(u,f){const _=this.counter;return this._widgets.set(_,new QC(u,this.auth.name,f||{})),this.counter++,_}reset(u){var f;const _=u||Th;null===(f=this._widgets.get(_))||void 0===f||f.delete(),this._widgets.delete(_)}getResponse(u){var f;return(null===(f=this._widgets.get(u||Th))||void 0===f?void 0:f.getResponse())||""}execute(u){var f=this;return(0,N.A)(function*(){var _;return null===(_=f._widgets.get(u||Th))||void 0===_||_.execute(),""})()}}class QC{constructor(u,f,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const C="string"==typeof u?document.getElementById(u):u;ie(C,"argument-error",{appName:f}),this.container=C,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ly(g){const u=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<g;_++)u.push(f.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":f}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Op=DC("rcb"),Vy=new zi(3e4,6e4);class XC{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=Si().grecaptcha)||void 0===u||!u.render)}load(u,f=""){return ie(function qF(g){return g.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g)}(f),u,"argument-error"),this.shouldResolveImmediately(f)&&tn(Si().grecaptcha)?Promise.resolve(Si().grecaptcha):new Promise((_,C)=>{const D=Si().setTimeout(()=>{C(un(u,"network-request-failed"))},Vy.get());Si()[Op]=()=>{Si().clearTimeout(D),delete Si()[Op];const oe=Si().grecaptcha;if(!oe||!tn(oe))return void C(un(u,"internal-error"));const be=oe.render;oe.render=(je,Je)=>{const Vt=be(je,Je);return this.counter++,Vt},this.hostLanguage=f,_(oe)},Zb(`${function TF(){return qo.recaptchaV2Script}()}?${(0,B.Am)({onload:Op,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(D),C(un(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var f;return!(null===(f=Si().grecaptcha)||void 0===f||!f.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ZC{load(u){return(0,N.A)(function*(){return new YC(u)})()}clearedOneInstance(){}}const Di="recaptcha",By={theme:"light",type:"image"};class JC{constructor(u,f,_=Object.assign({},By)){this.parameters=_,this.type=Di,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=si(u),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const C="string"==typeof f?document.getElementById(f):f;ie(C,this.auth,"argument-error"),this.container=C,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ZC:new XC,this.validateStartingState()}verify(){var u=this;return(0,N.A)(function*(){u.assertNotDestroyed();const f=yield u.render(),_=u.getAssertedRecaptcha();return _.getResponse(f)||new Promise(D=>{const Y=oe=>{oe&&(u.tokenChangeListeners.delete(Y),D(oe))};u.tokenChangeListeners.add(Y),u.isInvisible&&_.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return f=>{if(this.tokenChangeListeners.forEach(_=>_(f)),"function"==typeof u)u(f);else if("string"==typeof u){const _=Si()[u];"function"==typeof _&&_(f)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,N.A)(function*(){if(yield u.init(),!u.widgetId){let f=u.container;if(!u.isInvisible){const _=document.createElement("div");f.appendChild(_),f=_}u.widgetId=u.getAssertedRecaptcha().render(f,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,N.A)(function*(){ie(Vn()&&!Ih(),u.auth,"internal-error"),yield function eA(){let g=null;return new Promise(u=>{"complete"!==document.readyState?(g=()=>u(),window.addEventListener("load",g)):u()}).catch(u=>{throw g&&window.removeEventListener("load",g),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const f=yield function Hi(g){return Zi.apply(this,arguments)}(u.auth);ie(f,u.auth,"internal-error"),u.parameters.sitekey=f})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Sh{constructor(u,f){this.verificationId=u,this.onConfirmation=f}confirm(u){const f=Hs._fromVerification(this.verificationId,u);return this.onConfirmation(f)}}function Uy(g,u,f){return Np.apply(this,arguments)}function Np(){return(Np=(0,N.A)(function*(g,u,f){if((0,Me._isFirebaseServerApp)(g.app))return Promise.reject(Bt(g));const _=si(g),C=yield Fd(_,u,(0,B.Ku)(f));return new Sh(C,D=>bh(_,D))})).apply(this,arguments)}function Fp(g,u,f){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,N.A)(function*(g,u,f){const _=(0,B.Ku)(g);yield Ad(!1,_,"phone");const C=yield Fd(_.auth,u,(0,B.Ku)(f));return new Sh(C,D=>gy(_,D))})).apply(this,arguments)}function ws(g,u,f){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,N.A)(function*(g,u,f){const _=(0,B.Ku)(g);if((0,Me._isFirebaseServerApp)(_.auth.app))return Promise.reject(Bt(_.auth));const C=yield Fd(_.auth,u,(0,B.Ku)(f));return new Sh(C,D=>_y(_,D))})).apply(this,arguments)}function Fd(g,u,f){return In.apply(this,arguments)}function In(){return In=(0,N.A)(function*(g,u,f){var _;const C=yield f.verify();try{let D;if(ie("string"==typeof C,g,"argument-error"),ie(f.type===Di,g,"argument-error"),D="string"==typeof u?{phoneNumber:u}:u,"session"in D){const Y=D.session;if("phoneNumber"in D)return ie("enroll"===Y.type,g,"internal-error"),(yield function VF(g,u){return J(g,"POST","/v2/accounts/mfaEnrollment:start",re(g,u))}(g,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:D.phoneNumber,recaptchaToken:C}})).phoneSessionInfo.sessionInfo;{ie("signin"===Y.type,g,"internal-error");const oe=(null===(_=D.multiFactorHint)||void 0===_?void 0:_.uid)||D.multiFactorUid;return ie(oe,g,"missing-multi-factor-info"),(yield function WF(g,u){return J(g,"POST","/v2/accounts/mfaSignIn:start",re(g,u))}(g,{mfaPendingCredential:Y.credential,mfaEnrollmentId:oe,phoneSignInInfo:{recaptchaToken:C}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield function dy(g,u){return ha.apply(this,arguments)}(g,{phoneNumber:D.phoneNumber,recaptchaToken:C});return Y}}finally{f._reset()}}),In.apply(this,arguments)}function Vp(g,u){return cc.apply(this,arguments)}function cc(){return(cc=(0,N.A)(function*(g,u){const f=(0,B.Ku)(g);if((0,Me._isFirebaseServerApp)(f.auth.app))return Promise.reject(Bt(f.auth));yield po(f,u)})).apply(this,arguments)}let Wr=(()=>{class g{constructor(f){this.providerId=g.PROVIDER_ID,this.auth=si(f)}verifyPhoneNumber(f,_){return Fd(this.auth,f,(0,B.Ku)(_))}static credential(f,_){return Hs._fromVerification(f,_)}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:_,temporaryProof:C}=f;return _&&C?Hs._fromTokenResponse(_,C):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function nl(g,u){return u?me(u):(ie(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class kh extends ua{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return So(u,this._buildIdpRequest())}_linkToIdToken(u,f){return So(u,this._buildIdpRequest(f))}_getReauthenticationResolver(u){return So(u,this._buildIdpRequest())}_buildIdpRequest(u){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(f.idToken=u),f}}function dc(g){return py(g.auth,new kh(g),g.bypassAuthState)}function _o(g){const{auth:u,user:f}=g;return ie(f,u,"internal-error"),my(f,new kh(g),g.bypassAuthState)}function tA(g){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,N.A)(function*(g){const{auth:u,user:f}=g;return ie(f,u,"internal-error"),po(f,new kh(g),g.bypassAuthState)})).apply(this,arguments)}class zy{constructor(u,f,_,C,D=!1){this.auth=u,this.resolver=_,this.user=C,this.bypassAuthState=D,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var u=this;return new Promise(function(){var f=(0,N.A)(function*(_,C){u.pendingPromise={resolve:_,reject:C};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(D){u.reject(D)}});return function(_,C){return f.apply(this,arguments)}}())}onAuthEvent(u){var f=this;return(0,N.A)(function*(){const{urlResponse:_,sessionId:C,postBody:D,tenantId:Y,error:oe,type:be}=u;if(oe)return void f.reject(oe);const je={auth:f.auth,requestUri:_,sessionId:C,tenantId:Y||void 0,postBody:D||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(be)(je))}catch(Je){f.reject(Je)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return dc;case"linkViaPopup":case"linkViaRedirect":return tA;case"reauthViaPopup":case"reauthViaRedirect":return _o;default:dn(this.auth,"internal-error")}}resolve(u){yt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){yt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _a=new zi(2e3,1e4);function jy(g,u,f){return Up.apply(this,arguments)}function Up(){return(Up=(0,N.A)(function*(g,u,f){if((0,Me._isFirebaseServerApp)(g.app))return Promise.reject(un(g,"operation-not-supported-in-this-environment"));const _=si(g);bt(g,u,Do);const C=nl(_,f);return new ct(_,"signInViaPopup",u,C).executeNotNull()})).apply(this,arguments)}function Hy(g,u,f){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,N.A)(function*(g,u,f){const _=(0,B.Ku)(g);if((0,Me._isFirebaseServerApp)(_.auth.app))return Promise.reject(un(_.auth,"operation-not-supported-in-this-environment"));bt(_.auth,u,Do);const C=nl(_.auth,f);return new ct(_.auth,"reauthViaPopup",u,C,_).executeNotNull()})).apply(this,arguments)}function $y(g,u,f){return zp.apply(this,arguments)}function zp(){return(zp=(0,N.A)(function*(g,u,f){const _=(0,B.Ku)(g);bt(_.auth,u,Do);const C=nl(_.auth,f);return new ct(_.auth,"linkViaPopup",u,C,_).executeNotNull()})).apply(this,arguments)}let ct=(()=>{class g extends zy{constructor(f,_,C,D,Y){super(f,_,D,Y),this.provider=C,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var f=this;return(0,N.A)(function*(){const _=yield f.execute();return ie(_,f.auth,"internal-error"),_})()}onExecution(){var f=this;return(0,N.A)(function*(){yt(1===f.filter.length,"Popup operations only handle one event");const _=wr();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],_),f.authWindow.associatedEvent=_,f.resolver._originValidation(f.auth).catch(C=>{f.reject(C)}),f.resolver._isIframeWebStorageSupported(f.auth,C=>{C||f.reject(un(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const f=()=>{var _,C;this.pollId=null!==(C=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==C&&C.closed?window.setTimeout(()=>{this.pollId=null,this.reject(un(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,_a.get())};f()}}return g.currentPopupAction=null,g})();const Wy="pendingRedirect",Rh=new Map;class nA extends zy{constructor(u,f,_=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,_),this.eventId=null}execute(){var u=()=>super.execute,f=this;return(0,N.A)(function*(){let _=Rh.get(f.auth._key());if(!_){try{const D=(yield function iA(g,u){return jp.apply(this,arguments)}(f.resolver,f.auth))?yield u().call(f):null;_=()=>Promise.resolve(D)}catch(C){_=()=>Promise.reject(C)}Rh.set(f.auth._key(),_)}return f.bypassAuthState||Rh.set(f.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(u){var f=()=>super.onAuthEvent,_=this;return(0,N.A)(function*(){if("signInViaRedirect"===u.type)return f().call(_,u);if("unknown"!==u.type){if(u.eventId){const C=yield _.auth._redirectUserForId(u.eventId);if(C)return _.user=C,f().call(_,u);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,N.A)(function*(){})()}cleanUp(){}}function jp(){return(jp=(0,N.A)(function*(g,u){const f=Ky(u),_=qy(g);if(!(yield _._isAvailable()))return!1;const C="true"===(yield _._get(f));return yield _._remove(f),C})).apply(this,arguments)}function Ph(g,u){return va.apply(this,arguments)}function va(){return(va=(0,N.A)(function*(g,u){return qy(g)._set(Ky(u),"true")})).apply(this,arguments)}function rA(){Rh.clear()}function Gy(g,u){Rh.set(g._key(),u)}function qy(g){return me(g._redirectPersistence)}function Ky(g){return qt(Wy,g.config.apiKey,g.name)}function oA(g,u,f){return function ye(g,u,f){return Yt.apply(this,arguments)}(g,u,f)}function Yt(){return(Yt=(0,N.A)(function*(g,u,f){if((0,Me._isFirebaseServerApp)(g.app))return Promise.reject(Bt(g));const _=si(g);bt(g,u,Do),yield _._initializationPromise;const C=nl(_,f);return yield Ph(C,_),C._openRedirect(_,u,"signInViaRedirect")})).apply(this,arguments)}function Rt(g,u,f){return function Pt(g,u,f){return Wi.apply(this,arguments)}(g,u,f)}function Wi(){return(Wi=(0,N.A)(function*(g,u,f){const _=(0,B.Ku)(g);if(bt(_.auth,u,Do),(0,Me._isFirebaseServerApp)(_.auth.app))return Promise.reject(Bt(_.auth));yield _.auth._initializationPromise;const C=nl(_.auth,f);yield Ph(C,_.auth);const D=yield Wp(_);return C._openRedirect(_.auth,u,"reauthViaRedirect",D)})).apply(this,arguments)}function Yy(g,u,f){return function Ld(g,u,f){return ko.apply(this,arguments)}(g,u,f)}function ko(){return(ko=(0,N.A)(function*(g,u,f){const _=(0,B.Ku)(g);bt(_.auth,u,Do),yield _.auth._initializationPromise;const C=nl(_.auth,f);yield Ad(!1,_,u.providerId),yield Ph(C,_.auth);const D=yield Wp(_);return C._openRedirect(_.auth,u,"linkViaRedirect",D)})).apply(this,arguments)}function Hp(g,u){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,N.A)(function*(g,u){return yield si(g)._initializationPromise,$p(g,u,!1)})).apply(this,arguments)}function $p(g,u){return Qy.apply(this,arguments)}function Qy(){return(Qy=(0,N.A)(function*(g,u,f=!1){if((0,Me._isFirebaseServerApp)(g.app))return Promise.reject(Bt(g));const _=si(g),C=nl(_,u),Y=yield new nA(_,C,f).execute();return Y&&!f&&(delete Y.user._redirectEventId,yield _._persistUserIfCurrent(Y.user),yield _._setRedirectUser(null,u)),Y})).apply(this,arguments)}function Wp(g){return cr.apply(this,arguments)}function cr(){return(cr=(0,N.A)(function*(g){const u=wr(`${g.uid}:::`);return g._redirectEventId=u,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),u})).apply(this,arguments)}class Gp{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let f=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(u,_)&&(f=!0,this.sendToConsumer(u,_),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function sA(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xs(g);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=u,f=!0)),f}sendToConsumer(u,f){var _;if(u.error&&!xs(u)){const C=(null===(_=u.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";f.onError(un(this.auth,C))}else f.onAuthEvent(u)}isEventForConsumer(u,f){const _=null===f.eventId||!!u.eventId&&u.eventId===f.eventId;return f.filter.includes(u.type)&&_}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(il(u))}saveEventToCache(u){this.cachedEventUids.add(il(u)),this.lastProcessedEventTime=Date.now()}}function il(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(u=>u).join("-")}function xs({type:g,error:u}){return"unknown"===g&&"auth/no-auth-event"===u?.code}function qp(g){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,N.A)(function*(g,u={}){return J(g,"GET","/v1/projects",u)})).apply(this,arguments)}const aA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yp=/^https?/;function Oh(){return(Oh=(0,N.A)(function*(g){if(g.config.emulator)return;const{authorizedDomains:u}=yield qp(g);for(const f of u)try{if(Xp(f))return}catch{}dn(g,"unauthorized-domain")})).apply(this,arguments)}function Xp(g){const u=Wt(),{protocol:f,hostname:_}=new URL(u);if(g.startsWith("chrome-extension://")){const Y=new URL(g);return""===Y.hostname&&""===_?"chrome-extension:"===f&&g.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===f&&Y.hostname===_}if(!Yp.test(f))return!1;if(aA.test(g))return _===g;const C=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+C+"|"+C+")$","i").test(_)}const lA=new zi(3e4,6e4);function Zp(){const g=Si().___jsl;if(g?.H)for(const u of Object.keys(g.H))if(g.H[u].r=g.H[u].r||[],g.H[u].L=g.H[u].L||[],g.H[u].r=[...g.H[u].L],g.CP)for(let f=0;f<g.CP.length;f++)g.CP[f]=null}let Bd=null;const Zy=new zi(5e3,15e3),Jy="__/auth/iframe",eg="emulator/auth/iframe",cA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dr(g){const u=g.config;ie(u.authDomain,g,"auth-domain-config-required");const f=u.emulator?Br(u,eg):`https://${g.config.authDomain}/${Jy}`,_={apiKey:u.apiKey,appName:g.name,v:Me.SDK_VERSION},C=dA.get(g.config.apiHost);C&&(_.eid=C);const D=g._getFrameworks();return D.length&&(_.fw=D.join(",")),`${f}?${(0,B.Am)(_).slice(1)}`}function Hn(){return Hn=(0,N.A)(function*(g){const u=yield function Xy(g){return Bd=Bd||function Jp(g){return new Promise((u,f)=>{var _,C,D;function Y(){Zp(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{Zp(),f(un(g,"network-request-failed"))},timeout:lA.get()})}if(null!==(C=null===(_=Si().gapi)||void 0===_?void 0:_.iframes)&&void 0!==C&&C.Iframe)u(gapi.iframes.getContext());else{if(null===(D=Si().gapi)||void 0===D||!D.load){const oe=DC("iframefcb");return Si()[oe]=()=>{gapi.load?Y():f(un(g,"network-request-failed"))},Zb(`${function SC(){return qo.gapiScript}()}?onload=${oe}`).catch(be=>f(be))}Y()}}).catch(u=>{throw Bd=null,u})}(g),Bd}(g),f=Si().gapi;return ie(f,g,"internal-error"),u.open({where:document.body,url:Dr(g),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cA,dontclear:!0},_=>new Promise(function(){var C=(0,N.A)(function*(D,Y){yield _.restyle({setHideOnLeave:!1});const oe=un(g,"network-request-failed"),be=Si().setTimeout(()=>{Y(oe)},Zy.get());function je(){Si().clearTimeout(be),D(_)}_.ping(je).then(je,()=>{Y(oe)})});return function(D,Y){return C.apply(this,arguments)}}()))}),Hn.apply(this,arguments)}const Nh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ng{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const fA="__/auth/handler",Lh="emulator/auth/handler",Vh=encodeURIComponent("fac");function uc(g,u,f,_,C,D){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,N.A)(function*(g,u,f,_,C,D){ie(g.config.authDomain,g,"auth-domain-config-required"),ie(g.config.apiKey,g,"invalid-api-key");const Y={apiKey:g.config.apiKey,appName:g.name,authType:f,redirectUrl:_,v:Me.SDK_VERSION,eventId:C};if(u instanceof Do){u.setDefaultLanguage(g.languageCode),Y.providerId=u.providerId||"",(0,B.Im)(u.getCustomParameters())||(Y.customParameters=JSON.stringify(u.getCustomParameters()));for(const[Je,Vt]of Object.entries(D||{}))Y[Je]=Vt}if(u instanceof or){const Je=u.getScopes().filter(Vt=>""!==Vt);Je.length>0&&(Y.scopes=Je.join(","))}g.tenantId&&(Y.tid=g.tenantId);const oe=Y;for(const Je of Object.keys(oe))void 0===oe[Je]&&delete oe[Je];const be=yield g._getAppCheckToken(),je=be?`#${Vh}=${encodeURIComponent(be)}`:"";return`${function t0({config:g}){return g.emulator?Br(g,Lh):`https://${g.authDomain}/${fA}`}(g)}?${(0,B.Am)(oe).slice(1)}${je}`})).apply(this,arguments)}const Bh="webStorageSupport",ol=class mA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ty,this._completeRedirectFn=$p,this._overrideRedirectResult=Gy}_openPopup(u,f,_,C){var D=this;return(0,N.A)(function*(){var Y;yt(null===(Y=D.eventManagers[u._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const oe=yield uc(u,f,_,Wt(),C);return function Fh(g,u,f,_=500,C=600){const D=Math.max((window.screen.availHeight-C)/2,0).toString(),Y=Math.max((window.screen.availWidth-_)/2,0).toString();let oe="";const be=Object.assign(Object.assign({},Nh),{width:_.toString(),height:C.toString(),top:D,left:Y}),je=(0,B.ZQ)().toLowerCase();f&&(oe=gs(je)?"_blank":f),Pe(je)&&(u=u||"http://localhost",be.scrollbars="yes");const Je=Object.entries(be).reduce((kr,[ya,sl])=>`${kr}${ya}=${sl},`,"");if(function ce(g=(0,B.ZQ)()){var u;return sp(g)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(je)&&"_self"!==oe)return function ba(g,u){const f=document.createElement("a");f.href=g,f.target=u;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(_)}(u||"",oe),new ng(null);const Vt=window.open(u||"",oe,Je);ie(Vt,g,"popup-blocked");try{Vt.focus()}catch{}return new ng(Vt)}(u,oe,wr())})()}_openRedirect(u,f,_,C){var D=this;return(0,N.A)(function*(){return yield D._originValidation(u),function Dy(g){Si().location.href=g}(yield uc(u,f,_,Wt(),C)),new Promise(()=>{})})()}_initialize(u){const f=u._key();if(this.eventManagers[f]){const{manager:C,promise:D}=this.eventManagers[f];return C?Promise.resolve(C):(yt(D,"If manager is not set, promise should be"),D)}const _=this.initAndGetManager(u);return this.eventManagers[f]={promise:_},_.catch(()=>{delete this.eventManagers[f]}),_}initAndGetManager(u){var f=this;return(0,N.A)(function*(){const _=yield function rl(g){return Hn.apply(this,arguments)}(u),C=new Gp(u);return _.register("authEvent",D=>(ie(D?.authEvent,u,"invalid-auth-event"),{status:C.onEvent(D.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[u._key()]={manager:C},f.iframes[u._key()]=_,C})()}_isIframeWebStorageSupported(u,f){this.iframes[u._key()].send(Bh,{type:Bh},C=>{var D;const Y=null===(D=C?.[0])||void 0===D?void 0:D[Bh];void 0!==Y&&f(!!Y),dn(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const f=u._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Qp(g){return Oh.apply(this,arguments)}(u)),this.originValidationPromises[f]}get _shouldInitProactively(){return wt()||oi()||sp()}};class hc{constructor(u){this.factorId=u}_process(u,f,_){switch(f.type){case"enroll":return this._finalizeEnroll(u,f.credential,_);case"signin":return this._finalizeSignIn(u,f.credential);default:return Ze("unexpected MultiFactorSessionType")}}}class ig extends hc{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new ig(u)}_finalizeEnroll(u,f,_){return function BF(g,u){return J(g,"POST","/v2/accounts/mfaEnrollment:finalize",re(g,u))}(u,{idToken:f,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,f){return function GF(g,u){return J(g,"POST","/v2/accounts/mfaSignIn:finalize",re(g,u))}(u,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let KF=(()=>{class g{constructor(){}static assertion(f){return ig._fromCredential(f)}}return g.FACTOR_ID="phone",g})();var pA="@firebase/auth";class rg{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var f=this;return(0,N.A)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const f=this.auth.onIdTokenChanged(_=>{u(_?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,f),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const f=this.internalListeners.get(u);f&&(this.internalListeners.delete(u),f(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const og=(0,B.XA)("authIdTokenMaxAge")||300;let Hd=null;const YF=g=>function(){var u=(0,N.A)(function*(f){const _=f&&(yield f.getIdTokenResult()),C=_&&((new Date).getTime()-Date.parse(_.issuedAtTime))/1e3;if(C&&C>og)return;const D=_?.token;Hd!==D&&(Hd=D,yield fetch(g,{method:D?"POST":"DELETE",headers:D?{Authorization:`Bearer ${D}`}:{}}))});return function(f){return u.apply(this,arguments)}}();function s0(g=(0,Me.getApp)()){const u=(0,Me._getProvider)(g,"auth");if(u.isInitialized())return u.getImmediate();const f=function pt(g,u){const f=(0,Me._getProvider)(g,"auth");if(f.isInitialized()){const C=f.getImmediate(),D=f.getOptions();if((0,B.bD)(D,u??{}))return C;dn(C,"already-initialized")}return f.initialize({options:u})}(g,{popupRedirectResolver:ol,persistence:[Ah,Gs,Ty]}),_=(0,B.XA)("authTokenSyncURL");if(_&&"boolean"==typeof isSecureContext&&isSecureContext){const D=new URL(_,location.origin);if(location.origin===D.origin){const Y=YF(D.toString());(function Tp(g,u,f){(0,B.Ku)(g).beforeAuthStateChanged(u,f)})(f,Y,()=>Y(f.currentUser)),function Qo(g,u,f,_){(0,B.Ku)(g).onIdTokenChanged(u,f,_)}(f,oe=>Y(oe))}}const C=(0,B.Tj)("auth");return C&&ny(f,`http://${C}`),f}(function AF(g){qo=g})({loadJS:g=>new Promise((u,f)=>{const _=document.createElement("script");_.setAttribute("src",g),_.onload=u,_.onerror=C=>{const D=un("internal-error");D.customData=C,f(D)},_.type="text/javascript",_.charset="UTF-8",function a0(){var g,u;return null!==(u=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==u?u:document}().appendChild(_)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function _A(g){(0,Me._registerComponent)(new Yn.uA("auth",(u,{options:f})=>{const _=u.getProvider("app").getImmediate(),C=u.getProvider("heartbeat"),D=u.getProvider("app-check-internal"),{apiKey:Y,authDomain:oe}=_.options;ie(Y&&!Y.includes(":"),"invalid-api-key",{appName:_.name});const be={apiKey:Y,authDomain:oe,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fn(g)},je=new CF(_,C,D,be);return function mh(g,u){const f=u?.persistence||[],_=(Array.isArray(f)?f:[f]).map(me);u?.errorMap&&g._updateErrorMap(u.errorMap),g._initializeWithPersistence(_,u?.popupRedirectResolver)}(je,f),je},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,f,_)=>{u.getProvider("auth-internal").initialize()})),(0,Me._registerComponent)(new Yn.uA("auth-internal",u=>{const f=si(u.getProvider("auth").getImmediate());return new rg(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Me.registerVersion)(pA,"1.7.9",function zd(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(g)),(0,Me.registerVersion)(pA,"1.7.9","esm2017")}("Browser")},401:(Ho,Mi,tt)=>{tt.d(Mi,{Am:()=>ps,Bd:()=>Ze,FA:()=>Ce,Fy:()=>Bt,I9:()=>zr,Im:()=>Zi,Ku:()=>_e,Ll:()=>ie,T9:()=>dn,Tj:()=>ri,Uj:()=>Mt,XA:()=>un,ZQ:()=>bt,bD:()=>Ur,c1:()=>Wt,cY:()=>pr,eX:()=>se,g:()=>he,gR:()=>yi,hp:()=>To,jZ:()=>Se,lT:()=>Bn,lV:()=>Cn,mS:()=>$t,nr:()=>ms,p7:()=>yt,sr:()=>Vn,tD:()=>$i,u:()=>pe,yU:()=>Ln,zW:()=>W,zw:()=>Ke});const Ge=function(A){const x=[];let T=0;for(let R=0;R<A.length;R++){let U=A.charCodeAt(R);U<128?x[T++]=U:U<2048?(x[T++]=U>>6|192,x[T++]=63&U|128):55296==(64512&U)&&R+1<A.length&&56320==(64512&A.charCodeAt(R+1))?(U=65536+((1023&U)<<10)+(1023&A.charCodeAt(++R)),x[T++]=U>>18|240,x[T++]=U>>12&63|128,x[T++]=U>>6&63|128,x[T++]=63&U|128):(x[T++]=U>>12|224,x[T++]=U>>6&63|128,x[T++]=63&U|128)}return x},Yn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(A,x){if(!Array.isArray(A))throw Error("encodeByteArray takes an array as a parameter");this.init_();const T=x?this.byteToCharMapWebSafe_:this.byteToCharMap_,R=[];for(let U=0;U<A.length;U+=3){const me=A[U],Ie=U+1<A.length,Ye=Ie?A[U+1]:0,qt=U+2<A.length,Qe=qt?A[U+2]:0;let oi=(15&Ye)<<2|Qe>>6,gs=63&Qe;qt||(gs=64,Ie||(oi=64)),R.push(T[me>>2],T[(3&me)<<4|Ye>>4],T[oi],T[gs])}return R.join("")},encodeString(A,x){return this.HAS_NATIVE_SUPPORT&&!x?btoa(A):this.encodeByteArray(Ge(A),x)},decodeString(A,x){return this.HAS_NATIVE_SUPPORT&&!x?atob(A):function(A){const x=[];let T=0,R=0;for(;T<A.length;){const U=A[T++];if(U<128)x[R++]=String.fromCharCode(U);else if(U>191&&U<224){const me=A[T++];x[R++]=String.fromCharCode((31&U)<<6|63&me)}else if(U>239&&U<365){const qt=((7&U)<<18|(63&A[T++])<<12|(63&A[T++])<<6|63&A[T++])-65536;x[R++]=String.fromCharCode(55296+(qt>>10)),x[R++]=String.fromCharCode(56320+(1023&qt))}else{const me=A[T++],Ie=A[T++];x[R++]=String.fromCharCode((15&U)<<12|(63&me)<<6|63&Ie)}}return x.join("")}(this.decodeStringToByteArray(A,x))},decodeStringToByteArray(A,x){this.init_();const T=x?this.charToByteMapWebSafe_:this.charToByteMap_,R=[];for(let U=0;U<A.length;){const me=T[A.charAt(U++)],Ye=U<A.length?T[A.charAt(U)]:0;++U;const Qe=U<A.length?T[A.charAt(U)]:64;++U;const Pe=U<A.length?T[A.charAt(U)]:64;if(++U,null==me||null==Ye||null==Qe||null==Pe)throw new Qn;R.push(me<<2|Ye>>4),64!==Qe&&(R.push(Ye<<4&240|Qe>>2),64!==Pe&&R.push(Qe<<6&192|Pe))}return R},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let A=0;A<this.ENCODED_VALS.length;A++)this.byteToCharMap_[A]=this.ENCODED_VALS.charAt(A),this.charToByteMap_[this.byteToCharMap_[A]]=A,this.byteToCharMapWebSafe_[A]=this.ENCODED_VALS_WEBSAFE.charAt(A),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[A]]=A,A>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(A)]=A,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(A)]=A)}}};class Qn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mt=function(A){return function(A){const x=Ge(A);return Yn.encodeByteArray(x,!0)}(A).replace(/\./g,"")},pe=function(A){try{return Yn.decodeString(A,!0)}catch(x){console.error("base64Decode failed: ",x)}return null};function Ke(A,x){if(!(x instanceof Object))return x;switch(x.constructor){case Date:return new Date(x.getTime());case Object:void 0===A&&(A={});break;case Array:A=[];break;default:return x}for(const T in x)!x.hasOwnProperty(T)||!Tt(T)||(A[T]=Ke(A[T],x[T]));return A}function Tt(A){return"__proto__"!==A}function $t(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nt=()=>{try{return $t().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const A=process.env.__FIREBASE_DEFAULTS__;return A?JSON.parse(A):void 0})()||(()=>{if(typeof document>"u")return;let A;try{A=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const x=A&&pe(A[1]);return x&&JSON.parse(x)})()}catch(A){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${A}`)}},ri=A=>{var x,T;return null===(T=null===(x=nt())||void 0===x?void 0:x.emulatorHosts)||void 0===T?void 0:T[A]},Ln=A=>{const x=ri(A);if(!x)return;const T=x.lastIndexOf(":");if(T<=0||T+1===x.length)throw new Error(`Invalid host ${x} with no separate hostname and port!`);const R=parseInt(x.substring(T+1),10);return"["===x[0]?[x.substring(1,T-1),R]:[x.substring(0,T),R]},dn=()=>{var A;return null===(A=nt())||void 0===A?void 0:A.config},un=A=>{var x;return null===(x=nt())||void 0===x?void 0:x[`_${A}`]};class pr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((x,T)=>{this.resolve=x,this.reject=T})}wrapCallback(x){return(T,R)=>{T?this.reject(T):this.resolve(R),"function"==typeof x&&(this.promise.catch(()=>{}),1===x.length?x(T):x(T,R))}}}function Bt(A,x){if(A.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const R=x||"demo-project",U=A.iat||0,me=A.sub||A.user_id;if(!me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ie=Object.assign({iss:`https://securetoken.google.com/${R}`,aud:R,iat:U,exp:U+3600,auth_time:U,sub:me,user_id:me,firebase:{sign_in_provider:"custom",identities:{}}},A);return[Mt(JSON.stringify({alg:"none",type:"JWT"})),Mt(JSON.stringify(Ie)),""].join(".")}function bt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Se(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function ie(){var A;const x=null===(A=nt())||void 0===A?void 0:A.forceEnvironment;if("node"===x)return!0;if("browser"===x)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ze(){return typeof window<"u"||yt()}function yt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Wt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Vn(){const A="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof A&&void 0!==A.id}function Cn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Bn(){const A=bt();return A.indexOf("MSIE ")>=0||A.indexOf("Trident/")>=0}function ms(){return!ie()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W(){try{return"object"==typeof indexedDB}catch{return!1}}function se(){return new Promise((A,x)=>{try{let T=!0;const R="validate-browser-context-for-indexeddb-analytics-module",U=self.indexedDB.open(R);U.onsuccess=()=>{U.result.close(),T||self.indexedDB.deleteDatabase(R),A(!0)},U.onupgradeneeded=()=>{T=!1},U.onerror=()=>{var me;x((null===(me=U.error)||void 0===me?void 0:me.message)||"")}}catch(T){x(T)}})}class he extends Error{constructor(x,T,R){super(T),this.code=x,this.customData=R,this.name="FirebaseError",Object.setPrototypeOf(this,he.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ce.prototype.create)}}class Ce{constructor(x,T,R){this.service=x,this.serviceName=T,this.errors=R}create(x,...T){const R=T[0]||{},U=`${this.service}/${x}`,me=this.errors[x],Ie=me?function fe(A,x){return A.replace(it,(T,R)=>{const U=x[R];return null!=U?String(U):`<${R}?>`})}(me,R):"Error";return new he(U,`${this.serviceName}: ${Ie} (${U}).`,R)}}const it=/\{\$([^}]+)}/g;function yi(A,x){return Object.prototype.hasOwnProperty.call(A,x)}function Zi(A){for(const x in A)if(Object.prototype.hasOwnProperty.call(A,x))return!1;return!0}function Ur(A,x){if(A===x)return!0;const T=Object.keys(A),R=Object.keys(x);for(const U of T){if(!R.includes(U))return!1;const me=A[U],Ie=x[U];if(Ls(me)&&Ls(Ie)){if(!Ur(me,Ie))return!1}else if(me!==Ie)return!1}for(const U of R)if(!T.includes(U))return!1;return!0}function Ls(A){return null!==A&&"object"==typeof A}function ps(A){const x=[];for(const[T,R]of Object.entries(A))Array.isArray(R)?R.forEach(U=>{x.push(encodeURIComponent(T)+"="+encodeURIComponent(U))}):x.push(encodeURIComponent(T)+"="+encodeURIComponent(R));return x.length?"&"+x.join("&"):""}function zr(A){const x={};return A.replace(/^\?/,"").split("&").forEach(R=>{if(R){const[U,me]=R.split("=");x[decodeURIComponent(U)]=decodeURIComponent(me)}}),x}function To(A){const x=A.indexOf("?");if(!x)return"";const T=A.indexOf("#",x);return A.substring(x,T>0?T:void 0)}function $i(A,x){const T=new co(A,x);return T.subscribe.bind(T)}class co{constructor(x,T){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=T,this.task.then(()=>{x(this)}).catch(R=>{this.error(R)})}next(x){this.forEachObserver(T=>{T.next(x)})}error(x){this.forEachObserver(T=>{T.error(x)}),this.close(x)}complete(){this.forEachObserver(x=>{x.complete()}),this.close()}subscribe(x,T,R){let U;if(void 0===x&&void 0===T&&void 0===R)throw new Error("Missing Observer.");U=function Ji(A,x){if("object"!=typeof A||null===A)return!1;for(const T of x)if(T in A&&"function"==typeof A[T])return!0;return!1}(x,["next","error","complete"])?x:{next:x,error:T,complete:R},void 0===U.next&&(U.next=Xn),void 0===U.error&&(U.error=Xn),void 0===U.complete&&(U.complete=Xn);const me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?U.error(this.finalError):U.complete()}catch{}}),this.observers.push(U),me}unsubscribeOne(x){void 0===this.observers||void 0===this.observers[x]||(delete this.observers[x],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(x){if(!this.finalized)for(let T=0;T<this.observers.length;T++)this.sendOne(T,x)}sendOne(x,T){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[x])try{T(this.observers[x])}catch(R){typeof console<"u"&&console.error&&console.error(R)}})}close(x){this.finalized||(this.finalized=!0,void 0!==x&&(this.finalError=x),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xn(){}function _e(A){return A&&A._delegate?A._delegate:A}},510:(Ho,Mi,tt)=>{function N(n){return"function"==typeof n}function Me(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const B=Me(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Ge(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class ft{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(N(i))try{i()}catch(o){t=o instanceof B?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Jt(o)}catch(s){t=t??[],s instanceof B?t=[...t,...s.errors]:t.push(s)}}if(t)throw new B(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Jt(t);else{if(t instanceof ft){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Ge(e,t)}remove(t){const{_finalizers:e}=this;e&&Ge(e,t),t instanceof ft&&t._removeParent(this)}}ft.EMPTY=(()=>{const n=new ft;return n.closed=!0,n})();const Yn=ft.EMPTY;function Qn(n){return n instanceof ft||n&&"closed"in n&&N(n.remove)&&N(n.add)&&N(n.unsubscribe)}function Jt(n){N(n)?n():n.unsubscribe()}const Mt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},pe={setTimeout(n,t,...e){const{delegate:i}=pe;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=pe;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ee(n){pe.setTimeout(()=>{const{onUnhandledError:t}=Mt;if(!t)throw n;t(n)})}function Ke(){}const Tt=Lt("C",void 0,void 0);function Lt(n,t,e){return{kind:n,value:t,error:e}}let dt=null;function nt(n){if(Mt.useDeprecatedSynchronousErrorHandling){const t=!dt;if(t&&(dt={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=dt;if(dt=null,e)throw i}}else n()}class Ln extends ft{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Qn(t)&&t.add(this)):this.destination=Ze}static create(t,e,i){return new Bt(t,e,i)}next(t){this.isStopped?ie(function Ai(n){return Lt("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ie(function $t(n){return Lt("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ie(Tt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const dn=Function.prototype.bind;function un(n,t){return dn.call(n,t)}class pr{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){bt(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){bt(i)}else bt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){bt(e)}}}class Bt extends Ln{constructor(t,e,i){let r;if(super(),N(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&Mt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&un(t.next,o),error:t.error&&un(t.error,o),complete:t.complete&&un(t.complete,o)}):r=t}this.destination=new pr(r)}}function bt(n){Mt.useDeprecatedSynchronousErrorHandling?function ri(n){Mt.useDeprecatedSynchronousErrorHandling&&dt&&(dt.errorThrown=!0,dt.error=n)}(n):Ee(n)}function ie(n,t){const{onStoppedNotification:e}=Mt;e&&pe.setTimeout(()=>e(n,t))}const Ze={closed:!0,next:Ke,error:function Se(n){throw n},complete:Ke},yt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Wt(n){return n}function Vn(...n){return Cn(n)}function Cn(n){return 0===n.length?Wt:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let rt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function Br(n){return n&&n instanceof Ln||function zi(n){return n&&N(n.next)&&N(n.error)&&N(n.complete)}(n)&&Qn(n)}(e)?e:new Bt(e,i,r);return nt(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Bn(i))((r,o)=>{const s=new Bt({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[yt](){return this}pipe(...e){return Cn(e)(this)}toPromise(e){return new(e=Bn(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function Bn(n){var t;return null!==(t=n??Mt.Promise)&&void 0!==t?t:Promise}const ms=Me(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let W=(()=>{class n extends rt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new se(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new ms}next(e){nt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){nt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){nt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Yn:(this.currentObservers=null,o.push(e),new ft(()=>{this.currentObservers=null,Ge(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new rt;return e.source=this,e}}return n.create=(t,e)=>new se(t,e),n})();class se extends W{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Yn}}function re(n){return N(n?.lift)}function J(n){return t=>{if(re(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(n,t,e,i,r){return new Ce(n,t,e,i,r)}class Ce extends Ln{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function fe(n,t){return J((e,i)=>{let r=0;e.subscribe(he(i,o=>{i.next(n.call(t,o,r++))}))})}var it=tt(635);const yn=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function at(n){return N(n?.then)}function en(n){return N(n[yt])}function Un(n){return Symbol.asyncIterator&&N(n?.[Symbol.asyncIterator])}function ji(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const nn=function tn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function yi(n){return N(n?.[nn])}function Hi(n){return(0,it.AQ)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,it.N3)(e.read());if(r)return yield(0,it.N3)(void 0);yield yield(0,it.N3)(i)}}finally{e.releaseLock()}})}function Zi(n){return N(n?.getReader)}function Gt(n){if(n instanceof rt)return n;if(null!=n){if(en(n))return function Ur(n){return new rt(t=>{const e=n[yt]();if(N(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(yn(n))return function Ls(n){return new rt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(at(n))return function ca(n){return new rt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Ee)})}(n);if(Un(n))return zr(n);if(yi(n))return function ps(n){return new rt(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Zi(n))return function To(n){return zr(Hi(n))}(n)}throw ji(n)}function zr(n){return new rt(t=>{(function Vs(n,t){var e,i,r,o;return(0,it.sH)(this,void 0,void 0,function*(){try{for(e=(0,it.xN)(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function $i(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function zn(n,t,e=1/0){return N(t)?zn((i,r)=>fe((o,s)=>t(i,o,r,s))(Gt(n(i,r))),e):("number"==typeof t&&(e=t),J((i,r)=>function co(n,t,e,i,r,o,s,a){const l=[];let c=0,d=0,h=!1;const p=()=>{h&&!l.length&&!c&&t.complete()},v=w=>c<i?b(w):l.push(w),b=w=>{o&&t.next(w),c++;let E=!1;Gt(e(w,d++)).subscribe(he(t,M=>{r?.(M),o?v(M):t.next(M)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;l.length&&c<i;){const M=l.shift();s?$i(t,s,()=>b(M)):b(M)}p()}catch(M){t.error(M)}}))};return n.subscribe(he(t,v,()=>{h=!0,p()})),()=>{a?.()}}(i,r,n,e)))}function Ji(n=1/0){return zn(Wt,n)}const Xn=new rt(n=>n.complete());function gn(n){return n&&N(n.schedule)}function uo(n){return n[n.length-1]}function Wo(n){return N(uo(n))?n.pop():void 0}function Go(n){return gn(uo(n))?n.pop():void 0}function Ti(n,t=0){return J((e,i)=>{e.subscribe(he(i,r=>$i(i,n,()=>i.next(r),t),()=>$i(i,n,()=>i.complete(),t),r=>$i(i,n,()=>i.error(r),t)))})}function _r(n,t=0){return J((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function Ya(n,t){if(!n)throw new Error("Iterable cannot be null");return new rt(e=>{$i(e,t,()=>{const i=n[Symbol.asyncIterator]();$i(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function A(n,t){return t?function _e(n,t){if(null!=n){if(en(n))return function Us(n,t){return Gt(n).pipe(_r(t),Ti(t))}(n,t);if(yn(n))return function js(n,t){return new rt(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(at(n))return function zs(n,t){return Gt(n).pipe(_r(t),Ti(t))}(n,t);if(Un(n))return Ya(n,t);if(yi(n))return function da(n,t){return new rt(e=>{let i;return $i(e,t,()=>{i=n[nn](),$i(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>N(i?.return)&&i.return()})}(n,t);if(Zi(n))return function Ne(n,t){return Ya(Hi(n),t)}(n,t)}throw ji(n)}(n,t):Gt(n)}function x(...n){const t=Go(n),e=function gr(n,t){return"number"==typeof uo(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Gt(i[0]):Ji(e)(A(i,t)):Xn}class T extends W{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function R(...n){return A(n,Go(n))}function U(n={}){const{connector:t=(()=>new W),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,c=0,d=!1,h=!1;const p=()=>{a?.unsubscribe(),a=void 0},v=()=>{p(),s=l=void 0,d=h=!1},b=()=>{const w=s;v(),w?.unsubscribe()};return J((w,E)=>{c++,!h&&!d&&p();const M=l=l??t();E.add(()=>{c--,0===c&&!h&&!d&&(a=me(b,r))}),M.subscribe(E),!s&&c>0&&(s=new Bt({next:S=>M.next(S),error:S=>{h=!0,p(),a=me(v,e,S),M.error(S)},complete:()=>{d=!0,p(),a=me(v,i),M.complete()}}),Gt(w).subscribe(s))})(o)}}function me(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Bt({next:()=>{i.unsubscribe(),n()}});return Gt(t(...e)).subscribe(i)}function Ie(n,t){return J((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(he(i,l=>{r?.unsubscribe();let c=0;const d=o++;Gt(n(l,d)).subscribe(r=he(i,h=>i.next(t?t(l,h,d,c++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Ye(n,t=Wt){return n=n??qt,J((e,i)=>{let r,o=!0;e.subscribe(he(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function qt(n,t){return n===t}function Qe(n){for(let t in n)if(n[t]===Qe)return t;throw Error("Could not find renamed property on target object.")}function jn(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Pe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Pe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function oi(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const gs=Qe({__forward_ref__:Qe});function hn(n){return n.__forward_ref__=hn,n.toString=function(){return Pe(this())},n}function ut(n){return dh(n)?n():n}function dh(n){return"function"==typeof n&&n.hasOwnProperty(gs)&&n.__forward_ref__===hn}function uh(n){return n&&!!n.\u0275providers}const Xb="https://g.co/ng/security#xss";class ce extends Error{constructor(t,e){super(function hh(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function wt(n){return"string"==typeof n?n:null==n?"":String(n)}function lp(n,t){throw new ce(-201,!1)}function fo(n,t){null==n&&function ht(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function Ae(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function pt(n){return{providers:n.providers||[],imports:n.imports||[]}}function mh(n){return cp(n,ph)||cp(n,dp)}function cp(n,t){return n.hasOwnProperty(t)?n[t]:null}function gd(n){return n&&(n.hasOwnProperty(ua)||n.hasOwnProperty(up))?n[ua]:null}const ph=Qe({\u0275prov:Qe}),ua=Qe({\u0275inj:Qe}),dp=Qe({ngInjectableDef:Qe}),up=Qe({ngInjectorDef:Qe});var Ut=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ut||{});let _d;function vr(n){const t=_d;return _d=n,t}function ry(n,t,e){const i=mh(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Ut.Optional?null:void 0!==t?t:void lp(Pe(n))}const kn=globalThis;class de{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Ae({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Qa={},Xa="__NG_DI_FLAG__",So="ngTempTokenPath",PC=/\n/gm,dy="__source";let ha;function vs(n){const t=ha;return ha=n,t}function NC(n,t=Ut.Default){if(void 0===ha)throw new ce(-203,!1);return null===ha?ry(n,void 0,t):ha.get(n,t&Ut.Optional?null:void 0,t)}function X(n,t=Ut.Default){return(function iy(){return _d}()||NC)(ut(n),t)}function De(n,t=Ut.Default){return X(n,Jl(t))}function Jl(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Hs(n){const t=[];for(let e=0;e<n.length;e++){const i=ut(n[e]);if(Array.isArray(i)){if(0===i.length)throw new ce(900,!1);let r,o=Ut.Default;for(let s=0;s<i.length;s++){const a=i[s],l=FC(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(X(r,o))}else t.push(X(i))}return t}function wd(n,t){return n[Xa]=t,n.prototype[Xa]=t,n}function FC(n){return n[Xa]}function Ko(n){return{toString:n}.toString()}var Do=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Do||{}),or=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(or||{});const jr={},ln=[],gh=Qe({\u0275cmp:Qe}),pp=Qe({\u0275dir:Qe}),gp=Qe({\u0275pipe:Qe}),Za=Qe({\u0275mod:Qe}),$s=Qe({\u0275fac:Qe}),fa=Qe({__NG_ELEMENT_ID__:Qe}),hy=Qe({__NG_ENV_ID__:Qe});function _p(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}function Ed(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{const o=r,s=e[++i];vp(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function mo(n){return 3===n||4===n||6===n}function vp(n){return 64===n.charCodeAt(0)}function Id(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||_h(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function _h(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const Cd="ng-template";function fy(n,t,e){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(e&&"class"===o&&-1!==_p(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function bp(n){return 4===n.type&&n.value!==Cd}function LC(n,t,e){return t===(4!==n.type||e?n.value:Cd)}function yp(n,t,e){let i=4;const r=n.attrs||[],o=function my(n){for(let t=0;t<n.length;t++)if(mo(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!LC(n,l,e)||""===l&&1===t.length){if(po(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!fy(n.attrs,c,e)){if(po(i))return!1;s=!0}continue}const h=wp(8&i?"class":l,r,bp(n),e);if(-1===h){if(po(i))return!1;s=!0;continue}if(""!==c){let p;p=h>o?"":r[h+1].toLowerCase();const v=8&i?p:null;if(v&&-1!==_p(v,c,0)||2&i&&c!==p){if(po(i))return!1;s=!0}}}}else{if(!s&&!po(i)&&!po(l))return!1;if(s&&po(l))continue;s=!1,i=l|1&i}}return po(i)||s}function po(n){return 0==(1&n)}function wp(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function Ep(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Ad(n,t,e=!1){for(let i=0;i<t.length;i++)if(yp(n,t[i],e))return!0;return!1}function py(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function vh(n,t){return n?":not("+t.trim()+")":t}function bh(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!po(s)&&(t+=vh(o,r),r=""),i=s,o=o||!po(i);e++}return""!==r&&(t+=vh(o,r)),t}function St(n){return Ko(()=>{const t=wh(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Do.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||or.Emulated,styles:n.styles||ln,_:null,schemas:n.schemas||null,tView:null,id:""};vy(e);const i=n.dependencies;return e.directiveDefs=ec(i,!1),e.pipeDefs=ec(i,!0),e.id=function Ap(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function Cp(n){return Kt(n)||Ri(n)}function VC(n){return null!==n}function mt(n){return Ko(()=>({type:n.type,bootstrap:n.bootstrap||ln,declarations:n.declarations||ln,imports:n.imports||ln,exports:n.exports||ln,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function yh(n,t){if(null==n)return jr;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}function Te(n){return Ko(()=>{const t=wh(n);return vy(t),t})}function br(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Kt(n){return n[gh]||null}function Ri(n){return n[pp]||null}function sr(n){return n[gp]||null}function go(n,t){const e=n[Za]||null;if(!e&&!0===t)throw new Error(`Type ${Pe(n)} does not have '\u0275mod' property.`);return e}function wh(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||jr,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||ln,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yh(n.inputs,t),outputs:yh(n.outputs)}}function vy(n){n.features?.forEach(t=>t(n))}function ec(n,t){if(!n)return null;const e=t?sr:Cp;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(VC)}const ai=0,ze=1,Dt=2,Mn=3,Yo=4,Ja=5,yr=6,tc=7,li=8,pa=9,nc=10,gt=11,Td=12,xh=13,ic=14,ci=15,Sd=16,ga=17,bs=18,el=19,by=20,ys=21,Ws=22,tl=23,Dd=24,zt=25,kd=1,yy=2,Sr=7,rc=9,ar=11;function Hr(n){return Array.isArray(n)&&"object"==typeof n[kd]}function $r(n){return Array.isArray(n)&&!0===n[kd]}function wy(n){return 0!=(4&n.flags)}function oc(n){return n.componentOffset>-1}function sc(n){return 1==(1&n.flags)}function Qo(n){return!!n.template}function Tp(n){return 0!=(512&n[Dt])}function lc(n,t){return n.hasOwnProperty($s)?n[$s]:null}let lr=null,Eh=!1;function wr(n){const t=lr;return lr=n,t}const Sy={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Dy(n){if(!qs(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Mp(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Ch(n){n.dirty=!0,function Ih(n){if(void 0===n.liveConsumerNode)return;const t=Eh;Eh=!0;try{for(const e of n.liveConsumerNode)e.dirty||Ch(e)}finally{Eh=t}}(n),n.consumerMarkedDirty?.(n)}function Dp(n){return n&&(n.nextProducerIndex=0),wr(n)}function kp(n,t){if(wr(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(qs(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)Nd(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Mp(n){Ks(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(Dy(e),i!==e.version))return!0}return!1}function ky(n){if(Ks(n),qs(n))for(let t=0;t<n.producerNode.length;t++)Nd(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Nd(n,t){if(function My(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Ks(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Nd(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];Ks(r),r.producerIndexOfThis[i]=t}}function qs(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ks(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let Oy=null;function Ly(n){const t=wr(null);try{return n()}finally{wr(t)}}const Vy=()=>{},XC=(()=>({...Sy,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:Vy}))();class ZC{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Di(){return By}function By(n){return n.type.prototype.ngOnChanges&&(n.setInput=eA),JC}function JC(){const n=Uy(this),t=n?.current;if(t){const e=n.previous;if(e===jr)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function eA(n,t,e,i){const r=this.declaredInputs[e],o=Uy(n)||function Np(n,t){return n[Sh]=t}(n,{previous:jr,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new ZC(l&&l.currentValue,t,a===jr),n[i]=t}Di.ngInherit=!0;const Sh="__ngSimpleChanges__";function Uy(n){return n[Sh]||null}const ws=function(n,t,e){},Dh="svg";function In(n){for(;Array.isArray(n);)n=n[ai];return n}function cc(n,t){return In(t[n])}function Wr(n,t){return In(t[n.index])}function kh(n,t){return n.data[t]}function dc(n,t){return n[t]}function _o(n,t){const e=t[n];return Hr(e)?e:e[ai]}function _a(n,t){return null==t?null:n[t]}function jy(n){n[ga]=0}function Up(n){1024&n[Dt]||(n[Dt]|=1024,Mh(n,1))}function Hy(n){1024&n[Dt]&&(n[Dt]&=-1025,Mh(n,-1))}function Mh(n,t){let e=n[Mn];if(null===e)return;e[Ja]+=t;let i=e;for(e=e[Mn];null!==e&&(1===t&&1===i[Ja]||-1===t&&0===i[Ja]);)e[Ja]+=t,i=e,e=e[Mn]}const ct={lFrame:Xy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ph(){return ct.bindingsEnabled}function va(){return null!==ct.skipHydrationRootTNode}function ye(){return ct.lFrame.lView}function Yt(){return ct.lFrame.tView}function Rt(n){return ct.lFrame.contextLView=n,n[li]}function Pt(n){return ct.lFrame.contextLView=null,n}function Wi(){let n=Yy();for(;null!==n&&64===n.type;)n=n.parent;return n}function Yy(){return ct.lFrame.currentTNode}function ko(n,t){const e=ct.lFrame;e.currentTNode=n,e.isParent=t}function Hp(){return ct.lFrame.isParent}function Vd(){ct.lFrame.isParent=!1}function cr(){const n=ct.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function il(){return ct.lFrame.bindingIndex++}function xs(n){const t=ct.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Kp(n,t){const e=ct.lFrame;e.bindingIndex=e.bindingRootIndex=n,Yp(t)}function Yp(n){ct.lFrame.currentDirectiveIndex=n}function Qp(n){const t=ct.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function Oh(){return ct.lFrame.currentQueryIndex}function Xp(n){ct.lFrame.currentQueryIndex=n}function lA(n){const t=n[ze];return 2===t.type?t.declTNode:1===t.type?n[yr]:null}function Zp(n,t,e){if(e&Ut.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&Ut.Host||(r=lA(o),null===r||(o=o[ic],10&r.type))););if(null===r)return!1;t=r,n=o}const i=ct.lFrame=Bd();return i.currentTNode=t,i.lView=n,!0}function Jp(n){const t=Bd(),e=n[ze];ct.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Bd(){const n=ct.lFrame,t=null===n?null:n.child;return null===t?Xy(n):t}function Xy(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Zy(){const n=ct.lFrame;return ct.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Jy=Zy;function eg(){const n=Zy();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Dr(){return ct.lFrame.selectedIndex}function rl(n){ct.lFrame.selectedIndex=n}function Hn(){const n=ct.lFrame;return kh(n.tView,n.selectedIndex)}function Nh(){ct.lFrame.currentNamespace=Dh}function tg(){!function hA(){ct.lFrame.currentNamespace=null}()}let ng=!0;function Fh(){return ng}function ba(n){ng=n}function Lh(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=d&&(n.destroyHooks??=[]).push(e,d)}}function Vh(n,t,e){t0(n,t,3,e)}function uc(n,t,e,i){(3&n[Dt])===e&&t0(n,t,e,i)}function Ud(n,t){let e=n[Dt];(3&e)===t&&(e&=8191,e+=1,n[Dt]=e)}function t0(n,t,e,i){const o=i??-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[ga]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[ga]+=65536),(a<o||-1==o)&&(mA(n,e,t,l),n[ga]=(4294901760&n[ga])+l+2),l++}function Bh(n,t){ws(4,n,t);const e=wr(null);try{t.call(n)}finally{wr(e),ws(5,n,t)}}function mA(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];r?n[Dt]>>13<n[ga]>>16&&(3&n[Dt])===t&&(n[Dt]+=8192,Bh(a,o)):Bh(a,o)}const ol=-1;class hc{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function rg(n){return n!==ol}function zd(n){return 32767&n}function jd(n,t){let e=function _A(n){return n>>16}(n),i=t;for(;e>0;)i=i[ic],e--;return i}let og=!0;function Hd(n){const t=og;return og=n,t}const s0=255,a0=5;let g=0;const u={};function _(n,t){const e=D(n,t);if(-1!==e)return e;const i=t[ze];i.firstCreatePass&&(n.injectorIndex=t.length,C(i.data,n),C(t,null),C(i.blueprint,null));const r=Y(n,t),o=n.injectorIndex;if(rg(r)){const s=zd(r),a=jd(r,t),l=a[ze].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function C(n,t){n.push(0,0,0,0,0,0,0,0,t)}function D(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Y(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=c0(r),null===i)return ol;if(e++,r=r[ic],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return ol}function oe(n,t,e){!function f(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(fa)&&(i=e[fa]),null==i&&(i=e[fa]=g++);const r=i&s0;t.data[n+(r>>a0)]|=1<<r}(n,t,e)}function je(n,t,e){if(e&Ut.Optional||void 0!==n)return n;lp()}function Je(n,t,e,i){if(e&Ut.Optional&&void 0===i&&(i=null),!(e&(Ut.Self|Ut.Host))){const r=n[pa],o=vr(void 0);try{return r?r.get(t,i,e&Ut.Optional):ry(t,i,e&Ut.Optional)}finally{vr(o)}}return je(i,0,e)}function Vt(n,t,e,i=Ut.Default,r){if(null!==n){if(2048&t[Dt]&&!(i&Ut.Self)){const s=function ug(n,t,e,i,r){let o=n,s=t;for(;null!==o&&null!==s&&2048&s[Dt]&&!(512&s[Dt]);){const a=kr(o,s,e,i|Ut.Self,u);if(a!==u)return a;let l=o.parent;if(!l){const c=s[by];if(c){const d=c.get(e,u,i);if(d!==u)return d}l=c0(s),s=s[ic]}o=l}return r}(n,t,e,i,u);if(s!==u)return s}const o=kr(n,t,e,i,u);if(o!==u)return o}return Je(t,e,i,r)}function kr(n,t,e,i,r){const o=function sg(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(fa)?n[fa]:void 0;return"number"==typeof t?t>=0?t&s0:cg:t}(e);if("function"==typeof o){if(!Zp(t,n,i))return i&Ut.Host?je(r,0,i):Je(t,e,i,r);try{let s;if(s=o(i),null!=s||i&Ut.Optional)return s;lp()}finally{Jy()}}else if("number"==typeof o){let s=null,a=D(n,t),l=ol,c=i&Ut.Host?t[ci][yr]:null;for((-1===a||i&Ut.SkipSelf)&&(l=-1===a?Y(n,t):t[a+8],l!==ol&&lg(i,!1)?(s=t[ze],a=zd(l),t=jd(l,t)):a=-1);-1!==a;){const d=t[ze];if(ag(o,a,d.data)){const h=ya(a,t,e,s,i,c);if(h!==u)return h}l=t[a+8],l!==ol&&lg(i,t[ze].data[a+8]===c)&&ag(o,a,t)?(s=d,a=zd(l),t=jd(l,t)):a=-1}}return r}function ya(n,t,e,i,r,o){const s=t[ze],a=s.data[n+8],d=sl(a,s,e,null==i?oc(a)&&og:i!=s&&0!=(3&a.type),r&Ut.Host&&o===a);return null!==d?wa(t,s,d,a):u}function sl(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,d=o>>20,p=r?a+d:n.directiveEnd;for(let v=i?a:a+d;v<p;v++){const b=s[v];if(v<l&&e===b||v>=l&&b.type===e)return v}if(r){const v=s[l];if(v&&Qo(v)&&v.type===e)return l}return null}function wa(n,t,e,i){let r=n[e];const o=t.data;if(function ig(n){return n instanceof hc}(r)){const s=r;s.resolving&&function AC(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new ce(-200,`Circular dependency in DI detected for ${n}${e}`)}(function fn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():wt(n)}(o[e]));const a=Hd(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?vr(s.injectImpl):null;Zp(n,i,Ut.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function fA(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=By(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}(e,o[e],t)}finally{null!==c&&vr(c),Hd(a),s.resolving=!1,Jy()}}return r}function ag(n,t,e){return!!(e[t+(n>>a0)]&1<<n)}function lg(n,t){return!(n&Ut.Self||n&Ut.Host&&t)}class xr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Vt(this._tNode,this._lView,t,Jl(i),e)}}function cg(){return new xr(Wi(),ye())}function Zn(n){return Ko(()=>{const t=n.prototype.constructor,e=t[$s]||dg(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[$s]||dg(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function dg(n){return dh(n)?()=>{const t=dg(ut(n));return t&&t()}:lc(n)}function c0(n){const t=n[ze],e=t.type;return 2===e?t.declTNode:1===e?n[yr]:null}function $d(n){return function be(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(mo(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(Wi(),n)}const jh="__parameters__";function $h(n,t,e){return Ko(()=>{const i=function vA(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,d){const h=l.hasOwnProperty(jh)?l[jh]:Object.defineProperty(l,jh,{value:[]})[jh];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Gh(n,t){n.forEach(e=>Array.isArray(e)?Gh(e,t):t(e))}function XF(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function d0(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function fg(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Xo(n,t,e){let i=qh(n,t);return i>=0?n[1|i]=e:(i=~i,function eQ(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function bA(n,t){const e=qh(n,t);if(e>=0)return n[1|e]}function qh(n,t){return function ZF(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const Mr=wd($h("Optional"),8),mg=wd($h("SkipSelf"),4);function g0(n){return 128==(128&n.flags)}var fc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(fc||{});const IA=new Map;let IQ=0;const AA="__ngContext__";function Gr(n,t){Hr(t)?(n[AA]=t[el],function AQ(n){IA.set(n[el],n)}(t)):n[AA]=t}let TA;function SA(n,t){return TA(n,t)}function _g(n){const t=n[Mn];return $r(t)?t[Mn]:t}function vL(n){return yL(n[Td])}function bL(n){return yL(n[Yo])}function yL(n){for(;null!==n&&!$r(n);)n=n[Yo];return n}function Qh(n,t,e,i,r){if(null!=i){let o,s=!1;$r(i)?o=i:Hr(i)&&(s=!0,i=i[ai]);const a=In(i);0===n&&null!==e?null==r?IL(t,e,a):Wd(t,e,a,r||null,!0):1===n&&null!==e?Wd(t,e,a,r||null,!0):2===n?function E0(n,t,e){const i=w0(n,t);i&&function WQ(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function KQ(n,t,e,i,r){const o=e[Sr];o!==In(e)&&Qh(t,n,i,o,r);for(let a=ar;a<e.length;a++){const l=e[a];bg(l[ze],l,n,t,i,o)}}(t,n,o,e,r)}}function b0(n,t,e){return n.createElement(t,e)}function xL(n,t){const e=n[rc],i=e.indexOf(t);Hy(t),e.splice(i,1)}function y0(n,t){if(n.length<=ar)return;const e=ar+t,i=n[e];if(i){const r=i[Sd];null!==r&&r!==n&&xL(r,i),t>0&&(n[e-1][Yo]=i[Yo]);const o=d0(n,ar+t);!function LQ(n,t){bg(n,t,t[gt],2,null,null),t[ai]=null,t[yr]=null}(i[ze],i);const s=o[bs];null!==s&&s.detachView(o[ze]),i[Mn]=null,i[Yo]=null,i[Dt]&=-129}return i}function kA(n,t){if(!(256&t[Dt])){const e=t[gt];t[tl]&&ky(t[tl]),t[Dd]&&ky(t[Dd]),e.destroyNode&&bg(n,t,e,3,null,null),function UQ(n){let t=n[Td];if(!t)return MA(n[ze],n);for(;t;){let e=null;if(Hr(t))e=t[Td];else{const i=t[ar];i&&(e=i)}if(!e){for(;t&&!t[Yo]&&t!==n;)Hr(t)&&MA(t[ze],t),t=t[Mn];null===t&&(t=n),Hr(t)&&MA(t[ze],t),e=t&&t[Yo]}t=e}}(t)}}function MA(n,t){if(!(256&t[Dt])){t[Dt]&=-129,t[Dt]|=256,function $Q(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof hc)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];ws(4,a,l);try{l.call(a)}finally{ws(5,a,l)}}else{ws(4,r,o);try{o.call(r)}finally{ws(5,r,o)}}}}}(n,t),function HQ(n,t){const e=n.cleanup,i=t[tc];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(t[tc]=null);const r=t[ys];if(null!==r){t[ys]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,t),1===t[ze].type&&t[gt].destroy();const e=t[Sd];if(null!==e&&$r(t[Mn])){e!==t[Mn]&&xL(e,t);const i=t[bs];null!==i&&i.detachView(n)}!function TQ(n){IA.delete(n[el])}(t)}}function RA(n,t,e){return function EL(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[ai];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===or.None||o===or.Emulated)return null}return Wr(i,e)}}(n,t.parent,e)}function Wd(n,t,e,i,r){n.insertBefore(t,e,i,r)}function IL(n,t,e){n.appendChild(t,e)}function CL(n,t,e,i,r){null!==i?Wd(n,t,e,i,r):IL(n,t,e)}function w0(n,t){return n.parentNode(t)}function AL(n,t,e){return SL(n,t,e)}let PA,I0,LA,C0,SL=function TL(n,t,e){return 40&n.type?Wr(n,e):null};function x0(n,t,e,i){const r=RA(n,i,t),o=t[gt],a=AL(i.parent||t[yr],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)CL(o,r,e[l],a,!1);else CL(o,r,e,a,!1);void 0!==PA&&PA(o,i,t,e,r)}function vg(n,t){if(null!==t){const e=t.type;if(3&e)return Wr(t,n);if(4&e)return OA(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return vg(n,i);{const r=n[t.index];return $r(r)?OA(-1,r):In(r)}}if(32&e)return SA(t,n)()||In(n[t.index]);{const i=kL(n,t);return null!==i?Array.isArray(i)?i[0]:vg(_g(n[ci]),i):vg(n,t.next)}}return null}function kL(n,t){return null!==t?n[ci][yr].projection[t.projection]:null}function OA(n,t){const e=ar+n+1;if(e<t.length){const i=t[e],r=i[ze].firstChild;if(null!==r)return vg(i,r)}return t[Sr]}function NA(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&Gr(In(a),i),e.flags|=2),32!=(32&e.flags))if(8&l)NA(n,t,e.child,i,r,o,!1),Qh(t,n,r,a,o);else if(32&l){const c=SA(e,i);let d;for(;d=c();)Qh(t,n,r,d,o);Qh(t,n,r,a,o)}else 16&l?RL(n,t,i,e,r,o):Qh(t,n,r,a,o);e=s?e.projectionNext:e.next}}function bg(n,t,e,i,r,o){NA(e,i,n.firstChild,t,r,o,!1)}function RL(n,t,e,i,r,o){const s=e[ci],l=s[yr].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Qh(t,n,r,l[c],o);else{let c=l;const d=s[Mn];g0(i)&&(c.flags|=128),NA(n,t,c,d,r,o,!0)}}function PL(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function OL(n,t,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&Ed(n,t,i),null!==r&&PL(n,t,r),null!==o&&function QQ(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}function Xh(n){return function FA(){if(void 0===I0&&(I0=null,kn.trustedTypes))try{I0=kn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return I0}()?.createHTML(n)||n}function LL(n){return function VA(){if(void 0===C0&&(C0=null,kn.trustedTypes))try{C0=kn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return C0}()?.createScriptURL(n)||n}class Gd{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xb})`}}class tX extends Gd{getTypeName(){return"HTML"}}class nX extends Gd{getTypeName(){return"Style"}}class iX extends Gd{getTypeName(){return"Script"}}class rX extends Gd{getTypeName(){return"URL"}}class oX extends Gd{getTypeName(){return"ResourceURL"}}function Zo(n){return n instanceof Gd?n.changingThisBreaksApplicationSecurity:n}function xa(n,t){const e=function sX(n){return n instanceof Gd&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Xb})`)}return e===t}class hX{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Xh(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class fX{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Xh(t),e}}const pX=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function A0(n){return(n=String(n)).match(pX)?n:"unsafe:"+n}function ll(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function yg(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const BL=ll("area,br,col,hr,img,wbr"),UL=ll("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zL=ll("rp,rt"),BA=yg(BL,yg(UL,ll("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yg(zL,ll("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yg(zL,UL)),UA=ll("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jL=yg(UA,ll("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ll("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gX=ll("script,style,template");class _X{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!BA.hasOwnProperty(e))return this.sanitizedSomething=!0,!gX.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!jL.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;UA[a]&&(l=A0(l)),this.buf.push(" ",s,'="',HL(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();BA.hasOwnProperty(e)&&!BL.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(HL(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const vX=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bX=/([^\#-~ |!])/g;function HL(n){return n.replace(/&/g,"&amp;").replace(vX,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(bX,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let T0;function $L(n,t){let e=null;try{T0=T0||function VL(n){const t=new fX(n);return function mX(){try{return!!(new window.DOMParser).parseFromString(Xh(""),"text/html")}catch{return!1}}()?new hX(t):t}(n);let i=t?String(t):"";e=T0.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=T0.getInertBodyElement(i)}while(i!==o);return Xh((new _X).sanitizeChildren(zA(e)||e))}finally{if(e){const i=zA(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function zA(n){return"content"in n&&function yX(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Rr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Rr||{});function WL(n){const t=wg();return t?t.sanitize(Rr.URL,n)||"":xa(n,"URL")?Zo(n):A0(wt(n))}function GL(n){const t=wg();if(t)return LL(t.sanitize(Rr.RESOURCE_URL,n)||"");if(xa(n,"ResourceURL"))return LL(Zo(n));throw new ce(904,!1)}function wg(){const n=ye();return n&&n[nc].sanitizer}const xg=new de("ENVIRONMENT_INITIALIZER"),KL=new de("INJECTOR",-1),YL=new de("INJECTOR_DEF_TYPES");class jA{get(t,e=Qa){if(e===Qa){const i=new Error(`NullInjectorError: No provider for ${Pe(t)}!`);throw i.name="NullInjectorError",i}return e}}function S0(n){return{\u0275providers:n}}function TX(...n){return{\u0275providers:QL(0,n),\u0275fromNgModule:!0}}function QL(n,...t){const e=[],i=new Set;let r;const o=s=>{e.push(s)};return Gh(t,s=>{const a=s;D0(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&XL(r,o),e}function XL(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];HA(r,o=>{t(o,i)})}}function D0(n,t,e,i){if(!(n=ut(n)))return!1;let r=null,o=gd(n);const s=!o&&Kt(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=gd(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)D0(c,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{Gh(o.imports,d=>{D0(d,t,e,i)&&(c||=[],c.push(d))})}finally{}void 0!==c&&XL(c,t)}if(!a){const c=lc(r)||(()=>new r);t({provide:r,useFactory:c,deps:ln},r),t({provide:YL,useValue:r,multi:!0},r),t({provide:xg,useValue:()=>X(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const c=n;HA(l,d=>{t(d,c)})}}}return r!==n&&void 0!==n.providers}function HA(n,t){for(let e of n)uh(e)&&(e=e.\u0275providers),Array.isArray(e)?HA(e,t):t(e)}const SX=Qe({provide:String,useValue:Qe});function $A(n){return null!==n&&"object"==typeof n&&SX in n}function qd(n){return"function"==typeof n}const WA=new de("Set Injector scope."),k0={},kX={};let GA;function M0(){return void 0===GA&&(GA=new jA),GA}class Jo{}class Jh extends Jo{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,KA(t,s=>this.processProvider(s)),this.records.set(KL,ef(void 0,this)),r.has("environment")&&this.records.set(Jo,ef(void 0,this));const o=this.records.get(WA);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(YL.multi,ln,Ut.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=vs(this),i=vr(void 0);try{return t()}finally{vs(e),vr(i)}}get(t,e=Qa,i=Ut.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(hy))return t[hy](this);i=Jl(i);const o=vs(this),s=vr(void 0);try{if(!(i&Ut.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function NX(n){return"function"==typeof n||"object"==typeof n&&n instanceof de}(t)&&mh(t);l=c&&this.injectableDefInScope(c)?ef(qA(t),k0):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&Ut.Self?M0():this.parent).get(t,e=i&Ut.Optional&&e===Qa?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[So]=a[So]||[]).unshift(Pe(t)),o)throw a;return function xd(n,t,e,i){const r=n[So];throw t[dy]&&r.unshift(t[dy]),n.message=function PF(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Pe(t);if(Array.isArray(t))r=t.map(Pe).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Pe(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(PC,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[So]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{vr(s),vs(o)}}resolveInjectorInitializers(){const t=vs(this),e=vr(void 0);try{const r=this.get(xg.multi,ln,Ut.Self);for(const o of r)o()}finally{vs(t),vr(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Pe(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processProvider(t){let e=qd(t=ut(t))?t:ut(t&&t.provide);const i=function RX(n){return $A(n)?ef(void 0,n.useValue):ef(e2(n),k0)}(t);if(qd(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=ef(void 0,k0,!0),r.factory=()=>Hs(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===k0&&(e.value=kX,e.value=e.factory()),"object"==typeof e.value&&e.value&&function OX(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ut(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function qA(n){const t=mh(n),e=null!==t?t.factory:lc(n);if(null!==e)return e;if(n instanceof de)throw new ce(204,!1);if(n instanceof Function)return function MX(n){const t=n.length;if(t>0)throw fg(t,"?"),new ce(204,!1);const e=function MC(n){return n&&(n[ph]||n[dp])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new ce(204,!1)}function e2(n,t,e){let i;if(qd(n)){const r=ut(n);return lc(r)||qA(r)}if($A(n))i=()=>ut(n.useValue);else if(function JL(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Hs(n.deps||[]));else if(function ZL(n){return!(!n||!n.useExisting)}(n))i=()=>X(ut(n.useExisting));else{const r=ut(n&&(n.useClass||n.provide));if(!function PX(n){return!!n.deps}(n))return lc(r)||qA(r);i=()=>new r(...Hs(n.deps))}return i}function ef(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function KA(n,t){for(const e of n)Array.isArray(e)?KA(e,t):e&&uh(e)?KA(e.\u0275providers,t):t(e)}const R0=new de("AppId",{providedIn:"root",factory:()=>FX}),FX="ng",t2=new de("Platform Initializer"),Ro=new de("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Pr=new de("AnimationModuleType"),YA=new de("CSP nonce",{providedIn:"root",factory:()=>function Zh(){if(void 0!==LA)return LA;if(typeof document<"u")return document;throw new ce(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let n2=(n,t,e)=>null;function iT(n,t,e=!1){return n2(n,t,e)}class GX{}class s2{}class KX{resolveComponentFactory(t){throw function qX(n){const t=Error(`No component factory found for ${Pe(n)}.`);return t.ngComponent=n,t}(t)}}let rf=(()=>{class n{static{this.NULL=new KX}}return n})();function YX(){return sf(Wi(),ye())}function sf(n,t){return new xt(Wr(n,t))}let xt=(()=>{class n{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=YX}}return n})();function QX(n){return n instanceof xt?n.nativeElement:n}class Cg{}let cl=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function XX(){const n=ye(),e=_o(Wi().index,n);return(Hr(e)?e:n)[gt]}()}}return n})(),ZX=(()=>{class n{static{this.\u0275prov=Ae({token:n,providedIn:"root",factory:()=>null})}}return n})();class mc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const sT=new mc("16.2.12"),aT={};function u2(n,t=null,e=null,i){const r=h2(n,t,e,i);return r.resolveInjectorInitializers(),r}function h2(n,t=null,e=null,i,r=new Set){const o=[e||ln,TX(n)];return i=i||("object"==typeof n?void 0:Pe(n)),new Jh(o,t||M0(),i||null,r)}let Rn=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Qa}static{this.NULL=new jA}static create(e,i){if(Array.isArray(e))return u2({name:""},i,e,"");{const r=e.name??"";return u2({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=Ae({token:n,providedIn:"any",factory:()=>X(KL)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function cT(n){return n.ngOriginalError}class Is{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&cT(t);for(;e&&cT(e);)e=cT(e);return e||null}}function dT(n){return t=>{setTimeout(n,void 0,t)}}const _t=class sZ extends W{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=dT(o),r&&(r=dT(r)),s&&(s=dT(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof ft&&t.add(a),a}};function m2(...n){}class $e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _t(!1),this.onMicrotaskEmpty=new _t(!1),this.onStable=new _t(!1),this.onError=new _t(!1),typeof Zone>"u")throw new ce(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function aZ(){const n="function"==typeof kn.requestAnimationFrame;let t=kn[n?"requestAnimationFrame":"setTimeout"],e=kn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function dZ(n){const t=()=>{!function cZ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(kn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,hT(n),n.isCheckStableRunning=!0,uT(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),hT(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{if(function hZ(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,o,s,a);try{return p2(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),g2(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return p2(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),g2(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,hT(n),uT(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$e.isInAngularZone())throw new ce(909,!1)}static assertNotInAngularZone(){if($e.isInAngularZone())throw new ce(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,lZ,m2,m2);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const lZ={};function uT(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function hT(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function p2(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function g2(n){n._nesting--,uT(n)}class uZ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _t,this.onMicrotaskEmpty=new _t,this.onStable=new _t,this.onError=new _t}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const _2=new de("",{providedIn:"root",factory:v2});function v2(){const n=De($e);let t=!0;return x(new rt(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new rt(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{$e.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{$e.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(U()))}function dl(n){return n instanceof Function?n():n}let fT=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Ae({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Ag(n){for(;n;){n[Dt]|=64;const t=_g(n);if(Tp(n)&&!t)return n;n=t}return null}const E2=new de("",{providedIn:"root",factory:()=>!1});let U0=null;function T2(n,t){return n[t]??k2()}function S2(n,t){const e=k2();e.producerNode?.length&&(n[t]=U0,e.lView=n,U0=D2())}const xZ={...Sy,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Ag(n.lView)},lView:null};function D2(){return Object.create(xZ)}function k2(){return U0??=D2(),U0}const kt={};function ge(n){M2(Yt(),ye(),Dr()+n,!1)}function M2(n,t,e,i){if(!i)if(3==(3&t[Dt])){const o=n.preOrderCheckHooks;null!==o&&Vh(t,o,e)}else{const o=n.preOrderHooks;null!==o&&uc(t,o,0,e)}rl(e)}function O(n,t=Ut.Default){const e=ye();return null===e?X(n,t):Vt(Wi(),e,ut(n),t)}function Tg(){throw new Error("invalid")}function z0(n,t,e,i,r,o,s,a,l,c,d){const h=t.blueprint.slice();return h[ai]=r,h[Dt]=140|i,(null!==c||n&&2048&n[Dt])&&(h[Dt]|=2048),jy(h),h[Mn]=h[ic]=n,h[li]=e,h[nc]=s||n&&n[nc],h[gt]=a||n&&n[gt],h[pa]=l||n&&n[pa]||null,h[yr]=o,h[el]=function CQ(){return IQ++}(),h[Ws]=d,h[by]=c,h[ci]=2==t.type?n[ci]:h,h}function cf(n,t,e,i,r){let o=n.data[t];if(null===o)o=function mT(n,t,e,i,r){const o=Yy(),s=Hp(),l=n.data[t]=function kZ(n,t,e,i,r,o){let s=t?t.injectorIndex:-1,a=0;return va()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,t,e,i,r),function sA(){return ct.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function Ld(){const n=ct.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ko(o,!0),o}function Sg(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function R2(n,t,e,i,r){const o=T2(t,tl),s=Dr(),a=2&i;try{rl(-1),a&&t.length>zt&&M2(n,t,zt,!1),ws(a?2:0,r);const c=a?o:null,d=Dp(c);try{null!==c&&(c.dirty=!1),e(i,r)}finally{kp(c,d)}}finally{a&&null===t[tl]&&S2(t,tl),rl(s),ws(a?3:1,r)}}function pT(n,t,e){if(wy(t)){const i=wr(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{wr(i)}}}function gT(n,t,e){Ph()&&(function LZ(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;oc(e)&&function $Z(n,t,e){const i=Wr(t,n),r=P2(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=j0(n,z0(n,r,null,s,i,t,null,n[nc].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||_(e,t),Gr(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=wa(t,n,a,e);Gr(c,t),null!==s&&WZ(0,a-r,c,l,0,s),Qo(l)&&(_o(e.index,t)[li]=wa(t,n,a,e))}}(n,t,e,Wr(e,t)),64==(64&e.flags)&&V2(n,t,e))}function _T(n,t,e=Wr){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function P2(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=vT(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function vT(n,t,e,i,r,o,s,a,l,c,d){const h=zt+i,p=h+r,v=function IZ(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:kt);return e}(h,p),b="function"==typeof c?c():c;return v[ze]={type:n,blueprint:v,template:e,queries:null,viewQuery:a,declTNode:t,data:v.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:d}}let O2=n=>null;function N2(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const o=n[r];null===i?F2(e,t,r,o):i.hasOwnProperty(r)&&F2(e,t,i[r],o)}return e}function F2(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function es(n,t,e,i,r,o,s,a){const l=Wr(t,e);let d,c=t.inputs;!a&&null!=c&&(d=c[i])?(ET(n,e,d,i,r),oc(t)&&function PZ(n,t){const e=_o(t,n);16&e[Dt]||(e[Dt]|=64)}(e,t.index)):3&t.type&&(i=function RZ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(l,i,r))}function bT(n,t,e,i){if(Ph()){const r=null===i?null:{"":-1},o=function BZ(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(Ad(t,s.selectors,!1))if(i||(i=[]),Qo(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),yT(n,t,a.length)}else i.unshift(s),yT(n,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&L2(n,t,e,s,r,a),r&&function UZ(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new ce(-301,!1);i.push(t[r],o)}}}(e,i,r)}e.mergedAttrs=Id(e.mergedAttrs,e.attrs)}function L2(n,t,e,i,r,o){for(let c=0;c<i.length;c++)oe(_(e,t),n,i[c].type);!function jZ(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const d=i[c];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,l=Sg(n,t,i.length,null);for(let c=0;c<i.length;c++){const d=i[c];e.mergedAttrs=Id(e.mergedAttrs,d.hostAttrs),HZ(n,e,t,l,d),zZ(l,d,r),null!==d.contentQueries&&(e.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=64);const h=d.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function MZ(n,t,e){const r=t.directiveEnd,o=n.data,s=t.attrs,a=[];let l=null,c=null;for(let d=t.directiveStart;d<r;d++){const h=o[d],p=e?e.get(h):null,b=p?p.outputs:null;l=N2(h.inputs,d,l,p?p.inputs:null),c=N2(h.outputs,d,c,b);const w=null===l||null===s||bp(t)?null:GZ(l,d,s);a.push(w)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,o)}function V2(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function aA(){return ct.lFrame.currentDirectiveIndex}();try{rl(o);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];Yp(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&VZ(l,c)}}finally{rl(-1),Yp(s)}}function VZ(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function yT(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function zZ(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Qo(t)&&(e[""]=n)}}function HZ(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=lc(r.type)),s=new hc(o,Qo(r),O);n.blueprint[i]=s,e[i]=s,function NZ(n,t,e,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~t.index;(function FZ(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,i,o)}}(n,t,i,Sg(n,e,r.hostVars,kt),r)}function Ea(n,t,e,i,r,o){const s=Wr(n,t);!function wT(n,t,e,i,r,o,s){if(null==o)n.removeAttribute(t,r,e);else{const a=null==s?wt(o):s(o,i||"",r);n.setAttribute(t,r,a,e)}}(t[gt],s,o,n.value,e,i,r)}function WZ(n,t,e,i,r,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)B2(i,e,s[a++],s[a++],s[a++])}function B2(n,t,e,i,r){const o=wr(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{wr(o)}}function GZ(n,t,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){i.push(o,s[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function U2(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function z2(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const o=e[i+1];if(-1!==o){const s=n.data[o];Xp(e[i]),s.contentQueries(2,t[o],o)}}}function j0(n,t){return n[Td]?n[xh][Yo]=t:n[Td]=t,n[xh]=t,t}function xT(n,t,e){Xp(0);const i=wr(null);try{t(n,e)}finally{wr(i)}}function j2(n){return n[tc]||(n[tc]=[])}function H2(n){return n.cleanup||(n.cleanup=[])}function $2(n,t,e){return(null===n||Qo(n))&&(e=function Vp(n){for(;Array.isArray(n);){if("object"==typeof n[kd])return n;n=n[ai]}return null}(e[t.index])),e[gt]}function W2(n,t){const e=n[pa],i=e?e.get(Is,null):null;i&&i.handleError(t)}function ET(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++];B2(n.data[s],t[s],i,a,r)}}function ul(n,t,e){const i=cc(t,n);!function wL(n,t,e){n.setValue(t,e)}(n[gt],i,e)}function qZ(n,t){const e=_o(t,n),i=e[ze];!function KZ(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[ai];null!==r&&null===e[Ws]&&(e[Ws]=iT(r,e[pa])),IT(i,e,e[li])}function IT(n,t,e){Jp(t);try{const i=n.viewQuery;null!==i&&xT(1,i,e);const r=n.template;null!==r&&R2(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&z2(n,t),n.staticViewQueries&&xT(2,n.viewQuery,e);const o=n.components;null!==o&&function YZ(n,t){for(let e=0;e<t.length;e++)qZ(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[Dt]&=-5,eg()}}let G2=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function Op(n,t,e){const i=Object.create(XC);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>Ch(i),run:()=>{if(i.dirty=!1,i.hasRun&&!Mp(i))return;i.hasRun=!0;const s=Dp(i);try{i.cleanupFn(),i.cleanupFn=Vy,i.fn(r)}finally{kp(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(e,c=>{this.all.has(c)&&this.queue.set(c,o)},r);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Ae({token:n,providedIn:"root",factory:()=>new n})}}return n})();function H0(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=oi(r,a):2==o&&(i=oi(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function Dg(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];null!==o&&i.push(In(o)),$r(o)&&q2(o,i);const s=e.type;if(8&s)Dg(n,t,e.child,i);else if(32&s){const a=SA(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=kL(t,e);if(Array.isArray(a))i.push(...a);else{const l=_g(t[ci]);Dg(l[ze],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function q2(n,t){for(let e=ar;e<n.length;e++){const i=n[e],r=i[ze].firstChild;null!==r&&Dg(i[ze],i,r,t)}n[Sr]!==n[ai]&&t.push(n[Sr])}function $0(n,t,e,i=!0){const r=t[nc],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{K2(n,t,n.template,e)}catch(l){throw i&&W2(t,l),l}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function K2(n,t,e,i){const r=t[Dt];if(256!=(256&r)){t[nc].effectManager?.flush(),Jp(t);try{jy(t),function Gp(n){return ct.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&R2(n,t,e,2,i);const s=3==(3&r);if(s){const c=n.preOrderCheckHooks;null!==c&&Vh(t,c,null)}else{const c=n.preOrderHooks;null!==c&&uc(t,c,0,null),Ud(t,0)}if(function ZZ(n){for(let t=vL(n);null!==t;t=bL(t)){if(!t[yy])continue;const e=t[rc];for(let i=0;i<e.length;i++){Up(e[i])}}}(t),Y2(t,2),null!==n.contentQueries&&z2(n,t),s){const c=n.contentCheckHooks;null!==c&&Vh(t,c)}else{const c=n.contentHooks;null!==c&&uc(t,c,1),Ud(t,1)}!function EZ(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=T2(t,Dd);try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)rl(~o);else{const s=o,a=e[++r],l=e[++r];Kp(a,s),i.dirty=!1;const c=Dp(i);try{l(2,t[s])}finally{kp(i,c)}}}}finally{null===t[Dd]&&S2(t,Dd),rl(-1)}}(n,t);const a=n.components;null!==a&&X2(t,a,0);const l=n.viewQuery;if(null!==l&&xT(2,l,i),s){const c=n.viewCheckHooks;null!==c&&Vh(t,c)}else{const c=n.viewHooks;null!==c&&uc(t,c,2),Ud(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[Dt]&=-73,Hy(t)}finally{eg()}}}function Y2(n,t){for(let e=vL(n);null!==e;e=bL(e))for(let i=ar;i<e.length;i++)Q2(e[i],t)}function JZ(n,t,e){Q2(_o(t,n),e)}function Q2(n,t){if(!function Bp(n){return 128==(128&n[Dt])}(n))return;const e=n[ze],i=n[Dt];if(80&i&&0===t||1024&i||2===t)K2(e,n,e.template,n[li]);else if(n[Ja]>0){Y2(n,1);const r=e.components;null!==r&&X2(n,r,1)}}function X2(n,t,e){for(let i=0;i<t.length;i++)JZ(n,t[i],e)}class kg{get rootNodes(){const t=this._lView,e=t[ze];return Dg(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[li]}set context(t){this._lView[li]=t}get destroyed(){return 256==(256&this._lView[Dt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Mn];if($r(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(y0(t,i),d0(e,i))}this._attachedToViewContainer=!1}kA(this._lView[ze],this._lView)}onDestroy(t){!function $y(n,t){if(256==(256&n[Dt]))throw new ce(911,!1);null===n[ys]&&(n[ys]=[]),n[ys].push(t)}(this._lView,t)}markForCheck(){Ag(this._cdRefInjectingView||this._lView)}detach(){this._lView[Dt]&=-129}reattach(){this._lView[Dt]|=128}detectChanges(){$0(this._lView[ze],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function BQ(n,t){bg(n,t,t[gt],2,null,null)}(this._lView[ze],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ce(902,!1);this._appRef=t}}class eJ extends kg{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;$0(t[ze],t,t[li],!1)}checkNoChanges(){}get context(){return null}}class Z2 extends rf{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Kt(t);return new Mg(e,this.ngModule)}}function J2(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class nJ{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=Jl(i);const r=this.injector.get(t,aT,i);return r!==aT||e===aT?r:this.parentInjector.get(t,e,i)}}class Mg extends s2{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=J2(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return J2(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function Ip(n){return n.map(bh).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let o=(r=r||this.ngModule)instanceof Jo?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new nJ(t,o):t,a=s.get(Cg,null);if(null===a)throw new ce(407,!1);const h={rendererFactory:a,sanitizer:s.get(ZX,null),effectManager:s.get(G2,null),afterRenderEventManager:s.get(fT,null)},p=a.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",b=i?function CZ(n,t,e,i){const o=i.get(E2,!1)||e===or.ShadowDom,s=n.selectRootElement(t,o);return function AZ(n){O2(n)}(s),s}(p,i,this.componentDef.encapsulation,s):b0(p,v,function tJ(n){const t=n.toLowerCase();return"svg"===t?Dh:"math"===t?"math":null}(v)),M=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let S=null;null!==b&&(S=iT(b,s,!0));const V=vT(0,null,null,1,0,null,null,null,null,null,null),$=z0(null,V,null,M,null,null,h,p,s,null,S);let Q,ee;Jp($);try{const L=this.componentDef;let k,F=null;L.findHostDirectiveDefs?(k=[],F=new Map,L.findHostDirectiveDefs(L,k,F),k.push(L)):k=[L];const j=function rJ(n,t){const e=n[ze],i=zt;return n[i]=t,cf(e,i,2,"#host",null)}($,b),K=function oJ(n,t,e,i,r,o,s){const a=r[ze];!function sJ(n,t,e,i){for(const r of n)t.mergedAttrs=Id(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(H0(t,t.mergedAttrs,!0),null!==e&&OL(i,e,t))}(i,n,t,s);let l=null;null!==t&&(l=iT(t,r[pa]));const c=o.rendererFactory.createRenderer(t,e);let d=16;e.signals?d=4096:e.onPush&&(d=64);const h=z0(r,P2(e),null,d,r[n.index],n,o,c,null,null,l);return a.firstCreatePass&&yT(a,n,i.length-1),j0(r,h),r[n.index]=h}(j,b,L,k,$,h,p);ee=kh(V,zt),b&&function lJ(n,t,e,i){if(i)Ed(n,e,["ng-version",sT.full]);else{const{attrs:r,classes:o}=function gy(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!po(r))break;r=o}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&Ed(n,e,r),o&&o.length>0&&PL(n,e,o.join(" "))}}(p,L,b,i),void 0!==e&&function cJ(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(ee,this.ngContentSelectors,e),Q=function aJ(n,t,e,i,r,o){const s=Wi(),a=r[ze],l=Wr(s,r);L2(a,r,s,e,null,i);for(let d=0;d<e.length;d++)Gr(wa(r,a,s.directiveStart+d,s),r);V2(a,r,s),l&&Gr(l,r);const c=wa(r,a,s.directiveStart+s.componentOffset,s);if(n[li]=r[li]=c,null!==o)for(const d of o)d(c,t);return pT(a,s,n),c}(K,L,k,F,$,[dJ]),IT(V,$,null)}finally{eg()}return new iJ(this.componentType,Q,sf(ee,$),$,ee)}}class iJ extends GX{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new eJ(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;ET(o[ze],o,r,t,e),this.previousInputValues.set(t,e),Ag(_o(this._tNode.index,o))}}get injector(){return new xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function dJ(){const n=Wi();Lh(ye()[ze],n)}function ot(n){let t=function eV(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Qo(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ce(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=W0(n.inputs),s.inputTransforms=W0(n.inputTransforms),s.declaredInputs=W0(n.declaredInputs),s.outputs=W0(n.outputs);const a=r.hostBindings;a&&mJ(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&hJ(n,l),c&&fJ(n,c),jn(n.inputs,r.inputs),jn(n.declaredInputs,r.declaredInputs),jn(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),jn(s.inputTransforms,r.inputTransforms)),Qo(r)&&r.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===ot&&(e=!1)}}t=Object.getPrototypeOf(t)}!function uJ(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Id(r.hostAttrs,e=Id(e,r.hostAttrs))}}(i)}function W0(n){return n===jr?{}:n===ln?[]:n}function hJ(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function fJ(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function mJ(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function rV(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function G0(n){return!!CT(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function CT(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ia(n,t,e){return n[t]=e}function qr(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Kd(n,t,e,i){const r=qr(n,t,e);return qr(n,t+1,i)||r}function _n(n,t,e,i){const r=ye();return qr(r,il(),t)&&(Yt(),Ea(Hn(),r,n,t,e,i)),_n}function uf(n,t,e,i){return qr(n,il(),e)?t+wt(e)+i:kt}function hf(n,t,e,i,r,o){const a=Kd(n,function Ys(){return ct.lFrame.bindingIndex}(),e,r);return xs(2),a?t+wt(e)+i+wt(r)+o:kt}function Be(n,t,e,i,r,o,s,a){const l=ye(),c=Yt(),d=n+zt,h=c.firstCreatePass?function BJ(n,t,e,i,r,o,s,a,l){const c=t.consts,d=cf(t,n,4,s||null,_a(c,a));bT(t,e,d,_a(c,l)),Lh(t,d);const h=d.tView=vT(2,d,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,d),h.queries=t.queries.embeddedTView(d)),d}(d,c,l,t,e,i,r,o,s):c.data[d];ko(h,!1);const p=_V(c,l,h,n);Fh()&&x0(c,l,p,h),Gr(p,l),j0(l,l[d]=U2(p,l,p,h)),sc(h)&&gT(c,l,h),null!=s&&_T(l,h,a)}let _V=function vV(n,t,e,i){return ba(!0),t[gt].createComment("")};function vo(n){return dc(function $p(){return ct.lFrame.contextLView}(),zt+n)}function ve(n,t,e){const i=ye();return qr(i,il(),t)&&es(Yt(),Hn(),i,n,t,i[gt],e,!1),ve}function MT(n,t,e,i,r){const s=r?"class":"style";ET(n,e,t.inputs[s],s,i)}function q(n,t,e,i){const r=ye(),o=Yt(),s=zt+n,a=r[gt],l=o.firstCreatePass?function HJ(n,t,e,i,r,o){const s=t.consts,l=cf(t,n,2,i,_a(s,r));return bT(t,e,l,_a(s,o)),null!==l.attrs&&H0(l,l.attrs,!1),null!==l.mergedAttrs&&H0(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,r,t,e,i):o.data[s],c=bV(o,r,l,a,t,n);r[s]=c;const d=sc(l);return ko(l,!0),OL(a,c,l),32!=(32&l.flags)&&Fh()&&x0(o,r,c,l),0===function nA(){return ct.lFrame.elementDepthCount}()&&Gr(c,r),function iA(){ct.lFrame.elementDepthCount++}(),d&&(gT(o,r,l),pT(o,l,r)),null!==i&&_T(r,l),q}function G(){let n=Wi();Hp()?Vd():(n=n.parent,ko(n,!1));const t=n;(function rA(n){return ct.skipHydrationRootTNode===n})(t)&&function oA(){ct.skipHydrationRootTNode=null}(),function jp(){ct.lFrame.elementDepthCount--}();const e=Yt();return e.firstCreatePass&&(Lh(e,n),wy(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function o0(n){return 0!=(8&n.flags)}(t)&&MT(e,t,ye(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Uh(n){return 0!=(16&n.flags)}(t)&&MT(e,t,ye(),t.stylesWithoutHost,!1),G}function vt(n,t,e,i){return q(n,t,e,i),G(),vt}let bV=(n,t,e,i,r,o)=>(ba(!0),b0(i,r,function e0(){return ct.lFrame.currentNamespace}()));function Pi(){return ye()}function Fg(n){return!!n&&"function"==typeof n.then}function xV(n){return!!n&&"function"==typeof n.subscribe}function Fe(n,t,e,i){const r=ye(),o=Yt(),s=Wi();return EV(o,r,r[gt],s,n,t,i),Fe}function X0(n,t){const e=Wi(),i=ye(),r=Yt();return EV(r,i,$2(Qp(r.data),e,i),e,n,t),X0}function EV(n,t,e,i,r,o,s){const a=sc(i),c=n.firstCreatePass&&H2(n),d=t[li],h=j2(t);let p=!0;if(3&i.type||s){const w=Wr(i,t),E=s?s(w):w,M=h.length,S=s?$=>s(In($[i.index])):i.index;let V=null;if(!s&&a&&(V=function YJ(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[tc],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==V)(V.__ngLastListenerFn__||V).__ngNextListenerFn__=o,V.__ngLastListenerFn__=o,p=!1;else{o=CV(i,t,d,o,!1);const $=e.listen(E,r,o);h.push(o,$),c&&c.push(r,S,M,M+1)}}else o=CV(i,t,d,o,!1);const v=i.outputs;let b;if(p&&null!==v&&(b=v[r])){const w=b.length;if(w)for(let E=0;E<w;E+=2){const Q=t[b[E]][b[E+1]].subscribe(o),ee=h.length;h.push(o,Q),c&&c.push(r,i.index,ee,-(ee+1))}}}function IV(n,t,e,i){try{return ws(6,t,e),!1!==e(i)}catch(r){return W2(n,r),!1}finally{ws(7,t,e)}}function CV(n,t,e,i,r){return function o(s){if(s===Function)return i;Ag(n.componentOffset>-1?_o(n.index,t):t);let l=IV(t,e,i,s),c=o.__ngNextListenerFn__;for(;c;)l=IV(t,e,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function He(n=1){return function cA(n){return(ct.lFrame.contextLView=function dA(n,t){for(;n>0;)t=t[ic],n--;return t}(n,ct.lFrame.contextLView))[li]}(n)}function QJ(n,t){let e=null;const i=function xp(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?Ad(n,o,!0):py(i,o))return r}else e=r}return e}function Gi(n){const t=ye()[ci][yr];if(!t.projection){const i=t.projection=fg(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?QJ(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function lt(n,t=0,e){const i=ye(),r=Yt(),o=cf(r,zt+n,16,null,e||null);null===o.projection&&(o.projection=t),Vd(),(!i[Ws]||va())&&32!=(32&o.flags)&&function qQ(n,t,e){RL(t[gt],0,t,e,RA(n,e,t),AL(e.parent||t[yr],e,t))}(r,i,o)}function Z0(n,t){return n<<17|t<<2}function pc(n){return n>>17&32767}function NT(n){return 2|n}function Yd(n){return(131068&n)>>2}function FT(n,t){return-131069&n|t<<2}function LT(n){return 1|n}function NV(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?pc(o):Yd(o),l=!1;for(;0!==a&&(!1===l||s);){const d=n[a+1];nee(n[a],t)&&(l=!0,n[a+1]=i?LT(d):NT(d)),a=i?pc(d):Yd(d)}l&&(n[e+1]=i?NT(o):LT(o))}function nee(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&qh(n,t)>=0}const ur={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function FV(n){return n.substring(ur.key,ur.keyEnd)}function LV(n,t){const e=ur.textEnd;return e===t?-1:(t=ur.keyEnd=function see(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,ur.key=t,e),bf(n,t,e))}function bf(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function J0(n,t,e){return Qs(n,t,e,!1),J0}function Xt(n,t){return Qs(n,t,null,!0),Xt}function Aa(n,t){for(let e=function ree(n){return function BV(n){ur.key=0,ur.keyEnd=0,ur.value=0,ur.valueEnd=0,ur.textEnd=n.length}(n),LV(n,bf(n,0,ur.textEnd))}(t);e>=0;e=LV(t,e))Xo(n,FV(t),!0)}function Qs(n,t,e,i){const r=ye(),o=Yt(),s=xs(2);o.firstUpdatePass&&HV(o,n,s,i),t!==kt&&qr(r,s,t)&&WV(o,o.data[Dr()],r,r[gt],n,r[s+1]=function vee(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Pe(Zo(n)))),n}(t,e),i,s)}function jV(n,t){return t>=n.expandoStartIndex}function HV(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Dr()],s=jV(n,e);qV(o,i)&&null===t&&!s&&(t=!1),t=function uee(n,t,e,i){const r=Qp(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Lg(e=VT(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=VT(r,n,t,e,i),null===o){let l=function hee(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Yd(i))return n[pc(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=VT(null,n,t,l[1],i),l=Lg(l,t.attrs,i),function fee(n,t,e,i){n[pc(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function mee(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=Lg(i,n[o].hostAttrs,e);return Lg(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function eee(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=pc(s),l=Yd(s);n[i]=e;let d,c=!1;if(Array.isArray(e)?(d=e[1],(null===d||qh(e,d)>0)&&(c=!0)):d=e,r)if(0!==l){const p=pc(n[a+1]);n[i+1]=Z0(p,a),0!==p&&(n[p+1]=FT(n[p+1],i)),n[a+1]=function ZJ(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=Z0(a,0),0!==a&&(n[a+1]=FT(n[a+1],i)),a=i;else n[i+1]=Z0(l,0),0===a?a=i:n[l+1]=FT(n[l+1],i),l=i;c&&(n[i+1]=NT(n[i+1])),NV(n,d,i,!0),NV(n,d,i,!1),function tee(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&qh(o,t)>=0&&(e[i+1]=LT(e[i+1]))}(t,d,n,i,o),s=Z0(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}function VT(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=Lg(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Lg(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Xo(n,s,!!e||t[++o]))}return void 0===n?null:n}function WV(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],d=function JJ(n){return 1==(1&n)}(c)?GV(l,t,e,r,Yd(c),s):void 0;ew(d)||(ew(o)||function XJ(n){return 2==(2&n)}(c)&&(o=GV(l,null,e,r,a,s)),function YQ(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:fc.DashCase;null==r?n.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=fc.Important),n.setStyle(e,i,r,o))}}(i,s,cc(Dr(),e),r,o))}function GV(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),d=c?l[1]:l,h=null===d;let p=e[r+1];p===kt&&(p=h?ln:void 0);let v=h?bA(p,i):d===i?p:void 0;if(c&&!ew(v)&&(v=bA(l,i)),ew(v)&&(a=v,s))return a;const b=n[r+1];r=s?pc(b):Yd(b)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=bA(l,i))}return a}function ew(n){return void 0!==n}function qV(n,t){return 0!=(n.flags&(t?8:16))}function le(n,t=""){const e=ye(),i=Yt(),r=n+zt,o=i.firstCreatePass?cf(i,r,1,t,null):i.data[r],s=KV(i,e,o,t,n);e[r]=s,Fh()&&x0(i,e,s,o),ko(o,!1)}let KV=(n,t,e,i,r)=>(ba(!0),function v0(n,t){return n.createText(t)}(t[gt],i));function hr(n){return Kr("",n,""),hr}function Kr(n,t,e){const i=ye(),r=uf(i,n,t,e);return r!==kt&&ul(i,Dr(),r),Kr}function Vg(n,t,e,i,r){const o=ye(),s=hf(o,n,t,e,i,r);return s!==kt&&ul(o,Dr(),s),Vg}function nB(n,t,e){!function Xs(n,t,e,i){const r=Yt(),o=xs(2);r.firstUpdatePass&&HV(r,null,o,i);const s=ye();if(e!==kt&&qr(s,o,e)){const a=r.data[Dr()];if(qV(a,i)&&!jV(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=oi(l,e||"")),MT(r,a,s,e,i)}else!function _ee(n,t,e,i,r,o,s,a){r===kt&&(r=ln);let l=0,c=0,d=0<r.length?r[0]:null,h=0<o.length?o[0]:null;for(;null!==d||null!==h;){const p=l<r.length?r[l+1]:void 0,v=c<o.length?o[c+1]:void 0;let w,b=null;d===h?(l+=2,c+=2,p!==v&&(b=h,w=v)):null===h||null!==d&&d<h?(l+=2,b=d):(c+=2,b=h,w=v),null!==b&&WV(n,t,e,i,b,w,s,a),d=l<r.length?r[l]:null,h=c<o.length?o[c]:null}}(r,a,s,s[gt],s[o+1],s[o+1]=function pee(n,t,e){if(null==e||""===e)return ln;const i=[],r=Zo(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,o)}}(Xo,Aa,uf(ye(),n,t,e),!0)}function Qd(n,t,e){const i=ye();return qr(i,il(),t)&&es(Yt(),Hn(),i,n,t,i[gt],e,!0),Qd}function tw(n,t,e){const i=ye();if(qr(i,il(),t)){const o=Yt(),s=Hn();es(o,s,i,n,t,$2(Qp(o.data),s,i),e,!0)}return tw}const Xd=void 0;var Bee=["en",[["a","p"],["AM","PM"],Xd],[["AM","PM"],Xd,Xd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xd,"{1} 'at' {0}",Xd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Vee(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let yf={};function bo(n){const t=function Uee(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=fB(t);if(e)return e;const i=t.split("-")[0];if(e=fB(i),e)return e;if("en"===i)return Bee;throw new ce(701,!1)}function fB(n){return n in yf||(yf[n]=kn.ng&&kn.ng.common&&kn.ng.common.locales&&kn.ng.common.locales[n]),yf[n]}var Jn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Jn||{});const wf="en-US";let mB=wf;function zT(n,t,e,i,r){if(n=ut(n),Array.isArray(n))for(let o=0;o<n.length;o++)zT(n[o],t,e,i,r);else{const o=Yt(),s=ye(),a=Wi();let l=qd(n)?n:ut(n.provide);const c=e2(n),d=1048575&a.providerIndexes,h=a.directiveStart,p=a.providerIndexes>>20;if(qd(n)||!n.multi){const v=new hc(c,r,O),b=HT(l,t,r?d:d+p,h);-1===b?(oe(_(a,s),o,l),jT(o,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(v),s.push(v)):(e[b]=v,s[b]=v)}else{const v=HT(l,t,d+p,h),b=HT(l,t,d,d+p),E=b>=0&&e[b];if(r&&!E||!r&&!(v>=0&&e[v])){oe(_(a,s),o,l);const M=function Vte(n,t,e,i,r){const o=new hc(n,e,O);return o.multi=[],o.index=t,o.componentProviders=0,BB(o,r,i&&!e),o}(r?Lte:Fte,e.length,r,i,c);!r&&E&&(e[b].providerFactory=M),jT(o,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(M),s.push(M)}else jT(o,n,v>-1?v:b,BB(e[r?b:v],c,!r&&i));!r&&i&&E&&e[b].componentProviders++}}}function jT(n,t,e,i){const r=qd(t),o=function DX(n){return!!n.useClass}(t);if(r||o){const l=(o?ut(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const d=c.indexOf(e);-1===d?c.push(e,[i,l]):c[d+1].push(i,l)}else c.push(e,l)}}}function BB(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function HT(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function Fte(n,t,e,i){return $T(this.multi,[])}function Lte(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=wa(e,e[ze],this.providerFactory.index,i);o=a.slice(0,s),$T(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],$T(r,o);return o}function $T(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function rn(n,t=[]){return e=>{e.providersResolver=(i,r)=>function Nte(n,t,e){const i=Yt();if(i.firstCreatePass){const r=Qo(n);zT(e,i.data,i.blueprint,r,!0),zT(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class Zd{}class UB{}class WT extends Zd{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Z2(this);const r=go(t);this._bootstrapComponents=dl(r.bootstrap),this._r3Injector=h2(t,e,[{provide:Zd,useValue:this},{provide:rf,useValue:this.componentFactoryResolver},...i],Pe(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class GT extends UB{constructor(t){super(),this.moduleType=t}create(t){return new WT(this.moduleType,t,[])}}class zB extends Zd{constructor(t){super(),this.componentFactoryResolver=new Z2(this),this.instance=null;const e=new Jh([...t.providers,{provide:Zd,useValue:this},{provide:rf,useValue:this.componentFactoryResolver}],t.parent||M0(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function qT(n,t,e=null){return new zB({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let zte=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=QL(0,e.type),r=i.length>0?qT([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Ae({token:n,providedIn:"environment",factory:()=>new n(X(Jo))})}}return n})();function jB(n){n.getStandaloneInjector=t=>t.get(zte).getOrCreateStandaloneInjector(n)}function $g(n,t){const e=n[t];return e===kt?void 0:e}function ZB(n,t,e,i,r,o,s){const a=t+e;return Kd(n,a,r,o)?Ia(n,a+2,s?i.call(s,r,o):i(r,o)):$g(n,a+2)}function Zs(n,t){const e=Yt();let i;const r=n+zt;e.firstCreatePass?(i=function rne(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=lc(i.type)),a=vr(O);try{const l=Hd(!1),c=o();return Hd(l),function jJ(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,ye(),r,c),c}finally{vr(a)}}function Ta(n,t,e){const i=n+zt,r=ye(),o=dc(r,i);return Wg(r,i)?function XB(n,t,e,i,r,o){const s=t+e;return qr(n,s,r)?Ia(n,s+1,o?i.call(o,r):i(r)):$g(n,s+1)}(r,cr(),t,o.transform,e,o):o.transform(e)}function Wg(n,t){return n[ze].data[t].pure}function lne(){return this._results[Symbol.iterator]()}class Jd{get changes(){return this._changes||(this._changes=new _t)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Jd.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=lne)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function Es(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function ZY(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function dne(n,t,e,i=!0){const r=t[ze];if(function zQ(n,t,e,i){const r=ar+i,o=e.length;i>0&&(e[r-1][Yo]=t),i<o-ar?(t[Yo]=e[r],XF(e,ar+i,t)):(e.push(t),t[Yo]=null),t[Mn]=e;const s=t[Sd];null!==s&&e!==s&&function jQ(n,t){const e=n[rc];t[ci]!==t[Mn][Mn][ci]&&(n[yy]=!0),null===e?n[rc]=[t]:e.push(t)}(s,t);const a=t[bs];null!==a&&a.insertView(n),t[Dt]|=128}(r,t,n,e),i){const o=OA(e,n),s=t[gt],a=w0(s,n[Sr]);null!==a&&function VQ(n,t,e,i,r,o){i[ai]=r,i[yr]=t,bg(n,i,e,1,r,o)}(r,n[yr],s,t,a,o)}}let ts=(()=>{class n{static{this.__NG_ELEMENT_ID__=fne}}return n})();const une=ts,hne=class extends une{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function cne(n,t,e,i){const r=t.tView,a=z0(n,r,e,4096&n[Dt]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[Sd]=n[t.index];const c=n[bs];return null!==c&&(a[bs]=c.createEmbeddedView(r)),IT(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new kg(r)}};function fne(){return sw(Wi(),ye())}function sw(n,t){return 4&n.type?new hne(t,n,sf(n,t)):null}let Oo=(()=>{class n{static{this.__NG_ELEMENT_ID__=bne}}return n})();function bne(){return cU(Wi(),ye())}const yne=Oo,aU=class extends yne{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return sf(this._hostTNode,this._hostLView)}get injector(){return new xr(this._hostTNode,this._hostLView)}get parentInjector(){const t=Y(this._hostTNode,this._hostLView);if(rg(t)){const e=jd(t,this._hostLView),i=zd(t);return new xr(e[ze].data[i+8],e)}return new xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=lU(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ar}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=t.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(a,r,false),a}createComponent(t,e,i,r,o){const s=t&&!function hg(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const w=e||{};a=w.index,i=w.injector,r=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}const l=s?t:new Mg(Kt(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const E=(s?c:this.parentInjector).get(Jo,null);E&&(o=E)}Kt(l.componentType??{});const v=l.create(c,r,null,o);return this.insertImpl(v.hostView,a,false),v}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function zy(n){return $r(n[Mn])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=r[Mn],d=new aU(c,c[yr],c[Mn]);d.detach(d.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;return dne(a,r,s,!i),t.attachToViewContainerRef(),XF(YT(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=lU(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=y0(this._lContainer,e);i&&(d0(YT(this._lContainer),e),kA(i[ze],i))}detach(t){const e=this._adjustIndex(t,-1),i=y0(this._lContainer,e);return i&&null!=d0(YT(this._lContainer),e)?new kg(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function lU(n){return n[8]}function YT(n){return n[8]||(n[8]=[])}function cU(n,t){let e;const i=t[n.index];return $r(i)?e=i:(e=U2(i,t,null,n),t[n.index]=e,j0(t,e)),dU(e,t,n,i),new aU(e,n,t)}let dU=function uU(n,t,e,i){if(n[Sr])return;let r;r=8&e.type?In(i):function wne(n,t){const e=n[gt],i=e.createComment(""),r=Wr(t,n);return Wd(e,w0(e,r),i,function GQ(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[Sr]=r};class QT{constructor(t){this.queryList=t,this.matches=null}clone(){return new QT(this.queryList)}setDirty(){this.queryList.setDirty()}}class XT{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new XT(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==gU(t,e).matches&&this.queries[e].setDirty()}}class hU{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class ZT{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new ZT(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class JT{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new JT(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,Ine(e,o)),this.matchTNodeWithReadOption(t,e,sl(e,t,o,!1,!1))}else i===ts?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,sl(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===xt||r===Oo||r===ts&&4&e.type)this.addMatch(e.index,-2);else{const o=sl(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ine(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Ane(n,t,e,i){return-1===e?function Cne(n,t){return 11&n.type?sf(n,t):4&n.type?sw(n,t):null}(t,n):-2===e?function Tne(n,t,e){return e===xt?sf(t,n):e===ts?sw(t,n):e===Oo?cU(t,n):void 0}(n,t,i):wa(n,n[ze],e,t)}function fU(n,t,e,i){const r=t[bs].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:Ane(t,o[c],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function eS(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=fU(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],d=t[-l];for(let h=ar;h<d.length;h++){const p=d[h];p[Sd]===p[Mn]&&eS(p[ze],p,c,i)}if(null!==d[rc]){const h=d[rc];for(let p=0;p<h.length;p++){const v=h[p];eS(v[ze],v,c,i)}}}}}return i}function It(n){const t=ye(),e=Yt(),i=Oh();Xp(i+1);const r=gU(e,i);if(n.dirty&&function tA(n){return 4==(4&n[Dt])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?eS(e,t,i,[]):fU(e,t,r,i);n.reset(o,QX),n.notifyOnChanges()}return!0}return!1}function Oi(n,t,e){const i=Yt();i.firstCreatePass&&(pU(i,new hU(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),mU(i,ye(),t)}function di(n,t,e,i){const r=Yt();if(r.firstCreatePass){const o=Wi();pU(r,new hU(t,e,i),o.index),function Dne(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}mU(r,ye(),e)}function Ct(){return function Sne(n,t){return n[bs].queries[t].queryList}(ye(),Oh())}function mU(n,t,e){const i=new Jd(4==(4&e));(function DZ(n,t,e,i){const r=j2(t);r.push(e),n.firstCreatePass&&H2(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[bs]&&(t[bs]=new XT),t[bs].queries.push(new QT(i))}function pU(n,t,e){null===n.queries&&(n.queries=new ZT),n.queries.track(new JT(t,e))}function gU(n,t){return n.queries.getByIndex(t)}function xf(n,t){return sw(n,t)}const cw=new de("Application Initializer");let sS=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=De(cw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(Fg(o))e.push(o);else if(xV(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),PU=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const Sa=new de("LocaleId",{providedIn:"root",factory:()=>De(Sa,Ut.Optional|Ut.SkipSelf)||function Qne(){return typeof $localize<"u"&&$localize.locale||wf}()}),Xne=new de("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let dw=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new T(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Jne{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let OU=(()=>{class n{compileModuleSync(e){return new GT(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=dl(go(e).declarations).reduce((s,a)=>{const l=Kt(a);return l&&s.push(new Mg(l)),s},[]);return new Jne(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const VU=new de(""),hw=new de("");let uS,cS=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,uS||(function wie(n){uS=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$e.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)(X($e),X(dS),X(hw))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})(),dS=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return uS?.findTestabilityInTree(this,e,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),gc=null;const BU=new de("AllowMultipleToken"),hS=new de("PlatformDestroyListeners"),fS=new de("appBootstrapListener");class zU{constructor(t,e){this.name=t,this.token=e}}function HU(n,t,e=[]){const i=`Platform: ${t}`,r=new de(i);return(o=[])=>{let s=mS();if(!s||s.injector.get(BU,!1)){const a=[...e,...o,{provide:r,useValue:!0}];n?n(a):function Iie(n){if(gc&&!gc.get(BU,!1))throw new ce(400,!1);(function UU(){!function $F(n){Oy=n}(()=>{throw new ce(600,!1)})})(),gc=n;const t=n.get(WU);(function jU(n){n.get(t2,null)?.forEach(e=>e())})(n)}(function $U(n=[],t){return Rn.create({name:t,providers:[{provide:WA,useValue:"platform"},{provide:hS,useValue:new Set([()=>gc=null])},...n]})}(a,i))}return function Aie(n){const t=mS();if(!t)throw new ce(401,!1);return t}()}}function mS(){return gc?.get(WU)??null}let WU=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function Tie(n="zone.js",t){return"noop"===n?new uZ:"zone.js"===n?new $e(t):n}(i?.ngZone,function GU(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function Ute(n,t,e){return new WT(n,t,e)}(e.moduleType,this.injector,function XU(n){return[{provide:$e,useFactory:n},{provide:xg,multi:!0,useFactory:()=>{const t=De(Die,{optional:!0});return()=>t.initialize()}},{provide:QU,useFactory:Sie},{provide:_2,useFactory:v2}]}(()=>r)),s=o.injector.get(Is,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{fw(this._modules,o),a.unsubscribe()})}),function qU(n,t,e){try{const i=e();return Fg(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(sS);return a.runInitializers(),a.donePromise.then(()=>(function pB(n){fo(n,"Expected localeId to be defined"),"string"==typeof n&&(mB=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Sa,wf)||wf),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,i=[]){const r=KU({},i);return function xie(n,t,e){const i=new GT(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(hl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new ce(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ce(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(hS,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)(X(Rn))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function KU(n,t){return Array.isArray(t)?t.reduce(KU,n):{...n,...t}}let hl=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=De(QU),this.zoneIsStable=De(_2),this.componentTypes=[],this.components=[],this.isStable=De(dw).hasPendingTasks.pipe(Ie(e=>e?R(!1):this.zoneIsStable),Ye(),U()),this._injector=De(Jo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof s2;if(!this._injector.get(sS).done)throw!r&&function ma(n){const t=Kt(n)||Ri(n)||sr(n);return null!==t&&t.standalone}(e),new ce(405,!1);let s;s=r?e:this._injector.get(rf).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function Eie(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Zd),c=s.create(Rn.NULL,[],i||s.selector,a),d=c.location.nativeElement,h=c.injector.get(VU,null);return h?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),fw(this.components,c),h?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new ce(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;fw(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(fS,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>fw(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new ce(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function fw(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const QU=new de("",{providedIn:"root",factory:()=>De(Is).handleError.bind(void 0)});function Sie(){const n=De($e),t=De(Is);return e=>n.runOutsideAngular(()=>t.handleError(e))}let Die=(()=>{class n{constructor(){this.zone=De($e),this.applicationRef=De(hl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();let Yr=(()=>{class n{static{this.__NG_ELEMENT_ID__=Mie}}return n})();function Mie(n){return function Rie(n,t,e){if(oc(n)&&!e){const i=_o(n.index,t);return new kg(i,i)}return 47&n.type?new kg(t[ci],t):null}(Wi(),ye(),16==(16&n))}class nz{constructor(){}supports(t){return G0(t)}create(t){return new Lie(t)}}const Fie=(n,t)=>t;class Lie{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Fie}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<rz(i,r,o)?e:i,a=rz(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,d=l-r;if(c!=d){for(let p=0;p<c;p++){const v=p<o.length?o[p]:o[p]=0,b=v+p;d<=b&&b<c&&(o[p]=v+1)}o[s.previousIndex]=d-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!G0(t))throw new ce(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function wJ(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new Vie(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new iz),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iz),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Vie{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Bie{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class iz{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new Bie,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rz(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class oz{constructor(){}supports(t){return t instanceof Map||CT(t)}create(){return new Uie}}class Uie{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||CT(t)))throw new ce(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new zie(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class zie{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sz(){return new gw([new nz])}let gw=(()=>{class n{static{this.\u0275prov=Ae({token:n,providedIn:"root",factory:sz})}constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||sz()),deps:[[n,new mg,new Mr]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new ce(901,!1)}}return n})();function az(){return new Kg([new oz])}let Kg=(()=>{class n{static{this.\u0275prov=Ae({token:n,providedIn:"root",factory:az})}constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||az()),deps:[[n,new mg,new Mr]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new ce(901,!1)}}return n})();const $ie=HU(null,"core",[]);let Wie=(()=>{class n{constructor(e){}static{this.\u0275fac=function(i){return new(i||n)(X(hl))}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({})}}return n})();function Cf(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let wS=null;function _c(){return wS}class ore{}const At=new de("DocumentToken");let xS=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:function(){return De(are)},providedIn:"platform"})}}return n})();const sre=new de("Location Initialized");let are=(()=>{class n extends xS{constructor(){super(),this._doc=De(At),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _c().getBaseHref(this._doc)}onPopState(e){const i=_c().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=_c().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function ES(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function gz(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function fl(n){return n&&"?"!==n[0]?"?"+n:n}let tu=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:function(){return De(vz)},providedIn:"root"})}}return n})();const _z=new de("appBaseHref");let vz=(()=>{class n extends tu{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??De(At).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ES(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+fl(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+fl(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+fl(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(X(xS),X(_z,8))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lre=(()=>{class n extends tu{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ES(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+fl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+fl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(X(xS),X(_z,8))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})(),Yg=(()=>{class n{constructor(e){this._subject=new _t,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function ure(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(gz(bz(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+fl(i))}normalize(e){return n.stripTrailingSlash(function dre(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,bz(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fl(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fl(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static{this.normalizeQueryParams=fl}static{this.joinWithSlash=ES}static{this.stripTrailingSlash=gz}static{this.\u0275fac=function(i){return new(i||n)(X(tu))}}static{this.\u0275prov=Ae({token:n,factory:function(){return function cre(){return new Yg(X(tu))}()},providedIn:"root"})}}return n})();function bz(n){return n.replace(/\/index.html$/,"")}const yz={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var vw=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(vw||{}),wo=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(wo||{}),$n=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}($n||{}),ns=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(ns||{}),qi=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(qi||{});function bw(n,t){return Ts(bo(n)[Jn.DateFormat],t)}function yw(n,t){return Ts(bo(n)[Jn.TimeFormat],t)}function ww(n,t){return Ts(bo(n)[Jn.DateTimeFormat],t)}function As(n,t){const e=bo(n),i=e[Jn.NumberSymbols][t];if(typeof i>"u"){if(t===qi.CurrencyDecimal)return e[Jn.NumberSymbols][qi.Decimal];if(t===qi.CurrencyGroup)return e[Jn.NumberSymbols][qi.Group]}return i}function wz(n){if(!n[Jn.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Jn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ts(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function CS(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Cre=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Qg={},Are=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ml=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(ml||{}),wn=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(wn||{}),xn=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(xn||{});function Tre(n,t,e,i){let r=function Fre(n){if(Iz(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return xw(r,o-1,s)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Cre))return function Lre(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,s,a,l,c),t}(i)}const t=new Date(n);if(!Iz(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=pl(e,t)||t;let a,s=[];for(;t;){if(a=Are.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const d=s.pop();if(!d)break;t=d}}let l=r.getTimezoneOffset();i&&(l=Ez(i,l),r=function Nre(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function Ore(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(Ez(t,r)-r))}(r,i,!0));let c="";return s.forEach(d=>{const h=function Pre(n){if(TS[n])return TS[n];let t;switch(n){case"G":case"GG":case"GGG":t=ei(xn.Eras,$n.Abbreviated);break;case"GGGG":t=ei(xn.Eras,$n.Wide);break;case"GGGGG":t=ei(xn.Eras,$n.Narrow);break;case"y":t=er(wn.FullYear,1,0,!1,!0);break;case"yy":t=er(wn.FullYear,2,0,!0,!0);break;case"yyy":t=er(wn.FullYear,3,0,!1,!0);break;case"yyyy":t=er(wn.FullYear,4,0,!1,!0);break;case"Y":t=Aw(1);break;case"YY":t=Aw(2,!0);break;case"YYY":t=Aw(3);break;case"YYYY":t=Aw(4);break;case"M":case"L":t=er(wn.Month,1,1);break;case"MM":case"LL":t=er(wn.Month,2,1);break;case"MMM":t=ei(xn.Months,$n.Abbreviated);break;case"MMMM":t=ei(xn.Months,$n.Wide);break;case"MMMMM":t=ei(xn.Months,$n.Narrow);break;case"LLL":t=ei(xn.Months,$n.Abbreviated,wo.Standalone);break;case"LLLL":t=ei(xn.Months,$n.Wide,wo.Standalone);break;case"LLLLL":t=ei(xn.Months,$n.Narrow,wo.Standalone);break;case"w":t=AS(1);break;case"ww":t=AS(2);break;case"W":t=AS(1,!0);break;case"d":t=er(wn.Date,1);break;case"dd":t=er(wn.Date,2);break;case"c":case"cc":t=er(wn.Day,1);break;case"ccc":t=ei(xn.Days,$n.Abbreviated,wo.Standalone);break;case"cccc":t=ei(xn.Days,$n.Wide,wo.Standalone);break;case"ccccc":t=ei(xn.Days,$n.Narrow,wo.Standalone);break;case"cccccc":t=ei(xn.Days,$n.Short,wo.Standalone);break;case"E":case"EE":case"EEE":t=ei(xn.Days,$n.Abbreviated);break;case"EEEE":t=ei(xn.Days,$n.Wide);break;case"EEEEE":t=ei(xn.Days,$n.Narrow);break;case"EEEEEE":t=ei(xn.Days,$n.Short);break;case"a":case"aa":case"aaa":t=ei(xn.DayPeriods,$n.Abbreviated);break;case"aaaa":t=ei(xn.DayPeriods,$n.Wide);break;case"aaaaa":t=ei(xn.DayPeriods,$n.Narrow);break;case"b":case"bb":case"bbb":t=ei(xn.DayPeriods,$n.Abbreviated,wo.Standalone,!0);break;case"bbbb":t=ei(xn.DayPeriods,$n.Wide,wo.Standalone,!0);break;case"bbbbb":t=ei(xn.DayPeriods,$n.Narrow,wo.Standalone,!0);break;case"B":case"BB":case"BBB":t=ei(xn.DayPeriods,$n.Abbreviated,wo.Format,!0);break;case"BBBB":t=ei(xn.DayPeriods,$n.Wide,wo.Format,!0);break;case"BBBBB":t=ei(xn.DayPeriods,$n.Narrow,wo.Format,!0);break;case"h":t=er(wn.Hours,1,-12);break;case"hh":t=er(wn.Hours,2,-12);break;case"H":t=er(wn.Hours,1);break;case"HH":t=er(wn.Hours,2);break;case"m":t=er(wn.Minutes,1);break;case"mm":t=er(wn.Minutes,2);break;case"s":t=er(wn.Seconds,1);break;case"ss":t=er(wn.Seconds,2);break;case"S":t=er(wn.FractionalSeconds,1);break;case"SS":t=er(wn.FractionalSeconds,2);break;case"SSS":t=er(wn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Iw(ml.Short);break;case"ZZZZZ":t=Iw(ml.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Iw(ml.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Iw(ml.Long);break;default:return null}return TS[n]=t,t}(d);c+=h?h(r,e,l):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function xw(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function pl(n,t){const e=function fre(n){return bo(n)[Jn.LocaleId]}(n);if(Qg[e]=Qg[e]||{},Qg[e][t])return Qg[e][t];let i="";switch(t){case"shortDate":i=bw(n,ns.Short);break;case"mediumDate":i=bw(n,ns.Medium);break;case"longDate":i=bw(n,ns.Long);break;case"fullDate":i=bw(n,ns.Full);break;case"shortTime":i=yw(n,ns.Short);break;case"mediumTime":i=yw(n,ns.Medium);break;case"longTime":i=yw(n,ns.Long);break;case"fullTime":i=yw(n,ns.Full);break;case"short":const r=pl(n,"shortTime"),o=pl(n,"shortDate");i=Ew(ww(n,ns.Short),[r,o]);break;case"medium":const s=pl(n,"mediumTime"),a=pl(n,"mediumDate");i=Ew(ww(n,ns.Medium),[s,a]);break;case"long":const l=pl(n,"longTime"),c=pl(n,"longDate");i=Ew(ww(n,ns.Long),[l,c]);break;case"full":const d=pl(n,"fullTime"),h=pl(n,"fullDate");i=Ew(ww(n,ns.Full),[d,h])}return i&&(Qg[e][t]=i),i}function Ew(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Js(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),o+s}function er(n,t,e=0,i=!1,r=!1){return function(o,s){let a=function Dre(n,t){switch(n){case wn.FullYear:return t.getFullYear();case wn.Month:return t.getMonth();case wn.Date:return t.getDate();case wn.Hours:return t.getHours();case wn.Minutes:return t.getMinutes();case wn.Seconds:return t.getSeconds();case wn.FractionalSeconds:return t.getMilliseconds();case wn.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||a>-e)&&(a+=e),n===wn.Hours)0===a&&-12===e&&(a=12);else if(n===wn.FractionalSeconds)return function Sre(n,t){return Js(n,3).substring(0,t)}(a,t);const l=As(s,qi.MinusSign);return Js(a,t,l,i,r)}}function ei(n,t,e=wo.Format,i=!1){return function(r,o){return function kre(n,t,e,i,r,o){switch(e){case xn.Months:return function gre(n,t,e){const i=bo(n),o=Ts([i[Jn.MonthsFormat],i[Jn.MonthsStandalone]],t);return Ts(o,e)}(t,r,i)[n.getMonth()];case xn.Days:return function pre(n,t,e){const i=bo(n),o=Ts([i[Jn.DaysFormat],i[Jn.DaysStandalone]],t);return Ts(o,e)}(t,r,i)[n.getDay()];case xn.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const c=function yre(n){const t=bo(n);return wz(t),(t[Jn.ExtraData][2]||[]).map(i=>"string"==typeof i?CS(i):[CS(i[0]),CS(i[1])])}(t),d=function wre(n,t,e){const i=bo(n);wz(i);const o=Ts([i[Jn.ExtraData][0],i[Jn.ExtraData][1]],t)||[];return Ts(o,e)||[]}(t,r,i),h=c.findIndex(p=>{if(Array.isArray(p)){const[v,b]=p,w=s>=v.hours&&a>=v.minutes,E=s<b.hours||s===b.hours&&a<b.minutes;if(v.hours<b.hours){if(w&&E)return!0}else if(w||E)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(-1!==h)return d[h]}return function mre(n,t,e){const i=bo(n),o=Ts([i[Jn.DayPeriodsFormat],i[Jn.DayPeriodsStandalone]],t);return Ts(o,e)}(t,r,i)[s<12?0:1];case xn.Eras:return function _re(n,t){return Ts(bo(n)[Jn.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Iw(n){return function(t,e,i){const r=-1*i,o=As(e,qi.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case ml.Short:return(r>=0?"+":"")+Js(s,2,o)+Js(Math.abs(r%60),2,o);case ml.ShortGMT:return"GMT"+(r>=0?"+":"")+Js(s,1,o);case ml.Long:return"GMT"+(r>=0?"+":"")+Js(s,2,o)+":"+Js(Math.abs(r%60),2,o);case ml.Extended:return 0===i?"Z":(r>=0?"+":"")+Js(s,2,o)+":"+Js(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const Mre=0,Cw=4;function xz(n){return xw(n.getFullYear(),n.getMonth(),n.getDate()+(Cw-n.getDay()))}function AS(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=xz(e),s=function Rre(n){const t=xw(n,Mre,1).getDay();return xw(n,0,1+(t<=Cw?Cw:Cw+7)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Js(r,n,As(i,qi.MinusSign))}}function Aw(n,t=!1){return function(e,i){return Js(xz(e).getFullYear(),n,As(i,qi.MinusSign),t)}}const TS={};function Ez(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Iz(n){return n instanceof Date&&!isNaN(n.valueOf())}const Vre=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Cz=22,Tw=".",Xg="0",Bre=";",Ure=",",SS="#";function jre(n,t,e,i,r){const s=function kS(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(Bre),r=i[0],o=i[1],s=-1!==r.indexOf(Tw)?r.split(Tw):[r.substring(0,r.lastIndexOf(Xg)+1),r.substring(r.lastIndexOf(Xg)+1)],a=s[0],l=s[1]||"";e.posPre=a.substring(0,a.indexOf(SS));for(let d=0;d<l.length;d++){const h=l.charAt(d);h===Xg?e.minFrac=e.maxFrac=d+1:h===SS?e.maxFrac=d+1:e.posSuf+=h}const c=a.split(Ure);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const d=r.length-e.posPre.length-e.posSuf.length,h=o.indexOf(SS);e.negPre=o.substring(0,h).replace(/'/g,""),e.negSuf=o.slice(h+d).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function IS(n,t){return bo(n)[Jn.NumberFormats][t]}(t,vw.Currency),As(t,qi.MinusSign));return s.minFrac=function Ire(n){let t;const e=yz[n];return e&&(t=e[2]),"number"==typeof t?t:2}(i),s.maxFrac=s.minFrac,function DS(n,t,e,i,r,o,s=!1){let a="",l=!1;if(isFinite(n)){let c=function Gre(n){let i,r,o,s,a,t=Math.abs(n)+"",e=0;for((r=t.indexOf(Tw))>-1&&(t=t.replace(Tw,"")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;t.charAt(o)===Xg;o++);if(o===(a=t.length))i=[0],r=1;else{for(a--;t.charAt(a)===Xg;)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(t.charAt(o))}return r>Cz&&(i=i.splice(0,Cz-1),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);s&&(c=function Wre(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(c));let d=t.minInt,h=t.minFrac,p=t.maxFrac;if(o){const S=o.match(Vre);if(null===S)throw new Error(`${o} is not a valid digit info`);const V=S[1],$=S[3],Q=S[5];null!=V&&(d=MS(V)),null!=$&&(h=MS($)),null!=Q?p=MS(Q):null!=$&&h>p&&(p=h)}!function qre(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let s=o+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let h=s;h<i.length;h++)i[h]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let h=1;h<s;h++)i[h]=0}if(a>=5)if(s-1<0){for(let h=0;h>s;h--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=0!==o;const c=t+n.integerLen,d=i.reduceRight(function(h,p,v,b){return b[v]=(p+=h)<10?p:p-10,l&&(0===b[v]&&v>=c?b.pop():l=!1),p>=10?1:0},0);d&&(i.unshift(d),n.integerLen++)}(c,h,p);let v=c.digits,b=c.integerLen;const w=c.exponent;let E=[];for(l=v.every(S=>!S);b<d;b++)v.unshift(0);for(;b<0;b++)v.unshift(0);b>0?E=v.splice(b,v.length):(E=v,v=[0]);const M=[];for(v.length>=t.lgSize&&M.unshift(v.splice(-t.lgSize,v.length).join(""));v.length>t.gSize;)M.unshift(v.splice(-t.gSize,v.length).join(""));v.length&&M.unshift(v.join("")),a=M.join(As(e,i)),E.length&&(a+=As(e,r)+E.join("")),w&&(a+=As(e,qi.Exponential)+"+"+w)}else a=As(e,qi.Infinity);return a=n<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(n,s,t,qi.CurrencyGroup,qi.CurrencyDecimal,r).replace("\xa4",e).replace("\xa4","").trim()}function MS(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function Sz(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const PS=/\s+/,Dz=[];let OS=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=Dz,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(PS):Dz}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(PS):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(PS).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(O(gw),O(Kg),O(xt),O(cl))}}static{this.\u0275dir=Te({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class Qre{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gl=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Qre(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),Mz(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Mz(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(O(Oo),O(ts),O(gw))}}static{this.\u0275dir=Te({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function Mz(n,t){n.context.$implicit=t.item}let ea=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Xre,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Rz("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Rz("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(O(Oo),O(ts))}}static{this.\u0275dir=Te({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class Xre{constructor(){this.$implicit=null,this.ngIf=null}}function Rz(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Pe(t)}'.`)}class NS{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Zg=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return n})(),FS=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new NS(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(i){return new(i||n)(O(Oo),O(ts),O(Zg,9))}}static{this.\u0275dir=Te({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return n})(),Pz=(()=>{class n{constructor(e,i,r){r._addDefault(new NS(e,i))}static{this.\u0275fac=function(i){return new(i||n)(O(Oo),O(ts),O(Zg,9))}}static{this.\u0275dir=Te({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return n})(),LS=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static{this.\u0275fac=function(i){return new(i||n)(O(Oo))}}static{this.\u0275dir=Te({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Di]})}}return n})();function ta(n,t){return new ce(2100,!1)}class eoe{createSubscription(t,e){return Ly(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){Ly(()=>t.unsubscribe())}}class toe{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const noe=new toe,ioe=new eoe;let VS=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Fg(e))return noe;if(xV(e))return ioe;throw ta()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static{this.\u0275fac=function(i){return new(i||n)(O(Yr,16))}}static{this.\u0275pipe=br({name:"async",type:n,pure:!1,standalone:!0})}}return n})();const coe=new de("DATE_PIPE_DEFAULT_TIMEZONE"),doe=new de("DATE_PIPE_DEFAULT_OPTIONS");let Sw=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return Tre(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw ta()}}static{this.\u0275fac=function(i){return new(i||n)(O(Sa,16),O(coe,24),O(doe,24))}}static{this.\u0275pipe=br({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),BS=(()=>{class n{constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,r="symbol",o,s){if(!function US(n){return!(null==n||""===n||n!=n)}(e))return null;s=s||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let a=i||this._defaultCurrencyCode;"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?function xre(n,t,e="en"){const i=function vre(n){return bo(n)[Jn.Currencies]}(e)[n]||yz[n]||[],r=i[1];return"narrow"===t&&"string"==typeof r?r:i[0]||n}(a,"symbol"===r?"wide":"narrow",s):r);try{return jre(function zS(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),s,a,i,o)}catch(l){throw ta()}}static{this.\u0275fac=function(i){return new(i||n)(O(Sa,16),O(Xne,16))}}static{this.\u0275pipe=br({name:"currency",type:n,pure:!0,standalone:!0})}}return n})();let _l=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({})}}return n})();const Fz="browser";function jS(n){return n===Fz}function Dw(n){return"server"===n}let xoe=(()=>{class n{static{this.\u0275prov=Ae({token:n,providedIn:"root",factory:()=>new Eoe(X(At),window)})}}return n})();class Eoe{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Ioe(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Lz{}class qoe extends ore{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class WS extends qoe{static makeCurrent(){!function rre(n){wS||(wS=n)}(new WS)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Koe(){return e_=e_||document.querySelector("base"),e_?e_.getAttribute("href"):null}();return null==e?null:function Yoe(n){Rw=Rw||document.createElement("a"),Rw.setAttribute("href",n);const t=Rw.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){e_=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Sz(document.cookie,t)}}let Rw,e_=null,Xoe=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})();const GS=new de("EventManagerPlugins");let jz=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new ce(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||n)(X(GS),X($e))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})();class Hz{constructor(t){this._doc=t}}const qS="ng-app-id";let $z=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Dw(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${qS}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(qS),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(qS,this.appId),s}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(X(At),X(R0),X(YA,8),X(Ro))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})();const KS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},YS=/%COMP%/g,tse=new de("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Gz(n,t){return t.map(e=>e.replace(YS,n))}let QS=(()=>{class n{constructor(e,i,r,o,s,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Dw(a),this.defaultRenderer=new XS(e,s,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===or.ShadowDom&&(i={...i,encapsulation:or.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof Kz?r.applyToHost(e):r instanceof ZS&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case or.Emulated:o=new Kz(l,c,i,this.appId,d,s,a,h);break;case or.ShadowDom:return new ose(l,c,e,i,s,a,this.nonce,h);default:o=new ZS(l,c,i,d,s,a,h)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(X(jz),X($z),X(R0),X(tse),X(At),X(Ro),X($e),X(YA))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})();class XS{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(KS[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(qz(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(qz(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new ce(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=KS[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=KS[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(fc.DashCase|fc.Important)?t.style.setProperty(e,i,r&fc.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&fc.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=_c().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function qz(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ose extends XS{constructor(t,e,i,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Gz(r.id,r.styles);for(const d of c){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ZS extends XS{constructor(t,e,i,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?Gz(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Kz extends ZS{constructor(t,e,i,r,o,s,a,l){const c=r+"-"+i.id;super(t,e,i,o,s,a,l,c),this.contentAttr=function nse(n){return"_ngcontent-%COMP%".replace(YS,n)}(c),this.hostAttr=function ise(n){return"_nghost-%COMP%".replace(YS,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let sse=(()=>{class n extends Hz{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(X(At))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})();const Yz=["alt","control","meta","shift"],ase={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lse={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let cse=(()=>{class n extends Hz{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_c().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Yz.forEach(c=>{const d=i.indexOf(c);d>-1&&(i.splice(d,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let r=ase[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Yz.forEach(s=>{s!==r&&(0,lse[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static{this.\u0275fac=function(i){return new(i||n)(X(At))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})();const Xz=[{provide:Ro,useValue:Fz},{provide:t2,useValue:function dse(){WS.makeCurrent()},multi:!0},{provide:At,useFactory:function hse(){return function eX(n){LA=n}(document),document},deps:[]}],fse=HU($ie,"browser",Xz),mse=new de(""),Zz=[{provide:hw,useClass:class Qoe{addToWindow(t){kn.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new ce(5103,!1);return o},kn.getAllAngularTestabilities=()=>t.getAllTestabilities(),kn.getAllAngularRootElements=()=>t.getAllRootElements(),kn.frameworkStabilizers||(kn.frameworkStabilizers=[]),kn.frameworkStabilizers.push(i=>{const r=kn.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?_c().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:VU,useClass:cS,deps:[$e,dS,hw]},{provide:cS,useClass:cS,deps:[$e,dS,hw]}],Jz=[{provide:WA,useValue:"root"},{provide:Is,useFactory:function use(){return new Is},deps:[]},{provide:GS,useClass:sse,multi:!0,deps:[At,$e,Ro]},{provide:GS,useClass:cse,multi:!0,deps:[At]},QS,$z,jz,{provide:Cg,useExisting:QS},{provide:Lz,useClass:Xoe,deps:[]},[]];let ej=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:R0,useValue:e.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(X(mse,12))}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({providers:[...Jz,...Zz],imports:[_l,Wie]})}}return n})(),tj=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||n)(X(At))}}static{this.\u0275prov=Ae({token:n,factory:function(i){let r=null;return r=i?new i:function gse(){return new tj(X(At))}(),r},providedIn:"root"})}}return n})();typeof window<"u"&&window;let eD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:function(i){let r=null;return r=i?new(i||n):X(rj),r},providedIn:"root"})}}return n})(),rj=(()=>{class n extends eD{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Rr.NONE:return i;case Rr.HTML:return xa(i,"HTML")?Zo(i):$L(this._doc,String(i)).toString();case Rr.STYLE:return xa(i,"Style")?Zo(i):i;case Rr.SCRIPT:if(xa(i,"Script"))return Zo(i);throw new ce(5200,!1);case Rr.URL:return xa(i,"URL")?Zo(i):A0(String(i));case Rr.RESOURCE_URL:if(xa(i,"ResourceURL"))return Zo(i);throw new ce(5201,!1);default:throw new ce(5202,!1)}}bypassSecurityTrustHtml(e){return function aX(n){return new tX(n)}(e)}bypassSecurityTrustStyle(e){return function lX(n){return new nX(n)}(e)}bypassSecurityTrustScript(e){return function cX(n){return new iX(n)}(e)}bypassSecurityTrustUrl(e){return function dX(n){return new rX(n)}(e)}bypassSecurityTrustResourceUrl(e){return function uX(n){return new oX(n)}(e)}static{this.\u0275fac=function(i){return new(i||n)(X(At))}}static{this.\u0275prov=Ae({token:n,factory:function(i){let r=null;return r=i?new i:function yse(n){return new rj(n.get(At))}(X(Rn)),r},providedIn:"root"})}}return n})();const{isArray:wse}=Array,{getPrototypeOf:xse,prototype:Ese,keys:Ise}=Object;function aj(n){if(1===n.length){const t=n[0];if(wse(t))return{args:t,keys:null};if(function Cse(n){return n&&"object"==typeof n&&xse(n)===Ese}(t)){const e=Ise(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:Ase}=Array;function tD(n){return fe(t=>function Tse(n,t){return Ase(t)?n(...t):n(t)}(n,t))}function lj(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Pw(...n){const t=Go(n),e=Wo(n),{args:i,keys:r}=aj(n);if(0===i.length)return A([],t);const o=new rt(function Sse(n,t,e=Wt){return i=>{cj(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)cj(t,()=>{const c=A(n[l],t);let d=!1;c.subscribe(he(i,h=>{o[l]=h,d||(d=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>lj(r,s):Wt));return e?o.pipe(tD(e)):o}function cj(n,t,e){n?$i(e,n,t):t()}const Ow=Me(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Tf(...n){return function Dse(){return Ji(1)}()(A(n,Go(n)))}function nu(n){return new rt(t=>{Gt(n()).subscribe(t)})}function iu(n,t){const e=N(n)?n:()=>n,i=r=>r.error(e());return new rt(t?r=>t.schedule(i,0,r):i)}function nD(){return J((n,t)=>{let e=null;n._refCount++;const i=he(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class iD extends rt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,re(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ft;const e=this.getSubject();t.add(this.source.subscribe(he(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ft.EMPTY)}return t}refCount(){return nD()(this)}}function Pn(n){return n<=0?()=>Xn:J((t,e)=>{let i=0;t.subscribe(he(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function is(...n){const t=Go(n);return J((e,i)=>{(t?Tf(n,e,t):Tf(n,e)).subscribe(i)})}function jt(n,t){return J((e,i)=>{let r=0;e.subscribe(he(i,o=>n.call(t,o,r++)&&i.next(o)))})}function Nw(n){return J((t,e)=>{let i=!1;t.subscribe(he(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function dj(n=kse){return J((t,e)=>{let i=!1;t.subscribe(he(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function kse(){return new Ow}function bc(n,t){const e=arguments.length>=2;return i=>i.pipe(n?jt((r,o)=>n(r,o,i)):Wt,Pn(1),e?Nw(t):dj(()=>new Ow))}function Sf(n,t){return N(t)?zn(n,t,1):zn(n,1)}function Fi(n,t,e){const i=N(n)||t||e?{next:n,error:t,complete:e}:n;return i?J((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(he(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Wt}function yc(n){return J((t,e)=>{let o,i=null,r=!1;i=t.subscribe(he(e,void 0,void 0,s=>{o=Gt(n(s,yc(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Fw(n,t){return J(function Mse(n,t,e,i,r){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(he(s,d=>{const h=c++;l=a?n(l,d,h):(a=!0,d),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(n,t,arguments.length>=2,!0))}function rD(n){return n<=0?()=>Xn:J((t,e)=>{let i=[];t.subscribe(he(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Lw(n){return fe(()=>n)}function Df(n){return J((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Wn(n){return J((t,e)=>{Gt(n).subscribe(he(e,()=>e.complete(),Ke)),!e.closed&&t.subscribe(e)})}const Ot="primary",t_=Symbol("RouteTitle");class Pse{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function kf(n){return new Pse(n)}function Ose(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Da(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!uj(n[r],t[r]))return!1;return!0}function uj(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function hj(n){return n.length>0?n[n.length-1]:null}function wc(n){return function sj(n){return!!n&&(n instanceof rt||N(n.lift)&&N(n.subscribe))}(n)?n:Fg(n)?A(Promise.resolve(n)):R(n)}const Fse={exact:function pj(n,t,e){if(!ru(n.segments,t.segments)||!Vw(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!pj(n.children[i],t.children[i],e))return!1;return!0},subset:gj},fj={exact:function Lse(n,t){return Da(n,t)},subset:function Vse(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>uj(n[e],t[e]))},ignored:()=>!0};function mj(n,t,e){return Fse[e.paths](n.root,t.root,e.matrixParams)&&fj[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function gj(n,t,e){return _j(n,t,t.segments,e)}function _j(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!ru(r,e)||t.hasChildren()||!Vw(r,e,i))}if(n.segments.length===e.length){if(!ru(n.segments,e)||!Vw(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!gj(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(ru(n.segments,r)&&Vw(n.segments,r,i)&&n.children[Ot])&&_j(n.children[Ot],t,o,i)}}function Vw(n,t,e){return t.every((i,r)=>fj[e](n[r].parameters,i.parameters))}class Mf{constructor(t=new An([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kf(this.queryParams)),this._queryParamMap}toString(){return zse.serialize(this)}}class An{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bw(this)}}class n_{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=kf(this.parameters)),this._parameterMap}toString(){return yj(this)}}function ru(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let i_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:function(){return new oD},providedIn:"root"})}}return n})();class oD{parse(t){const e=new Zse(t);return new Mf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${r_(t.root,!0)}`,i=function $se(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Uw(e)}=${Uw(r)}`).join("&"):`${Uw(e)}=${Uw(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function jse(n){return encodeURI(n)}(t.fragment)}`:""}`}}const zse=new oD;function Bw(n){return n.segments.map(t=>yj(t)).join("/")}function r_(n,t){if(!n.hasChildren())return Bw(n);if(t){const e=n.children[Ot]?r_(n.children[Ot],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Ot&&i.push(`${r}:${r_(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Use(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Ot&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Ot&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Ot?[r_(n.children[Ot],!1)]:[`${r}:${r_(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ot]?`${Bw(n)}/${e[0]}`:`${Bw(n)}/(${e.join("//")})`}}function vj(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uw(n){return vj(n).replace(/%3B/gi,";")}function sD(n){return vj(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zw(n){return decodeURIComponent(n)}function bj(n){return zw(n.replace(/\+/g,"%20"))}function yj(n){return`${sD(n.path)}${function Hse(n){return Object.keys(n).map(t=>`;${sD(t)}=${sD(n[t])}`).join("")}(n.parameters)}`}const Wse=/^[^\/()?;#]+/;function aD(n){const t=n.match(Wse);return t?t[0]:""}const Gse=/^[^\/()?;=#]+/,Kse=/^[^=?&#]+/,Qse=/^[^&#]+/;class Zse{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new An([],{}):new An([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ot]=new An(t,e)),i}parseSegment(){const t=aD(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new ce(4009,!1);return this.capture(t),new n_(zw(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function qse(n){const t=n.match(Gse);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=aD(this.remaining);r&&(i=r,this.capture(i))}t[zw(e)]=zw(i)}parseQueryParam(t){const e=function Yse(n){const t=n.match(Kse);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function Xse(n){const t=n.match(Qse);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=bj(e),o=bj(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=aD(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new ce(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Ot);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[Ot]:new An([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new ce(4011,!1)}}function wj(n){return n.segments.length>0?new An([],{[Ot]:n}):n}function xj(n){const t={};for(const i of Object.keys(n.children)){const o=xj(n.children[i]);if(i===Ot&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function Jse(n){if(1===n.numberOfChildren&&n.children[Ot]){const t=n.children[Ot];return new An(n.segments.concat(t.segments),t.children)}return n}(new An(n.segments,t))}function ou(n){return n instanceof Mf}function Ej(n){let t;const r=wj(function e(o){const s={};for(const l of o.children){const c=e(l);s[l.outlet]=c}const a=new An(o.url,s);return o===n&&(t=a),a}(n.root));return t??r}function Ij(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return lD(r,r,r,e,i);const o=function tae(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Aj(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new Aj(e,t,i)}(t);if(o.toRoot())return lD(r,r,new An([],{}),e,i);const s=function nae(n,t,e){if(n.isAbsolute)return new Hw(t,!0,0);if(!e)return new Hw(t,!1,NaN);if(null===e.parent)return new Hw(e,!0,0);const i=jw(n.commands[0])?0:1;return function iae(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new ce(4005,!1);r=i.segments.length}return new Hw(i,!1,r-o)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?s_(s.segmentGroup,s.index,o.commands):Tj(s.segmentGroup,s.index,o.commands);return lD(r,s.segmentGroup,a,e,i)}function jw(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function o_(n){return"object"==typeof n&&null!=n&&n.outlets}function lD(n,t,e,i,r){let s,o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),s=n===t?e:Cj(n,t,e);const a=wj(xj(s));return new Mf(a,o,r)}function Cj(n,t,e){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===t?e:Cj(o,t,e)}),new An(n.segments,i)}class Aj{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&jw(i[0]))throw new ce(4003,!1);const r=i.find(o_);if(r&&r!==hj(i))throw new ce(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hw{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Tj(n,t,e){if(n||(n=new An([],{})),0===n.segments.length&&n.hasChildren())return s_(n,t,e);const i=function oae(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(o_(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!Dj(l,c,s))return o;i+=2}else{if(!Dj(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new An(n.segments.slice(0,i.pathIndex),{});return o.children[Ot]=new An(n.segments.slice(i.pathIndex),n.children),s_(o,0,r)}return i.match&&0===r.length?new An(n.segments,{}):i.match&&!n.hasChildren()?cD(n,t,e):i.match?s_(n,0,r):cD(n,t,e)}function s_(n,t,e){if(0===e.length)return new An(n.segments,{});{const i=function rae(n){return o_(n[0])?n[0].outlets:{[Ot]:n}}(e),r={};if(Object.keys(i).some(o=>o!==Ot)&&n.children[Ot]&&1===n.numberOfChildren&&0===n.children[Ot].segments.length){const o=s_(n.children[Ot],t,e);return new An(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=Tj(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new An(n.segments,r)}}function cD(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(o_(o)){const l=sae(o.outlets);return new An(i,l)}if(0===r&&jw(e[0])){i.push(new n_(n.segments[t].path,Sj(e[0]))),r++;continue}const s=o_(o)?o.outlets[Ot]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&jw(a)?(i.push(new n_(s,Sj(a))),r+=2):(i.push(new n_(s,{})),r++)}return new An(i,{})}function sae(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=cD(new An([],{}),0,i))}),t}function Sj(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function Dj(n,t,e){return n==e.path&&Da(t,e.parameters)}const a_="imperative";class ka{constructor(t,e){this.id=t,this.url=e}}class $w extends ka{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xc extends ka{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class l_ extends ka{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Rf extends ka{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class Ww extends ka{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kj extends ka{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aae extends ka{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lae extends ka{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cae extends ka{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dae extends ka{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uae{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hae{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fae{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mae{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pae{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gae{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mj{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class dD{}class uD{constructor(t){this.url=t}}class _ae{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new c_,this.attachRef=null}}let c_=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new _ae,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Rj{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=hD(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=hD(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=fD(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return fD(t,this._root).map(e=>e.value)}}function hD(n,t){if(n===t.value)return t;for(const e of t.children){const i=hD(n,e);if(i)return i}return null}function fD(n,t){if(n===t.value)return[t];for(const e of t.children){const i=fD(n,e);if(i.length)return i.unshift(t),i}return[]}class vl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Pf(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Pj extends Rj{constructor(t,e){super(t),this.snapshot=e,mD(this,t)}toString(){return this.snapshot.toString()}}function Oj(n,t){const e=function vae(n,t){const s=new Gw([],{},{},"",{},Ot,t,null,{});return new Fj("",new vl(s,[]))}(0,t),i=new T([new n_("",{})]),r=new T({}),o=new T({}),s=new T({}),a=new T(""),l=new Of(i,r,s,a,o,Ot,t,e.root);return l.snapshot=e.root,new Pj(new vl(l,[]),e)}class Of{constructor(t,e,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(fe(c=>c[t_]))??R(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(fe(t=>kf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(fe(t=>kf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Nj(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function bae(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Gw{get title(){return this.data?.[t_]}constructor(t,e,i,r,o,s,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fj extends Rj{constructor(t,e){super(e),this.url=t,mD(this,e)}toString(){return Lj(this._root)}}function mD(n,t){t.value._routerState=n,t.children.forEach(e=>mD(n,e))}function Lj(n){const t=n.children.length>0?` { ${n.children.map(Lj).join(", ")} } `:"";return`${n.value}${t}`}function pD(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Da(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Da(t.params,e.params)||n.paramsSubject.next(e.params),function Nse(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Da(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Da(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function gD(n,t){const e=Da(n.params,t.params)&&function Bse(n,t){return ru(n,t)&&n.every((e,i)=>Da(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||gD(n.parent,t.parent))}let _D=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ot,this.activateEvents=new _t,this.deactivateEvents=new _t,this.attachEvents=new _t,this.detachEvents=new _t,this.parentContexts=De(c_),this.location=De(Oo),this.changeDetector=De(Yr),this.environmentInjector=De(Jo),this.inputBinder=De(qw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ce(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ce(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ce(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new ce(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new yae(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Di]})}}return n})();class yae{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Of?this.route:t===c_?this.childContexts:this.parent.get(t,e)}}const qw=new de("");let Vj=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=Pw([i.queryParams,i.params,i.data]).pipe(Ie(([o,s,a],l)=>(a={...o,...s,...a},0===l?R(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const s=function ire(n){const t=Kt(n);if(!t)return null;const e=new Mg(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})();function d_(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function xae(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return d_(n,i,r);return d_(n,i)})}(n,t,e);return new vl(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>d_(n,a)),s}}const i=function Eae(n){return new Of(new T(n.url),new T(n.params),new T(n.queryParams),new T(n.fragment),new T(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>d_(n,o));return new vl(i,r)}}const vD="ngNavigationCancelingError";function Bj(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=ou(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Uj(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function Uj(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[vD]=!0,i.cancellationCode=t,e&&(i.url=e),i}function zj(n){return n&&n[vD]}let jj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=St({type:n,selectors:[["ng-component"]],standalone:!0,features:[jB],decls:1,vars:0,template:function(i,r){1&i&&vt(0,"router-outlet")},dependencies:[_D],encapsulation:2})}}return n})();function bD(n){const t=n.children&&n.children.map(bD),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ot&&(e.component=jj),e}function na(n){return n.outlet||Ot}function u_(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Mae{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),pD(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Pf(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Pf(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Pf(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Pf(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new gae(o.value.snapshot))}),t.children.length&&this.forwardEvent(new mae(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(pD(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),pD(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=u_(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class Hj{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Kw{constructor(t,e){this.component=t,this.route=e}}function Rae(n,t,e){const i=n._root;return h_(i,t?t._root:null,e,[i.value])}function Nf(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function ny(n){return null!==mh(n)}(n)?t.get(n):n:i}function h_(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Pf(t);return n.children.forEach(s=>{(function Oae(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Nae(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ru(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ru(n.url,t.url)||!Da(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gD(n,t)||!Da(n.queryParams,t.queryParams);default:return!gD(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Hj(i)):(o.data=s.data,o._resolvedData=s._resolvedData),h_(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Kw(a.outlet.component,s))}else s&&f_(t,a,r),r.canActivateChecks.push(new Hj(i)),h_(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>f_(a,e.getContext(s),r)),r}function f_(n,t,e){const i=Pf(n),r=n.value;Object.entries(i).forEach(([o,s])=>{f_(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new Kw(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function m_(n){return"function"==typeof n}function $j(n){return n instanceof Ow||"EmptyError"===n?.name}const Yw=Symbol("INITIAL_VALUE");function Ff(){return Ie(n=>Pw(n.map(t=>t.pipe(Pn(1),is(Yw)))).pipe(fe(t=>{for(const e of t)if(!0!==e){if(e===Yw)return Yw;if(!1===e||e instanceof Mf)return e}return!0}),jt(t=>t!==Yw),Pn(1)))}function Wj(n){return Vn(Fi(t=>{if(ou(t))throw Bj(0,t)}),fe(t=>!0===t))}class Qw{constructor(t){this.segmentGroup=t||null}}class Gj{constructor(t){this.urlTree=t}}function Lf(n){return iu(new Qw(n))}function qj(n){return iu(new Gj(n))}class tle{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new ce(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return R(i);if(r.numberOfChildren>1||!r.children[Ot])return iu(new ce(4e3,!1));r=r.children[Ot]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Mf(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new An(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new ce(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const yD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nle(n,t,e,i,r){const o=wD(n,t,e);return o.matched?(i=function Cae(n,t){return n.providers&&!n._injector&&(n._injector=qT(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function Zae(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?R(r.map(s=>{const a=Nf(s,n);return wc(function zae(n){return n&&m_(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(Ff(),Wj()):R(!0)}(i,t,e).pipe(fe(s=>!0===s?o:{...yD}))):R(o)}function wD(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...yD}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Ose)(e,n,t);if(!r)return{...yD};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Kj(n,t,e,i){return e.length>0&&function ole(n,t,e){return e.some(i=>Xw(n,t,i)&&na(i)!==Ot)}(n,e,i)?{segmentGroup:new An(t,rle(i,new An(e,n.children))),slicedSegments:[]}:0===e.length&&function sle(n,t,e){return e.some(i=>Xw(n,t,i))}(n,e,i)?{segmentGroup:new An(n.segments,ile(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new An(n.segments,n.children),slicedSegments:e}}function ile(n,t,e,i,r){const o={};for(const s of i)if(Xw(n,e,s)&&!r[na(s)]){const a=new An([],{});o[na(s)]=a}return{...r,...o}}function rle(n,t){const e={};e[Ot]=t;for(const i of n)if(""===i.path&&na(i)!==Ot){const r=new An([],{});e[na(i)]=r}return e}function Xw(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class dle{constructor(t,e,i,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new tle(this.urlSerializer,this.urlTree)}noMatchError(t){return new ce(4002,!1)}recognize(){const t=Kj(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ot).pipe(yc(e=>{if(e instanceof Gj)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Qw?this.noMatchError(e):e}),fe(e=>{const i=new Gw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ot,this.rootComponentType,null,{}),r=new vl(i,e),o=new Fj("",r),s=function eae(n,t,e=null,i=null){return Ij(Ej(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Ot).pipe(yc(i=>{throw i instanceof Qw?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=Nj(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return A(r).pipe(Sf(o=>{const s=i.children[o],a=function Dae(n,t){const e=n.filter(i=>na(i)===t);return e.push(...n.filter(i=>na(i)!==t)),e}(e,o);return this.processSegmentGroup(t,a,s,o)}),Fw((o,s)=>(o.push(...s),o)),Nw(null),function Rse(n,t){const e=arguments.length>=2;return i=>i.pipe(n?jt((r,o)=>n(r,o,i)):Wt,rD(1),e?Nw(t):dj(()=>new Ow))}(),zn(o=>{if(null===o)return Lf(i);const s=Yj(o);return function ule(n){n.sort((t,e)=>t.value.outlet===Ot?-1:e.value.outlet===Ot?1:t.value.outlet.localeCompare(e.value.outlet))}(s),R(s)}))}processSegment(t,e,i,r,o,s){return A(e).pipe(Sf(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,r,o,s).pipe(yc(l=>{if(l instanceof Qw)return R(null);throw l}))),bc(a=>!!a),yc(a=>{if($j(a))return function lle(n,t,e){return 0===t.length&&!n.children[e]}(i,r,o)?R([]):Lf(i);throw a}))}processSegmentAgainstRoute(t,e,i,r,o,s,a){return function ale(n,t,e,i){return!!(na(n)===i||i!==Ot&&Xw(t,e,n))&&("**"===n.path||wD(t,n,e).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s):Lf(r):Lf(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?qj(o):this.applyRedirects.lineralizeSegments(i,o).pipe(zn(s=>{const a=new An(s,{});return this.processSegment(t,e,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:d}=wD(e,r,o);if(!a)return Lf(e);const h=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,d);return r.redirectTo.startsWith("/")?qj(h):this.applyRedirects.lineralizeSegments(r,h).pipe(zn(p=>this.processSegment(t,i,e,p.concat(c),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o,s){let a;if("**"===i.path){const l=r.length>0?hj(r).parameters:{};a=R({snapshot:new Gw(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qj(i),na(i),i.component??i._loadedComponent??null,i,Xj(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=nle(e,i,r,t).pipe(fe(({matched:l,consumedSegments:c,remainingSegments:d,parameters:h})=>l?{snapshot:new Gw(c,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qj(i),na(i),i.component??i._loadedComponent??null,i,Xj(i)),consumedSegments:c,remainingSegments:d}:null));return a.pipe(Ie(l=>null===l?Lf(e):this.getChildConfig(t=i._injector??t,i,r).pipe(Ie(({routes:c})=>{const d=i._loadedInjector??t,{snapshot:h,consumedSegments:p,remainingSegments:v}=l,{segmentGroup:b,slicedSegments:w}=Kj(e,p,v,c);if(0===w.length&&b.hasChildren())return this.processChildren(d,c,b).pipe(fe(M=>null===M?null:[new vl(h,M)]));if(0===c.length&&0===w.length)return R([new vl(h,[])]);const E=na(i)===o;return this.processSegment(d,c,b,w,E?Ot:o,!0).pipe(fe(M=>[new vl(h,M)]))}))))}getChildConfig(t,e,i){return e.children?R({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?R({routes:e._loadedRoutes,injector:e._loadedInjector}):function Xae(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?R(!0):R(r.map(s=>{const a=Nf(s,n);return wc(function Lae(n){return n&&m_(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(Ff(),Wj())}(t,e,i).pipe(zn(r=>r?this.configLoader.loadChildren(t,e).pipe(Fi(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function ele(n){return iu(Uj(!1,3))}())):R({routes:[],injector:t})}}function hle(n){const t=n.value.routeConfig;return t&&""===t.path}function Yj(n){const t=[],e=new Set;for(const i of n){if(!hle(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Yj(i.children);t.push(new vl(i.value,r))}return t.filter(i=>!e.has(i))}function Qj(n){return n.data||{}}function Xj(n){return n.resolve||{}}function Zj(n){return"string"==typeof n.title||null===n.title}function xD(n){return Ie(t=>{const e=n(t);return e?A(e).pipe(fe(()=>t)):R(t)})}const Vf=new de("ROUTES");let ED=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=De(OU)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return R(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=wc(e.loadComponent()).pipe(fe(Jj),Fi(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Df(()=>{this.componentLoaders.delete(e)})),r=new iD(i,()=>new W).pipe(nD());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return R({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function ble(n,t,e,i){return wc(n.loadChildren()).pipe(fe(Jj),zn(r=>r instanceof UB||Array.isArray(r)?R(r):A(t.compileModuleAsync(r))),fe(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(e).injector,s=o.get(Vf,[],{optional:!0,self:!0}).flat()),{routes:s.map(bD),injector:o}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Df(()=>{this.childrenLoaders.delete(i)})),s=new iD(o,()=>new W).pipe(nD());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Jj(n){return function yle(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Zw=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new W,this.transitionAbortSubject=new W,this.configLoader=De(ED),this.environmentInjector=De(Jo),this.urlSerializer=De(i_),this.rootContexts=De(c_),this.inputBindingEnabled=null!==De(qw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>R(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new hae(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new uae(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new T({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:a_,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(jt(o=>0!==o.id),fe(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),Ie(o=>{this.currentTransition=o;let s=!1,a=!1;return R(o).pipe(Fi(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ie(l=>{const c=l.currentBrowserUrl.toString(),d=!e.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const p="";return this.events.next(new Rf(l.id,this.urlSerializer.serialize(l.rawUrl),p,0)),l.resolve(null),Xn}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return R(l).pipe(Ie(p=>{const v=this.transitions?.getValue();return this.events.next(new $w(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),v!==this.transitions?.getValue()?Xn:Promise.resolve(p)}),function fle(n,t,e,i,r,o){return zn(s=>function cle(n,t,e,i,r,o,s="emptyOnly"){return new dle(n,t,e,i,r,s,o).recognize()}(n,t,e,i,s.extractedUrl,r,o).pipe(fe(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Fi(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const v=new kj(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}));if(d&&e.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:p,extractedUrl:v,source:b,restoredState:w,extras:E}=l,M=new $w(p,this.urlSerializer.serialize(v),b,w);this.events.next(M);const S=Oj(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:S,urlAfterRedirects:v,extras:{...E,skipLocationChange:!1,replaceUrl:!1}},R(o)}{const p="";return this.events.next(new Rf(l.id,this.urlSerializer.serialize(l.extractedUrl),p,1)),l.resolve(null),Xn}}),Fi(l=>{const c=new aae(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),fe(l=>(this.currentTransition=o={...l,guards:Rae(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function Hae(n,t){return zn(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?R({...e,guardsResult:!0}):function $ae(n,t,e,i){return A(n).pipe(zn(r=>function Qae(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?R(o.map(a=>{const l=u_(t)??r,c=Nf(a,l);return wc(function Uae(n){return n&&m_(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):l.runInContext(()=>c(n,t,e,i))).pipe(bc())})).pipe(Ff()):R(!0)}(r.component,r.route,e,t,i)),bc(r=>!0!==r,!0))}(s,i,r,n).pipe(zn(a=>a&&function Fae(n){return"boolean"==typeof n}(a)?function Wae(n,t,e,i){return A(t).pipe(Sf(r=>Tf(function qae(n,t){return null!==n&&t&&t(new fae(n)),R(!0)}(r.route.parent,i),function Gae(n,t){return null!==n&&t&&t(new pae(n)),R(!0)}(r.route,i),function Yae(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function Pae(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>nu(()=>R(s.guards.map(l=>{const c=u_(s.node)??e,d=Nf(l,c);return wc(function Bae(n){return n&&m_(n.canActivateChild)}(d)?d.canActivateChild(i,n):c.runInContext(()=>d(i,n))).pipe(bc())})).pipe(Ff())));return R(o).pipe(Ff())}(n,r.path,e),function Kae(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return R(!0);const r=i.map(o=>nu(()=>{const s=u_(t)??e,a=Nf(o,s);return wc(function Vae(n){return n&&m_(n.canActivate)}(a)?a.canActivate(t,n):s.runInContext(()=>a(t,n))).pipe(bc())}));return R(r).pipe(Ff())}(n,r.route,e))),bc(r=>!0!==r,!0))}(i,o,n,t):R(a)),fe(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Fi(l=>{if(o.guardsResult=l.guardsResult,ou(l.guardsResult))throw Bj(0,l.guardsResult);const c=new lae(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),jt(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),xD(l=>{if(l.guards.canActivateChecks.length)return R(l).pipe(Fi(c=>{const d=new cae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Ie(c=>{let d=!1;return R(c).pipe(function mle(n,t){return zn(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return R(e);let o=0;return A(r).pipe(Sf(s=>function ple(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!Zj(r)&&(o[t_]=r.title),function gle(n,t,e,i){const r=function _le(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return R({});const o={};return A(r).pipe(zn(s=>function vle(n,t,e,i){const r=u_(t)??i,o=Nf(n,r);return wc(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[s],t,e,i).pipe(bc(),Fi(a=>{o[s]=a}))),rD(1),Lw(o),yc(s=>$j(s)?Xn:iu(s)))}(o,n,t,i).pipe(fe(s=>(n._resolvedData=s,n.data=Nj(n,e).resolve,r&&Zj(r)&&(n.data[t_]=r.title),null)))}(s.route,i,n,t)),Fi(()=>o++),rD(1),zn(s=>o===r.length?R(e):Xn))})}(e.paramsInheritanceStrategy,this.environmentInjector),Fi({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",2)}}))}),Fi(c=>{const d=new dae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),xD(l=>{const c=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Fi(p=>{d.component=p}),fe(()=>{})));for(const p of d.children)h.push(...c(p));return h};return Pw(c(l.targetSnapshot.root)).pipe(Nw(),Pn(1))}),xD(()=>this.afterPreactivation()),fe(l=>{const c=function wae(n,t,e){const i=d_(n,t._root,e?e._root:void 0);return new Pj(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},o}),Fi(()=>{this.events.next(new dD)}),((n,t,e,i)=>fe(r=>(new Mae(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Pn(1),Fi({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Wn(this.transitionAbortSubject.pipe(Fi(l=>{throw l}))),Df(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),yc(l=>{if(a=!0,zj(l))this.events.next(new l_(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function Iae(n){return zj(n)&&ou(n.url)}(l)?this.events.next(new uD(l.url)):o.resolve(!1);else{this.events.next(new Ww(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(l))}catch(c){o.reject(c)}}return Xn}))}))}cancelNavigationTransition(e,i,r){const o=new l_(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function e4(n){return n!==a_}let t4=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Ot);return i}getResolvedTitleForRoute(e){return e.data[t_]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:function(){return De(wle)},providedIn:"root"})}}return n})(),wle=(()=>{class n extends t4{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(X(tj))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xle=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:function(){return De(Ile)},providedIn:"root"})}}return n})();class Ele{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Ile=(()=>{class n extends Ele{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Zn(n)))(r||n)}}()}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Jw=new de("",{providedIn:"root",factory:()=>({})});let Cle=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:function(){return De(Ale)},providedIn:"root"})}}return n})(),Ale=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var p_=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(p_||{});function n4(n,t){n.events.pipe(jt(e=>e instanceof xc||e instanceof l_||e instanceof Ww||e instanceof Rf),fe(e=>e instanceof xc||e instanceof Rf?p_.COMPLETE:e instanceof l_&&(0===e.code||1===e.code)?p_.REDIRECTING:p_.FAILED),jt(e=>e!==p_.REDIRECTING),Pn(1)).subscribe(()=>{t()})}function Tle(n){throw n}function Sle(n,t,e){return t.parse("/")}const Dle={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kle={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=De(PU),this.isNgZoneEnabled=!1,this._events=new W,this.options=De(Jw,{optional:!0})||{},this.pendingTasks=De(dw),this.errorHandler=this.options.errorHandler||Tle,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Sle,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=De(Cle),this.routeReuseStrategy=De(xle),this.titleStrategy=De(t4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=De(Vf,{optional:!0})?.flat()??[],this.navigationTransitions=De(Zw),this.urlSerializer=De(i_),this.location=De(Yg),this.componentInputBindingEnabled=!!De(qw,{optional:!0}),this.eventsSubscription=new ft,this.isNgZoneEnabled=De($e)instanceof $e&&$e.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Mf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Oj(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(i4(i)&&this._events.next(i));if(i instanceof $w)e4(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Rf)this.rawUrlTree=r.rawUrl;else if(i instanceof kj){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof dD)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof l_)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof uD){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||e4(r.source)};this.scheduleNavigation(o,a_,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof Ww&&this.restoreHistory(r,!0),i instanceof xc&&(this.navigated=!0),i4(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),a_,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(bD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s;let h,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=Ej(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),h=this.currentUrlTree.root}return Ij(h,e,d,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=ou(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,a_,null,i)}navigate(e,i={skipLocationChange:!1}){return function Mle(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new ce(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...Dle}:!1===i?{...kle}:i,ou(e))return mj(this.currentUrlTree,e,r);const o=this.parseUrl(e);return mj(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,p)=>{a=h,l=p});const d=this.pendingTasks.add();return n4(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function i4(n){return!(n instanceof dD||n instanceof uD)}let ex=(()=>{class n{constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new W,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof xc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function qL(n,t,e){return function AX(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?GL:WL}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(O(Qr),O(Of),$d("tabindex"),O(cl),O(xt),O(tu))}}static{this.\u0275dir=Te({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Fe("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&_n("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Cf],skipLocationChange:["skipLocationChange","skipLocationChange",Cf],replaceUrl:["replaceUrl","replaceUrl",Cf],routerLink:"routerLink"},standalone:!0,features:[rV,Di]})}}return n})();class r4{}let Ole=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(jt(e=>e instanceof xc),Sf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=qT(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return A(r).pipe(Ji())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):R(null);const o=r.pipe(zn(s=>null===s?R(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return i.loadComponent&&!i._loadedComponent?A([o,this.loader.loadComponent(i)]).pipe(Ji()):o})}static{this.\u0275fac=function(i){return new(i||n)(X(Qr),X(OU),X(Jo),X(r4),X(ED))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const ID=new de("");let o4=(()=>{class n{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof $w?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof xc?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Rf&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Mj&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Mj(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){Tg()}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})();function bl(n,t){return{\u0275kind:n,\u0275providers:t}}function a4(){const n=De(Rn);return t=>{const e=n.get(hl);if(t!==e.components[0])return;const i=n.get(Qr),r=n.get(l4);1===n.get(CD)&&i.initialNavigation(),n.get(c4,null,Ut.Optional)?.setUpPreloading(),n.get(ID,null,Ut.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const l4=new de("",{factory:()=>new W}),CD=new de("",{providedIn:"root",factory:()=>1}),c4=new de("");function Vle(n){return bl(0,[{provide:c4,useExisting:Ole},{provide:r4,useExisting:n}])}const d4=new de("ROUTER_FORROOT_GUARD"),Ule=[Yg,{provide:i_,useClass:oD},Qr,c_,{provide:Of,useFactory:function s4(n){return n.routerState.root},deps:[Qr]},ED,[]];function zle(){return new zU("Router",Qr)}let u4=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Ule,[],{provide:Vf,multi:!0,useValue:e},{provide:d4,useFactory:Wle,deps:[[Qr,new Mr,new mg]]},{provide:Jw,useValue:i||{}},i?.useHash?{provide:tu,useClass:lre}:{provide:tu,useClass:vz},{provide:ID,useFactory:()=>{const n=De(xoe),t=De($e),e=De(Jw),i=De(Zw),r=De(i_);return e.scrollOffset&&n.setOffset(e.scrollOffset),new o4(r,i,n,t,e)}},i?.preloadingStrategy?Vle(i.preloadingStrategy).\u0275providers:[],{provide:zU,multi:!0,useFactory:zle},i?.initialNavigation?Gle(i):[],i?.bindToComponentInputs?bl(8,[Vj,{provide:qw,useExisting:Vj}]).\u0275providers:[],[{provide:h4,useFactory:a4},{provide:fS,multi:!0,useExisting:h4}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Vf,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||n)(X(d4,8))}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({})}}return n})();function Wle(n){return"guarded"}function Gle(n){return["disabled"===n.initialNavigation?bl(3,[{provide:cw,multi:!0,useFactory:()=>{const t=De(Qr);return()=>{t.setUpLocationChangeListener()}}},{provide:CD,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?bl(2,[{provide:CD,useValue:0},{provide:cw,multi:!0,deps:[Rn],useFactory:t=>{const e=t.get(sre,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(Qr),o=t.get(l4);n4(r,()=>{i(!0)}),t.get(Zw).afterPreactivation=()=>(i(!0),o.closed?R(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const h4=new de("");var Xr=tt(631);(0,Xr.registerVersion)("firebase","10.14.1","app");class Qle extends ft{constructor(t,e){super()}schedule(t,e=0){return this}}const tx={setInterval(n,t,...e){const{delegate:i}=tx;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=tx;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class nx extends Qle{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return tx.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&tx.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Ge(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const AD={now:()=>(AD.delegate||Date).now(),delegate:void 0};class g_{constructor(t,e=g_.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}g_.now=AD.now;class ix extends g_{constructor(t,e=g_.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Jle=new class Zle extends ix{}(class Xle extends nx{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),Bf=new ix(nx),ece=Bf,su=new mc("ANGULARFIRE2_VERSION");function f4(n,t,e){if(t){if(1===t.length)return t[0];const o=t.filter(s=>s.app===e);if(1===o.length)return o[0]}return e.container.getProvider(n).getImmediate({optional:!0})}const TD=(n,t)=>{const e=t?[t]:(0,Xr.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i};class rx{constructor(){return TD(tce)}}const tce="app-check";function Uf(){}class m4{zone;delegate;constructor(t,e=Jle){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{t.apply(this,[s])})},e,i)}}class nce{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Uf,{},Uf,Uf)),e.pipe(Fi({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let __=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new m4(Zone.current)),this.insideAngular=e.run(()=>new m4(Zone.current,Bf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(X($e))};static \u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zf(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function au(n){return zf().ngZone.run(()=>n())}function rs(n){return function rce(n){return function(e){return(e=e.lift(new nce(n.ngZone))).pipe(_r(n.outsideAngular),Ti(n.insideAngular))}}(zf())(n)}const oce=(n,t)=>function(){const i=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),au(()=>n.apply(void 0,i))},Ss=(n,t)=>function(){let e;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(t&&(e||=au(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Uf,{},Uf,Uf))),i[o]=oce(i[o],e));const r=function ice(n){return zf().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!t){if(r instanceof rt){const o=zf();return r.pipe(_r(o.outsideAngular),Ti(o.insideAngular))}return au(()=>r)}return r instanceof rt?r.pipe(rs):r instanceof Promise?au(()=>new Promise((o,s)=>r.then(a=>au(()=>o(a)),a=>au(()=>s(a))))):"function"==typeof r&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),r.apply(this,arguments)}:au(()=>r)};var Ec=tt(574);Ec.A.registerVersion("firebase","10.14.1","app-compat");const lce=["ngOnDestroy"];class p4{constructor(t){return t}}const ox=new de("angularfire2.app.options"),sx=new de("angularfire2.app.name");function SD(n,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const s=Ec.A.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>Ec.A.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;uce("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new p4(s)}const uce=(n,...t)=>{},hce={provide:p4,useFactory:SD,deps:[ox,$e,[new Mr,sx]]};let fce=(()=>{class n{static initializeApp(e,i){return{ngModule:n,providers:[{provide:ox,useValue:e},{provide:sx,useValue:i}]}}constructor(e){Ec.A.registerVersion("angularfire",su.full,"core"),Ec.A.registerVersion("angularfire",su.full,"app-compat"),Ec.A.registerVersion("angular",sT.full,e.toString())}static \u0275fac=function(i){return new(i||n)(X(Ro))};static \u0275mod=mt({type:n});static \u0275inj=pt({providers:[hce]})}return n})();function g4(n,t,e,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function mce(n,t){try{return n.toString()===t.toString()}catch{return n===t}}(r,s)||(_4("error",`${t} was already initialized on the ${e} Firebase App with different settings.${pce?" You may need to reload as Firebase is not HMR aware.":""}`),_4("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const pce=typeof module<"u"&&!!module.hot,_4=(n,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[],tt(46);class gce extends W{constructor(t=1/0,e=1/0,i=AD){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}function DD(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,U({connector:()=>new gce(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function v4(n,t){return N(t)?Ie(()=>n,t):Ie(()=>n)}const b4=new de("angularfire2.auth.use-emulator"),y4=new de("angularfire2.auth.settings"),w4=new de("angularfire2.auth.tenant-id"),x4=new de("angularfire2.auth.langugage-code"),E4=new de("angularfire2.auth.use-device-language"),I4=new de("angularfire.auth.persistence"),C4=(n,t,e,i,r,o,s,a)=>g4(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=t.runOutsideAngular(()=>n.auth());if(e&&l.useEmulator(...e),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(const[c,d]of Object.entries(s))l.settings[c]=d;return a&&l.setPersistence(a),l},[e,i,r,o,s,a]);let A4=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,i,r,o,s,a,l,c,d,h,p,v){const b=new W,w=R(void 0).pipe(Ti(s.outsideAngular),Ie(()=>o.runOutsideAngular(()=>Promise.resolve().then(tt.bind(tt,46)))),fe(()=>SD(e,o,i)),fe(E=>C4(E,o,a,c,d,h,l,p)),DD({bufferSize:1,refCount:!1}));if(Dw(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=R(null);else{w.pipe(bc()).subscribe();const E=w.pipe(Ie(V=>V.getRedirectResult().then($=>$,()=>null)),rs,DD({bufferSize:1,refCount:!1})),M=w.pipe(Ie(V=>new rt($=>({unsubscribe:o.runOutsideAngular(()=>V.onAuthStateChanged(Q=>$.next(Q),Q=>$.error(Q),()=>$.complete()))})))),S=w.pipe(Ie(V=>new rt($=>({unsubscribe:o.runOutsideAngular(()=>V.onIdTokenChanged(Q=>$.next(Q),Q=>$.error(Q),()=>$.complete()))}))));this.authState=E.pipe(v4(M),_r(s.outsideAngular),Ti(s.insideAngular)),this.user=E.pipe(v4(S),_r(s.outsideAngular),Ti(s.insideAngular)),this.idToken=this.user.pipe(Ie(V=>V?A(V.getIdToken()):R(null))),this.idTokenResult=this.user.pipe(Ie(V=>V?A(V.getIdTokenResult()):R(null))),this.credential=x(E,b,this.authState.pipe(jt(V=>!V))).pipe(fe(V=>V?.user?V:null),_r(s.outsideAngular),Ti(s.insideAngular))}return((n,t,e,i={})=>new Proxy(n,{get:(r,o)=>e.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(lce.indexOf(o)>-1)return()=>{};const s=t.toPromise().then(a=>{const l=a?.[o];return"function"==typeof l?l.bind(a):l?.then?l.then(c=>e.run(()=>c)):e.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(d=>{const h=d?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,h),h})})})}))(this,w,o,{spy:{apply:(E,M,S)=>{(E.startsWith("signIn")||E.startsWith("createUser"))&&S.then(V=>b.next(V))}}})}static \u0275fac=function(i){return new(i||n)(X(ox),X(sx,8),X(Ro),X($e),X(__),X(b4,8),X(y4,8),X(w4,8),X(x4,8),X(E4,8),X(I4,8),X(rx,8))};static \u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function kD(){return J((n,t)=>{let e,i=!1;n.subscribe(he(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var lu,k4,H=tt(467),T4=tt(779),Ma=tt(398),vn=tt(401),S4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D4={};(function(){var n;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(L,k,F){F||(F=0);var j=Array(16);if("string"==typeof k)for(var K=0;16>K;++K)j[K]=k.charCodeAt(F++)|k.charCodeAt(F++)<<8|k.charCodeAt(F++)<<16|k.charCodeAt(F++)<<24;else for(K=0;16>K;++K)j[K]=k[F++]|k[F++]<<8|k[F++]<<16|k[F++]<<24;var Z=L.g[3],z=(k=L.g[0])+(Z^(F=L.g[1])&((K=L.g[2])^Z))+j[0]+3614090360&4294967295;z=(F=(K=(Z=(k=(F=(K=(Z=(k=(F=(K=(Z=(k=(F=(K=(Z=(k=(F=(K=(Z=(k=(F=(K=(Z=(k=(F=(K=(Z=(k=(F=(K=(Z=(k=(F=(K=(Z=(k=(F=(K=(Z=(k=(F=(K=(Z=(k=(F=(K=(Z=(k=(F=(K=(Z=(k=(F=(K=(Z=(k=(F=(K=(Z=(k=F+(z<<7&4294967295|z>>>25))+((z=Z+(K^k&(F^K))+j[1]+3905402710&4294967295)<<12&4294967295|z>>>20))+((z=K+(F^Z&(k^F))+j[2]+606105819&4294967295)<<17&4294967295|z>>>15))+((z=F+(k^K&(Z^k))+j[3]+3250441966&4294967295)<<22&4294967295|z>>>10))+((z=k+(Z^F&(K^Z))+j[4]+4118548399&4294967295)<<7&4294967295|z>>>25))+((z=Z+(K^k&(F^K))+j[5]+1200080426&4294967295)<<12&4294967295|z>>>20))+((z=K+(F^Z&(k^F))+j[6]+2821735955&4294967295)<<17&4294967295|z>>>15))+((z=F+(k^K&(Z^k))+j[7]+4249261313&4294967295)<<22&4294967295|z>>>10))+((z=k+(Z^F&(K^Z))+j[8]+1770035416&4294967295)<<7&4294967295|z>>>25))+((z=Z+(K^k&(F^K))+j[9]+2336552879&4294967295)<<12&4294967295|z>>>20))+((z=K+(F^Z&(k^F))+j[10]+4294925233&4294967295)<<17&4294967295|z>>>15))+((z=F+(k^K&(Z^k))+j[11]+2304563134&4294967295)<<22&4294967295|z>>>10))+((z=k+(Z^F&(K^Z))+j[12]+1804603682&4294967295)<<7&4294967295|z>>>25))+((z=Z+(K^k&(F^K))+j[13]+4254626195&4294967295)<<12&4294967295|z>>>20))+((z=K+(F^Z&(k^F))+j[14]+2792965006&4294967295)<<17&4294967295|z>>>15))+((z=F+(k^K&(Z^k))+j[15]+1236535329&4294967295)<<22&4294967295|z>>>10))+((z=k+(K^Z&(F^K))+j[1]+4129170786&4294967295)<<5&4294967295|z>>>27))+((z=Z+(F^K&(k^F))+j[6]+3225465664&4294967295)<<9&4294967295|z>>>23))+((z=K+(k^F&(Z^k))+j[11]+643717713&4294967295)<<14&4294967295|z>>>18))+((z=F+(Z^k&(K^Z))+j[0]+3921069994&4294967295)<<20&4294967295|z>>>12))+((z=k+(K^Z&(F^K))+j[5]+3593408605&4294967295)<<5&4294967295|z>>>27))+((z=Z+(F^K&(k^F))+j[10]+38016083&4294967295)<<9&4294967295|z>>>23))+((z=K+(k^F&(Z^k))+j[15]+3634488961&4294967295)<<14&4294967295|z>>>18))+((z=F+(Z^k&(K^Z))+j[4]+3889429448&4294967295)<<20&4294967295|z>>>12))+((z=k+(K^Z&(F^K))+j[9]+568446438&4294967295)<<5&4294967295|z>>>27))+((z=Z+(F^K&(k^F))+j[14]+3275163606&4294967295)<<9&4294967295|z>>>23))+((z=K+(k^F&(Z^k))+j[3]+4107603335&4294967295)<<14&4294967295|z>>>18))+((z=F+(Z^k&(K^Z))+j[8]+1163531501&4294967295)<<20&4294967295|z>>>12))+((z=k+(K^Z&(F^K))+j[13]+2850285829&4294967295)<<5&4294967295|z>>>27))+((z=Z+(F^K&(k^F))+j[2]+4243563512&4294967295)<<9&4294967295|z>>>23))+((z=K+(k^F&(Z^k))+j[7]+1735328473&4294967295)<<14&4294967295|z>>>18))+((z=F+(Z^k&(K^Z))+j[12]+2368359562&4294967295)<<20&4294967295|z>>>12))+((z=k+(F^K^Z)+j[5]+4294588738&4294967295)<<4&4294967295|z>>>28))+((z=Z+(k^F^K)+j[8]+2272392833&4294967295)<<11&4294967295|z>>>21))+((z=K+(Z^k^F)+j[11]+1839030562&4294967295)<<16&4294967295|z>>>16))+((z=F+(K^Z^k)+j[14]+4259657740&4294967295)<<23&4294967295|z>>>9))+((z=k+(F^K^Z)+j[1]+2763975236&4294967295)<<4&4294967295|z>>>28))+((z=Z+(k^F^K)+j[4]+1272893353&4294967295)<<11&4294967295|z>>>21))+((z=K+(Z^k^F)+j[7]+4139469664&4294967295)<<16&4294967295|z>>>16))+((z=F+(K^Z^k)+j[10]+3200236656&4294967295)<<23&4294967295|z>>>9))+((z=k+(F^K^Z)+j[13]+681279174&4294967295)<<4&4294967295|z>>>28))+((z=Z+(k^F^K)+j[0]+3936430074&4294967295)<<11&4294967295|z>>>21))+((z=K+(Z^k^F)+j[3]+3572445317&4294967295)<<16&4294967295|z>>>16))+((z=F+(K^Z^k)+j[6]+76029189&4294967295)<<23&4294967295|z>>>9))+((z=k+(F^K^Z)+j[9]+3654602809&4294967295)<<4&4294967295|z>>>28))+((z=Z+(k^F^K)+j[12]+3873151461&4294967295)<<11&4294967295|z>>>21))+((z=K+(Z^k^F)+j[15]+530742520&4294967295)<<16&4294967295|z>>>16))+((z=F+(K^Z^k)+j[2]+3299628645&4294967295)<<23&4294967295|z>>>9))+((z=k+(K^(F|~Z))+j[0]+4096336452&4294967295)<<6&4294967295|z>>>26))+((z=Z+(F^(k|~K))+j[7]+1126891415&4294967295)<<10&4294967295|z>>>22))+((z=K+(k^(Z|~F))+j[14]+2878612391&4294967295)<<15&4294967295|z>>>17))+((z=F+(Z^(K|~k))+j[5]+4237533241&4294967295)<<21&4294967295|z>>>11))+((z=k+(K^(F|~Z))+j[12]+1700485571&4294967295)<<6&4294967295|z>>>26))+((z=Z+(F^(k|~K))+j[3]+2399980690&4294967295)<<10&4294967295|z>>>22))+((z=K+(k^(Z|~F))+j[10]+4293915773&4294967295)<<15&4294967295|z>>>17))+((z=F+(Z^(K|~k))+j[1]+2240044497&4294967295)<<21&4294967295|z>>>11))+((z=k+(K^(F|~Z))+j[8]+1873313359&4294967295)<<6&4294967295|z>>>26))+((z=Z+(F^(k|~K))+j[15]+4264355552&4294967295)<<10&4294967295|z>>>22))+((z=K+(k^(Z|~F))+j[6]+2734768916&4294967295)<<15&4294967295|z>>>17))+((z=F+(Z^(K|~k))+j[13]+1309151649&4294967295)<<21&4294967295|z>>>11))+((Z=(k=F+((z=k+(K^(F|~Z))+j[4]+4149444226&4294967295)<<6&4294967295|z>>>26))+((z=Z+(F^(k|~K))+j[11]+3174756917&4294967295)<<10&4294967295|z>>>22))^((K=Z+((z=K+(k^(Z|~F))+j[2]+718787259&4294967295)<<15&4294967295|z>>>17))|~k))+j[9]+3951481745&4294967295,L.g[0]=L.g[0]+k&4294967295,L.g[1]=L.g[1]+(K+(z<<21&4294967295|z>>>11))&4294967295,L.g[2]=L.g[2]+K&4294967295,L.g[3]=L.g[3]+Z&4294967295}function s(L,k){this.h=k;for(var F=[],j=!0,K=L.length-1;0<=K;K--){var Z=0|L[K];j&&Z==k||(F[K]=Z,j=!1)}this.g=F}(function t(L,k){function F(){}F.prototype=k.prototype,L.D=k.prototype,L.prototype=new F,L.prototype.constructor=L,L.C=function(j,K,Z){for(var z=Array(arguments.length-2),ii=2;ii<arguments.length;ii++)z[ii-2]=arguments[ii];return k.prototype[K].apply(j,z)}})(i,function e(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function(L,k){void 0===k&&(k=L.length);for(var F=k-this.blockSize,j=this.B,K=this.h,Z=0;Z<k;){if(0==K)for(;Z<=F;)r(this,L,Z),Z+=this.blockSize;if("string"==typeof L){for(;Z<k;)if(j[K++]=L.charCodeAt(Z++),K==this.blockSize){r(this,j),K=0;break}}else for(;Z<k;)if(j[K++]=L[Z++],K==this.blockSize){r(this,j),K=0;break}}this.h=K,this.o+=k},i.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var k=1;k<L.length-8;++k)L[k]=0;var F=8*this.o;for(k=L.length-8;k<L.length;++k)L[k]=255&F,F/=256;for(this.u(L),L=Array(16),k=F=0;4>k;++k)for(var j=0;32>j;j+=8)L[F++]=this.g[k]>>>j&255;return L};var a={};function l(L){return-128<=L&&128>L?function o(L,k){var F=a;return Object.prototype.hasOwnProperty.call(F,L)?F[L]:F[L]=k(L)}(L,function(k){return new s([0|k],0>k?-1:0)}):new s([0|L],0>L?-1:0)}function c(L){if(isNaN(L)||!isFinite(L))return h;if(0>L)return E(c(-L));for(var k=[],F=1,j=0;L>=F;j++)k[j]=L/F|0,F*=4294967296;return new s(k,0)}var h=l(0),p=l(1),v=l(16777216);function b(L){if(0!=L.h)return!1;for(var k=0;k<L.g.length;k++)if(0!=L.g[k])return!1;return!0}function w(L){return-1==L.h}function E(L){for(var k=L.g.length,F=[],j=0;j<k;j++)F[j]=~L.g[j];return new s(F,~L.h).add(p)}function M(L,k){return L.add(E(k))}function S(L,k){for(;(65535&L[k])!=L[k];)L[k+1]+=L[k]>>>16,L[k]&=65535,k++}function V(L,k){this.g=L,this.h=k}function $(L,k){if(b(k))throw Error("division by zero");if(b(L))return new V(h,h);if(w(L))return k=$(E(L),k),new V(E(k.g),E(k.h));if(w(k))return k=$(L,E(k)),new V(E(k.g),k.h);if(30<L.g.length){if(w(L)||w(k))throw Error("slowDivide_ only works with positive integers.");for(var F=p,j=k;0>=j.l(L);)F=Q(F),j=Q(j);var K=ee(F,1),Z=ee(j,1);for(j=ee(j,2),F=ee(F,2);!b(j);){var z=Z.add(j);0>=z.l(L)&&(K=K.add(F),Z=z),j=ee(j,1),F=ee(F,1)}return k=M(L,K.j(k)),new V(K,k)}for(K=h;0<=L.l(k);){for(F=Math.max(1,Math.floor(L.m()/k.m())),j=48>=(j=Math.ceil(Math.log(F)/Math.LN2))?1:Math.pow(2,j-48),z=(Z=c(F)).j(k);w(z)||0<z.l(L);)z=(Z=c(F-=j)).j(k);b(Z)&&(Z=p),K=K.add(Z),L=M(L,z)}return new V(K,L)}function Q(L){for(var k=L.g.length+1,F=[],j=0;j<k;j++)F[j]=L.i(j)<<1|L.i(j-1)>>>31;return new s(F,L.h)}function ee(L,k){var F=k>>5;k%=32;for(var j=L.g.length-F,K=[],Z=0;Z<j;Z++)K[Z]=0<k?L.i(Z+F)>>>k|L.i(Z+F+1)<<32-k:L.i(Z+F);return new s(K,L.h)}(n=s.prototype).m=function(){if(w(this))return-E(this).m();for(var L=0,k=1,F=0;F<this.g.length;F++){var j=this.i(F);L+=(0<=j?j:4294967296+j)*k,k*=4294967296}return L},n.toString=function(L){if(2>(L=L||10)||36<L)throw Error("radix out of range: "+L);if(b(this))return"0";if(w(this))return"-"+E(this).toString(L);for(var k=c(Math.pow(L,6)),F=this,j="";;){var K=$(F,k).g,Z=((0<(F=M(F,K.j(k))).g.length?F.g[0]:F.h)>>>0).toString(L);if(b(F=K))return Z+j;for(;6>Z.length;)Z="0"+Z;j=Z+j}},n.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h},n.l=function(L){return w(L=M(this,L))?-1:b(L)?0:1},n.abs=function(){return w(this)?E(this):this},n.add=function(L){for(var k=Math.max(this.g.length,L.g.length),F=[],j=0,K=0;K<=k;K++){var Z=j+(65535&this.i(K))+(65535&L.i(K)),z=(Z>>>16)+(this.i(K)>>>16)+(L.i(K)>>>16);j=z>>>16,F[K]=(z&=65535)<<16|(Z&=65535)}return new s(F,-2147483648&F[F.length-1]?-1:0)},n.j=function(L){if(b(this)||b(L))return h;if(w(this))return w(L)?E(this).j(E(L)):E(E(this).j(L));if(w(L))return E(this.j(E(L)));if(0>this.l(v)&&0>L.l(v))return c(this.m()*L.m());for(var k=this.g.length+L.g.length,F=[],j=0;j<2*k;j++)F[j]=0;for(j=0;j<this.g.length;j++)for(var K=0;K<L.g.length;K++){var Z=this.i(j)>>>16,z=65535&this.i(j),ii=L.i(K)>>>16,Zt=65535&L.i(K);F[2*j+2*K]+=z*Zt,S(F,2*j+2*K),F[2*j+2*K+1]+=Z*Zt,S(F,2*j+2*K+1),F[2*j+2*K+1]+=z*ii,S(F,2*j+2*K+1),F[2*j+2*K+2]+=Z*ii,S(F,2*j+2*K+2)}for(j=0;j<k;j++)F[j]=F[2*j+1]<<16|F[2*j];for(j=k;j<2*k;j++)F[j]=0;return new s(F,0)},n.A=function(L){return $(this,L).h},n.and=function(L){for(var k=Math.max(this.g.length,L.g.length),F=[],j=0;j<k;j++)F[j]=this.i(j)&L.i(j);return new s(F,this.h&L.h)},n.or=function(L){for(var k=Math.max(this.g.length,L.g.length),F=[],j=0;j<k;j++)F[j]=this.i(j)|L.i(j);return new s(F,this.h|L.h)},n.xor=function(L){for(var k=Math.max(this.g.length,L.g.length),F=[],j=0;j<k;j++)F[j]=this.i(j)^L.i(j);return new s(F,this.h^L.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,k4=D4.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=function d(L,k){if(0==L.length)throw Error("number format error: empty string");if(2>(k=k||10)||36<k)throw Error("radix out of range: "+k);if("-"==L.charAt(0))return E(d(L.substring(1),k));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var F=c(Math.pow(k,8)),j=h,K=0;K<L.length;K+=8){var Z=Math.min(8,L.length-K),z=parseInt(L.substring(K,K+Z),k);8>Z?(Z=c(Math.pow(k,Z)),j=j.j(Z).add(c(z))):j=(j=j.j(F)).add(c(z))}return j},lu=D4.Integer=s}).apply(typeof S4<"u"?S4:typeof self<"u"?self:typeof window<"u"?window:{});var M4,v_,R4,lx,MD,P4,O4,N4,ax=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yl={};(function(){var n,t="function"==typeof Object.defineProperties?Object.defineProperty:function(m,y,I){return m==Array.prototype||m==Object.prototype||(m[y]=I.value),m},i=function e(m){m=["object"==typeof globalThis&&globalThis,m,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ax&&ax];for(var y=0;y<m.length;++y){var I=m[y];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}(this);!function r(m,y){if(y)e:{var I=i;m=m.split(".");for(var P=0;P<m.length-1;P++){var te=m[P];if(!(te in I))break e;I=I[te]}(y=y(P=I[m=m[m.length-1]]))!=P&&null!=y&&t(I,m,{configurable:!0,writable:!0,value:y})}}("Array.prototype.values",function(m){return m||function(){return function o(m,y){m instanceof String&&(m+="");var I=0,P=!1,te={next:function(){if(!P&&I<m.length){var ue=I++;return{value:y(ue,m[ue]),done:!1}}return P=!0,{done:!0,value:void 0}}};return te[Symbol.iterator]=function(){return te},te}(this,function(y,I){return I})}});var s=s||{},a=this||self;function l(m){var y=typeof m;return"array"==(y="object"!=y?y:m?Array.isArray(m)?"array":y:"null")||"object"==y&&"number"==typeof m.length}function c(m){var y=typeof m;return"object"==y&&null!=m||"function"==y}function d(m,y,I){return m.call.apply(m.bind,arguments)}function h(m,y,I){if(!m)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(te,P),m.apply(y,te)}}return function(){return m.apply(y,arguments)}}function p(m,y,I){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:h).apply(null,arguments)}function v(m,y){var I=Array.prototype.slice.call(arguments,1);return function(){var P=I.slice();return P.push.apply(P,arguments),m.apply(this,P)}}function b(m,y){function I(){}I.prototype=y.prototype,m.aa=y.prototype,m.prototype=new I,m.prototype.constructor=m,m.Qb=function(P,te,ue){for(var Ve=Array(arguments.length-2),Kn=2;Kn<arguments.length;Kn++)Ve[Kn-2]=arguments[Kn];return y.prototype[te].apply(P,Ve)}}function w(m){const y=m.length;if(0<y){const I=Array(y);for(let P=0;P<y;P++)I[P]=m[P];return I}return[]}function E(m,y){for(let I=1;I<arguments.length;I++){const P=arguments[I];if(l(P)){const te=m.length||0,ue=P.length||0;m.length=te+ue;for(let Ve=0;Ve<ue;Ve++)m[te+Ve]=P[Ve]}else m.push(P)}}function S(m){return/^[\s\xa0]*$/.test(m)}function V(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function $(m){return $[" "](m),m}$[" "]=function(){};var Q=!(-1==V().indexOf("Gecko")||-1!=V().toLowerCase().indexOf("webkit")&&-1==V().indexOf("Edge")||-1!=V().indexOf("Trident")||-1!=V().indexOf("MSIE")||-1!=V().indexOf("Edge"));function ee(m,y,I){for(const P in m)y.call(I,m[P],P,m)}function k(m){const y={};for(const I in m)y[I]=m[I];return y}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(m,y){let I,P;for(let te=1;te<arguments.length;te++){for(I in P=arguments[te],P)m[I]=P[I];for(let ue=0;ue<F.length;ue++)I=F[ue],Object.prototype.hasOwnProperty.call(P,I)&&(m[I]=P[I])}}function K(m){var y=1;m=m.split(":");const I=[];for(;0<y&&m.length;)I.push(m.shift()),y--;return m.length&&I.push(m.join(":")),I}function Z(m){a.setTimeout(()=>{throw m},0)}function z(){var m=st;let y=null;return m.g&&(y=m.g,m.g=m.g.next,m.g||(m.h=null),y.next=null),y}var Zt=new class M{constructor(y,I){this.i=y,this.j=I,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}(()=>new ke,m=>m.reset());class ke{constructor(){this.next=this.g=this.h=null}set(y,I){this.h=y,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let Le,qe=!1,st=new class ii{constructor(){this.h=this.g=null}add(y,I){const P=Zt.get();P.set(y,I),this.h?this.h.next=P:this.g=P,this.h=P}},Fn=()=>{const m=a.Promise.resolve(void 0);Le=()=>{m.then(Lr)}};var Lr=()=>{for(var m;m=z();){try{m.h.call(m.g)}catch(I){Z(I)}var y=Zt;y.j(m),100>y.h&&(y.h++,m.next=y.g,y.g=m)}qe=!1};function Dn(){this.s=this.s,this.C=this.C}function En(m,y){this.type=m,this.g=this.target=y,this.defaultPrevented=!1}Dn.prototype.s=!1,Dn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Dn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},En.prototype.h=function(){this.defaultPrevented=!0};var pn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,y=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const I=()=>{};a.addEventListener("test",I,y),a.removeEventListener("test",I,y)}catch{}return m}();function zo(m,y){if(En.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var I=this.type=m.type,P=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=y,y=m.relatedTarget){if(Q){e:{try{$(y.nodeName);var te=!0;break e}catch{}te=!1}te||(y=null)}}else"mouseover"==I?y=m.fromElement:"mouseout"==I&&(y=m.toElement);this.relatedTarget=y,P?(this.clientX=void 0!==P.clientX?P.clientX:P.pageX,this.clientY=void 0!==P.clientY?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=void 0!==m.clientX?m.clientX:m.pageX,this.clientY=void 0!==m.clientY?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType="string"==typeof m.pointerType?m.pointerType:aa[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&zo.aa.h.call(this)}}b(zo,En);var aa={2:"touch",3:"pen",4:"mouse"};zo.prototype.h=function(){zo.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Bi="closure_listenable_"+(1e6*Math.random()|0),Yl=0;function jo(m,y,I,P,te){this.listener=m,this.proxy=null,this.src=y,this.type=I,this.capture=!!P,this.ha=te,this.key=++Yl,this.da=this.fa=!1}function Ql(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function hd(m){this.src=m,this.g={},this.h=0}function eF(m,y){var I=y.type;if(I in m.g){var ue,P=m.g[I],te=Array.prototype.indexOf.call(P,y,void 0);(ue=0<=te)&&Array.prototype.splice.call(P,te,1),ue&&(Ql(y),0==m.g[I].length&&(delete m.g[I],m.h--))}}function tF(m,y,I,P){for(var te=0;te<m.length;++te){var ue=m[te];if(!ue.da&&ue.listener==y&&ue.capture==!!I&&ue.ha==P)return te}return-1}hd.prototype.add=function(m,y,I,P,te){var ue=m.toString();(m=this.g[ue])||(m=this.g[ue]=[],this.h++);var Ve=tF(m,y,P,te);return-1<Ve?(y=m[Ve],I||(y.fa=!1)):((y=new jo(y,this.src,ue,!!P,te)).fa=I,m.push(y)),y};var nF="closure_lm_"+(1e6*Math.random()|0),iF={};function $K(m,y,I,P,te){if(P&&P.once)return GK(m,y,I,P,te);if(Array.isArray(y)){for(var ue=0;ue<y.length;ue++)$K(m,y[ue],I,P,te);return null}return I=aF(I),m&&m[Bi]?m.K(y,I,c(P)?!!P.capture:!!P,te):WK(m,y,I,!1,P,te)}function WK(m,y,I,P,te,ue){if(!y)throw Error("Invalid event type");var Ve=c(te)?!!te.capture:!!te,Kn=oF(m);if(Kn||(m[nF]=Kn=new hd(m)),(I=Kn.add(y,I,P,Ve,ue)).proxy)return I;if(P=function r1e(){const y=o1e;return function m(I){return y.call(m.src,m.listener,I)}}(),I.proxy=P,P.src=m,P.listener=I,m.addEventListener)pn||(te=Ve),void 0===te&&(te=!1),m.addEventListener(y.toString(),P,te);else if(m.attachEvent)m.attachEvent(KK(y.toString()),P);else{if(!m.addListener||!m.removeListener)throw Error("addEventListener and attachEvent are unavailable.");m.addListener(P)}return I}function GK(m,y,I,P,te){if(Array.isArray(y)){for(var ue=0;ue<y.length;ue++)GK(m,y[ue],I,P,te);return null}return I=aF(I),m&&m[Bi]?m.L(y,I,c(P)?!!P.capture:!!P,te):WK(m,y,I,!0,P,te)}function qK(m,y,I,P,te){if(Array.isArray(y))for(var ue=0;ue<y.length;ue++)qK(m,y[ue],I,P,te);else P=c(P)?!!P.capture:!!P,I=aF(I),m&&m[Bi]?(m=m.i,(y=String(y).toString())in m.g&&-1<(I=tF(ue=m.g[y],I,P,te))&&(Ql(ue[I]),Array.prototype.splice.call(ue,I,1),0==ue.length&&(delete m.g[y],m.h--))):m&&(m=oF(m))&&(y=m.g[y.toString()],m=-1,y&&(m=tF(y,I,P,te)),(I=-1<m?y[m]:null)&&rF(I))}function rF(m){if("number"!=typeof m&&m&&!m.da){var y=m.src;if(y&&y[Bi])eF(y.i,m);else{var I=m.type,P=m.proxy;y.removeEventListener?y.removeEventListener(I,P,m.capture):y.detachEvent?y.detachEvent(KK(I),P):y.addListener&&y.removeListener&&y.removeListener(P),(I=oF(y))?(eF(I,m),0==I.h&&(I.src=null,y[nF]=null)):Ql(m)}}}function KK(m){return m in iF?iF[m]:iF[m]="on"+m}function o1e(m,y){if(m.da)m=!0;else{y=new zo(y,this);var I=m.listener,P=m.ha||m.src;m.fa&&rF(m),m=I.call(P,y)}return m}function oF(m){return(m=m[nF])instanceof hd?m:null}var sF="__closure_events_fn_"+(1e9*Math.random()>>>0);function aF(m){return"function"==typeof m?m:(m[sF]||(m[sF]=function(y){return m.handleEvent(y)}),m[sF])}function so(){Dn.call(this),this.i=new hd(this),this.M=this,this.F=null}function Co(m,y){var I,P=m.F;if(P)for(I=[];P;P=P.F)I.push(P);if(m=m.M,P=y.type||y,"string"==typeof y)y=new En(y,m);else if(y instanceof En)y.target=y.target||m;else{var te=y;j(y=new En(P,m),te)}if(te=!0,I)for(var ue=I.length-1;0<=ue;ue--){var Ve=y.g=I[ue];te=uC(Ve,P,!0,y)&&te}if(te=uC(Ve=y.g=m,P,!0,y)&&te,te=uC(Ve,P,!1,y)&&te,I)for(ue=0;ue<I.length;ue++)te=uC(Ve=y.g=I[ue],P,!1,y)&&te}function uC(m,y,I,P){if(!(y=m.i.g[String(y)]))return!0;y=y.concat();for(var te=!0,ue=0;ue<y.length;++ue){var Ve=y[ue];if(Ve&&!Ve.da&&Ve.capture==I){var Kn=Ve.listener,Vr=Ve.ha||Ve.src;Ve.fa&&eF(m.i,Ve),te=!1!==Kn.call(Vr,P)&&te}}return te&&!P.defaultPrevented}function YK(m,y,I){if("function"==typeof m)I&&(m=p(m,I));else{if(!m||"function"!=typeof m.handleEvent)throw Error("Invalid listener argument");m=p(m.handleEvent,m)}return 2147483647<Number(y)?-1:a.setTimeout(m,y||0)}function QK(m){m.g=YK(()=>{m.g=null,m.i&&(m.i=!1,QK(m))},m.l);const y=m.h;m.h=null,m.m.apply(null,y)}b(so,Dn),so.prototype[Bi]=!0,so.prototype.removeEventListener=function(m,y,I,P){qK(this,m,y,I,P)},so.prototype.N=function(){if(so.aa.N.call(this),this.i){var y,m=this.i;for(y in m.g){for(var I=m.g[y],P=0;P<I.length;P++)Ql(I[P]);delete m.g[y],m.h--}}this.F=null},so.prototype.K=function(m,y,I,P){return this.i.add(String(m),y,!1,I,P)},so.prototype.L=function(m,y,I,P){return this.i.add(String(m),y,!0,I,P)};class s1e extends Dn{constructor(y,I){super(),this.m=y,this.l=I,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:QK(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lb(m){Dn.call(this),this.h=m,this.g={}}b(Lb,Dn);var XK=[];function ZK(m){ee(m.g,function(y,I){this.g.hasOwnProperty(I)&&rF(y)},m),m.g={}}Lb.prototype.N=function(){Lb.aa.N.call(this),ZK(this)},Lb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lF=a.JSON.stringify,a1e=a.JSON.parse,l1e=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function cF(){}function eY(){}cF.prototype.h=null;var Vb={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dF(){En.call(this,"d")}function uF(){En.call(this,"c")}b(dF,En),b(uF,En);var sh={},tY=null;function hC(){return tY=tY||new so}function nY(m){En.call(this,sh.La,m)}function Bb(m){const y=hC();Co(y,new nY(y))}function iY(m,y){En.call(this,sh.STAT_EVENT,m),this.stat=y}function Ao(m){const y=hC();Co(y,new iY(y,m))}function rY(m,y){En.call(this,sh.Ma,m),this.size=y}function Ub(m,y){if("function"!=typeof m)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},y)}function zb(){this.g=!0}function np(m,y,I,P){m.info(function(){return"XMLHTTP TEXT ("+y+"): "+function h1e(m,y){if(!m.g)return y;if(!y)return null;try{var I=JSON.parse(y);if(I)for(m=0;m<I.length;m++)if(Array.isArray(I[m])){var P=I[m];if(!(2>P.length)){var te=P[1];if(Array.isArray(te)&&!(1>te.length)){var ue=te[0];if("noop"!=ue&&"stop"!=ue&&"close"!=ue)for(var Ve=1;Ve<te.length;Ve++)te[Ve]=""}}}return lF(I)}catch{return y}}(m,I)+(P?" "+P:"")})}sh.La="serverreachability",b(nY,En),sh.STAT_EVENT="statevent",b(iY,En),sh.Ma="timingevent",b(rY,En),zb.prototype.xa=function(){this.g=!1},zb.prototype.info=function(){};var hF,fC={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oY={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function mC(){}function fd(m,y,I,P){this.j=m,this.i=y,this.l=I,this.R=P||1,this.U=new Lb(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sY}function sY(){this.i=null,this.g="",this.h=!1}b(mC,cF),mC.prototype.g=function(){return new XMLHttpRequest},mC.prototype.i=function(){return{}},hF=new mC;var aY={},fF={};function mF(m,y,I){m.L=1,m.v=vC(Xl(y)),m.m=I,m.P=!0,lY(m,null)}function lY(m,y){m.F=Date.now(),pC(m),m.A=Xl(m.v);var I=m.A,P=m.R;Array.isArray(P)||(P=[String(P)]),xY(I.i,"t",P),m.C=0,I=m.j.J,m.h=new sY,m.g=UY(m.j,I?y:null,!m.m),0<m.O&&(m.M=new s1e(p(m.Y,m,m.g),m.O)),y=m.U,I=m.g,P=m.ca;var te="readystatechange";Array.isArray(te)||(te&&(XK[0]=te.toString()),te=XK);for(var ue=0;ue<te.length;ue++){var Ve=$K(I,te[ue],P||y.handleEvent,!1,y.h||y);if(!Ve)break;y.g[Ve.key]=Ve}y=m.H?k(m.H):{},m.m?(m.u||(m.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,y)):(m.u="GET",m.g.ea(m.A,m.u,null,y)),Bb(),function c1e(m,y,I,P,te,ue){m.info(function(){if(m.g)if(ue)for(var Ve="",Kn=ue.split("&"),Vr=0;Vr<Kn.length;Vr++){var bn=Kn[Vr].split("=");if(1<bn.length){var ao=bn[0];bn=bn[1];var lo=ao.split("_");Ve=2<=lo.length&&"type"==lo[1]?Ve+(ao+"=")+bn+"&":Ve+(ao+"=redacted&")}}else Ve=null;else Ve=ue;return"XMLHTTP REQ ("+P+") [attempt "+te+"]: "+y+"\n"+I+"\n"+Ve})}(m.i,m.u,m.A,m.l,m.R,m.m)}function cY(m){return!!m.g&&"GET"==m.u&&2!=m.L&&m.j.Ca}function f1e(m,y){var I=m.C,P=y.indexOf("\n",I);return-1==P?fF:(I=Number(y.substring(I,P)),isNaN(I)?aY:(P+=1)+I>y.length?fF:(y=y.slice(P,P+I),m.C=P+I,y))}function pC(m){m.S=Date.now()+m.I,dY(m,m.I)}function dY(m,y){if(null!=m.B)throw Error("WatchDog timer not null");m.B=Ub(p(m.ba,m),y)}function pF(m){m.B&&(a.clearTimeout(m.B),m.B=null)}function jb(m){0==m.j.G||m.J||FY(m.j,m)}function ah(m){pF(m);var y=m.M;y&&"function"==typeof y.ma&&y.ma(),m.M=null,ZK(m.U),m.g&&(y=m.g,m.g=null,y.abort(),y.ma())}function gF(m,y){try{var I=m.j;if(0!=I.G&&(I.g==m||_F(I.h,m)))if(!m.K&&_F(I.h,m)&&3==I.G){try{var P=I.Da.g.parse(y)}catch{P=null}if(Array.isArray(P)&&3==P.length){var te=P;if(0==te[0]){e:if(!I.u){if(I.g){if(!(I.g.F+3e3<m.F))break e;EC(I),wC(I)}wF(I),Ao(18)}}else I.za=te[1],0<I.za-I.T&&37500>te[2]&&I.F&&0==I.v&&!I.C&&(I.C=Ub(p(I.Za,I),6e3));if(1>=fY(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else ch(I,11)}else if((m.K||I.g==m)&&EC(I),!S(y))for(te=I.Da.g.parse(y),y=0;y<te.length;y++){let bn=te[y];if(I.T=bn[0],bn=bn[1],2==I.G)if("c"==bn[0]){I.K=bn[1],I.ia=bn[2];const ao=bn[3];null!=ao&&(I.la=ao,I.j.info("VER="+I.la));const lo=bn[4];null!=lo&&(I.Aa=lo,I.j.info("SVER="+I.Aa));const op=bn[5];null!=op&&"number"==typeof op&&0<op&&(I.L=P=1.5*op,I.j.info("backChannelRequestTimeoutMs_="+P)),P=I;const la=m.g;if(la){const CC=la.g?la.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(CC){var ue=P.h;ue.g||-1==CC.indexOf("spdy")&&-1==CC.indexOf("quic")&&-1==CC.indexOf("h2")||(ue.j=ue.l,ue.g=new Set,ue.h&&(vF(ue,ue.h),ue.h=null))}if(P.D){const EF=la.g?la.g.getResponseHeader("X-HTTP-Session-Id"):null;EF&&(P.ya=EF,bi(P.I,P.D,EF))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-m.F,I.j.info("Handshake RTT: "+I.R+"ms"));var Ve=m;if((P=I).qa=BY(P,P.J?P.ia:null,P.W),Ve.K){mY(P.h,Ve);var Kn=Ve,Vr=P.L;Vr&&(Kn.I=Vr),Kn.B&&(pF(Kn),pC(Kn)),P.g=Ve}else OY(P);0<I.i.length&&xC(I)}else"stop"!=bn[0]&&"close"!=bn[0]||ch(I,7);else 3==I.G&&("stop"==bn[0]||"close"==bn[0]?"stop"==bn[0]?ch(I,7):yF(I):"noop"!=bn[0]&&I.l&&I.l.ta(bn),I.v=0)}Bb()}catch{}}function uY(m){this.l=m||10,m=a.PerformanceNavigationTiming?0<(m=a.performance.getEntriesByType("navigation")).length&&("hq"==m[0].nextHopProtocol||"h2"==m[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hY(m){return!!m.h||!!m.g&&m.g.size>=m.j}function fY(m){return m.h?1:m.g?m.g.size:0}function _F(m,y){return m.h?m.h==y:!!m.g&&m.g.has(y)}function vF(m,y){m.g?m.g.add(y):m.h=y}function mY(m,y){m.h&&m.h==y?m.h=null:m.g&&m.g.has(y)&&m.g.delete(y)}function pY(m){if(null!=m.h)return m.i.concat(m.h.D);if(null!=m.g&&0!==m.g.size){let y=m.i;for(const I of m.g.values())y=y.concat(I.D);return y}return w(m.i)}function gY(m,y){if(m.forEach&&"function"==typeof m.forEach)m.forEach(y,void 0);else if(l(m)||"string"==typeof m)Array.prototype.forEach.call(m,y,void 0);else for(var I=function g1e(m){if(m.na&&"function"==typeof m.na)return m.na();if(!m.V||"function"!=typeof m.V){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||"string"==typeof m){var y=[];m=m.length;for(var I=0;I<m;I++)y.push(I);return y}y=[],I=0;for(const P in m)y[I++]=P;return y}}}(m),P=function p1e(m){if(m.V&&"function"==typeof m.V)return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if("string"==typeof m)return m.split("");if(l(m)){for(var y=[],I=m.length,P=0;P<I;P++)y.push(m[P]);return y}for(P in y=[],I=0,m)y[I++]=m[P];return y}(m),te=P.length,ue=0;ue<te;ue++)y.call(void 0,P[ue],I&&I[ue],m)}fd.prototype.ca=function(m){m=m.target;const y=this.M;y&&3==Zl(m)?y.j():this.Y(m)},fd.prototype.Y=function(m){try{if(m==this.g)e:{const lo=Zl(this.g);var y=this.g.Ba();if(this.g.Z(),!(3>lo)&&(3!=lo||this.g&&(this.h.h||this.g.oa()||DY(this.g)))){this.J||4!=lo||7==y||Bb(),pF(this);var I=this.g.Z();this.X=I;t:if(cY(this)){var P=DY(this.g);m="";var te=P.length,ue=4==Zl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ah(this),jb(this);var Ve="";break t}this.h.i=new a.TextDecoder}for(y=0;y<te;y++)this.h.h=!0,m+=this.h.i.decode(P[y],{stream:!(ue&&y==te-1)});P.length=0,this.h.g+=m,this.C=0,Ve=this.h.g}else Ve=this.g.oa();if(this.o=200==I,function d1e(m,y,I,P,te,ue,Ve){m.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+te+"]: "+y+"\n"+I+"\n"+ue+" "+Ve})}(this.i,this.u,this.A,this.l,this.R,lo,I),this.o){if(this.T&&!this.K){t:{if(this.g){var Kn,Vr=this.g;if((Kn=Vr.g?Vr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(Kn)){var bn=Kn;break t}}bn=null}if(!(I=bn)){this.o=!1,this.s=3,Ao(12),ah(this),jb(this);break e}np(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gF(this,I)}if(this.P){let la;for(I=!0;!this.J&&this.C<Ve.length;){if(la=f1e(this,Ve),la==fF){4==lo&&(this.s=4,Ao(14),I=!1),np(this.i,this.l,null,"[Incomplete Response]");break}if(la==aY){this.s=4,Ao(15),np(this.i,this.l,Ve,"[Invalid Chunk]"),I=!1;break}np(this.i,this.l,la,null),gF(this,la)}if(cY(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=lo||0!=Ve.length||this.h.h||(this.s=1,Ao(16),I=!1),this.o=this.o&&I,I){if(0<Ve.length&&!this.W){this.W=!0;var ao=this.j;ao.g==this&&ao.ba&&!ao.M&&(ao.j.info("Great, no buffering proxy detected. Bytes received: "+Ve.length),xF(ao),ao.M=!0,Ao(11))}}else np(this.i,this.l,Ve,"[Invalid Chunked Response]"),ah(this),jb(this)}else np(this.i,this.l,Ve,null),gF(this,Ve);4==lo&&ah(this),this.o&&!this.J&&(4==lo?FY(this.j,this):(this.o=!1,pC(this)))}else(function k1e(m){const y={};m=(m.g&&2<=Zl(m)&&m.g.getAllResponseHeaders()||"").split("\r\n");for(let P=0;P<m.length;P++){if(S(m[P]))continue;var I=K(m[P]);const te=I[0];if("string"!=typeof(I=I[1]))continue;I=I.trim();const ue=y[te]||[];y[te]=ue,ue.push(I)}!function L(m,y){for(const I in m)y.call(void 0,m[I],I,m)}(y,function(P){return P.join(", ")})})(this.g),400==I&&0<Ve.indexOf("Unknown SID")?(this.s=3,Ao(12)):(this.s=0,Ao(13)),ah(this),jb(this)}}}catch{}},fd.prototype.cancel=function(){this.J=!0,ah(this)},fd.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(function u1e(m,y){m.info(function(){return"TIMEOUT: "+y})}(this.i,this.A),2!=this.L&&(Bb(),Ao(17)),ah(this),this.s=2,jb(this)):dY(this,this.S-m)},uY.prototype.cancel=function(){if(this.i=pY(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const m of this.g.values())m.cancel();this.g.clear()}};var _Y=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lh(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof lh){this.h=m.h,gC(this,m.j),this.o=m.o,this.g=m.g,_C(this,m.s),this.l=m.l;var y=m.i,I=new Wb;I.i=y.i,y.g&&(I.g=new Map(y.g),I.h=y.h),vY(this,I),this.m=m.m}else m&&(y=String(m).match(_Y))?(this.h=!1,gC(this,y[1]||"",!0),this.o=Hb(y[2]||""),this.g=Hb(y[3]||"",!0),_C(this,y[4]),this.l=Hb(y[5]||"",!0),vY(this,y[6]||"",!0),this.m=Hb(y[7]||"")):(this.h=!1,this.i=new Wb(null,this.h))}function Xl(m){return new lh(m)}function gC(m,y,I){m.j=I?Hb(y,!0):y,m.j&&(m.j=m.j.replace(/:$/,""))}function _C(m,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);m.s=y}else m.s=null}function vY(m,y,I){y instanceof Wb?(m.i=y,function E1e(m,y){y&&!m.j&&(md(m),m.i=null,m.g.forEach(function(I,P){var te=P.toLowerCase();P!=te&&(yY(this,P),xY(this,te,I))},m)),m.j=y}(m.i,m.h)):(I||(y=$b(y,w1e)),m.i=new Wb(y,m.h))}function bi(m,y,I){m.i.set(y,I)}function vC(m){return bi(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Hb(m,y){return m?y?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function $b(m,y,I){return"string"==typeof m?(m=encodeURI(m).replace(y,v1e),I&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function v1e(m){return"%"+((m=m.charCodeAt(0))>>4&15).toString(16)+(15&m).toString(16)}lh.prototype.toString=function(){var m=[],y=this.j;y&&m.push($b(y,bY,!0),":");var I=this.g;return(I||"file"==y)&&(m.push("//"),(y=this.o)&&m.push($b(y,bY,!0),"@"),m.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(I=this.s)&&m.push(":",String(I))),(I=this.l)&&(this.g&&"/"!=I.charAt(0)&&m.push("/"),m.push($b(I,"/"==I.charAt(0)?y1e:b1e,!0))),(I=this.i.toString())&&m.push("?",I),(I=this.m)&&m.push("#",$b(I,x1e)),m.join("")};var m,bY=/[#\/\?@]/g,b1e=/[#\?:]/g,y1e=/[#\?]/g,w1e=/[#\?@]/g,x1e=/#/g;function Wb(m,y){this.h=this.g=null,this.i=m||null,this.j=!!y}function md(m){m.g||(m.g=new Map,m.h=0,m.i&&function _1e(m,y){if(m){m=m.split("&");for(var I=0;I<m.length;I++){var P=m[I].indexOf("="),te=null;if(0<=P){var ue=m[I].substring(0,P);te=m[I].substring(P+1)}else ue=m[I];y(ue,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}(m.i,function(y,I){m.add(decodeURIComponent(y.replace(/\+/g," ")),I)}))}function yY(m,y){md(m),y=ip(m,y),m.g.has(y)&&(m.i=null,m.h-=m.g.get(y).length,m.g.delete(y))}function wY(m,y){return md(m),y=ip(m,y),m.g.has(y)}function xY(m,y,I){yY(m,y),0<I.length&&(m.i=null,m.g.set(ip(m,y),w(I)),m.h+=I.length)}function ip(m,y){return y=String(y),m.j&&(y=y.toLowerCase()),y}function pd(m,y,I,P,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),P(I)}catch{}}function A1e(){this.g=new l1e}function T1e(m,y,I){const P=I||"";try{gY(m,function(te,ue){let Ve=te;c(te)&&(Ve=lF(te)),y.push(P+ue+"="+encodeURIComponent(Ve))})}catch(te){throw y.push(P+"type="+encodeURIComponent("_badmap")),te}}function Gb(m){this.l=m.Ub||null,this.j=m.eb||!1}function bC(m,y){so.call(this),this.D=m,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function EY(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}function qb(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Kb(m)}function Kb(m){m.onreadystatechange&&m.onreadystatechange.call(m)}function IY(m){let y="";return ee(m,function(I,P){y+=P,y+=":",y+=I,y+="\r\n"}),y}function bF(m,y,I){e:{for(P in I){var P=!1;break e}P=!0}P||(I=IY(I),"string"==typeof m?null!=I&&encodeURIComponent(String(I)):bi(m,y,I))}function Ui(m){so.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=Wb.prototype).add=function(m,y){md(this),this.i=null,m=ip(this,m);var I=this.g.get(m);return I||this.g.set(m,I=[]),I.push(y),this.h+=1,this},n.forEach=function(m,y){md(this),this.g.forEach(function(I,P){I.forEach(function(te){m.call(y,te,P,this)},this)},this)},n.na=function(){md(this);const m=Array.from(this.g.values()),y=Array.from(this.g.keys()),I=[];for(let P=0;P<y.length;P++){const te=m[P];for(let ue=0;ue<te.length;ue++)I.push(y[P])}return I},n.V=function(m){md(this);let y=[];if("string"==typeof m)wY(this,m)&&(y=y.concat(this.g.get(ip(this,m))));else{m=Array.from(this.g.values());for(let I=0;I<m.length;I++)y=y.concat(m[I])}return y},n.set=function(m,y){return md(this),this.i=null,wY(this,m=ip(this,m))&&(this.h-=this.g.get(m).length),this.g.set(m,[y]),this.h+=1,this},n.get=function(m,y){return m&&0<(m=this.V(m)).length?String(m[0]):y},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],y=Array.from(this.g.keys());for(var I=0;I<y.length;I++){var P=y[I];const ue=encodeURIComponent(String(P)),Ve=this.V(P);for(P=0;P<Ve.length;P++){var te=ue;""!==Ve[P]&&(te+="="+encodeURIComponent(String(Ve[P]))),m.push(te)}}return this.i=m.join("&")},b(Gb,cF),Gb.prototype.g=function(){return new bC(this.l,this.j)},Gb.prototype.i=(m={},function(){return m}),b(bC,so),(n=bC.prototype).open=function(m,y){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=y,this.readyState=1,Kb(this)},n.send=function(m){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(y.body=m),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qb(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Kb(this)),this.g&&(this.readyState=3,Kb(this),this.g)))if("arraybuffer"===this.responseType)m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;EY(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var y=m.value?m.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!m.done}))&&(this.response=this.responseText+=y)}m.done?qb(this):Kb(this),3==this.readyState&&EY(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,qb(this))},n.Qa=function(m){this.g&&(this.response=m,qb(this))},n.ga=function(){this.g&&qb(this)},n.setRequestHeader=function(m,y){this.u.append(m,y)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],y=this.h.entries();for(var I=y.next();!I.done;)m.push((I=I.value)[0]+": "+I[1]),I=y.next();return m.join("\r\n")},Object.defineProperty(bC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(m){this.m=m?"include":"same-origin"}}),b(Ui,so);var S1e=/^https?$/i,D1e=["POST","PUT"];function CY(m,y){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=y,m.m=5,AY(m),yC(m)}function AY(m){m.A||(m.A=!0,Co(m,"complete"),Co(m,"error"))}function TY(m){if(m.h&&typeof s<"u"&&(!m.v[1]||4!=Zl(m)||2!=m.Z()))if(m.u&&4==Zl(m))YK(m.Ea,0,m);else if(Co(m,"readystatechange"),4==Zl(m)){m.h=!1;try{const Ve=m.Z();e:switch(Ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var I;if(!(I=y)){var P;if(P=0===Ve){var te=String(m.D).match(_Y)[1]||null;!te&&a.self&&a.self.location&&(te=a.self.location.protocol.slice(0,-1)),P=!S1e.test(te?te.toLowerCase():"")}I=P}if(I)Co(m,"complete"),Co(m,"success");else{m.m=6;try{var ue=2<Zl(m)?m.g.statusText:""}catch{ue=""}m.l=ue+" ["+m.Z()+"]",AY(m)}}finally{yC(m)}}}function yC(m,y){if(m.g){SY(m);const I=m.g,P=m.v[0]?()=>{}:null;m.g=null,m.v=null,y||Co(m,"ready");try{I.onreadystatechange=P}catch{}}}function SY(m){m.I&&(a.clearTimeout(m.I),m.I=null)}function Zl(m){return m.g?m.g.readyState:0}function DY(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Yb(m,y,I){return I&&I.internalChannelParams&&I.internalChannelParams[m]||y}function kY(m){this.Aa=0,this.i=[],this.j=new zb,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yb("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yb("baseRetryDelayMs",5e3,m),this.cb=Yb("retryDelaySeedMs",1e4,m),this.Wa=Yb("forwardChannelMaxRetries",2,m),this.wa=Yb("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new uY(m&&m.concurrentRequestLimit),this.Da=new A1e,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function yF(m){if(MY(m),3==m.G){var y=m.U++,I=Xl(m.I);if(bi(I,"SID",m.K),bi(I,"RID",y),bi(I,"TYPE","terminate"),Qb(m,I),(y=new fd(m,m.j,y)).L=2,y.v=vC(Xl(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!I&&a.Image&&((new Image).src=y.v,I=!0),I||(y.g=UY(y.j,null),y.g.ea(y.v)),y.F=Date.now(),pC(y)}VY(m)}function wC(m){m.g&&(xF(m),m.g.cancel(),m.g=null)}function MY(m){wC(m),m.u&&(a.clearTimeout(m.u),m.u=null),EC(m),m.h.cancel(),m.s&&("number"==typeof m.s&&a.clearTimeout(m.s),m.s=null)}function xC(m){if(!hY(m.h)&&!m.s){m.s=!0;var y=m.Ga;Le||Fn(),qe||(Le(),qe=!0),st.add(y,m),m.B=0}}function RY(m,y){var I;I=y?y.l:m.U++;const P=Xl(m.I);bi(P,"SID",m.K),bi(P,"RID",I),bi(P,"AID",m.T),Qb(m,P),m.m&&m.o&&bF(P,m.m,m.o),I=new fd(m,m.j,I,m.B+1),null===m.m&&(I.H=m.o),y&&(m.i=y.D.concat(m.i)),y=PY(m,I,1e3),I.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),vF(m.h,I),mF(I,P,y)}function Qb(m,y){m.H&&ee(m.H,function(I,P){bi(y,P,I)}),m.l&&gY({},function(I,P){bi(y,P,I)})}function PY(m,y,I){I=Math.min(m.i.length,I);var P=m.l?p(m.l.Na,m.l,m):null;e:{var te=m.i;let ue=-1;for(;;){const Ve=["count="+I];-1==ue?0<I?(ue=te[0].g,Ve.push("ofs="+ue)):ue=0:Ve.push("ofs="+ue);let Kn=!0;for(let Vr=0;Vr<I;Vr++){let bn=te[Vr].g;const ao=te[Vr].map;if(bn-=ue,0>bn)ue=Math.max(0,te[Vr].g-100),Kn=!1;else try{T1e(ao,Ve,"req"+bn+"_")}catch{P&&P(ao)}}if(Kn){P=Ve.join("&");break e}}}return m=m.i.splice(0,I),y.D=m,P}function OY(m){if(!m.g&&!m.u){m.Y=1;var y=m.Fa;Le||Fn(),qe||(Le(),qe=!0),st.add(y,m),m.v=0}}function wF(m){return!(m.g||m.u||3<=m.v||(m.Y++,m.u=Ub(p(m.Fa,m),LY(m,m.v)),m.v++,0))}function xF(m){null!=m.A&&(a.clearTimeout(m.A),m.A=null)}function NY(m){m.g=new fd(m,m.j,"rpc",m.Y),null===m.m&&(m.g.H=m.o),m.g.O=0;var y=Xl(m.qa);bi(y,"RID","rpc"),bi(y,"SID",m.K),bi(y,"AID",m.T),bi(y,"CI",m.F?"0":"1"),!m.F&&m.ja&&bi(y,"TO",m.ja),bi(y,"TYPE","xmlhttp"),Qb(m,y),m.m&&m.o&&bF(y,m.m,m.o),m.L&&(m.g.I=m.L);var I=m.g;m=m.ia,I.L=1,I.v=vC(Xl(y)),I.m=null,I.P=!0,lY(I,m)}function EC(m){null!=m.C&&(a.clearTimeout(m.C),m.C=null)}function FY(m,y){var I=null;if(m.g==y){EC(m),xF(m),m.g=null;var P=2}else{if(!_F(m.h,y))return;I=y.D,mY(m.h,y),P=1}if(0!=m.G)if(y.o)if(1==P){I=y.m?y.m.length:0,y=Date.now()-y.F;var te=m.B;Co(P=hC(),new rY(P,I)),xC(m)}else OY(m);else if(3==(te=y.s)||0==te&&0<y.X||!(1==P&&function M1e(m,y){return!(fY(m.h)>=m.h.j-(m.s?1:0)||(m.s?(m.i=y.D.concat(m.i),0):1==m.G||2==m.G||m.B>=(m.Va?0:m.Wa)||(m.s=Ub(p(m.Ga,m,y),LY(m,m.B)),m.B++,0)))}(m,y)||2==P&&wF(m)))switch(I&&0<I.length&&(y=m.h,y.i=y.i.concat(I)),te){case 1:ch(m,5);break;case 4:ch(m,10);break;case 3:ch(m,6);break;default:ch(m,2)}}function LY(m,y){let I=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(I*=2),I*y}function ch(m,y){if(m.j.info("Error code "+y),2==y){var I=p(m.fb,m),P=m.Xa;const te=!P;P=new lh(P||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||gC(P,"https"),vC(P),te?function I1e(m,y){const I=new zb;if(a.Image){const P=new Image;P.onload=v(pd,I,"TestLoadImage: loaded",!0,y,P),P.onerror=v(pd,I,"TestLoadImage: error",!1,y,P),P.onabort=v(pd,I,"TestLoadImage: abort",!1,y,P),P.ontimeout=v(pd,I,"TestLoadImage: timeout",!1,y,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=m}else y(!1)}(P.toString(),I):function C1e(m,y){new zb;const P=new AbortController,te=setTimeout(()=>{P.abort(),pd(0,0,!1,y)},1e4);fetch(m,{signal:P.signal}).then(ue=>{clearTimeout(te),pd(0,0,!!ue.ok,y)}).catch(()=>{clearTimeout(te),pd(0,0,!1,y)})}(P.toString(),I)}else Ao(2);m.G=0,m.l&&m.l.sa(y),VY(m),MY(m)}function VY(m){if(m.G=0,m.ka=[],m.l){const y=pY(m.h);(0!=y.length||0!=m.i.length)&&(E(m.ka,y),E(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function BY(m,y,I){var P=I instanceof lh?Xl(I):new lh(I);if(""!=P.g)y&&(P.g=y+"."+P.g),_C(P,P.s);else{var te=a.location;P=te.protocol,y=y?y+"."+te.hostname:te.hostname,te=+te.port;var ue=new lh(null);P&&gC(ue,P),y&&(ue.g=y),te&&_C(ue,te),I&&(ue.l=I),P=ue}return y=m.ya,(I=m.D)&&y&&bi(P,I,y),bi(P,"VER",m.la),Qb(m,P),P}function UY(m,y,I){if(y&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return(y=new Ui(m.Ca&&!m.pa?new Gb({eb:I}):m.pa)).Ha(m.J),y}function zY(){}function IC(){}function fs(m,y){so.call(this),this.g=new kY(y),this.l=m,this.h=y&&y.messageUrlParams||null,m=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(m?m["X-WebChannel-Content-Type"]=y.messageContentType:m={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(m?m["X-WebChannel-Client-Profile"]=y.va:m={"X-WebChannel-Client-Profile":y.va}),this.g.S=m,(m=y&&y.Sb)&&!S(m)&&(this.g.m=m),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!S(y)&&(this.g.D=y,null!==(m=this.h)&&y in m&&y in(m=this.h)&&delete m[y]),this.j=new rp(this)}function jY(m){dF.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var y=m.__sm__;if(y){e:{for(const I in y){m=I;break e}m=void 0}(this.i=m)&&(m=this.i,y=null!==y&&m in y?y[m]:void 0),this.data=y}else this.data=m}function HY(){uF.call(this),this.status=1}function rp(m){this.g=m}(n=Ui.prototype).Ha=function(m){this.J=m},n.ea=function(m,y,I,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);y=y?y.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hF.g(),this.v=function JK(m){return m.h||(m.h=m.i())}(this.o?this.o:hF),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(y,String(m),!0),this.B=!1}catch(ue){return void CY(this,ue)}if(m=I||"",I=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var te in P)I.set(te,P[te]);else{if("function"!=typeof P.keys||"function"!=typeof P.get)throw Error("Unknown input type for opt_headers: "+String(P));for(const ue of P.keys())I.set(ue,P.get(ue))}P=Array.from(I.keys()).find(ue=>"content-type"==ue.toLowerCase()),te=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(D1e,y,void 0))||P||te||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Ve]of I)this.g.setRequestHeader(ue,Ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{SY(this),this.u=!0,this.g.send(m),this.u=!1}catch(ue){CY(this,ue)}},n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Co(this,"complete"),Co(this,"abort"),yC(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yC(this,!0)),Ui.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?TY(this):this.bb())},n.bb=function(){TY(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<Zl(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var y=this.g.responseText;return m&&0==y.indexOf(m)&&(y=y.substring(m.length)),a1e(y)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=kY.prototype).la=8,n.G=1,n.connect=function(m,y,I,P){Ao(0),this.W=m,this.H=y||{},I&&void 0!==P&&(this.H.OSID=I,this.H.OAID=P),this.F=this.X,this.I=BY(this,null,this.W),xC(this)},n.Ga=function(m){if(this.s)if(this.s=null,1==this.G){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const te=new fd(this,this.j,m);let ue=this.o;if(this.S&&(ue?(ue=k(ue),j(ue,this.S)):ue=this.S),null!==this.m||this.O||(te.H=ue,ue=null),this.P)e:{for(var y=0,I=0;I<this.i.length;I++){var P=this.i[I];if(void 0===(P="__data__"in P.map&&"string"==typeof(P=P.map.__data__)?P.length:void 0))break;if(4096<(y+=P)){y=I;break e}if(4096===y||I===this.i.length-1){y=I+1;break e}}y=1e3}else y=1e3;y=PY(this,te,y),bi(I=Xl(this.I),"RID",m),bi(I,"CVER",22),this.D&&bi(I,"X-HTTP-Session-Id",this.D),Qb(this,I),ue&&(this.O?y="headers="+encodeURIComponent(String(IY(ue)))+"&"+y:this.m&&bF(I,this.m,ue)),vF(this.h,te),this.Ua&&bi(I,"TYPE","init"),this.P?(bi(I,"$req",y),bi(I,"SID","null"),te.T=!0,mF(te,I,null)):mF(te,I,y),this.G=2}}else 3==this.G&&(m?RY(this,m):0==this.i.length||hY(this.h)||RY(this))},n.Fa=function(){if(this.u=null,NY(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Ub(p(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ao(10),wC(this),NY(this))},n.Za=function(){null!=this.C&&(this.C=null,wC(this),wF(this),Ao(19))},n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Ao(2)):(this.j.info("Failed to ping google.com"),Ao(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=zY.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},IC.prototype.g=function(m,y){return new fs(m,y)},b(fs,so),fs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fs.prototype.close=function(){yF(this.g)},fs.prototype.o=function(m){var y=this.g;if("string"==typeof m){var I={};I.__data__=m,m=I}else this.u&&((I={}).__data__=lF(m),m=I);y.i.push(new class{constructor(m,y){this.g=m,this.map=y}}(y.Ya++,m)),3==y.G&&xC(y)},fs.prototype.N=function(){this.g.l=null,delete this.j,yF(this.g),delete this.g,fs.aa.N.call(this)},b(jY,dF),b(HY,uF),b(rp,zY),rp.prototype.ua=function(){Co(this.g,"a")},rp.prototype.ta=function(m){Co(this.g,new jY(m))},rp.prototype.sa=function(m){Co(this.g,new HY)},rp.prototype.ra=function(){Co(this.g,"b")},IC.prototype.createWebChannel=IC.prototype.g,fs.prototype.send=fs.prototype.o,fs.prototype.open=fs.prototype.m,fs.prototype.close=fs.prototype.close,N4=yl.createWebChannelTransport=function(){return new IC},O4=yl.getStatEventTarget=function(){return hC()},P4=yl.Event=sh,MD=yl.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fC.NO_ERROR=0,fC.TIMEOUT=8,fC.HTTP_ERROR=6,lx=yl.ErrorCode=fC,oY.COMPLETE="complete",R4=yl.EventType=oY,eY.EventType=Vb,Vb.OPEN="a",Vb.CLOSE="b",Vb.ERROR="c",Vb.MESSAGE="d",so.prototype.listen=so.prototype.K,v_=yl.WebChannel=eY,yl.FetchXmlHttpFactory=Gb,Ui.prototype.listenOnce=Ui.prototype.L,Ui.prototype.getLastError=Ui.prototype.Ka,Ui.prototype.getLastErrorCode=Ui.prototype.Ba,Ui.prototype.getStatus=Ui.prototype.Z,Ui.prototype.getResponseJson=Ui.prototype.Oa,Ui.prototype.getResponseText=Ui.prototype.oa,Ui.prototype.send=Ui.prototype.ea,Ui.prototype.setWithCredentials=Ui.prototype.Ha,M4=yl.XhrIo=Ui}).apply(typeof ax<"u"?ax:typeof self<"u"?self:typeof window<"u"?window:{});const F4="@firebase/firestore";class Er{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Er.UNAUTHENTICATED=new Er(null),Er.GOOGLE_CREDENTIALS=new Er("google-credentials-uid"),Er.FIRST_PARTY=new Er("first-party-uid"),Er.MOCK_USER=new Er("mock-user");let jf="10.14.0";const Ic=new Ma.Vy("@firebase/firestore");function Hf(){return Ic.logLevel}function xe(n,...t){if(Ic.logLevel<=Ma.$b.DEBUG){const e=t.map(RD);Ic.debug(`Firestore (${jf}): ${n}`,...e)}}function Ki(n,...t){if(Ic.logLevel<=Ma.$b.ERROR){const e=t.map(RD);Ic.error(`Firestore (${jf}): ${n}`,...e)}}function os(n,...t){if(Ic.logLevel<=Ma.$b.WARN){const e=t.map(RD);Ic.warn(`Firestore (${jf}): ${n}`,...e)}}function RD(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function We(n="Unexpected state"){const t=`FIRESTORE (${jf}) INTERNAL ASSERTION FAILED: `+n;throw Ki(t),new Error(t)}function Xe(n,t){n||We()}function Oe(n,t){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends vn.g{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ir{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class L4{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Er.UNAUTHENTICATED))}shutdown(){}}class xce{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Ece{constructor(t){this.t=t,this.currentUser=Er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;Xe(void 0===this.o);let r=this.i;const o=c=>this.i!==r?(r=this.i,e(c)):Promise.resolve();let s=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ir,t.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;t.enqueueRetryable((0,H.A)(function*(){yield c.promise,yield o(i.currentUser)}))},l=c=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ir)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xe("string"==typeof i.accessToken),new L4(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xe(null===t||"string"==typeof t),new Er(t)}}class Ice{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=Er.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Cce{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new Ice(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Er.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class V4{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ace{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){Xe(void 0===this.o);const i=o=>{null!=o.error&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,xe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Xe("string"==typeof e.token),this.R=e.token,new V4(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Tce(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class B4{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=Tce(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Et(n,t){return n<t?-1:n>t?1:0}function $f(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function U4(n){return n+"\0"}class wi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new we(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new we(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new we(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new we(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return wi.fromMillis(Date.now())}static fromDate(t){return wi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new wi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Et(this.nanoseconds,t.nanoseconds):Et(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class et{constructor(t){this.timestamp=t}static fromTimestamp(t){return new et(t)}static min(){return new et(new wi(0,0))}static max(){return new et(new wi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class b_{constructor(t,e,i){void 0===e?e=0:e>t.length&&We(),void 0===i?i=t.length-e:i>t.length-e&&We(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===b_.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof b_?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),s=e.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class on extends b_{construct(t,e,i){return new on(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new we(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new on(e)}static emptyPath(){return new on([])}}const Sce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ui extends b_{construct(t,e,i){return new ui(t,e,i)}static isValidIdentifier(t){return Sce.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ui.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ui(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new we(ae.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let s=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new we(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new we(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new we(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ui(e)}static emptyPath(){return new ui([])}}class Ue{constructor(t){this.path=t}static fromPath(t){return new Ue(on.fromString(t))}static fromName(t){return new Ue(on.fromString(t).popFirst(5))}static empty(){return new Ue(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===on.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return on.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ue(new on(t.slice()))}}class Wf{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function PD(n){return n.fields.find(t=>2===t.kind)}function cu(n){return n.fields.filter(t=>2!==t.kind)}Wf.UNKNOWN_ID=-1;class du{constructor(t,e){this.fieldPath=t,this.kind=e}}class Gf{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Gf(0,ss.min())}}function z4(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=et.fromTimestamp(1e9===i?new wi(e+1,0):new wi(e,i));return new ss(r,Ue.empty(),t)}function j4(n){return new ss(n.readTime,n.key,-1)}class ss{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ss(et.min(),Ue.empty(),-1)}static max(){return new ss(et.max(),Ue.empty(),-1)}}function OD(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Ue.comparator(n.documentKey,t.documentKey),0!==e?e:Et(n.largestBatchId,t.largestBatchId))}const H4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Cc(n){return ND.apply(this,arguments)}function ND(){return(ND=(0,H.A)(function*(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==H4)throw n;xe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ne{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&We(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ne((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ne?e:ne.resolve(e)}catch(e){return ne.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ne.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ne.reject(e)}static resolve(t){return new ne((e,i)=>{e(t)})}static reject(t){return new ne((e,i)=>{i(t)})}static waitFor(t){return new ne((e,i)=>{let r=0,o=0,s=!1;t.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&e()},l=>i(l))}),s=!0,o===r&&e()})}static or(t){let e=ne.resolve(!1);for(const i of t)e=e.next(r=>r?ne.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ne((i,r)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;e(t[c]).next(d=>{s[c]=d,++a,a===o&&i(s)},d=>r(d))}})}static doWhile(t,e){return new ne((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class cx{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new Ir,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new y_(t,e.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=FD(i.target.error);this.V.reject(new y_(t,r))}}static open(t,e,i,r){try{return new cx(e,t.transaction(r,i))}catch(o){throw new y_(e,o)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(xe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Rce(e)}}class Ra{constructor(t,e,i){this.name=t,this.version=e,this.p=i,12.2===Ra.S((0,vn.ZQ)())&&Ki("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return xe("SimpleDb","Removing database:",t),uu(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,vn.zW)())return!1;if(Ra.v())return!0;const t=(0,vn.ZQ)(),e=Ra.S(t),i=0<e&&e<10,r=W4(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static v(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.C)}static F(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(t){var e=this;return(0,H.A)(function*(){return e.db||(xe("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new y_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new we(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new we(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new y_(t,a))},o.onupgradeneeded=s=>{xe("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',s.oldVersion),e.p.O(s.target.result,o.transaction,s.oldVersion,e.version).next(()=>{xe("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.N&&(e.db.onversionchange=i=>e.N(i)),e.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,H.A)(function*(){const s="readonly"===e;let a=0;for(;;){++a;try{o.db=yield o.M(t);const l=cx.open(o.db,t,s?"readonly":"readwrite",i),c=r(l).next(d=>(l.g(),d)).catch(d=>(l.abort(d),ne.reject(d))).toPromise();return c.catch(()=>{}),yield l.m,c}catch(l){const c=l,d="FirebaseError"!==c.name&&a<3;if(xe("SimpleDb","Transaction failed with error:",c.message,"Retrying:",d),o.close(),!d)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function W4(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class Mce{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return uu(this.B.delete())}}class y_ extends we{constructor(t,e){super(ae.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Ac(n){return"IndexedDbTransactionError"===n.name}class Rce{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(xe("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(xe("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),uu(i)}add(t){return xe("SimpleDb","ADD",this.store.name,t,t),uu(this.store.add(t))}get(t){return uu(this.store.get(t)).next(e=>(void 0===e&&(e=null),xe("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return xe("SimpleDb","DELETE",this.store.name,t),uu(this.store.delete(t))}count(){return xe("SimpleDb","COUNT",this.store.name),uu(this.store.count())}U(t,e){const i=this.options(t,e),r=i.index?this.store.index(i.index):this.store;if("function"==typeof r.getAll){const o=r.getAll(i.range);return new ne((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(i),s=[];return this.W(o,(a,l)=>{s.push(l)}).next(()=>s)}}G(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ne((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}j(t,e){xe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.H=!1;const r=this.cursor(i);return this.W(r,(o,s,a)=>a.delete())}J(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Y(t){const e=this.cursor({});return new ne((i,r)=>{e.onerror=o=>{const s=FD(o.target.error);r(s)},e.onsuccess=o=>{const s=o.target.result;s?t(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}W(t,e){const i=[];return new ne((r,o)=>{t.onerror=s=>{o(s.target.error)},t.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const l=new Mce(a),c=e(a.primaryKey,a.value,l);if(c instanceof ne){const d=c.catch(h=>(l.done(),ne.reject(h)));i.push(d)}l.isDone?r():null===l.K?a.continue():a.continue(l.K)}}).next(()=>ne.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function uu(n){return new ne((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=FD(i.target.error);e(r)}})}let G4=!1;function FD(n){const t=Ra.S((0,vn.ZQ)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new we("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return G4||(G4=!0,setTimeout(()=>{throw i},0)),i}}return n}class Pce{constructor(t,e){this.asyncQueue=t,this.Z=e,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var e=this;xe("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,H.A)(function*(){e.task=null;try{xe("IndexBackfiller",`Documents written: ${yield e.Z.ee()}`)}catch(i){Ac(i)?xe("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield Cc(i)}yield e.X(6e4)}))}}class Oce{constructor(t,e){this.localStore=t,this.persistence=e}ee(t=50){var e=this;return(0,H.A)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.te(i,t))})()}te(t,e){const i=new Set;let r=e,o=!0;return ne.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(s=>{if(null!==s&&!i.has(s))return xe("IndexBackfiller",`Processing collection: ${s}`),this.ne(t,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>e-r)}ne(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(t,s).next(()=>this.re(r,o)).next(a=>(xe("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,e,a))).next(()=>s.size)}))}re(t,e){let i=t;return e.changes.forEach((r,o)=>{const s=j4(o);OD(s,i)>0&&(i=s)}),new ss(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let as=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}return n.oe=-1,n})();function w_(n){return null==n}function x_(n){return 0===n&&1/n==-1/0}function q4(n){return"number"==typeof n&&Number.isInteger(n)&&!x_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Zr(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=K4(t)),t=Nce(n.get(e),t);return K4(t)}function Nce(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function K4(n){return n+"\x01\x01"}function Pa(n){const t=n.length;if(Xe(t>=2),2===t)return Xe("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),on.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const s=n.indexOf("\x01",o);switch((s<0||s>e)&&We(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let l;0===r.length?l=a:(r+=a,l=r,r=""),i.push(l);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:We()}o=s+2}return new on(i)}const Y4=["userId","batchId"];function dx(n,t){return[n,Zr(t)]}function Q4(n,t,e){return[n,Zr(t),e]}const Fce={},Lce=["prefixPath","collectionGroup","readTime","documentId"],Vce=["prefixPath","collectionGroup","documentId"],Bce=["collectionGroup","readTime","prefixPath","documentId"],Uce=["canonicalId","targetId"],zce=["targetId","path"],jce=["path","targetId"],Hce=["collectionId","parent"],$ce=["indexId","uid"],Wce=["uid","sequenceNumber"],Gce=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qce=["indexId","uid","orderedDocumentKey"],Kce=["userId","collectionPath","documentId"],Yce=["userId","collectionPath","largestBatchId"],Qce=["userId","collectionGroup","largestBatchId"],X4=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Xce=[...X4,"documentOverlays"],Z4=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],J4=Z4,LD=[...J4,"indexConfiguration","indexState","indexEntries"],Zce=LD,Jce=[...LD,"globals"];class VD extends $4{constructor(t,e){super(),this._e=t,this.currentSequenceNumber=e}}function fr(n,t){const e=Oe(n);return Ra.F(e._e,t)}function eH(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Tc(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function nH(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ti{constructor(t,e){this.comparator=t,this.root=e||Or.EMPTY}insert(t,e){return new ti(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Or.BLACK,null,null))}remove(t){return new ti(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Or.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ux(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ux(this.root,t,this.comparator,!1)}getReverseIterator(){return new ux(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ux(this.root,t,this.comparator,!0)}}class ux{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Or{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Or.RED,this.left=r??Or.EMPTY,this.right=o??Or.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Or(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Or.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Or.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Or.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw We();const t=this.left.check();if(t!==this.right.check())throw We();return t+(this.isRed()?0:1)}}Or.EMPTY=null,Or.RED=!0,Or.BLACK=!1,Or.EMPTY=new class{constructor(){this.size=0}get key(){throw We()}get value(){throw We()}get color(){throw We()}get left(){throw We()}get right(){throw We()}copy(t,e,i,r,o){return this}insert(t,e,i){return new Or(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class On{constructor(t){this.comparator=t,this.data=new ti(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new iH(this.data.getIterator())}getIteratorFrom(t){return new iH(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof On)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new On(this.comparator);return e.data=t,e}}class iH{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function qf(n){return n.hasNext()?n.getNext():void 0}class Fo{constructor(t){this.fields=t,t.sort(ui.comparator)}static empty(){return new Fo([])}unionWith(t){let e=new On(ui.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Fo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return $f(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class rH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Li{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new rH("Invalid base64 string: "+o):o}}(t);return new Li(e)}static fromUint8Array(t){const e=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new Li(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Et(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Li.EMPTY_BYTE_STRING=new Li("");const tde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wl(n){if(Xe(!!n),"string"==typeof n){let t=0;const e=tde.exec(n);if(Xe(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:xi(n.seconds),nanos:xi(n.nanos)}}function xi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function xl(n){return"string"==typeof n?Li.fromBase64String(n):Li.fromUint8Array(n)}function hx(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function fx(n){const t=n.mapValue.fields.__previous_value__;return hx(t)?fx(t):t}function E_(n){const t=wl(n.mapValue.fields.__local_write_time__.timestampValue);return new wi(t.seconds,t.nanos)}class nde{constructor(t,e,i,r,o,s,a,l,c){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Sc{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Sc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Sc&&t.projectId===this.projectId&&t.database===this.database}}const Dc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},mx={nullValue:"NULL_VALUE"};function kc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hx(n)?4:cH(n)?9007199254740991:_x(n)?10:11:We()}function Oa(n,t){if(n===t)return!0;const e=kc(n);if(e!==kc(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return E_(n).isEqual(E_(t));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=wl(r.timestampValue),a=wl(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return o=t,xl(n.bytesValue).isEqual(xl(o.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return xi(r.geoPointValue.latitude)===xi(o.geoPointValue.latitude)&&xi(r.geoPointValue.longitude)===xi(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return xi(r.integerValue)===xi(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=xi(r.doubleValue),a=xi(o.doubleValue);return s===a?x_(s)===x_(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return $f(n.arrayValue.values||[],t.arrayValue.values||[],Oa);case 10:case 11:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(eH(s)!==eH(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!Oa(s[l],a[l])))return!1;return!0}(n,t);default:return We()}var o}function I_(n,t){return void 0!==(n.values||[]).find(e=>Oa(e,t))}function Mc(n,t){if(n===t)return 0;const e=kc(n),i=kc(t);if(e!==i)return Et(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Et(n.booleanValue,t.booleanValue);case 2:return function(o,s){const a=xi(o.integerValue||o.doubleValue),l=xi(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return oH(n.timestampValue,t.timestampValue);case 4:return oH(E_(n),E_(t));case 5:return Et(n.stringValue,t.stringValue);case 6:return function(o,s){const a=xl(o),l=xl(s);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Et(a[c],l[c]);if(0!==d)return d}return Et(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,s){const a=Et(xi(o.latitude),xi(s.latitude));return 0!==a?a:Et(xi(o.longitude),xi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return sH(n.arrayValue,t.arrayValue);case 10:return function(o,s){var a,l,c,d;const v=null===(a=(o.fields||{}).value)||void 0===a?void 0:a.arrayValue,b=null===(l=(s.fields||{}).value)||void 0===l?void 0:l.arrayValue,w=Et((null===(c=v?.values)||void 0===c?void 0:c.length)||0,(null===(d=b?.values)||void 0===d?void 0:d.length)||0);return 0!==w?w:sH(v,b)}(n.mapValue,t.mapValue);case 11:return function(o,s){if(o===Dc.mapValue&&s===Dc.mapValue)return 0;if(o===Dc.mapValue)return 1;if(s===Dc.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=Et(l[h],d[h]);if(0!==p)return p;const v=Mc(a[l[h]],c[d[h]]);if(0!==v)return v}return Et(l.length,d.length)}(n.mapValue,t.mapValue);default:throw We()}}function oH(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Et(n,t);const e=wl(n),i=wl(t),r=Et(e.seconds,i.seconds);return 0!==r?r:Et(e.nanos,i.nanos)}function sH(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Mc(e[r],i[r]);if(o)return o}return Et(e.length,i.length)}function Kf(n){return BD(n)}function BD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=wl(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?xl(n.bytesValue).toBase64():"referenceValue"in n?Ue.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=BD(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${BD(e.fields[s])}`;return r+"}"}(n.mapValue):We()}function hu(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function UD(n){return!!n&&"integerValue"in n}function C_(n){return!!n&&"arrayValue"in n}function aH(n){return!!n&&"nullValue"in n}function lH(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gx(n){return!!n&&"mapValue"in n}function _x(n){var t,e;return"__vector__"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function A_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Tc(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=A_(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=A_(n.arrayValue.values[e]);return t}return Object.assign({},n)}function cH(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}const dH={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function ide(n){return"nullValue"in n?mx:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?hu(Sc.empty(),Ue.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?_x(n)?dH:{mapValue:{}}:We()}function rde(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?hu(Sc.empty(),Ue.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?dH:"mapValue"in n?_x(n)?{mapValue:{}}:Dc:We()}function uH(n,t){const e=Mc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function hH(n,t){const e=Mc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Nr{constructor(t){this.value=t}static empty(){return new Nr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!gx(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=A_(e)}setAll(t){let e=ui.emptyPath(),i={},r=[];t.forEach((s,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}s?i[a.lastSegment()]=A_(s):r.push(a.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());gx(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Oa(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];gx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Tc(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Nr(A_(this.value))}}function fH(n){const t=[];return Tc(n.fields,(e,i)=>{const r=new ui([e]);if(gx(i)){const o=fH(i.mapValue).fields;if(0===o.length)t.push(r);else for(const s of o)t.push(r.child(s))}else t.push(r)}),new Fo(t)}class hi{constructor(t,e,i,r,o,s,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new hi(t,0,et.min(),et.min(),et.min(),Nr.empty(),0)}static newFoundDocument(t,e,i,r){return new hi(t,1,e,et.min(),i,r,0)}static newNoDocument(t,e){return new hi(t,2,e,et.min(),et.min(),Nr.empty(),0)}static newUnknownDocument(t,e){return new hi(t,3,e,et.min(),et.min(),Nr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(et.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof hi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new hi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rc{constructor(t,e){this.position=t,this.inclusive=e}}function mH(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],s=n.position[r];if(i=o.field.isKeyField()?Ue.comparator(Ue.fromName(s.referenceValue),e.key):Mc(s,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function pH(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Oa(n.position[e],t.position[e]))return!1;return!0}class T_{constructor(t,e="asc"){this.field=t,this.dir=e}}function ode(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class gH{}class sn extends gH{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new sde(t,e,i):"array-contains"===e?new cde(t,i):"in"===e?new xH(t,i):"not-in"===e?new dde(t,i):"array-contains-any"===e?new ude(t,i):new sn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new ade(t,i):new lde(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Mc(e,this.value)):null!==e&&kc(this.value)===kc(e)&&this.matchesComparison(Mc(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return We()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tn extends gH{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Tn(t,e)}matches(t){return Yf(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Yf(n){return"and"===n.op}function zD(n){return"or"===n.op}function jD(n){return _H(n)&&Yf(n)}function _H(n){for(const t of n.filters)if(t instanceof Tn)return!1;return!0}function HD(n){if(n instanceof sn)return n.field.canonicalString()+n.op.toString()+Kf(n.value);if(jD(n))return n.filters.map(t=>HD(t)).join(",");{const t=n.filters.map(e=>HD(e)).join(",");return`${n.op}(${t})`}}function vH(n,t){return n instanceof sn?(i=n,(r=t)instanceof sn&&i.op===r.op&&i.field.isEqual(r.field)&&Oa(i.value,r.value)):n instanceof Tn?function(i,r){return r instanceof Tn&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&vH(s,r.filters[a]),!0)}(n,t):void We();var i,r}function bH(n,t){const e=n.filters.concat(t);return Tn.create(e,n.op)}function yH(n){return n instanceof sn?`${(e=n).field.canonicalString()} ${e.op} ${Kf(e.value)}`:n instanceof Tn?function(e){return e.op.toString()+" {"+e.getFilters().map(yH).join(" ,")+"}"}(n):"Filter";var e}class sde extends sn{constructor(t,e,i){super(t,e,i),this.key=Ue.fromName(i.referenceValue)}matches(t){const e=Ue.comparator(t.key,this.key);return this.matchesComparison(e)}}class ade extends sn{constructor(t,e){super(t,"in",e),this.keys=wH(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class lde extends sn{constructor(t,e){super(t,"not-in",e),this.keys=wH(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function wH(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Ue.fromName(i.referenceValue))}class cde extends sn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return C_(e)&&I_(e.arrayValue,this.value)}}class xH extends sn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&I_(this.value.arrayValue,e)}}class dde extends sn{constructor(t,e){super(t,"not-in",e)}matches(t){if(I_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!I_(this.value.arrayValue,e)}}class ude extends sn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!C_(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>I_(this.value.arrayValue,i))}}class hde{constructor(t,e=null,i=[],r=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function $D(n,t=null,e=[],i=[],r=null,o=null,s=null){return new hde(n,t,e,i,r,o,s)}function fu(n){const t=Oe(n);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>HD(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),w_(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Kf(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Kf(i)).join(",")),t.ue=e}return t.ue}function S_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!ode(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!vH(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!pH(n.startAt,t.startAt)&&pH(n.endAt,t.endAt)}function vx(n){return Ue.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function bx(n,t){return n.filters.filter(e=>e instanceof sn&&e.field.isEqual(t))}function EH(n,t,e){let i=mx,r=!0;for(const o of bx(n,t)){let s=mx,a=!0;switch(o.op){case"<":case"<=":s=ide(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=mx}uH({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];uH({value:i,inclusive:r},{value:s,inclusive:e.inclusive})<0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}function IH(n,t,e){let i=Dc,r=!0;for(const o of bx(n,t)){let s=Dc,a=!0;switch(o.op){case">=":case">":s=rde(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Dc}hH({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];hH({value:i,inclusive:r},{value:s,inclusive:e.inclusive})>0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}class El{constructor(t,e=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null}}function CH(n,t,e,i,r,o,s,a){return new El(n,t,e,i,r,o,s,a)}function Qf(n){return new El(n)}function AH(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function WD(n){return null!==n.collectionGroup}function Xf(n){const t=Oe(n);if(null===t.ce){t.ce=[];const e=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new On(ui.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.ce.push(new T_(o,i))}),e.has(ui.keyField().canonicalString())||t.ce.push(new T_(ui.keyField(),i))}return t.ce}function Jr(n){const t=Oe(n);return t.le||(t.le=function SH(n,t){if("F"===n.limitType)return $D(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new T_(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new Rc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Rc(n.startAt.position,n.startAt.inclusive):null;return $D(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,Xf(n))),t.le}function GD(n,t){const e=n.filters.concat([t]);return new El(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function yx(n,t,e){return new El(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function D_(n,t){return S_(Jr(n),Jr(t))&&n.limitType===t.limitType}function DH(n){return`${fu(Jr(n))}|lt:${n.limitType}`}function Zf(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>yH(r)).join(", ")}]`),w_(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Kf(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Kf(r)).join(",")),`Target(${i})`}(Jr(n))}; limitType=${n.limitType})`}function k_(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ue.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of Xf(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(s,a,l){const c=mH(s,a,l);return s.inclusive?c<=0:c<0}(i.startAt,Xf(i),r)||i.endAt&&!function(s,a,l){const c=mH(s,a,l);return s.inclusive?c>=0:c>0}(i.endAt,Xf(i),r)));var i,r}function kH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function MH(n){return(t,e)=>{let i=!1;for(const r of Xf(n)){const o=fde(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function fde(n,t,e){const i=n.field.isKeyField()?Ue.comparator(t.key,e.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return null!==l&&null!==c?Mc(l,c):We()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return We()}}class Il{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Tc(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return nH(this.inner)}size(){return this.innerSize}}const mde=new ti(Ue.comparator);function Lo(){return mde}const RH=new ti(Ue.comparator);function M_(...n){let t=RH;for(const e of n)t=t.insert(e.key,e);return t}function PH(n){let t=RH;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Na(){return R_()}function OH(){return R_()}function R_(){return new Il(n=>n.toString(),(n,t)=>n.isEqual(t))}const pde=new ti(Ue.comparator),gde=new On(Ue.comparator);function Nt(...n){let t=gde;for(const e of n)t=t.add(e);return t}const _de=new On(Et);function qD(){return _de}function KD(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:x_(t)?"-0":t}}function NH(n){return{integerValue:""+n}}function FH(n,t){return q4(t)?NH(t):KD(n,t)}class wx{constructor(){this._=void 0}}function vde(n,t,e){return n instanceof Jf?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&hx(o)&&(o=fx(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(e,t):n instanceof mu?VH(n,t):n instanceof pu?BH(n,t):function(r,o){const s=LH(r,o),a=UH(s)+UH(r.Pe);return UD(s)&&UD(r.Pe)?NH(a):KD(r.serializer,a)}(n,t)}function bde(n,t,e){return n instanceof mu?VH(n,t):n instanceof pu?BH(n,t):e}function LH(n,t){return n instanceof em?UD(i=t)||(o=i)&&"doubleValue"in o?t:{integerValue:0}:null;var i,o}class Jf extends wx{}class mu extends wx{constructor(t){super(),this.elements=t}}function VH(n,t){const e=zH(t);for(const i of n.elements)e.some(r=>Oa(r,i))||e.push(i);return{arrayValue:{values:e}}}class pu extends wx{constructor(t){super(),this.elements=t}}function BH(n,t){let e=zH(t);for(const i of n.elements)e=e.filter(r=>!Oa(r,i));return{arrayValue:{values:e}}}class em extends wx{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function UH(n){return xi(n.integerValue||n.doubleValue)}function zH(n){return C_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class P_{constructor(t,e){this.field=t,this.transform=e}}class wde{constructor(t,e){this.version=t,this.transformResults=e}}class Ei{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ei}static exists(t){return new Ei(void 0,t)}static updateTime(t){return new Ei(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xx(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Ex{}function jH(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new nm(n.key,Ei.none()):new tm(n.key,n.data,Ei.none());{const e=n.data,i=Nr.empty();let r=new On(ui.comparator);for(let o of t.fields)if(!r.has(o)){let s=e.field(o);null===s&&o.length>1&&(o=o.popLast(),s=e.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new Cl(n.key,i,new Fo(r.toArray()),Ei.none())}}function xde(n,t,e){n instanceof tm?function(r,o,s){const a=r.value.clone(),l=WH(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):n instanceof Cl?function(r,o,s){if(!xx(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=WH(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll($H(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function O_(n,t,e,i){return n instanceof tm?function(o,s,a,l){if(!xx(o.precondition,s))return a;const c=o.value.clone(),d=GH(o.fieldTransforms,l,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,t,e,i):n instanceof Cl?function(o,s,a,l){if(!xx(o.precondition,s))return a;const c=GH(o.fieldTransforms,l,s),d=s.data;return d.setAll($H(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(n,t,e,i):(a=e,xx(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Ede(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=LH(i.transform,r||null);null!=o&&(null===e&&(e=Nr.empty()),e.set(i.field,o))}return e||null}function HH(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&$f(i,r,(o,s)=>function yde(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof mu&&r instanceof mu||i instanceof pu&&r instanceof pu?$f(i.elements,r.elements,Oa):i instanceof em&&r instanceof em?Oa(i.Pe,r.Pe):i instanceof Jf&&r instanceof Jf);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class tm extends Ex{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Cl extends Ex{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $H(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function WH(n,t,e){const i=new Map;Xe(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],s=o.transform,a=t.data.field(o.field);i.set(o.field,bde(s,a,e[r]))}return i}function GH(n,t,e){const i=new Map;for(const r of n){const o=r.transform,s=e.data.field(r.field);i.set(r.field,vde(o,s,t))}return i}class nm extends Ex{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YD extends Ex{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QD{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&xde(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=O_(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=O_(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=OH();return this.mutations.forEach(r=>{const o=t.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=e.has(r.key)?null:a;const l=jH(s,a);null!==l&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(et.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Nt())}isEqual(t){return this.batchId===t.batchId&&$f(this.mutations,t.mutations,(e,i)=>HH(e,i))&&$f(this.baseMutations,t.baseMutations,(e,i)=>HH(e,i))}}class XD{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Xe(t.mutations.length===i.length);let r=pde;const o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new XD(t,e,i,r)}}class ZD{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ide{constructor(t,e){this.count=t,this.unchangedNames=e}}var tr,cn;function KH(n){switch(n){default:return We();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function YH(n){if(void 0===n)return Ki("GRPC error has no .code"),ae.UNKNOWN;switch(n){case tr.OK:return ae.OK;case tr.CANCELLED:return ae.CANCELLED;case tr.UNKNOWN:return ae.UNKNOWN;case tr.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case tr.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case tr.INTERNAL:return ae.INTERNAL;case tr.UNAVAILABLE:return ae.UNAVAILABLE;case tr.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case tr.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case tr.NOT_FOUND:return ae.NOT_FOUND;case tr.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case tr.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case tr.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case tr.ABORTED:return ae.ABORTED;case tr.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case tr.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case tr.DATA_LOSS:return ae.DATA_LOSS;default:return We()}}(cn=tr||(tr={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";function QH(){return new TextEncoder}const Cde=new lu([4294967295,4294967295],0);function XH(n){const t=QH().encode(n),e=new k4;return e.update(t),new Uint8Array(e.digest())}function ZH(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new lu([e,i],0),new lu([r,o],0)]}class JD{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new N_(`Invalid padding: ${e}`);if(i<0)throw new N_(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new N_(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new N_(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=lu.fromNumber(this.Ie)}Ee(t,e,i){let r=t.add(e.multiply(lu.fromNumber(i)));return 1===r.compare(Cde)&&(r=new lu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=XH(t),[i,r]=ZH(e);for(let o=0;o<this.hashCount;o++){const s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new JD(o,r,e);return i.forEach(a=>s.insert(a)),s}insert(t){if(0===this.Ie)return;const e=XH(t),[i,r]=ZH(e);for(let o=0;o<this.hashCount;o++){const s=this.Ee(i,r,o);this.Ae(s)}}Ae(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class N_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class F_{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,L_.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new F_(et.min(),r,new ti(Et),Lo(),Nt())}}class L_{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new L_(i,e,Nt(),Nt(),Nt())}}class Cx{constructor(t,e,i,r){this.Re=t,this.removedTargetIds=e,this.key=i,this.Ve=r}}class JH{constructor(t,e){this.targetId=t,this.me=e}}class e3{constructor(t,e,i=Li.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class t3{constructor(){this.fe=0,this.ge=i3(),this.pe=Li.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Nt(),e=Nt(),i=Nt();return this.ge.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:We()}}),new L_(this.pe,this.ye,t,e,i)}Ce(){this.we=!1,this.ge=i3()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ade{constructor(t){this.Le=t,this.Be=new Map,this.ke=Lo(),this.qe=n3(),this.Qe=new ti(Et)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const i=this.Ge(e);switch(t.state){case 0:this.ze(e)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),i.De(t.resumeToken));break;default:We()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((i,r)=>{this.ze(r)&&e(r)})}He(t){const e=t.targetId,i=t.me.count,r=this.Je(e);if(r){const o=r.target;if(vx(o))if(0===i){const s=new Ue(o.path);this.Ue(e,s,hi.newNoDocument(s,et.min()))}else Xe(1===i);else{const s=this.Ye(e);if(s!==i){const a=this.Ze(t),l=a?this.Xe(a,t,s):1;0!==l&&(this.je(e),this.Qe=this.Qe.insert(e,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let s,a;try{s=xl(i).toUint8Array()}catch(l){if(l instanceof rH)return os("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new JD(s,r,o)}catch(l){return os(l instanceof N_?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Ie?null:a}Xe(t,e,i){return e.me.count===i-this.nt(t,e.targetId)?0:2}nt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.Ue(e,o,null),r++)}),r}rt(t){const e=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&vx(a.target)){const l=new Ue(a.target.path);null!==this.ke.get(l)||this.it(s,l)||this.Ue(s,l,hi.newNoDocument(l,t))}o.be&&(e.set(s,o.ve()),o.Ce())}});let i=Nt();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Je(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(t));const r=new F_(t,e,this.Qe,this.ke,i);return this.ke=Lo(),this.qe=n3(),this.Qe=new ti(Et),r}$e(t,e){if(!this.ze(t))return;const i=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,i),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,i){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,e)?r.Fe(e,1):r.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),i&&(this.ke=this.ke.insert(e,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new t3,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new On(Et),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||xe("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new t3),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function n3(){return new ti(Ue.comparator)}function i3(){return new ti(Ue.comparator)}const Tde={asc:"ASCENDING",desc:"DESCENDING"},Sde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dde={and:"AND",or:"OR"};class kde{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function ek(n,t){return n.useProto3Json||w_(t)?t:{value:t}}function im(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function r3(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Mde(n,t){return im(n,t.toTimestamp())}function Yi(n){return Xe(!!n),et.fromTimestamp(function(e){const i=wl(e);return new wi(i.seconds,i.nanos)}(n))}function tk(n,t){return nk(n,t).canonicalString()}function nk(n,t){const e=(r=n,new on(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?e:e.child(t)}function o3(n){const t=on.fromString(n);return Xe(g3(t)),t}function V_(n,t){return tk(n.databaseId,t.path)}function Fa(n,t){const e=o3(t);if(e.get(1)!==n.databaseId.projectId)throw new we(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new we(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ue(l3(e))}function s3(n,t){return tk(n.databaseId,t)}function a3(n){const t=o3(n);return 4===t.length?on.emptyPath():l3(t)}function ik(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function l3(n){return Xe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function c3(n,t,e){return{name:V_(n,t),fields:e.value.mapValue.fields}}function d3(n,t,e){const i=Fa(n,t.name),r=Yi(t.updateTime),o=t.createTime?Yi(t.createTime):et.min(),s=new Nr({mapValue:{fields:t.fields}}),a=hi.newFoundDocument(i,r,o,s);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function B_(n,t){let e;if(t instanceof tm)e={update:c3(n,t.key,t.value)};else if(t instanceof nm)e={delete:V_(n,t.key)};else if(t instanceof Cl)e={update:c3(n,t.key,t.data),updateMask:Bde(t.fieldMask)};else{if(!(t instanceof YD))return We();e={verify:V_(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof Jf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof mu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof pu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof em)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw We()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:Mde(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:We()),e;var o}function rk(n,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?Ei.updateTime(Yi(o.updateTime)):void 0!==o.exists?Ei.exists(o.exists):Ei.none():Ei.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let l=null;"setToServerValue"in a?(Xe("REQUEST_TIME"===a.setToServerValue),l=new Jf):"appendMissingElements"in a?l=new mu(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new pu(a.removeAllFromArray.values||[]):"increment"in a?l=new em(s,a.increment):We();const c=ui.fromServerFormat(a.fieldPath);return new P_(c,l)}(n,r)):[];var o;if(t.update){const r=Fa(n,t.update.name),o=new Nr({mapValue:{fields:t.update.fields}});if(t.updateMask){const s=new Fo((t.updateMask.fieldPaths||[]).map(d=>ui.fromServerFormat(d)));return new Cl(r,o,s,e,i)}return new tm(r,o,e,i)}if(t.delete){const r=Fa(n,t.delete);return new nm(r,e)}if(t.verify){const r=Fa(n,t.verify);return new YD(r,e)}return We()}function u3(n,t){return{documents:[s3(n,t.path)]}}function Ax(n,t){const e={structuredQuery:{}},i=t.path;let r;null!==t.collectionGroup?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=s3(n,r);const o=function(c){if(0!==c.length)return p3(Tn.create(c,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const s=function(c){if(0!==c.length)return c.map(d=>{return{field:Pc((p=d).field),direction:Fde(p.dir)};var p})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const a=ek(n,t.limit);return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(c=t.startAt).inclusive,values:c.position}),t.endAt&&(e.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{_t:e,parent:r};var c}function f3(n){let t=a3(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Xe(1===i);const d=e.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let o=[];e.where&&(o=function(h){const p=m3(h);return p instanceof Tn&&jD(p)?p.getFilters():[p]}(e.where));let s=[];e.orderBy&&(s=e.orderBy.map(p=>{return new T_(rm((b=p).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;e.limit&&(a=function(h){let p;return p="object"==typeof h?h.value:h,w_(p)?null:p}(e.limit));let l=null;var h;e.startAt&&(l=new Rc((h=e.startAt).values||[],!!h.before));let c=null;return e.endAt&&(c=function(h){return new Rc(h.values||[],!h.before)}(e.endAt)),CH(t,r,s,o,a,"F",l,c)}function m3(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=rm(e.unaryFilter.field);return sn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=rm(e.unaryFilter.field);return sn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=rm(e.unaryFilter.field);return sn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=rm(e.unaryFilter.field);return sn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return We()}}(n):void 0!==n.fieldFilter?sn.create(rm((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return We()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Tn.create(e.compositeFilter.filters.map(i=>m3(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return We()}}(e.compositeFilter.op))}(n):We();var e}function Fde(n){return Tde[n]}function Lde(n){return Sde[n]}function Vde(n){return Dde[n]}function Pc(n){return{fieldPath:n.canonicalString()}}function rm(n){return ui.fromServerFormat(n.fieldPath)}function p3(n){return n instanceof sn?function(e){if("=="===e.op){if(lH(e.value))return{unaryFilter:{field:Pc(e.field),op:"IS_NAN"}};if(aH(e.value))return{unaryFilter:{field:Pc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(lH(e.value))return{unaryFilter:{field:Pc(e.field),op:"IS_NOT_NAN"}};if(aH(e.value))return{unaryFilter:{field:Pc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pc(e.field),op:Lde(e.op),value:e.value}}}(n):n instanceof Tn?function(e){const i=e.getFilters().map(r=>p3(r));return 1===i.length?i[0]:{compositeFilter:{op:Vde(e.op),filters:i}}}(n):We()}function Bde(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function g3(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Al{constructor(t,e,i,r,o=et.min(),s=et.min(),a=Li.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Al(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Al(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Al(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Al(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class _3{constructor(t){this.ct=t}}function v3(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Tx(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:V_(o=n.ct,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:im(o,s.version.toTimestamp()),createTime:im(o,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:gu(t.version)};else{if(!t.isUnknownDocument())return We();i.unknownDocument={path:e.path.toArray(),version:gu(t.version)}}var o,s;return i}function Tx(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function gu(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function _u(n){const t=new wi(n.seconds,n.nanoseconds);return et.fromTimestamp(t)}function vu(n,t){const e=(t.baseMutations||[]).map(o=>rk(n.ct,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>rk(n.ct,o)),r=wi.fromMillis(t.localWriteTimeMs);return new QD(t.batchId,r,e,i)}function U_(n){const t=_u(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?_u(n.lastLimboFreeSnapshotVersion):et.min();let i;return i=void 0!==n.query.documents?(Xe(1===(o=n.query).documents.length),Jr(Qf(a3(o.documents[0])))):function(o){return Jr(f3(o))}(n.query),new Al(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Li.fromBase64String(n.resumeToken));var o}function b3(n,t){const e=gu(t.snapshotVersion),i=gu(t.lastLimboFreeSnapshotVersion);let r;r=vx(t.target)?u3(n.ct,t.target):Ax(n.ct,t.target)._t;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:fu(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function ok(n){const t=f3({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?yx(t,t.limit,"L"):t}function sk(n,t){return new ZD(t.largestBatchId,rk(n.ct,t.overlayMutation))}function y3(n,t){const e=t.path.lastSegment();return[n,Zr(t.path.popLast()),e]}function w3(n,t,e,i){return{indexId:n,uid:t,sequenceNumber:e,readTime:gu(i.readTime),documentKey:Zr(i.documentKey.path),largestBatchId:i.largestBatchId}}class zde{getBundleMetadata(t,e){return x3(t).get(e).next(i=>{if(i)return{id:(o=i).bundleId,createTime:_u(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return x3(t).put({bundleId:(r=e).id,createTime:gu(Yi(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return E3(t).get(e).next(i=>{if(i)return{name:(o=i).name,query:ok(o.bundledQuery),readTime:_u(o.readTime)};var o})}saveNamedQuery(t,e){return E3(t).put({name:(r=e).name,readTime:gu(Yi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function x3(n){return fr(n,"bundles")}function E3(n){return fr(n,"namedQueries")}class Sx{constructor(t,e){this.serializer=t,this.userId=e}static lt(t,e){return new Sx(t,e.uid||"")}getOverlay(t,e){return z_(t).get(y3(this.userId,e)).next(i=>i?sk(this.serializer,i):null)}getOverlays(t,e){const i=Na();return ne.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,s)=>{const a=new ZD(e,s);r.push(this.ht(t,a))}),ne.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(s=>r.add(Zr(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(z_(t).j("collectionPathOverlayIndex",a))}),ne.waitFor(o)}getOverlaysForCollection(t,e,i){const r=Na(),o=Zr(e),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return z_(t).U("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const c=sk(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=Na();let s;const a=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return z_(t).J({index:"collectionGroupOverlayIndex",range:a},(l,c,d)=>{const h=sk(this.serializer,c);o.size()<r||h.largestBatchId===s?(o.set(h.getKey(),h),s=h.largestBatchId):d.done()}).next(()=>o)}ht(t,e){return z_(t).put(function(r,o,s){const[a,l,c]=y3(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:B_(r.ct,s.mutation)}}(this.serializer,this.userId,e))}}function z_(n){return fr(n,"documentOverlays")}class jde{Pt(t){return fr(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(e=>{const i=e?.value;return i?Li.fromUint8Array(i):Li.EMPTY_BYTE_STRING})}setSessionToken(t,e){return this.Pt(t).put({name:"sessionToken",value:e.toUint8Array()})}}class bu{constructor(){}It(t,e){this.Tt(t,e),e.Et()}Tt(t,e){if("nullValue"in t)this.dt(e,5);else if("booleanValue"in t)this.dt(e,10),e.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(e,15),e.At(xi(t.integerValue));else if("doubleValue"in t){const i=xi(t.doubleValue);isNaN(i)?this.dt(e,13):(this.dt(e,15),x_(i)?e.At(0):e.At(i))}else if("timestampValue"in t){let i=t.timestampValue;this.dt(e,20),"string"==typeof i&&(i=wl(i)),e.Rt(`${i.seconds||""}`),e.At(i.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,e),this.ft(e);else if("bytesValue"in t)this.dt(e,30),e.gt(xl(t.bytesValue)),this.ft(e);else if("referenceValue"in t)this.yt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.dt(e,45),e.At(i.latitude||0),e.At(i.longitude||0)}else"mapValue"in t?cH(t)?this.dt(e,Number.MAX_SAFE_INTEGER):_x(t)?this.wt(t.mapValue,e):(this.St(t.mapValue,e),this.ft(e)):"arrayValue"in t?(this.bt(t.arrayValue,e),this.ft(e)):We()}Vt(t,e){this.dt(e,25),this.Dt(t,e)}Dt(t,e){e.Rt(t)}St(t,e){const i=t.fields||{};this.dt(e,55);for(const r of Object.keys(i))this.Vt(r,e),this.Tt(i[r],e)}wt(t,e){var i,r;const o=t.fields||{};this.dt(e,53);const s="value",a=(null===(r=null===(i=o[s].arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.length)||0;this.dt(e,15),e.At(xi(a)),this.Vt(s,e),this.Tt(o[s],e)}bt(t,e){const i=t.values||[];this.dt(e,50);for(const r of i)this.Tt(r,e)}yt(t,e){this.dt(e,37),Ue.fromName(t).path.forEach(i=>{this.dt(e,60),this.Dt(i,e)})}dt(t,e){t.At(e)}ft(t){t.At(2)}}function Hde(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function I3(n){const t=64-function(i){let r=0;for(let o=0;o<8;++o){const s=Hde(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(t/8)}bu.vt=new bu;class $de{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ft(i.value),i=e.next();this.Mt()}xt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ot(i.value),i=e.next();this.Nt()}Lt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=e.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Bt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{const r=e.codePointAt(0);this.Ot(240|r>>>18),this.Ot(128|63&r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r)}}this.Nt()}kt(t){const e=this.qt(t),i=I3(e);this.Qt(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Kt(t){const e=this.qt(t),i=I3(e);this.Qt(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const e=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ft(t){const e=255&t;0===e?(this.Ut(0),this.Ut(255)):255===e?(this.Ut(255),this.Ut(0)):this.Ut(e)}Ot(t){const e=255&t;0===e?(this.Gt(0),this.Gt(255)):255===e?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Wde{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class Gde{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class j_{constructor(){this.jt=new $de,this.Ht=new Wde(this.jt),this.Jt=new Gde(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return 0===t?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class yu{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Zt(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new yu(this.indexId,this.documentKey,this.arrayValue,i)}}function Oc(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=C3(n.arrayValue,t.arrayValue),0!==e?e:(e=C3(n.directionalValue,t.directionalValue),0!==e?e:Ue.comparator(n.documentKey,t.documentKey)))}function C3(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class A3{constructor(t){this.Xt=new On((e,i)=>ui.comparator(e.field,i.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const e of t.filters){const i=e;i.isInequality()?this.Xt=this.Xt.add(i):this.tn.push(i)}}get nn(){return this.Xt.size>1}rn(t){if(Xe(t.collectionGroup===this.collectionId),this.nn)return!1;const e=PD(t);if(void 0!==e&&!this.sn(e))return!1;const i=cu(t);let r=new Set,o=0,s=0;for(;o<i.length&&this.sn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const l=i[o];if(!this.on(a,l)||!this._n(this.en[s++],l))return!1}++o}for(;o<i.length;++o)if(s>=this.en.length||!this._n(this.en[s++],i[o]))return!1;return!0}an(){if(this.nn)return null;let t=new On(ui.comparator);const e=[];for(const i of this.tn)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)e.push(new du(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new du(i.field,0))}for(const i of this.en)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new du(i.field,"asc"===i.dir?0:1)));return new Wf(Wf.UNKNOWN_ID,this.collectionId,e,Gf.empty())}sn(t){for(const e of this.tn)if(this.on(e,t))return!0;return!1}on(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}_n(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function T3(n){var t,e;if(Xe(n instanceof sn||n instanceof Tn),n instanceof sn){if(n instanceof xH){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>sn.create(n.field,"==",o)))||[];return Tn.create(r,"or")}return n}const i=n.filters.map(r=>T3(r));return Tn.create(i,n.op)}function qde(n){if(0===n.getFilters().length)return[];const t=ck(T3(n));return Xe(S3(t)),ak(t)||lk(t)?[t]:t.getFilters()}function ak(n){return n instanceof sn}function lk(n){return n instanceof Tn&&jD(n)}function S3(n){return ak(n)||lk(n)||function(e){if(e instanceof Tn&&zD(e)){for(const i of e.getFilters())if(!ak(i)&&!lk(i))return!1;return!0}return!1}(n)}function ck(n){if(Xe(n instanceof sn||n instanceof Tn),n instanceof sn)return n;if(1===n.filters.length)return ck(n.filters[0]);const t=n.filters.map(i=>ck(i));let e=Tn.create(t,n.op);return e=Dx(e),S3(e)?e:(Xe(e instanceof Tn),Xe(Yf(e)),Xe(e.filters.length>1),e.filters.reduce((i,r)=>dk(i,r)))}function dk(n,t){let e;return Xe(n instanceof sn||n instanceof Tn),Xe(t instanceof sn||t instanceof Tn),e=n instanceof sn?t instanceof sn?Tn.create([n,t],"and"):D3(n,t):t instanceof sn?D3(t,n):function(r,o){if(Xe(r.filters.length>0&&o.filters.length>0),Yf(r)&&Yf(o))return bH(r,o.getFilters());const s=zD(r)?r:o,a=zD(r)?o:r,l=s.filters.map(c=>dk(c,a));return Tn.create(l,"or")}(n,t),Dx(e)}function D3(n,t){if(Yf(t))return bH(t,n.getFilters());{const e=t.filters.map(i=>dk(n,i));return Tn.create(e,"or")}}function Dx(n){if(Xe(n instanceof sn||n instanceof Tn),n instanceof sn)return n;const t=n.getFilters();if(1===t.length)return Dx(t[0]);if(_H(n))return n;const e=t.map(r=>Dx(r)),i=[];return e.forEach(r=>{r instanceof sn?i.push(r):r instanceof Tn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Tn.create(i,n.op)}class Kde{constructor(){this.un=new uk}addToCollectionParentIndex(t,e){return this.un.add(e),ne.resolve()}getCollectionParents(t,e){return ne.resolve(this.un.getEntries(e))}addFieldIndex(t,e){return ne.resolve()}deleteFieldIndex(t,e){return ne.resolve()}deleteAllFieldIndexes(t){return ne.resolve()}createTargetIndexes(t,e){return ne.resolve()}getDocumentsMatchingTarget(t,e){return ne.resolve(null)}getIndexType(t,e){return ne.resolve(0)}getFieldIndexes(t,e){return ne.resolve([])}getNextCollectionGroupToUpdate(t){return ne.resolve(null)}getMinOffset(t,e){return ne.resolve(ss.min())}getMinOffsetFromCollectionGroup(t,e){return ne.resolve(ss.min())}updateCollectionGroup(t,e,i){return ne.resolve()}updateIndexEntries(t,e){return ne.resolve()}}class uk{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new On(on.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new On(on.comparator)).toArray()}}const kx=new Uint8Array(0);class Yde{constructor(t,e){this.databaseId=e,this.cn=new uk,this.ln=new Il(i=>fu(i),(i,r)=>S_(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.cn.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.cn.add(e)});const o={collectionId:i,parent:Zr(r)};return k3(t).put(o)}return ne.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[U4(e),""],!1,!0);return k3(t).U(r).next(o=>{for(const s of o){if(s.collectionId!==e)break;i.push(Pa(s.parent))}return i})}addFieldIndex(t,e){const i=H_(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete r.indexId;const o=i.add(r);if(e.indexState){const s=sm(t);return o.next(a=>{s.put(w3(a,this.uid,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=H_(t),r=sm(t),o=om(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=H_(t),i=om(t),r=sm(t);return e.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(t,e){return ne.forEach(this.hn(e),i=>this.getIndexType(t,i).next(r=>{if(0===r||1===r){const o=new A3(i).an();if(null!=o)return this.addFieldIndex(t,o)}}))}getDocumentsMatchingTarget(t,e){const i=om(t);let r=!0;const o=new Map;return ne.forEach(this.hn(e),s=>this.Pn(t,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=Nt();const a=[];return ne.forEach(o,(l,c)=>{var V;xe("IndexedDbIndexManager",`Using index ${V=l,`id=${V.indexId}|cg=${V.collectionGroup}|f=${V.fields.map($=>`${$.fieldPath}:${$.kind}`).join(",")}`} to execute ${fu(e)}`);const d=function(V,$){const Q=PD($);if(void 0===Q)return null;for(const ee of bx(V,Q.fieldPath))switch(ee.op){case"array-contains-any":return ee.value.arrayValue.values||[];case"array-contains":return[ee.value]}return null}(c,l),h=function(V,$){const Q=new Map;for(const ee of cu($))for(const L of bx(V,ee.fieldPath))switch(L.op){case"==":case"in":Q.set(ee.fieldPath.canonicalString(),L.value);break;case"not-in":case"!=":return Q.set(ee.fieldPath.canonicalString(),L.value),Array.from(Q.values())}return null}(c,l),p=function(V,$){const Q=[];let ee=!0;for(const L of cu($)){const k=0===L.kind?EH(V,L.fieldPath,V.startAt):IH(V,L.fieldPath,V.startAt);Q.push(k.value),ee&&(ee=k.inclusive)}return new Rc(Q,ee)}(c,l),v=function(V,$){const Q=[];let ee=!0;for(const L of cu($)){const k=0===L.kind?IH(V,L.fieldPath,V.endAt):EH(V,L.fieldPath,V.endAt);Q.push(k.value),ee&&(ee=k.inclusive)}return new Rc(Q,ee)}(c,l),b=this.In(l,c,p),w=this.In(l,c,v),E=this.Tn(l,c,h),M=this.En(l.indexId,d,b,p.inclusive,w,v.inclusive,E);return ne.forEach(M,S=>i.G(S,e.limit).next(V=>{V.forEach($=>{const Q=Ue.fromSegments($.documentKey);s.has(Q)||(s=s.add(Q),a.push(Q))})}))}).next(()=>a)}return ne.resolve(null)})}hn(t){let e=this.ln.get(t);return e||(e=0===t.filters.length?[t]:qde(Tn.create(t.filters,"and")).map(i=>$D(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,e),e)}En(t,e,i,r,o,s,a){const l=(null!=e?e.length:1)*Math.max(i.length,o.length),c=l/(null!=e?e.length:1),d=[];for(let h=0;h<l;++h){const p=e?this.dn(e[h/c]):kx,v=this.An(t,p,i[h%c],r),b=this.Rn(t,p,o[h%c],s),w=a.map(E=>this.An(t,p,E,!0));d.push(...this.createRange(v,b,w))}return d}An(t,e,i,r){const o=new yu(t,Ue.empty(),e,i);return r?o:o.Zt()}Rn(t,e,i,r){const o=new yu(t,Ue.empty(),e,i);return r?o.Zt():o}Pn(t,e){const i=new A3(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let s=null;for(const a of o)i.rn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(t,e){let i=2;const r=this.hn(e);return ne.forEach(r,o=>this.Pn(t,o).next(s=>{s?0!==i&&s.fields.length<function(l){let c=new On(ui.comparator),d=!1;for(const h of l.filters)for(const p of h.getFlattenedFilters())p.field.isKeyField()||("array-contains"===p.op||"array-contains-any"===p.op?d=!0:c=c.add(p.field));for(const h of l.orderBy)h.field.isKeyField()||(c=c.add(h.field));return c.size+(d?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}Vn(t,e){const i=new j_;for(const r of cu(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const s=i.Yt(r.kind);bu.vt.It(o,s)}return i.zt()}dn(t){const e=new j_;return bu.vt.It(t,e.Yt(0)),e.zt()}mn(t,e){const i=new j_;return bu.vt.It(hu(this.databaseId,e),i.Yt(function(o){const s=cu(o);return 0===s.length?0:s[s.length-1].kind}(t))),i.zt()}Tn(t,e,i){if(null===i)return[];let r=[];r.push(new j_);let o=0;for(const s of cu(t)){const a=i[o++];for(const l of r)if(this.fn(e,s.fieldPath)&&C_(a))r=this.gn(r,s,a);else{const c=l.Yt(s.kind);bu.vt.It(a,c)}}return this.pn(r)}In(t,e,i){return this.Tn(t,e,i.position)}pn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].zt();return e}gn(t,e,i){const r=[...t],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const l=new j_;l.seed(a.zt()),bu.vt.It(s,l.Yt(e.kind)),o.push(l)}return o}fn(t,e){return!!t.filters.find(i=>i instanceof sn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=H_(t),r=sm(t);return(e?i.U("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.U()).next(o=>{const s=[];return ne.forEach(o,a=>r.get([a.indexId,this.uid]).next(l=>{s.push(function(d,h){const p=h?new Gf(h.sequenceNumber,new ss(_u(h.readTime),new Ue(Pa(h.documentKey)),h.largestBatchId)):Gf.empty(),v=d.fields.map(([b,w])=>new du(ui.fromServerFormat(b),w));return new Wf(d.indexId,d.collectionGroup,v,p)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Et(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=H_(t),o=sm(t);return this.yn(t).next(s=>r.U("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(a=>ne.forEach(a,l=>o.put(w3(l.indexId,this.uid,s,i)))))}updateIndexEntries(t,e){const i=new Map;return ne.forEach(e,(r,o)=>{const s=i.get(r.collectionGroup);return(s?ne.resolve(s):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),ne.forEach(a,l=>this.wn(t,r,l).next(c=>{const d=this.Sn(o,l);return c.isEqual(d)?ne.resolve():this.bn(t,o,l,c,d)}))))})}Dn(t,e,i,r){return om(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,e.key),documentKey:e.key.path.toArray()})}vn(t,e,i,r){return om(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=om(t);let o=new On(Oc);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,e)])},(s,a)=>{o=o.add(new yu(i.indexId,e,a.arrayValue,a.directionalValue))}).next(()=>o)}Sn(t,e){let i=new On(Oc);const r=this.Vn(e,t);if(null==r)return i;const o=PD(e);if(null!=o){const s=t.data.field(o.fieldPath);if(C_(s))for(const a of s.arrayValue.values||[])i=i.add(new yu(e.indexId,t.key,this.dn(a),r))}else i=i.add(new yu(e.indexId,t.key,kx,r));return i}bn(t,e,i,r,o){xe("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(l,c,d,h,p){const v=l.getIterator(),b=c.getIterator();let w=qf(v),E=qf(b);for(;w||E;){let M=!1,S=!1;if(w&&E){const V=d(w,E);V<0?S=!0:V>0&&(M=!0)}else null!=w?S=!0:M=!0;M?(h(E),E=qf(b)):S?(p(w),w=qf(v)):(w=qf(v),E=qf(b))}}(r,o,Oc,a=>{s.push(this.Dn(t,e,i,a))},a=>{s.push(this.vn(t,e,i,a))}),ne.waitFor(s)}yn(t){let e=1;return sm(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((s,a)=>Oc(s,a)).filter((s,a,l)=>!a||0!==Oc(s,l[a-1]));const r=[];r.push(t);for(const s of i){const a=Oc(s,t),l=Oc(s,e);if(0===a)r[0]=t.Zt();else if(a>0&&l<0)r.push(s),r.push(s.Zt());else if(l>0)break}r.push(e);const o=[];for(let s=0;s<r.length;s+=2){if(this.Cn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,kx,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,kx,[]]))}return o}Cn(t,e){return Oc(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(M3)}getMinOffset(t,e){return ne.mapArray(this.hn(e),i=>this.Pn(t,i).next(r=>r||We())).next(M3)}}function k3(n){return fr(n,"collectionParents")}function om(n){return fr(n,"indexEntries")}function H_(n){return fr(n,"indexConfiguration")}function sm(n){return fr(n,"indexState")}function M3(n){Xe(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;OD(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ss(t.readTime,t.documentKey,e)}const R3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class eo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new eo(t,eo.DEFAULT_COLLECTION_PERCENTILE,eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function P3(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(e.batchId);let a=0;const l=i.J({range:s},(d,h,p)=>(a++,p.delete()));o.push(l.next(()=>{Xe(1===a)}));const c=[];for(const d of e.mutations){const h=Q4(t,d.key.path,e.batchId);o.push(r.delete(h)),c.push(d.key)}return ne.waitFor(o).next(()=>c)}function Mx(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw We();t=n.noDocument}return JSON.stringify(t).length}eo.DEFAULT_COLLECTION_PERCENTILE=10,eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,eo.DEFAULT=new eo(41943040,eo.DEFAULT_COLLECTION_PERCENTILE,eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),eo.DISABLED=new eo(-1,0,0);class Rx{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Fn={}}static lt(t,e,i,r){Xe(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new Rx(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Nc(t).J({index:"userMutationsIndex",range:i},(r,o,s)=>{e=!1,s.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=am(t),s=Nc(t);return s.add({}).next(a=>{Xe("number"==typeof a);const l=new QD(a,e,i,r),c=function(v,b,w){const E=w.baseMutations.map(S=>B_(v.ct,S)),M=w.mutations.map(S=>B_(v.ct,S));return{userId:b,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:E,mutations:M}}(this.serializer,this.userId,l),d=[];let h=new On((p,v)=>Et(p.canonicalString(),v.canonicalString()));for(const p of r){const v=Q4(this.userId,p.key.path,a);h=h.add(p.key.path.popLast()),d.push(s.put(c)),d.push(o.put(v,Fce))}return h.forEach(p=>{d.push(this.indexManager.addToCollectionParentIndex(t,p))}),t.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),ne.waitFor(d).next(()=>l)})}lookupMutationBatch(t,e){return Nc(t).get(e).next(i=>i?(Xe(i.userId===this.userId),vu(this.serializer,i)):null)}Mn(t,e){return this.Fn[e]?ne.resolve(this.Fn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Fn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Nc(t).J({index:"userMutationsIndex",range:r},(s,a,l)=>{a.userId===this.userId&&(Xe(a.batchId>=i),o=vu(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Nc(t).J({index:"userMutationsIndex",range:e,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Nc(t).U("userMutationsIndex",e).next(i=>i.map(r=>vu(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=dx(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return am(t).J({range:r},(s,a,l)=>{const[c,d,h]=s,p=Pa(d);if(c===this.userId&&e.path.isEqual(p))return Nc(t).get(h).next(v=>{if(!v)throw We();Xe(v.userId===this.userId),o.push(vu(this.serializer,v))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new On(Et);const r=[];return e.forEach(o=>{const s=dx(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=am(t).J({range:a},(c,d,h)=>{const[p,v,b]=c,w=Pa(v);p===this.userId&&o.path.isEqual(w)?i=i.add(b):h.done()});r.push(l)}),ne.waitFor(r).next(()=>this.xn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=dx(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new On(Et);return am(t).J({range:s},(l,c,d)=>{const[h,p,v]=l,b=Pa(p);h===this.userId&&i.isPrefixOf(b)?b.length===r&&(a=a.add(v)):d.done()}).next(()=>this.xn(t,a))}xn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Nc(t).get(o).next(s=>{if(null===s)throw We();Xe(s.userId===this.userId),i.push(vu(this.serializer,s))}))}),ne.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return P3(t._e,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.On(e.batchId)}),ne.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ne.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return am(t).J({range:i},(o,s,a)=>{if(o[0]===this.userId){const l=Pa(o[1]);r.push(l)}else a.done()}).next(()=>{Xe(0===r.length)})})}containsKey(t,e){return O3(t,this.userId,e)}Nn(t){return N3(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function O3(n,t,e){const i=dx(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return am(n).J({range:o,H:!0},(a,l,c)=>{const[d,h,p]=a;d===t&&h===r&&(s=!0),c.done()}).next(()=>s)}function Nc(n){return fr(n,"mutations")}function am(n){return fr(n,"documentMutations")}function N3(n){return fr(n,"mutationQueues")}class wu{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new wu(0)}static kn(){return new wu(-1)}}class Qde{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.qn(t).next(e=>{const i=new wu(e.highestTargetId);return e.highestTargetId=i.next(),this.Qn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(e=>et.fromTimestamp(new wi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.qn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Qn(t,r)))}addTargetData(t,e){return this.Kn(t,e).next(()=>this.qn(t).next(i=>(i.targetCount+=1,this.$n(e,i),this.Qn(t,i))))}updateTargetData(t,e){return this.Kn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>lm(t).delete(e.targetId)).next(()=>this.qn(t)).next(i=>(Xe(i.targetCount>0),i.targetCount-=1,this.Qn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return lm(t).J((s,a)=>{const l=U_(a);l.sequenceNumber<=e&&null===i.get(l.targetId)&&(r++,o.push(this.removeTargetData(t,l)))}).next(()=>ne.waitFor(o)).next(()=>r)}forEachTarget(t,e){return lm(t).J((i,r)=>{const o=U_(r);e(o)})}qn(t){return F3(t).get("targetGlobalKey").next(e=>(Xe(null!==e),e))}Qn(t,e){return F3(t).put("targetGlobalKey",e)}Kn(t,e){return lm(t).put(b3(this.serializer,e))}$n(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.qn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=fu(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return lm(t).J({range:r,index:"queryTargetsIndex"},(s,a,l)=>{const c=U_(a);S_(e,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=Fc(t);return e.forEach(s=>{const a=Zr(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(t,i,s))}),ne.waitFor(r)}removeMatchingKeys(t,e,i){const r=Fc(t);return ne.forEach(e,o=>{const s=Zr(o.path);return ne.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Fc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Fc(t);let o=Nt();return r.J({range:i,H:!0},(s,a,l)=>{const c=Pa(s[1]),d=new Ue(c);o=o.add(d)}).next(()=>o)}containsKey(t,e){const i=Zr(e.path),r=IDBKeyRange.bound([i],[U4(i)],!1,!0);let o=0;return Fc(t).J({index:"documentTargetsIndex",H:!0,range:r},([s,a],l,c)=>{0!==s&&(o++,c.done())}).next(()=>o>0)}ot(t,e){return lm(t).get(e).next(i=>i?U_(i):null)}}function lm(n){return fr(n,"targets")}function F3(n){return fr(n,"targetGlobal")}function Fc(n){return fr(n,"targetDocuments")}function L3([n,t],[e,i]){const r=Et(n,e);return 0===r?Et(t,i):r}class Xde{constructor(t){this.Un=t,this.buffer=new On(L3),this.Wn=0}Gn(){return++this.Wn}zn(t){const e=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();L3(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class V3{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(t){var e=this;xe("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,H.A)(function*(){e.jn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Ac(i)?xe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Cc(i)}yield e.Hn(3e5)}))}}class Zde{constructor(t,e){this.Jn=t,this.params=e}calculateTargetCount(t,e){return this.Jn.Yn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ne.resolve(as.oe);const i=new Xde(e);return this.Jn.forEachTarget(t,r=>i.zn(r.sequenceNumber)).next(()=>this.Jn.Zn(t,r=>i.zn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(R3)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R3):this.Xn(t,e))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,e){let i,r,o,s,a,l,c;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,s=Date.now(),this.nthSequenceNumber(t,r))).next(h=>(i=h,a=Date.now(),this.removeTargets(t,i,e))).next(h=>(o=h,l=Date.now(),this.removeOrphanedDocuments(t,i))).next(h=>(c=Date.now(),Hf()<=Ma.$b.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-d}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(l-a)+`ms\n\tRemoved ${h} documents in `+(c-l)+`ms\nTotal Duration: ${c-d}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:h})))}}class Jde{constructor(t,e){this.db=t,this.garbageCollector=function B3(n,t){return new Zde(n,t)}(this,e)}Yn(t){const e=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}er(t){let e=0;return this.Zn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Zn(t,e){return this.tr(t,(i,r)=>e(r))}addReference(t,e,i){return Px(t,i)}removeReference(t,e,i){return Px(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Px(t,e)}nr(t,e){return function(r,o){let s=!1;return N3(r).Y(a=>O3(r,a,o).next(l=>(l&&(s=!0),ne.resolve(!l)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.tr(t,(s,a)=>{if(a<=e){const l=this.nr(t,s).next(c=>{if(!c)return o++,i.getEntry(t,s).next(()=>(i.removeEntry(s,et.min()),Fc(t).delete([0,Zr(s.path)])))});r.push(l)}}).next(()=>ne.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Px(t,e)}tr(t,e){const i=Fc(t);let r,o=as.oe;return i.J({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:c})=>{0===s?(o!==as.oe&&e(new Ue(Pa(r)),o),o=c,r=l):o=as.oe}).next(()=>{o!==as.oe&&e(new Ue(Pa(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Px(n,t){return Fc(n).put((r=n.currentSequenceNumber,{targetId:0,path:Zr(t.path),sequenceNumber:r}));var r}class U3{constructor(){this.changes=new Il(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,hi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ne.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eue{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return xu(t).put(i)}removeEntry(t,e,i){return xu(t).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Tx(s),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.rr(t,i)))}getEntry(t,e){let i=hi.newInvalidDocument(e);return xu(t).J({index:"documentKeyIndex",range:IDBKeyRange.only($_(e))},(r,o)=>{i=this.ir(e,o)}).next(()=>i)}sr(t,e){let i={size:0,document:hi.newInvalidDocument(e)};return xu(t).J({index:"documentKeyIndex",range:IDBKeyRange.only($_(e))},(r,o)=>{i={document:this.ir(e,o),size:Mx(o)}}).next(()=>i)}getEntries(t,e){let i=Lo();return this._r(t,e,(r,o)=>{const s=this.ir(r,o);i=i.insert(r,s)}).next(()=>i)}ar(t,e){let i=Lo(),r=new ti(Ue.comparator);return this._r(t,e,(o,s)=>{const a=this.ir(o,s);i=i.insert(o,a),r=r.insert(o,Mx(s))}).next(()=>({documents:i,ur:r}))}_r(t,e,i){if(e.isEmpty())return ne.resolve();let r=new On($3);e.forEach(l=>r=r.add(l));const o=IDBKeyRange.bound($_(r.first()),$_(r.last())),s=r.getIterator();let a=s.getNext();return xu(t).J({index:"documentKeyIndex",range:o},(l,c,d)=>{const h=Ue.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&$3(a,h)<0;)i(a,null),a=s.getNext();a&&a.isEqual(h)&&(i(a,c),a=s.hasNext()?s.getNext():null),a?d.$($_(a)):d.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,e,i,r,o){const s=e.path,a=[s.popLast().toArray(),s.lastSegment(),Tx(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xu(t).U(IDBKeyRange.bound(a,l,!0)).next(c=>{o?.incrementDocumentReadCount(c.length);let d=Lo();for(const h of c){const p=this.ir(Ue.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);p.isFoundDocument()&&(k_(e,p)||r.has(p.key))&&(d=d.insert(p.key,p))}return d})}getAllFromCollectionGroup(t,e,i,r){let o=Lo();const s=H3(e,i),a=H3(e,ss.max());return xu(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,c,d)=>{const h=this.ir(Ue.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(h.key,h),o.size===r&&d.done()}).next(()=>o)}newChangeBuffer(t){return new tue(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return j3(t).get("remoteDocumentGlobalKey").next(e=>(Xe(!!e),e))}rr(t,e){return j3(t).put("remoteDocumentGlobalKey",e)}ir(t,e){if(e){const i=function Ude(n,t){let e;if(t.document)e=d3(n.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Ue.fromSegments(t.noDocument.path),r=_u(t.noDocument.readTime);e=hi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return We();{const i=Ue.fromSegments(t.unknownDocument.path),r=_u(t.unknownDocument.version);e=hi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(r){const o=new wi(r[0],r[1]);return et.fromTimestamp(o)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(et.min()))return i}return hi.newInvalidDocument(t)}}function z3(n){return new eue(n)}class tue extends U3{constructor(t,e){super(),this.cr=t,this.trackRemovals=e,this.lr=new Il(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new On((o,s)=>Et(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.lr.get(o);if(e.push(this.cr.removeEntry(t,o,a.readTime)),s.isValidDocument()){const l=v3(this.cr.serializer,s);r=r.add(o.path.popLast());const c=Mx(l);i+=c-a.size,e.push(this.cr.addEntry(t,o,l))}else if(i-=a.size,this.trackRemovals){const l=v3(this.cr.serializer,s.convertToNoDocument(et.min()));e.push(this.cr.addEntry(t,o,l))}}),r.forEach(o=>{e.push(this.cr.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.cr.updateMetadata(t,i)),ne.waitFor(e)}getFromCache(t,e){return this.cr.sr(t,e).next(i=>(this.lr.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.cr.ar(t,e).next(({documents:i,ur:r})=>(r.forEach((o,s)=>{this.lr.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function j3(n){return fr(n,"remoteDocumentGlobal")}function xu(n){return fr(n,"remoteDocumentsV14")}function $_(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function H3(n,t){const e=t.documentKey.path.toArray();return[n,Tx(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function $3(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Et(e[o],i[o]),r)return r;return r=Et(e.length,i.length),r||(r=Et(e[e.length-2],i[i.length-2]),r||Et(e[e.length-1],i[i.length-1]))}class nue{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class W3{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&O_(i.mutation,r,Fo.empty(),wi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Nt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Nt()){const r=Na();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let s=M_();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,e){const i=Na();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Nt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,a)=>{e.set(s,a)})})}computeViews(t,e,i,r){let o=Lo();const s=R_(),a=R_();return e.forEach((l,c)=>{const d=i.get(c.key);r.has(c.key)&&(void 0===d||d.mutation instanceof Cl)?o=o.insert(c.key,c):void 0!==d?(s.set(c.key,d.mutation.getFieldMask()),O_(d.mutation,c,d.mutation.getFieldMask(),wi.now())):s.set(c.key,Fo.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((c,d)=>s.set(c,d)),e.forEach((c,d)=>{var h;return a.set(c,new nue(d,null!==(h=s.get(c))&&void 0!==h?h:null))}),a))}recalculateAndSaveOverlays(t,e){const i=R_();let r=new ti((s,a)=>s-a),o=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=e.get(l);if(null===c)return;let d=i.get(l)||Fo.empty();d=a.applyToLocalView(c,d),i.set(l,d);const h=(r.get(a.batchId)||Nt()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=OH();d.forEach(p=>{if(!o.has(p)){const v=jH(e.get(p),i.get(p));null!==v&&h.set(p,v),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,h))}return ne.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return Ue.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):WD(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var s}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ne.resolve(Na());let a=-1,l=o;return s.next(c=>ne.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?ne.resolve():this.remoteDocumentCache.getEntry(t,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(t,c,o)).next(()=>this.computeViews(t,l,c,Nt())).next(d=>({batchId:a,changes:PH(d)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ue(e)).next(i=>{let r=M_();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let s=M_();return this.indexManager.getCollectionParents(t,o).next(a=>ne.forEach(a,l=>{const c=(h=e,p=l.child(o),new El(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt));var h,p;return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(d=>{d.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(s=>{o.forEach((l,c)=>{const d=c.getKey();null===s.get(d)&&(s=s.insert(d,hi.newInvalidDocument(d)))});let a=M_();return s.forEach((l,c)=>{const d=o.get(l);void 0!==d&&O_(d.mutation,c,Fo.empty(),wi.now()),k_(e,c)&&(a=a.insert(l,c))}),a})}}class iue{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,e){return ne.resolve(this.hr.get(e))}saveBundleMetadata(t,e){return this.hr.set(e.id,{id:(r=e).id,version:r.version,createTime:Yi(r.createTime)}),ne.resolve();var r}getNamedQuery(t,e){return ne.resolve(this.Pr.get(e))}saveNamedQuery(t,e){return this.Pr.set(e.name,{name:(r=e).name,query:ok(r.bundledQuery),readTime:Yi(r.readTime)}),ne.resolve();var r}}class rue{constructor(){this.overlays=new ti(Ue.comparator),this.Ir=new Map}getOverlay(t,e){return ne.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Na();return ne.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.ht(t,e,o)}),ne.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Ir.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),ne.resolve()}getOverlaysForCollection(t,e,i){const r=Na(),o=e.length+1,s=new Ue(e.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return ne.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ti((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let d=o.get(c.largestBatchId);null===d&&(d=Na(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Na(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=r)););return ne.resolve(a)}ht(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new ZD(e,i));let o=this.Ir.get(e);void 0===o&&(o=Nt(),this.Ir.set(e,o)),this.Ir.set(e,o.add(i.key))}}class oue{constructor(){this.sessionToken=Li.EMPTY_BYTE_STRING}getSessionToken(t){return ne.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ne.resolve()}}class hk{constructor(){this.Tr=new On(Cr.Er),this.dr=new On(Cr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,e){const i=new Cr(t,e);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Vr(new Cr(t,e))}mr(t,e){t.forEach(i=>this.removeReference(i,e))}gr(t){const e=new Ue(new on([])),i=new Cr(e,t),r=new Cr(e,t+1),o=[];return this.dr.forEachInRange([i,r],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const e=new Ue(new on([])),i=new Cr(e,t),r=new Cr(e,t+1);let o=Nt();return this.dr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(t){const e=new Cr(t,0),i=this.Tr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Cr{constructor(t,e){this.key=t,this.wr=e}static Er(t,e){return Ue.comparator(t.key,e.key)||Et(t.wr,e.wr)}static Ar(t,e){return Et(t.wr,e.wr)||Ue.comparator(t.key,e.key)}}class sue{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new On(Cr.Er)}checkEmpty(t){return ne.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.Sr;this.Sr++;const s=new QD(o,e,i,r);this.mutationQueue.push(s);for(const a of r)this.br=this.br.add(new Cr(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return ne.resolve(s)}lookupMutationBatch(t,e){return ne.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.vr(e+1),o=r<0?0:r;return ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Cr(e,0),r=new Cr(e,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,r],s=>{const a=this.Dr(s.wr);o.push(a)}),ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new On(Et);return e.forEach(r=>{const o=new Cr(r,0),s=new Cr(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{i=i.add(a.wr)})}),ne.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Ue.isDocumentKey(o)||(o=o.child(""));const s=new Cr(new Ue(o),0);let a=new On(Et);return this.br.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.wr)),!0)},s),ne.resolve(this.Cr(a))}Cr(t){const e=[];return t.forEach(i=>{const r=this.Dr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Xe(0===this.Fr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.br;return ne.forEach(e.mutations,r=>{const o=new Cr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,e){const i=new Cr(e,0),r=this.br.firstAfterOrEqual(i);return ne.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ne.resolve()}Fr(t,e){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const e=this.vr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class aue{constructor(t){this.Mr=t,this.docs=new ti(Ue.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.Mr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ne.resolve(i?i.document.mutableCopy():hi.newInvalidDocument(e))}getEntries(t,e){let i=Lo();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():hi.newInvalidDocument(r))}),ne.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Lo();const s=e.path,a=new Ue(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||OD(j4(d),i)<=0||(r.has(d.key)||k_(e,d))&&(o=o.insert(d.key,d.mutableCopy()))}return ne.resolve(o)}getAllFromCollectionGroup(t,e,i,r){We()}Or(t,e){return ne.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new lue(this)}getSize(t){return ne.resolve(this.size)}}class lue extends U3{constructor(t){super(),this.cr=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.cr.addEntry(t,r)):this.cr.removeEntry(i)}),ne.waitFor(e)}getFromCache(t,e){return this.cr.getEntry(t,e)}getAllFromCache(t,e){return this.cr.getEntries(t,e)}}class cue{constructor(t){this.persistence=t,this.Nr=new Il(e=>fu(e),S_),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.Lr=0,this.Br=new hk,this.targetCount=0,this.kr=wu.Bn()}forEachTarget(t,e){return this.Nr.forEach((i,r)=>e(r)),ne.resolve()}getLastRemoteSnapshotVersion(t){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ne.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Lr&&(this.Lr=e),ne.resolve()}Kn(t){this.Nr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.kr=new wu(e),this.highestTargetId=e),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,e){return this.Kn(e),this.targetCount+=1,ne.resolve()}updateTargetData(t,e){return this.Kn(e),ne.resolve()}removeTargetData(t,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,ne.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),ne.waitFor(o).next(()=>r)}getTargetCount(t){return ne.resolve(this.targetCount)}getTargetData(t,e){const i=this.Nr.get(e)||null;return ne.resolve(i)}addMatchingKeys(t,e,i){return this.Br.Rr(e,i),ne.resolve()}removeMatchingKeys(t,e,i){this.Br.mr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),ne.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Br.gr(e),ne.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Br.yr(e);return ne.resolve(i)}containsKey(t,e){return ne.resolve(this.Br.containsKey(e))}}class fk{constructor(t,e){this.qr={},this.overlays={},this.Qr=new as(0),this.Kr=!1,this.Kr=!0,this.$r=new oue,this.referenceDelegate=t(this),this.Ur=new cue(this),this.indexManager=new Kde,this.remoteDocumentCache=new aue(i=>this.referenceDelegate.Wr(i)),this.serializer=new _3(e),this.Gr=new iue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new rue,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.qr[t.toKey()];return i||(i=new sue(e,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,e,i){xe("MemoryPersistence","Starting transaction:",t);const r=new due(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(o=>this.referenceDelegate.jr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Hr(t,e){return ne.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,e)))}}class due extends $4{constructor(t){super(),this.currentSequenceNumber=t}}class Ox{constructor(t){this.persistence=t,this.Jr=new hk,this.Yr=null}static Zr(t){return new Ox(t)}get Xr(){if(this.Yr)return this.Yr;throw We()}addReference(t,e,i){return this.Jr.addReference(i,e),this.Xr.delete(i.toString()),ne.resolve()}removeReference(t,e,i){return this.Jr.removeReference(i,e),this.Xr.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(t,e){return this.Xr.add(e.toString()),ne.resolve()}removeTarget(t,e){this.Jr.gr(e.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}zr(){this.Yr=new Set}jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Xr,i=>{const r=Ue.fromPath(i);return this.ei(t,r).next(o=>{o||e.removeEntry(r,et.min())})}).next(()=>(this.Yr=null,e.apply(t)))}updateLimboDocument(t,e){return this.ei(t,e).next(i=>{i?this.Xr.delete(e.toString()):this.Xr.add(e.toString())})}Wr(t){return 0}ei(t,e){return ne.or([()=>ne.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Hr(t,e)])}}class uue{constructor(t){this.serializer=t}O(t,e,i,r){const o=new cx("createOrUpgrade",e);var l;i<1&&r>=1&&(t.createObjectStore("owner"),(l=t).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Y4,{unique:!0}),l.createObjectStore("documentMutations"),G3(t),function(l){l.createObjectStore("remoteDocuments")}(t));let s=ne.resolve();return i<3&&r>=3&&(0!==i&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(t),G3(t)),s=s.next(()=>function(l){const c=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:et.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",d)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(l,c){return c.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Y4,{unique:!0});const h=c.store("mutations"),p=d.map(v=>h.put(v));return ne.waitFor(p)})}(t,o))),s=s.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(s=s.next(()=>this.ni(o))),i<6&&r>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(t),this.ri(o)))),i<7&&r>=7&&(s=s.next(()=>this.ii(o))),i<8&&r>=8&&(s=s.next(()=>this.si(t,o))),i<9&&r>=9&&(s=s.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(s=s.next(()=>this.oi(o))),i<11&&r>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(s=s.next(()=>{!function(l){const c=l.createObjectStore("documentOverlays",{keyPath:Kce});c.createIndex("collectionPathOverlayIndex",Yce,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",Qce,{unique:!1})}(t)})),i<13&&r>=13&&(s=s.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:Lce});c.createIndex("documentKeyIndex",Vce),c.createIndex("collectionGroupIndex",Bce)}(t)).next(()=>this._i(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ai(t,o))),i<15&&r>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:$ce}).createIndex("sequenceNumberIndex",Wce,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Gce}).createIndex("documentKeyIndex",qce,{unique:!1})}(t))),i<16&&r>=16&&(s=s.next(()=>{e.objectStore("indexState").clear()}).next(()=>{e.objectStore("indexEntries").clear()})),i<17&&r>=17&&(s=s.next(()=>{!function(l){l.createObjectStore("globals",{keyPath:"name"})}(t)})),s}ri(t){let e=0;return t.store("remoteDocuments").J((i,r)=>{e+=Mx(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}ni(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.U().next(r=>ne.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",s).next(a=>ne.forEach(a,l=>{Xe(l.userId===o.userId);const c=vu(this.serializer,l);return P3(t,o.userId,c).next(()=>{})}))}))}ii(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.J((s,a)=>{const l=new on(s),c=[0,Zr(l)];o.push(e.get(c).next(d=>d?ne.resolve():e.put({targetId:0,path:Zr(l),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ne.waitFor(o))})}si(t,e){t.createObjectStore("collectionParents",{keyPath:Hce});const i=e.store("collectionParents"),r=new uk,o=s=>{if(r.add(s)){const a=s.lastSegment(),l=s.popLast();return i.put({collectionId:a,parent:Zr(l)})}};return e.store("remoteDocuments").J({H:!0},(s,a)=>{const l=new on(s);return o(l.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([s,a,l],c)=>{const d=Pa(a);return o(d.popLast())}))}oi(t){const e=t.store("targets");return e.J((i,r)=>{const o=U_(r),s=b3(this.serializer,o);return e.put(s)})}_i(t,e){const i=e.store("remoteDocuments"),r=[];return i.J((o,s)=>{const a=e.store("remoteDocumentsV14"),l=(h=s,h.document?new Ue(on.fromString(h.document.name).popFirst(5)):h.noDocument?Ue.fromSegments(h.noDocument.path):h.unknownDocument?Ue.fromSegments(h.unknownDocument.path):We()).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var h;r.push(a.put(c))}).next(()=>ne.waitFor(r))}ai(t,e){const i=e.store("mutations"),r=z3(this.serializer),o=new fk(Ox.Zr,this.serializer.ct);return i.U().next(s=>{const a=new Map;return s.forEach(l=>{var c;let d=null!==(c=a.get(l.userId))&&void 0!==c?c:Nt();vu(this.serializer,l).keys().forEach(h=>d=d.add(h)),a.set(l.userId,d)}),ne.forEach(a,(l,c)=>{const d=new Er(c),h=Sx.lt(this.serializer,d),p=o.getIndexManager(d),v=Rx.lt(d,this.serializer,p,o.referenceDelegate);return new W3(r,v,h,p).recalculateAndSaveOverlaysForDocumentKeys(new VD(e,as.oe),l).next()})})}}function G3(n){n.createObjectStore("targetDocuments",{keyPath:zce}).createIndex("documentTargetsIndex",jce,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Uce,{unique:!0}),n.createObjectStore("targetGlobal")}const mk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pk{constructor(t,e,i,r,o,s,a,l,c,d,h=17){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ui=o,this.window=s,this.document=a,this.ci=c,this.li=d,this.hi=h,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=p=>Promise.resolve(),!pk.D())throw new we(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jde(this,r),this.Ai=e+"main",this.serializer=new _3(l),this.Ri=new Ra(this.Ai,this.hi,new uue(this.serializer)),this.$r=new jde,this.Ur=new Qde(this.referenceDelegate,this.serializer),this.remoteDocumentCache=z3(this.serializer),this.Gr=new zde,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===d&&Ki("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new we(ae.FAILED_PRECONDITION,mk);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new as(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){var e=this;return this.di=function(){var i=(0,H.A)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(function(){var e=(0,H.A)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget((0,H.A)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Fx(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(e=>{e||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(e=>this.isPrimary&&!e?this.bi(t).next(()=>!1):!!e&&this.Di(t).next(()=>!0))).catch(t=>{if(Ac(t))return xe("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return xe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return W_(t).get("owner").next(e=>ne.resolve(this.vi(e)))}Ci(t){return Fx(t).delete(this.clientId)}Fi(){var t=this;return(0,H.A)(function*(){if(t.isPrimary&&!t.Mi(t.Ei,18e5)){t.Ei=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=fr(i,"clientMetadata");return r.U().next(o=>{const s=t.xi(o,18e5),a=o.filter(l=>-1===s.indexOf(l));return ne.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(t.Vi)for(const i of e)t.Vi.removeItem(t.Oi(i.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?ne.resolve(!0):W_(t).get("owner").next(e=>{if(null!==e&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)){if(this.vi(e)&&this.networkEnabled)return!0;if(!this.vi(e)){if(!e.allowTabSynchronization)throw new we(ae.FAILED_PRECONDITION,mk);return!1}}return!(!this.networkEnabled||!this.inForeground)||Fx(t).U().next(i=>void 0===this.xi(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&xe("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,H.A)(function*(){t.Kr=!1,t.Li(),t.Ti&&(t.Ti.cancel(),t.Ti=null),t.Bi(),t.ki(),yield t.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new VD(e,as.oe);return t.bi(i).next(()=>t.Ci(i))}),t.Ri.close(),t.qi()})()}xi(t,e){return t.filter(i=>this.Mi(i.updateTimeMs,e)&&!this.Ni(i.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>Fx(t).U().next(e=>this.xi(e,18e5).map(i=>i.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,e){return Rx.lt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Yde(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return Sx.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,e,i){xe("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=17===(l=this.hi)?Jce:16===l?Zce:15===l?LD:14===l?J4:13===l?Z4:12===l?Xce:11===l?X4:void We();var l;let s;return this.Ri.runTransaction(t,r,o,a=>(s=new VD(a,this.Qr?this.Qr.next():as.oe),"readwrite-primary"===e?this.wi(s).next(l=>!!l||this.Si(s)).next(l=>{if(!l)throw Ki(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new we(ae.FAILED_PRECONDITION,H4);return i(s)}).next(l=>this.Di(s).next(()=>l)):this.Ki(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ki(t){return W_(t).get("owner").next(e=>{if(null!==e&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)&&!this.vi(e)&&!(this.li||this.allowTabSynchronization&&e.allowTabSynchronization))throw new we(ae.FAILED_PRECONDITION,mk)})}Di(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return W_(t).put("owner",e)}static D(){return Ra.D()}bi(t){const e=W_(t);return e.get("owner").next(i=>this.vi(i)?(xe("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ne.resolve())}Mi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Ki(`Detected an update time that is in the future: ${t} > ${i}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Pi=()=>{this.Li();const e=/(?:Version|Mobile)\/1[456]/;(0,vn.nr)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var e;try{const i=null!==(null===(e=this.Vi)||void 0===e?void 0:e.getItem(this.Oi(t)));return xe("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ki("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){Ki("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function W_(n){return fr(n,"owner")}function Fx(n){return fr(n,"clientMetadata")}function gk(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class _k{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.$i=i,this.Ui=r}static Wi(t,e){let i=Nt(),r=Nt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new _k(t,e.fromCache,i,r)}}class hue{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class q3{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,vn.nr)()?8:W4((0,vn.ZQ)())>0?6:4}initialize(t,e){this.Ji=t,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.Yi(t,e).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(t,e,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new hue;return this.Xi(t,e,s).next(a=>{if(o.result=a,this.zi)return this.es(t,e,s,a.size)})}).next(()=>o.result)}es(t,e,i,r){return i.documentReadCount<this.ji?(Hf()<=Ma.$b.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",Zf(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ne.resolve()):(Hf()<=Ma.$b.DEBUG&&xe("QueryEngine","Query:",Zf(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Hf()<=Ma.$b.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",Zf(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Jr(e))):ne.resolve())}Yi(t,e){if(AH(e))return ne.resolve(null);let i=Jr(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=yx(e,null,"F"),i=Jr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const s=Nt(...o);return this.Ji.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.ts(e,a);return this.ns(e,c,s,l.readTime)?this.Yi(t,yx(e,null,"F")):this.rs(t,c,e,l)}))})))}Zi(t,e,i,r){return AH(e)||r.isEqual(et.min())?ne.resolve(null):this.Ji.getDocuments(t,i).next(o=>{const s=this.ts(e,o);return this.ns(e,s,i,r)?ne.resolve(null):(Hf()<=Ma.$b.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zf(e)),this.rs(t,s,e,z4(r,-1)).next(a=>a))})}ts(t,e){let i=new On(MH(t));return e.forEach((r,o)=>{k_(t,o)&&(i=i.add(o))}),i}ns(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(t,e,i){return Hf()<=Ma.$b.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",Zf(e)),this.Ji.getDocumentsMatchingQuery(t,e,ss.min(),i)}rs(t,e,i,r){return this.Ji.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(s=>{o=o.insert(s.key,s)}),o))}}class fue{constructor(t,e,i,r){this.persistence=t,this.ss=e,this.serializer=r,this.os=new ti(Et),this._s=new Il(o=>fu(o),S_),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new W3(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.os))}}function K3(n,t,e,i){return new fue(n,t,e,i)}function Y3(n,t){return vk.apply(this,arguments)}function vk(){return(vk=(0,H.A)(function*(n,t){const e=Oe(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.ls(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=Nt();for(const c of r){s.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return e.localDocuments.getDocuments(i,l).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:a}))})})})).apply(this,arguments)}function Q3(n){const t=Oe(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function X3(n,t,e){let i=Nt(),r=Nt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let s=Lo();return e.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(et.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):xe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:s,Is:r}})}function gue(n,t){const e=Oe(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function cm(n,t){const e=Oe(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Ur.getTargetData(i,t).next(o=>o?(r=o,ne.resolve(r)):e.Ur.allocateTargetId(i).next(s=>(r=new Al(t,s,"TargetPurposeListen",i.currentSequenceNumber),e.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.os.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.os=e.os.insert(i.targetId,i),e._s.set(t,i.targetId)),i})}function dm(n,t,e){return bk.apply(this,arguments)}function bk(){return(bk=(0,H.A)(function*(n,t,e){const i=Oe(n),r=i.os.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Ac(s))throw s;xe("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}i.os=i.os.remove(t),i._s.delete(r.target)})).apply(this,arguments)}function Lx(n,t,e){const i=Oe(n);let r=et.min(),o=Nt();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,d){const h=Oe(l),p=h._s.get(d);return void 0!==p?ne.resolve(h.os.get(p)):h.Ur.getTargetData(c,d)}(i,s,Jr(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.ss.getDocumentsMatchingQuery(s,t,e?r:et.min(),e?o:Nt())).next(a=>(e$(i,kH(t),a),{documents:a,Ts:o})))}function Z3(n,t){const e=Oe(n),i=Oe(e.Ur),r=e.os.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.ot(o,t).next(s=>s?s.target:null))}function J3(n,t){const e=Oe(n),i=e.us.get(t)||et.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.cs.getAllFromCollectionGroup(r,t,z4(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(e$(e,t,r),r))}function e$(n,t,e){let i=n.us.get(t)||et.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.us.set(t,i)}function yk(){return(yk=(0,H.A)(function*(n,t,e,i){const r=Oe(n);let o=Nt(),s=Lo();for(const c of e){const d=t.Es(c.metadata.name);c.document&&(o=o.add(d));const h=t.ds(c);h.setReadTime(t.As(c.metadata.readTime)),s=s.insert(d,h)}const a=r.cs.newChangeBuffer({trackRemovals:!0}),l=yield cm(r,(d=i,Jr(Qf(on.fromString(`__bundle__/docs/${d}`)))));var d;return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>X3(c,a,s).next(d=>(a.apply(c),d)).next(d=>r.Ur.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.Ur.addMatchingKeys(c,o,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,d.Ps,d.Is)).next(()=>d.Ps)))})).apply(this,arguments)}function vue(n,t){return wk.apply(this,arguments)}function wk(){return(wk=(0,H.A)(function*(n,t,e=Nt()){const i=yield cm(n,Jr(ok(t.bundledQuery))),r=Oe(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=Yi(t.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Gr.saveNamedQuery(o,t);const a=i.withResumeToken(Li.EMPTY_BYTE_STRING,s);return r.os=r.os.insert(a.targetId,a),r.Ur.updateTargetData(o,a).next(()=>r.Ur.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Ur.addMatchingKeys(o,e,i.targetId)).next(()=>r.Gr.saveNamedQuery(o,t))})})).apply(this,arguments)}function t$(n,t){return`firestore_clients_${n}_${t}`}function n$(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function xk(n,t){return`firestore_targets_${n}_${t}`}class Vx{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Rs(t,e,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new we(r.error.code,r.error.message))),s?new Vx(t,e,r.state,o):(Ki("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class G_{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Rs(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new we(i.error.code,i.error.message))),o?new G_(t,i.state,r):(Ki("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Bx{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Rs(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=qD();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=q4(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new Bx(t,o):(Ki("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class Ek{constructor(t,e){this.clientId=t,this.onlineState=e}static Rs(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Ek(e.clientId,e.onlineState):(Ki("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Ik{constructor(){this.activeTargetIds=qD()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ck{constructor(t,e,i,r,o){this.window=t,this.ui=e,this.persistenceKey=i,this.ps=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ti(Et),this.started=!1,this.bs=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=t$(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new Ik),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,H.A)(function*(){const e=yield t.syncEngine.Qi();for(const r of e){if(r===t.ps)continue;const o=t.getItem(t$(t.persistenceKey,r));if(o){const s=Bx.Rs(r,o);s&&(t.Ss=t.Ss.insert(s.clientId,s))}}t.Ns();const i=t.storage.getItem(t.xs);if(i){const r=t.Ls(i);r&&t.Bs(r)}for(const r of t.bs)t.ws(r);t.bs=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let e=!1;return this.Ss.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,e,i){this.qs(t,e,i),this.Qs(t)}addLocalQueryTarget(t,e=!0){let i="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(xk(this.persistenceKey,t));if(r){const o=G_.Rs(t,r);o&&(i=o.state)}}return e&&this.Ks.fs(t),this.Ns(),i}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(xk(this.persistenceKey,t))}updateQueryState(t,e,i){this.$s(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Qs(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return xe("SharedClientState","READ",t,e),e}setItem(t,e){xe("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){xe("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){var e=this;const i=t;if(i.storageArea===this.storage){if(xe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Ds)return void Ki("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,H.A)(function*(){if(e.started){if(null!==i.key)if(e.Cs.test(i.key)){if(null==i.newValue){const r=e.Gs(i.key);return e.zs(r,null)}{const r=e.js(i.key,i.newValue);if(r)return e.zs(r.clientId,r)}}else if(e.Fs.test(i.key)){if(null!==i.newValue){const r=e.Hs(i.key,i.newValue);if(r)return e.Js(r)}}else if(e.Ms.test(i.key)){if(null!==i.newValue){const r=e.Ys(i.key,i.newValue);if(r)return e.Zs(r)}}else if(i.key===e.xs){if(null!==i.newValue){const r=e.Ls(i.newValue);if(r)return e.Bs(r)}}else if(i.key===e.vs){const r=function(s){let a=as.oe;if(null!=s)try{const l=JSON.parse(s);Xe("number"==typeof l),a=l}catch(l){Ki("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(i.newValue);r!==as.oe&&e.sequenceNumberHandler(r)}else if(i.key===e.Os){const r=e.Xs(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.eo(o)))}}else e.bs.push(i)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,e,i){const r=new Vx(this.currentUser,t,e,i),o=n$(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Vs())}Qs(t){const e=n$(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Us(t){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:t}))}$s(t,e,i){const r=xk(this.persistenceKey,t),o=new G_(t,e,i);this.setItem(r,o.Vs())}Ws(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Os,e)}Gs(t){const e=this.Cs.exec(t);return e?e[1]:null}js(t,e){const i=this.Gs(t);return Bx.Rs(i,e)}Hs(t,e){const i=this.Fs.exec(t),r=Number(i[1]);return Vx.Rs(new Er(void 0!==i[2]?i[2]:null),r,e)}Ys(t,e){const i=this.Ms.exec(t),r=Number(i[1]);return G_.Rs(r,e)}Ls(t){return Ek.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){var e=this;return(0,H.A)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.no(t.batchId,t.state,t.error);xe("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,e){const i=e?this.Ss.insert(t,e):this.Ss.remove(t),r=this.ks(this.Ss),o=this.ks(i),s=[],a=[];return o.forEach(l=>{r.has(l)||s.push(l)}),r.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.io(s,a).then(()=>{this.Ss=i})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let e=qD();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class i${constructor(){this.so=new Ik,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,e,i){this.oo[t]=e}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Ik,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class bue{_o(t){}shutdown(){}}class r${constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ux=null;function Ak(){return null===Ux?Ux=268435456+Math.round(2147483648*Math.random()):Ux++,"0x"+Ux.toString(16)}const yue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wue{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const to="WebChannelConnection";class xue extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+e.host,this.vo=`projects/${r}/databases/${o}`,this.Co="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Fo(){return!1}Mo(e,i,r,o,s){const a=Ak(),l=this.xo(e,i.toUriEncodedString());xe("RestConnection",`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(e,l,c,r).then(d=>(xe("RestConnection",`Received RPC '${e}' ${a}: `,d),d),d=>{throw os("RestConnection",`RPC '${e}' ${a} failed with error: `,d,"url: ",l,"request:",r),d})}Lo(e,i,r,o,s,a){return this.Mo(e,i,r,o,s)}Oo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+jf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>e[s]=o),r&&r.headers.forEach((o,s)=>e[s]=o)}xo(e,i){return`${this.Do}/v1/${i}:${yue[e]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,e,i,r){const o=Ak();return new Promise((s,a)=>{const l=new M4;l.setWithCredentials(!0),l.listenOnce(R4.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case lx.NO_ERROR:const d=l.getResponseJson();xe(to,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(d)),s(d);break;case lx.TIMEOUT:xe(to,`RPC '${t}' ${o} timed out`),a(new we(ae.DEADLINE_EXCEEDED,"Request time out"));break;case lx.HTTP_ERROR:const h=l.getStatus();if(xe(to,`RPC '${t}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p?.error;if(v&&v.status&&v.message){const b=function(E){const M=E.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(M)>=0?M:ae.UNKNOWN}(v.status);a(new we(b,v.message))}else a(new we(ae.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new we(ae.UNAVAILABLE,"Connection failed."));break;default:We()}}finally{xe(to,`RPC '${t}' ${o} completed.`)}});const c=JSON.stringify(r);xe(to,`RPC '${t}' ${o} sending request:`,r),l.send(e,"POST",c,i,15)})}Bo(t,e,i){const r=Ak(),o=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=N4(),a=O4(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;const d=o.join("");xe(to,`Creating RPC '${t}' stream ${r}: ${d}`,l);const h=s.createWebChannel(d,l);let p=!1,v=!1;const b=new wue({Io:E=>{v?xe(to,`Not sending because RPC '${t}' stream ${r} is closed:`,E):(p||(xe(to,`Opening RPC '${t}' stream ${r} transport.`),h.open(),p=!0),xe(to,`RPC '${t}' stream ${r} sending:`,E),h.send(E))},To:()=>h.close()}),w=(E,M,S)=>{E.listen(M,V=>{try{S(V)}catch($){setTimeout(()=>{throw $},0)}})};return w(h,v_.EventType.OPEN,()=>{v||(xe(to,`RPC '${t}' stream ${r} transport opened.`),b.yo())}),w(h,v_.EventType.CLOSE,()=>{v||(v=!0,xe(to,`RPC '${t}' stream ${r} transport closed`),b.So())}),w(h,v_.EventType.ERROR,E=>{v||(v=!0,os(to,`RPC '${t}' stream ${r} transport errored:`,E),b.So(new we(ae.UNAVAILABLE,"The operation could not be completed")))}),w(h,v_.EventType.MESSAGE,E=>{var M;if(!v){const S=E.data[0];Xe(!!S);const $=S.error||(null===(M=S[0])||void 0===M?void 0:M.error);if($){xe(to,`RPC '${t}' stream ${r} received error:`,$);const Q=$.status;let ee=function(F){const j=tr[F];if(void 0!==j)return YH(j)}(Q),L=$.message;void 0===ee&&(ee=ae.INTERNAL,L="Unknown error status: "+Q+" with message "+$.message),v=!0,b.So(new we(ee,L)),h.close()}else xe(to,`RPC '${t}' stream ${r} received:`,S),b.bo(S)}}),w(a,P4.STAT_EVENT,E=>{E.stat===MD.PROXY?xe(to,`RPC '${t}' stream ${r} detected buffering proxy`):E.stat===MD.NOPROXY&&xe(to,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function o$(){return typeof window<"u"?window:null}function zx(){return typeof document<"u"?document:null}function q_(n){return new kde(n,!0)}class Tk{constructor(t,e,i=1e3,r=1.5,o=6e4){this.ui=t,this.timerId=e,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const e=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,e-i);r>0&&xe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class s${constructor(t,e,i,r,o,s,a,l){this.ui=t,this.Ho=i,this.Jo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Tk(t,e)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,H.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,H.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,e){var i=this;return(0,H.A)(function*(){i.u_(),i.c_(),i.t_.cancel(),i.Yo++,4!==t?i.t_.reset():e&&e.code===ae.RESOURCE_EXHAUSTED?(Ki(e.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),i.t_.Wo()):e&&e.code===ae.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.l_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.mo(e)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===e&&this.P_(i,r)},i=>{t(()=>{const r=new we(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(t,e){const i=this.h_(this.Yo);this.stream=this.T_(t,e),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>1==++this.e_?this.E_(r):this.onNext(r))})}i_(){var t=this;this.state=5,this.t_.Go((0,H.A)(function*(){t.state=0,t.start()}))}I_(t){return xe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return e=>{this.ui.enqueueAndForget(()=>this.Yo===t?e():(xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Eue extends s${constructor(t,e,i,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}T_(t,e){return this.connection.Bo("Listen",t,e)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const e=function Pde(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(c=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:We(),r=t.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(Xe(void 0===d||"string"==typeof d),Li.fromBase64String(d||"")):(Xe(void 0===d||d instanceof Buffer||d instanceof Uint8Array),Li.fromUint8Array(d||new Uint8Array))}(n,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(c){const d=void 0===c.code?ae.UNKNOWN:YH(c.code);return new we(d,c.message||"")}(s);e=new e3(i,r,o,a||null)}else if("documentChange"in t){const i=t.documentChange,r=Fa(n,i.document.name),o=Yi(i.document.updateTime),s=i.document.createTime?Yi(i.document.createTime):et.min(),a=new Nr({mapValue:{fields:i.document.fields}}),l=hi.newFoundDocument(r,o,s,a);e=new Cx(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const i=t.documentDelete,r=Fa(n,i.document),o=i.readTime?Yi(i.readTime):et.min(),s=hi.newNoDocument(r,o);e=new Cx([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){const i=t.documentRemove,r=Fa(n,i.document);e=new Cx([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return We();{const i=t.filter,{count:r=0,unchangedNames:o}=i,s=new Ide(r,o);e=new JH(i.targetId,s)}}var c;return e}(this.serializer,t),i=function(o){if(!("targetChange"in o))return et.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?et.min():s.readTime?Yi(s.readTime):et.min()}(t);return this.listener.d_(e,i)}A_(t){const e={};e.database=ik(this.serializer),e.addTarget=function(o,s){let a;const l=s.target;if(a=vx(l)?{documents:u3(o,l)}:{query:Ax(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=r3(o,s.resumeToken);const c=ek(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(et.min())>0){a.readTime=im(o,s.snapshotVersion.toTimestamp());const c=ek(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,t);const i=function Nde(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.a_(e)}R_(t){const e={};e.database=ik(this.serializer),e.removeTarget=t,this.a_(e)}}class Iue extends s${constructor(t,e,i,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,e){return this.connection.Bo("Write",t,e)}E_(t){return Xe(!!t.streamToken),this.lastStreamToken=t.streamToken,Xe(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){Xe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const e=function Ode(n,t){return n&&n.length>0?(Xe(void 0!==t),n.map(e=>function(r,o){let s=Yi(r.updateTime?r.updateTime:o);return s.isEqual(et.min())&&(s=Yi(o)),new wde(s,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Yi(t.commitTime);return this.listener.g_(i,e)}p_(){const t={};t.database=ik(this.serializer),this.a_(t)}m_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>B_(this.serializer,i))};this.a_(e)}}class Cue extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new we(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,e,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(t,nk(e,i),r,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(ae.UNKNOWN,o.toString())})}Lo(t,e,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(t,nk(e,i),r,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new we(ae.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Aue{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ki(e),this.D_=!1):xe("OnlineStateTracker",e)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Tue{constructor(t,e,i,r,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{i.enqueueAndForget((0,H.A)(function*(){var l;Lc(s)&&(xe("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,H.A)(function*(d){const h=Oe(d);h.L_.add(4),yield um(h),h.q_.set("Unknown"),h.L_.delete(4),yield K_(h)}),function c(d){return l.apply(this,arguments)})(s))}))}),this.q_=new Aue(i,r)}}function K_(n){return Sk.apply(this,arguments)}function Sk(){return(Sk=(0,H.A)(function*(n){if(Lc(n))for(const t of n.B_)yield t(!0)})).apply(this,arguments)}function um(n){return Dk.apply(this,arguments)}function Dk(){return(Dk=(0,H.A)(function*(n){for(const t of n.B_)yield t(!1)})).apply(this,arguments)}function jx(n,t){const e=Oe(n);e.N_.has(t.targetId)||(e.N_.set(t.targetId,t),Rk(e)?Mk(e):mm(e).r_()&&kk(e,t))}function hm(n,t){const e=Oe(n),i=mm(e);e.N_.delete(t),i.r_()&&a$(e,t),0===e.N_.size&&(i.r_()?i.o_():Lc(e)&&e.q_.set("Unknown"))}function kk(n,t){if(n.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(et.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}mm(n).A_(t)}function a$(n,t){n.Q_.xe(t),mm(n).R_(t)}function Mk(n){n.Q_=new Ade({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.N_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),mm(n).start(),n.q_.v_()}function Rk(n){return Lc(n)&&!mm(n).n_()&&n.N_.size>0}function Lc(n){return 0===Oe(n).L_.size}function l$(n){n.Q_=void 0}function Sue(n){return Pk.apply(this,arguments)}function Pk(){return(Pk=(0,H.A)(function*(n){n.q_.set("Online")})).apply(this,arguments)}function Due(n){return Ok.apply(this,arguments)}function Ok(){return(Ok=(0,H.A)(function*(n){n.N_.forEach((t,e)=>{kk(n,t)})})).apply(this,arguments)}function kue(n,t){return Nk.apply(this,arguments)}function Nk(){return(Nk=(0,H.A)(function*(n,t){l$(n),Rk(n)?(n.q_.M_(t),Mk(n)):n.q_.set("Unknown")})).apply(this,arguments)}function Mue(n,t,e){return Fk.apply(this,arguments)}function Fk(){return Fk=(0,H.A)(function*(n,t,e){if(n.q_.set("Online"),t instanceof e3&&2===t.state&&t.cause)try{yield(i=(0,H.A)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.N_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.N_.delete(l),o.Q_.removeTarget(l))}),function r(o,s){return i.apply(this,arguments)})(n,t)}catch(i){xe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield Hx(n,i)}else if(t instanceof Cx?n.Q_.Ke(t):t instanceof JH?n.Q_.He(t):n.Q_.We(t),!e.isEqual(et.min()))try{const i=yield Q3(n.localStore);e.compareTo(i)>=0&&(yield function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.N_.get(c);d&&o.N_.set(c,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const d=o.N_.get(l);if(!d)return;o.N_.set(l,d.withResumeToken(Li.EMPTY_BYTE_STRING,d.snapshotVersion)),a$(o,l);const h=new Al(d.target,l,c,d.sequenceNumber);kk(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){xe("RemoteStore","Failed to raise snapshot:",i),yield Hx(n,i)}var i}),Fk.apply(this,arguments)}function Hx(n,t,e){return Lk.apply(this,arguments)}function Lk(){return(Lk=(0,H.A)(function*(n,t,e){if(!Ac(t))throw t;n.L_.add(1),yield um(n),n.q_.set("Offline"),e||(e=()=>Q3(n.localStore)),n.asyncQueue.enqueueRetryable((0,H.A)(function*(){xe("RemoteStore","Retrying IndexedDB access"),yield e(),n.L_.delete(1),yield K_(n)}))})).apply(this,arguments)}function c$(n,t){return t().catch(e=>Hx(n,e,t))}function fm(n){return Vk.apply(this,arguments)}function Vk(){return(Vk=(0,H.A)(function*(n){const t=Oe(n),e=Vc(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Rue(t);)try{const r=yield gue(t.localStore,i);if(null===r){0===t.O_.length&&e.o_();break}i=r.batchId,Pue(t,r)}catch(r){yield Hx(t,r)}d$(t)&&u$(t)})).apply(this,arguments)}function Rue(n){return Lc(n)&&n.O_.length<10}function Pue(n,t){n.O_.push(t);const e=Vc(n);e.r_()&&e.V_&&e.m_(t.mutations)}function d$(n){return Lc(n)&&!Vc(n).n_()&&n.O_.length>0}function u$(n){Vc(n).start()}function Oue(n){return Bk.apply(this,arguments)}function Bk(){return(Bk=(0,H.A)(function*(n){Vc(n).p_()})).apply(this,arguments)}function Nue(n){return Uk.apply(this,arguments)}function Uk(){return(Uk=(0,H.A)(function*(n){const t=Vc(n);for(const e of n.O_)t.m_(e.mutations)})).apply(this,arguments)}function Fue(n,t,e){return zk.apply(this,arguments)}function zk(){return(zk=(0,H.A)(function*(n,t,e){const i=n.O_.shift(),r=XD.from(i,t,e);yield c$(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield fm(n)})).apply(this,arguments)}function Lue(n,t){return jk.apply(this,arguments)}function jk(){return jk=(0,H.A)(function*(n,t){var e;t&&Vc(n).V_&&(yield(e=(0,H.A)(function*(r,o){if(KH(a=o.code)&&a!==ae.ABORTED){const s=r.O_.shift();Vc(r).s_(),yield c$(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield fm(r)}var a}),function i(r,o){return e.apply(this,arguments)})(n,t)),d$(n)&&u$(n)}),jk.apply(this,arguments)}function h$(n,t){return Hk.apply(this,arguments)}function Hk(){return(Hk=(0,H.A)(function*(n,t){const e=Oe(n);e.asyncQueue.verifyOperationInProgress(),xe("RemoteStore","RemoteStore received new credentials");const i=Lc(e);e.L_.add(3),yield um(e),i&&e.q_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.L_.delete(3),yield K_(e)})).apply(this,arguments)}function $k(n,t){return Wk.apply(this,arguments)}function Wk(){return(Wk=(0,H.A)(function*(n,t){const e=Oe(n);t?(e.L_.delete(2),yield K_(e)):t||(e.L_.add(2),yield um(e),e.q_.set("Unknown"))})).apply(this,arguments)}function mm(n){return n.K_||(n.K_=function(e,i,r){const o=Oe(e);return o.w_(),new Eue(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:Sue.bind(null,n),Ro:Due.bind(null,n),mo:kue.bind(null,n),d_:Mue.bind(null,n)}),n.B_.push(function(){var t=(0,H.A)(function*(e){e?(n.K_.s_(),Rk(n)?Mk(n):n.q_.set("Unknown")):(yield n.K_.stop(),l$(n))});return function(e){return t.apply(this,arguments)}}())),n.K_}function Vc(n){return n.U_||(n.U_=function(e,i,r){const o=Oe(e);return o.w_(),new Iue(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Oue.bind(null,n),mo:Lue.bind(null,n),f_:Nue.bind(null,n),g_:Fue.bind(null,n)}),n.B_.push(function(){var t=(0,H.A)(function*(e){e?(n.U_.s_(),yield fm(n)):(yield n.U_.stop(),n.O_.length>0&&(xe("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))});return function(e){return t.apply(this,arguments)}}())),n.U_}class Gk{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const s=Date.now()+i,a=new Gk(t,e,s,r,o);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new we(ae.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pm(n,t){if(Ki("AsyncQueue",`${t}: ${n}`),Ac(n))return new we(ae.UNAVAILABLE,`${t}: ${n}`);throw n}class gm{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ue.comparator(e.key,i.key):(e,i)=>Ue.comparator(e.key,i.key),this.keyedMap=M_(),this.sortedSet=new ti(this.comparator)}static emptySet(t){return new gm(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof gm)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new gm;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class f${constructor(){this.W_=new ti(Ue.comparator)}track(t){const e=t.doc.key,i=this.W_.get(e);i?0!==t.type&&3===i.type?this.W_=this.W_.insert(e,t):3===t.type&&1!==i.type?this.W_=this.W_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.W_=this.W_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.W_=this.W_.remove(e):1===t.type&&2===i.type?this.W_=this.W_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):We():this.W_=this.W_.insert(e,t)}G_(){const t=[];return this.W_.inorderTraversal((e,i)=>{t.push(i)}),t}}class _m{constructor(t,e,i,r,o,s,a,l,c){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,i,r,o){const s=[];return e.forEach(a=>{s.push({type:0,doc:a})}),new _m(t,e,gm.emptySet(e),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&D_(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class Vue{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class Bue{constructor(){this.queries=m$(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,i){const r=Oe(e),o=r.queries;r.queries=m$(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(i)})}(this,new we(ae.ABORTED,"Firestore shutting down"))}}function m$(){return new Il(n=>DH(n),D_)}function qk(n,t){return Kk.apply(this,arguments)}function Kk(){return(Kk=(0,H.A)(function*(n,t){const e=Oe(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.H_()&&t.J_()&&(i=2):(o=new Vue,i=t.J_()?0:1);try{switch(i){case 0:o.z_=yield e.onListen(r,!0);break;case 1:o.z_=yield e.onListen(r,!1);break;case 2:yield e.onFirstRemoteStoreListen(r)}}catch(s){const a=pm(s,`Initialization of query '${Zf(t.query)}' failed`);return void t.onError(a)}e.queries.set(r,o),o.j_.push(t),t.Z_(e.onlineState),o.z_&&t.X_(o.z_)&&Xk(e)})).apply(this,arguments)}function Yk(n,t){return Qk.apply(this,arguments)}function Qk(){return(Qk=(0,H.A)(function*(n,t){const e=Oe(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const s=o.j_.indexOf(t);s>=0&&(o.j_.splice(s,1),0===o.j_.length?r=t.J_()?0:1:!o.H_()&&t.J_()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}})).apply(this,arguments)}function Uue(n,t){const e=Oe(n);let i=!1;for(const r of t){const s=e.queries.get(r.query);if(s){for(const a of s.j_)a.X_(r)&&(i=!0);s.z_=r}}i&&Xk(e)}function zue(n,t,e){const i=Oe(n),r=i.queries.get(t);if(r)for(const o of r.j_)o.onError(e);i.queries.delete(t)}function Xk(n){n.Y_.forEach(t=>{t.next()})}var Zk,p$;(p$=Zk||(Zk={})).ea="default",p$.Cache="cache";class Jk{constructor(t,e,i){this.query=t,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new _m(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.na?this.ia(t)&&(this.ta.next(t),e=!0):this.sa(t,this.onlineState)&&(this.oa(t),e=!0),this.ra=t,e}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),e=!0),e}sa(t,e){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=_m.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Zk.Cache}}class jue{constructor(t,e){this.aa=t,this.byteLength=e}ua(){return"metadata"in this.aa}}class g${constructor(t){this.serializer=t}Es(t){return Fa(this.serializer,t)}ds(t){return t.metadata.exists?d3(this.serializer,t.document,!1):hi.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return Yi(t)}}class Hue{constructor(t,e,i){this.ca=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=_$(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++e;const i=on.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ha(t){const e=new Map,i=new g$(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.Es(r.metadata.name);for(const s of r.metadata.queries){const a=(e.get(s)||Nt()).add(o);e.set(s,a)}}return e}complete(){var t=this;return(0,H.A)(function*(){const e=yield function _ue(n,t,e,i){return yk.apply(this,arguments)}(t.localStore,new g$(t.serializer),t.documents,t.ca.id),i=t.ha(t.documents);for(const r of t.queries)yield vue(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Pa:t.collectionGroups,Ia:e}})()}}function _$(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class v${constructor(t){this.key=t}}class b${constructor(t){this.key=t}}class y${constructor(t,e){this.query=t,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Nt(),this.mutatedKeys=Nt(),this.Aa=MH(t),this.Ra=new gm(this.Aa)}get Va(){return this.Ta}ma(t,e){const i=e?e.fa:new f$,r=e?e.Ra:this.Ra;let o=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,h)=>{const p=r.get(d),v=k_(this.query,h)?h:null,b=!!p&&this.mutatedKeys.has(p.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;p&&v?p.data.isEqual(v.data)?b!==w&&(i.track({type:3,doc:v}),E=!0):this.ga(p,v)||(i.track({type:2,doc:v}),E=!0,(l&&this.Aa(v,l)>0||c&&this.Aa(v,c)<0)&&(a=!0)):!p&&v?(i.track({type:0,doc:v}),E=!0):p&&!v&&(i.track({type:1,doc:p}),E=!0,(l||c)&&(a=!0)),E&&(v?(s=s.add(v),o=w?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const d="F"===this.query.limitType?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),i.track({type:1,doc:d})}return{Ra:s,fa:i,ns:a,mutatedKeys:o}}ga(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const s=t.fa.G_();s.sort((d,h)=>function(v,b){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We()}};return w(v)-w(b)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(i),r=null!=r&&r;const a=e&&!r?this.ya():[],l=0===this.da.size&&this.current&&!r?1:0,c=l!==this.Ea;return this.Ea=l,0!==s.length||c?{snapshot:new _m(this.query,t.Ra,o,s,t.mutatedKeys,0===l,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new f$,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Nt(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const e=[];return t.forEach(i=>{this.da.has(i)||e.push(new b$(i))}),this.da.forEach(i=>{t.has(i)||e.push(new v$(i))}),e}ba(t){this.Ta=t.Ts,this.da=Nt();const e=this.ma(t.documents);return this.applyChanges(e,!0)}Da(){return _m.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class $ue{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Wue{constructor(t){this.key=t,this.va=!1}}class Gue{constructor(t,e,i,r,o,s){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Il(a=>DH(a),D_),this.Ma=new Map,this.xa=new Set,this.Oa=new ti(Ue.comparator),this.Na=new Map,this.La=new hk,this.Ba={},this.ka=new Map,this.qa=wu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function que(n,t){return eM.apply(this,arguments)}function eM(){return(eM=(0,H.A)(function*(n,t,e=!0){const i=$x(n);let r;const o=i.Fa.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=yield w$(i,t,e,!0),r})).apply(this,arguments)}function Kue(n,t){return tM.apply(this,arguments)}function tM(){return(tM=(0,H.A)(function*(n,t){const e=$x(n);yield w$(e,t,!0,!1)})).apply(this,arguments)}function w$(n,t,e,i){return nM.apply(this,arguments)}function nM(){return(nM=(0,H.A)(function*(n,t,e,i){const r=yield cm(n.localStore,Jr(t)),o=r.targetId,s=n.sharedClientState.addLocalQueryTarget(o,e);let a;return i&&(a=yield iM(n,t,o,"current"===s,r.resumeToken)),n.isPrimaryClient&&e&&jx(n.remoteStore,r),a})).apply(this,arguments)}function iM(n,t,e,i,r){return rM.apply(this,arguments)}function rM(){return rM=(0,H.A)(function*(n,t,e,i,r){n.Ka=(h,p,v)=>{return(b=(0,H.A)(function*(E,M,S,V){let $=M.view.ma(S);$.ns&&($=yield Lx(E.localStore,M.query,!1).then(({documents:k})=>M.view.ma(k,$)));const Q=V&&V.targetChanges.get(M.targetId),ee=V&&null!=V.targetMismatches.get(M.targetId),L=M.view.applyChanges($,E.isPrimaryClient,Q,ee);return pM(E,M.targetId,L.wa),L.snapshot}),function w(E,M,S,V){return b.apply(this,arguments)})(n,h,p,v);var b};const o=yield Lx(n.localStore,t,!0),s=new y$(t,o.Ts),a=s.ma(o.documents),l=L_.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),c=s.applyChanges(a,n.isPrimaryClient,l);pM(n,e,c.wa);const d=new $ue(t,e,s);return n.Fa.set(t,d),n.Ma.has(e)?n.Ma.get(e).push(t):n.Ma.set(e,[t]),c.snapshot}),rM.apply(this,arguments)}function Yue(n,t,e){return oM.apply(this,arguments)}function oM(){return(oM=(0,H.A)(function*(n,t,e){const i=Oe(n),r=i.Fa.get(t),o=i.Ma.get(r.targetId);if(o.length>1)return i.Ma.set(r.targetId,o.filter(s=>!D_(s,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield dm(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&hm(i.remoteStore,r.targetId),vm(i,r.targetId)}).catch(Cc))):(vm(i,r.targetId),yield dm(i.localStore,r.targetId,!0))})).apply(this,arguments)}function Que(n,t){return sM.apply(this,arguments)}function sM(){return(sM=(0,H.A)(function*(n,t){const e=Oe(n),i=e.Fa.get(t),r=e.Ma.get(i.targetId);e.isPrimaryClient&&1===r.length&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),hm(e.remoteStore,i.targetId))})).apply(this,arguments)}function aM(){return(aM=(0,H.A)(function*(n,t,e){const i=AM(n);try{const r=yield function(s,a){const l=Oe(s),c=wi.now(),d=a.reduce((v,b)=>v.add(b.key),Nt());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=Lo(),w=Nt();return l.cs.getEntries(v,d).next(E=>{b=E,b.forEach((M,S)=>{S.isValidDocument()||(w=w.add(M))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,b)).next(E=>{h=E;const M=[];for(const S of a){const V=Ede(S,h.get(S.key).overlayedDocument);null!=V&&M.push(new Cl(S.key,V,fH(V.value.mapValue),Ei.exists(!0)))}return l.mutationQueue.addMutationBatch(v,c,M,a)}).next(E=>{p=E;const M=E.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(v,E.batchId,M)})}).then(()=>({batchId:p.batchId,changes:PH(h)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let c=s.Ba[s.currentUser.toKey()];c||(c=new ti(Et)),c=c.insert(a,l),s.Ba[s.currentUser.toKey()]=c}(i,r.batchId,e),yield Tl(i,r.changes),yield fm(i.remoteStore)}catch(r){const o=pm(r,"Failed to persist write");e.reject(o)}})).apply(this,arguments)}function x$(n,t){return lM.apply(this,arguments)}function lM(){return(lM=(0,H.A)(function*(n,t){const e=Oe(n);try{const i=yield function pue(n,t){const e=Oe(n),i=t.snapshotVersion;let r=e.os;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=e.cs.newChangeBuffer({trackRemovals:!0});r=e.os;const a=[];t.targetChanges.forEach((d,h)=>{const p=r.get(h);if(!p)return;a.push(e.Ur.removeMatchingKeys(o,d.removedDocuments,h).next(()=>e.Ur.addMatchingKeys(o,d.addedDocuments,h)));let v=p.withSequenceNumber(o.currentSequenceNumber);var w,E,M;null!==t.targetMismatches.get(h)?v=v.withResumeToken(Li.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,i)),r=r.insert(h,v),E=v,M=d,(0===(w=p).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0)&&a.push(e.Ur.updateTargetData(o,v))});let l=Lo(),c=Nt();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(X3(o,s,t.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!i.isEqual(et.min())){const d=e.Ur.getLastRemoteSnapshotVersion(o).next(h=>e.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(d)}return ne.waitFor(a).next(()=>s.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(e.os=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const s=e.Na.get(o);s&&(Xe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.va=!0:r.modifiedDocuments.size>0?Xe(s.va):r.removedDocuments.size>0&&(Xe(s.va),s.va=!1))}),yield Tl(e,i,t)}catch(i){yield Cc(i)}})).apply(this,arguments)}function E$(n,t,e){const i=Oe(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.Fa.forEach((o,s)=>{const a=s.view.Z_(t);a.snapshot&&r.push(a.snapshot)}),function(s,a){const l=Oe(s);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.j_)p.Z_(a)&&(c=!0)}),c&&Xk(l)}(i.eventManager,t),r.length&&i.Ca.d_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Zue(n,t,e){return cM.apply(this,arguments)}function cM(){return(cM=(0,H.A)(function*(n,t,e){const i=Oe(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Na.get(t),o=r&&r.key;if(o){let s=new ti(Ue.comparator);s=s.insert(o,hi.newNoDocument(o,et.min()));const a=Nt().add(o),l=new F_(et.min(),new Map,new ti(Et),s,a);yield x$(i,l),i.Oa=i.Oa.remove(o),i.Na.delete(t),gM(i)}else yield dm(i.localStore,t,!1).then(()=>vm(i,t,e)).catch(Cc)})).apply(this,arguments)}function Jue(n,t){return dM.apply(this,arguments)}function dM(){return(dM=(0,H.A)(function*(n,t){const e=Oe(n),i=t.batch.batchId;try{const r=yield function mue(n,t){const e=Oe(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let v=ne.resolve();return p.forEach(b=>{v=v.next(()=>d.getEntry(l,b)).next(w=>{const E=c.docVersions.get(b);Xe(null!==E),w.version.compareTo(E)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Nt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);mM(e,i,null),fM(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Tl(e,r)}catch(r){yield Cc(r)}})).apply(this,arguments)}function ehe(n,t,e){return uM.apply(this,arguments)}function uM(){return(uM=(0,H.A)(function*(n,t,e){const i=Oe(n);try{const r=yield function(s,a){const l=Oe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Xe(null!==h),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(i.localStore,t);mM(i,t,e),fM(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Tl(i,r)}catch(r){yield Cc(r)}})).apply(this,arguments)}function hM(){return(hM=(0,H.A)(function*(n,t){const e=Oe(n);Lc(e.remoteStore)||xe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=Oe(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ka.get(i)||[];r.push(t),e.ka.set(i,r)}catch(i){const r=pm(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}})).apply(this,arguments)}function fM(n,t){(n.ka.get(t)||[]).forEach(e=>{e.resolve()}),n.ka.delete(t)}function mM(n,t,e){const i=Oe(n);let r=i.Ba[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ba[i.currentUser.toKey()]=r}}function vm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Ma.get(t))n.Fa.delete(i),e&&n.Ca.$a(i,e);n.Ma.delete(t),n.isPrimaryClient&&n.La.gr(t).forEach(i=>{n.La.containsKey(i)||I$(n,i)})}function I$(n,t){n.xa.delete(t.path.canonicalString());const e=n.Oa.get(t);null!==e&&(hm(n.remoteStore,e),n.Oa=n.Oa.remove(t),n.Na.delete(e),gM(n))}function pM(n,t,e){for(const i of e)i instanceof v$?(n.La.addReference(i.key,t),nhe(n,i)):i instanceof b$?(xe("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,t),n.La.containsKey(i.key)||I$(n,i.key)):We()}function nhe(n,t){const e=t.key,i=e.path.canonicalString();n.Oa.get(e)||n.xa.has(i)||(xe("SyncEngine","New document in limbo: "+e),n.xa.add(i),gM(n))}function gM(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const t=n.xa.values().next().value;n.xa.delete(t);const e=new Ue(on.fromString(t)),i=n.qa.next();n.Na.set(i,new Wue(e)),n.Oa=n.Oa.insert(e,i),jx(n.remoteStore,new Al(Jr(Qf(e.path)),i,"TargetPurposeLimboResolution",as.oe))}}function Tl(n,t,e){return _M.apply(this,arguments)}function _M(){return _M=(0,H.A)(function*(n,t,e){const i=Oe(n),r=[],o=[],s=[];var a;i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{s.push(i.Ka(l,t,e).then(c=>{var d;if((c||e)&&i.isPrimaryClient){const h=c?!c.fromCache:null===(d=e?.targetChanges.get(l.targetId))||void 0===d?void 0:d.current;i.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){r.push(c);const h=_k.Wi(l.targetId,c);o.push(h)}}))}),yield Promise.all(s),i.Ca.d_(r),yield(a=(0,H.A)(function*(c,d){const h=Oe(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>ne.forEach(d,v=>ne.forEach(v.$i,b=>h.persistence.referenceDelegate.addReference(p,v.targetId,b)).next(()=>ne.forEach(v.Ui,b=>h.persistence.referenceDelegate.removeReference(p,v.targetId,b)))))}catch(p){if(!Ac(p))throw p;xe("LocalStore","Failed to update sequence numbers: "+p)}for(const p of d){const v=p.targetId;if(!p.fromCache){const b=h.os.get(v),E=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);h.os=h.os.insert(v,E)}}}),function l(c,d){return a.apply(this,arguments)})(i.localStore,o))}),_M.apply(this,arguments)}function ihe(n,t){return vM.apply(this,arguments)}function vM(){return(vM=(0,H.A)(function*(n,t){const e=Oe(n);if(!e.currentUser.isEqual(t)){xe("SyncEngine","User change. New user:",t.toKey());const i=yield Y3(e.localStore,t);e.currentUser=t,(o=e).ka.forEach(a=>{a.forEach(l=>{l.reject(new we(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ka.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Tl(e,i.hs)}var o})).apply(this,arguments)}function rhe(n,t){const e=Oe(n),i=e.Na.get(t);if(i&&i.va)return Nt().add(i.key);{let r=Nt();const o=e.Ma.get(t);if(!o)return r;for(const s of o){const a=e.Fa.get(s);r=r.unionWith(a.view.Va)}return r}}function ohe(n,t){return bM.apply(this,arguments)}function bM(){return(bM=(0,H.A)(function*(n,t){const e=Oe(n),i=yield Lx(e.localStore,t.query,!0),r=t.view.ba(i);return e.isPrimaryClient&&pM(e,t.targetId,r.wa),r})).apply(this,arguments)}function she(n,t){return yM.apply(this,arguments)}function yM(){return(yM=(0,H.A)(function*(n,t){const e=Oe(n);return J3(e.localStore,t).then(i=>Tl(e,i))})).apply(this,arguments)}function ahe(n,t,e,i){return wM.apply(this,arguments)}function wM(){return(wM=(0,H.A)(function*(n,t,e,i){const r=Oe(n),o=yield function(a,l){const c=Oe(a),d=Oe(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.Mn(h,l).next(p=>p?c.localDocuments.getDocuments(h,p):ne.resolve(null)))}(r.localStore,t);var l;null!==o?("pending"===e?yield fm(r.remoteStore):"acknowledged"===e||"rejected"===e?(mM(r,t,i||null),fM(r,t),l=t,Oe(Oe(r.localStore).mutationQueue).On(l)):We(),yield Tl(r,o)):xe("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function xM(){return(xM=(0,H.A)(function*(n,t){const e=Oe(n);if($x(e),AM(e),!0===t&&!0!==e.Qa){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield C$(e,i.toArray());e.Qa=!0,yield $k(e.remoteStore,!0);for(const o of r)jx(e.remoteStore,o)}else if(!1===t&&!1!==e.Qa){const i=[];let r=Promise.resolve();e.Ma.forEach((o,s)=>{e.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(vm(e,s),dm(e.localStore,s,!0))),hm(e.remoteStore,s)}),yield r,yield C$(e,i),function(s){const a=Oe(s);a.Na.forEach((l,c)=>{hm(a.remoteStore,c)}),a.La.pr(),a.Na=new Map,a.Oa=new ti(Ue.comparator)}(e),e.Qa=!1,yield $k(e.remoteStore,!1)}})).apply(this,arguments)}function C$(n,t,e){return EM.apply(this,arguments)}function EM(){return(EM=(0,H.A)(function*(n,t,e){const i=Oe(n),r=[],o=[];for(const s of t){let a;const l=i.Ma.get(s);if(l&&0!==l.length){a=yield cm(i.localStore,Jr(l[0]));for(const c of l){const d=i.Fa.get(c),h=yield ohe(i,d);h.snapshot&&o.push(h.snapshot)}}else{const c=yield Z3(i.localStore,s);a=yield cm(i.localStore,c),yield iM(i,A$(c),s,!1,a.resumeToken)}r.push(a)}return i.Ca.d_(o),r})).apply(this,arguments)}function A$(n){return CH(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function che(n){return e=Oe(n).localStore,Oe(Oe(e).persistence).Qi();var e}function dhe(n,t,e,i){return IM.apply(this,arguments)}function IM(){return(IM=(0,H.A)(function*(n,t,e,i){const r=Oe(n);if(r.Qa)return void xe("SyncEngine","Ignoring unexpected query state notification.");const o=r.Ma.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const s=yield J3(r.localStore,kH(o[0])),a=F_.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Li.EMPTY_BYTE_STRING);yield Tl(r,s,a);break}case"rejected":yield dm(r.localStore,t,!0),vm(r,t,i);break;default:We()}})).apply(this,arguments)}function uhe(n,t,e){return CM.apply(this,arguments)}function CM(){return(CM=(0,H.A)(function*(n,t,e){const i=$x(n);if(i.Qa){for(const r of t){if(i.Ma.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){xe("SyncEngine","Adding an already active target "+r);continue}const o=yield Z3(i.localStore,r),s=yield cm(i.localStore,o);yield iM(i,A$(o),s.targetId,!1,s.resumeToken),jx(i.remoteStore,s)}for(const r of e)i.Ma.has(r)&&(yield dm(i.localStore,r,!1).then(()=>{hm(i.remoteStore,r),vm(i,r)}).catch(Cc))}})).apply(this,arguments)}function $x(n){const t=Oe(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=x$.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rhe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zue.bind(null,t),t.Ca.d_=Uue.bind(null,t.eventManager),t.Ca.$a=zue.bind(null,t.eventManager),t}function AM(n){const t=Oe(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Jue.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ehe.bind(null,t),t}let bm=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){var i=this;return(0,H.A)(function*(){i.serializer=q_(e.databaseInfo.databaseId),i.sharedClientState=i.Wa(e),i.persistence=i.Ga(e),yield i.persistence.start(),i.localStore=i.za(e),i.gcScheduler=i.ja(e,i.localStore),i.indexBackfillerScheduler=i.Ha(e,i.localStore)})()}ja(e,i){return null}Ha(e,i){return null}za(e){return K3(this.persistence,new q3,e.initialUser,this.serializer)}Ga(e){return new fk(Ox.Zr,this.serializer)}Wa(e){return new i$}terminate(){var e=this;return(0,H.A)(function*(){var i,r;null===(i=e.gcScheduler)||void 0===i||i.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}return n.provider={build:()=>new n},n})();class TM extends bm{constructor(t,e,i){super(),this.Ja=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,H.A)(function*(){yield e().call(i,t),yield i.Ja.initialize(i,t),yield AM(i.Ja.syncEngine),yield fm(i.Ja.remoteStore),yield i.persistence.yi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(t){return K3(this.persistence,new q3,t.initialUser,this.serializer)}ja(t,e){return new V3(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ha(t,e){const i=new Oce(e,this.persistence);return new Pce(t.asyncQueue,i)}Ga(t){const e=gk(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?eo.withCacheSize(this.cacheSizeBytes):eo.DEFAULT;return new pk(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,o$(),zx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(t){return new i$}}class T$ extends TM{constructor(t,e){super(t,e,!1),this.Ja=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,H.A)(function*(){yield e().call(i,t);const r=i.Ja.syncEngine;i.sharedClientState instanceof Ck&&(i.sharedClientState.syncEngine={no:ahe.bind(null,r),ro:dhe.bind(null,r),io:uhe.bind(null,r),Qi:che.bind(null,r),eo:she.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.yi(function(){var o=(0,H.A)(function*(s){yield function lhe(n,t){return xM.apply(this,arguments)}(i.Ja.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}Wa(t){const e=o$();if(!Ck.D(e))throw new we(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=gk(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Ck(e,t.asyncQueue,i,t.clientId,t.initialUser)}}let ym=(()=>{class n{initialize(e,i){var r=this;return(0,H.A)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(i),r.remoteStore=r.createRemoteStore(i),r.eventManager=r.createEventManager(i),r.syncEngine=r.createSyncEngine(i,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>E$(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=ihe.bind(null,r.syncEngine),yield $k(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Bue}createDatastore(e){const i=q_(e.databaseInfo.databaseId),r=new xue(e.databaseInfo);return new Cue(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return r=this.localStore,o=this.datastore,s=e.asyncQueue,a=i=>E$(this.syncEngine,i,0),l=r$.D()?new r$:new bue,new Tue(r,o,s,a,l);var r,o,s,a,l}createSyncEngine(e,i){return function(o,s,a,l,c,d,h){const p=new Gue(o,s,a,l,c,d);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){var e=this;return(0,H.A)(function*(){var i,r,o;yield(o=(0,H.A)(function*(a){const l=Oe(a);xe("RemoteStore","RemoteStore shutting down."),l.L_.add(5),yield um(l),l.k_.shutdown(),l.q_.set("Unknown")}),function s(a){return o.apply(this,arguments)})(e.remoteStore),null===(i=e.datastore)||void 0===i||i.terminate(),null===(r=e.eventManager)||void 0===r||r.terminate()})()}}return n.provider={build:()=>new n},n})();function S$(n,t=10240){let e=0;return{read:()=>(0,H.A)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,H.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Wx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Ki("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,e){setTimeout(()=>{this.muted||t(e)},0)}}class mhe{constructor(t,e){this.Xa=t,this.serializer=e,this.metadata=new Ir,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(i=>{i&&i.ua()?this.metadata.resolve(i.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.aa)}`))},i=>this.metadata.reject(i))}close(){return this.Xa.cancel()}getMetadata(){var t=this;return(0,H.A)(function*(){return t.metadata.promise})()}Ua(){var t=this;return(0,H.A)(function*(){return yield t.getMetadata(),t.tu()})()}tu(){var t=this;return(0,H.A)(function*(){const e=yield t.nu();if(null===e)return null;const i=t.eu.decode(e),r=Number(i);isNaN(r)&&t.ru(`length string (${i}) is not valid number`);const o=yield t.iu(r);return new jue(JSON.parse(o),e.length+r)})()}su(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}nu(){var t=this;return(0,H.A)(function*(){for(;t.su()<0&&!(yield t.ou()););if(0===t.buffer.length)return null;const e=t.su();e<0&&t.ru("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}iu(t){var e=this;return(0,H.A)(function*(){for(;e.buffer.length<t;)(yield e.ou())&&e.ru("Reached the end of bundle when more is expected.");const i=e.eu.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}ru(t){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${t}`)}ou(){var t=this;return(0,H.A)(function*(){const e=yield t.Xa.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class phe{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,H.A)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw e.lastTransactionError=new we(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),e.lastTransactionError;const i=yield(r=(0,H.A)(function*(s,a){const l=Oe(s),c={documents:a.map(v=>V_(l.serializer,v))},d=yield l.Lo("BatchGetDocuments",l.serializer.databaseId,on.emptyPath(),c,a.length),h=new Map;d.forEach(v=>{const b=function Rde(n,t){return"found"in t?function(i,r){Xe(!!r.found);const o=Fa(i,r.found.name),s=Yi(r.found.updateTime),a=r.found.createTime?Yi(r.found.createTime):et.min(),l=new Nr({mapValue:{fields:r.found.fields}});return hi.newFoundDocument(o,s,a,l)}(n,t):"missing"in t?function(i,r){Xe(!!r.missing),Xe(!!r.readTime);const o=Fa(i,r.missing),s=Yi(r.readTime);return hi.newNoDocument(o,s)}(n,t):We()}(l.serializer,v);h.set(b.key.toString(),b)});const p=[];return a.forEach(v=>{const b=h.get(v.toString());Xe(!!b),p.push(b)}),p}),function o(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new nm(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,H.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=Ue.fromPath(r);t.mutations.push(new YD(o,t.precondition(o)))}),yield(i=(0,H.A)(function*(o,s){const a=Oe(o),l={writes:s.map(c=>B_(a.serializer,c))};yield a.Mo("Commit",a.serializer.databaseId,on.emptyPath(),l)}),function r(o,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw We();e=et.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new we(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(et.min())?Ei.exists(!1):Ei.updateTime(e):Ei.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(et.min()))throw new we(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ei.updateTime(e)}return Ei.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class ghe{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this._u=i.maxAttempts,this.t_=new Tk(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var t=this;this.t_.Go((0,H.A)(function*(){const e=new phe(t.datastore),i=t.cu(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.lu(o)}))}).catch(r=>{t.lu(r)})}))}cu(t){try{const e=this.updateFunction(t);return!w_(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}lu(t){this._u>0&&this.hu(t)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(t)}hu(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!KH(e)}return!1}}class _he{constructor(t,e,i,r,o){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Er.UNAUTHENTICATED,this.clientId=B4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,function(){var a=(0,H.A)(function*(l){xe("FirestoreClient","Received user=",l.uid),yield s.authCredentialListener(l),s.user=l});return function(l){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(xe("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,H.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=pm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function SM(n,t){return DM.apply(this,arguments)}function DM(){return DM=(0,H.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),xe("FirestoreClient","Initializing OfflineComponentProvider");const e=n.configuration;yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,H.A)(function*(o){i.isEqual(o)||(yield Y3(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),DM.apply(this,arguments)}function D$(n,t){return kM.apply(this,arguments)}function kM(){return(kM=(0,H.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield MM(n);xe("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>h$(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>h$(t.remoteStore,r)),n._onlineComponents=t})).apply(this,arguments)}function MM(n){return RM.apply(this,arguments)}function RM(){return(RM=(0,H.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){xe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield SM(n,n._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===(r=t).name?r.code===ae.FAILED_PRECONDITION||r.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code))throw t;os("Error using user provided cache. Falling back to memory cache: "+t),yield SM(n,new bm)}}else xe("FirestoreClient","Using default OfflineComponentProvider"),yield SM(n,new bm);var r;return n._offlineComponents})).apply(this,arguments)}function Gx(n){return PM.apply(this,arguments)}function PM(){return(PM=(0,H.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(xe("FirestoreClient","Using user provided OnlineComponentProvider"),yield D$(n,n._uninitializedComponentsProvider._online)):(xe("FirestoreClient","Using default OnlineComponentProvider"),yield D$(n,new ym))),n._onlineComponents})).apply(this,arguments)}function k$(n){return MM(n).then(t=>t.persistence)}function wm(n){return MM(n).then(t=>t.localStore)}function M$(n){return Gx(n).then(t=>t.remoteStore)}function OM(n){return Gx(n).then(t=>t.syncEngine)}function xm(n){return NM.apply(this,arguments)}function NM(){return(NM=(0,H.A)(function*(n){const t=yield Gx(n),e=t.eventManager;return e.onListen=que.bind(null,t.syncEngine),e.onUnlisten=Yue.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Kue.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Que.bind(null,t.syncEngine),e})).apply(this,arguments)}function P$(n,t,e={}){const i=new Ir;return n.asyncQueue.enqueueAndForget((0,H.A)(function*(){return function(o,s,a,l,c){const d=new Wx({next:p=>{d.Za(),s.enqueueAndForget(()=>Yk(o,h));const v=p.docs.has(a);!v&&p.fromCache?c.reject(new we(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&l&&"server"===l.source?c.reject(new we(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new Jk(Qf(a.path),d,{includeMetadataChanges:!0,_a:!0});return qk(o,h)}(yield xm(n),n.asyncQueue,t,e,i)})),i.promise}function O$(n,t,e={}){const i=new Ir;return n.asyncQueue.enqueueAndForget((0,H.A)(function*(){return function(o,s,a,l,c){const d=new Wx({next:p=>{d.Za(),s.enqueueAndForget(()=>Yk(o,h)),p.fromCache&&"server"===l.source?c.reject(new we(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new Jk(a,d,{includeMetadataChanges:!0,_a:!0});return qk(o,h)}(yield xm(n),n.asyncQueue,t,e,i)})),i.promise}function N$(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const F$=new Map;function FM(n,t,e){if(!e)throw new we(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function L$(n,t,e,i){if(!0===t&&!0===i)throw new we(ae.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function V$(n){if(!Ue.isDocumentKey(n))throw new we(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function B$(n){if(Ue.isDocumentKey(n))throw new we(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qx(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":We()}function Qt(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new we(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=qx(n);throw new we(ae.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function U$(n,t){if(t<=0)throw new we(ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class z${constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new we(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new we(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}L$("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=N$(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new we(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new we(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new we(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Y_{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z$({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new we(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z$(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new wce;switch(i.type){case"firstParty":return new Cce(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new we(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var t=this;return(0,H.A)(function*(){"notTerminated"===t._terminateTask?yield t._terminate():t._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=F$.get(e);i&&(xe("ComponentProvider","Removing Datastore"),F$.delete(e),i.terminate())}(this),Promise.resolve()}}function j$(n,t,e,i={}){var r;const o=(n=Qt(n,Y_))._getSettings(),s=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=Er.MOCK_USER;else{a=(0,vn.Fy)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new we(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Er(c)}n._authCredentials=new xce(new L4(a,l))}}class Fr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Fr(this.firestore,t,this._query)}}class fi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new La(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fi(this.firestore,t,this._key)}}class La extends Fr{constructor(t,e,i){super(t,e,Qf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fi(this.firestore,null,new Ue(t))}withConverter(t){return new La(this.firestore,t,this._path)}}function H$(n,t,...e){if(n=(0,vn.Ku)(n),FM("collection","path",t),n instanceof Y_){const i=on.fromString(t,...e);return B$(i),new La(n,null,i)}{if(!(n instanceof fi||n instanceof La))throw new we(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(on.fromString(t,...e));return B$(i),new La(n.firestore,null,i)}}function Q_(n,t,...e){if(n=(0,vn.Ku)(n),1===arguments.length&&(t=B4.newId()),FM("doc","path",t),n instanceof Y_){const i=on.fromString(t,...e);return V$(i),new fi(n,null,new Ue(i))}{if(!(n instanceof fi||n instanceof La))throw new we(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(on.fromString(t,...e));return V$(i),new fi(n.firestore,n instanceof La?n.converter:null,new Ue(i))}}function $$(n,t){return n=(0,vn.Ku)(n),t=(0,vn.Ku)(t),(n instanceof fi||n instanceof La)&&(t instanceof fi||t instanceof La)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function LM(n,t){return n=(0,vn.Ku)(n),t=(0,vn.Ku)(t),n instanceof Fr&&t instanceof Fr&&n.firestore===t.firestore&&D_(n._query,t._query)&&n.converter===t.converter}class W${constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Tk(this,"async_queue_retry"),this.Vu=()=>{const i=zx();i&&xe("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=t;const e=zx();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const e=zx();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const e=new Ir;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}pu(){var t=this;return(0,H.A)(function*(){if(0!==t.Pu.length){try{yield t.Pu[0](),t.Pu.shift(),t.t_.reset()}catch(e){if(!Ac(e))throw e;xe("AsyncQueue","Operation failed with retryable error: "+e)}t.Pu.length>0&&t.t_.Go(()=>t.pu())}})()}gu(t){const e=this.mu.then(()=>(this.du=!0,t().catch(i=>{throw this.Eu=i,this.du=!1,Ki("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.du=!1,i))));return this.mu=e,e}enqueueAfterDelay(t,e,i){this.fu(),this.Ru.indexOf(t)>-1&&(e=0);const r=Gk.createAndSchedule(this,t,e,i,o=>this.yu(o));return this.Tu.push(r),r}fu(){this.Eu&&We()}verifyOperationInProgress(){}wu(){var t=this;return(0,H.A)(function*(){let e;do{e=t.mu,yield e}while(e!==t.mu)})()}Su(t){for(const e of this.Tu)if(e.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Tu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const e=this.Tu.indexOf(t);this.Tu.splice(e,1)}}function VM(n){return function(e,i){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class khe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ir,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Gn extends Y_{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new W$,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){var t=this;return(0,H.A)(function*(){if(t._firestoreClient){const e=t._firestoreClient.terminate();t._queue=new W$(e),t._firestoreClient=void 0,yield e}})()}}function Rhe(n,t){const e="object"==typeof n?n:(0,Xr.getApp)(),i="string"==typeof n?n:t||"(default)",r=(0,Xr._getProvider)(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(0,vn.yU)("firestore");o&&j$(r,...o)}return r}function Ii(n){if(n._terminated)throw new we(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||G$(n),n._firestoreClient}function G$(n){var t,e,i;const r=n._freezeSettings(),o=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new nde(n._databaseId,l,n._persistenceKey,(d=r).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,N$(d.experimentalLongPollingOptions),d.useFetchStreams));var l,d;n._componentsProvider||!(null===(e=r.localCache)||void 0===e)&&e._offlineComponentProvider&&!(null===(i=r.localCache)||void 0===i)&&i._onlineComponentProvider&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new _he(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}function BM(){return(BM=(0,H.A)(function*(n){os("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();q$(n,ym.provider,{build:e=>new T$(e,t.cacheSizeBytes)})})).apply(this,arguments)}function q$(n,t,e){if((n=Qt(n,Gn))._firestoreClient||n._terminated)throw new we(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new we(ae.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:t,_offline:e},G$(n)}class Va{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Va(Li.fromBase64String(t))}catch(e){throw new we(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Va(Li.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Sl{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new we(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ui(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Eu{constructor(t){this._methodName=t}}class Kx{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new we(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new we(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Et(this._lat,t._lat)||Et(this._long,t._long)}}class Yx{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}}const jhe=/^__.*__$/;class Hhe{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Cl(t,this.data,this.fieldMask,e,this.fieldTransforms):new tm(t,this.data,e,this.fieldTransforms)}}class K${constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Cl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Y$(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We()}}class Qx{constructor(t,e,i,r,o,s){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Qx(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fu({path:i,xu:!1});return r.Ou(t),r}Nu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Jx(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if(Y$(this.Cu)&&jhe.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class $he{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||q_(t)}Qu(t,e,i,r=!1){return new Qx({Cu:t,methodName:e,qu:i,path:ui.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iu(n){const t=n._freezeSettings(),e=q_(n._databaseId);return new $he(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Xx(n,t,e,i,r,o={}){const s=n.Qu(o.merge||o.mergeFields?2:0,t,e,r);GM("Data must be an object, but it was:",s,i);const a=Z$(i,s);let l,c;if(o.merge)l=new Fo(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const p=J_(t,h,e);if(!s.contains(p))throw new we(ae.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);e5(d,p)||d.push(p)}l=new Fo(d),c=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=s.fieldTransforms;return new Hhe(new Nr(a),l,c)}class Z_ extends Eu{_toFieldTransform(t){if(2!==t.Cu)throw t.Bu(1===t.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Z_}}function Q$(n,t,e){return new Qx({Cu:3,qu:t.settings.qu,methodName:n._methodName,xu:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class UM extends Eu{_toFieldTransform(t){return new P_(t.path,new Jf)}isEqual(t){return t instanceof UM}}class zM extends Eu{constructor(t,e){super(t),this.Ku=e}_toFieldTransform(t){const e=Q$(this,t,!0),i=this.Ku.map(o=>Cu(o,e)),r=new mu(i);return new P_(t.path,r)}isEqual(t){return t instanceof zM&&(0,vn.bD)(this.Ku,t.Ku)}}class jM extends Eu{constructor(t,e){super(t),this.Ku=e}_toFieldTransform(t){const e=Q$(this,t,!0),i=this.Ku.map(o=>Cu(o,e)),r=new pu(i);return new P_(t.path,r)}isEqual(t){return t instanceof jM&&(0,vn.bD)(this.Ku,t.Ku)}}class HM extends Eu{constructor(t,e){super(t),this.$u=e}_toFieldTransform(t){const e=new em(t.serializer,FH(t.serializer,this.$u));return new P_(t.path,e)}isEqual(t){return t instanceof HM&&this.$u===t.$u}}function $M(n,t,e,i){const r=n.Qu(1,t,e);GM("Data must be an object, but it was:",r,i);const o=[],s=Nr.empty();Tc(i,(l,c)=>{const d=Zx(t,l,e);c=(0,vn.Ku)(c);const h=r.Nu(d);if(c instanceof Z_)o.push(d);else{const p=Cu(c,h);null!=p&&(o.push(d),s.set(d,p))}});const a=new Fo(o);return new K$(s,a,r.fieldTransforms)}function WM(n,t,e,i,r,o){const s=n.Qu(1,t,e),a=[J_(t,i,e)],l=[r];if(o.length%2!=0)throw new we(ae.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(J_(t,o[p])),l.push(o[p+1]);const c=[],d=Nr.empty();for(let p=a.length-1;p>=0;--p)if(!e5(c,a[p])){const v=a[p];let b=l[p];b=(0,vn.Ku)(b);const w=s.Nu(v);if(b instanceof Z_)c.push(v);else{const E=Cu(b,w);null!=E&&(c.push(v),d.set(v,E))}}const h=new Fo(c);return new K$(d,h,s.fieldTransforms)}function X$(n,t,e,i=!1){return Cu(e,n.Qu(i?4:3,t))}function Cu(n,t){if(J$(n=(0,vn.Ku)(n)))return GM("Unsupported field value:",t,n),Z$(n,t);if(n instanceof Eu)return function(i,r){if(!Y$(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let l=Cu(a,r.Lu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if(null===(i=(0,vn.Ku)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return FH(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=wi.fromDate(i);return{timestampValue:im(r.serializer,o)}}if(i instanceof wi){const o=new wi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:im(r.serializer,o)}}if(i instanceof Kx)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Va)return{bytesValue:r3(r.serializer,i._byteString)};if(i instanceof fi){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:tk(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Yx)return a=r,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(l=>{if("number"!=typeof l)throw a.Bu("VectorValues must only contain numeric values.");return KD(a.serializer,l)})}}}}};var a;throw r.Bu(`Unsupported field value: ${qx(i)}`)}(n,t)}function Z$(n,t){const e={};return nH(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Tc(n,(i,r)=>{const o=Cu(r,t.Mu(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function J$(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof wi||n instanceof Kx||n instanceof Va||n instanceof fi||n instanceof Eu||n instanceof Yx)}function GM(n,t,e){if(!J$(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=qx(e);throw t.Bu("an object"===i?n+" a custom object":n+" "+i)}var r}function J_(n,t,e){if((t=(0,vn.Ku)(t))instanceof Sl)return t._internalPath;if("string"==typeof t)return Zx(n,t);throw Jx("Field path arguments must be of type string or ",n,!1,void 0,e)}const Whe=new RegExp("[~\\*/\\[\\]]");function Zx(n,t,e){if(t.search(Whe)>=0)throw Jx(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Sl(...t.split("."))._internalPath}catch{throw Jx(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Jx(n,t,e,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new we(ae.INVALID_ARGUMENT,a+n+l)}function e5(n,t){return n.some(e=>e.isEqual(t))}class ev{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Ghe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(eE("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Ghe extends ev{data(){return super.data()}}function eE(n,t){return"string"==typeof t?Zx(n,t):t instanceof Sl?t._internalPath:t._delegate._internalPath}function t5(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new we(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qM{}class tv extends qM{}function Bc(n,t,...e){let i=[];t instanceof qM&&i.push(t),i=i.concat(e),function(o){const s=o.filter(l=>l instanceof Em).length,a=o.filter(l=>l instanceof nv).length;if(s>1||s>0&&a>0)throw new we(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class nv extends tv{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new nv(t,e,i)}_apply(t){const e=this._parse(t);return s5(t._query,e),new Fr(t.firestore,t.converter,GD(t._query,e))}_parse(t){const e=Iu(t.firestore);return function(o,s,a,l,c,d,h){let p;if(c.isKeyField()){if("array-contains"===d||"array-contains-any"===d)throw new we(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if("in"===d||"not-in"===d){o5(h,d);const v=[];for(const b of h)v.push(r5(l,o,b));p={arrayValue:{values:v}}}else p=r5(l,o,h)}else"in"!==d&&"not-in"!==d&&"array-contains-any"!==d||o5(h,d),p=X$(a,"where",h,"in"===d||"not-in"===d);return sn.create(c,d,p)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Em extends qM{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Em(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Tn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const l of a)s5(s,l),s=GD(s,l)}(t._query,e),new Fr(t.firestore,t.converter,GD(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class KM extends tv{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new KM(t,e)}_apply(t){const e=function(r,o,s){if(null!==r.startAt)throw new we(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new we(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new T_(o,s)}(t._query,this._field,this._direction);return new Fr(t.firestore,t.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new El(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class tE extends tv{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new tE(t,e,i)}_apply(t){return new Fr(t.firestore,t.converter,yx(t._query,this._limit,this._limitType))}}class nE extends tv{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new nE(t,e,i)}_apply(t){const e=n5(t,this.type,this._docOrFields,this._inclusive);return new Fr(t.firestore,t.converter,(o=e,new El((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class iE extends tv{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new iE(t,e,i)}_apply(t){const e=n5(t,this.type,this._docOrFields,this._inclusive);return new Fr(t.firestore,t.converter,(o=e,new El((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function n5(n,t,e,i){if(e[0]=(0,vn.Ku)(e[0]),e[0]instanceof ev)return function(o,s,a,l,c){if(!l)throw new we(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const h of Xf(o))if(h.field.isKeyField())d.push(hu(s,l.key));else{const p=l.data.field(h.field);if(hx(p))throw new we(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===p){const v=h.field.canonicalString();throw new we(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}d.push(p)}return new Rc(d,c)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Iu(n.firestore);return function(s,a,l,c,d,h){const p=s.explicitOrderBy;if(d.length>p.length)throw new we(ae.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let b=0;b<d.length;b++){const w=d[b];if(p[b].field.isKeyField()){if("string"!=typeof w)throw new we(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof w}`);if(!WD(s)&&-1!==w.indexOf("/"))throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${w}' contains a slash.`);const E=s.path.child(on.fromString(w));if(!Ue.isDocumentKey(E))throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const M=new Ue(E);v.push(hu(a,M))}else{const E=X$(l,c,w);v.push(E)}}return new Rc(v,h)}(n._query,n.firestore._databaseId,r,t,e,i)}}function r5(n,t,e){if("string"==typeof(e=(0,vn.Ku)(e))){if(""===e)throw new we(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WD(t)&&-1!==e.indexOf("/"))throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(on.fromString(e));if(!Ue.isDocumentKey(i))throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return hu(n,new Ue(i))}if(e instanceof fi)return hu(n,e._key);throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qx(e)}.`)}function o5(n,t){if(!Array.isArray(n)||0===n.length)throw new we(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function s5(n,t){const e=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new we(ae.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class YM{convertValue(t,e="none"){switch(kc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(xl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw We()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Tc(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,r;const o=null===(r=null===(i=null===(e=t.fields)||void 0===e?void 0:e.value.arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.map(s=>xi(s.doubleValue));return new Yx(o)}convertGeoPoint(t){return new Kx(xi(t.latitude),xi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=fx(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(E_(t));default:return null}}convertTimestamp(t){const e=wl(t);return new wi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=on.fromString(t);Xe(g3(i));const r=new Sc(i.get(1),i.get(3)),o=new Ue(i.popFirst(5));return r.isEqual(e)||Ki(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function rE(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class tfe extends YM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Va(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fi(this.firestore,null,e)}}class Au{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Dl extends ev{constructor(t,e,i,r,o,s){super(t,e,i,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new iv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(eE("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class iv extends Dl{data(t={}){return super.data(t)}}class Uc{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Au(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new iv(this._firestore,this._userDataWriter,i.key,i,new Au(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new we(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new iv(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Au(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new iv(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Au(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,d=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:ife(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ife(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We()}}function l5(n,t){return n instanceof Dl&&t instanceof Dl?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Uc&&t instanceof Uc&&n._firestore===t._firestore&&LM(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function c5(n){n=Qt(n,fi);const t=Qt(n.firestore,Gn);return P$(Ii(t),n._key).then(e=>XM(t,n,e))}class zc extends YM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Va(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fi(this.firestore,null,e)}}function QM(n,t,e){n=Qt(n,fi);const i=Qt(n.firestore,Gn),r=rE(n.converter,t,e);return Im(i,[Xx(Iu(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Ei.none())])}function d5(n,t,e,...i){n=Qt(n,fi);const r=Qt(n.firestore,Gn),o=Iu(r);let s;return s="string"==typeof(t=(0,vn.Ku)(t))||t instanceof Sl?WM(o,"updateDoc",n._key,t,e,i):$M(o,"updateDoc",n._key,t),Im(r,[s.toMutation(n._key,Ei.exists(!0))])}function u5(n,...t){var e,i,r;n=(0,vn.Ku)(n);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof t[s]||VM(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(VM(t[s])){const h=t[s];t[s]=null===(e=h.next)||void 0===e?void 0:e.bind(h),t[s+1]=null===(i=h.error)||void 0===i?void 0:i.bind(h),t[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}let l,c,d;if(n instanceof fi)c=Qt(n.firestore,Gn),d=Qf(n._key.path),l={next:h=>{t[s]&&t[s](XM(c,n,h))},error:t[s+1],complete:t[s+2]};else{const h=Qt(n,Fr);c=Qt(h.firestore,Gn),d=h._query;const p=new zc(c);l={next:v=>{t[s]&&t[s](new Uc(c,p,h,v))},error:t[s+1],complete:t[s+2]},t5(n._query)}return function(p,v,b,w){const E=new Wx(w),M=new Jk(v,E,b);return p.asyncQueue.enqueueAndForget((0,H.A)(function*(){return qk(yield xm(p),M)})),()=>{E.Za(),p.asyncQueue.enqueueAndForget((0,H.A)(function*(){return Yk(yield xm(p),M)}))}}(Ii(c),d,a,l)}function Im(n,t){return function(i,r){const o=new Ir;return i.asyncQueue.enqueueAndForget((0,H.A)(function*(){return function Xue(n,t,e){return aM.apply(this,arguments)}(yield OM(i),r,o)})),o.promise}(Ii(n),t)}function XM(n,t,e){const i=e.docs.get(t._key),r=new zc(n);return new Dl(n,r,t._key,i,new Au(e.hasPendingWrites,e.fromCache),t.converter)}const yfe={maxAttempts:5};class h5{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Iu(t)}set(t,e,i){this._verifyNotCommitted();const r=jc(t,this._firestore),o=rE(r.converter,e,i),s=Xx(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,Ei.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=jc(t,this._firestore);let s;return s="string"==typeof(e=(0,vn.Ku)(e))||e instanceof Sl?WM(this._dataReader,"WriteBatch.update",o._key,e,i,r):$M(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Ei.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=jc(t,this._firestore);return this._mutations=this._mutations.concat(new nm(e._key,Ei.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jc(n,t){if((n=(0,vn.Ku)(n)).firestore!==t)throw new we(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class wfe extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=Iu(e)}get(e){const i=jc(e,this._firestore),r=new tfe(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return We();const s=o[0];if(s.isFoundDocument())return new ev(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new ev(this._firestore,r,i._key,null,i.converter);throw We()})}set(e,i,r){const o=jc(e,this._firestore),s=rE(o.converter,i,r),a=Xx(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(e,i,r,...o){const s=jc(e,this._firestore);let a;return a="string"==typeof(i=(0,vn.Ku)(i))||i instanceof Sl?WM(this._dataReader,"Transaction.update",s._key,i,r,o):$M(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(e){const i=jc(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=jc(t,this._firestore),i=new zc(this._firestore);return super.get(t).then(r=>new Dl(this._firestore,i,e._key,r._document,new Au(!1,!1),e.converter))}}function JM(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new we("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function g5(){if(typeof Uint8Array>"u")throw new we("unimplemented","Uint8Arrays are not available in this environment.")}function _5(){if(!function ede(){return typeof atob<"u"}())throw new we("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){jf=Xr.SDK_VERSION,(0,Xr._registerComponent)(new T4.uA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new Gn(new Ece(i.getProvider("auth-internal")),new Ace(i.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new we(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(c.options.projectId,d)}(s,r),s);return o=Object.assign({useFetchStreams:e},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Xr.registerVersion)(F4,"4.7.3",t),(0,Xr.registerVersion)(F4,"4.7.3","esm2017")}();class rv{constructor(t){this._delegate=t}static fromBase64String(t){return _5(),new rv(Va.fromBase64String(t))}static fromUint8Array(t){return g5(),new rv(Va.fromUint8Array(t))}toBase64(){return _5(),this._delegate.toBase64()}toUint8Array(){return g5(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function eR(n){return function Mfe(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class Rfe{enableIndexedDbPersistence(t,e){return function Phe(n,t){os("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();return q$(n,ym.provider,{build:i=>new TM(i,e.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function Ohe(n){return BM.apply(this,arguments)}(t._delegate)}clearIndexedDbPersistence(t){return function Nhe(n){if(n._initialized&&!n._terminated)throw new we(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ir;return n._queue.enqueueAndForgetEvenWhileRestricted((0,H.A)(function*(){try{yield(e=(0,H.A)(function*(r){if(!Ra.D())return Promise.resolve();const o=r+"main";yield Ra.delete(o)}),function i(r){return e.apply(this,arguments)})(gk(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class v5{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Sc||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&os("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){j$(this._delegate,t,e,i)}enableNetwork(){return function Lhe(n){return function vhe(n){return n.asyncQueue.enqueue((0,H.A)(function*(){const t=yield k$(n),e=yield M$(n);return t.setNetworkEnabled(!0),function(r){const o=Oe(r);return o.L_.delete(0),K_(o)}(e)}))}(Ii(n=Qt(n,Gn)))}(this._delegate)}disableNetwork(){return function Vhe(n){return function bhe(n){return n.asyncQueue.enqueue((0,H.A)(function*(){const t=yield k$(n),e=yield M$(n);return t.setNetworkEnabled(!1),(i=(0,H.A)(function*(o){const s=Oe(o);s.L_.add(0),yield um(s),s.q_.set("Offline")}),function r(o){return i.apply(this,arguments)})(e);var i}))}(Ii(n=Qt(n,Gn)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,L$("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Fhe(n){return function(e){const i=new Ir;return e.asyncQueue.enqueueAndForget((0,H.A)(function*(){return function the(n,t){return hM.apply(this,arguments)}(yield OM(e),i)})),i.promise}(Ii(n=Qt(n,Gn)))}(this._delegate)}onSnapshotsInSync(t){return function ufe(n,t){return function Ehe(n,t){const e=new Wx(t);return n.asyncQueue.enqueueAndForget((0,H.A)(function*(){return r=yield xm(n),o=e,Oe(r).Y_.add(o),void o.next();var r,o})),()=>{e.Za(),n.asyncQueue.enqueueAndForget((0,H.A)(function*(){return r=yield xm(n),o=e,void Oe(r).Y_.delete(o);var r,o}))}}(Ii(n=Qt(n,Gn)),VM(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new we("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Cm(this,H$(this._delegate,t))}catch(e){throw xo(e,"collection()","Firestore.collection()")}}doc(t){try{return new Ds(this,Q_(this._delegate,t))}catch(e){throw xo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Eo(this,function Dhe(n,t){if(n=Qt(n,Y_),FM("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new we(ae.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Fr(n,null,(i=t,new El(on.emptyPath(),i)));var i}(this._delegate,t))}catch(e){throw xo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function xfe(n,t,e){n=Qt(n,Gn);const i=Object.assign(Object.assign({},yfe),e);return function(o){if(o.maxAttempts<1)throw new we(ae.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const l=new Ir;return o.asyncQueue.enqueueAndForget((0,H.A)(function*(){const c=yield function R$(n){return Gx(n).then(t=>t.datastore)}(o);new ghe(o.asyncQueue,c,a,s,l).au()})),l.promise}(Ii(n),r=>t(new wfe(n,r)),i)}(this._delegate,e=>t(new b5(this,e)))}batch(){return Ii(this._delegate),new y5(new h5(this._delegate,t=>Im(this._delegate,t)))}loadBundle(t){return function Bhe(n,t){const e=Ii(n=Qt(n,Gn)),i=new khe;return function Ihe(n,t,e,i){const r=function(s,a){let l;return l="string"==typeof s?QH().encode(s):s,d=function(d,h){if(d instanceof Uint8Array)return S$(d,h);if(d instanceof ArrayBuffer)return S$(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new mhe(d,a);var d}(e,q_(t));n.asyncQueue.enqueueAndForget((0,H.A)(function*(){!function hhe(n,t,e){const i=Oe(n);var r;(r=(0,H.A)(function*(s,a,l){try{const c=yield a.getMetadata();if(yield function(b,w){const E=Oe(b),M=Yi(w.createTime);return E.persistence.runTransaction("hasNewerBundle","readonly",S=>E.Gr.getBundleMetadata(S,w.id)).then(S=>!!S&&S.createTime.compareTo(M)>=0)}(s.localStore,c))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(b=c).totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}),Promise.resolve(new Set);l._updateProgress(_$(c));const d=new Hue(c,s.localStore,a.serializer);let h=yield a.Ua();for(;h;){const v=yield d.la(h);v&&l._updateProgress(v),h=yield a.Ua()}const p=yield d.complete();return yield Tl(s,p.Ia,void 0),yield function(b,w){const E=Oe(b);return E.persistence.runTransaction("Save bundle","readwrite",M=>E.Gr.saveBundleMetadata(M,w))}(s.localStore,c),l._completeWith(p.progress),Promise.resolve(p.Pa)}catch(c){return os("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}var b}),function o(s,a,l){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield OM(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function Uhe(n,t){return function Che(n,t){return n.asyncQueue.enqueue((0,H.A)(function*(){return function(i,r){const o=Oe(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Gr.getNamedQuery(s,r))}(yield wm(n),t)}))}(Ii(n=Qt(n,Gn)),t).then(e=>e?new Fr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Eo(this,e):null)}}class sE extends YM{constructor(t){super(),this.firestore=t}convertBytes(t){return new rv(new Va(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Ds.forKey(e,this.firestore,null)}}class b5{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new sE(t)}get(t){const e=Su(t);return this._delegate.get(e).then(i=>new ov(this._firestore,new Dl(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Su(t);return i?(JM("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Su(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Su(t);return this._delegate.delete(e),this}}class y5{constructor(t){this._delegate=t}set(t,e,i){const r=Su(t);return i?(JM("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Su(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Su(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Tu{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new iv(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new sv(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Tu.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Tu(t,new sE(t),e),r.set(e,o)),o}}Tu.INSTANCES=new WeakMap;class Ds{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new sE(t)}static forPath(t,e,i){if(t.length%2!=0)throw new we("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ds(e,new fi(e._delegate,i,new Ue(t)))}static forKey(t,e,i){return new Ds(e,new fi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Cm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Cm(this.firestore,H$(this._delegate,t))}catch(e){throw xo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,vn.Ku)(t))instanceof fi&&$$(this._delegate,t)}set(t,e){e=JM("DocumentReference.set",e);try{return e?QM(this._delegate,t,e):QM(this._delegate,t)}catch(i){throw xo(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?d5(this._delegate,t):d5(this._delegate,t,e,...i)}catch(r){throw xo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function cfe(n){return Im(Qt(n.firestore,Gn),[new nm(n._key,Ei.none())])}(this._delegate)}onSnapshot(...t){const e=w5(t),i=x5(t,r=>new ov(this.firestore,new Dl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return u5(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function rfe(n){n=Qt(n,fi);const t=Qt(n.firestore,Gn),e=Ii(t),i=new zc(t);return function yhe(n,t){const e=new Ir;return n.asyncQueue.enqueueAndForget((0,H.A)(function*(){return(i=(0,H.A)(function*(o,s,a){try{const l=yield function(d,h){const p=Oe(d);return p.persistence.runTransaction("read document","readonly",v=>p.localDocuments.getDocument(v,h))}(o,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new we(ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=pm(l,`Failed to get document '${s} from cache`);a.reject(c)}}),function r(o,s,a){return i.apply(this,arguments)})(yield wm(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Dl(t,i,n._key,r,new Au(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function ofe(n){n=Qt(n,fi);const t=Qt(n.firestore,Gn);return P$(Ii(t),n._key,{source:"server"}).then(e=>XM(t,n,e))}(this._delegate):c5(this._delegate),e.then(i=>new ov(this.firestore,new Dl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Ds(this.firestore,this._delegate.withConverter(t?Tu.getInstance(this.firestore,t):null))}}function xo(n,t,e){return n.message=n.message.replace(t,e),n}function w5(n){for(const t of n)if("object"==typeof t&&!eR(t))return t;return{}}function x5(n,t){var e,i;let r;return r=eR(n[0])?n[0]:eR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class ov{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Ds(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return l5(this._delegate,t._delegate)}}class sv extends ov{data(t){const e=this._delegate.data(t);return this._delegate._converter||function yce(n,t){n||We()}(void 0!==e),e}}class Eo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new sE(t)}where(t,e,i){try{return new Eo(this.firestore,Bc(this._delegate,function qhe(n,t,e){const i=t,r=eE("where",n);return nv._create(r,i,e)}(t,e,i)))}catch(r){throw xo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Eo(this.firestore,Bc(this._delegate,function Khe(n,t="asc"){const e=t,i=eE("orderBy",n);return KM._create(i,e)}(t,e)))}catch(i){throw xo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Eo(this.firestore,Bc(this._delegate,function Yhe(n){return U$("limit",n),tE._create("limit",n,"F")}(t)))}catch(e){throw xo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Eo(this.firestore,Bc(this._delegate,function Qhe(n){return U$("limitToLast",n),tE._create("limitToLast",n,"L")}(t)))}catch(e){throw xo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Eo(this.firestore,Bc(this._delegate,function Xhe(...n){return nE._create("startAt",n,!0)}(...t)))}catch(e){throw xo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Eo(this.firestore,Bc(this._delegate,function Zhe(...n){return nE._create("startAfter",n,!1)}(...t)))}catch(e){throw xo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Eo(this.firestore,Bc(this._delegate,function Jhe(...n){return iE._create("endBefore",n,!1)}(...t)))}catch(e){throw xo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Eo(this.firestore,Bc(this._delegate,function efe(...n){return iE._create("endAt",n,!0)}(...t)))}catch(e){throw xo(e,"endAt()","Query.endAt()")}}isEqual(t){return LM(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function afe(n){n=Qt(n,Fr);const t=Qt(n.firestore,Gn),e=Ii(t),i=new zc(t);return function whe(n,t){const e=new Ir;return n.asyncQueue.enqueueAndForget((0,H.A)(function*(){return(i=(0,H.A)(function*(o,s,a){try{const l=yield Lx(o,s,!0),c=new y$(s,l.Ts),d=c.ma(l.documents),h=c.applyChanges(d,!1);a.resolve(h.snapshot)}catch(l){const c=pm(l,`Failed to execute query '${s} against cache`);a.reject(c)}}),function r(o,s,a){return i.apply(this,arguments)})(yield wm(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Uc(t,i,n,r))}(this._delegate):"server"===t?.source?function lfe(n){n=Qt(n,Fr);const t=Qt(n.firestore,Gn),e=Ii(t),i=new zc(t);return O$(e,n._query,{source:"server"}).then(r=>new Uc(t,i,n,r))}(this._delegate):function sfe(n){n=Qt(n,Fr);const t=Qt(n.firestore,Gn),e=Ii(t),i=new zc(t);return t5(n._query),O$(e,n._query).then(r=>new Uc(t,i,n,r))}(this._delegate),e.then(i=>new tR(this.firestore,new Uc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=w5(t),i=x5(t,r=>new tR(this.firestore,new Uc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return u5(this._delegate,e,i)}withConverter(t){return new Eo(this.firestore,this._delegate.withConverter(t?Tu.getInstance(this.firestore,t):null))}}class Ofe{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new sv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tR{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Eo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new sv(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new Ofe(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new sv(this._firestore,i))})}isEqual(t){return l5(this._delegate,t._delegate)}}class Cm extends Eo{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ds(this.firestore,t):null}doc(t){try{return new Ds(this.firestore,void 0===t?Q_(this._delegate):Q_(this._delegate,t))}catch(e){throw xo(e,"doc()","CollectionReference.doc()")}}add(t){return function dfe(n,t){const e=Qt(n.firestore,Gn),i=Q_(n),r=rE(n.converter,t);return Im(e,[Xx(Iu(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ei.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Ds(this.firestore,e))}isEqual(t){return $$(this._delegate,t._delegate)}withConverter(t){return new Cm(this.firestore,this._delegate.withConverter(t?Tu.getInstance(this.firestore,t):null))}}function Su(n){return Qt(n,fi)}class nR{constructor(...t){this._delegate=new Sl(...t)}static documentId(){return new nR(ui.keyField().canonicalString())}isEqual(t){return(t=(0,vn.Ku)(t))instanceof Sl&&this._delegate._internalPath.isEqual(t._internalPath)}}class Du{constructor(t){this._delegate=t}static serverTimestamp(){const t=function Ife(){return new UM("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Du(t)}static delete(){const t=function Efe(){return new Z_("deleteField")}();return t._methodName="FieldValue.delete",new Du(t)}static arrayUnion(...t){const e=function Cfe(...n){return new zM("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Du(e)}static arrayRemove(...t){const e=function Afe(...n){return new jM("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Du(e)}static increment(t){const e=function Tfe(n){return new HM("increment",n)}(t);return e._methodName="FieldValue.increment",new Du(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Nfe={Firestore:v5,GeoPoint:Kx,Timestamp:wi,Blob:rv,Transaction:b5,WriteBatch:y5,DocumentReference:Ds,DocumentSnapshot:ov,Query:Eo,QueryDocumentSnapshot:sv,QuerySnapshot:tR,CollectionReference:Cm,FieldPath:nR,FieldValue:Du,setLogLevel:function Pfe(n){!function bce(n){Ic.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function E5(n,t){return function Vfe(n,t=Bf){return new rt(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function iR(n,t){return E5(n,t).pipe(fe(e=>({payload:e,type:"query"})))}!function Lfe(n){(function Ffe(n,t){n.INTERNAL.registerComponent(new T4.uA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},Nfe)))})(n,(t,e)=>new v5(t,e,new Rfe)),n.registerVersion("@firebase/firestore-compat","0.3.38")}(Ec.A);class I5{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=k5(i,e);return new T5(r,o,this.afs)}snapshotChanges(){return function Bfe(n,t){return E5(n,t).pipe(is(void 0),kD(),fe(e=>{const[i,r]=e;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(rs)}valueChanges(t={}){return this.snapshotChanges().pipe(fe(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return A(this.ref.get(t)).pipe(rs)}}function aE(n,t){return iR(n,t).pipe(is(void 0),kD(),fe(e=>{const[i,r]=e,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{const c=o.find(h=>h.doc.ref.isEqual(a.ref)),d=i?.payload.docs.find(h=>h.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function C5(n,t,e){return aE(n,e).pipe(Fw((i,r)=>function Ufe(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function zfe(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return rR(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return rR(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return rR(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),Ye(),fe(i=>i.map(r=>({type:r.type,payload:r}))))}function rR(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function A5(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class T5{ref;query;afs;constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=aE(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(fe(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(is(void 0),kD(),jt(([i,r])=>r.length>0||!i),fe(([,i])=>i),rs)}auditTrail(t){return this.stateChanges(t).pipe(Fw((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=A5(t);return C5(this.query,e,this.afs.schedulers.outsideAngular).pipe(rs)}valueChanges(t={}){return iR(this.query,this.afs.schedulers.outsideAngular).pipe(fe(e=>e.payload.docs.map(i=>t.idField?{...i.data(),[t.idField]:i.id}:i.data())),rs)}get(t){return A(this.query.get(t)).pipe(rs)}add(t){return this.ref.add(t)}doc(t){return new I5(this.ref.doc(t),this.afs)}}class jfe{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?aE(this.query,this.afs.schedulers.outsideAngular).pipe(fe(e=>e.filter(i=>t.indexOf(i.type)>-1)),jt(e=>e.length>0),rs):aE(this.query,this.afs.schedulers.outsideAngular).pipe(rs)}auditTrail(t){return this.stateChanges(t).pipe(Fw((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=A5(t);return C5(this.query,e,this.afs.schedulers.outsideAngular).pipe(rs)}valueChanges(t={}){return iR(this.query,this.afs.schedulers.outsideAngular).pipe(fe(i=>i.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),rs)}get(t){return A(this.query.get(t)).pipe(rs)}}const S5=new de("angularfire2.enableFirestorePersistence"),D5=new de("angularfire2.firestore.persistenceSettings"),Hfe=new de("angularfire2.firestore.settings"),$fe=new de("angularfire2.firestore.use-emulator");function k5(n,t=(e=>e)){return{query:t(n),ref:n}}let lE=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(e,i,r,o,s,a,l,c,d,h,p,v,b,w,E,M,S){this.schedulers=l;const V=SD(e,a,i),$=d;h&&C4(V,a,p,b,w,E,v,M),[this.firestore,this.persistenceEnabled$]=g4(`${V.name}.firestore`,"AngularFirestore",V.name,()=>{const Q=a.runOutsideAngular(()=>V.firestore());if(o&&Q.settings(o),$&&Q.useEmulator(...$),r&&!Dw(s)){const ee=()=>{try{return A(Q.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(L){return typeof console<"u"&&console.warn(L),R(!1)}};return[Q,a.runOutsideAngular(ee)]}return[Q,R(!1)]},[o,$,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:s}=k5(r,i),a=this.schedulers.ngZone.run(()=>o);return new T5(a,s,this)}collectionGroup(e,i){const r=i||(s=>s),o=this.firestore.collectionGroup(e);return new jfe(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new I5(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(X(ox),X(sx,8),X(S5,8),X(Hfe,8),X(Ro),X($e),X(__),X(D5,8),X($fe,8),X(A4,8),X(b4,8),X(y4,8),X(w4,8),X(x4,8),X(E4,8),X(I4,8),X(rx,8))};static \u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Wfe=(()=>{class n{constructor(){Ec.A.registerVersion("angularfire",su.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:S5,useValue:!0},{provide:D5,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=mt({type:n});static \u0275inj=pt({providers:[lE]})}return n})(),Am=(()=>{class n{constructor(e){this.firestore=e,this.tables=[],this.menu=[],this.waiters=[],this.tablesSubject=new T(this.tables),this.tables$=this.tablesSubject.asObservable(),this.loadInitialData()}loadInitialData(){this.firestore.collection("tables").valueChanges().subscribe(e=>{this.tables=e,this.tablesSubject.next([...this.tables])}),this.firestore.collection("menu").valueChanges().subscribe(e=>{this.menu=e}),this.firestore.collection("waiters").valueChanges().subscribe(e=>{this.waiters=e})}updateFirestore(e,i,r){this.firestore.collection(e).doc(i.toString()).set(r,{merge:!0})}getTables(){return this.tables}getMenu(){return this.menu}getWaiters(){return this.waiters}addTable(e){const i=this.firestore.collection("tables").doc();i.set({id:i.ref.id,name:e,available:!0,orders:[],linkedTables:[]})}editTable(e,i,r){this.updateFirestore("tables",e,{name:i,available:r})}deleteTable(e){this.firestore.collection("tables").doc(e.toString()).delete()}releaseTable(e){const i=this.tables.find(r=>r.id===e);if(i){if(i.orders.length>0){const r=i.orders.reduce((s,a)=>s+a.price*(a.quantity||1),0),o={date:(new Date).getTime(),tableName:i.name,waiterName:i.waiterName||"Desconocido",revenue:r};this.firestore.collection("daily_statistics").add(o)}i.orders=[],i.waiterId=void 0,i.waiterName=void 0,i.available=!0,i.controlledBy=void 0,i.linkedTables=[],this.updateFirestore("tables",e,{orders:[],waiterId:null,waiterName:null,available:!0,controlledBy:null,linkedTables:[]}),this.tablesSubject.next([...this.tables])}}addMenuItem(e,i){const r={id:this.menu.length>0?Math.max(...this.menu.map(o=>o.id))+1:1,name:e,price:i,quantity:1};this.firestore.collection("menu").doc(r.id.toString()).set(r)}editMenuItem(e,i,r){this.updateFirestore("menu",e,{name:i,price:r})}deleteMenuItem(e){this.firestore.collection("menu").doc(e.toString()).delete()}addWaiter(e){const i={id:this.waiters.length>0?Math.max(...this.waiters.map(r=>r.id))+1:1,name:e};this.firestore.collection("waiters").doc(i.id.toString()).set(i)}editWaiter(e,i){this.updateFirestore("waiters",e,{name:i})}deleteWaiter(e){this.firestore.collection("waiters").doc(e.toString()).delete()}linkMultipleTables(e,i){const r=this.tables.find(o=>o.id===e);if(r){r.available=!1;const o=[];i.forEach(s=>{const a=this.tables.find(l=>l.id===s);a&&!r.linkedTables.includes(s)&&(r.linkedTables.push(s),a.linkedTables.push(e),a.controlledBy=e,a.available=!1,o.push(s))}),this.updateFirestore("tables",e,{linkedTables:r.linkedTables,available:!1}),o.forEach(s=>{this.updateFirestore("tables",s,{linkedTables:this.tables.find(a=>a.id===s)?.linkedTables,controlledBy:e,available:!1})}),this.tablesSubject.next([...this.tables])}}removeOrderFromTable(e,i){const r=this.tables.find(o=>o.id===e);r&&(r.orders=r.orders.filter(o=>o.id!==i),this.updateFirestore("tables",e,{orders:r.orders}))}static{this.\u0275fac=function(i){return new(i||n)(X(lE))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class cE{}class dE{}class Ba{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ba?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ba;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ba?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Gfe{encodeKey(t){return M5(t)}encodeValue(t){return M5(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Kfe=/%(\d[a-f0-9])/gi,Yfe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function M5(n){return encodeURIComponent(n).replace(Kfe,(t,e)=>Yfe[e]??t)}function uE(n){return`${n}`}class Hc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Gfe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function qfe(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(uE):[uE(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Hc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(uE(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(uE(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Qfe{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function R5(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function P5(n){return typeof Blob<"u"&&n instanceof Blob}function O5(n){return typeof FormData<"u"&&n instanceof FormData}class av{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Xfe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ba),this.context||(this.context=new Qfe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Hc,this.urlWithParams=e}serializeBody(){return null===this.body?null:R5(this.body)||P5(this.body)||O5(this.body)||function Zfe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||O5(this.body)?null:P5(this.body)?this.body.type||null:R5(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((h,p)=>h.set(p,t.setHeaders[p]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((h,p)=>h.set(p,t.setParams[p]),c)),new av(e,i,o,{params:c,headers:l,context:d,reportProgress:a,responseType:r,withCredentials:s})}}var Tm=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Tm||{});class oR{constructor(t,e=200,i="OK"){this.headers=t.headers||new Ba,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class sR extends oR{constructor(t={}){super(t),this.type=Tm.ResponseHeader}clone(t={}){return new sR({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Sm extends oR{constructor(t={}){super(t),this.type=Tm.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Sm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class N5 extends oR{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function aR(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let hE=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof av)o=e;else{let l,c;l=r.headers instanceof Ba?r.headers:new Ba(r.headers),r.params&&(c=r.params instanceof Hc?r.params:new Hc({fromObject:r.params})),o=new av(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=R(o).pipe(Sf(l=>this.handler.handle(l)));if(e instanceof av||"events"===r.observe)return s;const a=s.pipe(jt(l=>l instanceof Sm));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(fe(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(fe(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(fe(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(fe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Hc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,aR(r,i))}post(e,i,r={}){return this.request("POST",e,aR(r,i))}put(e,i,r={}){return this.request("PUT",e,aR(r,i))}static{this.\u0275fac=function(i){return new(i||n)(X(cE))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})();function V5(n,t){return t(n)}function eme(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const nme=new de(""),lv=new de(""),B5=new de("");function ime(){let n=null;return(t,e)=>{null===n&&(n=(De(nme,{optional:!0})??[]).reduceRight(eme,V5));const i=De(dw),r=i.add();return n(t,e).pipe(Df(()=>i.remove(r)))}}let U5=(()=>{class n extends cE{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=De(dw)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(lv),...this.injector.get(B5,[])]));this.chain=r.reduceRight((o,s)=>function tme(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(o,s,this.injector),V5)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Df(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||n)(X(dE),X(Jo))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})();const ame=/^\)\]\}',?\n/;let j5=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new ce(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?A(i.\u0275loadImpl()):R(null)).pipe(Ie(()=>new rt(o=>{const s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((w,E)=>s.setRequestHeader(w,E.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const w=e.detectContentTypeHeader();null!==w&&s.setRequestHeader("Content-Type",w)}if(e.responseType){const w=e.responseType.toLowerCase();s.responseType="json"!==w?w:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const w=s.statusText||"OK",E=new Ba(s.getAllResponseHeaders()),M=function lme(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return l=new sR({headers:E,status:s.status,statusText:w,url:M}),l},d=()=>{let{headers:w,status:E,statusText:M,url:S}=c(),V=null;204!==E&&(V=typeof s.response>"u"?s.responseText:s.response),0===E&&(E=V?200:0);let $=E>=200&&E<300;if("json"===e.responseType&&"string"==typeof V){const Q=V;V=V.replace(ame,"");try{V=""!==V?JSON.parse(V):null}catch(ee){V=Q,$&&($=!1,V={error:ee,text:V})}}$?(o.next(new Sm({body:V,headers:w,status:E,statusText:M,url:S||void 0})),o.complete()):o.error(new N5({error:V,headers:w,status:E,statusText:M,url:S||void 0}))},h=w=>{const{url:E}=c(),M=new N5({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error(M)};let p=!1;const v=w=>{p||(o.next(c()),p=!0);let E={type:Tm.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(E.total=w.total),"text"===e.responseType&&s.responseText&&(E.partialText=s.responseText),o.next(E)},b=w=>{let E={type:Tm.UploadProgress,loaded:w.loaded};w.lengthComputable&&(E.total=w.total),o.next(E)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),e.reportProgress&&(s.addEventListener("progress",v),null!==a&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:Tm.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",v),null!==a&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(X(Lz))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})();const lR=new de("XSRF_ENABLED"),H5=new de("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),$5=new de("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class W5{}let ume=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Sz(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(X(At),X(Ro),X(H5))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})();function hme(n,t){const e=n.url.toLowerCase();if(!De(lR)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=De(W5).getToken(),r=De($5);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var $c=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}($c||{});function ku(n,t){return{\u0275kind:n,\u0275providers:t}}function fme(...n){const t=[hE,j5,U5,{provide:cE,useExisting:U5},{provide:dE,useExisting:j5},{provide:lv,useValue:hme,multi:!0},{provide:lR,useValue:!0},{provide:W5,useClass:ume}];for(const e of n)t.push(...e.\u0275providers);return S0(t)}const G5=new de("LEGACY_INTERCEPTOR_FN");let pme=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({providers:[fme(ku($c.LegacyInterceptors,[{provide:G5,useFactory:ime},{provide:lv,useExisting:G5,multi:!0}]))]})}}return n})(),wme=(()=>{class n{constructor(e){this.http=e,this.apiUrl="http://localhost:8000/api/imprimir"}imprimirTicket(e){return this.http.post(this.apiUrl,{printerName:"nictomPrinter",imprimirEn:"nictomPrinter",operaciones:e})}static{this.\u0275fac=function(i){return new(i||n)(X(hE))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ht(n){return null!=n&&"false"!=`${n}`}function Dm(n,t=0){return function xme(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function mE(n){return Array.isArray(n)?n:[n]}function nr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function kl(n){return n instanceof xt?n.nativeElement:n}const Eme=["addListener","removeListener"],Ime=["addEventListener","removeEventListener"],Cme=["on","off"];function Mu(n,t,e,i){if(N(e)&&(i=e,e=void 0),i)return Mu(n,t,e).pipe(tD(i));const[r,o]=function Sme(n){return N(n.addEventListener)&&N(n.removeEventListener)}(n)?Ime.map(s=>a=>n[s](t,a,e)):function Ame(n){return N(n.addListener)&&N(n.removeListener)}(n)?Eme.map(q5(n,t)):function Tme(n){return N(n.on)&&N(n.off)}(n)?Cme.map(q5(n,t)):[];if(!r&&yn(n))return zn(s=>Mu(s,t,e))(Gt(n));if(!r)throw new TypeError("Invalid event target");return new rt(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function q5(n,t){return e=>i=>n[e](t,i)}const cv={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=cv;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new ft(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=cv;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=cv;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class kme extends ix{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Dme extends nx{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=cv.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(cv.cancelAnimationFrame(e),t._scheduled=void 0)}});let cR,Rme=1;const pE={};function K5(n){return n in pE&&(delete pE[n],!0)}const Pme={setImmediate(n){const t=Rme++;return pE[t]=!0,cR||(cR=Promise.resolve()),cR.then(()=>K5(t)&&n()),t},clearImmediate(n){K5(n)}},{setImmediate:Ome,clearImmediate:Nme}=Pme,gE={setImmediate(...n){const{delegate:t}=gE;return(t?.setImmediate||Ome)(...n)},clearImmediate(n){const{delegate:t}=gE;return(t?.clearImmediate||Nme)(n)},delegate:void 0};new class Lme extends ix{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Fme extends nx{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=gE.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(gE.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function Y5(n=0,t,e=ece){let i=-1;return null!=t&&(gn(t)?e=t:i=t),new rt(r=>{let o=function Ume(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Q5(n,t=Bf){return function Bme(n){return J((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(he(e,c=>{i=!0,r=c,o||Gt(n(c)).subscribe(o=he(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>Y5(n,t))}let dR;try{dR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{dR=!1}let km,ki=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?jS(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!dR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(X(Ro))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const X5=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Z5(){if(km)return km;if("object"!=typeof document||!document)return km=new Set(X5),km;let n=document.createElement("input");return km=new Set(X5.filter(t=>(n.setAttribute("type",t),n.type===t))),km}let dv,_E,Ru,uR;function uv(n){return function zme(){if(null==dv&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>dv=!0}))}finally{dv=dv||!1}return dv}()?n:!!n.capture}function J5(){if(null==Ru){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ru=!1,Ru;if("scrollBehavior"in document.documentElement.style)Ru=!0;else{const n=Element.prototype.scrollTo;Ru=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ru}function hv(){if("object"!=typeof document||!document)return 0;if(null==_E){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),_E=0,0===n.scrollLeft&&(n.scrollLeft=1,_E=0===n.scrollLeft?1:2),n.remove()}return _E}function vE(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Wc(n){return n.composedPath?n.composedPath()[0]:n.target}function hR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const $me=new de("cdk-dir-doc",{providedIn:"root",factory:function Wme(){return De(At)}}),Gme=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Gc=(()=>{class n{constructor(e){this.value="ltr",this.change=new _t,e&&(this.value=function qme(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Gme.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(X($me,8))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fv=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({})}}return n})(),fR=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new W,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new rt(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Q5(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):R()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(jt(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=kl(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Mu(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(X($e),X(ki),X(At,8))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),mR=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new W,this._elementScrolled=new rt(s=>this.ngZone.runOutsideAngular(()=>Mu(this.elementRef.nativeElement,"scroll").pipe(Wn(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=hv()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==hv()?e.left=e.right:1==hv()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;J5()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?r:i:"end"==e&&(e=s?i:r),s&&2==hv()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==hv()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static{this.\u0275fac=function(i){return new(i||n)(O(xt),O(fR),O($e),O(Gc,8))}}static{this.\u0275dir=Te({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}}return n})(),bE=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new W,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Q5(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(X(ki),X($e),X(At,8))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),mv=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({})}}return n})(),eW=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[fv,mv,fv,mv]})}}return n})();class pR{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class pv extends pR{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class gv extends pR{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Xme extends pR{constructor(t){super(),this.element=t instanceof xt?t.nativeElement:t}}class yE{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof pv?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof gv?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Xme?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Zme extends yE{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Rn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Mm=(()=>{class n extends yE{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new _t,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static{this.\u0275fac=function(i){return new(i||n)(O(rf),O(Oo),O(At))}}static{this.\u0275dir=Te({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ot]})}}return n})(),Rm=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({})}}return n})();function Ua(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const iW=J5();class hpe{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=nr(-this._previousScrollPosition.left),t.style.top=nr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),iW&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),iW&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class fpe{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(jt(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class rW{enable(){}disable(){}attach(){}}function bR(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function oW(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class mpe{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();bR(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ppe=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new rW,this.close=s=>new fpe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new hpe(this._viewportRuler,this._document),this.reposition=s=>new mpe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(i){return new(i||n)(X(fR),X(bE),X($e),X(At))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class xE{constructor(t){if(this.scrollStrategy=new rW,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class gpe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let sW=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(X(At))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_pe=(()=>{class n extends sW{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(X(At),X($e,8))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vpe=(()=>{class n extends sW{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Wc(o)},this._clickListener=o=>{const s=Wc(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const d=l[c];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(s)||d.overlayElement.contains(a))break;const h=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(X(At),X(ki),X($e,8))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),EE=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||hR()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),hR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(X(At),X(ki))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class bv{constructor(t,e,i,r,o,s,a,l,c,d=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new W,this._attachments=new W,this._detachments=new W,this._locationChanges=ft.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new W,this._outsidePointerEvents=new W,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Pn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=nr(this._config.width),t.height=nr(this._config.height),t.minWidth=nr(this._config.minWidth),t.minHeight=nr(this._config.minHeight),t.maxWidth=nr(this._config.maxWidth),t.maxHeight=nr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=mE(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Wn(x(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const aW="cdk-overlay-connected-position-bounding-box",bpe=/([A-Za-z%]+)$/;class ype{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new W,this._resizeSubscription=ft.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(aW),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),d=this._getOverlayFit(c,e,i,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(d,c,i)?o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(const c of o){const d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Pu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(aW),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=cW(e);let{x:s,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let p=0-a,v=a+o.height-i.height,b=this._subtractOverflows(o.width,0-s,s+o.width-i.width),w=this._subtractOverflows(o.height,p,v),E=b*w;return{visibleArea:E,isCompletelyWithinViewport:o.width*o.height===E,fitsInViewportVertically:w===o.height,fitsInViewportHorizontally:b==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=lW(this._overlayRef.getConfig().minHeight),a=lW(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=cW(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0);let d=0,h=0;return d=r.width<=o.width?c||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,h=r.height<=o.height?l||-a:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:d,y:h},{x:t.x+d,y:t.y+h}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new gpe(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,d,h,p;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const v=Math.min(i.bottom-t.y+i.top,t.y),b=this._lastBoundingBoxSize.height;o=2*v,s=t.y-v,o>b&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-b/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)p=i.width-t.x+this._viewportMargin,d=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)h=t.x,d=i.right-t.x;else{const v=Math.min(i.right-t.x+i.left,t.x),b=this._lastBoundingBoxSize.width;d=2*v,h=t.x-v,d>b&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.x-b/2)}return{top:s,left:h,bottom:a,right:p,width:d,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=nr(i.height),r.top=nr(i.top),r.bottom=nr(i.bottom),r.width=nr(i.width),r.left=nr(i.left),r.right=nr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=nr(o)),s&&(r.maxWidth=nr(s))}this._lastBoundingBoxSize=i,Pu(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Pu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Pu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();Pu(i,this._getExactOverlayY(e,t,d)),Pu(i,this._getExactOverlayX(e,t,d))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=nr(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=nr(s.maxWidth):o&&(i.maxWidth="")),Pu(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=nr(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=nr(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:oW(t,i),isOriginOutsideView:bR(t,i),isOverlayClipped:oW(e,i),isOverlayOutsideView:bR(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&mE(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof xt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Pu(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function lW(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(bpe);return e&&"px"!==e?null:parseFloat(t)}return n||null}function cW(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const dW="cdk-global-overlay-wrapper";class wpe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(dW),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),d=this._xPosition,h=this._xOffset,p="rtl"===this._overlayRef.getConfig().direction;let v="",b="",w="";l?w="flex-start":"center"===d?(w="center",p?b=h:v=h):p?"left"===d||"end"===d?(w="flex-end",v=h):("right"===d||"start"===d)&&(w="flex-start",b=h):"left"===d||"start"===d?(w="flex-start",v=h):("right"===d||"end"===d)&&(w="flex-end",b=h),t.position=this._cssPosition,t.marginLeft=l?"0":v,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":b,e.justifyContent=w,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(dW),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let xpe=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new wpe}flexibleConnectedTo(e){return new ype(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(X(bE),X(At),X(ki),X(EE))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Epe=0,za=(()=>{class n{constructor(e,i,r,o,s,a,l,c,d,h,p,v){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=d,this._location=h,this._outsideClickDispatcher=p,this._animationsModuleType=v}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new xE(e);return s.direction=s.direction||this._directionality.value,new bv(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Epe++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(hl)),new Zme(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(X(ppe),X(EE),X(rf),X(xpe),X(_pe),X(Rn),X($e),X(At),X(Gc),X(Yg),X(vpe),X(Pr,8))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Ipe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],uW=new de("cdk-connected-overlay-scroll-strategy");let yR=(()=>{class n{constructor(e){this.elementRef=e}static{this.\u0275fac=function(i){return new(i||n)(O(xt))}}static{this.\u0275dir=Te({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}}return n})(),hW=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Ht(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Ht(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Ht(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Ht(e)}get push(){return this._push}set push(e){this._push=Ht(e)}constructor(e,i,r,o,s){this._overlay=e,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ft.EMPTY,this._attachSubscription=ft.EMPTY,this._detachSubscription=ft.EMPTY,this._positionSubscription=ft.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new _t,this.positionChange=new _t,this.attach=new _t,this.detach=new _t,this.overlayKeydown=new _t,this.overlayOutsideClick=new _t,this._templatePortal=new gv(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Ipe);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Ua(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new xE({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof yR?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function Qme(n,t=!1){return J((e,i)=>{let r=0;e.subscribe(he(i,o=>{const s=n(o,r++);(s||t)&&i.next(o),!s&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(O(za),O(ts),O(Oo),O(uW),O(Gc,8))}}static{this.\u0275dir=Te({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Di]})}}return n})();const Ape={provide:uW,deps:[za],useFactory:function Cpe(n){return()=>n.scrollStrategies.reposition()}};let IE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({providers:[za,Ape],imports:[fv,Rm,eW,eW]})}}return n})();function CE(n,t=Bf){return J((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,d=t.now();if(d<c)return r=this.schedule(void 0,c-d),void i.add(r);a()}e.subscribe(he(i,c=>{o=c,s=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function fW(n){return jt((t,e)=>n<=e)}let mW=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Tpe=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=kl(e);return new rt(r=>{const s=this._observeElement(i).subscribe(r);return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new W,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}static{this.\u0275fac=function(i){return new(i||n)(X(mW))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pW=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=Ht(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Dm(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new _t,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(CE(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(O(Tpe),O(xt),O($e))}}static{this.\u0275dir=Te({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}}return n})(),wR=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({providers:[mW]})}}return n})();const gW=new Set;let Ou,Spe=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):kpe}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Dpe(n,t){if(!gW.has(n))try{Ou||(Ou=document.createElement("style"),t&&(Ou.nonce=t),Ou.setAttribute("type","text/css"),document.head.appendChild(Ou)),Ou.sheet&&(Ou.sheet.insertRule(`@media ${n} {body{ }}`,0),gW.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(i){return new(i||n)(X(ki),X(YA,8))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kpe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let xR=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new W}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return _W(mE(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=Pw(_W(mE(e)).map(s=>this._registerQuery(s).observable));return o=Tf(o.pipe(Pn(1)),o.pipe(fW(1),CE(0))),o.pipe(fe(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new rt(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(is(i),fe(({matches:s})=>({query:e,matches:s})),Wn(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static{this.\u0275fac=function(i){return new(i||n)(X(Spe),X($e))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function _W(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function bW(n,t,e){const r=yW(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}function yW(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}class wW{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new W,this._typeaheadSubscription=ft.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new W,this.change=new W,t instanceof Jd&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Fi(e=>this._pressedLetters.push(e)),CE(t),jt(()=>this._pressedLetters.length>0),fe(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||Ua(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Jd?this._items.toArray():this._items}}class Npe extends wW{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class xW extends wW{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let yv=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Lpe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function Fpe(n){try{return n.frameElement}catch{return null}}(function Wpe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===IW(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=IW(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Hpe(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function $pe(n){return!function Bpe(n){return function zpe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Vpe(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Upe(n){return function jpe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||EW(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static{this.\u0275fac=function(i){return new(i||n)(X(ki))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function EW(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function IW(n){if(!EW(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class CW{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Pn(1)).subscribe(t)}}let AE=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new CW(e,this._checker,this._ngZone,this._document,i)}static{this.\u0275fac=function(i){return new(i||n)(X(yv),X($e),X(At))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function AW(n){return 0===n.buttons||0===n.detail}function TW(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Gpe=new de("cdk-input-modality-detector-options"),qpe={ignoreKeys:[18,17,224,91,16]},Pm=uv({passive:!0,capture:!0});let Kpe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new T(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Wc(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(AW(s)?"keyboard":"mouse"),this._mostRecentTarget=Wc(s))},this._onTouchstart=s=>{TW(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Wc(s))},this._options={...qpe,...o},this.modalityDetected=this._modality.pipe(fW(1)),this.modalityChanged=this.modalityDetected.pipe(Ye()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Pm),r.addEventListener("mousedown",this._onMousedown,Pm),r.addEventListener("touchstart",this._onTouchstart,Pm)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Pm),document.removeEventListener("mousedown",this._onMousedown,Pm),document.removeEventListener("touchstart",this._onTouchstart,Pm))}static{this.\u0275fac=function(i){return new(i||n)(X(ki),X($e),X(At),X(Gpe,8))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Ype=new de("liveAnnouncerElement",{providedIn:"root",factory:function Qpe(){return null}}),Xpe=new de("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Zpe=0,ER=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+Zpe++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static{this.\u0275fac=function(i){return new(i||n)(X(Ype,8),X($e),X(At),X(Xpe,8))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Jpe=new de("cdk-focus-monitor-default-options"),TE=uv({passive:!0,capture:!0});let Om=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new W,this._rootNodeFocusAndBlurListener=a=>{for(let c=Wc(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,i=!1){const r=kl(e);if(!this._platform.isBrowser||1!==r.nodeType)return R();const o=function Hme(n){if(function jme(){if(null==uR){const n=typeof document<"u"?document.head:null;uR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return uR}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new W,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=kl(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=kl(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Wc(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,TE),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,TE)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Wn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,TE),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,TE),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static{this.\u0275fac=function(i){return new(i||n)(X($e),X(ki),X(Kpe),X(At,8),X(Jpe,8))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const DW="cdk-high-contrast-black-on-white",kW="cdk-high-contrast-white-on-black",IR="cdk-high-contrast-active";let MW=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=De(xR).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(IR,DW,kW),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(IR,DW):2===i&&e.add(IR,kW)}}static{this.\u0275fac=function(i){return new(i||n)(X(ki),X(At))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ege=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||n)(X(MW))}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[wR]})}}return n})();function tge(n,t){}class SE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let RW=(()=>{class n extends yE{constructor(e,i,r,o,s,a,l,c){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const h=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),h},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=vE(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=vE();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=vE())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(i){return new(i||n)(O(xt),O(AE),O(At,8),O(SE),O(yv),O($e),O(bv),O(Om))}}static{this.\u0275cmp=St({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&Oi(Mm,7),2&i){let o;It(o=Ct())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&_n("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[ot],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Be(0,tge,0,0,"ng-template",0)},dependencies:[Mm],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return n})();class CR{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new W,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Ua(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const PW=new de("DialogScrollStrategy"),nge=new de("DialogData"),ige=new de("DefaultDialogConfig"),oge={provide:PW,deps:[za],useFactory:function rge(n){return()=>n.scrollStrategies.block()}};let sge=0,OW=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,s,a){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new W,this._afterOpenedAtThisLevel=new W,this._ariaHiddenElements=new Map,this.afterAllClosed=nu(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(is(void 0))),this._scrollStrategy=a}open(e,i){(i={...this._defaultOptions||new SE,...i}).id=i.id||"cdk-dialog-"+sge++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new CR(s,i),l=this._attachContainer(s,a,i);return a.containerInstance=l,this._attachDialogContent(e,a,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){AR(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){AR(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),AR(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new xE({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:SE,useValue:r},{provide:CR,useValue:i},{provide:bv,useValue:e}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=RW;const l=new pv(a,r.viewContainerRef,Rn.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return e.attach(l).instance}_attachDialogContent(e,i,r,o){if(e instanceof ts){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new gv(e,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new pv(e,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(e,i,r,o){const s=e.injector||e.viewContainerRef?.injector,a=[{provide:nge,useValue:e.data},{provide:CR,useValue:i}];return e.providers&&("function"==typeof e.providers?a.push(...e.providers(i,e,r)):a.push(...e.providers)),e.direction&&(!s||!s.get(Gc,null,{optional:!0}))&&a.push({provide:Gc,useValue:{value:e.direction,change:R()}}),Rn.create({parent:s||o,providers:a})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(i){return new(i||n)(X(za),X(Rn),X(ige,8),X(n,12),X(EE),X(PW))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})();function AR(n,t){let e=n.length;for(;e--;)t(n[e])}let age=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({providers:[OW,oge],imports:[IE,Rm,ege,Rm]})}}return n})();const lge=["text"];function cge(n,t){if(1&n&&vt(0,"mat-pseudo-checkbox",6),2&n){const e=He();ve("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function dge(n,t){1&n&&vt(0,"mat-pseudo-checkbox",7),2&n&&ve("disabled",He().disabled)}function uge(n,t){if(1&n&&(q(0,"span",8),le(1),G()),2&n){const e=He();ge(1),Kr("(",e.group.label,")")}}const hge=[[["mat-icon"]],"*"],fge=["mat-icon","*"],pge=new de("mat-sanity-checks",{providedIn:"root",factory:function mge(){return!0}});let Nn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!hR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static{this.\u0275fac=function(i){return new(i||n)(X(MW),X(pge,8),X(At))}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[fv,fv]})}}return n})();function LW(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=Ht(t)}constructor(...t){super(...t),this._disabled=!1}}}function TR(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function VW(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ht(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function BW(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Dm(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function UW(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let zW=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class _ge{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const jW=uv({passive:!0,capture:!0});class vge{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Wc(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,jW)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,jW)))}}const HW={enterDuration:225,exitDuration:150},$W=uv({passive:!0,capture:!0}),WW=["mousedown","touchstart"],GW=["mouseup","mouseleave","touchend","touchcancel"];class xv{static{this._eventManager=new vge}constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=kl(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...HW,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function yge(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,l=e-r.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-s+"px",d.style.top=l-s+"px",d.style.height=2*s+"px",d.style.width=2*s+"px",null!=i.color&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);const h=window.getComputedStyle(d),v=h.transitionDuration,b="none"===h.transitionProperty||"0s"===v||"0s, 0s"===v||0===r.width&&0===r.height,w=new _ge(this,d,i,b);d.style.transform="scale3d(1, 1, 1)",w.state=0,i.persistent||(this._mostRecentTransientRipple=w);let E=null;return!b&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const M=()=>this._finishRippleTransition(w),S=()=>this._destroyRipple(w);d.addEventListener("transitionend",M),d.addEventListener("transitioncancel",S),E={onTransitionEnd:M,onTransitionCancel:S}}),this._activeRipples.set(w,E),(b||!c)&&this._finishRippleTransition(w),w}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...HW,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=kl(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,WW.forEach(i=>{xv._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{GW.forEach(e=>{this._triggerElement.addEventListener(e,this,$W)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=AW(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!TW(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(WW.forEach(e=>xv._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&GW.forEach(e=>t.removeEventListener(e,this,$W)))}}const Ev=new de("mat-ripple-global-options");let qW=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new xv(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static{this.\u0275fac=function(i){return new(i||n)(O(xt),O($e),O(ki),O(Ev,8),O(Pr,8))}}static{this.\u0275dir=Te({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&Xt("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}}return n})(),SR=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[Nn,Nn]})}}return n})(),wge=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static{this.\u0275fac=function(i){return new(i||n)(O(Pr,8))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&Xt("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}}return n})(),KW=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[Nn]})}}return n})();const YW=new de("MAT_OPTION_PARENT_COMPONENT"),QW=new de("MatOptgroup");let xge=0;class Ege{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Ige=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Ht(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+xge++,this.onSelectionChange=new _t,this._stateChanges=new W}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Ua(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Ege(this,e))}static{this.\u0275fac=function(i){Tg()}}static{this.\u0275dir=Te({type:n,viewQuery:function(i,r){if(1&i&&Oi(lge,7),2&i){let o;It(o=Ct())&&(r._text=o.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}}return n})(),XW=(()=>{class n extends Ige{constructor(e,i,r,o){super(e,i,r,o)}static{this.\u0275fac=function(i){return new(i||n)(O(xt),O(Yr),O(YW,8),O(QW,8))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&Fe("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),2&i&&(Qd("id",r.id),_n("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),Xt("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[ot],ngContentSelectors:fge,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(i,r){1&i&&(Gi(hge),Be(0,cge,1,2,"mat-pseudo-checkbox",0),lt(1),q(2,"span",1,2),lt(4,1),G(),Be(5,dge,1,1,"mat-pseudo-checkbox",3),Be(6,uge,2,1,"span",4),vt(7,"div",5)),2&i&&(ve("ngIf",r.multiple),ge(5),ve("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),ge(1),ve("ngIf",r.group&&r.group._inert),ge(1),ve("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[qW,ea,wge],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return n})(),ZW=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[SR,_l,Nn,KW]})}}return n})();const JW={capture:!0},e6=["focus","click","mouseenter","touchstart"],DR="mat-ripple-loader-uninitialized",kR="mat-ripple-loader-class-name",t6="mat-ripple-loader-centered",DE="mat-ripple-loader-disabled";let Tge=(()=>{class n{constructor(){this._document=De(At,{optional:!0}),this._animationMode=De(Pr,{optional:!0}),this._globalRippleOptions=De(Ev,{optional:!0}),this._platform=De(ki),this._ngZone=De($e),this._hosts=new Map,this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${DR}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of e6)this._document?.addEventListener(e,this._onInteraction,JW)})}ngOnDestroy(){const e=this._hosts.keys();for(const i of e)this.destroyRipple(i);for(const i of e6)this._document?.removeEventListener(i,this._onInteraction,JW)}configureRipple(e,i){e.setAttribute(DR,""),(i.className||!e.hasAttribute(kR))&&e.setAttribute(kR,i.className||""),i.centered&&e.setAttribute(t6,""),i.disabled&&e.setAttribute(DE,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,i){const r=this._hosts.get(e);r?r.disabled=i:i?e.setAttribute(DE,""):e.removeAttribute(DE)}_createRipple(e){if(!this._document)return;const i=this._hosts.get(e);if(i)return i;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(kR)),e.append(r);const o=new qW(new xt(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,o.centered=e.hasAttribute(t6),o.disabled=e.hasAttribute(DE),this.attachRipple(e,o),o}attachRipple(e,i){e.removeAttribute(DR),this._hosts.set(e,i)}destroyRipple(e){const i=this._hosts.get(e);i&&(i.ngOnDestroy(),this._hosts.delete(e))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class n6{}class Sge{}const Ml="*";function qc(n,t){return{type:7,name:n,definitions:t,options:{}}}function ia(n,t=null){return{type:4,styles:t,timings:n}}function r6(n,t=null){return{type:2,steps:n,options:t}}function ir(n){return{type:6,styles:n,offset:null}}function ks(n,t,e){return{type:0,name:n,styles:t,options:e}}function Ms(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function MR(n=null){return{type:9,options:n}}function RR(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}class Iv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class o6{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function Dge(n,t){}class kE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const OR="mdc-dialog--open",s6="mdc-dialog--opening",a6="mdc-dialog--closing";let Rge=(()=>{class n extends RW{constructor(e,i,r,o,s,a,l,c){super(e,i,r,o,s,a,l,c),this._animationStateChanged=new _t}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}static{this.\u0275fac=function(i){return new(i||n)(O(xt),O(AE),O(At,8),O(kE),O(yv),O($e),O(bv),O(Om))}}static{this.\u0275cmp=St({type:n,selectors:[["ng-component"]],features:[ot],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return n})();const l6="--mat-dialog-transition-duration";function c6(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Dm(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Dm(n.substring(0,n.length-1)):"0"===n?0:null}let Pge=(()=>{class n extends Rge{constructor(e,i,r,o,s,a,l,c,d){super(e,i,r,o,s,a,l,d),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?c6(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?c6(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(l6,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(s6,OR)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(OR),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(OR),this._animationsEnabled?(this._hostElement.style.setProperty(l6,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(a6)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(s6,a6)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}static{this.\u0275fac=function(i){return new(i||n)(O(xt),O(AE),O(At,8),O(kE),O(yv),O($e),O(bv),O(Pr,8),O(Om))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,r){2&i&&(Qd("id",r._config.id),_n("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Xt("_mat-animation-noopable",!r._animationsEnabled))},features:[ot],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(q(0,"div",0)(1,"div",1),Be(2,Dge,0,0,"ng-template",2),G()())},dependencies:[Mm],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}}return n})();class Kc{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new W,this._beforeClosed=new W,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(jt(r=>"opened"===r.state),Pn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(jt(r=>"closed"===r.state),Pn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),x(this.backdropClick(),this.keydownEvents().pipe(jt(r=>27===r.keyCode&&!this.disableClose&&!Ua(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),d6(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(jt(e=>"closing"===e.state),Pn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function d6(n,t,e){return n._closeInteractionType=t,n.close(e)}const Nm=new de("MatMdcDialogData"),Oge=new de("mat-mdc-dialog-default-options"),u6=new de("mat-mdc-dialog-scroll-strategy"),Fge={provide:u6,deps:[za],useFactory:function Nge(n){return()=>n.scrollStrategies.block()}};let Lge=0,Vge=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,o,s,a,l,c,d,h){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new W,this._afterOpenedAtThisLevel=new W,this._idPrefix="mat-dialog-",this.dialogConfigClass=kE,this.afterAllClosed=nu(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(is(void 0))),this._scrollStrategy=a,this._dialog=i.get(OW)}open(e,i){let r;(i={...this._defaultOptions||new kE,...i}).id=i.id||`${this._idPrefix}${Lge++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:SE,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,l)=>(r=new this._dialogRefConstructor(s,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static{this.\u0275fac=function(i){Tg()}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})(),ME=(()=>{class n extends Vge{constructor(e,i,r,o,s,a,l,c){super(e,i,o,a,l,s,Kc,Pge,Nm,c),this._idPrefix="mat-mdc-dialog-"}static{this.\u0275fac=function(i){return new(i||n)(X(za),X(Rn),X(Yg,8),X(Oge,8),X(u6),X(n,12),X(EE),X(Pr,8))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})(),Bge=0,NR=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=h6(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){d6(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}static{this.\u0275fac=function(i){return new(i||n)(O(Kc,8),O(xt),O(ME))}}static{this.\u0275dir=Te({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,r){1&i&&Fe("click",function(s){return r._onButtonClick(s)}),2&i&&_n("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Di]})}}return n})(),Cv=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+Bge++}ngOnInit(){this._dialogRef||(this._dialogRef=h6(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._ariaLabelledByQueue?.push(this.id)})}ngOnDestroy(){const e=this._dialogRef?._containerInstance?._ariaLabelledByQueue;e&&Promise.resolve().then(()=>{const i=e.indexOf(this.id);i>-1&&e.splice(i,1)})}static{this.\u0275fac=function(i){return new(i||n)(O(Kc,8),O(xt),O(ME))}}static{this.\u0275dir=Te({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){2&i&&Qd("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}}return n})(),Av=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}}return n})(),Tv=(()=>{class n{constructor(){this.align="start"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(i,r){2&i&&Xt("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}})}}return n})();function h6(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let Uge=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({providers:[ME,Fge],imports:[age,IE,Rm,Nn,Nn]})}}return n})();const zge=["mat-button",""],jge=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Hge=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Wge=["mat-icon-button",""],Gge=["*"],qge=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Kge=TR(LW(VW(class{constructor(n){this._elementRef=n}})));let m6=(()=>{class n extends Kge{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ht(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=Ht(e),this._updateRippleDisabled()}constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=De(Om),this._rippleLoader=De(Tge),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=e.nativeElement.classList;for(const a of qge)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{s.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){Tg()}}static{this.\u0275dir=Te({type:n,features:[ot]})}}return n})(),ja=(()=>{class n extends m6{constructor(e,i,r,o){super(e,i,r,o)}static{this.\u0275fac=function(i){return new(i||n)(O(xt),O(ki),O($e),O(Pr,8))}}static{this.\u0275cmp=St({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(_n("disabled",r.disabled||null),Xt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ot],attrs:zge,ngContentSelectors:Hge,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(Gi(jge),vt(0,"span",0),lt(1),q(2,"span",1),lt(3,1),G(),lt(4,2),vt(5,"span",2)(6,"span",3)),2&i&&Xt("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})(),Xge=(()=>{class n extends m6{constructor(e,i,r,o){super(e,i,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(i){return new(i||n)(O(xt),O(ki),O($e),O(Pr,8))}}static{this.\u0275cmp=St({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(_n("disabled",r.disabled||null),Xt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ot],attrs:Wge,ngContentSelectors:Gge,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(Gi(),vt(0,"span",0),lt(1),vt(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})(),p6=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[Nn,SR,Nn]})}}return n})();function Zge(n,t){if(1&n){const e=Pi();q(0,"div",2)(1,"button",3),Fe("click",function(){return Rt(e),Pt(He().action())}),le(2),G()()}if(2&n){const e=He();ge(2),Kr(" ",e.data.action," ")}}const Jge=["label"];function e_e(n,t){}const t_e=Math.pow(2,31)-1;class FR{constructor(t,e){this._overlayRef=e,this._afterDismissed=new W,this._afterOpened=new W,this._onAction=new W,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,t_e))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const g6=new de("MatSnackBarData");class RE{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let n_e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}}return n})(),i_e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}}return n})(),r_e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}}return n})(),o_e=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static{this.\u0275fac=function(i){return new(i||n)(O(FR),O(g6))}}static{this.\u0275cmp=St({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){1&i&&(q(0,"div",0),le(1),G(),Be(2,Zge,3,1,"div",1)),2&i&&(ge(1),Kr(" ",r.data.message,"\n"),ge(1),ve("ngIf",r.hasAction))},dependencies:[ea,ja,n_e,i_e,r_e],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}}return n})();const s_e={snackBarState:qc("state",[ks("void, hidden",ir({transform:"scale(0.8)",opacity:0})),ks("visible",ir({transform:"scale(1)",opacity:1})),Ms("* => visible",ia("150ms cubic-bezier(0, 0, 0.2, 1)")),Ms("* => void, * => hidden",ia("75ms cubic-bezier(0.4, 0.0, 1, 1)",ir({opacity:0})))])};let a_e=0,l_e=(()=>{class n extends yE{constructor(e,i,r,o,s){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=s,this._document=De(At),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new W,this._onExit=new W,this._onEnter=new W,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+a_e++,this.attachDomPortal=a=>{this._assertNotAttached();const l=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),l},this._live="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Pn(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),this._exposeToModals()}_exposeToModals(){const e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const i=e.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static{this.\u0275fac=function(i){return new(i||n)(O($e),O(xt),O(Yr),O(ki),O(RE))}}static{this.\u0275dir=Te({type:n,viewQuery:function(i,r){if(1&i&&Oi(Mm,7),2&i){let o;It(o=Ct())&&(r._portalOutlet=o.first)}},features:[ot]})}}return n})(),c_e=(()=>{class n extends l_e{_afterPortalAttached(){super._afterPortalAttached();const e=this._label.nativeElement,i="mdc-snackbar__label";e.classList.toggle(i,!e.querySelector(`.${i}`))}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Zn(n)))(r||n)}}()}static{this.\u0275cmp=St({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(1&i&&Oi(Jge,7),2&i){let o;It(o=Ct())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(i,r){1&i&&X0("@state.done",function(s){return r.onAnimationEnd(s)}),2&i&&tw("@state",r._animationState)},features:[ot],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(q(0,"div",0)(1,"div",1,2)(3,"div",3),Be(4,e_e,0,0,"ng-template",4),G(),vt(5,"div"),G()()),2&i&&(ge(5),_n("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Mm],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[s_e.snackBarState]}})}}return n})(),_6=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[IE,Rm,_l,p6,Nn,Nn]})}}return n})();const v6=new de("mat-snack-bar-default-options",{providedIn:"root",factory:function d_e(){return new RE}});let u_e=(()=>{class n{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,i,r,o,s,a){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=Rn.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:RE,useValue:i}]}),s=new pv(this.snackBarContainerComponent,i.viewContainerRef,o),a=e.attach(s);return a.instance.snackBarConfig=i,a.instance}_attach(e,i){const r={...new RE,...this._defaultConfig,...i},o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new FR(s,o);if(e instanceof ts){const l=new gv(e,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(l)}else{const l=this._createInjector(r,a),c=new pv(e,void 0,l),d=s.attachComponentPortal(c);a.instance=d.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Wn(o.detachments())).subscribe(l=>{o.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new xE;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,s="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,a=!s&&"center"!==e.horizontalPosition;return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return Rn.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:FR,useValue:i},{provide:g6,useValue:e.data}]})}static{this.\u0275fac=function(i){return new(i||n)(X(za),X(ER),X(Rn),X(xR),X(n,12),X(v6))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})(),h_e=(()=>{class n extends u_e{constructor(e,i,r,o,s,a){super(e,i,r,o,s,a),this.simpleSnackBarComponent=o_e,this.snackBarContainerComponent=c_e,this.handsetCssClass="mat-mdc-snack-bar-handset"}static{this.\u0275fac=function(i){return new(i||n)(X(za),X(ER),X(Rn),X(xR),X(n,12),X(v6))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:_6})}}return n})();function b6(...n){const t=Wo(n),{args:e,keys:i}=aj(n),r=new rt(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let d=0;d<s;d++){let h=!1;Gt(e[d]).subscribe(he(o,p=>{h||(h=!0,c--),a[d]=p},()=>l--,void 0,()=>{(!l||!h)&&(c||o.next(i?lj(i,a):a),o.complete())}))}});return t?r.pipe(tD(t)):r}let y6=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(O(cl),O(xt))}}static{this.\u0275dir=Te({type:n})}}return n})(),Nu=(()=>{class n extends y6{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Zn(n)))(r||n)}}()}static{this.\u0275dir=Te({type:n,features:[ot]})}}return n})();const ra=new de("NgValueAccessor"),f_e={provide:ra,useExisting:hn(()=>LR),multi:!0};let LR=(()=>{class n extends Nu{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Zn(n)))(r||n)}}()}static{this.\u0275dir=Te({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&Fe("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[rn([f_e]),ot]})}}return n})();const m_e={provide:ra,useExisting:hn(()=>Fu),multi:!0},g_e=new de("CompositionEventMode");let Fu=(()=>{class n extends y6{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function p_e(){const n=_c()?_c().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(O(cl),O(xt),O(g_e,8))}}static{this.\u0275dir=Te({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Fe("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[rn([m_e]),ot]})}}return n})();function Yc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function w6(n){return null!=n&&"number"==typeof n.length}const no=new de("NgValidators"),Qc=new de("NgAsyncValidators"),__e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class x6{static min(t){return E6(t)}static max(t){return function I6(n){return t=>{if(Yc(t.value)||Yc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return C6(t)}static requiredTrue(t){return function A6(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function T6(n){return Yc(n.value)||__e.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function S6(n){return t=>Yc(t.value)||!w6(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function D6(n){return t=>w6(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function k6(n){if(!n)return PE;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Yc(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return F6(t)}static composeAsync(t){return L6(t)}}function E6(n){return t=>{if(Yc(t.value)||Yc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function C6(n){return Yc(n.value)?{required:!0}:null}function PE(n){return null}function M6(n){return null!=n}function R6(n){return Fg(n)?A(n):n}function P6(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function O6(n,t){return t.map(e=>e(n))}function N6(n){return n.map(t=>function v_e(n){return!n.validate}(t)?t:e=>t.validate(e))}function F6(n){if(!n)return null;const t=n.filter(M6);return 0==t.length?null:function(e){return P6(O6(e,t))}}function VR(n){return null!=n?F6(N6(n)):null}function L6(n){if(!n)return null;const t=n.filter(M6);return 0==t.length?null:function(e){return b6(O6(e,t).map(R6)).pipe(fe(P6))}}function BR(n){return null!=n?L6(N6(n)):null}function V6(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function B6(n){return n._rawValidators}function U6(n){return n._rawAsyncValidators}function UR(n){return n?Array.isArray(n)?n:[n]:[]}function OE(n,t){return Array.isArray(n)?n.includes(t):n===t}function z6(n,t){const e=UR(t);return UR(n).forEach(r=>{OE(e,r)||e.push(r)}),e}function j6(n,t){return UR(t).filter(e=>!OE(n,e))}class H6{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=VR(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=BR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Io extends H6{get formDirective(){return null}get path(){return null}}class Ha extends H6{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $6{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Fm=(()=>{class n extends $6{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(O(Ha,2))}}static{this.\u0275dir=Te({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Xt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ot]})}}return n})(),zR=(()=>{class n extends $6{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(O(Io,10))}}static{this.\u0275dir=Te({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Xt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ot]})}}return n})();const Sv="VALID",FE="INVALID",Lm="PENDING",Dv="DISABLED";function $R(n){return(LE(n)?n.validators:n)||null}function WR(n,t){return(LE(t)?t.asyncValidators:n)||null}function LE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class GR{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Sv}get invalid(){return this.status===FE}get pending(){return this.status==Lm}get disabled(){return this.status===Dv}get enabled(){return this.status!==Dv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(z6(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(z6(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(j6(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(j6(t,this._rawAsyncValidators))}hasValidator(t){return OE(this._rawValidators,t)}hasAsyncValidator(t){return OE(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Lm,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Dv,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Sv,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sv||this.status===Lm)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dv:Sv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Lm,this._hasOwnPendingAsyncValidator=!0;const e=R6(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new _t,this.statusChanges=new _t}_calculateStatus(){return this._allControlsDisabled()?Dv:this.errors?FE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Lm)?Lm:this._anyControlsHaveStatus(FE)?FE:Sv}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){LE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function x_e(n){return Array.isArray(n)?VR(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function E_e(n){return Array.isArray(n)?BR(n):n||null}(this._rawAsyncValidators)}}class kv extends GR{constructor(t,e,i){super($R(e),WR(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function q6(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new ce(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function G6(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new ce(1e3,"");if(!i[e])throw new ce(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Lu=new de("CallSetDisabledState",{providedIn:"root",factory:()=>Mv}),Mv="always";function VE(n,t){return[...t.path,n]}function Rv(n,t,e=Mv){qR(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function A_e(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&K6(n,t)})}(n,t),function S_e(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function T_e(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&K6(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function C_e(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function BE(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),zE(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function UE(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function qR(n,t){const e=B6(n);null!==t.validator?n.setValidators(V6(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=U6(n);null!==t.asyncValidator?n.setAsyncValidators(V6(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();UE(t._rawValidators,r),UE(t._rawAsyncValidators,r)}function zE(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=B6(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=U6(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return UE(t._rawValidators,i),UE(t._rawAsyncValidators,i),e}function K6(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Y6(n,t){qR(n,t)}function YR(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function Q6(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function QR(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Fu?e=o:function M_e(n){return Object.getPrototypeOf(n.constructor)===Nu}(o)?i=o:r=o}),r||i||e||null}const P_e={provide:Io,useExisting:hn(()=>Ov)},Pv=(()=>Promise.resolve())();let Ov=(()=>{class n extends Io{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new _t,this.form=new kv({},VR(e),BR(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Pv.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Rv(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Pv.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Pv.then(()=>{const i=this._findContainer(e.path),r=new kv({});Y6(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Pv.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Pv.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Q6(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||n)(O(no,10),O(Qc,10),O(Lu,8))}}static{this.\u0275dir=Te({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Fe("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[rn([P_e]),ot]})}}return n})();function X6(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Z6(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Vm=class extends GR{constructor(t=null,e,i){super($R(e),WR(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),LE(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Z6(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){X6(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){X6(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Z6(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},F_e={provide:Ha,useExisting:hn(()=>Nv)},t8=(()=>Promise.resolve())();let Nv=(()=>{class n extends Ha{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Vm,this._registered=!1,this.name="",this.update=new _t,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=QR(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),YR(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){t8.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&Cf(i);t8.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?VE(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||n)(O(Io,9),O(no,10),O(Qc,10),O(ra,10),O(Yr,8),O(Lu,8))}}static{this.\u0275dir=Te({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[rn([F_e]),ot,Di]})}}return n})(),XR=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const L_e={provide:ra,useExisting:hn(()=>jE),multi:!0};let jE=(()=>{class n extends Nu{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Zn(n)))(r||n)}}()}static{this.\u0275dir=Te({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&Fe("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[rn([L_e]),ot]})}}return n})(),n8=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({})}}return n})();const ZR=new de("NgModelWithFormControlWarning"),j_e={provide:Io,useExisting:hn(()=>Vu)};let Vu=(()=>{class n extends Io{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _t,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Rv(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){BE(e.control||null,e,!1),function R_e(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,Q6(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(BE(i||null,e),(n=>n instanceof Vm)(r)&&(Rv(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Y6(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function D_e(n,t){return zE(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qR(this.form,this),this._oldForm&&zE(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(i){return new(i||n)(O(no,10),O(Qc,10),O(Lu,8))}}static{this.\u0275dir=Te({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&Fe("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[rn([j_e]),ot,Di]})}}return n})();const W_e={provide:Ha,useExisting:hn(()=>HE)};let HE=(()=>{class n extends Ha{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new _t,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=QR(0,o)}ngOnChanges(e){this._added||this._setUpControl(),YR(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return VE(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(O(Io,13),O(no,10),O(Qc,10),O(ra,10),O(ZR,8))}}static{this.\u0275dir=Te({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[rn([W_e]),ot,Di]})}}return n})();let Bu=(()=>{class n{constructor(){this._validator=PE}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):PE,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,features:[Di]})}}return n})();const J_e={provide:no,useExisting:hn(()=>r1),multi:!0};let r1=(()=>{class n extends Bu{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>function d8(n){return"number"==typeof n?n:parseFloat(n)}(e),this.createValidator=e=>E6(e)}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Zn(n)))(r||n)}}()}static{this.\u0275dir=Te({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&_n("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[rn([J_e]),ot]})}}return n})();const eve={provide:no,useExisting:hn(()=>Fv),multi:!0};let Fv=(()=>{class n extends Bu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Cf,this.createValidator=e=>C6}enabled(e){return e}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Zn(n)))(r||n)}}()}static{this.\u0275dir=Te({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&_n("required",r._enabled?"":null)},inputs:{required:"required"},features:[rn([eve]),ot]})}}return n})(),_8=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[n8]})}}return n})(),ave=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Lu,useValue:e.callSetDisabledState??Mv}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[_8]})}}return n})(),lve=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ZR,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Lu,useValue:e.callSetDisabledState??Mv}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[_8]})}}return n})();class cve{constructor(t){this._box=t,this._destroyed=new W,this._resizeSubject=new W,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new rt(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(jt(e=>e.some(i=>i.target===t)),DD({bufferSize:1,refCount:!0}),Wn(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let dve=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=De($e)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new cve(r)),this._observers.get(r).observe(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const uve=["notch"],hve=["matFormFieldNotchedOutline",""],fve=["*"],mve=["textField"],pve=["iconPrefixContainer"],gve=["textPrefixContainer"];function _ve(n,t){1&n&&vt(0,"span",19)}function vve(n,t){if(1&n&&(q(0,"label",17),lt(1,1),Be(2,_ve,1,0,"span",18),G()),2&n){const e=He(2);ve("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),_n("for",e._control.id),ge(2),ve("ngIf",!e.hideRequiredMarker&&e._control.required)}}function bve(n,t){1&n&&Be(0,vve,3,5,"label",16),2&n&&ve("ngIf",He()._hasFloatingLabel())}function yve(n,t){1&n&&vt(0,"div",20)}function wve(n,t){}function xve(n,t){1&n&&Be(0,wve,0,0,"ng-template",22),2&n&&(He(2),ve("ngTemplateOutlet",vo(1)))}function Eve(n,t){if(1&n&&(q(0,"div",21),Be(1,xve,1,1,"ng-template",9),G()),2&n){const e=He();ve("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),ge(1),ve("ngIf",!e._forceDisplayInfixLabel())}}function Ive(n,t){1&n&&(q(0,"div",23,24),lt(2,2),G())}function Cve(n,t){1&n&&(q(0,"div",25,26),lt(2,3),G())}function Ave(n,t){}function Tve(n,t){1&n&&Be(0,Ave,0,0,"ng-template",22),2&n&&(He(),ve("ngTemplateOutlet",vo(1)))}function Sve(n,t){1&n&&(q(0,"div",27),lt(1,4),G())}function Dve(n,t){1&n&&(q(0,"div",28),lt(1,5),G())}function kve(n,t){1&n&&vt(0,"div",29)}function Mve(n,t){1&n&&(q(0,"div",30),lt(1,6),G()),2&n&&ve("@transitionMessages",He()._subscriptAnimationState)}function Rve(n,t){if(1&n&&(q(0,"mat-hint",34),le(1),G()),2&n){const e=He(2);ve("id",e._hintLabelId),ge(1),hr(e.hintLabel)}}function Pve(n,t){if(1&n&&(q(0,"div",31),Be(1,Rve,2,2,"mat-hint",32),lt(2,7),vt(3,"div",33),lt(4,8),G()),2&n){const e=He();ve("@transitionMessages",e._subscriptAnimationState),ge(1),ve("ngIf",e.hintLabel)}}const Ove=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Nve=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Bm=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,selectors:[["mat-label"]]})}}return n})();const Fve=new de("MatError");let Lve=0,v8=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+Lve++}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(Qd("id",r.id),_n("align",null),Xt("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}}return n})();const Vve=new de("MatPrefix"),Bve=new de("MatSuffix"),b8=new de("FloatingLabelParent");let y8=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=De(dve),this._ngZone=De($e),this._parent=De(b8),this._resizeSubscription=new ft}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function Uve(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(i){return new(i||n)(O(xt))}}static{this.\u0275dir=Te({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&Xt("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}}return n})();const w8="mdc-line-ripple--active",$E="mdc-line-ripple--deactivating";let x8=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains($E);"opacity"===r.propertyName&&s&&o.remove(w8,$E)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove($E),e.add(w8)}deactivate(){this._elementRef.nativeElement.classList.add($E)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(i){return new(i||n)(O(xt),O($e))}}static{this.\u0275dir=Te({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}}return n})(),E8=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static{this.\u0275fac=function(i){return new(i||n)(O(xt),O($e))}}static{this.\u0275cmp=St({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&Oi(uve,5),2&i){let o;It(o=Ct())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&Xt("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:hve,ngContentSelectors:fve,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(Gi(),vt(0,"div",0),q(1,"div",1,2),lt(3),G(),vt(4,"div",3))},encapsulation:2,changeDetection:0})}}return n})();const zve={transitionMessages:qc("transitionMessages",[ks("enter",ir({opacity:1,transform:"translateY(0%)"})),Ms("void => enter",[ir({opacity:0,transform:"translateY(-5px)"}),ia("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let o1=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n})}}return n})();const s1=new de("MatFormField"),jve=new de("MAT_FORM_FIELD_DEFAULT_OPTIONS");let I8=0,WE=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Ht(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,s,a,l,c){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+I8++,this._hintLabelId="mat-mdc-hint-"+I8++,this._subscriptAnimationState="",this._destroyed=new W,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Wn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),x(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Wn(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Wn(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static{this.\u0275fac=function(i){return new(i||n)(O(xt),O(Yr),O($e),O(Gc),O(ki),O(jve,8),O(Pr,8),O(At))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(di(o,Bm,5),di(o,Bm,7),di(o,o1,5),di(o,Vve,5),di(o,Bve,5),di(o,Fve,5),di(o,v8,5)),2&i){let s;It(s=Ct())&&(r._labelChildNonStatic=s.first),It(s=Ct())&&(r._labelChildStatic=s.first),It(s=Ct())&&(r._formFieldControl=s.first),It(s=Ct())&&(r._prefixChildren=s),It(s=Ct())&&(r._suffixChildren=s),It(s=Ct())&&(r._errorChildren=s),It(s=Ct())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(1&i&&(Oi(mve,5),Oi(pve,5),Oi(gve,5),Oi(y8,5),Oi(E8,5),Oi(x8,5)),2&i){let o;It(o=Ct())&&(r._textField=o.first),It(o=Ct())&&(r._iconPrefixContainer=o.first),It(o=Ct())&&(r._textPrefixContainer=o.first),It(o=Ct())&&(r._floatingLabel=o.first),It(o=Ct())&&(r._notchedOutline=o.first),It(o=Ct())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&Xt("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[rn([{provide:s1,useExisting:n},{provide:b8,useExisting:n}])],ngContentSelectors:Nve,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(Gi(Ove),Be(0,bve,1,1,"ng-template",null,0,xf),q(2,"div",1,2),Fe("click",function(s){return r._control.onContainerClick(s)}),Be(4,yve,1,0,"div",3),q(5,"div",4),Be(6,Eve,2,2,"div",5),Be(7,Ive,3,0,"div",6),Be(8,Cve,3,0,"div",7),q(9,"div",8),Be(10,Tve,1,1,"ng-template",9),lt(11),G(),Be(12,Sve,2,0,"div",10),Be(13,Dve,2,0,"div",11),G(),Be(14,kve,1,0,"div",12),G(),q(15,"div",13),Be(16,Mve,2,1,"div",14),Be(17,Pve,5,2,"div",15),G()),2&i&&(ge(2),Xt("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),ge(2),ve("ngIf",!r._hasOutline()&&!r._control.disabled),ge(2),ve("ngIf",r._hasOutline()),ge(1),ve("ngIf",r._hasIconPrefix),ge(1),ve("ngIf",r._hasTextPrefix),ge(2),ve("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),ge(2),ve("ngIf",r._hasTextSuffix),ge(1),ve("ngIf",r._hasIconSuffix),ge(1),ve("ngIf",!r._hasOutline()),ge(1),Xt("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),ve("ngSwitch",r._getDisplayedMessages()),ge(1),ve("ngSwitchCase","error"),ge(1),ve("ngSwitchCase","hint"))},dependencies:[ea,LS,Zg,FS,v8,y8,E8,x8],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[zve.transitionMessages]},changeDetection:0})}}return n})(),GE=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[Nn,_l,wR,Nn]})}}return n})();const T8=uv({passive:!0});let Wve=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Xn;const i=kl(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new W,s="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,T8),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,T8)}}),o}stopMonitoring(e){const i=kl(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static{this.\u0275fac=function(i){return new(i||n)(X(ki),X($e))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Gve=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({})}}return n})();const qve=new de("MAT_INPUT_VALUE_ACCESSOR"),Kve=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Yve=0;const Qve=UW(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new W}});let a1=(()=>{class n extends Qve{get disabled(){return this._disabled}set disabled(e){this._disabled=Ht(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(x6.required)??!1}set required(e){this._required=Ht(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Z5().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Ht(e)}constructor(e,i,r,o,s,a,l,c,d,h){super(a,o,s,r),this._elementRef=e,this._platform=i,this._autofillMonitor=c,this._formField=h,this._uid="mat-input-"+Yve++,this.focused=!1,this.stateChanges=new W,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(b=>Z5().has(b)),this._iOSKeyupListener=b=>{const w=b.target;!w.value&&0===w.selectionStart&&0===w.selectionEnd&&(w.setSelectionRange(1,1),w.setSelectionRange(0,0))};const p=this._elementRef.nativeElement,v=p.nodeName.toLowerCase();this._inputValueAccessor=l||p,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&d.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===v,this._isTextarea="textarea"===v,this._isInFormField=!!h,this._isNativeSelect&&(this.controlType=p.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Kve.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static{this.\u0275fac=function(i){return new(i||n)(O(xt),O(ki),O(Ha,10),O(Ov,8),O(Vu,8),O(zW),O(qve,10),O(Wve),O($e),O(s1,8))}}static{this.\u0275dir=Te({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&Fe("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(Qd("id",r.id)("disabled",r.disabled)("required",r.required),_n("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Xt("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[rn([{provide:o1,useExisting:n}]),ot,Di]})}}return n})(),Xve=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[Nn,GE,GE,Gve,Nn]})}}return n})(),Zve=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[Nn,Nn]})}}return n})();class l1{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new W,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}let S8=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const D8=["*"],k8='@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}',M8=["unscopedContent"],ebe=["text"],tbe=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],nbe=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];function ibe(n,t){1&n&&lt(0,4)}function rbe(n,t){if(1&n&&(q(0,"div",11),vt(1,"input",12),q(2,"div",13),Nh(),q(3,"svg",14),vt(4,"path",15),G(),tg(),vt(5,"div",16),G()()),2&n){const e=He();Xt("mdc-checkbox--disabled",e.disabled),ge(1),ve("checked",e.selected)("disabled",e.disabled)}}function obe(n,t){if(1&n&&(q(0,"div",17),vt(1,"input",18),q(2,"div",19),vt(3,"div",20)(4,"div",21),G()()),2&n){const e=He();Xt("mdc-radio--disabled",e.disabled),ge(1),ve("checked",e.selected)("disabled",e.disabled)}}function sbe(n,t){}function abe(n,t){if(1&n&&(q(0,"span",22),Be(1,sbe,0,0,"ng-template",23),G()),2&n){He();const e=vo(3);ge(1),ve("ngTemplateOutlet",e)}}function lbe(n,t){}function cbe(n,t){if(1&n&&(q(0,"span",24),Be(1,lbe,0,0,"ng-template",23),G()),2&n){He();const e=vo(5);ge(1),ve("ngTemplateOutlet",e)}}function dbe(n,t){}function ube(n,t){1&n&&Be(0,dbe,0,0,"ng-template",23),2&n&&(He(),ve("ngTemplateOutlet",vo(1)))}function hbe(n,t){}function fbe(n,t){if(1&n&&(q(0,"span",25),Be(1,hbe,0,0,"ng-template",23),G()),2&n){He();const e=vo(3);ge(1),ve("ngTemplateOutlet",e)}}function mbe(n,t){}function pbe(n,t){if(1&n&&(q(0,"span",25),Be(1,mbe,0,0,"ng-template",23),G()),2&n){He();const e=vo(5);ge(1),ve("ngTemplateOutlet",e)}}function gbe(n,t){}function _be(n,t){1&n&&Be(0,gbe,0,0,"ng-template",23),2&n&&(He(),ve("ngTemplateOutlet",vo(1)))}const vbe=[[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["mat-divider"]],[["","matListItemAvatar",""],["","matListItemIcon",""]]],bbe=["[matListItemTitle]","[matListItemLine]","*","mat-divider","[matListItemAvatar],[matListItemIcon]"],R8=new de("ListOption");let P8=(()=>{class n{constructor(e){this._elementRef=e}static{this.\u0275fac=function(i){return new(i||n)(O(xt))}}static{this.\u0275dir=Te({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}}return n})(),O8=(()=>{class n{constructor(e){this._elementRef=e}static{this.\u0275fac=function(i){return new(i||n)(O(xt))}}static{this.\u0275dir=Te({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}}return n})(),ybe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}}return n})(),N8=(()=>{class n{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static{this.\u0275fac=function(i){return new(i||n)(O(R8,8))}}static{this.\u0275dir=Te({type:n,hostVars:4,hostBindings:function(i,r){2&i&&Xt("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())}})}}return n})(),wbe=(()=>{class n extends N8{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Zn(n)))(r||n)}}()}static{this.\u0275dir=Te({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[ot]})}}return n})(),xbe=(()=>{class n extends N8{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Zn(n)))(r||n)}}()}static{this.\u0275dir=Te({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[ot]})}}return n})();const Ebe=new de("MAT_LIST_CONFIG");let Um=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=De(Ebe,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ht(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=Ht(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,hostVars:1,hostBindings:function(i,r){2&i&&_n("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}}return n})(),c1=(()=>{class n{set lines(e){this._explicitLines=Dm(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=Ht(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=Ht(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,i,r,o,s,a){this._elementRef=e,this._ngZone=i,this._listBase=r,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new ft,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=s||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===a,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new xv(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(x(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const o=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!(!e.textContent||!e.textContent.trim()))}static{this.\u0275fac=function(i){return new(i||n)(O(xt),O($e),O(Um,8),O(ki),O(Ev,8),O(Pr,8))}}static{this.\u0275dir=Te({type:n,contentQueries:function(i,r,o){if(1&i&&(di(o,wbe,4),di(o,xbe,4)),2&i){let s;It(s=Ct())&&(r._avatars=s),It(s=Ct())&&(r._icons=s)}},hostVars:4,hostBindings:function(i,r){2&i&&(_n("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),Xt("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}}return n})(),Ibe=(()=>{class n extends Um{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Zn(n)))(r||n)}}()}static{this.\u0275cmp=St({type:n,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[rn([{provide:Um,useExisting:n}]),ot],ngContentSelectors:D8,decls:1,vars:0,template:function(i,r){1&i&&(Gi(),lt(0))},styles:[k8],encapsulation:2,changeDetection:0})}}return n})(),Cbe=(()=>{class n extends c1{get activated(){return this._activated}set activated(e){this._activated=Ht(e)}constructor(e,i,r,o,s,a){super(e,i,r,o,s,a),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}static{this.\u0275fac=function(i){return new(i||n)(O(xt),O($e),O(Um,8),O(ki),O(Ev,8),O(Pr,8))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,r,o){if(1&i&&(di(o,O8,5),di(o,P8,5),di(o,ybe,5)),2&i){let s;It(s=Ct())&&(r._lines=s),It(s=Ct())&&(r._titles=s),It(s=Ct())&&(r._meta=s)}},viewQuery:function(i,r){if(1&i&&(Oi(M8,5),Oi(ebe,5)),2&i){let o;It(o=Ct())&&(r._unscopedContent=o.first),It(o=Ct())&&(r._itemText=o.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(i,r){2&i&&(_n("aria-current",r._getAriaCurrent()),Xt("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",0!==r._avatars.length)("mdc-list-item--with-leading-icon",0!==r._icons.length)("mdc-list-item--with-trailing-meta",0!==r._meta.length)("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[ot],ngContentSelectors:nbe,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(i,r){1&i&&(Gi(tbe),lt(0),q(1,"span",0),lt(2,1),lt(3,2),q(4,"span",1,2),Fe("cdkObserveContent",function(){return r._updateItemLines(!0)}),lt(6,3),G()(),lt(7,4),lt(8,5),vt(9,"div",3))},dependencies:[pW],encapsulation:2,changeDetection:0})}}return n})();const F8=new de("SelectionList");let qE=(()=>{class n extends c1{get checkboxPosition(){return this.togglePosition}set checkboxPosition(e){this.togglePosition=e}get color(){return this._color||this._selectionList.color}set color(e){this._color=e}get value(){return this._value}set value(e){this.selected&&e!==this.value&&this._inputsInitialized&&(this.selected=!1),this._value=e}get selected(){return this._selectionList.selectedOptions.isSelected(this)}set selected(e){const i=Ht(e);i!==this._selected&&(this._setSelected(i),(i||this._selectionList.multiple)&&this._selectionList._reportValueChange())}constructor(e,i,r,o,s,a,l){super(e,i,r,o,a,l),this._selectionList=r,this._changeDetectorRef=s,this.selectedChange=new _t,this.togglePosition="after",this._selected=!1,this._inputsInitialized=!1}ngOnInit(){const e=this._selectionList;e._value&&e._value.some(r=>e.compareWith(this._value,r))&&this._setSelected(!0);const i=this._selected;Promise.resolve().then(()=>{(this._selected||i)&&(this.selected=!0,this._changeDetectorRef.markForCheck())}),this._inputsInitialized=!0}ngOnDestroy(){super.ngOnDestroy(),this.selected&&Promise.resolve().then(()=>{this.selected=!1})}toggle(){this.selected=!this.selected}focus(){this._hostElement.focus()}getLabel(){return(this._titles?.get(0)?._elementRef.nativeElement||this._unscopedContent?.nativeElement)?.textContent||""}_hasCheckboxAt(e){return this._selectionList.multiple&&this._getTogglePosition()===e}_hasRadioAt(e){return!this._selectionList.multiple&&this._getTogglePosition()===e&&!this._selectionList.hideSingleSelectionIndicator}_hasIconsOrAvatarsAt(e){return this._hasProjected("icons",e)||this._hasProjected("avatars",e)}_hasProjected(e,i){return this._getTogglePosition()!==i&&("avatars"===e?0!==this._avatars.length:0!==this._icons.length)}_handleBlur(){this._selectionList._onTouched()}_getTogglePosition(){return this.togglePosition||"after"}_setSelected(e){return e!==this._selected&&(this._selected=e,e?this._selectionList.selectedOptions.select(this):this._selectionList.selectedOptions.deselect(this),this.selectedChange.emit(e),this._changeDetectorRef.markForCheck(),!0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_toggleOnInteraction(){this.disabled||(this._selectionList.multiple?(this.selected=!this.selected,this._selectionList._emitChangeEvent([this])):this.selected||(this.selected=!0,this._selectionList._emitChangeEvent([this])))}_setTabindex(e){this._hostElement.setAttribute("tabindex",e+"")}static{this.\u0275fac=function(i){return new(i||n)(O(xt),O($e),O(F8),O(ki),O(Yr),O(Ev,8),O(Pr,8))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-list-option"]],contentQueries:function(i,r,o){if(1&i&&(di(o,O8,5),di(o,P8,5)),2&i){let s;It(s=Ct())&&(r._lines=s),It(s=Ct())&&(r._titles=s)}},viewQuery:function(i,r){if(1&i&&Oi(M8,5),2&i){let o;It(o=Ct())&&(r._unscopedContent=o.first)}},hostAttrs:["role","option",1,"mat-mdc-list-item","mat-mdc-list-option","mdc-list-item"],hostVars:25,hostBindings:function(i,r){1&i&&Fe("blur",function(){return r._handleBlur()})("click",function(){return r._toggleOnInteraction()}),2&i&&(_n("aria-selected",r.selected),Xt("mdc-list-item--selected",r.selected&&!r._selectionList.multiple&&r._selectionList.hideSingleSelectionIndicator)("mdc-list-item--with-leading-avatar",r._hasProjected("avatars","before"))("mdc-list-item--with-leading-icon",r._hasProjected("icons","before"))("mdc-list-item--with-trailing-icon",r._hasProjected("icons","after"))("mat-mdc-list-option-with-trailing-avatar",r._hasProjected("avatars","after"))("mdc-list-item--with-leading-checkbox",r._hasCheckboxAt("before"))("mdc-list-item--with-trailing-checkbox",r._hasCheckboxAt("after"))("mdc-list-item--with-leading-radio",r._hasRadioAt("before"))("mdc-list-item--with-trailing-radio",r._hasRadioAt("after"))("mat-accent","primary"!==r.color&&"warn"!==r.color)("mat-warn","warn"===r.color)("_mat-animation-noopable",r._noopAnimations))},inputs:{togglePosition:"togglePosition",checkboxPosition:"checkboxPosition",color:"color",value:"value",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[rn([{provide:c1,useExisting:n},{provide:R8,useExisting:n}]),ot],ngContentSelectors:bbe,decls:20,vars:6,consts:[["icons",""],["checkbox",""],["radio",""],["class","mdc-list-item__start mat-mdc-list-option-checkbox-before",4,"ngIf"],["class","mdc-list-item__start mat-mdc-list-option-radio-before",4,"ngIf"],[3,"ngIf"],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],["class","mdc-list-item__end",4,"ngIf"],[1,"mat-mdc-focus-indicator"],[1,"mdc-checkbox"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","disabled"],[1,"mdc-checkbox__background"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],[1,"mdc-radio"],["type","radio",1,"mdc-radio__native-control",3,"checked","disabled"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],[1,"mdc-list-item__start","mat-mdc-list-option-checkbox-before"],[3,"ngTemplateOutlet"],[1,"mdc-list-item__start","mat-mdc-list-option-radio-before"],[1,"mdc-list-item__end"]],template:function(i,r){1&i&&(Gi(vbe),Be(0,ibe,1,0,"ng-template",null,0,xf),Be(2,rbe,6,4,"ng-template",null,1,xf),Be(4,obe,5,4,"ng-template",null,2,xf),Be(6,abe,2,1,"span",3),Be(7,cbe,2,1,"span",4),Be(8,ube,1,1,"ng-template",5),q(9,"span",6),lt(10),lt(11,1),q(12,"span",7,8),Fe("cdkObserveContent",function(){return r._updateItemLines(!0)}),lt(14,2),G()(),Be(15,fbe,2,1,"span",9),Be(16,pbe,2,1,"span",9),Be(17,_be,1,1,"ng-template",5),lt(18,3),vt(19,"div",10)),2&i&&(ge(6),ve("ngIf",r._hasCheckboxAt("before")),ge(1),ve("ngIf",r._hasRadioAt("before")),ge(1),ve("ngIf",r._hasIconsOrAvatarsAt("before")),ge(7),ve("ngIf",r._hasCheckboxAt("after")),ge(1),ve("ngIf",r._hasRadioAt("after")),ge(1),ve("ngIf",r._hasIconsOrAvatarsAt("after")))},dependencies:[pW,ea,LS],styles:['.mat-mdc-list-option-with-trailing-avatar.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mat-mdc-list-option-with-trailing-avatar.mdc-list-item,.mat-mdc-list-option-with-trailing-avatar.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end,.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{width:40px;height:40px}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{border-radius:50%}.mat-mdc-list-option .mdc-touch-target-wrapper{display:inline}.mat-mdc-list-option .mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mat-mdc-list-option .mdc-checkbox[hidden]{display:none}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-list-option .mdc-checkbox__mixedmark{margin:0 1px}}.mat-mdc-list-option .mdc-checkbox--disabled{cursor:default;pointer-events:none}.mat-mdc-list-option .mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color}.mat-mdc-list-option .mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0}.mdc-checkbox--upgraded .mat-mdc-list-option .mdc-checkbox__checkmark{opacity:1}.mat-mdc-list-option .mdc-checkbox__checkmark-path{stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mat-mdc-list-option .mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mat-mdc-list-option .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mat-mdc-list-option .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mat-mdc-list-option .mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mat-mdc-list-option .mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size, 48px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mat-mdc-list-option .mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);width:var(--mdc-checkbox-state-layer-size, 48px);height:var(--mdc-checkbox-state-layer-size, 48px)}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{opacity:1}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mat-mdc-list-option .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0}.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mat-mdc-list-option .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mat-mdc-list-option .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mat-mdc-list-option .mdc-radio[hidden]{display:none}.mat-mdc-list-option .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-list-option .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:""}.mat-mdc-list-option .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%}.mat-mdc-list-option .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%}.mat-mdc-list-option .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mat-mdc-list-option .mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mat-mdc-list-option .mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mat-mdc-list-option .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mat-mdc-list-option .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mat-mdc-list-option .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mat-mdc-list-option .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mat-mdc-list-option .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mat-mdc-list-option .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mat-mdc-list-option .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mat-mdc-list-option .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mat-mdc-list-option .mdc-radio--disabled{cursor:default;pointer-events:none}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5)}.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background,.mat-mdc-list-option [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mat-mdc-list-option .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}@media all and (-ms-high-contrast: none){.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox .mdc-checkbox__focus-ring{display:none}}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__background{transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__mixedmark{transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__background::before{transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option:not(._mat-animation-noopable) .mdc-radio__native-control:focus+.mdc-radio__background::before{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-checkbox{padding:calc((40px - 18px) / 2);padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);margin:calc((40px - 40px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0, 0, 0, 0.38);border-color:var(--mdc-checkbox-disabled-unselected-icon-color, rgba(0, 0, 0, 0.38));background-color:transparent}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:rgba(0, 0, 0, 0.38);background-color:var(--mdc-checkbox-disabled-selected-icon-color, rgba(0, 0, 0, 0.38))}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:#fff;color:var(--mdc-checkbox-selected-checkmark-color, "#fff")}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:#fff;border-color:var(--mdc-checkbox-selected-checkmark-color, "#fff")}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:#fff;color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:#fff;border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:#f44336;border-color:var(--mdc-checkbox-selected-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-icon-color, #f44336)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:#f44336;border-color:var(--mdc-checkbox-selected-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-icon-color, #f44336)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:#f44336;border-color:var(--mdc-checkbox-selected-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-icon-color, #f44336)}100%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mat-mdc-list-option .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:#212121;border-color:var(--mdc-checkbox-unselected-hover-icon-color, #212121);background-color:transparent}.mat-mdc-list-option .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:#f44336;border-color:var(--mdc-checkbox-selected-hover-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-hover-icon-color, #f44336)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:#212121;border-color:var(--mdc-checkbox-unselected-hover-icon-color, #212121);background-color:transparent}50%{border-color:#f44336;border-color:var(--mdc-checkbox-selected-hover-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-hover-icon-color, #f44336)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:#f44336;border-color:var(--mdc-checkbox-selected-hover-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-hover-icon-color, #f44336)}100%{border-color:#212121;border-color:var(--mdc-checkbox-unselected-hover-icon-color, #212121);background-color:transparent}}.mat-mdc-list-option .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mat-mdc-list-option .mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:#212121;border-color:var(--mdc-checkbox-unselected-focus-icon-color, #212121);background-color:transparent}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:#f44336;border-color:var(--mdc-checkbox-selected-focus-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-focus-icon-color, #f44336)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:#212121;border-color:var(--mdc-checkbox-unselected-focus-icon-color, #212121);background-color:transparent}50%{border-color:#f44336;border-color:var(--mdc-checkbox-selected-focus-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-focus-icon-color, #f44336)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:#f44336;border-color:var(--mdc-checkbox-selected-focus-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-focus-icon-color, #f44336)}100%{border-color:#212121;border-color:var(--mdc-checkbox-unselected-focus-icon-color, #212121);background-color:transparent}}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mat-mdc-list-option .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-list-option .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:#f44336;border-color:var(--mdc-checkbox-selected-pressed-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-pressed-icon-color, #f44336)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:#f44336;border-color:var(--mdc-checkbox-selected-pressed-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-pressed-icon-color, #f44336)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:#f44336;border-color:var(--mdc-checkbox-selected-pressed-icon-color, #f44336);background-color:#f44336;background-color:var(--mdc-checkbox-selected-pressed-icon-color, #f44336)}100%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-list-option .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mat-mdc-list-option .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__ripple::before,.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__ripple::after{background-color:black;background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, black)}.mat-mdc-list-option .mdc-checkbox:hover .mdc-checkbox__ripple::before,.mat-mdc-list-option .mdc-checkbox.mdc-ripple-surface--hover .mdc-checkbox__ripple::before{opacity:0.04;opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, 0.04)}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__ripple::before,.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__ripple::before{transition-duration:75ms;opacity:0.16;opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, 0.16)}.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded) .mdc-checkbox__ripple::after{transition:opacity 150ms linear}.mat-mdc-list-option .mdc-checkbox:not(.mdc-ripple-upgraded):active .mdc-checkbox__ripple::after{transition-duration:75ms;opacity:0.16;opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, 0.16)}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, 0.16)}.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--selected .mdc-checkbox__ripple::before,.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--selected .mdc-checkbox__ripple::after{background-color:#f44336;background-color:var(--mdc-checkbox-selected-hover-state-layer-color, #f44336)}.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--selected:hover .mdc-checkbox__ripple::before,.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--selected.mdc-ripple-surface--hover .mdc-checkbox__ripple::before{opacity:0.04;opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, 0.04)}.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--selected.mdc-ripple-upgraded--background-focused .mdc-checkbox__ripple::before,.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded):focus .mdc-checkbox__ripple::before{transition-duration:75ms;opacity:0.16;opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, 0.16)}.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded) .mdc-checkbox__ripple::after{transition:opacity 150ms linear}.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded):active .mdc-checkbox__ripple::after{transition-duration:75ms;opacity:0.16;opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, 0.16)}.mat-mdc-list-option .mdc-checkbox.mdc-checkbox--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, 0.16)}.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--selected .mdc-checkbox__ripple::before,.mat-mdc-list-option .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--selected .mdc-checkbox__ripple::after{background-color:#f44336;background-color:var(--mdc-checkbox-selected-hover-state-layer-color, #f44336)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__background{top:calc((40px - 18px) / 2);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);left:calc((40px - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control{top:calc((40px - 40px) / 2);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);right:calc((40px - 40px) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);left:calc((40px - 40px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);width:40px;width:var(--mdc-checkbox-state-layer-size, 40px);height:40px;height:var(--mdc-checkbox-state-layer-size, 40px)}.mat-mdc-list-option .mdc-radio{padding:calc((40px - 20px) / 2);padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px) / 2)}.mat-mdc-list-option .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:#000;border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-list-option .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:#000;border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-list-option .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:0.38;opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:0.38;opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:#000;border-color:var(--mdc-radio-disabled-unselected-icon-color, #000)}.mat-mdc-list-option .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:0.38;opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-list-option .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:#f44336;border-color:var(--mdc-radio-selected-focus-icon-color, #f44336)}.mat-mdc-list-option .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-list-option .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:#f44336;border-color:var(--mdc-radio-selected-focus-icon-color, #f44336)}.mat-mdc-list-option .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:#f44336;border-color:var(--mdc-radio-selected-hover-icon-color, #f44336)}.mat-mdc-list-option .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:#f44336;border-color:var(--mdc-radio-selected-hover-icon-color, #f44336)}.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:#f44336;border-color:var(--mdc-radio-selected-icon-color, #f44336)}.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:#f44336;border-color:var(--mdc-radio-selected-icon-color, #f44336)}.mat-mdc-list-option .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:#f44336;border-color:var(--mdc-radio-selected-pressed-icon-color, #f44336)}.mat-mdc-list-option .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:#f44336;border-color:var(--mdc-radio-selected-pressed-icon-color, #f44336)}.mat-mdc-list-option .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:#212121;border-color:var(--mdc-radio-unselected-hover-icon-color, #212121)}.mat-mdc-list-option .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-radio-unselected-icon-color, rgba(0, 0, 0, 0.54))}.mat-mdc-list-option .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-radio-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54))}.mat-mdc-list-option .mdc-radio .mdc-radio__background::before{top:calc(-1 * (40px - 20px) / 2);top:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);left:calc(-1 * (40px - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);width:40px;width:var(--mdc-radio-state-layer-size, 40px);height:40px;height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-list-option .mdc-radio .mdc-radio__native-control{top:calc((40px - 40px) / 2);top:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);right:calc((40px - 40px) / 2);right:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);left:calc((40px - 40px) / 2);left:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);width:40px;width:var(--mdc-radio-state-layer-size, 40px);height:40px;height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-list-option .mdc-checkbox__native-control,.mat-mdc-list-option .mdc-radio__native-control{display:none}.cdk-high-contrast-active .mat-mdc-list-option.mdc-list-item--selected::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active .mat-mdc-list-option.mdc-list-item--selected [dir=rtl]::after{right:auto;left:16px}'],encapsulation:2,changeDetection:0})}}return n})();const Abe={provide:ra,useExisting:hn(()=>KE),multi:!0};class Tbe{constructor(t,e){this.source=t,this.options=e}}let KE=(()=>{class n extends Um{get multiple(){return this._multiple}set multiple(e){const i=Ht(e);i!==this._multiple&&(this._multiple=i,this.selectedOptions=new l1(this._multiple,this.selectedOptions.selected))}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Ht(e)}constructor(e,i){super(),this._element=e,this._ngZone=i,this._initialized=!1,this._destroyed=new W,this._onChange=r=>{},this.selectionChange=new _t,this.color="accent",this.compareWith=(r,o)=>r===o,this._multiple=!0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this.selectedOptions=new l1(this._multiple),this._onTouched=()=>{},this._selectionListDisabled=!1,this._handleFocusout=()=>{setTimeout(()=>{this._containsFocus()||this._resetActiveOption()})},this._handleFocusin=r=>{if(this.disabled)return;const o=this._items.toArray().findIndex(s=>s._elementRef.nativeElement.contains(r.target));o>-1?this._setActiveOption(o):this._resetActiveOption()},this._isNonInteractive=!1}ngAfterViewInit(){this._initialized=!0,this._setupRovingTabindex(),this._ngZone.runOutsideAngular(()=>{this._element.nativeElement.addEventListener("focusin",this._handleFocusin),this._element.nativeElement.addEventListener("focusout",this._handleFocusout)}),this._value&&this._setOptionsFromValues(this._value),this._watchForSelectionChange()}ngOnChanges(e){const i=e.disabled,r=e.disableRipple,o=e.hideSingleSelectionIndicator;(r&&!r.firstChange||i&&!i.firstChange||o&&!o.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._keyManager?.destroy(),this._element.nativeElement.removeEventListener("focusin",this._handleFocusin),this._element.nativeElement.removeEventListener("focusout",this._handleFocusout),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(e){this._element.nativeElement.focus(e)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_reportValueChange(){if(this.options&&!this._isDestroyed){const e=this._getSelectedOptionValues();this._onChange(e),this._value=e}}_emitChangeEvent(e){this.selectionChange.emit(new Tbe(this,e))}writeValue(e){this._value=e,this.options&&this._setOptionsFromValues(e||[])}setDisabledState(e){this.disabled=e}get disabled(){return this._selectionListDisabled}set disabled(e){this._selectionListDisabled=Ht(e),this._selectionListDisabled&&this._keyManager?.setActiveItem(-1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}_watchForSelectionChange(){this.selectedOptions.changed.pipe(Wn(this._destroyed)).subscribe(e=>{for(let i of e.added)i.selected=!0;for(let i of e.removed)i.selected=!1;this._containsFocus()||this._resetActiveOption()})}_setOptionsFromValues(e){this.options.forEach(i=>i._setSelected(!1)),e.forEach(i=>{const r=this.options.find(o=>!o.selected&&this.compareWith(o.value,i));r&&r._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(e=>e.selected).map(e=>e.value)}_markOptionsForCheck(){this.options&&this.options.forEach(e=>e._markForCheck())}_setAllOptionsSelected(e,i){const r=[];return this.options.forEach(o=>{(!i||!o.disabled)&&o._setSelected(e)&&r.push(o)}),r.length&&this._reportValueChange(),r}get options(){return this._items}_handleKeydown(e){const i=this._keyManager.activeItem;if(13!==e.keyCode&&32!==e.keyCode||this._keyManager.isTyping()||!i||i.disabled)if(65===e.keyCode&&this.multiple&&!this._keyManager.isTyping()&&Ua(e,"ctrlKey")){const r=this.options.some(o=>!o.disabled&&!o.selected);e.preventDefault(),this._emitChangeEvent(this._setAllOptionsSelected(r,!0))}else this._keyManager.onKeydown(e);else e.preventDefault(),i._toggleOnInteraction()}_setupRovingTabindex(){this._keyManager=new xW(this._items).withHomeAndEnd().withTypeAhead().withWrap().skipPredicate(()=>this.disabled),this._resetActiveOption(),this._keyManager.change.subscribe(e=>this._setActiveOption(e)),this._items.changes.pipe(Wn(this._destroyed)).subscribe(()=>{const e=this._keyManager.activeItem;(!e||!this._items.toArray().indexOf(e))&&this._resetActiveOption()})}_setActiveOption(e){this._items.forEach((i,r)=>i._setTabindex(r===e?0:-1)),this._keyManager.updateActiveItem(e)}_resetActiveOption(){if(this.disabled)return void this._setActiveOption(-1);const e=this._items.find(i=>i.selected&&!i.disabled)||this._items.first;this._setActiveOption(e?this._items.toArray().indexOf(e):-1)}_containsFocus(){const e=vE();return e&&this._element.nativeElement.contains(e)}static{this.\u0275fac=function(i){return new(i||n)(O(xt),O($e))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-selection-list"]],contentQueries:function(i,r,o){if(1&i&&di(o,qE,5),2&i){let s;It(s=Ct())&&(r._items=s)}},hostAttrs:["role","listbox",1,"mat-mdc-selection-list","mat-mdc-list-base","mdc-list"],hostVars:1,hostBindings:function(i,r){1&i&&Fe("keydown",function(s){return r._handleKeydown(s)}),2&i&&_n("aria-multiselectable",r.multiple)},inputs:{color:"color",compareWith:"compareWith",multiple:"multiple",hideSingleSelectionIndicator:"hideSingleSelectionIndicator",disabled:"disabled"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[rn([Abe,{provide:Um,useExisting:n},{provide:F8,useExisting:n}]),ot,Di],ngContentSelectors:D8,decls:1,vars:0,template:function(i,r){1&i&&(Gi(),lt(0))},styles:[k8],encapsulation:2,changeDetection:0})}}return n})(),Sbe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[wR,_l,Nn,SR,KW,Zve]})}}return n})();const Dbe=function(){return{standalone:!0}};function kbe(n,t){if(1&n){const e=Pi();q(0,"mat-list-option",8)(1,"div",9),le(2),q(3,"mat-form-field",10)(4,"input",11),Fe("ngModelChange",function(r){return Pt(Rt(e).$implicit.quantity=r)}),G()()()()}if(2&n){const e=t.$implicit;ve("value",e),ge(2),Vg(" ",e.name," - $",e.price," "),ge(2),ve("ngModel",e.quantity)("ngModelOptions",function YB(n,t,e){const i=cr()+n,r=ye();return r[i]===kt?Ia(r,i,e?t.call(e):t()):function Rg(n,t){return n[t]}(r,i)}(5,Dbe))}}let Mbe=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.snackBar=r,this.filteredMenu=[],this.searchTerm="",this.selectedItems=[],this.filteredMenu=this.data.menu}filterMenu(){const e=this.searchTerm.toLowerCase(),i=new Map(this.selectedItems.map(r=>[r.id,r.quantity]));this.filteredMenu=this.data.menu.filter(r=>r.name.toLowerCase().includes(e)).map(r=>({...r,quantity:i.get(r.id)||r.quantity||1}))}onNoClick(){this.dialogRef.close()}closeWithSelection(){this.dialogRef.close([...this.selectedItems])}addSelectedItems(e){e.forEach(i=>{const r={...i.value},o=this.selectedItems.find(s=>s.id===r.id);o?o.quantity+=r.quantity||1:this.selectedItems.push({...r,quantity:r.quantity||1})}),this.snackBar.open("\xcdtems agregados correctamente","Cerrar",{duration:2e3})}printComanda(){if(0===this.selectedItems.length)return void this.snackBar.open("No hay \xedtems seleccionados","Cerrar",{duration:2e3});let e='\n      <html>\n        <head>\n          <title>Comanda</title>\n          <style>\n            body { font-family: "Courier New", monospace; text-align: center; width: 58mm; margin: 0; }\n            .ticket { padding: 10px; }\n            .title { font-size: 16px; font-weight: bold; }\n            .item { display: flex; justify-content: space-between; font-size: 12px; border-bottom: 1px dashed black; padding: 5px 0; }\n            .footer { margin-top: 10px; font-size: 10px; border-top: 1px solid black; padding-top: 5px; }\n            @media print { body { margin: 0; padding: 0; } }\n          </style>\n        </head>\n        <body>\n          <div class="ticket">\n          <br>\n            <div class="title">COMANDA</div>\n            <hr />\n    ';this.selectedItems.forEach(r=>{e+=`<div class="item"><span>${r.name}--------</span><span>x${r.quantity}</span></div>`}),e+='\n            <hr />\n            <div class="footer">Gracias por su pedido</div>\n          </div>\n        </body>\n      </html>\n    ';const i=window.open("","","width=800,height=900");i&&(i.document.write(e),i.document.close(),i.print()),this.dialogRef.close(this.selectedItems)}static{this.\u0275fac=function(i){return new(i||n)(O(Kc),O(Nm),O(h_e))}}static{this.\u0275cmp=St({type:n,selectors:[["app-menu-dialog"]],inputs:{menuItem:"menuItem"},decls:17,vars:3,consts:[["mat-dialog-title",""],["appearance","fill",2,"width","100%","margin-bottom","1rem"],["matInput","","placeholder","Escribe el nombre del men\xfa",3,"ngModel","ngModelChange"],["menuList",""],[3,"value",4,"ngFor","ngForOf"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"],[1,"menu-item"],["appearance","fill",1,"quantity-input"],["matInput","","type","number","min","1",3,"ngModel","ngModelOptions","ngModelChange"]],template:function(i,r){if(1&i){const o=Pi();q(0,"h2",0),le(1,"Selecciona un men\xfa"),G(),q(2,"mat-dialog-content")(3,"mat-form-field",1)(4,"mat-label"),le(5,"Buscar men\xfa"),G(),q(6,"input",2),Fe("ngModelChange",function(a){return r.searchTerm=a})("ngModelChange",function(){return r.filterMenu()}),G()(),q(7,"mat-selection-list",null,3),Be(9,kbe,5,6,"mat-list-option",4),G()(),q(10,"mat-dialog-actions")(11,"button",5),Fe("click",function(){return r.onNoClick()}),le(12,"Cancelar"),G(),q(13,"button",6),Fe("click",function(){Rt(o);const a=vo(8);return Pt(r.addSelectedItems(a.selectedOptions.selected))}),le(14,"Agregar"),G(),q(15,"button",7),Fe("click",function(){return r.printComanda()}),le(16," Imprimir comanda\n"),G()()}2&i&&(ge(6),ve("ngModel",r.searchTerm),ge(3),ve("ngForOf",r.filteredMenu),ge(6),ve("disabled",0===r.selectedItems.length))},dependencies:[gl,Fu,jE,Fm,r1,Nv,ja,Cv,Av,Tv,WE,Bm,a1,KE,qE],styles:['@charset "UTF-8";.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.quantity-input[_ngcontent-%COMP%]{width:80px;margin-left:16px}']})}}return n})(),Rbe=0;const d1=new de("CdkAccordion");let Pbe=(()=>{class n{constructor(){this._stateChanges=new W,this._openCloseAllActions=new W,this.id="cdk-accordion-"+Rbe++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Ht(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[rn([{provide:d1,useExisting:n}]),Di]})}}return n})(),Obe=0,Nbe=(()=>{class n{get expanded(){return this._expanded}set expanded(e){e=Ht(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Ht(e)}constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=ft.EMPTY,this.closed=new _t,this.opened=new _t,this.destroyed=new _t,this.expandedChange=new _t,this.id="cdk-accordion-child-"+Obe++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,s)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===s&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static{this.\u0275fac=function(i){return new(i||n)(O(d1,12),O(Yr),O(S8))}}static{this.\u0275dir=Te({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[rn([{provide:d1,useValue:void 0}])]})}}return n})(),Fbe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({})}}return n})();const Lbe=["body"];function Vbe(n,t){}const Bbe=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Ube=["mat-expansion-panel-header","*","mat-action-row"];function zbe(n,t){1&n&&vt(0,"span",2),2&n&&ve("@indicatorRotate",He()._getExpandedState())}const jbe=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Hbe=["mat-panel-title","mat-panel-description","*"],u1=new de("MAT_ACCORDION"),L8="225ms cubic-bezier(0.4,0.0,0.2,1)",V8={indicatorRotate:qc("indicatorRotate",[ks("collapsed, void",ir({transform:"rotate(0deg)"})),ks("expanded",ir({transform:"rotate(180deg)"})),Ms("expanded <=> collapsed, void => collapsed",ia(L8))]),bodyExpansion:qc("bodyExpansion",[ks("collapsed, void",ir({height:"0px",visibility:"hidden"})),ks("expanded",ir({height:"*",visibility:""})),Ms("expanded <=> collapsed, void => collapsed",ia(L8))])},B8=new de("MAT_EXPANSION_PANEL");let $be=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}static{this.\u0275fac=function(i){return new(i||n)(O(ts),O(B8,8))}}static{this.\u0275dir=Te({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]})}}return n})(),Wbe=0;const U8=new de("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let h1=(()=>{class n extends Nbe{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Ht(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,i,r,o,s,a,l){super(e,i,r),this._viewContainerRef=o,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new _t,this.afterCollapse=new _t,this._inputChanges=new W,this._headerId="mat-expansion-panel-header-"+Wbe++,this._bodyAnimationDone=new W,this.accordion=e,this._document=s,this._bodyAnimationDone.pipe(Ye((c,d)=>c.fromState===d.fromState&&c.toState===d.toState)).subscribe(c=>{"void"!==c.fromState&&("expanded"===c.toState?this.afterExpand.emit():"collapsed"===c.toState&&this.afterCollapse.emit())}),l&&(this.hideToggle=l.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(is(null),jt(()=>this.expanded&&!this._portal),Pn(1)).subscribe(()=>{this._portal=new gv(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}static{this.\u0275fac=function(i){return new(i||n)(O(u1,12),O(Yr),O(S8),O(Oo),O(At),O(Pr,8),O(U8,8))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,r,o){if(1&i&&di(o,$be,5),2&i){let s;It(s=Ct())&&(r._lazyContent=s.first)}},viewQuery:function(i,r){if(1&i&&Oi(Lbe,5),2&i){let o;It(o=Ct())&&(r._body=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,r){2&i&&Xt("mat-expanded",r.expanded)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[rn([{provide:u1,useValue:void 0},{provide:B8,useExisting:n}]),ot,Di],ngContentSelectors:Ube,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,r){1&i&&(Gi(Bbe),lt(0),q(1,"div",0,1),Fe("@bodyExpansion.done",function(s){return r._bodyAnimationDone.next(s)}),q(3,"div",2),lt(4,1),Be(5,Vbe,0,0,"ng-template",3),G(),lt(6,2),G()),2&i&&(ge(1),ve("@bodyExpansion",r._getExpandedState())("id",r.id),_n("aria-labelledby",r._headerId),ge(4),ve("cdkPortalOutlet",r._portal))},dependencies:[Mm],styles:['.mat-expansion-panel{--mat-expansion-container-shape:4px;box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[V8.bodyExpansion]},changeDetection:0})}}return n})();class Gbe{}const qbe=BW(Gbe);let f1=(()=>{class n extends qbe{constructor(e,i,r,o,s,a,l){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=a,this._parentChangeSubscription=ft.EMPTY;const c=e.accordion?e.accordion._stateChanges.pipe(jt(d=>!(!d.hideToggle&&!d.togglePosition))):Xn;this.tabIndex=parseInt(l||"")||0,this._parentChangeSubscription=x(e.opened,e.closed,c,e._inputChanges.pipe(jt(d=>!!(d.hideToggle||d.disabled||d.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(jt(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),s&&(this.expandedHeight=s.expandedHeight,this.collapsedHeight=s.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Ua(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static{this.\u0275fac=function(i){return new(i||n)(O(h1,1),O(xt),O(Om),O(Yr),O(U8,8),O(Pr,8),$d("tabindex"))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,r){1&i&&Fe("click",function(){return r._toggle()})("keydown",function(s){return r._keydown(s)}),2&i&&(_n("id",r.panel._headerId)("tabindex",r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),J0("height",r._getHeaderHeight()),Xt("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[ot],ngContentSelectors:Hbe,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(i,r){1&i&&(Gi(jbe),q(0,"span",0),lt(1),lt(2,1),lt(3,2),G(),Be(4,zbe,1,1,"span",1)),2&i&&(Xt("mat-content-hide-toggle",!r._showToggle()),ge(4),ve("ngIf",r._showToggle()))},dependencies:[ea],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[V8.indicatorRotate]},changeDetection:0})}}return n})(),Kbe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]})}}return n})(),z8=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}}return n})(),j8=(()=>{class n extends Pbe{constructor(){super(...arguments),this._ownHeaders=new Jd,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Ht(e)}ngAfterContentInit(){this._headers.changes.pipe(is(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new xW(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Zn(n)))(r||n)}}()}static{this.\u0275dir=Te({type:n,selectors:[["mat-accordion"]],contentQueries:function(i,r,o){if(1&i&&di(o,f1,5),2&i){let s;It(s=Ct())&&(r._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(i,r){2&i&&Xt("mat-accordion-multi",r.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[rn([{provide:u1,useExisting:n}]),ot]})}}return n})(),Ybe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[_l,Nn,Fbe,Rm]})}}return n})();function Qbe(n,t){if(1&n&&(q(0,"mat-list-item")(1,"div",9)(2,"span"),le(3),G(),q(4,"span"),le(5),Zs(6,"currency"),G(),q(7,"span"),le(8),Zs(9,"currency"),G()()()),2&n){const e=t.$implicit;ge(3),Vg("",e.name," (x",e.quantity||1,")"),ge(2),hr(Ta(6,4,e.price)),ge(3),hr(Ta(9,6,e.price*(e.quantity||1)))}}let Xbe=(()=>{class n{constructor(e,i,r){this.coffeService=e,this.table=i,this.dialogRef=r,this.total=0,this.discountedTotal=0,this.discountPercentage=0,this.calculateTotal()}calculateTotal(){if(!this.table||!this.table.orders)return console.warn("No hay \xf3rdenes disponibles."),this.total=0,void(this.discountedTotal=0);this.total=this.table.orders.reduce((e,i)=>e+i.price*(i.quantity??1),0),this.calculateDiscountedTotal()}applyDiscount(e){this.discountPercentage=e,this.calculateDiscountedTotal()}calculateDiscountedTotal(){this.discountedTotal=this.total-this.total*this.discountPercentage/100}liberarMesa(){this.table&&this.table.id?(this.coffeService.releaseTable(this.table.id),this.dialogRef.close("mesa_liberada")):console.error("No se pudo liberar la mesa: ID de la mesa no encontrado.")}printTicket(){const e=`\n      <html>\n        <head>\n          <title>Ticket</title>\n          <style>\n            body {\n              font-family: Arial, sans-serif;\n              font-size: 12px;\n            }\n            .ticket {\n              width: 250px;\n              padding: 10px;\n            }\n            .order-item {\n              display: flex\n              justify-content: space-between;\n            }\n            .totals {\n              margin-top: 10px;\n              font-weight: bold;\n            }\n            p {\n              margin: 2px 0;\n            }\n          </style>\n        </head>\n        <body>\n          <div class="ticket">\n          <br>\n            <h2>Detalle de Orden</h2>\n            <div class="order-list">\n              ${this.table.orders.map(r=>{const o=r.quantity??1;return`\n                    <div class="order-item">\n                      <p>${r.name}(x${o})---------- ${(r.price*o).toFixed(2)}</p>\n                    </div>\n                  `}).join("")}\n            </div>\n            <div class="totals">\n        \n              <p><strong>Total:</strong> ${this.total}</p>\n            </div>\n            <p style="margin-top:10px; font-size:10px;">${(new Date).toLocaleString()}</p>\n          </div>\n          <script>\n            window.print();\n            window.onafterprint = function(){\n              window.close();\n            }\n          <\/script>\n        </body>\n      </html>\n    `,i=window.open("","","width=300,height=600");i&&(i.document.write(e),i.document.close(),i.focus())}static{this.\u0275fac=function(i){return new(i||n)(O(Am),O(Nm),O(Kc))}}static{this.\u0275cmp=St({type:n,selectors:[["app-total-dialog"]],decls:51,vars:7,consts:[["mat-dialog-title",""],[1,"header-row"],[4,"ngFor","ngForOf"],[1,"total-amount"],["mat-button","","color","primary",3,"click"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"click"],["mat-button","","color","warn",3,"click"],[1,"data-row"]],template:function(i,r){1&i&&(q(0,"h2",0),le(1,"Detalle de la Orden"),G(),q(2,"mat-dialog-content")(3,"div",1)(4,"span"),le(5,"Producto"),G(),q(6,"span"),le(7,"Unit"),G(),q(8,"span"),le(9,"Subtotal"),G()(),q(10,"mat-list"),Be(11,Qbe,10,8,"mat-list-item",2),G(),q(12,"p",3)(13,"strong"),le(14,"Total:"),G(),le(15),Zs(16,"currency"),G(),q(17,"mat-accordion")(18,"mat-expansion-panel")(19,"mat-expansion-panel-header")(20,"mat-panel-title"),le(21," Aplicar Descuento "),G()(),q(22,"div")(23,"button",4),Fe("click",function(){return r.applyDiscount(0)}),le(24,"0%"),G(),q(25,"button",4),Fe("click",function(){return r.applyDiscount(5)}),le(26,"5%"),G(),q(27,"button",4),Fe("click",function(){return r.applyDiscount(10)}),le(28,"10%"),G(),q(29,"button",4),Fe("click",function(){return r.applyDiscount(15)}),le(30,"15%"),G(),q(31,"button",4),Fe("click",function(){return r.applyDiscount(20)}),le(32,"20%"),G(),q(33,"button",4),Fe("click",function(){return r.applyDiscount(25)}),le(34,"25%"),G(),q(35,"button",4),Fe("click",function(){return r.applyDiscount(30)}),le(36,"30%"),G(),q(37,"button",4),Fe("click",function(){return r.applyDiscount(35)}),le(38,"35%"),G()()()(),q(39,"p",3)(40,"strong"),le(41,"Total con Descuento:"),G(),le(42),Zs(43,"currency"),G()(),q(44,"mat-dialog-actions",5)(45,"button",6),le(46,"Cerrar"),G(),q(47,"button",7),Fe("click",function(){return r.printTicket()}),le(48,"Imprimir"),G(),q(49,"button",8),Fe("click",function(){return r.liberarMesa()}),le(50,"Liberar Mesa"),G()()),2&i&&(ge(11),ve("ngForOf",r.table.orders),ge(4),Kr(" ",Ta(16,3,r.total)," "),ge(27),Kr(" ",Ta(43,5,r.discountedTotal)," "))},dependencies:[gl,ja,NR,Cv,Av,Tv,j8,h1,f1,z8,Ibe,Cbe,BS],styles:["mat-list-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #e0e0e0}.order-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.total-amount[_ngcontent-%COMP%]{margin-top:16px;text-align:right;font-size:1.2rem;font-weight:700}mat-dialog-content[_ngcontent-%COMP%]{max-height:400px;overflow:auto}mat-dialog-actions[_ngcontent-%COMP%]{margin-top:16px}.header-row[_ngcontent-%COMP%], .data-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;font-weight:400;padding:8px 0}.header-row[_ngcontent-%COMP%]{font-weight:700;border-bottom:2px solid #ccc}"]})}}return n})();class Lv{constructor(t){return t}}class m1{constructor(){return(0,Xr.getApps)()}}const p1=new de("angularfire2._apps"),Jbe={provide:Lv,useFactory:function Zbe(n){return n&&1===n.length?n[0]:new Lv((0,Xr.getApp)())},deps:[[new Mr,p1]]},eye={provide:m1,deps:[[new Mr,p1]]};function tye(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Lv(i)}}let nye=(()=>{class n{constructor(e){(0,Xr.registerVersion)("angularfire",su.full,"core"),(0,Xr.registerVersion)("angularfire",su.full,"app"),(0,Xr.registerVersion)("angular",sT.full,e.toString())}static \u0275fac=function(i){return new(i||n)(X(Ro))};static \u0275mod=mt({type:n});static \u0275inj=pt({providers:[Jbe,eye]})}return n})();function iye(n,...t){return{ngModule:nye,providers:[{provide:p1,useFactory:tye(n),multi:!0,deps:[$e,Rn,__,...t]}]}}const rye=Ss(Xr.initializeApp,!0),H8=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t},$8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],s=r+1<n.length,a=s?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0;let p=(15&a)<<2|c>>6,v=63&c;l||(v=64,s||(p=64)),i.push(e[o>>2],e[(3&o)<<4|a>>4],e[p],e[v])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(H8(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const l=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(1023&l))}else{const o=n[e++],s=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],a=r<n.length?e[n.charAt(r)]:0;++r;const c=r<n.length?e[n.charAt(r)]:64;++r;const h=r<n.length?e[n.charAt(r)]:64;if(++r,null==o||null==a||null==c||null==h)throw new lye;i.push(o<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==h&&i.push(c<<6&192|h))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class lye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YE=function(n){return function(n){const t=H8(n);return $8.encodeByteArray(t,!0)}(n).replace(/\./g,"")},Vv=function(n){try{return $8.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ls(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Xc extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Xc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bv.prototype.create)}}class Bv{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],s=o?function Tye(n,t){return n.replace(Sye,(e,i)=>{const r=t[i];return null!=r?String(r):`<${i}?>`})}(o,i):"Error";return new Xc(r,`${this.serviceName}: ${s} (${r}).`,i)}}const Sye=/\{\$([^}]+)}/g;function _1(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}class Mye{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");r=function Rye(n,t){if("object"!=typeof n||null===n)return!1;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:i},void 0===r.next&&(r.next=v1),void 0===r.error&&(r.error=v1),void 0===r.complete&&(r.complete=v1);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v1(){}function Uv(n){return n&&n._delegate?n._delegate:n}class zm{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const y1=[];var qn=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(qn||{});const K8={debug:qn.DEBUG,verbose:qn.VERBOSE,info:qn.INFO,warn:qn.WARN,error:qn.ERROR,silent:qn.SILENT},zye=qn.INFO,jye={[qn.DEBUG]:"log",[qn.VERBOSE]:"log",[qn.INFO]:"info",[qn.WARN]:"warn",[qn.ERROR]:"error"},Hye=(n,t,...e)=>{if(t<n.logLevel)return;const i=(new Date).toISOString(),r=jye[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${n.name}:`,...e)};class Y8{constructor(t){this.name=t,this._logLevel=zye,this._logHandler=Hye,this._userLogHandler=null,y1.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?K8[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qn.DEBUG,...t),this._logHandler(this,qn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qn.VERBOSE,...t),this._logHandler(this,qn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qn.INFO,...t),this._logHandler(this,qn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qn.WARN,...t),this._logHandler(this,qn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qn.ERROR,...t),this._logHandler(this,qn.ERROR,...t)}}var $ye=tt(749);class Wye{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function Gye(n){const t=n.getComponent();return"VERSION"===t?.type}(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}return null}).filter(e=>e).join(" ")}}const ZE="@firebase/app",Rl=new Y8("@firebase/app"),y0e={[ZE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},zu=new Map,zv=new Map,jv=new Map;function Q8(n,t){try{n.container.addComponent(t)}catch(e){Rl.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Hv(n){const t=n.name;if(jv.has(t))return Rl.debug(`There were multiple attempts to register component ${t}.`),!1;jv.set(t,n);for(const e of zu.values())Q8(e,n);for(const e of zv.values())Q8(e,n);return!0}function Zc(n){return null!=n&&void 0!==n.settings}const Rs=new Bv("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."}),x1="11.3.0";function jm(n,t,e){var i;let r=null!==(i=y0e[n])&&void 0!==i?i:n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${r}" with version "${t}":`];return o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Rl.warn(a.join(" "))}Hv(new zm(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const T0e="firebase-heartbeat-database",S0e=1,$v="firebase-heartbeat-store";let I1=null;function J8(){return I1||(I1=(0,$ye.P2)(T0e,S0e,{upgrade:(n,t)=>{if(0===t)try{n.createObjectStore($v)}catch(e){console.warn(e)}}}).catch(n=>{throw Rs.create("idb-open",{originalErrorMessage:n.message})})),I1}function C1(){return(C1=(0,H.A)(function*(n){try{const e=(yield J8()).transaction($v),i=yield e.objectStore($v).get(tG(n));return yield e.done,i}catch(t){if(t instanceof Xc)Rl.warn(t.message);else{const e=Rs.create("idb-get",{originalErrorMessage:t?.message});Rl.warn(e.message)}}})).apply(this,arguments)}function eG(n,t){return A1.apply(this,arguments)}function A1(){return(A1=(0,H.A)(function*(n,t){try{const i=(yield J8()).transaction($v,"readwrite");yield i.objectStore($v).put(t,tG(n)),yield i.done}catch(e){if(e instanceof Xc)Rl.warn(e.message);else{const i=Rs.create("idb-set",{originalErrorMessage:e?.message});Rl.warn(i.message)}}})).apply(this,arguments)}function tG(n){return`${n.name}!${n.options.appId}`}class R0e{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new O0e(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var t=this;return(0,H.A)(function*(){var e,i;try{const o=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nG();if(null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(t._heartbeatsCache=yield t._heartbeatsCachePromise,null==(null===(i=t._heartbeatsCache)||void 0===i?void 0:i.heartbeats))||t._heartbeatsCache.lastSentHeartbeatDate===s||t._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(t._heartbeatsCache.heartbeats.push({date:s,agent:o}),t._heartbeatsCache.heartbeats.length>30){const a=function N0e(n){if(0===n.length)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}(t._heartbeatsCache.heartbeats);t._heartbeatsCache.heartbeats.splice(a,1)}return t._storage.overwrite(t._heartbeatsCache)}catch(r){Rl.warn(r)}})()}getHeartbeatsHeader(){var t=this;return(0,H.A)(function*(){var e;try{if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const i=nG(),{heartbeatsToSend:r,unsentEntries:o}=function P0e(n,t=1024){const e=[];let i=n.slice();for(const r of n){const o=e.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),iG(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),iG(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}(t._heartbeatsCache.heartbeats),s=YE(JSON.stringify({version:2,heartbeats:r}));return t._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(t._heartbeatsCache.heartbeats=o,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),s}catch(i){return Rl.warn(i),""}})()}}function nG(){return(new Date).toISOString().substring(0,10)}class O0e{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,H.A)(function*(){return!!function Iye(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Cye(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t((null===(o=r.error)||void 0===o?void 0:o.message)||"")}}catch(e){t(e)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return(0,H.A)(function*(){if(yield t._canUseIndexedDBPromise){const i=yield function D0e(n){return C1.apply(this,arguments)}(t.app);return i?.heartbeats?i:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var e=this;return(0,H.A)(function*(){var i;if(yield e._canUseIndexedDBPromise){const o=yield e.read();return eG(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var e=this;return(0,H.A)(function*(){var i;if(yield e._canUseIndexedDBPromise){const o=yield e.read();return eG(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}})()}}function iG(n){return YE(JSON.stringify({version:2,heartbeats:n})).length}!function F0e(n){Hv(new zm("platform-logger",t=>new Wye(t),"PRIVATE")),Hv(new zm("heartbeat",t=>new R0e(t),"PRIVATE")),jm(ZE,"0.11.0",n),jm(ZE,"0.11.0","esm2017"),jm("fire-js","")}("");const L0e=function rG(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},oG=new Bv("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),eI=new Y8("@firebase/auth");function tI(n,...t){eI.logLevel<=qn.ERROR&&eI.error(`Auth (${x1}): ${n}`,...t)}function Vo(n,...t){throw S1(n,...t)}function Ps(n,...t){return S1(n,...t)}function T1(n,t,e){const i=Object.assign(Object.assign({},L0e()),{[t]:e});return new Bv("auth","Firebase",i).create(t,{appName:n.name})}function Ar(n){return T1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S1(n,...t){if("string"!=typeof n){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return oG.create(n,...t)}function Re(n,t,...e){if(!n)throw S1(t,...e)}function $a(n){const t="INTERNAL ASSERTION FAILED: "+n;throw tI(t),new Error(t)}function Jc(n,t){n||$a(t)}function sG(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function B0e(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function D1(){return"http:"===sG()||"https:"===sG()}()||function xye(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class Gv{constructor(t,e){this.shortDelay=t,this.longDelay=e,Jc(e>t,"Short delay should be less than long delay!"),this.isMobile=function vye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ls())}()||function Eye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return B0e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class aG{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void $a("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void $a("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void $a("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const z0e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},j0e=new Gv(3e4,6e4);function mi(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function pi(n,t,e,i){return M1.apply(this,arguments)}function M1(){return(M1=(0,H.A)(function*(n,t,e,i,r={}){return lG(n,r,(0,H.A)(function*(){let o={},s={};i&&("GET"===t?s=i:o={body:JSON.stringify(i)});const a=_1(Object.assign({key:n.config.apiKey},s)).slice(1),l=yield n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:t,headers:l},o);return function wye(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(c.referrerPolicy="no-referrer"),aG.fetch()(cG(n,n.config.apiHost,e,a),c)}))})).apply(this,arguments)}function lG(n,t,e){return R1.apply(this,arguments)}function R1(){return(R1=(0,H.A)(function*(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},z0e),t);try{const r=new $0e(n),o=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw qv(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw qv(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===l)throw qv(n,"email-already-in-use",s);if("USER_DISABLED"===l)throw qv(n,"user-disabled",s);const d=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw T1(n,d,c);Vo(n,d)}}catch(r){if(r instanceof Xc)throw r;Vo(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function cG(n,t,e,i){const r=`${t}${e}?${i}`;return n.config.emulator?function k1(n,t){Jc(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}(n.config,r):`${n.config.apiScheme}://${r}`}class $0e{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Ps(this.auth,"network-request-failed")),j0e.get())})}}function qv(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Ps(n,t,i);return r.customData._tokenResponse=e,r}function F1(){return(F1=(0,H.A)(function*(n,t){return pi(n,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function mG(n,t){return V1.apply(this,arguments)}function V1(){return(V1=(0,H.A)(function*(n,t){return pi(n,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function Kv(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function B1(){return(B1=(0,H.A)(function*(n,t=!1){const e=Uv(n),i=yield e.getIdToken(t),r=nI(i);Re(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Kv(U1(r.auth_time)),issuedAtTime:Kv(U1(r.iat)),expirationTime:Kv(U1(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function U1(n){return 1e3*Number(n)}function nI(n){const[t,e,i]=n.split(".");if(void 0===t||void 0===e||void 0===i)return tI("JWT malformed, contained fewer than 3 sections"),null;try{const r=Vv(e);return r?JSON.parse(r):(tI("Failed to decode base64 JWT payload"),null)}catch(r){return tI("Caught error parsing JWT payload as JSON",r?.toString()),null}}function pG(n){const t=nI(n);return Re(t,"internal-error"),Re(typeof t.exp<"u","internal-error"),Re(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Ol(n,t){return z1.apply(this,arguments)}function z1(){return(z1=(0,H.A)(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(i){throw i instanceof Xc&&function Y0e({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class Q0e{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout((0,H.A)(function*(){yield e.iteration()}),i)}iteration(){var t=this;return(0,H.A)(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class j1{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kv(this.lastLoginAt),this.creationTime=Kv(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yv(n){return H1.apply(this,arguments)}function H1(){return(H1=(0,H.A)(function*(n){var t;const e=n.auth,i=yield n.getIdToken(),r=yield Ol(n,mG(e,{idToken:i}));Re(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const s=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?gG(o.providerUserInfo):[],a=function Z0e(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}(n.providerData,s),d=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new j1(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,h)})).apply(this,arguments)}function $1(){return($1=(0,H.A)(function*(n){const t=Uv(n);yield Yv(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function gG(n){return n.map(t=>{var{providerId:e}=t,i=(0,it.Tt)(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function W1(){return(W1=(0,H.A)(function*(n,t){const e=yield lG(n,{},(0,H.A)(function*(){const i=_1({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=cG(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",aG.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}function G1(){return(G1=(0,H.A)(function*(n,t){return pi(n,"POST","/v2/accounts:revokeToken",mi(n,t))})).apply(this,arguments)}class $m{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Re(t.idToken,"internal-error"),Re(typeof t.idToken<"u","internal-error"),Re(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):pG(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Re(0!==t.length,"internal-error");const e=pG(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){var i=this;return(0,H.A)(function*(){return e||!i.accessToken||i.isExpired?(Re(i.refreshToken,t,"user-token-expired"),i.refreshToken?(yield i.refresh(t,i.refreshToken),i.accessToken):null):i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var i=this;return(0,H.A)(function*(){const{accessToken:r,refreshToken:o,expiresIn:s}=yield function J0e(n,t){return W1.apply(this,arguments)}(t,e);i.updateTokensAndExpiration(r,o,Number(s))})()}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,s=new $m;return i&&(Re("string"==typeof i,"internal-error",{appName:t}),s.refreshToken=i),r&&(Re("string"==typeof r,"internal-error",{appName:t}),s.accessToken=r),o&&(Re("number"==typeof o,"internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $m,this.toJSON())}_performRefresh(){return $a("not implemented")}}function ed(n,t){Re("string"==typeof n||typeof n>"u","internal-error",{appName:t})}class Nl{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,o=(0,it.Tt)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Q0e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new j1(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){var e=this;return(0,H.A)(function*(){const i=yield Ol(e,e.stsTokenManager.getToken(e.auth,t));return Re(i,e.auth,"internal-error"),e.accessToken!==i&&(e.accessToken=i,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),i})()}getIdTokenResult(t){return function K0e(n){return B1.apply(this,arguments)}(this,t)}reload(){return function X0e(n){return $1.apply(this,arguments)}(this)}_assign(t){this!==t&&(Re(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Nl(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var i=this;return(0,H.A)(function*(){let r=!1;t.idToken&&t.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield Yv(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var t=this;return(0,H.A)(function*(){if(Zc(t.auth.app))return Promise.reject(Ar(t.auth));const e=yield t.getIdToken();return yield Ol(t,function G0e(n,t){return F1.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,o,s,a,l,c,d;const h=null!==(i=e.displayName)&&void 0!==i?i:void 0,p=null!==(r=e.email)&&void 0!==r?r:void 0,v=null!==(o=e.phoneNumber)&&void 0!==o?o:void 0,b=null!==(s=e.photoURL)&&void 0!==s?s:void 0,w=null!==(a=e.tenantId)&&void 0!==a?a:void 0,E=null!==(l=e._redirectEventId)&&void 0!==l?l:void 0,M=null!==(c=e.createdAt)&&void 0!==c?c:void 0,S=null!==(d=e.lastLoginAt)&&void 0!==d?d:void 0,{uid:V,emailVerified:$,isAnonymous:Q,providerData:ee,stsTokenManager:L}=e;Re(V&&L,t,"internal-error");const k=$m.fromJSON(this.name,L);Re("string"==typeof V,t,"internal-error"),ed(h,t.name),ed(p,t.name),Re("boolean"==typeof $,t,"internal-error"),Re("boolean"==typeof Q,t,"internal-error"),ed(v,t.name),ed(b,t.name),ed(w,t.name),ed(E,t.name),ed(M,t.name),ed(S,t.name);const F=new Nl({uid:V,auth:t,email:p,emailVerified:$,displayName:h,isAnonymous:Q,photoURL:b,phoneNumber:v,tenantId:w,stsTokenManager:k,createdAt:M,lastLoginAt:S});return ee&&Array.isArray(ee)&&(F.providerData=ee.map(j=>Object.assign({},j))),E&&(F._redirectEventId=E),F}static _fromIdTokenResponse(t,e,i=!1){return(0,H.A)(function*(){const r=new $m;r.updateFromServerResponse(e);const o=new Nl({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield Yv(o),o})()}static _fromGetAccountInfoResponse(t,e,i){return(0,H.A)(function*(){const r=e.users[0];Re(void 0!==r.localId,"internal-error");const o=void 0!==r.providerUserInfo?gG(r.providerUserInfo):[],s=!(r.email&&r.passwordHash||o?.length),a=new $m;a.updateFromIdToken(i);const l=new Nl({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:s}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new j1(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||o?.length)};return Object.assign(l,c),l})()}}const _G=new Map;function Fl(n){Jc(n instanceof Function,"Expected a class definition");let t=_G.get(n);return t?(Jc(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,_G.set(n,t),t)}const vG=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,H.A)(function*(){return!0})()}_set(e,i){var r=this;return(0,H.A)(function*(){r.storage[e]=i})()}_get(e){var i=this;return(0,H.A)(function*(){const r=i.storage[e];return void 0===r?null:r})()}_remove(e){var i=this;return(0,H.A)(function*(){delete i.storage[e]})()}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})();function iI(n,t,e){return`firebase:${n}:${t}:${e}`}class Wm{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=iI(this.userKey,r.apiKey,o),this.fullPersistenceKey=iI("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return(0,H.A)(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?Nl._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return(0,H.A)(function*(){if(e.persistence===t)return;const i=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,i?e.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return(0,H.A)(function*(){if(!e.length)return new Wm(Fl(vG),t,i);const r=(yield Promise.all(e.map(function(){var c=(0,H.A)(function*(d){if(yield d._isAvailable())return d});return function(d){return c.apply(this,arguments)}}()))).filter(c=>c);let o=r[0]||Fl(vG);const s=iI(i,t.config.apiKey,t.name);let a=null;for(const c of e)try{const d=yield c._get(s);if(d){const h=Nl._fromJSON(t,d);c!==o&&(a=h),o=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&l.length?(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(e.map(function(){var c=(0,H.A)(function*(d){if(d!==o)try{yield d._remove(s)}catch{}});return function(d){return c.apply(this,arguments)}}())),new Wm(o,t,i)):new Wm(o,t,i)})()}}function bG(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(function EG(n=ls()){return/iemobile/i.test(n)}(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(function yG(n=ls()){return/firefox\//i.test(n)}(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(function CG(n=ls()){return/blackberry/i.test(n)}(t))return"Blackberry";if(function AG(n=ls()){return/webos/i.test(n)}(t))return"Webos";if(function wG(n=ls()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}(t))return"Safari";if((t.includes("chrome/")||function xG(n=ls()){return/crios\//i.test(n)}(t))&&!t.includes("edge/"))return"Chrome";if(function IG(n=ls()){return/android/i.test(n)}(t))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function TG(n,t=[]){let e;switch(n){case"Browser":e=bG(ls());break;case"Worker":e=`${bG(ls())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${x1}/${i}`}class iwe{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((s,a)=>{try{s(t(o))}catch(l){a(l)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return(0,H.A)(function*(){if(e.auth.currentUser===t)return;const i=[];try{for(const r of e.queue)yield r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}function K1(){return(K1=(0,H.A)(function*(n,t={}){return pi(n,"GET","/v2/passwordPolicy",mi(n,t))})).apply(this,arguments)}class swe{constructor(t){var e,i,r,o;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=s.minPasswordLength)&&void 0!==e?e:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(i=t.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(o=t.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=null===(e=l.meetsMinPasswordLength)||void 0===e||e),l.isValid&&(l.isValid=null===(i=l.meetsMaxPasswordLength)||void 0===i||i),l.isValid&&(l.isValid=null===(r=l.containsLowercaseLetter)||void 0===r||r),l.isValid&&(l.isValid=null===(o=l.containsUppercaseLetter)||void 0===o||o),l.isValid&&(l.isValid=null===(s=l.containsNumericCharacter)||void 0===s||s),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){let i;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class awe{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SG(this),this.idTokenSubscription=new SG(this),this.beforeStateQueue=new iwe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oG,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){var i=this;return e&&(this._popupRedirectResolver=Fl(e)),this._initializationPromise=this.queue((0,H.A)(function*(){var r,o;if(!i._deleted&&(i.persistenceManager=yield Wm.create(i,t),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(e),i.lastNotifiedUid=(null===(o=i.currentUser)||void 0===o?void 0:o.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return(0,H.A)(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUserFromIdToken(t){var e=this;return(0,H.A)(function*(){try{const i=yield mG(e,{idToken:t}),r=yield Nl._fromGetAccountInfoResponse(e,i,t);yield e.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),yield e.directlySetCurrentUser(null)}})()}initializeCurrentUser(t){var e=this;return(0,H.A)(function*(){var i;if(Zc(e.app)){const a=e.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>e.initializeCurrentUserFromIdToken(a).then(l,l))}):e.directlySetCurrentUser(null)}const r=yield e.assertedPersistence.getCurrentUser();let o=r,s=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const a=null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId,l=o?._redirectEventId,c=yield e.tryRedirectSignIn(t);(!a||a===l)&&c?.user&&(o=c.user,s=!0)}if(!o)return e.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield e.beforeStateQueue.runMiddleware(o)}catch(a){o=r,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(a))}return o?e.reloadAndSetCurrentUserOrClear(o):e.directlySetCurrentUser(null)}return Re(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===o._redirectEventId?e.directlySetCurrentUser(o):e.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(t){var e=this;return(0,H.A)(function*(){let i=null;try{i=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(t){var e=this;return(0,H.A)(function*(){try{yield Yv(t)}catch(i){if("auth/network-request-failed"!==i?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function U0e(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return(0,H.A)(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return(0,H.A)(function*(){if(Zc(e.app))return Promise.reject(Ar(e));const i=t?Uv(t):null;return i&&Re(i.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(i&&i._clone(e))})()}_updateCurrentUser(t,e=!1){var i=this;return(0,H.A)(function*(){if(!i._deleted)return t&&Re(i.tenantId===t.tenantId,i,"tenant-id-mismatch"),e||(yield i.beforeStateQueue.runMiddleware(t)),i.queue((0,H.A)(function*(){yield i.directlySetCurrentUser(t),i.notifyAuthListeners()}))})()}signOut(){var t=this;return(0,H.A)(function*(){return Zc(t.app)?Promise.reject(Ar(t)):(yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0))})()}setPersistence(t){var e=this;return Zc(this.app)?Promise.reject(Ar(this)):this.queue((0,H.A)(function*(){yield e.assertedPersistence.setPersistence(Fl(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var e=this;return(0,H.A)(function*(){e._getPasswordPolicyInternal()||(yield e._updatePasswordPolicy());const i=e._getPasswordPolicyInternal();return i.schemaVersion!==e.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(e._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return(0,H.A)(function*(){const e=yield function rwe(n){return K1.apply(this,arguments)}(t),i=new swe(e);null===t.tenantId?t._projectPasswordPolicy=i:t._tenantPasswordPolicies[t.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Bv("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}revokeAccessToken(t){var e=this;return(0,H.A)(function*(){if(e.currentUser){const i=yield e.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};null!=e.tenantId&&(r.tenantId=e.tenantId),yield function ewe(n,t){return G1.apply(this,arguments)}(e,r)}})()}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var i=this;return(0,H.A)(function*(){const r=yield i.getOrInitRedirectPersistenceManager(e);return null===t?r.removeCurrentUser():r.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return(0,H.A)(function*(){if(!e.redirectPersistenceManager){const i=t&&Fl(t)||e._popupRedirectResolver;Re(i,e,"argument-error"),e.redirectPersistenceManager=yield Wm.create(e,[Fl(i._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return(0,H.A)(function*(){var i,r;return e._isInitialized&&(yield e.queue((0,H.A)(function*(){}))),(null===(i=e._currentUser)||void 0===i?void 0:i._redirectEventId)===t?e._currentUser:(null===(r=e.redirectUser)||void 0===r?void 0:r._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return(0,H.A)(function*(){if(t===e.currentUser)return e.queue((0,H.A)(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o="function"==typeof e?e:e.next.bind(e);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof e){const l=t.addObserver(e,i,r);return()=>{s=!0,l()}}{const l=t.addObserver(e);return()=>{s=!0,l()}}}directlySetCurrentUser(t){var e=this;return(0,H.A)(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=TG(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return(0,H.A)(function*(){var e;const i={"X-Client-Version":t.clientVersion};t.app.options.appId&&(i["X-Firebase-gmpid"]=t.app.options.appId);const r=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const o=yield t._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i})()}_getAppCheckToken(){var t=this;return(0,H.A)(function*(){var e;if(Zc(t.app)&&t.app.settings.appCheckToken)return t.app.settings.appCheckToken;const i=yield null===(e=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken();return i?.error&&function V0e(n,...t){eI.logLevel<=qn.WARN&&eI.warn(`Auth (${x1}): ${n}`,...t)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}class SG{constructor(t){this.auth=t,this.observer=null,this.addObserver=function kye(n,t){const e=new Mye(n,t);return e.subscribe.bind(e)}(e=>this.observer=e)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qv={loadJS:()=>(0,H.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WG(n,t,e,i){return Uv(n).onIdTokenChanged(t,e,i)}(function DG(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Gv(3e4,6e4),new Gv(2e3,1e4),new Gv(3e4,6e4),new Gv(5e3,15e3),encodeURIComponent("fac");var uq="@firebase/auth";class aEe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return(0,H.A)(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mq(n){return new rt(function(t){return{unsubscribe:WG(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}(()=>{try{return function uye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Vv(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}})(),function lwe(n){Qv=n}({loadJS:n=>new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=Ps("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",function fEe(){var n,t;return null!==(t=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==t?t:document}().appendChild(i)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function cEe(n){Hv(new zm("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;Re(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TG(n)},c=new awe(i,r,o,l);return function wwe(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Fl);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}(c,e),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Hv(new zm("auth-internal",t=>{const e=function Qi(n){return Uv(n)}(t.getProvider("auth").getImmediate());return new aEe(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),jm(uq,"1.9.0",function lEe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),jm(uq,"1.9.0","esm2017")}("Browser");var $u=tt(443);class sb{constructor(t){return t}}class gq{constructor(){return TD("auth")}}const VO=new de("angularfire2.auth-instances");function pEe(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new sb(i)}}const gEe={provide:gq,deps:[[new Mr,VO]]},_Ee={provide:sb,useFactory:function mEe(n,t){const e=f4("auth",n,t);return e&&new sb(e)},deps:[[new Mr,VO],Lv]};let vEe=(()=>{class n{constructor(){(0,Xr.registerVersion)("angularfire",su.full,"auth")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=mt({type:n});static \u0275inj=pt({providers:[_Ee,gEe]})}return n})();function bEe(n,...t){return{ngModule:vEe,providers:[{provide:VO,useFactory:pEe(n),multi:!0,deps:[$e,Rn,__,m1,[new Mr,rx],...t]}]}}const yEe=Ss(mq,!0),wEe=Ss($u.aa,!0),xEe=Ss($u.o,!0),EEe=Ss($u.y,!0),IEe=Ss($u.ab,!0),CEe=Ss($u.c,!0),AEe=Ss($u.C,!0);class pI{constructor(t){return t}}const _q="firestore",BO=new de("angularfire2.firestore-instances");function DEe(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new pI(i)}}const kEe={provide:class TEe{constructor(){return TD(_q)}},deps:[[new Mr,BO]]},MEe={provide:pI,useFactory:function SEe(n,t){const e=f4(_q,n,t);return e&&new pI(e)},deps:[[new Mr,BO],Lv]};let REe=(()=>{class n{constructor(){(0,Xr.registerVersion)("angularfire",su.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=mt({type:n});static \u0275inj=pt({providers:[MEe,kEe]})}return n})();function PEe(n,...t){return{ngModule:REe,providers:[{provide:BO,useFactory:DEe(n),multi:!0,deps:[$e,Rn,__,m1,[new Mr,gq],[new Mr,rx],...t]}]}}const vq=Ss(Q_,!0),OEe=Ss(c5,!0),NEe=Ss(Rhe,!0),FEe=Ss(QM,!0);let ab=(()=>{class n{constructor(e,i){var r=this;this.auth=e,this.firestore=i,this.authState=new T(null),this.roleState=new T(null),EEe(this.auth,function(){var o=(0,H.A)(function*(s){if(r.authState.next(s),s){const a=yield r.getUserRole(s.uid);r.roleState.next(a)}else r.roleState.next(null)});return function(s){return o.apply(this,arguments)}}())}register({email:e,password:i},r="user"){var o=this;return(0,H.A)(function*(){const s=yield wEe(o.auth,e,i);return s.user&&(yield o.setUserRole(s.user.uid,r)),s})()}login({email:e,password:i}){return IEe(this.auth,e,i)}loginWithGoogle(){return CEe(this.auth,new $u.X)}logout(){return AEe(this.auth)}getAuthState(){return this.authState.asObservable()}isAuthenticated(){return null!==this.authState.value}getRoleState(){return this.roleState.asObservable()}getUserRole(e){var i=this;return(0,H.A)(function*(){const r=vq(i.firestore,`users/${e}`),o=yield OEe(r);return o.exists()?o.data().role:null})()}setUserRole(e,i){var r=this;return(0,H.A)(function*(){console.log(e,"uuid");const o=vq(r.firestore,`users/${e}`);yield FEe(o,{role:i},{merge:!0})})()}static{this.\u0275fac=function(i){return new(i||n)(X(sb),X(pI))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function LEe(n,t){if(1&n&&(q(0,"mat-list-option",8)(1,"div",9)(2,"span"),le(3),G()()()),2&n){const e=t.$implicit;ve("value",e),ge(3),Vg("",e.name," X (",e.quantity,")")}}function VEe(n,t){if(1&n&&(q(0,"p"),le(1),G()),2&n){He();const e=vo(4);ge(1),Kr(" Total de \xedtems seleccionados: ",e.selectedOptions.selected.length," ")}}function BEe(n,t){if(1&n){const e=Pi();q(0,"button",10),Fe("click",function(){return Rt(e),Pt(He().releaseTable())}),le(1," Liberar Mesa "),G()}}let UEe=(()=>{class n{constructor(e,i,r,o,s){this.dialogRef=e,this.coffeService=i,this.table=r,this.cdr=o,this.userService=s,this.groupedOrders=[],this.allOrdersRemoved=!1,this.role$=this.userService.getRoleState(),this.groupOrders()}groupOrders(){if(!this.table||!this.table.orders)return console.warn("No hay \xf3rdenes disponibles para agrupar."),void(this.groupedOrders=[]);const e={};this.table.orders.forEach(i=>{const r=i.quantity??1;e[i.name]?e[i.name].quantity+=r:e[i.name]={...i,quantity:r}}),this.groupedOrders=Object.values(e),this.allOrdersRemoved=0===this.groupedOrders.length}removeSelectedOrders(e){e.map(r=>r.value).forEach(r=>{const o=this.table.orders.findIndex(s=>s.name===r.name);o>-1&&(this.coffeService.removeOrderFromTable(this.table.id,this.table.orders[o].id),this.table.orders.splice(o,1))}),this.groupOrders(),this.allOrdersRemoved=0===this.table.orders.length,this.cdr.detectChanges()}releaseTable(){this.coffeService.releaseTable(this.table.id),this.dialogRef.close([])}closeDialog(){this.dialogRef.close(this.table.orders)}static{this.\u0275fac=function(i){return new(i||n)(O(Kc),O(Am),O(Nm),O(Yr),O(ab))}}static{this.\u0275cmp=St({type:n,selectors:[["app-order-info-dialog"]],decls:14,vars:3,consts:[["mat-dialog-title",""],["orders",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["align","end"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],[3,"value"],[1,"order-info"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,r){if(1&i){const o=Pi();q(0,"h2",0),le(1,"\xd3rdenes Asignadas"),G(),q(2,"mat-dialog-content")(3,"mat-selection-list",null,1),Be(5,LEe,4,3,"mat-list-option",2),G(),Be(6,VEe,2,1,"p",3),G(),q(7,"mat-dialog-actions",4)(8,"button",5),Fe("click",function(){Rt(o);const a=vo(4);return Pt(r.removeSelectedOrders(a.selectedOptions.selected))}),le(9," Eliminar Seleccionados "),G(),q(10,"button",6),le(11,"Cerrar"),G(),Be(12,BEe,2,0,"button",7),G(),le(13,"|")}2&i&&(ge(5),ve("ngForOf",r.groupedOrders),ge(1),ve("ngIf",!r.allOrdersRemoved),ge(6),ve("ngIf",r.allOrdersRemoved))},dependencies:[gl,ea,ja,NR,Cv,Av,Tv,KE,qE],styles:["mat-list-option[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0}.order-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.order-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-weight:700}mat-dialog-content[_ngcontent-%COMP%]{max-height:400px;overflow:auto}mat-dialog-actions[_ngcontent-%COMP%]{margin-top:16px}"]})}}return n})();function zEe(n,t){if(1&n&&(q(0,"mat-list-option",5),le(1),G()),2&n){const e=t.$implicit;ve("value",e.id),ge(1),Kr(" ",e.name," ")}}let jEe=(()=>{class n{constructor(e,i){this.data=e,this.dialogRef=i,this.availableTables=this.data.tables.filter(r=>r.id!==this.data.currentTableId&&!r.linkedTables.includes(this.data.currentTableId))}linkSelectedTables(e){const i=e.map(r=>r.value);this.dialogRef.close(i)}static{this.\u0275fac=function(i){return new(i||n)(O(Nm),O(Kc))}}static{this.\u0275cmp=St({type:n,selectors:[["app-link-table-dialog"]],decls:11,vars:2,consts:[["mat-dialog-title",""],["tableList",""],[3,"value",4,"ngFor","ngForOf"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"]],template:function(i,r){if(1&i){const o=Pi();q(0,"h2",0),le(1,"Vincular Mesas"),G(),q(2,"mat-dialog-content")(3,"mat-selection-list",null,1),Be(5,zEe,2,2,"mat-list-option",2),G()(),q(6,"mat-dialog-actions")(7,"button",3),le(8,"Cancelar"),G(),q(9,"button",4),Fe("click",function(){Rt(o);const a=vo(4);return Pt(r.linkSelectedTables(a.selectedOptions.selected))}),le(10," Vincular "),G()()}if(2&i){const o=vo(4);ge(5),ve("ngForOf",r.availableTables),ge(4),ve("disabled",0===o.selectedOptions.selected.length)}},dependencies:[gl,ja,NR,Cv,Av,Tv,KE,qE]})}}return n})();const HEe=["trigger"],$Ee=["panel"];function WEe(n,t){if(1&n&&(q(0,"span",10),le(1),G()),2&n){const e=He();ge(1),hr(e.placeholder)}}function GEe(n,t){if(1&n&&(q(0,"span",14),le(1),G()),2&n){const e=He(2);ge(1),hr(e.triggerValue)}}function qEe(n,t){1&n&&lt(0,0,["*ngSwitchCase","true"])}function KEe(n,t){1&n&&(q(0,"span",11),Be(1,GEe,2,1,"span",12),Be(2,qEe,1,0,"ng-content",13),G()),2&n&&(ve("ngSwitch",!!He().customTrigger),ge(2),ve("ngSwitchCase",!0))}function YEe(n,t){if(1&n){const e=Pi();Nh(),tg(),q(0,"div",15,16),Fe("@transformPanel.done",function(r){return Rt(e),Pt(He()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return Rt(e),Pt(He()._handleKeydown(r))}),lt(2,1),G()}if(2&n){const e=He();nB("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),ve("ngClass",e.panelClass)("@transformPanel","showing"),_n("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const QEe=[[["mat-select-trigger"]],"*"],XEe=["mat-select-trigger","*"],ZEe={transformPanelWrap:qc("transformPanelWrap",[Ms("* => void",RR("@transformPanel",[MR()],{optional:!0}))]),transformPanel:qc("transformPanel",[ks("void",ir({opacity:0,transform:"scale(1, 0.8)"})),Ms("void => showing",ia("120ms cubic-bezier(0, 0, 0.2, 1)",ir({opacity:1,transform:"scale(1, 1)"}))),Ms("* => void",ia("100ms linear",ir({opacity:0})))])};let bq=0;const yq=new de("mat-select-scroll-strategy"),eIe=new de("MAT_SELECT_CONFIG"),tIe={provide:yq,deps:[za],useFactory:function JEe(n){return()=>n.scrollStrategies.reposition()}},nIe=new de("MatSelectTrigger");class iIe{constructor(t,e){this.source=t,this.value=e}}const rIe=VW(BW(LW(UW(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new W}}))));let oIe=(()=>{class n extends rIe{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(x6.required)??!1}set required(e){this._required=Ht(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Ht(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Ht(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Dm(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,i,r,o,s,a,l,c,d,h,p,v,b,w){super(s,o,l,c,h),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._parentFormField=d,this._liveAnnouncer=b,this._defaultOptions=w,this._panelOpen=!1,this._compareWith=(E,M)=>E===M,this._uid="mat-select-"+bq++,this._triggerAriaLabelledBy=null,this._destroy=new W,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+bq++,this._panelDoneAnimatingStream=new W,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=nu(()=>{const E=this.options;return E?E.changes.pipe(is(E),Ie(()=>x(...E.map(M=>M.onSelectionChange)))):this._ngZone.onStable.pipe(Pn(1),Ie(()=>this.optionSelectionChanges))}),this.openedChange=new _t,this._openedStream=this.openedChange.pipe(jt(E=>E),fe(()=>{})),this._closedStream=this.openedChange.pipe(jt(E=>!E),fe(()=>{})),this.selectionChange=new _t,this.valueChange=new _t,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=w?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=w.typeaheadDebounceInterval),this._scrollStrategyFactory=v,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(p)||0,this.id=this.id}ngOnInit(){this._selectionModel=new l1(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Ye(),Wn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Wn(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(is(null),Wn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&bW(this._trackedModal,"aria-owns",i),function Rpe(n,t,e){const i=yW(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))}(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(bW(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,s=this._keyManager;if(!s.isTyping()&&o&&!Ua(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;s.onKeydown(e);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,s=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(s||13!==r&&32!==r||!i.activeItem||Ua(e))if(!s&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Pn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new Npe(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=x(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Wn(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),x(...this.options.map(i=>i._stateChanges)).pipe(Wn(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static{this.\u0275fac=function(i){return new(i||n)(O(bE),O(Yr),O($e),O(zW),O(xt),O(Gc,8),O(Ov,8),O(Vu,8),O(s1,8),O(Ha,10),$d("tabindex"),O(yq),O(ER),O(eIe,8))}}static{this.\u0275dir=Te({type:n,viewQuery:function(i,r){if(1&i&&(Oi(HEe,5),Oi($Ee,5),Oi(hW,5)),2&i){let o;It(o=Ct())&&(r.trigger=o.first),It(o=Ct())&&(r.panel=o.first),It(o=Ct())&&(r._overlayDir=o.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[ot,Di]})}}return n})(),sIe=(()=>{class n extends oIe{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Wn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,o=function Cge(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let s=0;s<n+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}(e,this.options,this.optionGroups),s=i._getHostElement();r.scrollTop=0===e&&1===o?0:function Age(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new iIe(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof yR?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Ht(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=Zn(n)))(r||n)}}()}static{this.\u0275cmp=St({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(1&i&&(di(o,nIe,5),di(o,XW,5),di(o,QW,5)),2&i){let s;It(s=Ct())&&(r.customTrigger=s.first),It(s=Ct())&&(r.options=s),It(s=Ct())&&(r.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&Fe("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(_n("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),Xt("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[rn([{provide:o1,useExisting:n},{provide:YW,useExisting:n}]),ot],ngContentSelectors:XEe,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,r){if(1&i&&(Gi(QEe),q(0,"div",0,1),Fe("click",function(){return r.toggle()}),q(3,"div",2),Be(4,WEe,2,1,"span",3),Be(5,KEe,3,2,"span",4),G(),q(6,"div",5)(7,"div",6),Nh(),q(8,"svg",7),vt(9,"path",8),G()()()(),Be(10,YEe,3,9,"ng-template",9),Fe("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&i){const o=vo(1);ge(3),ve("ngSwitch",r.empty),_n("id",r._valueId),ge(1),ve("ngSwitchCase",!0),ge(1),ve("ngSwitchCase",!1),ge(5),ve("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[OS,Zg,FS,Pz,hW,yR],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[ZEe.transformPanel]},changeDetection:0})}}return n})(),aIe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({providers:[tIe],imports:[_l,IE,ZW,Nn,mv,GE,ZW,Nn]})}}return n})();function lIe(n,t){if(1&n&&(q(0,"mat-option",8),le(1),G()),2&n){const e=t.$implicit;ve("value",e.id),ge(1),Kr(" ",e.name," ")}}let cIe=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i,this.selectedWaiterId=""}onCancel(){this.dialogRef.close(null)}onConfirm(){this.dialogRef.close(this.selectedWaiterId)}static{this.\u0275fac=function(i){return new(i||n)(O(Kc),O(Nm))}}static{this.\u0275cmp=St({type:n,selectors:[["app-waiter-dialog"]],decls:13,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","fill"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","",3,"disabled","click"],[3,"value"]],template:function(i,r){1&i&&(q(0,"h1",0),le(1,"Seleccionar Mozo"),G(),q(2,"div",1)(3,"mat-form-field",2)(4,"mat-label"),le(5,"Mozo"),G(),q(6,"mat-select",3),Fe("ngModelChange",function(s){return r.selectedWaiterId=s}),Be(7,lIe,2,2,"mat-option",4),G()()(),q(8,"div",5)(9,"button",6),Fe("click",function(){return r.onCancel()}),le(10,"Cancelar"),G(),q(11,"button",7),Fe("click",function(){return r.onConfirm()}),le(12,"Confirmar"),G()()),2&i&&(ge(6),ve("ngModel",r.selectedWaiterId),ge(1),ve("ngForOf",r.data.waiters),ge(4),ve("disabled",!r.selectedWaiterId))},dependencies:[gl,Fm,Nv,ja,Cv,Av,Tv,WE,Bm,sIe,XW]})}}return n})();const dIe=["*"],fIe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],mIe=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],pIe=new de("MAT_CARD_CONFIG");let wq=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static{this.\u0275fac=function(i){return new(i||n)(O(pIe,8))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&Xt("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:dIe,decls:1,vars:0,template:function(i,r){1&i&&(Gi(),lt(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return n})(),xq=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}}return n})(),Eq=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}}return n})(),Iq=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}}return n})(),Cq=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=St({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:mIe,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(Gi(fIe),lt(0),q(1,"div",0),lt(2,1),G(),lt(3,2))},encapsulation:2,changeDetection:0})}}return n})(),lb=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]})}}return n})(),bIe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[Nn,_l,Nn]})}}return n})();const yIe=["*"];let gI;function cb(n){return function wIe(){if(void 0===gI&&(gI=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(gI=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return gI}()?.createHTML(n)||n}function Aq(n){return Error(`Unable to find icon with the name "${n}"`)}function Tq(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Sq(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Wu{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let _I=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Wu(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(Rr.HTML,r);if(!s)throw Sq(r);const a=cb(s);return this._addSvgIconConfig(e,i,new Wu("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Wu(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(Rr.HTML,i);if(!o)throw Sq(i);const s=cb(o);return this._addSvgIconSetConfig(e,new Wu("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(Rr.RESOURCE_URL,e);if(!i)throw Tq(e);const r=this._cachedIconsByUrl.get(i);return r?R(vI(r)):this._loadSvgIconFromConfig(new Wu(e,null)).pipe(Fi(o=>this._cachedIconsByUrl.set(i,o)),fe(o=>vI(o)))}getNamedSvgIcon(e,i=""){const r=Dq(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):iu(Aq(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?R(vI(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(fe(i=>vI(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?R(r):b6(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(yc(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Rr.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),R(null)})))).pipe(fe(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw Aq(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Fi(i=>e.svgText=i),fe(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?R(null):this._fetchIcon(e).pipe(Fi(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(cb("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(cb("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function xIe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(Rr.RESOURCE_URL,i);if(!s)throw Tq(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(fe(c=>cb(c)),Df(()=>this._inProgressUrlFetches.delete(s)),U());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(Dq(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return IIe(o)?new Wu(o.url,null,o.options):new Wu(o,null)}}static{this.\u0275fac=function(i){return new(i||n)(X(hE,8),X(eD),X(At,8),X(Is))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function vI(n){return n.cloneNode(!0)}function Dq(n,t){return n+":"+t}function IIe(n){return!(!n.url||!n.options)}const CIe=TR(class{constructor(n){this._elementRef=n}}),AIe=new de("MAT_ICON_DEFAULT_OPTIONS"),TIe=new de("mat-icon-location",{providedIn:"root",factory:function SIe(){const n=De(At),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),kq=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],DIe=kq.map(n=>`[${n}]`).join(", "),kIe=/^url\(['"]?#(.*?)['"]?\)$/;let Mq=(()=>{class n extends CIe{get inline(){return this._inline}set inline(e){this._inline=Ht(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,s,a){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ft.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(DIe),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)kq.forEach(s=>{const a=i[o],l=a.getAttribute(s),c=l?l.match(kIe):null;if(c){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Pn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static{this.\u0275fac=function(i){return new(i||n)(O(xt),O(_I),$d("aria-hidden"),O(TIe),O(Is),O(AIe,8))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(_n("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Xt("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[ot],ngContentSelectors:yIe,decls:1,vars:0,template:function(i,r){1&i&&(Gi(),lt(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return n})(),MIe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[Nn,Nn]})}}return n})();function RIe(n,t){if(1&n&&(q(0,"small",18)(1,"div",19),le(2," Gestionado por: "),q(3,"strong"),le(4),G(),vt(5,"mat-icon",20),G()()),2&n){const e=He();ge(4),hr(e.waiterName)}}function PIe(n,t){if(1&n&&(q(0,"span",21),le(1),G()),2&n){const e=He();ge(1),Kr(" Vinculada con: ",e.linkedTablesNames," ")}}function OIe(n,t){1&n&&vt(0,"img",22)}function NIe(n,t){1&n&&vt(0,"img",22)}function FIe(n,t){if(1&n){const e=Pi();q(0,"div",12)(1,"button",13),Fe("click",function(){return Rt(e),Pt(He().onViewOrders())}),le(2," Ver \xd3rdenes "),vt(3,"mat-icon",23),G()()}if(2&n){const e=He();ge(1),ve("disabled",e.controlledBy)}}function LIe(n,t){if(1&n){const e=Pi();q(0,"div",12)(1,"button",24),Fe("click",function(){return Rt(e),Pt(He().onGetTotal())}),le(2," Total "),vt(3,"mat-icon",25),G()()}if(2&n){const e=He();ge(1),ve("disabled",e.controlledBy)}}function VIe(n,t){if(1&n){const e=Pi();q(0,"button",26),Fe("click",function(){return Rt(e),Pt(He().releaseTable())}),le(1," Liberar Mesa "),vt(2,"mat-icon",27),G()}}const BIe=function(n,t){return{"available-card":n,"occupied-card":t}};let UIe=(()=>{class n{constructor(e,i,r){this.dialog=e,this.coffeService=i,this.cdr=r,this.id="",this.name="",this.available=!1,this.orders=[],this.refreshLinkedTables=!1,this.addOrder=new _t,this.removeOrder=new _t,this.linkedTables=[],this.linkedTablesNames="",this.hasOrders=!1}ngOnInit(){this.loadLinkedTables(),this.updateOrderStatus()}ngOnChanges(){this.loadLinkedTables(),this.updateOrderStatus()}getWaiterNameFromService(e){if(!e)return"Sin asignar";const i=this.coffeService.getWaiters().find(r=>r.id===e);return i?i.name:"Mozo no encontrado"}loadLinkedTables(){const e=this.coffeService.getTables().find(i=>i.id===this.id);if(e)if(this.linkedTables=e.linkedTables.map(i=>this.coffeService.getTables().find(r=>r.id===i)).filter(i=>i),this.linkedTablesNames=this.linkedTables.map(i=>i.name).join(", "),this.waiterId=e.waiterId,this.waiterName=e.waiterName||this.getWaiterNameFromService(e.waiterId),this.controlledBy=e.controlledBy,this.controlledBy){const i=this.coffeService.getTables().find(r=>r.id===this.controlledBy);i&&(this.hasOrders=i.orders.length>0)}else this.hasOrders=e.orders.length>0||this.linkedTables.some(i=>i.orders.length>0)}linkTable(){this.dialog.open(jEe,{width:"400px",data:{tables:this.coffeService.getTables(),currentTableId:this.id}}).afterClosed().subscribe(i=>{i&&i.length>0&&(this.coffeService.linkMultipleTables(this.id,i),this.loadLinkedTables())})}releaseTable(){this.coffeService.releaseTable(this.id),this.loadLinkedTables(),this.updateOrderStatus()}updateOrderStatus(){const e=this.coffeService.getTables().find(i=>i.id===this.id);if(e)if(this.controlledBy){const i=this.coffeService.getTables().find(r=>r.id===this.controlledBy);i&&(this.hasOrders=i.orders.length>0,this.available=!this.hasOrders,this.coffeService.updateFirestore("tables",this.id,{available:!this.hasOrders}))}else this.hasOrders=e.orders.length>0||this.linkedTables.some(i=>i.orders.length>0),this.available=!this.hasOrders,this.hasOrders&&this.linkedTables.forEach(i=>{i.available=!1,this.coffeService.updateFirestore("tables",i.id,{available:!1})});this.cdr.detectChanges()}onAddOrder(){this.controlledBy?alert(`Esta mesa est\xe1 siendo administrada por la mesa ${this.controlledBy}`):this.waiterId?this.openMenuDialog():this.dialog.open(cIe,{width:"400px",data:{waiters:this.coffeService.getWaiters()}}).afterClosed().subscribe(i=>{if(i){const r=this.coffeService.getWaiters().find(o=>o.id===i);if(r){this.waiterId=i,this.waiterName=r.name;const o=this.coffeService.getTables().find(s=>s.id===this.id);o&&(o.waiterId=i,o.waiterName=r.name,this.coffeService.updateFirestore("tables",this.id,{waiterId:i,waiterName:r.name}),this.cdr.detectChanges()),this.openMenuDialog()}}})}openMenuDialog(){this.dialog.open(Mbe,{width:"800px",data:{menu:this.coffeService.getMenu()}}).afterClosed().subscribe(i=>{if(i&&i.length>0){const r=this.coffeService.getTables().find(o=>o.id===this.id);r&&(i.forEach(o=>{const s=r.orders.find(a=>a.id===o.id);s?s.quantity=(s.quantity||1)+1:r.orders.push({...o,quantity:1})}),this.hasOrders=r.orders.length>0,this.available=!1,this.coffeService.updateFirestore("tables",this.id,{orders:r.orders,available:!1}),this.cdr.detectChanges())}})}onViewOrders(){const e=this.coffeService.getTables().find(r=>r.id===this.id);e?this.dialog.open(UEe,{width:"800px",data:e}).afterClosed().subscribe(r=>{r&&(this.coffeService.getTables().find(o=>o.id===this.id).orders=r,this.updateOrderStatus())}):console.error("No se encontr\xf3 la mesa")}onRemoveOrder(e){const i=this.coffeService.getTables().find(r=>r.id===this.id);i&&(i.orders=i.orders.filter(r=>r.id!==e),this.hasOrders=i.orders.length>0,this.available=!this.hasOrders,this.coffeService.updateFirestore("tables",this.id,{orders:i.orders,available:!this.hasOrders}),this.cdr.detectChanges())}onGetTotal(){const e=this.coffeService.getTables().find(r=>r.id===this.id);e?this.dialog.open(Xbe,{width:"400px",data:e}).afterClosed().subscribe(r=>{"mesa_liberada"===r&&(this.available=!0,this.hasOrders=!1,this.controlledBy=void 0,this.linkedTables=[],this.coffeService.updateFirestore("tables",this.id,{available:!0,hasOrders:!1,controlledBy:null,linkedTables:[]}),this.cdr.detectChanges())}):console.error("No se encontr\xf3 la mesa")}getWaiterName(){if(!this.waiterId)return"Sin asignar";const e=this.coffeService.getWaiters().find(i=>i.id===this.waiterId);return e?e.name:"Mozo no encontrado"}static{this.\u0275fac=function(i){return new(i||n)(O(ME),O(Am),O(Yr))}}static{this.\u0275cmp=St({type:n,selectors:[["app-card"]],inputs:{id:"id",name:"name",available:"available",orders:"orders",refreshLinkedTables:"refreshLinkedTables"},outputs:{addOrder:"addOrder",removeOrder:"removeOrder"},features:[Di],decls:28,vars:14,consts:[[1,"container"],[1,"row"],[1,"col"],[1,"example-card",3,"ngClass"],[1,"d-flex","flex-column","align-items-start","w-100"],[1,"text-white","m-0"],["class","d-flex align-items-center m-0 justify-content-center","style","font-size: 14px",4,"ngIf"],["style","font-size: x-small; color: white; font-weight: 500",4,"ngIf"],[2,"display","flex","flex-direction","column","align-items","center","justify-content","center"],[2,"margin-top","1rem","margin-bottom","1rem"],["style","width: 90px; height: 90px; border-radius: 100px","mat-card-image","","src","./assets/nuovo-cafe.jpg","alt","table",4,"ngIf"],[1,"row","gx-2","gy-2","justify-content-center"],[1,"col-6"],["mat-raised-button","",1,"btn","btn-primary","w-100",2,"color","white","font-size","10px",3,"disabled","click"],["fontIcon","restaurant"],["class","col-6",4,"ngIf"],["fontIcon","link"],["class","btn btn-primary w-100","style","color: white; font-size: 10px","mat-raised-button","",3,"click",4,"ngIf"],[1,"d-flex","align-items-center","m-0","justify-content-center",2,"font-size","14px"],[2,"display","flex","justify-content","center","align-items","baseline","gap","0.5rem","color","white"],["fontIcon","manage_accounts",1,"me-2",2,"font-size","14px","font-weight","300"],[2,"font-size","x-small","color","white","font-weight","500"],["mat-card-image","","src","./assets/nuovo-cafe.jpg","alt","table",2,"width","90px","height","90px","border-radius","100px"],["fontIcon","table_restaurant"],["mat-raised-button","",1,"btn","btn-danger","w-100",2,"color","white","font-size","10px",3,"disabled","click"],["fontIcon","currency_exchange"],["mat-raised-button","",1,"btn","btn-primary","w-100",2,"color","white","font-size","10px",3,"click"],["fontIcon","refresh"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-header")(5,"mat-card-title",4)(6,"h2",5),le(7),G(),Be(8,RIe,6,1,"small",6),G(),q(9,"mat-card-subtitle"),Be(10,PIe,2,1,"span",7),G()(),q(11,"mat-card-content",8)(12,"div",9),Be(13,OIe,1,0,"img",10),Be(14,NIe,1,0,"img",10),G(),q(15,"div",11)(16,"div",12)(17,"button",13),Fe("click",function(){return r.onAddOrder()}),le(18," Ordenar "),vt(19,"mat-icon",14),G()(),Be(20,FIe,4,1,"div",15),q(21,"div",12)(22,"button",13),Fe("click",function(){return r.linkTable()}),le(23," Vincular Mesas "),vt(24,"mat-icon",16),G()(),Be(25,LIe,4,1,"div",15),q(26,"div"),Be(27,VIe,3,0,"button",17),G()()()()()()()),2&i&&(ge(3),ve("ngClass",function QB(n,t,e,i,r){return ZB(ye(),cr(),n,t,e,i,r)}(11,BIe,!r.hasOrders,r.hasOrders)),ge(4),Kr(" ",r.name," "),ge(1),ve("ngIf",r.waiterId),ge(2),ve("ngIf",r.linkedTables.length>0),ge(3),ve("ngIf",r.available),ge(1),ve("ngIf",!r.available),ge(3),ve("disabled",r.controlledBy),ge(3),ve("ngIf",r.orders.length>0),ge(2),ve("disabled",r.controlledBy),ge(3),ve("ngIf",r.orders&&r.orders.length>0),ge(2),ve("ngIf",r.waiterId&&0===r.orders.length))},dependencies:[OS,ea,wq,Eq,Cq,lb,Iq,xq,ja,Mq],styles:['@charset "UTF-8";.available-card[_ngcontent-%COMP%]{background-color:#70dd56;border:1px solid #66bb6a}.available-card[_ngcontent-%COMP%]   .mat-mdc-raised-button[_ngcontent-%COMP%]:not(:disabled){background-color:#3eb442!important}.occupied-card[_ngcontent-%COMP%]{background-color:#f3705b;border:1px solid #ef5350}.occupied-card[_ngcontent-%COMP%]   .mat-mdc-raised-button[_ngcontent-%COMP%]:not(:disabled){background-color:#b64e3d!important}mat-card[_ngcontent-%COMP%]{transition:background-color .3s,border-color .3s}']})}}return n})();function zIe(n,t){if(1&n){const e=Pi();q(0,"div",3)(1,"app-card",4),Fe("addOrder",function(r){return Rt(e),Pt(He().handleAddOrder(r))})("removeOrder",function(r){return Rt(e),Pt(He().handleRemoveOrder(r))})("linkTable",function(){return Rt(e),Pt(He().handleLinkTables())}),G()()}if(2&n){const e=t.$implicit,i=He();ge(1),ve("id",e.id)("name",e.name)("available",e.available)("orders",e.orders)("refreshLinkedTables",i.refreshLinkedTables)}}let jIe=(()=>{class n{constructor(e,i){this.coffeService=e,this.printService=i,this.tables=[],this.refreshLinkedTables=!1}ngOnInit(){this.coffeService.tables$.subscribe(e=>{this.tables=e})}addOrder(e,i){}removeOrder(e,i){}handleAddOrder(e){this.addOrder(e.tableId,e.menuItem)}handleRemoveOrder(e){this.removeOrder(e.tableId,e.orderId)}handleLinkTables(){this.refreshLinkedTables=!this.refreshLinkedTables}static{this.\u0275fac=function(i){return new(i||n)(O(Am),O(wme))}}static{this.\u0275cmp=St({type:n,selectors:[["app-home"]],decls:4,vars:1,consts:[[1,"container"],[1,"row"],["class","col-12 col-sm-6 col-md-4 col-lg-3 mb-4",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-4"],[2,"cursor","pointer",3,"id","name","available","orders","refreshLinkedTables","addOrder","removeOrder","linkTable"]],template:function(i,r){1&i&&(q(0,"div",0),vt(1,"div"),q(2,"div",1),Be(3,zIe,2,5,"div",2),G()()),2&i&&(ge(3),ve("ngForOf",r.tables))},dependencies:[gl,UIe]})}}return n})(),HIe=(()=>{class n{constructor(e,i){this.userService=e,this.router=i,this.formLogin=new kv({email:new Vm,password:new Vm})}ngOnInit(){}onSubmit(){this.userService.login(this.formLogin.value).then(e=>{console.log(e,"respuesta"),this.router.navigate([""])}).catch(e=>{console.log(e,"este es el error")})}loginWithGoogle(){this.userService.loginWithGoogle().then(()=>{this.router.navigate(["/home"])}).then(e=>console.log(e))}static{this.\u0275fac=function(i){return new(i||n)(O(ab),O(Qr))}}static{this.\u0275cmp=St({type:n,selectors:[["app-login"]],decls:20,vars:2,consts:[[1,"container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"register-container","w-100",2,"max-width","400px"],[2,"display","flex","justify-content","center","align-items","center","margin-bottom","2rem"],["mat-card-image","","src","./assets/nuovo-cafe.jpg","alt","table",1,"rounded-circle",2,"width","150px","height","150px"],[1,"w-100",3,"formGroup","ngSubmit"],["appearance","outline",1,"w-100","mb-3"],["matInput","","type","email","formControlName","email","required",""],["matInput","","type","password","formControlName","password","required",""],[2,"display","flex","justify-content","center"],["mat-raised-button","","color","primary","type","submit",1,"btn","btn-primary","justify-content-end",3,"disabled"],[2,"display","flex","justify-content","center","margin-top","1rem"],["mat-stroked-button","","color","warn","type","submit",1,"justify-content-end",3,"click"],["src","./assets/google.png","alt","google",2,"width","30px","height","20px"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"div",1)(2,"div",2),vt(3,"img",3),G(),q(4,"form",4),Fe("ngSubmit",function(){return r.onSubmit()}),q(5,"mat-form-field",5)(6,"mat-label"),le(7,"Email"),G(),vt(8,"input",6),G(),q(9,"mat-form-field",5)(10,"mat-label"),le(11,"Contrase\xf1a"),G(),vt(12,"input",7),G(),q(13,"div",8)(14,"button",9),le(15," Iniciar sesi\xf3n "),G()(),q(16,"div",10)(17,"button",11),Fe("click",function(){return r.loginWithGoogle()}),vt(18,"img",12),le(19," Iniciar con Google "),G()()()()()),2&i&&(ge(4),ve("formGroup",r.formLogin),ge(10),ve("disabled",r.formLogin.invalid))},dependencies:[XR,Fu,Fm,zR,Fv,Vu,HE,lb,ja,WE,Bm,a1]})}}return n})(),$Ie=(()=>{class n{constructor(e,i){this.userService=e,this.router=i,this.formRegister=new kv({email:new Vm,password:new Vm})}ngOnInit(){}onSubmit(){this.userService.register(this.formRegister.value).then(e=>{console.log(e,"respuesta"),this.router.navigate(["/login"])}).catch(e=>{console.log(e,"este es el error")})}static{this.\u0275fac=function(i){return new(i||n)(O(ab),O(Qr))}}static{this.\u0275cmp=St({type:n,selectors:[["app-register"]],decls:12,vars:2,consts:[[1,"register-container"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"full-width"],["matInput","","type","email","formControlName","email","required",""],["matInput","","type","password","formControlName","password","required",""],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"form",1),Fe("ngSubmit",function(){return r.onSubmit()}),q(2,"mat-form-field",2)(3,"mat-label"),le(4,"Email"),G(),vt(5,"input",3),G(),q(6,"mat-form-field",2)(7,"mat-label"),le(8,"Contrase\xf1a"),G(),vt(9,"input",4),G(),q(10,"button",5),le(11," Registrarse "),G()()()),2&i&&(ge(1),ve("formGroup",r.formRegister),ge(9),ve("disabled",r.formRegister.invalid))},dependencies:[XR,Fu,Fm,zR,Fv,Vu,HE,ja,WE,Bm,a1]})}}return n})();function WIe(n,t){if(1&n){const e=Pi();q(0,"tr")(1,"td"),le(2),G(),q(3,"td"),le(4),G(),q(5,"td"),le(6),G(),q(7,"td")(8,"div",18)(9,"button",19),Fe("click",function(){const o=Rt(e).$implicit;return Pt(He(2).startEditingTable(o))}),le(10," Editar "),G(),q(11,"button",20),Fe("click",function(){const o=Rt(e).$implicit;return Pt(He(2).deleteTable(o.id))}),le(12," Eliminar "),G()()()()}if(2&n){const e=t.$implicit;ge(2),hr(e.id),ge(2),hr(e.name),ge(2),hr(e.available?"S\xed":"No")}}function GIe(n,t){if(1&n){const e=Pi();q(0,"div",21)(1,"h3"),le(2,"Editar Mesa"),G(),q(3,"input",22),Fe("ngModelChange",function(r){return Rt(e),Pt(He(2).editTableName=r)}),G(),q(4,"div",23)(5,"input",24),Fe("ngModelChange",function(r){return Rt(e),Pt(He(2).editTableAvailability=r)}),G(),q(6,"label",25),le(7,"Disponible"),G()(),q(8,"button",26),Fe("click",function(){return Rt(e),Pt(He(2).saveTableEdit())}),le(9," Guardar "),G()()}if(2&n){const e=He(2);ge(3),ve("ngModel",e.editTableName),ge(2),ve("ngModel",e.editTableAvailability)}}function qIe(n,t){if(1&n){const e=Pi();q(0,"tr")(1,"td"),le(2),G(),q(3,"td"),le(4),G(),q(5,"td"),le(6),G(),q(7,"td")(8,"div",18)(9,"button",19),Fe("click",function(){const o=Rt(e).$implicit;return Pt(He(2).startEditingMenu(o))}),le(10," Editar "),G(),q(11,"button",20),Fe("click",function(){const o=Rt(e).$implicit;return Pt(He(2).deleteMenuItem(o.id))}),le(12," Eliminar "),G()()()()}if(2&n){const e=t.$implicit;ge(2),hr(e.id),ge(2),hr(e.name),ge(2),Kr("$",e.price,"")}}function KIe(n,t){if(1&n){const e=Pi();q(0,"div",21)(1,"h3"),le(2,"Editar \xcdtem del Men\xfa"),G(),q(3,"input",22),Fe("ngModelChange",function(r){return Rt(e),Pt(He(2).editItemName=r)}),G(),q(4,"input",27),Fe("ngModelChange",function(r){return Rt(e),Pt(He(2).editItemPrice=r)}),G(),q(5,"button",26),Fe("click",function(){return Rt(e),Pt(He(2).saveMenuItemEdit())}),le(6," Guardar "),G()()}if(2&n){const e=He(2);ge(3),ve("ngModel",e.editItemName),ge(1),ve("ngModel",e.editItemPrice)}}function YIe(n,t){if(1&n){const e=Pi();q(0,"tr")(1,"td"),le(2),G(),q(3,"td"),le(4),G(),q(5,"td")(6,"div",18)(7,"button",19),Fe("click",function(){const o=Rt(e).$implicit;return Pt(He(2).startEditingWaiter(o))}),le(8," Editar "),G(),q(9,"button",20),Fe("click",function(){const o=Rt(e).$implicit;return Pt(He(2).deleteWaiter(o.id))}),le(10," Eliminar "),G()()()()}if(2&n){const e=t.$implicit;ge(2),hr(e.id),ge(2),hr(e.name)}}function QIe(n,t){if(1&n){const e=Pi();q(0,"div",21)(1,"h3"),le(2,"Editar Mesero"),G(),q(3,"input",22),Fe("ngModelChange",function(r){return Rt(e),Pt(He(2).editWaiterName=r)}),G(),q(4,"button",26),Fe("click",function(){return Rt(e),Pt(He(2).saveWaiterEdit())}),le(5," Guardar "),G()()}if(2&n){const e=He(2);ge(3),ve("ngModel",e.editWaiterName)}}function XIe(n,t){if(1&n){const e=Pi();q(0,"div")(1,"h2",2),le(2,"Panel de Administrador"),G(),q(3,"div",3),vt(4,"div",4),G(),q(5,"mat-accordion")(6,"mat-expansion-panel")(7,"mat-expansion-panel-header")(8,"mat-panel-title"),le(9," Administrar mesas "),G(),q(10,"mat-panel-description"),le(11," Agrega, edita o elimina tus mesas "),G()(),q(12,"div",5)(13,"div",6)(14,"h3"),le(15,"Agregar Mesa"),G(),q(16,"div",7)(17,"input",8),Fe("ngModelChange",function(r){return Rt(e),Pt(He().newTableName=r)}),G(),q(18,"button",9),Fe("click",function(){return Rt(e),Pt(He().addTable())}),le(19,"Agregar"),G()(),q(20,"h3"),le(21,"Lista de Mesas"),G(),q(22,"div",10)(23,"table",11)(24,"thead",12)(25,"tr")(26,"th"),le(27,"ID"),G(),q(28,"th"),le(29,"Nombre"),G(),q(30,"th"),le(31,"Disponible"),G(),q(32,"th"),le(33,"Acciones"),G()()(),q(34,"tbody"),Be(35,WIe,13,3,"tr",13),G()()(),Be(36,GIe,10,2,"div",14),G()()()(),q(37,"mat-accordion")(38,"mat-expansion-panel")(39,"mat-expansion-panel-header")(40,"mat-panel-title"),le(41," Administrar lista de menu "),G(),q(42,"mat-panel-description"),le(43," Agrega, edita o elimina tus men\xfa "),G()(),q(44,"div",5)(45,"div",6)(46,"h3"),le(47,"Agregar \xcdtem al Men\xfa"),G(),q(48,"div",7)(49,"input",15),Fe("ngModelChange",function(r){return Rt(e),Pt(He().newItemName=r)}),G(),q(50,"input",16),Fe("ngModelChange",function(r){return Rt(e),Pt(He().newItemPrice=r)})("change",function(){return Rt(e),Pt(He().formatPrice())}),G(),q(51,"button",9),Fe("click",function(){return Rt(e),Pt(He().addMenuItem())}),le(52," Agregar "),G()(),q(53,"h3"),le(54,"Lista del Men\xfa"),G(),q(55,"div",10)(56,"table",11)(57,"thead",12)(58,"tr")(59,"th"),le(60,"ID"),G(),q(61,"th"),le(62,"Nombre"),G(),q(63,"th"),le(64,"Precio"),G(),q(65,"th"),le(66,"Acciones"),G()()(),q(67,"tbody"),Be(68,qIe,13,3,"tr",13),G()()(),Be(69,KIe,7,2,"div",14),G()()()(),q(70,"mat-accordion")(71,"mat-expansion-panel")(72,"mat-expansion-panel-header")(73,"mat-panel-title"),le(74," Administrar lista de mozos "),G(),q(75,"mat-panel-description"),le(76," Agrega, edita o elimina los datos de tus mozos "),G()(),q(77,"div",5)(78,"div",6)(79,"h3"),le(80,"Agregar Mesero"),G(),q(81,"div",7)(82,"input",17),Fe("ngModelChange",function(r){return Rt(e),Pt(He().newWaiterName=r)}),G(),q(83,"button",9),Fe("click",function(){return Rt(e),Pt(He().addWaiter())}),le(84,"Agregar"),G()(),q(85,"h3"),le(86,"Lista de Meseros"),G(),q(87,"div",10)(88,"table",11)(89,"thead",12)(90,"tr")(91,"th"),le(92,"ID"),G(),q(93,"th"),le(94,"Nombre"),G(),q(95,"th"),le(96,"Acciones"),G()()(),q(97,"tbody"),Be(98,YIe,11,2,"tr",13),G()()(),Be(99,QIe,6,1,"div",14),G()()()()()}if(2&n){const e=He();ge(17),ve("ngModel",e.newTableName),ge(18),ve("ngForOf",e.tables),ge(1),ve("ngIf",void 0!==e.editTableId),ge(13),ve("ngModel",e.newItemName),ge(1),ve("ngModel",e.newItemPrice),ge(18),ve("ngForOf",e.menuItems),ge(1),ve("ngIf",void 0!==e.editItemId),ge(13),ve("ngModel",e.newWaiterName),ge(16),ve("ngForOf",e.waiters),ge(1),ve("ngIf",void 0!==e.editWaiterId)}}function ZIe(n,t){1&n&&(q(0,"div",28)(1,"h1"),le(2,"ACCESO DENEGADO"),G(),q(3,"p"),le(4,"No tienes los permisos suficientes para visualizar el contenido de esta p\xe1gina."),G()())}let JIe=(()=>{class n{constructor(e,i){this.userService=e,this.coffeService=i,this.tables=[],this.newTableName="",this.editTableName="",this.editTableAvailability=!0,this.menuItems=[],this.newItemName="",this.newItemPrice=0,this.editItemName="",this.editItemPrice=0,this.waiters=[],this.newWaiterName="",this.editWaiterName="",this.role$=this.userService.getRoleState(),this.tables=this.coffeService.getTables(),this.menuItems=this.coffeService.getMenu(),this.waiters=this.coffeService.getWaiters()}addTable(){this.newTableName.trim()&&(this.coffeService.addTable(this.newTableName.trim()),this.tables=this.coffeService.getTables(),this.newTableName="")}startEditingTable(e){this.editTableId=e.id,this.editTableName=e.name,this.editTableAvailability=e.available}saveTableEdit(){void 0!==this.editTableId&&(this.coffeService.editTable(this.editTableId,this.editTableName,this.editTableAvailability),this.tables=this.coffeService.getTables(),this.editTableId=void 0)}deleteTable(e){this.coffeService.deleteTable(e),this.tables=this.coffeService.getTables()}addMenuItem(){this.newItemName.trim()&&this.newItemPrice>0&&(this.coffeService.addMenuItem(this.newItemName.trim(),this.newItemPrice),this.menuItems=this.coffeService.getMenu(),this.newItemName="",this.newItemPrice=0)}startEditingMenu(e){this.editItemId=e.id,this.editItemName=e.name,this.editItemPrice=e.price}saveMenuItemEdit(){void 0!==this.editItemId&&(this.coffeService.editMenuItem(this.editItemId,this.editItemName,this.editItemPrice),this.menuItems=this.coffeService.getMenu(),this.editItemId=void 0)}deleteMenuItem(e){this.coffeService.deleteMenuItem(e),this.menuItems=this.coffeService.getMenu()}addWaiter(){this.newWaiterName.trim()&&(this.coffeService.addWaiter(this.newWaiterName.trim()),this.waiters=this.coffeService.getWaiters(),this.newWaiterName="")}startEditingWaiter(e){this.editWaiterId=e.id,this.editWaiterName=e.name}saveWaiterEdit(){void 0!==this.editWaiterId&&(this.coffeService.editWaiter(this.editWaiterId,this.editWaiterName),this.waiters=this.coffeService.getWaiters(),this.editWaiterId=void 0)}deleteWaiter(e){this.coffeService.deleteWaiter(e),this.waiters=this.coffeService.getWaiters()}formatPrice(){this.newItemPrice=Number(this.newItemPrice)}static{this.\u0275fac=function(i){return new(i||n)(O(ab),O(Am))}}static{this.\u0275cmp=St({type:n,selectors:[["app-admin-panel"]],decls:4,vars:3,consts:[[4,"ngIf"],["accessDenied",""],[1,"text-center","my-4"],[1,"row"],[1,"d-flex","flex-column","flex-md-row","gap-3"],[1,"col-md-6"],[1,"card","p-3","shadow"],[1,"input-group","mb-3"],["placeholder","Nombre de la mesa",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-bordered","table-striped"],[1,"table-dark"],[4,"ngFor","ngForOf"],["class","mt-3",4,"ngIf"],["placeholder","Nombre del \xedtem",1,"form-control",3,"ngModel","ngModelChange"],["type","number","placeholder","Precio",1,"form-control",3,"ngModel","ngModelChange","change"],["placeholder","Nombre del mesero",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","gap-2"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"mt-3"],["placeholder","Nuevo nombre",1,"form-control","mb-2",3,"ngModel","ngModelChange"],[1,"form-check"],["type","checkbox","id","disponibleCheck",1,"form-check-input",3,"ngModel","ngModelChange"],["for","disponibleCheck",1,"form-check-label"],[1,"btn","btn-success","mt-2",3,"click"],["type","number","placeholder","Nuevo precio",1,"form-control","mb-2",3,"ngModel","ngModelChange"],[1,"text-center","text-danger"]],template:function(i,r){1&i&&(Be(0,XIe,100,10,"div",0),Zs(1,"async"),Be(2,ZIe,5,0,"ng-template",null,1,xf)),2&i&&ve("ngIf","admin"===Ta(1,1,r.role$))},dependencies:[gl,ea,Fu,jE,LR,Fm,Nv,j8,h1,f1,z8,Kbe,VS]})}}return n})();const UO=fe(n=>!!n);let eCe=(()=>{class n{router;auth;constructor(e,i){this.router=e,this.auth=i}canActivate=(e,i)=>{const r=e.data.authGuardPipe||(()=>UO);return yEe(this.auth).pipe(Pn(1),r(e,i),fe(o=>"boolean"==typeof o?o:Array.isArray(o)?this.router.createUrlTree(o):this.router.parseUrl(o)))};static \u0275fac=function(i){return new(i||n)(X(Qr),X(sb))};static \u0275prov=Ae({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();const zO=n=>({canActivate:[eCe],data:{authGuardPipe:n}});function qm(n){return n+.5|0}const Bl=(n,t,e)=>Math.max(Math.min(n,e),t);function db(n){return Bl(qm(2.55*n),0,255)}function nd(n){return Bl(qm(255*n),0,255)}function Ul(n){return Bl(qm(n/2.55)/100,0,1)}function Rq(n){return Bl(qm(100*n),0,100)}const Ns={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},jO=[..."0123456789ABCDEF"],rCe=n=>jO[15&n],oCe=n=>jO[(240&n)>>4]+jO[15&n],bI=n=>(240&n)>>4==(15&n);const dCe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Pq(n,t,e){const i=t*Math.min(e,1-e),r=(o,s=(o+n/30)%12)=>e-i*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function uCe(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function hCe(n,t,e){const i=Pq(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function HO(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),s=Math.min(e,i,r),a=(o+s)/2;let l,c,d;return o!==s&&(d=o-s,c=a>.5?d/(2-o-s):d/(o+s),l=function fCe(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}(e,i,r,d,o),l=60*l+.5),[0|l,c||0,a]}function $O(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(nd)}function WO(n,t,e){return $O(Pq,n,t,e)}function Oq(n){return(n%360+360)%360}const Nq={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Fq={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let yI;const wCe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,GO=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,Km=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function wI(n,t,e){if(n){let i=HO(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,0===t?360:1)),i=WO(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Lq(n,t){return n&&Object.assign(t||{},n)}function Vq(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=nd(n[3]))):(t=Lq(n,{r:0,g:0,b:0,a:1})).a=nd(t.a),t}function CCe(n){return"r"===n.charAt(0)?function xCe(n){const t=wCe.exec(n);let i,r,o,e=255;if(t){if(t[7]!==i){const s=+t[7];e=t[8]?db(s):Bl(255*s,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?db(i):Bl(i,0,255)),r=255&(t[4]?db(r):Bl(r,0,255)),o=255&(t[6]?db(o):Bl(o,0,255)),{r:i,g:r,b:o,a:e}}}(n):function gCe(n){const t=dCe.exec(n);let i,e=255;if(!t)return;t[5]!==i&&(e=t[6]?db(+t[5]):nd(+t[5]));const r=Oq(+t[2]),o=+t[3]/100,s=+t[4]/100;return i="hwb"===t[1]?function mCe(n,t,e){return $O(hCe,n,t,e)}(r,o,s):"hsv"===t[1]?function pCe(n,t,e){return $O(uCe,n,t,e)}(r,o,s):WO(r,o,s),{r:i[0],g:i[1],b:i[2],a:e}}(n)}class Ym{constructor(t){if(t instanceof Ym)return t;const e=typeof t;let i;"object"===e?i=Vq(t):"string"===e&&(i=function aCe(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*Ns[n[1]],g:255&17*Ns[n[2]],b:255&17*Ns[n[3]],a:5===t?17*Ns[n[4]]:255}:(7===t||9===t)&&(e={r:Ns[n[1]]<<4|Ns[n[2]],g:Ns[n[3]]<<4|Ns[n[4]],b:Ns[n[5]]<<4|Ns[n[6]],a:9===t?Ns[n[7]]<<4|Ns[n[8]]:255})),e}(t)||function yCe(n){yI||(yI=function bCe(){const n={},t=Object.keys(Fq),e=Object.keys(Nq);let i,r,o,s,a;for(i=0;i<t.length;i++){for(s=a=t[i],r=0;r<e.length;r++)o=e[r],a=a.replace(o,Nq[o]);o=parseInt(Fq[s],16),n[a]=[o>>16&255,o>>8&255,255&o]}return n}(),yI.transparent=[0,0,0,0]);const t=yI[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||CCe(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Lq(this._rgb);return t&&(t.a=Ul(t.a)),t}set rgb(t){this._rgb=Vq(t)}rgbString(){return this._valid?function ECe(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ul(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function cCe(n){var t=(n=>bI(n.r)&&bI(n.g)&&bI(n.b)&&bI(n.a))(n)?rCe:oCe;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function vCe(n){if(!n)return;const t=HO(n),e=t[0],i=Rq(t[1]),r=Rq(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Ul(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const s=e===o?.5:e,a=2*s-1,l=i.a-r.a,c=((a*l==-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,i.r=255&c*i.r+o*r.r+.5,i.g=255&c*i.g+o*r.g+.5,i.b=255&c*i.b+o*r.b+.5,i.a=s*i.a+(1-s)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function ICe(n,t,e){const i=Km(Ul(n.r)),r=Km(Ul(n.g)),o=Km(Ul(n.b));return{r:nd(GO(i+e*(Km(Ul(t.r))-i))),g:nd(GO(r+e*(Km(Ul(t.g))-r))),b:nd(GO(o+e*(Km(Ul(t.b))-o))),a:n.a+e*(t.a-n.a)}}(this._rgb,t._rgb,e)),this}clone(){return new Ym(this.rgb)}alpha(t){return this._rgb.a=nd(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=qm(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return wI(this._rgb,2,t),this}darken(t){return wI(this._rgb,2,-t),this}saturate(t){return wI(this._rgb,1,t),this}desaturate(t){return wI(this._rgb,1,-t),this}rotate(t){return function _Ce(n,t){var e=HO(n);e[0]=Oq(e[0]+t),e=WO(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function zl(){}const ACe=(()=>{let n=0;return()=>n++})();function mn(n){return null==n}function gi(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function an(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function Vi(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function cs(n,t){return Vi(n)?n:t}function Ft(n,t){return typeof n>"u"?t:n}const Bq=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ni(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function Sn(n,t,e,i){let r,o,s;if(gi(n))if(o=n.length,i)for(r=o-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<o;r++)t.call(e,n[r],r);else if(an(n))for(s=Object.keys(n),o=s.length,r=0;r<o;r++)t.call(e,n[s[r]],s[r])}function xI(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function EI(n){if(gi(n))return n.map(EI);if(an(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=EI(n[e[r]]);return t}return n}function Uq(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function SCe(n,t,e,i){if(!Uq(n))return;const r=t[n],o=e[n];an(r)&&an(o)?ub(r,o,i):t[n]=EI(o)}function ub(n,t,e){const i=gi(t)?t:[t],r=i.length;if(!an(n))return n;const o=(e=e||{}).merger||SCe;let s;for(let a=0;a<r;++a){if(s=i[a],!an(s))continue;const l=Object.keys(s);for(let c=0,d=l.length;c<d;++c)o(l[c],n,s,e)}return n}function hb(n,t){return ub(n,t,{merger:DCe})}function DCe(n,t,e){if(!Uq(n))return;const i=t[n],r=e[n];an(i)&&an(r)?hb(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=EI(r))}const zq={"":n=>n,x:n=>n.x,y:n=>n.y};function id(n,t){return(zq[t]||(zq[t]=function MCe(n){const t=function kCe(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}(n);return e=>{for(const i of t){if(""===i)break;e=e&&e[i]}return e}}(t)))(n)}function qO(n){return n.charAt(0).toUpperCase()+n.slice(1)}const fb=n=>typeof n<"u",rd=n=>"function"==typeof n,jq=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},_i=Math.PI,vi=2*_i,PCe=vi+_i,II=Number.POSITIVE_INFINITY,OCe=_i/180,Xi=_i/2,Gu=_i/4,Hq=2*_i/3,od=Math.log10,Wa=Math.sign;function mb(n,t,e){return Math.abs(n-t)<e}function $q(n){const t=Math.round(n);n=mb(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(od(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Qm(n){return!isNaN(parseFloat(n))&&isFinite(n)}function Wq(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function oa(n){return n*(_i/180)}function KO(n){return n*(180/_i)}function Gq(n){if(!Vi(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function qq(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*_i&&(o+=vi),{angle:o,distance:r}}function YO(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function LCe(n,t){return(n-t+PCe)%vi-_i}function ds(n){return(n%vi+vi)%vi}function pb(n,t,e,i){const r=ds(n),o=ds(t),s=ds(e),a=ds(o-r),l=ds(s-r),c=ds(r-o),d=ds(r-s);return r===o||r===s||i&&o===s||a>l&&c<d}function Tr(n,t,e){return Math.max(t,Math.min(e,n))}function jl(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function QO(n,t,e){e=e||(s=>n[s]<t);let o,i=n.length-1,r=0;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Hl=(n,t,e,i)=>QO(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),BCe=(n,t,e)=>QO(n,e,i=>n[i][t]>=e),Kq=["push","pop","shift","splice","unshift"];function Yq(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),!(i.length>0)&&(Kq.forEach(o=>{delete n[o]}),delete n._chartjs)}function Qq(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const Xq=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function Zq(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,Xq.call(window,()=>{i=!1,n.apply(t,e)}))}}const XO=n=>"start"===n?"left":"end"===n?"right":"center",io=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function Jq(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:s,_parsed:a}=n,l=s.axis,{min:c,max:d,minDefined:h,maxDefined:p}=s.getUserBounds();h&&(r=Tr(Math.min(Hl(a,l,c).lo,e?i:Hl(t,l,s.getPixelForValue(c)).lo),0,i-1)),o=p?Tr(Math.max(Hl(a,s.axis,d,!0).hi+1,e?0:Hl(t,l,s.getPixelForValue(d),!0).hi+1),r,i)-r:i-r}return{start:r,count:o}}function e9(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const CI=n=>0===n||1===n,t9=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*vi/e),n9=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*vi/e)+1,gb={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*Xi),easeOutSine:n=>Math.sin(n*Xi),easeInOutSine:n=>-.5*(Math.cos(_i*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>CI(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>CI(n)?n:t9(n,.075,.3),easeOutElastic:n=>CI(n)?n:n9(n,.075,.3),easeInOutElastic:n=>CI(n)?n:n<.5?.5*t9(2*n,.1125,.45):.5+.5*n9(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-gb.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*gb.easeInBounce(2*n):.5*gb.easeOutBounce(2*n-1)+.5};function ZO(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function i9(n){return ZO(n)?n:new Ym(n)}function JO(n){return ZO(n)?n:new Ym(n).saturate(.5).darken(.1).hexString()}const $Ce=["x","y","borderWidth","radius","tension"],WCe=["color","borderColor","backgroundColor"],r9=new Map;function _b(n,t,e){return function KCe(n,t){t=t||{};const e=n+JSON.stringify(t);let i=r9.get(e);return i||(i=new Intl.NumberFormat(n,t),r9.set(e,i)),i}(t,e).format(n)}const o9={values:n=>gi(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),o=function YCe(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const s=od(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),_b(n,i,l)},logarithmic(n,t,e){if(0===n)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(od(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?o9.numeric.call(this,n,t,e):""}};var AI={formatters:o9};const qu=Object.create(null),eN=Object.create(null);function vb(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function tN(n,t,e){return"string"==typeof t?ub(vb(n,t),e):ub(vb(n,""),t)}class XCe{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>JO(r.backgroundColor),this.hoverBorderColor=(i,r)=>JO(r.borderColor),this.hoverColor=(i,r)=>JO(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return tN(this,t,e)}get(t){return vb(this,t)}describe(t,e){return tN(eN,t,e)}override(t,e){return tN(qu,t,e)}route(t,e,i,r){const o=vb(this,t),s=vb(this,i),a="_"+e;Object.defineProperties(o,{[a]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[a],c=s[r];return an(l)?Object.assign({},c,l):Ft(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(e=>e(this))}}var Ci=new XCe({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function GCe(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),n.set("animations",{colors:{type:"color",properties:WCe},numbers:{type:"number",properties:$Ce}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function qCe(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function QCe(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:AI.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function TI(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function JCe(n,t,e,i){let r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let s=0;const a=e.length;let l,c,d,h,p;for(l=0;l<a;l++)if(h=e[l],null==h||gi(h)){if(gi(h))for(c=0,d=h.length;c<d;c++)p=h[c],null!=p&&!gi(p)&&(s=TI(n,r,o,s,p))}else s=TI(n,r,o,s,h);n.restore();const v=o.length/2;if(v>e.length){for(l=0;l<v;l++)delete r[o[l]];o.splice(0,v)}return s}function Ku(n,t,e){const i=n.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function s9(n,t){!t&&!n||((t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function nN(n,t,e,i){a9(n,t,e,i,null)}function a9(n,t,e,i,r){let o,s,a,l,c,d,h,p;const v=t.pointStyle,b=t.rotation,w=t.radius;let E=(b||0)*OCe;if(v&&"object"==typeof v&&(o=v.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return n.save(),n.translate(e,i),n.rotate(E),n.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),void n.restore();if(!(isNaN(w)||w<=0)){switch(n.beginPath(),v){default:r?n.ellipse(e,i,r/2,w,0,0,vi):n.arc(e,i,w,0,vi),n.closePath();break;case"triangle":d=r?r/2:w,n.moveTo(e+Math.sin(E)*d,i-Math.cos(E)*w),E+=Hq,n.lineTo(e+Math.sin(E)*d,i-Math.cos(E)*w),E+=Hq,n.lineTo(e+Math.sin(E)*d,i-Math.cos(E)*w),n.closePath();break;case"rectRounded":c=.516*w,l=w-c,s=Math.cos(E+Gu)*l,h=Math.cos(E+Gu)*(r?r/2-c:l),a=Math.sin(E+Gu)*l,p=Math.sin(E+Gu)*(r?r/2-c:l),n.arc(e-h,i-a,c,E-_i,E-Xi),n.arc(e+p,i-s,c,E-Xi,E),n.arc(e+h,i+a,c,E,E+Xi),n.arc(e-p,i+s,c,E+Xi,E+_i),n.closePath();break;case"rect":if(!b){l=Math.SQRT1_2*w,d=r?r/2:l,n.rect(e-d,i-l,2*d,2*l);break}E+=Gu;case"rectRot":h=Math.cos(E)*(r?r/2:w),s=Math.cos(E)*w,a=Math.sin(E)*w,p=Math.sin(E)*(r?r/2:w),n.moveTo(e-h,i-a),n.lineTo(e+p,i-s),n.lineTo(e+h,i+a),n.lineTo(e-p,i+s),n.closePath();break;case"crossRot":E+=Gu;case"cross":h=Math.cos(E)*(r?r/2:w),s=Math.cos(E)*w,a=Math.sin(E)*w,p=Math.sin(E)*(r?r/2:w),n.moveTo(e-h,i-a),n.lineTo(e+h,i+a),n.moveTo(e+p,i-s),n.lineTo(e-p,i+s);break;case"star":h=Math.cos(E)*(r?r/2:w),s=Math.cos(E)*w,a=Math.sin(E)*w,p=Math.sin(E)*(r?r/2:w),n.moveTo(e-h,i-a),n.lineTo(e+h,i+a),n.moveTo(e+p,i-s),n.lineTo(e-p,i+s),E+=Gu,h=Math.cos(E)*(r?r/2:w),s=Math.cos(E)*w,a=Math.sin(E)*w,p=Math.sin(E)*(r?r/2:w),n.moveTo(e-h,i-a),n.lineTo(e+h,i+a),n.moveTo(e+p,i-s),n.lineTo(e-p,i+s);break;case"line":s=r?r/2:Math.cos(E)*w,a=Math.sin(E)*w,n.moveTo(e-s,i-a),n.lineTo(e+s,i+a);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(E)*(r?r/2:w),i+Math.sin(E)*w);break;case!1:n.closePath()}n.fill(),t.borderWidth>0&&n.stroke()}}function $l(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function SI(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function DI(n){n.restore()}function eAe(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if("middle"===r){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else"after"===r!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function tAe(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function iAe(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),s=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,c=e+o.actualBoundingBoxDescent,d=r.strikethrough?(e-o.actualBoundingBoxAscent+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(s,d),n.lineTo(a,d),n.stroke()}}function rAe(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Yu(n,t,e,i,r,o={}){const s=gi(t)?t:[t],a=o.strokeWidth>0&&""!==o.strokeColor;let l,c;for(n.save(),n.font=r.string,function nAe(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),mn(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,o),l=0;l<s.length;++l)c=s[l],o.backdrop&&rAe(n,o.backdrop),a&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),mn(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(c,e,i,o.maxWidth)),n.fillText(c,e,i,o.maxWidth),iAe(n,e,i,c,o),i+=Number(r.lineHeight);n.restore()}function bb(n,t){const{x:e,y:i,w:r,h:o,radius:s}=t;n.arc(e+s.topLeft,i+s.topLeft,s.topLeft,1.5*_i,_i,!0),n.lineTo(e,i+o-s.bottomLeft),n.arc(e+s.bottomLeft,i+o-s.bottomLeft,s.bottomLeft,_i,Xi,!0),n.lineTo(e+r-s.bottomRight,i+o),n.arc(e+r-s.bottomRight,i+o-s.bottomRight,s.bottomRight,Xi,0,!0),n.lineTo(e+r,i+s.topRight),n.arc(e+r-s.topRight,i+s.topRight,s.topRight,0,-Xi,!0),n.lineTo(e+s.topLeft,i)}const oAe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,sAe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function aAe(n,t){const e=(""+n).match(oAe);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const lAe=n=>+n||0;function iN(n,t){const e={},i=an(t),r=i?Object.keys(t):t,o=an(n)?i?s=>Ft(n[s],n[t[s]]):s=>n[s]:()=>n;for(const s of r)e[s]=lAe(o(s));return e}function l9(n){return iN(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Qu(n){return iN(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ro(n){const t=l9(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function mr(n,t){let e=Ft((n=n||{}).size,(t=t||Ci.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=Ft(n.style,t.style);i&&!(""+i).match(sAe)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ft(n.family,t.family),lineHeight:aAe(Ft(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ft(n.weight,t.weight),string:""};return r.string=function ZCe(n){return!n||mn(n.size)||mn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function yb(n,t,e,i){let o,s,a,r=!0;for(o=0,s=n.length;o<s;++o)if(a=n[o],void 0!==a&&(void 0!==t&&"function"==typeof a&&(a=a(t),r=!1),void 0!==e&&gi(a)&&(a=a[e%a.length],r=!1),void 0!==a))return i&&!r&&(i.cacheable=!1),a}function sd(n,t){return Object.assign(Object.create(n),t)}function rN(n,t=[""],e,i,r=(()=>n[0])){const o=e||n;typeof i>"u"&&(i=f9("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:a=>rN([a,...n],t,o,i)};return new Proxy(s,{deleteProperty:(a,l)=>(delete a[l],delete a._keys,delete n[0][l],!0),get:(a,l)=>d9(a,l,()=>function _Ae(n,t,e,i){let r;for(const o of t)if(r=f9(dAe(o,n),e),typeof r<"u")return oN(n,r)?sN(e,i,n,r):r}(l,t,n,a)),getOwnPropertyDescriptor:(a,l)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],l),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(a,l)=>m9(a).includes(l),ownKeys:a=>m9(a),set(a,l,c){const d=a._storage||(a._storage=r());return a[l]=d[l]=c,delete a._keys,!0}})}function Xm(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:c9(n,i),setContext:o=>Xm(n,o,e,i),override:o=>Xm(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty:(o,s)=>(delete o[s],delete n[s],!0),get:(o,s,a)=>d9(o,s,()=>function uAe(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:s}=n;let a=i[t];return rd(a)&&s.isScriptable(t)&&(a=function hAe(n,t,e,i){const{_proxy:r,_context:o,_subProxy:s,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=t(o,s||i);return a.delete(n),oN(n,l)&&(l=sN(r._scopes,r,n,l)),l}(t,a,n,e)),gi(a)&&a.length&&(a=function fAe(n,t,e,i){const{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(an(t[0])){const l=t,c=r._scopes.filter(d=>d!==l);t=[];for(const d of l){const h=sN(c,r,n,d);t.push(Xm(h,o,s&&s[n],a))}}return t}(t,a,n,s.isIndexable)),oN(t,a)&&(a=Xm(a,r,o&&o[t],s)),a}(o,s,a)),getOwnPropertyDescriptor:(o,s)=>o._descriptors.allKeys?Reflect.has(n,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,s),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(o,s)=>Reflect.has(n,s),ownKeys:()=>Reflect.ownKeys(n),set:(o,s,a)=>(n[s]=a,delete o[s],!0)})}function c9(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:rd(e)?e:()=>e,isIndexable:rd(i)?i:()=>i}}const dAe=(n,t)=>n?n+qO(t):t,oN=(n,t)=>an(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function d9(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||"constructor"===t)return n[t];const i=e();return n[t]=i,i}function u9(n,t,e){return rd(n)?n(t,e):n}const mAe=(n,t)=>!0===n?t:"string"==typeof n?id(t,n):void 0;function pAe(n,t,e,i,r){for(const o of t){const s=mAe(e,o);if(s){n.add(s);const a=u9(s._fallback,e,r);if(typeof a<"u"&&a!==e&&a!==i)return a}else if(!1===s&&typeof i<"u"&&e!==i)return null}return!1}function sN(n,t,e,i){const r=t._rootScopes,o=u9(t._fallback,e,i),s=[...n,...r],a=new Set;a.add(i);let l=h9(a,s,e,o||e,i);return!(null===l||typeof o<"u"&&o!==e&&(l=h9(a,s,o,l,i),null===l))&&rN(Array.from(a),[""],r,o,()=>function gAe(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return gi(r)&&an(e)?e:r||{}}(t,e,i))}function h9(n,t,e,i,r){for(;e;)e=pAe(n,t,e,i,r);return e}function f9(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function m9(n){let t=n._keys;return t||(t=n._keys=function vAe(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}(n._scopes)),t}function p9(n,t,e,i){const{iScale:r}=n,{key:o="r"}=this._parsing,s=new Array(i);let a,l,c,d;for(a=0,l=i;a<l;++a)c=a+e,d=t[c],s[a]={r:r.parse(id(d,o),c)};return s}const bAe=Number.EPSILON||1e-14,Zm=(n,t)=>t<n.length&&!n[t].skip&&n[t],g9=n=>"x"===n?"y":"x";function yAe(n,t,e,i){const r=n.skip?t:n,o=t,s=e.skip?t:e,a=YO(o,r),l=YO(s,o);let c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const h=i*c,p=i*d;return{previous:{x:o.x-h*(s.x-r.x),y:o.y-h*(s.y-r.y)},next:{x:o.x+p*(s.x-r.x),y:o.y+p*(s.y-r.y)}}}function kI(n,t,e){return Math.max(Math.min(n,e),t)}function CAe(n,t,e,i,r){let o,s,a,l;if(t.spanGaps&&(n=n.filter(c=>!c.skip)),"monotone"===t.cubicInterpolationMode)!function EAe(n,t="x"){const e=g9(t),i=n.length,r=Array(i).fill(0),o=Array(i);let s,a,l,c=Zm(n,0);for(s=0;s<i;++s)if(a=l,l=c,c=Zm(n,s+1),l){if(c){const d=c[t]-l[t];r[s]=0!==d?(c[e]-l[e])/d:0}o[s]=a?c?Wa(r[s-1])!==Wa(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}(function wAe(n,t,e){const i=n.length;let r,o,s,a,l,c=Zm(n,0);for(let d=0;d<i-1;++d)if(l=c,c=Zm(n,d+1),l&&c){if(mb(t[d],0,bAe)){e[d]=e[d+1]=0;continue}r=e[d]/t[d],o=e[d+1]/t[d],a=Math.pow(r,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),e[d]=r*s*t[d],e[d+1]=o*s*t[d])}})(n,r,o),function xAe(n,t,e="x"){const i=g9(e),r=n.length;let o,s,a,l=Zm(n,0);for(let c=0;c<r;++c){if(s=a,a=l,l=Zm(n,c+1),!a)continue;const d=a[e],h=a[i];s&&(o=(d-s[e])/3,a[`cp1${e}`]=d-o,a[`cp1${i}`]=h-o*t[c]),l&&(o=(l[e]-d)/3,a[`cp2${e}`]=d+o,a[`cp2${i}`]=h+o*t[c])}}(n,o,t)}(n,r);else{let c=i?n[n.length-1]:n[0];for(o=0,s=n.length;o<s;++o)a=n[o],l=yAe(c,a,n[Math.min(o+1,s-(i?0:1))%s],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&function IAe(n,t){let e,i,r,o,s,a=$l(n[0],t);for(e=0,i=n.length;e<i;++e)s=o,o=a,a=e<i-1&&$l(n[e+1],t),o&&(r=n[e],s&&(r.cp1x=kI(r.cp1x,t.left,t.right),r.cp1y=kI(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=kI(r.cp2x,t.left,t.right),r.cp2y=kI(r.cp2y,t.top,t.bottom)))}(n,e)}function aN(){return typeof window<"u"&&typeof document<"u"}function lN(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function MI(n,t,e){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*t.parentNode[e])):i=n,i}const RI=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),TAe=["top","right","bottom","left"];function Xu(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=TAe[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const SAe=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function Zu(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=RI(e),o="border-box"===r.boxSizing,s=Xu(r,"padding"),a=Xu(r,"border","width"),{x:l,y:c,box:d}=function DAe(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let a,l,s=!1;if(SAe(r,o,n.target))a=r,l=o;else{const c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,s=!0}return{x:a,y:l,box:s}}(n,e),h=s.left+(d&&a.left),p=s.top+(d&&a.top);let{width:v,height:b}=t;return o&&(v-=s.width+a.width,b-=s.height+a.height),{x:Math.round((l-h)/v*e.width/i),y:Math.round((c-p)/b*e.height/i)}}const PI=n=>Math.round(10*n)/10;function _9(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const s=n.canvas;return s.style&&(e||!s.style.height&&!s.style.width)&&(s.style.height=`${n.height}px`,s.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||s.height!==r||s.width!==o)&&(n.currentDevicePixelRatio=i,s.height=r,s.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0)}const RAe=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};aN()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function v9(n,t){const e=function AAe(n,t){return RI(n).getPropertyValue(t)}(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ju(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function PAe(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:"middle"===i?e<.5?n.y:t.y:"after"===i?e<1?n.y:t.y:e>0?t.y:n.y}}function OAe(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},s=Ju(n,r,e),a=Ju(r,o,e),l=Ju(o,t,e),c=Ju(s,a,e),d=Ju(a,l,e);return Ju(c,d,e)}function Jm(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function b9(n,t){let e,i;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function y9(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function w9(n){return"angle"===n?{between:pb,compare:LCe,normalize:ds}:{between:jl,compare:(t,e)=>t-e,normalize:t=>t}}function x9({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:r}}function E9(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,s=t.length,{compare:a,between:l,normalize:c}=w9(i),{start:d,end:h,loop:p,style:v}=function LAe(n,t,e){const{property:i,start:r,end:o}=e,{between:s,normalize:a}=w9(i),l=t.length;let p,v,{start:c,end:d,loop:h}=n;if(h){for(c+=l,d+=l,p=0,v=l;p<v&&s(a(t[c%l][i]),r,o);++p)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:h,style:n.style}}(n,t,e),b=[];let M,S,V,w=!1,E=null;for(let k=d,F=d;k<=h;++k)S=t[k%s],!S.skip&&(M=c(S[i]),M!==V&&(w=l(M,r,o),null===E&&(w||l(r,V,M)&&0!==a(r,V))&&(E=0===a(M,r)?k:F),null!==E&&(!w||0===a(o,M)||l(o,V,M))&&(b.push(x9({start:E,end:k,loop:p,count:s,style:v})),E=null),F=k,V=M));return null!==E&&b.push(x9({start:E,end:h,loop:p,count:s,style:v})),b}function I9(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=E9(i[r],n.points,t);o.length&&e.push(...o)}return e}function A9(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function jAe(n,t){if(!t)return!1;const e=[],i=function(r,o){return ZO(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}class HAe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const s=e.duration;e.listeners[r].forEach(a=>a({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(i-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=Xq.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let l,s=o.length-1,a=!1;for(;s>=0;--s)l=o[s],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(o[s]=o[o.length-1],o.pop());a&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Wl=new HAe;const T9="transparent",$Ae={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const i=i9(n||T9),r=i.valid&&i9(t||T9);return r&&r.valid?r.mix(i,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class WAe{constructor(t,e,i,r){const o=e[i];r=yb([t.to,r,o,t.from]);const s=yb([t.from,o,r]);this._active=!0,this._fn=t.fn||$Ae[t.type||typeof s],this._easing=gb[t.easing]||gb.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,s=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=yb([t.to,e,r,t.from]),this._from=yb([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,s=this._loop,a=this._to;let l;if(this._active=o!==a&&(s||e<i),!this._active)return this._target[r]=a,void this._notify(!0);e<0?this._target[r]=o:(l=e/i%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(o,a,l))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class S9{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!an(t))return;const e=Object.keys(Ci.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!an(o))return;const s={};for(const a of e)s[a]=o[a];(gi(o.properties)&&o.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,s)})})}_animateOptions(t,e){const i=e.options,r=function qAe(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&function GAe(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),s=Object.keys(e),a=Date.now();let l;for(l=s.length-1;l>=0;--l){const c=s[l];if("$"===c.charAt(0))continue;if("options"===c){r.push(...this._animateOptions(t,e));continue}const d=e[c];let h=o[c];const p=i.get(c);if(h){if(p&&h.active()){h.update(p,d,a);continue}h.cancel()}p&&p.duration?(o[c]=h=new WAe(p,t,c,d),r.push(h)):t[c]=d}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(Wl.add(this._chart,i),!0):void 0}}function D9(n,t){const e=n&&n.options||{},i=e.reverse,r=void 0===e.min?t:0,o=void 0===e.max?t:0;return{start:i?o:r,end:i?r:o}}function k9(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function M9(n,t,e,i={}){const r=n.keys,o="single"===i.mode;let s,a,l,c;if(null===t)return;let d=!1;for(s=0,a=r.length;s<a;++s){if(l=+r[s],l===e){if(d=!0,i.all)continue;break}c=n.values[l],Vi(c)&&(o||0===t||Wa(t)===Wa(c))&&(t+=c)}return d||i.all?t:0}function cN(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function JAe(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function R9(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function P9(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:s,index:a}=i,l=o.axis,c=s.axis,d=function XAe(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(o,s,i),h=t.length;let p;for(let v=0;v<h;++v){const b=t[v],{[l]:w,[c]:E}=b;p=(b._stacks||(b._stacks={}))[c]=JAe(r,d,w),p[a]=E,p._top=R9(p,s,!0,i.type),p._bottom=R9(p,s,!1,i.type),(p._visualValues||(p._visualValues={}))[a]=E}}function dN(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function wb(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||void 0===o[i]||void 0===o[i][e])return;delete o[i][e],void 0!==o[i]._visualValues&&void 0!==o[i]._visualValues[e]&&delete o[i]._visualValues[e]}}}const uN=n=>"reset"===n||"none"===n,O9=(n,t)=>t?n:Object.assign({},n);let ad=(()=>class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=cN(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&wb(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,r=this.getDataset(),o=(p,v,b,w)=>"x"===p?v:"r"===p?w:b,s=i.xAxisID=Ft(r.xAxisID,dN(e,"x")),a=i.yAxisID=Ft(r.yAxisID,dN(e,"y")),l=i.rAxisID=Ft(r.rAxisID,dN(e,"r")),c=i.indexAxis,d=i.iAxisID=o(c,s,a,l),h=i.vAxisID=o(c,a,s,l);i.xScale=this.getScaleForId(s),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(d),i.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Yq(this._data,this),e._stacked&&wb(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),r=this._data;if(an(i))this._data=function QAe(n,t){const{iScale:e,vScale:i}=t,r="x"===e.axis?"x":"y",o="x"===i.axis?"x":"y",s=Object.keys(n),a=new Array(s.length);let l,c,d;for(l=0,c=s.length;l<c;++l)d=s[l],a[l]={[r]:d,[o]:n[d]};return a}(i,this._cachedMeta);else if(r!==i){if(r){Yq(r,this);const o=this._cachedMeta;wb(o),o._parsed=[]}i&&Object.isExtensible(i)&&function zCe(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Kq.forEach(e=>{const i="_onData"+qO(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const s=r.apply(this,o);return n._chartjs.listeners.forEach(a=>{"function"==typeof a[i]&&a[i](...o)}),s}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const s=i._stacked;i._stacked=cN(i.vScale,i),i.stack!==r.stack&&(o=!0,wb(i),i.stack=r.stack),this._resyncElements(e),(o||s!==i._stacked)&&(P9(this,i._parsed),i._stacked=cN(i.vScale,i))}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:r,_data:o}=this,{iScale:s,_stacked:a}=r,l=s.axis;let h,p,v,c=0===e&&i===o.length||r._sorted,d=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=o,r._sorted=!0,v=o;else{v=gi(o[e])?this.parseArrayData(r,o,e,i):an(o[e])?this.parseObjectData(r,o,e,i):this.parsePrimitiveData(r,o,e,i);const b=()=>null===p[l]||d&&p[l]<d[l];for(h=0;h<i;++h)r._parsed[h+e]=p=v[h],c&&(b()&&(c=!1),d=p);r._sorted=c}a&&P9(this,v)}parsePrimitiveData(e,i,r,o){const{iScale:s,vScale:a}=e,l=s.axis,c=a.axis,d=s.getLabels(),h=s===a,p=new Array(o);let v,b,w;for(v=0,b=o;v<b;++v)w=v+r,p[v]={[l]:h||s.parse(d[w],w),[c]:a.parse(i[w],w)};return p}parseArrayData(e,i,r,o){const{xScale:s,yScale:a}=e,l=new Array(o);let c,d,h,p;for(c=0,d=o;c<d;++c)h=c+r,p=i[h],l[c]={x:s.parse(p[0],h),y:a.parse(p[1],h)};return l}parseObjectData(e,i,r,o){const{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(o);let h,p,v,b;for(h=0,p=o;h<p;++h)v=h+r,b=i[v],d[h]={x:s.parse(id(b,l),v),y:a.parse(id(b,c),v)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,r){const s=this._cachedMeta,a=i[e.axis];return M9({keys:k9(this.chart,!0),values:i._stacks[e.axis]._visualValues},a,s.index,{mode:r})}updateRangeFromParsed(e,i,r,o){const s=r[i.axis];let a=null===s?NaN:s;const l=o&&r._stacks[i.axis];o&&l&&(o.values=l,a=M9(o,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,i){const r=this._cachedMeta,o=r._parsed,s=r._sorted&&e===r.iScale,a=o.length,l=this._getOtherScale(e),c=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:k9(this.chart,!0),values:null})(i,r),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:p}=function ZAe(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(l);let v,b;function w(){b=o[v];const E=b[l.axis];return!Vi(b[e.axis])||h>E||p<E}for(v=0;v<a&&(w()||(this.updateRangeFromParsed(d,e,b,c),!s));++v);if(s)for(v=a-1;v>=0;--v)if(!w()){this.updateRangeFromParsed(d,e,b,c);break}return d}getAllParsedValues(e){const i=this._cachedMeta._parsed,r=[];let o,s,a;for(o=0,s=i.length;o<s;++o)a=i[o][e.axis],Vi(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,r=i.iScale,o=i.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=function YAe(n){let t,e,i,r;return an(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:!1===n}}(Ft(this.options.clip,function KAe(n,t,e){if(!1===e)return!1;const i=D9(n,e),r=D9(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this._cachedMeta,o=r.data||[],s=this.chart.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||o.length-l,d=this.options.drawActiveElementsOnTop;let h;for(r.dataset&&r.dataset.draw(e,s,l,c),h=l;h<l+c;++h){const p=o[h];p.hidden||(p.active&&d?a.push(p):p.draw(e,s))}for(h=0;h<a.length;++h)a[h].draw(e,s)}getStyle(e,i){const r=i?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,i,r){const o=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=function tTe(n,t,e){return sd(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=o.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function eTe(n,t){return sd(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!i,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",r){const o="active"===i,s=this._cachedDataOpts,a=e+"-"+i,l=s[a],c=this.enableOptionSharing&&fb(r);if(l)return O9(l,c);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),p=o?[`${e}Hover`,"hover",e,""]:[e,""],v=d.getOptionScopes(this.getDataset(),h),b=Object.keys(Ci.elements[e]),E=d.resolveNamedOptions(v,b,()=>this.getContext(r,o,i),p);return E.$shared&&(E.$shared=c,s[a]=Object.freeze(O9(E,c))),E}_resolveAnimations(e,i,r){const o=this.chart,s=this._cachedDataOpts,a=`animation-${i}`,l=s[a];if(l)return l;let c;if(!1!==o.options.animation){const h=this.chart.config,p=h.datasetAnimationScopeKeys(this._type,i),v=h.getOptionScopes(this.getDataset(),p);c=h.createResolver(v,this.getContext(e,r,i))}const d=new S9(o,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||uN(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){const r=this.resolveDataElementOptions(e,i),o=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(i,s)||s!==o;return this.updateSharedOptions(s,i,r),{sharedOptions:s,includeOptions:a}}updateElement(e,i,r,o){uN(o)?Object.assign(e,r):this._resolveAnimations(i,o).update(e,r)}updateSharedOptions(e,i,r){e&&!uN(i)&&this._resolveAnimations(void 0,i).update(e,r)}_setStyle(e,i,r,o){e.active=o;const s=this.getStyle(i,o);this._resolveAnimations(i,r,o).update(e,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(e,i,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,i,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,r=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const o=r.length,s=i.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,e):s<o&&this._removeElements(s,o-s)}_insertElements(e,i,r=!0){const o=this._cachedMeta,s=o.data,a=e+i;let l;const c=d=>{for(d.length+=i,l=d.length-1;l>=a;l--)d[l]=d[l-i]};for(c(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&c(o._parsed),this.parse(e,i),r&&this.updateElements(s,e,i,"reset")}updateElements(e,i,r,o){}_removeElements(e,i){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(e,i);r._stacked&&wb(r,o)}r.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,r,o]=e;this[i](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function rTe(n){const t=n.iScale,e=function iTe(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=Qq(i.sort((r,o)=>r-o))}return n._cache.$bar}(t,n.type);let r,o,s,a,i=t._length;const l=()=>{32767===s||-32768===s||(fb(a)&&(i=Math.min(i,Math.abs(s-a)||i)),a=s)};for(r=0,o=e.length;r<o;++r)s=t.getPixelForValue(e[r]),l();for(a=void 0,r=0,o=t.ticks.length;r<o;++r)s=t.getPixelForTick(r),l();return i}function N9(n,t,e,i){return gi(n)?function aTe(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),s=Math.min(r,o),a=Math.max(r,o);let l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:o,min:s,max:a}}(n,t,e,i):t[e.axis]=e.parse(n,i),t}function F9(n,t,e,i){const r=n.iScale,o=n.vScale,s=r.getLabels(),a=r===o,l=[];let c,d,h,p;for(c=e,d=e+i;c<d;++c)p=t[c],h={},h[r.axis]=a||r.parse(s[c],c),l.push(N9(p,h,o,c));return l}function hN(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function dTe(n,t,e,i){let r=t.borderSkipped;const o={};if(!r)return void(n.borderSkipped=o);if(!0===r)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:a,reverse:l,top:c,bottom:d}=function cTe(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}(n);"middle"===r&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=c:(e._bottom||0)===i?r=d:(o[L9(d,s,a,l)]=!0,r=c)),o[L9(r,s,a,l)]=!0,n.borderSkipped=o}function L9(n,t,e,i){return i?(n=function uTe(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=V9(n,e,t)):n=V9(n,t,e),n}function V9(n,t,e){return"start"===n?t:"end"===n?e:n}function hTe(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}let fTe=(()=>class n extends ad{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,i,r,o){return F9(e,i,r,o)}parseArrayData(e,i,r,o){return F9(e,i,r,o)}parseObjectData(e,i,r,o){const{iScale:s,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d="x"===s.axis?l:c,h="x"===a.axis?l:c,p=[];let v,b,w,E;for(v=r,b=r+o;v<b;++v)E=i[v],w={},w[s.axis]=s.parse(id(E,d),v),p.push(N9(id(E,h),w,a,v));return p}updateRangeFromParsed(e,i,r,o){super.updateRangeFromParsed(e,i,r,o);const s=r._custom;s&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const i=this._cachedMeta,{iScale:r,vScale:o}=i,s=this.getParsed(e),a=s._custom,l=hN(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,r,o){const s="reset"===o,{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),h=this._getRuler(),{sharedOptions:p,includeOptions:v}=this._getSharedOptions(i,o);for(let b=i;b<i+r;b++){const w=this.getParsed(b),E=s||mn(w[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(b),M=this._calculateBarIndexPixels(b,h),S=(w._stacks||{})[l.axis],V={horizontal:d,base:E.base,enableBorderRadius:!S||hN(w._custom)||a===S._top||a===S._bottom,x:d?E.head:M.center,y:d?M.center:E.head,height:d?M.size:Math.abs(E.size),width:d?Math.abs(E.size):M.size};v&&(V.options=p||this.resolveDataElementOptions(b,e[b].active?"active":o));const $=V.options||e[b].options;dTe(V,$,S,a),hTe(V,$,h.ratio),this.updateElement(e[b],b,V,o)}}_getStacks(e,i){const{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=r.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(i),c=l&&l[r.axis],d=h=>{const p=h._parsed.find(b=>b[r.axis]===c),v=p&&p[h.vScale.axis];if(mn(v)||isNaN(v))return!0};for(const h of o)if((void 0===i||!d(h))&&((!1===s||-1===a.indexOf(h.stack)||void 0===s&&void 0===h.stack)&&a.push(h.stack),h.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,r){const o=this._getStacks(e,r),s=void 0!==i?o.indexOf(i):-1;return-1===s?o.length-1:s}_getRuler(){const e=this.options,i=this._cachedMeta,r=i.iScale,o=[];let s,a;for(s=0,a=i.data.length;s<a;++s)o.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const l=e.barThickness;return{min:l||rTe(i),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:i,_stacked:r,index:o},options:{base:s,minBarLength:a}}=this,l=s||0,c=this.getParsed(e),d=c._custom,h=hN(d);let w,E,p=c[i.axis],v=0,b=r?this.applyStack(i,c,r):p;b!==p&&(v=b-p,b=p),h&&(p=d.barStart,b=d.barEnd-d.barStart,0!==p&&Wa(p)!==Wa(d.barEnd)&&(v=0),v+=p);const M=mn(s)||h?v:s;let S=i.getPixelForValue(M);if(w=this.chart.getDataVisibility(e)?i.getPixelForValue(v+b):S,E=w-S,Math.abs(E)<a){E=function lTe(n,t,e){return 0!==n?Wa(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(E,i,l)*a,p===l&&(S-=E/2);const V=i.getPixelForDecimal(0),$=i.getPixelForDecimal(1),Q=Math.min(V,$),ee=Math.max(V,$);S=Math.max(Math.min(S,ee),Q),w=S+E,r&&!h&&(c._stacks[i.axis]._visualValues[o]=i.getValueForPixel(w)-i.getValueForPixel(S))}if(S===i.getPixelForValue(l)){const V=Wa(E)*i.getLineWidthForValue(l)/2;S+=V,E-=V}return{size:E,base:S,head:w,center:w+E/2}}_calculateBarIndexPixels(e,i){const r=i.scale,o=this.options,s=o.skipNull,a=Ft(o.maxBarThickness,1/0);let l,c;if(i.grouped){const d=s?this._getStackCount(e):i.stackCount,h="flex"===o.barThickness?function sTe(n,t,e,i){const r=t.pixels,o=r[n];let s=n>0?r[n-1]:null,a=n<r.length-1?r[n+1]:null;const l=e.categoryPercentage;null===s&&(s=o-(null===a?t.end-t.start:a-o)),null===a&&(a=o+o-s);const c=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/i,ratio:e.barPercentage,start:c}}(e,i,o,d):function oTe(n,t,e,i){const r=e.barThickness;let o,s;return mn(r)?(o=t.min*e.categoryPercentage,s=e.barPercentage):(o=r*i,s=1),{chunk:o/i,ratio:s,start:t.pixels[n]-o/2}}(e,i,o,d),p=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);l=h.start+h.chunk*p+h.chunk/2,c=Math.min(a,h.chunk*h.ratio)}else l=r.getPixelForValue(this.getParsed(e)[r.axis],e),c=Math.min(a,i.min*i.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,i=e.vScale,r=e.data,o=r.length;let s=0;for(;s<o;++s)null!==this.getParsed(s)[i.axis]&&!r[s].hidden&&r[s].draw(this._ctx)}})(),mTe=(()=>class n extends ad{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,r,o){const s=super.parsePrimitiveData(e,i,r,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(e,i,r,o){const s=super.parseArrayData(e,i,r,o);for(let a=0;a<s.length;a++)s[a]._custom=Ft(i[r+a][2],this.resolveDataElementOptions(a+r).radius);return s}parseObjectData(e,i,r,o){const s=super.parseObjectData(e,i,r,o);for(let a=0;a<s.length;a++){const l=i[r+a];s[a]._custom=Ft(l&&l.r&&+l.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let i=0;for(let r=e.length-1;r>=0;--r)i=Math.max(i,e[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(e){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=i,a=this.getParsed(e),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y),d=a._custom;return{label:r[e]||"",value:"("+l+", "+c+(d?", "+d:"")+")"}}update(e){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,r,o){const s="reset"===o,{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(i,o),h=a.axis,p=l.axis;for(let v=i;v<i+r;v++){const b=e[v],w=!s&&this.getParsed(v),E={},M=E[h]=s?a.getPixelForDecimal(.5):a.getPixelForValue(w[h]),S=E[p]=s?l.getBasePixel():l.getPixelForValue(w[p]);E.skip=isNaN(M)||isNaN(S),d&&(E.options=c||this.resolveDataElementOptions(v,b.active?"active":o),s&&(E.options.radius=0)),this.updateElement(b,v,E,o)}}resolveDataElementOptions(e,i){const r=this.getParsed(e);let o=super.resolveDataElementOptions(e,i);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const s=o.radius;return"active"!==i&&(o.radius=0),o.radius+=Ft(r&&r._custom,s),o}})(),fN=(()=>class n extends ad{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const i=e.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:r,color:o}}=e.legend.options;return i.labels.map((s,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const r=this.getDataset().data,o=this._cachedMeta;if(!1===this._parsing)o._parsed=r;else{let a,l,s=c=>+r[c];if(an(r[e])){const{key:c="value"}=this._parsing;s=d=>+id(r[d],c)}for(a=e,l=e+i;a<l;++a)o._parsed[a]=s(a)}}_getRotation(){return oa(this.options.rotation-90)}_getCircumference(){return oa(this.options.circumference)}_getRotationExtents(){let e=vi,i=-vi;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const o=this.chart.getDatasetMeta(r).controller,s=o._getRotation(),a=o._getCircumference();e=Math.min(e,s),i=Math.max(i,s+a)}return{rotation:e,circumference:i-e}}update(e){const i=this.chart,{chartArea:r}=i,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/t)(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:h,rotation:p}=this._getRotationExtents(),{ratioX:v,ratioY:b,offsetX:w,offsetY:E}=function pTe(n,t,e){let i=1,r=1,o=0,s=0;if(t<vi){const a=n,l=a+t,c=Math.cos(a),d=Math.sin(a),h=Math.cos(l),p=Math.sin(l),v=(V,$,Q)=>pb(V,a,l,!0)?1:Math.max($,$*e,Q,Q*e),b=(V,$,Q)=>pb(V,a,l,!0)?-1:Math.min($,$*e,Q,Q*e),w=v(0,c,h),E=v(Xi,d,p),M=b(_i,c,h),S=b(_i+Xi,d,p);i=(w-M)/2,r=(E-S)/2,o=-(w+M)/2,s=-(E+S)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:s}}(p,h,c),V=Math.max(Math.min((r.width-a)/v,(r.height-a)/b)/2,0),$=Bq(this.options.radius,V),ee=($-Math.max($*c,0))/this._getVisibleDatasetWeightTotal();this.offsetX=w*$,this.offsetY=E*$,o.total=this.calculateTotal(),this.outerRadius=$-ee*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ee*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,i){const r=this.options,o=this._cachedMeta,s=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===o._parsed[e]||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*s/vi)}updateElements(e,i,r,o){const s="reset"===o,a=this.chart,l=a.chartArea,h=(l.left+l.right)/2,p=(l.top+l.bottom)/2,v=s&&a.options.animation.animateScale,b=v?0:this.innerRadius,w=v?0:this.outerRadius,{sharedOptions:E,includeOptions:M}=this._getSharedOptions(i,o);let V,S=this._getRotation();for(V=0;V<i;++V)S+=this._circumference(V,s);for(V=i;V<i+r;++V){const $=this._circumference(V,s),Q=e[V],ee={x:h+this.offsetX,y:p+this.offsetY,startAngle:S,endAngle:S+$,circumference:$,outerRadius:w,innerRadius:b};M&&(ee.options=E||this.resolveDataElementOptions(V,Q.active?"active":o)),S+=$,this.updateElement(Q,V,ee,o)}}calculateTotal(){const e=this._cachedMeta,i=e.data;let o,r=0;for(o=0;o<i.length;o++){const s=e._parsed[o];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!i[o].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?vi*(Math.abs(e)/i):0}getLabelAndValue(e){const r=this.chart,o=r.data.labels||[],s=_b(this._cachedMeta._parsed[e],r.options.locale);return{label:o[e]||"",value:s}}getMaxBorderWidth(e){let i=0;const r=this.chart;let o,s,a,l,c;if(!e)for(o=0,s=r.data.datasets.length;o<s;++o)if(r.isDatasetVisible(o)){a=r.getDatasetMeta(o),e=a.data,l=a.controller;break}if(!e)return 0;for(o=0,s=e.length;o<s;++o)c=l.resolveDataElementOptions(o),"inner"!==c.borderAlign&&(i=Math.max(i,c.borderWidth||0,c.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let r=0,o=e.length;r<o;++r){const s=this.resolveDataElementOptions(r);i=Math.max(i,s.offset||0,s.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(e){return Math.max(Ft(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),gTe=(()=>class n extends ad{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:r,data:o=[],_dataset:s}=i,a=this.chart._animationsDisabled;let{start:l,count:c}=Jq(i,o,a);this._drawStart=l,this._drawCount=c,e9(i)&&(l=0,c=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=o;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},e),this.updateElements(o,l,c,e)}updateElements(e,i,r,o){const s="reset"===o,{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:p}=this._getSharedOptions(i,o),v=a.axis,b=l.axis,{spanGaps:w,segment:E}=this.options,M=Qm(w)?w:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||s||"none"===o,V=i+r,$=e.length;let Q=i>0&&this.getParsed(i-1);for(let ee=0;ee<$;++ee){const L=e[ee],k=S?L:{};if(ee<i||ee>=V){k.skip=!0;continue}const F=this.getParsed(ee),j=mn(F[b]),K=k[v]=a.getPixelForValue(F[v],ee),Z=k[b]=s||j?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,F,c):F[b],ee);k.skip=isNaN(K)||isNaN(Z)||j,k.stop=ee>0&&Math.abs(F[v]-Q[v])>M,E&&(k.parsed=F,k.raw=d.data[ee]),p&&(k.options=h||this.resolveDataElementOptions(ee,L.active?"active":o)),S||this.updateElement(L,ee,k,o),Q=F}}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,r=i.options&&i.options.borderWidth||0,o=e.data||[];if(!o.length)return r;const s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}})(),B9=(()=>class n extends ad{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const i=e.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:r,color:o}}=e.legend.options;return i.labels.map((s,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this.chart,o=r.data.labels||[],s=_b(this._cachedMeta._parsed[e].r,r.options.locale);return{label:o[e]||"",value:s}}parseObjectData(e,i,r,o){return p9.bind(this)(e,i,r,o)}update(e){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,o)=>{const s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<i.min&&(i.min=s),s>i.max&&(i.max=s))}),i}_updateRadius(){const e=this.chart,i=e.chartArea,r=e.options,o=Math.min(i.right-i.left,i.bottom-i.top),s=Math.max(o/2,0),l=(s-Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,i,r,o){const s="reset"===o,a=this.chart,c=a.options.animation,d=this._cachedMeta.rScale,h=d.xCenter,p=d.yCenter,v=d.getIndexAngle(0)-.5*_i;let w,b=v;const E=360/this.countVisibleElements();for(w=0;w<i;++w)b+=this._computeAngle(w,o,E);for(w=i;w<i+r;w++){const M=e[w];let S=b,V=b+this._computeAngle(w,o,E),$=a.getDataVisibility(w)?d.getDistanceFromCenterForValue(this.getParsed(w).r):0;b=V,s&&(c.animateScale&&($=0),c.animateRotate&&(S=V=v));const Q={x:h,y:p,innerRadius:0,outerRadius:$,startAngle:S,endAngle:V,options:this.resolveDataElementOptions(w,M.active?"active":o)};this.updateElement(M,w,Q,o)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&i++}),i}_computeAngle(e,i,r){return this.chart.getDataVisibility(e)?oa(this.resolveDataElementOptions(e,i).angle||r):0}})();var _Te=Object.freeze({__proto__:null,BarController:fTe,BubbleController:mTe,DoughnutController:fN,LineController:gTe,PieController:(()=>class n extends fN{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:B9,RadarController:(()=>class n extends ad{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const i=this._cachedMeta.vScale,r=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(e,i,r,o){return p9.bind(this)(e,i,r,o)}update(e){const i=this._cachedMeta,r=i.dataset,o=i.data||[],s=i.iScale.getLabels();if(r.points=o,"resize"!==e){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:s.length===o.length,options:a},e)}this.updateElements(o,0,o.length,e)}updateElements(e,i,r,o){const s=this._cachedMeta.rScale,a="reset"===o;for(let l=i;l<i+r;l++){const c=e[l],d=this.resolveDataElementOptions(l,c.active?"active":o),h=s.getPointPositionForValue(l,this.getParsed(l).r),p=a?s.xCenter:h.x,v=a?s.yCenter:h.y,b={x:p,y:v,angle:h.angle,skip:isNaN(p)||isNaN(v),options:d};this.updateElement(c,l,b,o)}}})(),ScatterController:(()=>class n extends ad{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=i,a=this.getParsed(e),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y);return{label:r[e]||"",value:"("+l+", "+c+")"}}update(e){const i=this._cachedMeta,{data:r=[]}=i,o=this.chart._animationsDisabled;let{start:s,count:a}=Jq(i,r,o);if(this._drawStart=s,this._drawCount=a,e9(i)&&(s=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=i;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=r;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!o,options:d},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,r,o){const s="reset"===o,{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,h=this.resolveDataElementOptions(i,o),p=this.getSharedOptions(h),v=this.includeOptions(o,p),b=a.axis,w=l.axis,{spanGaps:E,segment:M}=this.options,S=Qm(E)?E:Number.POSITIVE_INFINITY,V=this.chart._animationsDisabled||s||"none"===o;let $=i>0&&this.getParsed(i-1);for(let Q=i;Q<i+r;++Q){const ee=e[Q],L=this.getParsed(Q),k=V?ee:{},F=mn(L[w]),j=k[b]=a.getPixelForValue(L[b],Q),K=k[w]=s||F?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,L,c):L[w],Q);k.skip=isNaN(j)||isNaN(K)||F,k.stop=Q>0&&Math.abs(L[b]-$[b])>S,M&&(k.parsed=L,k.raw=d.data[Q]),v&&(k.options=p||this.resolveDataElementOptions(Q,ee.active?"active":o)),V||this.updateElement(ee,Q,k,o),$=L}this.updateSharedOptions(p,o,h)}getMaxOverflow(){const e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let l=0;for(let c=i.length-1;c>=0;--c)l=Math.max(l,i[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const r=e.dataset,o=r.options&&r.options.borderWidth||0;if(!i.length)return o;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(o,s,a)/2}})()});function eh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class mN{static override(t){Object.assign(mN.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return eh()}parse(){return eh()}format(){return eh()}add(){return eh()}diff(){return eh()}startOf(){return eh()}endOf(){return eh()}}var vTe__date=mN;function bTe(n,t,e,i){const{controller:r,data:o,_sorted:s}=n,a=r._cachedMeta.iScale;if(a&&t===a.axis&&"r"!==t&&s&&o.length){const l=a._reversePixels?BCe:Hl;if(!i)return l(o,t,e);if(r._sharedOptions){const c=o[0],d="function"==typeof c.getRange&&c.getRange(t);if(d){const h=l(o,t,e-d),p=l(o,t,e+d);return{lo:h.lo,hi:p.hi}}}}return{lo:0,hi:o.length-1}}function xb(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),s=e[t];for(let a=0,l=o.length;a<l;++a){const{index:c,data:d}=o[a],{lo:h,hi:p}=bTe(o[a],t,s,r);for(let v=h;v<=p;++v){const b=d[v];b.skip||i(b,c,v)}}}function pN(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||xb(n,e,t,function(a,l,c){!r&&!$l(a,n.chartArea,0)||a.inRange(t.x,t.y,i)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function gN(n,t,e,i,r,o){return o||n.isPointInArea(t)?"r"!==e||i?function xTe(n,t,e,i,r,o){let s=[];const a=function yTe(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(i,r){const o=t?Math.abs(i.x-r.x):0,s=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}(e);let l=Number.POSITIVE_INFINITY;return xb(n,e,t,function c(d,h,p){const v=d.inRange(t.x,t.y,r);if(i&&!v)return;const b=d.getCenterPoint(r);if(!o&&!n.isPointInArea(b)&&!v)return;const E=a(t,b);E<l?(s=[{element:d,datasetIndex:h,index:p}],l=E):E===l&&s.push({element:d,datasetIndex:h,index:p})}),s}(n,t,e,i,r,o):function wTe(n,t,e,i){let r=[];return xb(n,e,t,function o(s,a,l){const{startAngle:c,endAngle:d}=s.getProps(["startAngle","endAngle"],i),{angle:h}=qq(s,{x:t.x,y:t.y});pb(h,c,d)&&r.push({element:s,datasetIndex:a,index:l})}),r}(n,t,e,r):[]}function U9(n,t,e,i,r){const o=[],s="x"===e?"inXRange":"inYRange";let a=!1;return xb(n,e,t,(l,c,d)=>{l[s]&&l[s](t[e],r)&&(o.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(t.x,t.y,r))}),i&&!a?[]:o}var ETe={evaluateInteractionItems:xb,modes:{index(n,t,e,i){const r=Zu(t,n),o=e.axis||"x",s=e.includeInvisible||!1,a=e.intersect?pN(n,r,o,i,s):gN(n,r,o,!1,i,s),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const d=a[0].index,h=c.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:d})}),l):[]},dataset(n,t,e,i){const r=Zu(t,n),o=e.axis||"xy",s=e.includeInvisible||!1;let a=e.intersect?pN(n,r,o,i,s):gN(n,r,o,!1,i,s);if(a.length>0){const l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point:(n,t,e,i)=>pN(n,Zu(t,n),e.axis||"xy",i,e.includeInvisible||!1),nearest:(n,t,e,i)=>gN(n,Zu(t,n),e.axis||"xy",e.intersect,i,e.includeInvisible||!1),x:(n,t,e,i)=>U9(n,Zu(t,n),"x",e.intersect,i),y:(n,t,e,i)=>U9(n,Zu(t,n),"y",e.intersect,i)}};const z9=["left","top","right","bottom"];function Eb(n,t){return n.filter(e=>e.pos===t)}function j9(n,t){return n.filter(e=>-1===z9.indexOf(e.pos)&&e.box.axis===t)}function Ib(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function H9(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function $9(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function STe(n,t,e,i){const{pos:r,box:o}=e,s=n.maxPadding;if(!an(r)){e.size&&(n[r]-=e.size);const h=i[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?o.height:o.width),e.size=h.size/h.count,n[r]+=e.size}o.getPadding&&$9(s,o.getPadding());const a=Math.max(0,t.outerWidth-H9(s,n,"left","right")),l=Math.max(0,t.outerHeight-H9(s,n,"top","bottom")),c=a!==n.w,d=l!==n.h;return n.w=a,n.h=l,e.horizontal?{same:c,other:d}:{same:d,other:c}}function kTe(n,t){const e=t.maxPadding;return function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{o[s]=Math.max(t[s],e[s])}),o}(n?["left","right"]:["top","bottom"])}function Cb(n,t,e,i){const r=[];let o,s,a,l,c,d;for(o=0,s=n.length,c=0;o<s;++o){a=n[o],l=a.box,l.update(a.width||t.w,a.height||t.h,kTe(a.horizontal,t));const{same:h,other:p}=STe(t,e,a,i);c|=h&&r.length,d=d||p,l.fullSize||r.push(a)}return c&&Cb(r,t,e,i)||d}function OI(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function W9(n,t,e,i){const r=e.padding;let{x:o,y:s}=t;for(const a of n){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*d,p=c.size||l.height;fb(c.start)&&(s=c.start),l.fullSize?OI(l,r.left,s,e.outerWidth-r.right-r.left,p):OI(l,t.left+c.placed,s,h,p),c.start=s,c.placed+=h,s=l.bottom}else{const h=t.h*d,p=c.size||l.width;fb(c.start)&&(o=c.start),l.fullSize?OI(l,o,r.top,p,e.outerHeight-r.bottom-r.top):OI(l,o,t.top+c.placed,p,h),c.start=o,c.placed+=h,o=l.right}}t.x=o,t.y=s}var oo={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=ro(n.options.layout.padding),o=Math.max(t-r.width,0),s=Math.max(e-r.height,0),a=function TTe(n){const t=function ITe(n){const t=[];let e,i,r,o,s,a;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],({position:o,options:{stack:s,stackWeight:a=1}}=r),t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return t}(n),e=Ib(t.filter(c=>c.box.fullSize),!0),i=Ib(Eb(t,"left"),!0),r=Ib(Eb(t,"right")),o=Ib(Eb(t,"top"),!0),s=Ib(Eb(t,"bottom")),a=j9(t,"x"),l=j9(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(l).concat(s).concat(a),chartArea:Eb(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:o.concat(s).concat(a)}}(n.boxes),l=a.vertical,c=a.horizontal;Sn(n.boxes,w=>{"function"==typeof w.beforeLayout&&w.beforeLayout()});const d=l.reduce((w,E)=>E.box.options&&!1===E.box.options.display?w:w+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/d,hBoxMaxHeight:s/2}),p=Object.assign({},r);$9(p,ro(i));const v=Object.assign({maxPadding:p,w:o,h:s,x:r.left,y:r.top},r),b=function ATe(n,t){const e=function CTe(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!z9.includes(r))continue;const s=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return t}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,s,a;for(o=0,s=n.length;o<s;++o){a=n[o];const{fullSize:l}=a.box,c=e[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*i:l&&t.availableWidth,a.height=r):(a.width=i,a.height=d?d*r:l&&t.availableHeight)}return e}(l.concat(c),h);Cb(a.fullSize,v,h,b),Cb(l,v,h,b),Cb(c,v,h,b)&&Cb(l,v,h,b),function DTe(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(v),W9(a.leftAndTop,v,h,b),v.x+=v.w,v.y+=v.h,W9(a.rightAndBottom,v,h,b),n.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Sn(a.chartArea,w=>{const E=w.box;Object.assign(E,n.chartArea),E.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class G9{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class MTe extends G9{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const NI="$chartjs",RTe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},q9=n=>null===n||""===n,K9=!!RAe&&{passive:!0};function NTe(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,K9)}function FI(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function LTe(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||FI(a.addedNodes,i),s=s&&!FI(a.removedNodes,i);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function VTe(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||FI(a.removedNodes,i),s=s&&!FI(a.addedNodes,i);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ab=new Map;let Y9=0;function Q9(){const n=window.devicePixelRatio;n!==Y9&&(Y9=n,Ab.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function zTe(n,t,e){const i=n.canvas,r=i&&lN(i);if(!r)return;const o=Zq((a,l)=>{const c=r.clientWidth;e(a,l),c<r.clientWidth&&e()},window),s=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,d=l.contentRect.height;0===c&&0===d||o(c,d)});return s.observe(r),function BTe(n,t){Ab.size||window.addEventListener("resize",Q9),Ab.set(n,t)}(n,o),s}function _N(n,t,e){e&&e.disconnect(),"resize"===t&&function UTe(n){Ab.delete(n),Ab.size||window.removeEventListener("resize",Q9)}(n)}function jTe(n,t,e){const i=n.canvas,r=Zq(o=>{null!==n.ctx&&e(function FTe(n,t){const e=RTe[n.type]||n.type,{x:i,y:r}=Zu(n,t);return{type:e,chart:t,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(o,n))},n);return function OTe(n,t,e){n&&n.addEventListener(t,e,K9)}(i,t,r),r}class HTe extends G9{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function PTe(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[NI]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",q9(r)){const o=v9(n,"width");void 0!==o&&(n.width=o)}if(q9(i))if(""===n.style.height)n.height=n.width/(t||2);else{const o=v9(n,"height");void 0!==o&&(n.height=o)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[NI])return!1;const i=e[NI].initial;["height","width"].forEach(o=>{const s=i[o];mn(s)?e.removeAttribute(o):e.setAttribute(o,s)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[NI],!0}addEventListener(t,e,i){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:LTe,detach:VTe,resize:zTe}[e]||jTe)(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];r&&(({attach:_N,detach:_N,resize:_N}[e]||NTe)(t,e,r),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return function MAe(n,t,e,i){const r=RI(n),o=Xu(r,"margin"),s=MI(r.maxWidth,n,"clientWidth")||II,a=MI(r.maxHeight,n,"clientHeight")||II,l=function kAe(n,t,e){let i,r;if(void 0===t||void 0===e){const o=n&&lN(n);if(o){const s=o.getBoundingClientRect(),a=RI(o),l=Xu(a,"border","width"),c=Xu(a,"padding");t=s.width-c.width-l.width,e=s.height-c.height-l.height,i=MI(a.maxWidth,o,"clientWidth"),r=MI(a.maxHeight,o,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:i||II,maxHeight:r||II}}(n,t,e);let{width:c,height:d}=l;if("content-box"===r.boxSizing){const p=Xu(r,"border","width"),v=Xu(r,"padding");c-=v.width+p.width,d-=v.height+p.height}return c=Math.max(0,c-o.width),d=Math.max(0,i?c/i:d-o.height),c=PI(Math.min(c,s,l.maxWidth)),d=PI(Math.min(d,a,l.maxHeight)),c&&!d&&(d=PI(c/2)),(void 0!==t||void 0!==e)&&i&&l.height&&d>l.height&&(d=l.height,c=PI(Math.floor(d*i))),{width:c,height:d}}(t,e,i,r)}isAttached(t){const e=t&&lN(t);return!(!e||!e.isConnected)}}class Gl{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Qm(this.x)&&Qm(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function LI(n,t,e,i,r){const o=Ft(i,0),s=Math.min(Ft(r,n.length),n.length);let l,c,d,a=0;for(e=Math.ceil(e),r&&(l=r-i,e=l/Math.floor(l/e)),d=o;d<0;)a++,d=Math.round(o+a*e);for(c=Math.max(o,0);c<s;c++)c===d&&(t.push(n[c]),a++,d=Math.round(o+a*e))}const X9=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e,Z9=(n,t)=>Math.min(t||n,n);function J9(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function ZTe(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,s=n._endPixel,a=1e-6;let c,l=n.getPixelForTick(r);if(!(e&&(c=1===i?Math.max(l-o,s-l):0===t?(n.getPixelForTick(1)-l)/2:(l-n.getPixelForTick(r-1))/2,l+=r<t?c:-c,l<o-a||l>s+a)))return l}function Tb(n){return n.drawTicks?n.tickLength:0}function e7(n,t){if(!n.display)return 0;const e=mr(n.font,t),i=ro(n.padding);return(gi(n.text)?n.text.length:1)*e.lineHeight+i.height}function nSe(n,t,e){let i=XO(n);return(e&&"right"!==t||!e&&"right"===t)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class th extends Gl{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=cs(t,Number.POSITIVE_INFINITY),e=cs(e,Number.NEGATIVE_INFINITY),i=cs(i,Number.POSITIVE_INFINITY),r=cs(r,Number.NEGATIVE_INFINITY),{min:cs(t,i),max:cs(e,r),minDefined:Vi(t),maxDefined:Vi(e)}}getMinMax(t){let s,{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds();if(r&&o)return{min:e,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)s=a[l].controller.getMinMax(this,t),r||(e=Math.min(e,s.min)),o||(i=Math.max(i,s.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:cs(e,cs(i,e)),max:cs(i,cs(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ni(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function cAe(n,t,e){const{min:i,max:r}=n,o=Bq(t,(r-i)/2),s=(a,l)=>e&&0===a?0:a+l;return{min:s(i,-Math.abs(o)),max:s(r,o)}}(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?J9(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=function WTe(n,t){const e=n.options.ticks,i=function GTe(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?function KTe(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}(t):[],s=o.length,a=o[0],l=o[s-1],c=[];if(s>r)return function YTe(n,t,e,i){let s,r=0,o=e[0];for(i=Math.ceil(i),s=0;s<n.length;s++)s===o&&(t.push(n[s]),r++,o=e[r*i])}(t,c,o,s/r),c;const d=function qTe(n,t,e){const i=function QTe(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}(n),r=t.length/e;if(!i)return Math.max(r,1);const o=function NCe(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(0|e)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}(i);for(let s=0,a=o.length-1;s<a;s++){const l=o[s];if(l>r)return l}return Math.max(r,1)}(o,t,r);if(s>0){let h,p;const v=s>1?Math.round((l-a)/(s-1)):null;for(LI(t,c,d,mn(v)?0:a-v,a),h=0,p=s-1;h<p;h++)LI(t,c,d,o[h],o[h+1]);return LI(t,c,d,l,mn(v)?t.length:l+v),c}return LI(t,c,d),c}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,t=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ni(this.options.afterUpdate,[this])}beforeSetDimensions(){ni(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ni(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ni(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ni(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=ni(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ni(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ni(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Z9(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let a,l,c,s=r;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const d=this._getLabelSizes(),h=d.widest.width,p=d.highest.height,v=Tr(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:v/(i-1),h+6>a&&(a=v/(i-(t.offset?.5:1)),l=this.maxHeight-Tb(t.grid)-e.padding-e7(t.title,this.chart.options.font),c=Math.sqrt(h*h+p*p),s=KO(Math.min(Math.asin(Tr((d.highest.height+6)/a,-1,1)),Math.asin(Tr(l/c,-1,1))-Math.asin(Tr(p/c,-1,1)))),s=Math.max(r,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){ni(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ni(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const l=e7(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=Tb(o)+l):(t.height=this.maxHeight,t.width=Tb(o)+l),i.display&&this.ticks.length){const{first:c,last:d,widest:h,highest:p}=this._getLabelSizes(),v=2*i.padding,b=oa(this.labelRotation),w=Math.cos(b),E=Math.sin(b);a?t.height=Math.min(this.maxHeight,t.height+(i.mirror?0:E*h.width+w*p.height)+v):t.width=Math.min(this.maxWidth,t.width+(i.mirror?0:w*h.width+E*p.height)+v),this._calculatePadding(c,d,E,w)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:s},position:a}=this.options,l=0!==this.labelRotation,c="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,v=0;l?c?(p=r*t.width,v=i*e.height):(p=i*t.height,v=r*e.width):"start"===o?v=e.width:"end"===o?p=t.width:"inner"!==o&&(p=t.width/2,v=e.width/2),this.paddingLeft=Math.max((p-d+s)*this.width/(this.width-d),0),this.paddingRight=Math.max((v-h+s)*this.width/(this.width-h),0)}else{let d=e.height/2,h=t.height/2;"start"===o?(d=0,h=t.height):"end"===o&&(d=e.height,h=0),this.paddingTop=d+s,this.paddingBottom=h+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ni(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)mn(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=J9(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,s=[],a=[],l=Math.floor(e/Z9(e,i));let h,p,v,b,w,E,M,S,V,$,Q,c=0,d=0;for(h=0;h<e;h+=l){if(b=t[h].label,w=this._resolveTickFontOptions(h),r.font=E=w.string,M=o[E]=o[E]||{data:{},gc:[]},S=w.lineHeight,V=$=0,mn(b)||gi(b)){if(gi(b))for(p=0,v=b.length;p<v;++p)Q=b[p],!mn(Q)&&!gi(Q)&&(V=TI(r,M.data,M.gc,V,Q),$+=S)}else V=TI(r,M.data,M.gc,V,b),$=S;s.push(V),a.push($),c=Math.max(V,c),d=Math.max($,d)}!function JTe(n,t){Sn(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}(o,e);const ee=s.indexOf(c),L=a.indexOf(d),k=F=>({width:s[F]||0,height:a[F]||0});return{first:k(0),last:k(e-1),widest:k(ee),highest:k(L),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function VCe(n){return Tr(n,-32768,32767)}(this._alignToPixels?Ku(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function tSe(n,t,e){return sd(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=function eSe(n,t){return sd(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=oa(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),s=t.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:s,border:a}=r,l=o.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),p=Tb(o),v=[],b=a.setContext(this.getContext()),w=b.display?b.width:0,E=w/2,M=function(ke){return Ku(i,ke,w)};let S,V,$,Q,ee,L,k,F,j,K,Z,z;if("top"===s)S=M(this.bottom),L=this.bottom-p,F=S-E,K=M(t.top)+E,z=t.bottom;else if("bottom"===s)S=M(this.top),K=t.top,z=M(t.bottom)-E,L=S+E,F=this.top+p;else if("left"===s)S=M(this.right),ee=this.right-p,k=S-E,j=M(t.left)+E,Z=t.right;else if("right"===s)S=M(this.left),j=t.left,Z=M(t.right)-E,ee=S+E,k=this.left+p;else if("x"===e){if("center"===s)S=M((t.top+t.bottom)/2+.5);else if(an(s)){const ke=Object.keys(s)[0];S=M(this.chart.scales[ke].getPixelForValue(s[ke]))}K=t.top,z=t.bottom,L=S+E,F=L+p}else if("y"===e){if("center"===s)S=M((t.left+t.right)/2);else if(an(s)){const ke=Object.keys(s)[0];S=M(this.chart.scales[ke].getPixelForValue(s[ke]))}ee=S-E,k=ee-p,j=t.left,Z=t.right}const ii=Ft(r.ticks.maxTicksLimit,h),Zt=Math.max(1,Math.ceil(h/ii));for(V=0;V<h;V+=Zt){const ke=this.getContext(V),Le=o.setContext(ke),qe=a.setContext(ke),st=Le.lineWidth,Fn=Le.color,Lr=qe.dash||[],Dn=qe.dashOffset,En=Le.tickWidth,pn=Le.tickColor,zo=Le.tickBorderDash||[],aa=Le.tickBorderDashOffset;$=ZTe(this,V,l),void 0!==$&&(Q=Ku(i,$,st),c?ee=k=j=Z=Q:L=F=K=z=Q,v.push({tx1:ee,ty1:L,tx2:k,ty2:F,x1:j,y1:K,x2:Z,y2:z,width:st,color:Fn,borderDash:Lr,borderDashOffset:Dn,tickWidth:En,tickColor:pn,tickBorderDash:zo,tickBorderDashOffset:aa}))}return this._ticksLength=h,this._borderValue=S,v}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:h}=o,p=Tb(i.grid),v=p+d,b=h?-d:v,w=-oa(this.labelRotation),E=[];let M,S,V,$,Q,ee,L,k,F,j,K,Z,z="middle";if("top"===r)ee=this.bottom-b,L=this._getXAxisLabelAlignment();else if("bottom"===r)ee=this.top+b,L=this._getXAxisLabelAlignment();else if("left"===r){const Zt=this._getYAxisLabelAlignment(p);L=Zt.textAlign,Q=Zt.x}else if("right"===r){const Zt=this._getYAxisLabelAlignment(p);L=Zt.textAlign,Q=Zt.x}else if("x"===e){if("center"===r)ee=(t.top+t.bottom)/2+v;else if(an(r)){const Zt=Object.keys(r)[0];ee=this.chart.scales[Zt].getPixelForValue(r[Zt])+v}L=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)Q=(t.left+t.right)/2-v;else if(an(r)){const Zt=Object.keys(r)[0];Q=this.chart.scales[Zt].getPixelForValue(r[Zt])}L=this._getYAxisLabelAlignment(p).textAlign}"y"===e&&("start"===l?z="top":"end"===l&&(z="bottom"));const ii=this._getLabelSizes();for(M=0,S=a.length;M<S;++M){V=a[M],$=V.label;const Zt=o.setContext(this.getContext(M));k=this.getPixelForTick(M)+o.labelOffset,F=this._resolveTickFontOptions(M),j=F.lineHeight,K=gi($)?$.length:1;const ke=K/2,Le=Zt.color,qe=Zt.textStrokeColor,st=Zt.textStrokeWidth;let Lr,Fn=L;if(s?(Q=k,"inner"===L&&(Fn=M===S-1?this.options.reverse?"left":"right":0===M?this.options.reverse?"right":"left":"center"),Z="top"===r?"near"===c||0!==w?-K*j+j/2:"center"===c?-ii.highest.height/2-ke*j+j:j/2-ii.highest.height:"near"===c||0!==w?j/2:"center"===c?ii.highest.height/2-ke*j:ii.highest.height-K*j,h&&(Z*=-1),0!==w&&!Zt.showLabelBackdrop&&(Q+=j/2*Math.sin(w))):(ee=k,Z=(1-K)*j/2),Zt.showLabelBackdrop){const Dn=ro(Zt.backdropPadding),En=ii.heights[M],pn=ii.widths[M];let zo=Z-Dn.top,aa=0-Dn.left;switch(z){case"middle":zo-=En/2;break;case"bottom":zo-=En}switch(L){case"center":aa-=pn/2;break;case"right":aa-=pn;break;case"inner":M===S-1?aa-=pn:M>0&&(aa-=pn/2)}Lr={left:aa,top:zo,width:pn+Dn.width,height:En+Dn.height,color:Zt.backdropColor}}E.push({label:$,font:F,textOffset:Z,options:{rotation:w,color:Le,strokeColor:qe,strokeWidth:st,textAlign:Fn,textBaseline:z,translation:[Q,ee],backdrop:Lr}})}return E}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-oa(this.labelRotation))return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,a=t+o,l=this._getLabelSizes().widest.width;let c,d;return"left"===e?r?(d=this.right+o,"near"===i?c="left":"center"===i?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,"near"===i?c="right":"center"===i?(c="center",d-=l/2):(c="left",d=this.left)):"right"===e?r?(d=this.left+o,"near"===i?c="right":"center"===i?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,"near"===i?c="left":"center"===i?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,s;const a=(l,c,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(e.display)for(o=0,s=r.length;o<s;++o){const l=r[o];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),s=i.display?o.width:0;if(!s)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,h,p;this.isHorizontal()?(c=Ku(t,this.left,s)-s/2,d=Ku(t,this.right,a)+a/2,h=p=l):(h=Ku(t,this.top,s)-s/2,p=Ku(t,this.bottom,a)+a/2,c=d=l),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(c,h),e.lineTo(d,p),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&SI(i,r);const o=this.getLabelItems(t);for(const s of o)Yu(i,s.label,0,s.textOffset,s.font,s.options);r&&DI(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=mr(i.font),s=ro(i.padding),a=i.align;let l=o.lineHeight/2;"bottom"===e||"center"===e||an(e)?(l+=s.bottom,gi(i.text)&&(l+=o.lineHeight*(i.text.length-1))):l+=s.top;const{titleX:c,titleY:d,maxWidth:h,rotation:p}=function iSe(n,t,e,i){const{top:r,left:o,bottom:s,right:a,chart:l}=n,{chartArea:c,scales:d}=l;let p,v,b,h=0;const w=s-r,E=a-o;if(n.isHorizontal()){if(v=io(i,o,a),an(e)){const M=Object.keys(e)[0];b=d[M].getPixelForValue(e[M])+w-t}else b="center"===e?(c.bottom+c.top)/2+w-t:X9(n,e,t);p=a-o}else{if(an(e)){const M=Object.keys(e)[0];v=d[M].getPixelForValue(e[M])-E+t}else v="center"===e?(c.left+c.right)/2-E+t:X9(n,e,t);b=io(i,s,r),h="left"===e?-Xi:Xi}return{titleX:v,titleY:b,maxWidth:p,rotation:h}}(this,l,e,a);Yu(t,i.text,0,0,o,{color:i.color,maxWidth:h,rotation:p,textAlign:nSe(a,e,r),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ft(t.grid&&t.grid.z,-1),r=Ft(t.border&&t.border.z,0);return this._isVisible()&&this.draw===th.prototype.draw?[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]:[{z:e,draw:o=>{this.draw(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,s;for(o=0,s=e.length;o<s;++o){const a=e[o];a[i]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){return mr(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class VI{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function sSe(n){return"id"in n&&"defaults"in n})(e)&&(i=this.register(e));const r=this.items,o=t.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,function rSe(n,t,e){const i=ub(Object.create(null),[e?Ci.get(e):{},Ci.get(t),n.defaults]);Ci.set(t,i),n.defaultRoutes&&function oSe(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),s=t[e].split("."),a=s.pop(),l=s.join(".");Ci.route(o,r,l,a)})}(t,n.defaultRoutes),n.descriptors&&Ci.describe(t,n.descriptors)}(t,s,i),this.override&&Ci.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Ci[r]&&(delete Ci[r][i],this.override&&delete qu[i])}}class aSe{constructor(){this.controllers=new VI(ad,"datasets",!0),this.elements=new VI(Gl,"elements"),this.plugins=new VI(Object,"plugins"),this.scales=new VI(th,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Sn(r,s=>{const a=i||this._getRegistryForType(s);this._exec(t,a,s)})})}_exec(t,e,i){const r=qO(t);ni(i["before"+r],[],i),e[t](i),ni(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Ga=new aSe;class lSe{constructor(){this._init=[]}notify(t,e,i,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),s=this._notify(o,t,e,i);return"afterDestroy"===e&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,i,r){r=r||{};for(const o of t){const s=o.plugin;if(!1===ni(s[i],[e,r,o.options],s)&&r.cancelable)return!1}return!0}invalidate(){mn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Ft(i.options&&i.options.plugins,{}),o=function cSe(n){const t={},e=[],i=Object.keys(Ga.plugins.items);for(let o=0;o<i.length;o++)e.push(Ga.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const s=r[o];-1===e.indexOf(s)&&(e.push(s),t[s.id]=!0)}return{plugins:e,localIds:t}}(i);return!1!==r||e?function uSe(n,{plugins:t,localIds:e},i,r){const o=[],s=n.getContext();for(const a of t){const l=a.id,c=dSe(i[l],r);null!==c&&o.push({plugin:a,options:hSe(n.config,{plugin:a,local:e[l]},c,s)})}return o}(t,o,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,s)=>o.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function dSe(n,t){return t||!1!==n?!0===n?{}:n:null}function hSe(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),s=n.getOptionScopes(i,o);return e&&t.defaults&&s.push(t.defaults),n.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function vN(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(Ci.datasets[n]||{}).indexAxis||"x"}function t7(n){if("x"===n||"y"===n||"r"===n)return n}function pSe(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function bN(n,...t){if(t7(n))return n;for(const e of t){const i=e.axis||pSe(e.position)||n.length>1&&t7(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function n7(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function i7(n){const t=n.options||(n.options={});t.plugins=Ft(t.plugins,{}),t.scales=function _Se(n,t){const e=qu[n.type]||{scales:{}},i=t.scales||{},r=vN(n.type,t),o=Object.create(null);return Object.keys(i).forEach(s=>{const a=i[s];if(!an(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const l=bN(s,a,function gSe(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return n7(n,"x",e[0])||n7(n,"y",e[0])}return{}}(s,n),Ci.scales[a.type]),c=function mSe(n,t){return n===t?"_index_":"_value_"}(l,r),d=e.scales||{};o[s]=hb(Object.create(null),[{axis:l},a,d[l],d[c]])}),n.data.datasets.forEach(s=>{const a=s.type||n.type,l=s.indexAxis||vN(a,t),d=(qu[a]||{}).scales||{};Object.keys(d).forEach(h=>{const p=function fSe(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(h,l),v=s[p+"AxisID"]||p;o[v]=o[v]||Object.create(null),hb(o[v],[{axis:p},i[v],d[h]])})}),Object.keys(o).forEach(s=>{const a=o[s];hb(a,[Ci.scales[a.type],Ci.scale])}),o}(n,t)}function r7(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const o7=new Map,s7=new Set;function BI(n,t){let e=o7.get(n);return e||(e=t(),o7.set(n,e),s7.add(e)),e}const Sb=(n,t,e)=>{const i=id(t,e);void 0!==i&&n.add(i)};class bSe{constructor(t){this._config=function vSe(n){return(n=n||{}).data=r7(n.data),i7(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=r7(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),i7(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return BI(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return BI(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return BI(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return BI(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,s=this._cachedScopes(t,i),a=s.get(e);if(a)return a;const l=new Set;e.forEach(d=>{t&&(l.add(t),d.forEach(h=>Sb(l,t,h))),d.forEach(h=>Sb(l,r,h)),d.forEach(h=>Sb(l,qu[o]||{},h)),d.forEach(h=>Sb(l,Ci,h)),d.forEach(h=>Sb(l,eN,h))});const c=Array.from(l);return 0===c.length&&c.push(Object.create(null)),s7.has(e)&&s.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,qu[e]||{},Ci.datasets[e]||{},{type:e},Ci,eN]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:s,subPrefixes:a}=a7(this._resolverCache,t,r);let l=s;(function wSe(n,t){const{isScriptable:e,isIndexable:i}=c9(n);for(const r of t){const o=e(r),s=i(r),a=(s||o)&&n[r];if(o&&(rd(a)||ySe(a))||s&&gi(a))return!0}return!1})(s,e)&&(o.$shared=!1,l=Xm(s,i=rd(i)?i():i,this.createResolver(t,i,a)));for(const c of e)o[c]=l[c];return o}createResolver(t,e,i=[""],r){const{resolver:o}=a7(this._resolverCache,t,i);return an(e)?Xm(o,e,void 0,r):o}}function a7(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:rN(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,o)),o}const ySe=n=>an(n)&&Object.getOwnPropertyNames(n).some(t=>rd(n[t])),ESe=["top","bottom","left","right","chartArea"];function l7(n,t){return"top"===n||"bottom"===n||-1===ESe.indexOf(n)&&"x"===t}function c7(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function d7(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ni(e&&e.onComplete,[n],t)}function ISe(n){const t=n.chart,e=t.options.animation;ni(e&&e.onProgress,[n],t)}function u7(n){return aN()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const UI={},h7=n=>{const t=u7(n);return Object.values(UI).filter(e=>e.canvas===t).pop()};function CSe(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const s=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=s)}}}function zI(n,t,e){return n.options.clip?n[e]:t[e]}let Db=(()=>class n{static defaults=Ci;static instances=UI;static overrides=qu;static registry=Ga;static version="4.4.7";static getChart=h7;static register(...e){Ga.add(...e),f7()}static unregister(...e){Ga.remove(...e),f7()}constructor(e,i){const r=this.config=new bSe(i),o=u7(e),s=h7(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function $Te(n){return!aN()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?MTe:HTe}(o)),this.platform.updateConfig(r);const l=this.platform.acquireContext(o,a.aspectRatio),c=l&&l.canvas,d=c&&c.height,h=c&&c.width;this.id=ACe(),this.ctx=l,this.canvas=c,this.width=h,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new lSe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function jCe(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}(p=>this.update(p),a.resizeDelay||0),this._dataChanges=[],UI[this.id]=this,l&&c?(Wl.listen(this,"complete",d7),Wl.listen(this,"progress",ISe),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:i},width:r,height:o,_aspectRatio:s}=this;return mn(e)?i&&s?s:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ga}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():_9(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return s9(this.canvas,this.ctx),this}stop(){return Wl.stop(this),this}resize(e,i){Wl.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){const r=this.options,a=this.platform.getMaximumSize(this.canvas,e,i,r.maintainAspectRatio&&this.aspectRatio),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,_9(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),ni(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){Sn(this.options.scales||{},(r,o)=>{r.id=o})}buildOrUpdateScales(){const e=this.options,i=e.scales,r=this.scales,o=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{});let s=[];i&&(s=s.concat(Object.keys(i).map(a=>{const l=i[a],c=bN(a,l),d="r"===c,h="x"===c;return{options:l,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),Sn(s,a=>{const l=a.options,c=l.id,d=bN(c,l),h=Ft(l.type,a.dtype);(void 0===l.position||l7(l.position,d)!==l7(a.dposition))&&(l.position=a.dposition),o[c]=!0;let p=null;c in r&&r[c].type===h?p=r[c]:(p=new(Ga.getScale(h))({id:c,type:h,ctx:this.ctx,chart:this}),r[p.id]=p),p.init(l,e)}),Sn(o,(a,l)=>{a||delete r[l]}),Sn(r,a=>{oo.configure(this,a,a.options),oo.addBox(this,a)})}_updateMetasets(){const e=this._metasets,i=this.data.datasets.length,r=e.length;if(e.sort((o,s)=>o.index-s.index),r>i){for(let o=i;o<r;++o)this._destroyDatasetMeta(o);e.splice(i,r-i)}this._sortedMetasets=e.slice(0).sort(c7("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((r,o)=>{0===i.filter(s=>s===r._dataset).length&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],i=this.data.datasets;let r,o;for(this._removeUnreferencedMetasets(),r=0,o=i.length;r<o;r++){const s=i[r];let a=this.getDatasetMeta(r);const l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=s.indexAxis||vN(l,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const c=Ga.getController(l),{datasetElementType:d,dataElementType:h}=Ci.datasets[l];Object.assign(c,{dataElementType:Ga.getElement(h),datasetElementType:d&&Ga.getElement(d)}),a.controller=new c(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Sn(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const i=this.config;i.update();const r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:p}=this.getDatasetMeta(d),v=!o&&-1===s.indexOf(p);p.buildOrUpdateElements(v),a=Math.max(+p.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),o||Sn(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(c7("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Sn(this.scales,e=>{oo.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!jq(i,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(const{method:r,start:o,count:s}of i)CSe(e,o,"_removeElements"===r?-s:s)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const i=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),o=r(0);for(let s=1;s<i;s++)if(!jq(o,r(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;oo.update(this,this.width,this.height,e);const i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],Sn(this.boxes,o=>{r&&"chartArea"===o.position||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,rd(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){const r=this.getDatasetMeta(e),o={meta:r,index:e,mode:i,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",o)&&(r.controller._update(i),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Wl.has(this)?this.attached&&!Wl.running(this)&&Wl.start(this):(this.draw(),d7({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const i=this._sortedMetasets,r=[];let o,s;for(o=0,s=i.length;o<s;++o){const a=i[o];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const i=this.ctx,r=e._clip,o=!r.disabled,s=function TSe(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:zI(e,t,"left"),right:zI(e,t,"right"),top:zI(i,t,"top"),bottom:zI(i,t,"bottom")}:t}(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(o&&SI(i,{left:!1===r.left?0:s.left-r.left,right:!1===r.right?this.width:s.right+r.right,top:!1===r.top?0:s.top-r.top,bottom:!1===r.bottom?this.height:s.bottom+r.bottom}),e.controller.draw(),o&&DI(i),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return $l(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,r,o){const s=ETe.modes[i];return"function"==typeof s?s(this,e,r,o):[]}getDatasetMeta(e){const i=this.data.datasets[e],r=this._metasets;let o=r.filter(s=>s&&s._dataset===i).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=sd(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const i=this.data.datasets[e];if(!i)return!1;const r=this.getDatasetMeta(e);return"boolean"==typeof r.hidden?!r.hidden:!i.hidden}setDatasetVisibility(e,i){this.getDatasetMeta(e).hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,r){const o=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,o);fb(i)?(s.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(l=>l.datasetIndex===e?o:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){const i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),Wl.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),s9(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete UI[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,i=this.platform,r=(s,a)=>{i.addEventListener(this,s,a),e[s]=a},o=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};Sn(this.options.events,s=>r(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,i=this.platform,r=(c,d)=>{i.addEventListener(this,c,d),e[c]=d},o=(c,d)=>{e[c]&&(i.removeEventListener(this,c,d),delete e[c])},s=(c,d)=>{this.canvas&&this.resize(c,d)};let a;const l=()=>{o("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),r("attach",l)},i.isAttached(this.canvas)?l():a()}unbindEvents(){Sn(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},Sn(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,r){const o=r?"set":"remove";let s,a,l,c;for("dataset"===i&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const i=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!xI(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(e,i,r){return this._plugins.notify(this,e,i,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter(i=>i.plugin.id===e).length}_updateHoverStyles(e,i,r){const o=this.options.hover,s=(c,d)=>c.filter(h=>!d.some(p=>h.datasetIndex===p.datasetIndex&&h.index===p.index)),a=s(i,e),l=r?e:s(e,i);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(e,i){const r={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},o=a=>(a.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,o))return;const s=this._handleEvent(e,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(s||r.changed)&&this.render(),this}_handleEvent(e,i,r){const{_active:o=[],options:s}=this,l=this._getActiveElements(e,o,r,i),c=function RCe(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(e),d=function ASe(n,t,e,i){return e&&"mouseout"!==n.type?i?t:n:null}(e,this._lastEvent,r,c);r&&(this._lastEvent=null,ni(s.onHover,[e,l,this],this),c&&ni(s.onClick,[e,l,this],this));const h=!xI(l,o);return(h||i)&&(this._active=l,this._updateHoverStyles(l,o,i)),this._lastEvent=d,h}_getActiveElements(e,i,r,o){if("mouseout"===e.type)return[];if(!r)return i;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,o)}})();function f7(){return Sn(Db.instances,n=>n._plugins.invalidate())}function ep(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function jI(n,t,e,i,r,o){const{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=t,h=Math.max(t.outerRadius+i+e-c,0),p=d>0?d+i+e+c:0;let v=0;const b=r-l;if(i){const Le=((d>0?d-i:0)+(h>0?h-i:0))/2;v=(b-(0!==Le?b*Le/(Le+i):b))/2}const E=(b-Math.max(.001,b*h-e/_i)/h)/2,M=l+E+v,S=r-E-v,{outerStart:V,outerEnd:$,innerStart:Q,innerEnd:ee}=function kSe(n,t,e,i){const r=function DSe(n){return iN(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),o=(e-t)/2,s=Math.min(o,i*t/2),a=l=>{const c=(e-Math.min(o,l))*i/2;return Tr(l,0,Math.min(o,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Tr(r.innerStart,0,s),innerEnd:Tr(r.innerEnd,0,s)}}(t,p,h,S-M),L=h-V,k=h-$,F=M+V/L,j=S-$/k,K=p+Q,Z=p+ee,z=M+Q/K,ii=S-ee/Z;if(n.beginPath(),o){const Zt=(F+j)/2;if(n.arc(s,a,h,F,Zt),n.arc(s,a,h,Zt,j),$>0){const st=ep(k,j,s,a);n.arc(st.x,st.y,$,j,S+Xi)}const ke=ep(Z,S,s,a);if(n.lineTo(ke.x,ke.y),ee>0){const st=ep(Z,ii,s,a);n.arc(st.x,st.y,ee,S+Xi,ii+Math.PI)}const Le=(S-ee/p+(M+Q/p))/2;if(n.arc(s,a,p,S-ee/p,Le,!0),n.arc(s,a,p,Le,M+Q/p,!0),Q>0){const st=ep(K,z,s,a);n.arc(st.x,st.y,Q,z+Math.PI,M-Xi)}const qe=ep(L,M,s,a);if(n.lineTo(qe.x,qe.y),V>0){const st=ep(L,F,s,a);n.arc(st.x,st.y,V,M-Xi,F)}}else{n.moveTo(s,a);const Zt=Math.cos(F)*h+s,ke=Math.sin(F)*h+a;n.lineTo(Zt,ke);const Le=Math.cos(j)*h+s,qe=Math.sin(j)*h+a;n.lineTo(Le,qe)}n.closePath()}function m7(n,t,e=t){n.lineCap=Ft(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Ft(e.borderDash,t.borderDash)),n.lineDashOffset=Ft(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Ft(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Ft(e.borderWidth,t.borderWidth),n.strokeStyle=Ft(e.borderColor,t.borderColor)}function OSe(n,t,e){n.lineTo(e.x,e.y)}function p7(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:s,end:a}=t,l=Math.max(r,s),c=Math.min(o,a);return{count:i,start:l,loop:t.loop,ilen:c<l&&!(r<s&&o<s||r>a&&o>a)?i+c-l:c-l}}function FSe(n,t,e,i){const{points:r,options:o}=t,{count:s,start:a,loop:l,ilen:c}=p7(r,e,i),d=function NSe(n){return n.stepped?eAe:n.tension||"monotone"===n.cubicInterpolationMode?tAe:OSe}(o);let v,b,w,{move:h=!0,reverse:p}=i||{};for(v=0;v<=c;++v)b=r[(a+(p?c-v:v))%s],!b.skip&&(h?(n.moveTo(b.x,b.y),h=!1):d(n,w,b,p,o.stepped),w=b);return l&&(b=r[(a+(p?c:0))%s],d(n,w,b,p,o.stepped)),!!l}function LSe(n,t,e,i){const r=t.points,{count:o,start:s,ilen:a}=p7(r,e,i),{move:l=!0,reverse:c}=i||{};let p,v,b,w,E,M,d=0,h=0;const S=$=>(s+(c?a-$:$))%o,V=()=>{w!==E&&(n.lineTo(d,E),n.lineTo(d,w),n.lineTo(d,M))};for(l&&(v=r[S(0)],n.moveTo(v.x,v.y)),p=0;p<=a;++p){if(v=r[S(p)],v.skip)continue;const $=v.x,Q=v.y,ee=0|$;ee===b?(Q<w?w=Q:Q>E&&(E=Q),d=(h*d+$)/++h):(V(),n.lineTo($,Q),b=ee,h=0,w=E=Q),M=Q}V()}function yN(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?FSe:LSe}const zSe="function"==typeof Path2D;let HI=(()=>class n extends Gl{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(CAe(this._points,r,e,r.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function UAe(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:s,end:a}=function VAe(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}(e,r,o,i);return function C9(n,t,e,i){return i&&i.setContext&&e?function zAe(n,t,e,i){const r=n._chart.getContext(),o=A9(n.options),{_datasetIndex:s,options:{spanGaps:a}}=n,l=e.length,c=[];let d=o,h=t[0].start,p=h;function v(b,w,E,M){const S=a?-1:1;if(b!==w){for(b+=l;e[b%l].skip;)b-=S;for(;e[w%l].skip;)w+=S;b%l!=w%l&&(c.push({start:b%l,end:w%l,loop:E,style:M}),d=M,h=w%l)}}for(const b of t){h=a?h:b.start;let E,w=e[h%l];for(p=h+1;p<=b.end;p++){const M=e[p%l];E=A9(i.setContext(sd(r,{type:"segment",p0:w,p1:M,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:s}))),jAe(E,d)&&v(h,p-1,b.loop,d),w=M,d=E}h<p-1&&v(h,p-1,b.loop,d)}return c}(n,t,e,i):t}(n,!0===i?[{start:s,end:a,loop:o}]:function BAe(n,t,e,i){const r=n.length,o=[];let l,s=t,a=n[t];for(l=t+1;l<=e;++l){const c=n[l%r];c.skip||c.stop?a.skip||(o.push({start:t%r,end:(l-1)%r,loop:i=!1}),t=s=c.stop?l:null):(s=l,a.skip&&(t=l)),a=c}return null!==s&&o.push({start:t%r,end:s%r,loop:i}),o}(e,s,a<s?a+r:a,!!n._fullLoop&&0===s&&a===r-1),e,t)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,i){const r=this.options,o=e[i],s=this.points,a=I9(this,{property:i,start:o,end:o});if(!a.length)return;const l=[],c=function VSe(n){return n.stepped?PAe:n.tension||"monotone"===n.cubicInterpolationMode?OAe:Ju}(r);let d,h;for(d=0,h=a.length;d<h;++d){const{start:p,end:v}=a[d],b=s[p],w=s[v];if(b===w){l.push(b);continue}const M=c(b,w,Math.abs((o-b[i])/(w[i]-b[i])),r.stepped);M[i]=e[i],l.push(M)}return 1===l.length?l[0]:l}pathSegment(e,i,r){return yN(this)(e,this,i,r)}path(e,i,r){const o=this.segments,s=yN(this);let a=this._loop;i=i||0,r=r||this.points.length-i;for(const l of o)a&=s(e,this,l,{start:i,end:i+r-1});return!!a}draw(e,i,r,o){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function jSe(n,t,e,i){zSe&&!t.options.segment?function BSe(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),m7(n,t.options),n.stroke(r)}(n,t,e,i):function USe(n,t,e,i){const{segments:r,options:o}=t,s=yN(t);for(const a of r)m7(n,o,a.style),n.beginPath(),s(n,t,a,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}(n,t,e,i)}(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function g7(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}let HSe=(()=>class n extends Gl{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const o=this.options,{x:s,y:a}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(i-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,i){return g7(this,e,"x",i)}inYRange(e,i){return g7(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){let i=(e=e||this.options||{}).radius||0;return i=Math.max(i,i&&e.hoverRadius||0),2*(i+(i&&e.borderWidth||0))}draw(e,i){const r=this.options;this.skip||r.radius<.1||!$l(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,nN(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}})();function _7(n,t){const{x:e,y:i,base:r,width:o,height:s}=n.getProps(["x","y","base","width","height"],t);let a,l,c,d,h;return n.horizontal?(h=s/2,a=Math.min(e,r),l=Math.max(e,r),c=i-h,d=i+h):(h=o/2,a=e-h,l=e+h,c=Math.min(i,r),d=Math.max(i,r)),{left:a,top:c,right:l,bottom:d}}function ld(n,t,e,i){return n?0:Tr(t,e,i)}function wN(n,t,e,i){const r=null===t,o=null===e,a=n&&!(r&&o)&&_7(n,i);return a&&(r||jl(t,a.left,a.right))&&(o||jl(e,a.top,a.bottom))}function KSe(n,t){n.rect(t.x,t.y,t.w,t.h)}function xN(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-i),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-r),radius:n.radius}}var QSe=Object.freeze({__proto__:null,ArcElement:class PSe extends Gl{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:s}=qq(r,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,v=Ft(h,l-a),b=pb(o,a,l)&&a!==l,w=v>=vi||b,E=jl(s,c+p,d+p);return w&&E}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,d=(r+o)/2,h=(s+a+c+l)/2;return{x:e+Math.cos(d)*h,y:i+Math.sin(d)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>vi?Math.floor(i/vi):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*r,Math.sin(a)*r);const c=r*(1-Math.sin(Math.min(_i,i||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function MSe(n,t,e,i,r){const{fullCircles:o,startAngle:s,circumference:a}=t;let l=t.endAngle;if(o){jI(n,t,e,i,l,r);for(let c=0;c<o;++c)n.fill();isNaN(a)||(l=s+(a%vi||vi))}jI(n,t,e,i,l,r),n.fill()}(t,this,c,o,s),function RSe(n,t,e,i,r){const{fullCircles:o,startAngle:s,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:h,borderDashOffset:p}=l,v="inner"===l.borderAlign;if(!c)return;n.setLineDash(h||[]),n.lineDashOffset=p,v?(n.lineWidth=2*c,n.lineJoin=d||"round"):(n.lineWidth=c,n.lineJoin=d||"bevel");let b=t.endAngle;if(o){jI(n,t,e,i,b,r);for(let w=0;w<o;++w)n.stroke();isNaN(a)||(b=s+(a%vi||vi))}v&&function SSe(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:l}=t;let c=r/a;n.beginPath(),n.arc(o,s,a,i-c,e+c),l>r?(c=r/l,n.arc(o,s,l,e+c,i-c,!0)):n.arc(o,s,r,e+Xi,i-Xi),n.closePath(),n.clip()}(n,t,b),o||(jI(n,t,e,i,b,r),n.stroke())}(t,this,c,o,s),t.restore()}},BarElement:class YSe extends Gl{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:s}=function GSe(n){const t=_7(n),e=t.right-t.left,i=t.bottom-t.top,r=function $Se(n,t,e){const r=n.borderSkipped,o=l9(n.options.borderWidth);return{t:ld(r.top,o.top,0,e),r:ld(r.right,o.right,0,t),b:ld(r.bottom,o.bottom,0,e),l:ld(r.left,o.left,0,t)}}(n,e/2,i/2),o=function WSe(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=Qu(r),s=Math.min(t,e),a=n.borderSkipped,l=i||an(r);return{topLeft:ld(!l||a.top||a.left,o.topLeft,0,s),topRight:ld(!l||a.top||a.right,o.topRight,0,s),bottomLeft:ld(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:ld(!l||a.bottom||a.right,o.bottomRight,0,s)}}(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}(this),a=function qSe(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(s.radius)?bb:KSe;t.save(),(s.w!==o.w||s.h!==o.h)&&(t.beginPath(),a(t,xN(s,e,o)),t.clip(),a(t,xN(o,-e,s)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,xN(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return wN(this,t,e,i)}inXRange(t,e){return wN(this,t,null,e)}inYRange(t,e){return wN(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}},LineElement:HI,PointElement:HSe});const EN=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],v7=EN.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function b7(n){return EN[n%EN.length]}function y7(n){return v7[n%v7.length]}function w7(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}var iDe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:o}=r,s=w7(i)||function tDe(n){return n&&(n.borderColor||n.backgroundColor)}(r)||o&&w7(o)||function nDe(){return"rgba(0,0,0,0.1)"!==Ci.borderColor||"rgba(0,0,0,0.1)"!==Ci.backgroundColor}();if(!e.forceOverride&&s)return;const a=function eDe(n){let t=0;return(e,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof fN?t=function ZSe(n,t){return n.backgroundColor=n.data.map(()=>b7(t++)),t}(e,t):r instanceof B9?t=function JSe(n,t){return n.backgroundColor=n.data.map(()=>y7(t++)),t}(e,t):r&&(t=function XSe(n,t){return n.borderColor=b7(t),n.backgroundColor=y7(t),++t}(e,t))}}(n);i.forEach(a)}};function x7(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function E7(n){n.data.datasets.forEach(t=>{x7(t)})}var aDe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void E7(n);const i=n.width;n.data.datasets.forEach((r,o)=>{const{_data:s,indexAxis:a}=r,l=n.getDatasetMeta(o),c=s||r.data;if("y"===yb([a,n.options.indexAxis])||!l.controller.supportsDecimation)return;const d=n.scales[l.xAxisID];if("linear"!==d.type&&"time"!==d.type||n.options.parsing)return;let b,{start:h,count:p}=function sDe(n,t){const e=t.length;let r,i=0;const{iScale:o}=n,{min:s,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(i=Tr(Hl(t,o.axis,s).lo,0,e-1)),r=c?Tr(Hl(t,o.axis,a).hi+1,i,e)-i:e-i,{start:i,count:r}}(l,c);if(p<=(e.threshold||4*i))x7(r);else{switch(mn(s)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}})),e.algorithm){case"lttb":b=function rDe(n,t,e,i,r){const o=r.samples||i;if(o>=e)return n.slice(t,t+e);const s=[],a=(e-2)/(o-2);let l=0;const c=t+e-1;let h,p,v,b,w,d=t;for(s[l++]=n[d],h=0;h<o-2;h++){let S,E=0,M=0;const V=Math.floor((h+1)*a)+1+t,$=Math.min(Math.floor((h+2)*a)+1,e)+t,Q=$-V;for(S=V;S<$;S++)E+=n[S].x,M+=n[S].y;E/=Q,M/=Q;const ee=Math.floor(h*a)+1+t,L=Math.min(Math.floor((h+1)*a)+1,e)+t,{x:k,y:F}=n[d];for(v=b=-1,S=ee;S<L;S++)b=.5*Math.abs((k-E)*(n[S].y-F)-(k-n[S].x)*(M-F)),b>v&&(v=b,p=n[S],w=S);s[l++]=p,d=w}return s[l++]=n[c],s}(c,h,p,i,e);break;case"min-max":b=function oDe(n,t,e,i){let s,a,l,c,d,h,p,v,b,w,r=0,o=0;const E=[],S=n[t].x,$=n[t+e-1].x-S;for(s=t;s<t+e;++s){a=n[s],l=(a.x-S)/$*i,c=a.y;const Q=0|l;if(Q===d)c<b?(b=c,h=s):c>w&&(w=c,p=s),r=(o*r+a.x)/++o;else{const ee=s-1;if(!mn(h)&&!mn(p)){const L=Math.min(h,p),k=Math.max(h,p);L!==v&&L!==ee&&E.push({...n[L],x:r}),k!==v&&k!==ee&&E.push({...n[k],x:r})}s>0&&ee!==v&&E.push(n[ee]),E.push(a),d=Q,o=0,b=w=c,h=p=v=s}}return E}(c,h,p,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=b}})},destroy(n){E7(n)}};function IN(n,t,e,i){if(i)return;let r=t[n],o=e[n];return"angle"===n&&(r=ds(r),o=ds(o)),{property:n,start:r,end:o}}function CN(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function I7(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function C7(n,t){let e=[],i=!1;return gi(n)?(i=!0,e=n):e=function cDe(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,o=[];return t.segments.forEach(({start:s,end:a})=>{a=CN(s,a,r);const l=r[s],c=r[a];null!==i?(o.push({x:l.x,y:i}),o.push({x:c.x,y:i})):null!==e&&(o.push({x:e,y:l.y}),o.push({x:e,y:c.y}))}),o}(n,t),e.length?new HI({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function A7(n){return n&&!1!==n.fill}function dDe(n,t,e){let r=n[t].fill;const o=[t];let s;if(!e)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!Vi(r))return r;if(s=n[r],!s)return!1;if(s.visible)return r;o.push(r),r=s.fill}return!1}function uDe(n,t,e){const i=function pDe(n){const t=n.options,e=t.fill;let i=Ft(e&&e.target,e);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(an(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return Vi(r)&&Math.floor(r)===r?function hDe(n,t,e,i){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=i)&&e}(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function vDe(n,t,e){const i=[];for(let r=0;r<e.length;r++){const o=e[r],{first:s,last:a,point:l}=bDe(o,t,"x");if(!(!l||s&&a))if(s)i.unshift(l);else if(n.push(l),!a)break}n.push(...i)}function bDe(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],o=n.segments,s=n.points;let a=!1,l=!1;for(let c=0;c<o.length;c++){const d=o[c],h=s[d.start][e],p=s[d.end][e];if(jl(r,h,p)){a=r===h,l=r===p;break}}return{first:a,last:l,point:i}}class T7{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:o,radius:s}=this;return t.arc(r,o,s,(e=e||{start:0,end:vi}).end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function AN(n,t,e){const i=function yDe(n){const{chart:t,fill:e,line:i}=n;if(Vi(e))return function wDe(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function gDe(n){const{scale:t,index:e,line:i}=n,r=[],o=i.segments,s=i.points,a=function _De(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}(t,e);a.push(C7({x:null,y:t.bottom},i));for(let l=0;l<o.length;l++){const c=o[l];for(let d=c.start;d<=c.end;d++)vDe(r,s[d],a)}return new HI({points:r,options:{}})}(n);if("shape"===e)return!0;const r=function xDe(n){return(n.scale||{}).getPointPositionForValue?function IDe(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,s=function mDe(n,t,e){let i;return i="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:an(n)?n.value:t.getBaseValue(),i}(e,t,o),a=[];if(i.grid.circular){const l=t.getPointPositionForValue(0,o);return new T7({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(s)})}for(let l=0;l<r;++l)a.push(t.getPointPositionForValue(l,s));return a}(n):function EDe(n){const{scale:t={},fill:e}=n,i=function fDe(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:an(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(Vi(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof T7?r:C7(r,i)}(t),{line:r,scale:o,axis:s}=t,a=r.options,l=a.fill,c=a.backgroundColor,{above:d=c,below:h=c}=l||{};i&&r.points.length&&(SI(n,e),function CDe(n,t){const{line:e,target:i,above:r,below:o,area:s,scale:a}=t,l=e._loop?"angle":t.axis;n.save(),"x"===l&&o!==r&&(S7(n,i,s.top),D7(n,{line:e,target:i,color:r,scale:a,property:l}),n.restore(),n.save(),S7(n,i,s.bottom)),D7(n,{line:e,target:i,color:o,scale:a,property:l}),n.restore()}(n,{line:r,target:i,above:d,below:h,area:e,scale:o,axis:s}),DI(n))}function S7(n,t,e){const{segments:i,points:r}=t;let o=!0,s=!1;n.beginPath();for(const a of i){const{start:l,end:c}=a,d=r[l],h=r[CN(l,c,r)];o?(n.moveTo(d.x,d.y),o=!1):(n.lineTo(d.x,e),n.lineTo(d.x,d.y)),s=!!t.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(h.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function D7(n,t){const{line:e,target:i,property:r,color:o,scale:s}=t,a=function lDe(n,t,e){const i=n.segments,r=n.points,o=t.points,s=[];for(const a of i){let{start:l,end:c}=a;c=CN(l,c,r);const d=IN(e,r[l],r[c],a.loop);if(!t.segments){s.push({source:a,target:d,start:r[l],end:r[c]});continue}const h=I9(t,d);for(const p of h){const v=IN(e,o[p.start],o[p.end],p.loop),b=E9(a,r,v);for(const w of b)s.push({source:w,target:p,start:{[e]:I7(d,v,"start",Math.max)},end:{[e]:I7(d,v,"end",Math.min)}})}}return s}(e,i,r);for(const{source:l,target:c,start:d,end:h}of a){const{style:{backgroundColor:p=o}={}}=l,v=!0!==i;n.save(),n.fillStyle=p,ADe(n,s,v&&IN(r,d,h)),n.beginPath();const b=!!e.pathSegment(n,l);let w;if(v){b?n.closePath():k7(n,i,h,r);const E=!!i.pathSegment(n,c,{move:b,reverse:!0});w=b&&E,w||k7(n,i,d,r)}n.closePath(),n.fill(w?"evenodd":"nonzero"),n.restore()}}function ADe(n,t,e){const{top:i,bottom:r}=t.chart.chartArea,{property:o,start:s,end:a}=e||{};"x"===o&&(n.beginPath(),n.rect(s,i,a-s,r-i),n.clip())}function k7(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var TDe={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let o,s,a,l;for(s=0;s<i;++s)o=n.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof HI&&(l={visible:n.isDatasetVisible(s),index:s,fill:uDe(a,s,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,r.push(l);for(s=0;s<i;++s)l=r[s],l&&!1!==l.fill&&(l.fill=dDe(r,s,e.propagate))},beforeDraw(n,t,e){const i="beforeDraw"===e.drawTime,r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let s=r.length-1;s>=0;--s){const a=r[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),i&&a.fill&&AN(n.ctx,a,o))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;A7(o)&&AN(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!A7(i)||"beforeDatasetDraw"!==e.drawTime||AN(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const M7=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}};class R7 extends Gl{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ni(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,r=mr(i.font),o=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=M7(i,o);let c,d;e.font=r.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(s,o,a,l)+10):(d=this.maxHeight,c=this._fitCols(s,r,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=r+a;let h=t;o.textAlign="left",o.textBaseline="middle";let p=-1,v=-d;return this.legendItems.forEach((b,w)=>{const E=i+e/2+o.measureText(b.text).width;(0===w||c[c.length-1]+E+2*a>s)&&(h+=d,c[c.length-(w>0?0:1)]=0,v+=d,p++),l[w]={left:0,top:v,row:p,width:E,height:r},c[c.length-1]+=E+a}),h}_fitCols(t,e,i,r){const{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=s-t;let h=a,p=0,v=0,b=0,w=0;return this.legendItems.forEach((E,M)=>{const{itemWidth:S,itemHeight:V}=function DDe(n,t,e,i,r){const o=function kDe(n,t,e,i){let r=n.text;return r&&"string"!=typeof r&&(r=r.reduce((o,s)=>o.length>s.length?o:s)),t+e.size/2+i.measureText(r).width}(i,n,t,e),s=function MDe(n,t,e){let i=n;return"string"!=typeof t.text&&(i=P7(t,e)),i}(r,i,t.lineHeight);return{itemWidth:o,itemHeight:s}}(i,e,o,E,r);M>0&&v+V+2*a>d&&(h+=p+a,c.push({width:p,height:v}),b+=p+a,w++,p=v=0),l[M]={left:b,top:v,col:w,width:S,height:V},p=Math.max(p,S),v+=V+a}),h+=p,c.push({width:p,height:v}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,s=Jm(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=io(i,this.left+r,this.right-this.lineWidths[a]);for(const c of e)a!==c.row&&(a=c.row,l=io(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+t+r,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+r}else{let a=0,l=io(i,this.top+t+r,this.bottom-this.columnSizes[a].height);for(const c of e)c.col!==a&&(a=c.col,l=io(i,this.top+t+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;SI(t,this),this._draw(),DI(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:s}=t,a=Ci.color,l=Jm(t.rtl,this.left,this.width),c=mr(s.font),{padding:d}=s,h=c.size,p=h/2;let v;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:b,boxHeight:w,itemHeight:E}=M7(s,h),V=this.isHorizontal(),$=this._computeTitleHeight();v=V?{x:io(o,this.left+d,this.right-i[0]),y:this.top+d+$,line:0}:{x:this.left+d,y:io(o,this.top+$+d,this.bottom-e[0].height),line:0},b9(this.ctx,t.textDirection);const Q=E+d;this.legendItems.forEach((ee,L)=>{r.strokeStyle=ee.fontColor,r.fillStyle=ee.fontColor;const k=r.measureText(ee.text).width,F=l.textAlign(ee.textAlign||(ee.textAlign=s.textAlign)),j=b+p+k;let K=v.x,Z=v.y;l.setWidth(this.width),V?L>0&&K+j+d>this.right&&(Z=v.y+=Q,v.line++,K=v.x=io(o,this.left+d,this.right-i[v.line])):L>0&&Z+Q>this.bottom&&(K=v.x=K+e[v.line].width+d,v.line++,Z=v.y=io(o,this.top+$+d,this.bottom-e[v.line].height)),function(ee,L,k){if(isNaN(b)||b<=0||isNaN(w)||w<0)return;r.save();const F=Ft(k.lineWidth,1);if(r.fillStyle=Ft(k.fillStyle,a),r.lineCap=Ft(k.lineCap,"butt"),r.lineDashOffset=Ft(k.lineDashOffset,0),r.lineJoin=Ft(k.lineJoin,"miter"),r.lineWidth=F,r.strokeStyle=Ft(k.strokeStyle,a),r.setLineDash(Ft(k.lineDash,[])),s.usePointStyle){const j={radius:w*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:F},K=l.xPlus(ee,b/2);a9(r,j,K,L+p,s.pointStyleWidth&&b)}else{const j=L+Math.max((h-w)/2,0),K=l.leftForLtr(ee,b),Z=Qu(k.borderRadius);r.beginPath(),Object.values(Z).some(z=>0!==z)?bb(r,{x:K,y:j,w:b,h:w,radius:Z}):r.rect(K,j,b,w),r.fill(),0!==F&&r.stroke()}r.restore()}(l.x(K),Z,ee),K=((n,t,e,i)=>n===(i?"left":"right")?e:"center"===n?(t+e)/2:t)(F,K+b+p,V?K+j:this.right,t.rtl),function(ee,L,k){Yu(r,k.text,ee,L+E/2,c,{strikethrough:k.hidden,textAlign:l.textAlign(k.textAlign)})}(l.x(K),Z,ee),V?v.x+=j+d:v.y+="string"!=typeof ee.text?P7(ee,c.lineHeight)+d:Q}),y9(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=mr(e.font),r=ro(e.padding);if(!e.display)return;const o=Jm(t.rtl,this.left,this.width),s=this.ctx,a=e.position,c=r.top+i.size/2;let d,h=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),d=this.top+c,h=io(t.align,h,this.right-p);else{const b=this.columnSizes.reduce((w,E)=>Math.max(w,E.height),0);d=c+io(t.align,this.top,this.bottom-b-t.labels.padding-this._computeTitleHeight())}const v=io(a,h,h+p);s.textAlign=o.textAlign(XO(a)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=i.string,Yu(s,e.text,v,d,i)}_computeTitleHeight(){const t=this.options.title,e=mr(t.font),i=ro(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(jl(t,this.left,this.right)&&jl(e,this.top,this.bottom))for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],jl(t,r.left,r.left+r.width)&&jl(e,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function RDe(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,o=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(r,i);r&&!o&&ni(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&ni(e.onHover,[t,i,this],this)}else i&&ni(e.onClick,[t,i,this],this)}}function P7(n,t){return t*(n.text?n.text.length:0)}var PDe={id:"legend",_element:R7,start(n,t,e){const i=n.legend=new R7({ctx:n.ctx,options:e,chart:n});oo.configure(n,i,e),oo.addBox(n,i)},stop(n){oo.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;oo.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:s,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(e?0:void 0),d=ro(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:s&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class TN extends Gl{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=gi(i.text)?i.text.length:1;this._padding=ro(i.padding);const o=r*mr(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:s}=this,a=s.align;let c,d,h,l=0;return this.isHorizontal()?(d=io(a,i,o),h=e+t,c=o-i):("left"===s.position?(d=i+t,h=io(a,r,e),l=-.5*_i):(d=o-t,h=io(a,e,r),l=.5*_i),c=r-e),{titleX:d,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=mr(e.font),o=i.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);Yu(t,e.text,0,0,i,{color:e.color,maxWidth:l,rotation:c,textAlign:XO(e.align),textBaseline:"middle",translation:[s,a]})}}var NDe={id:"title",_element:TN,start(n,t,e){!function ODe(n,t){const e=new TN({ctx:n.ctx,options:t,chart:n});oo.configure(n,e,t),oo.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){oo.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;oo.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const $I=new WeakMap;var FDe={id:"subtitle",start(n,t,e){const i=new TN({ctx:n.ctx,options:e,chart:n});oo.configure(n,i,e),oo.addBox(n,i),$I.set(n,i)},stop(n){oo.removeBox(n,$I.get(n)),$I.delete(n)},beforeUpdate(n,t,e){const i=$I.get(n);oo.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const kb={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const a=n[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),r+=l.y,++o}}return 0!==o&&0!==i.size&&{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let o,s,a,e=t.x,i=t.y,r=Number.POSITIVE_INFINITY;for(o=0,s=n.length;o<s;++o){const l=n[o].element;if(l&&l.hasValue()){const d=YO(t,l.getCenterPoint());d<r&&(r=d,a=l)}}if(a){const l=a.tooltipPosition();e=l.x,i=l.y}return{x:e,y:i}}};function qa(n,t){return t&&(gi(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ql(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function LDe(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:n,label:s,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function O7(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:s,boxHeight:a}=t,l=mr(t.bodyFont),c=mr(t.titleFont),d=mr(t.footerFont),h=o.length,p=r.length,v=i.length,b=ro(t.padding);let w=b.height,E=0,M=i.reduce(($,Q)=>$+Q.before.length+Q.lines.length+Q.after.length,0);M+=n.beforeBody.length+n.afterBody.length,h&&(w+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),M&&(w+=v*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(M-v)*l.lineHeight+(M-1)*t.bodySpacing),p&&(w+=t.footerMarginTop+p*d.lineHeight+(p-1)*t.footerSpacing);let S=0;const V=function($){E=Math.max(E,e.measureText($).width+S)};return e.save(),e.font=c.string,Sn(n.title,V),e.font=l.string,Sn(n.beforeBody.concat(n.afterBody),V),S=t.displayColors?s+2+t.boxPadding:0,Sn(i,$=>{Sn($.before,V),Sn($.lines,V),Sn($.after,V)}),S=0,e.font=d.string,Sn(n.footer,V),e.restore(),E+=b.width,{width:E,height:w}}function UDe(n,t,e,i){const{x:r,width:o}=e,{width:s,chartArea:{left:a,right:l}}=n;let c="center";return"center"===i?c=r<=(a+l)/2?"left":"right":r<=o/2?c="left":r>=s-o/2&&(c="right"),function BDe(n,t,e,i){const{x:r,width:o}=i,s=e.caretSize+e.caretPadding;if("left"===n&&r+o+s>t.width||"right"===n&&r-o-s<0)return!0}(c,n,t,e)&&(c="center"),c}function N7(n,t,e){const i=e.yAlign||t.yAlign||function VDe(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||UDe(n,t,e,i),yAlign:i}}function F7(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:s}=n,{xAlign:a,yAlign:l}=e,c=r+o,{topLeft:d,topRight:h,bottomLeft:p,bottomRight:v}=Qu(s);let b=function zDe(n,t){let{x:e,width:i}=n;return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(t,a);const w=function jDe(n,t,e){let{y:i,height:r}=n;return"top"===t?i+=e:i-="bottom"===t?r+e:r/2,i}(t,l,c);return"center"===l?"left"===a?b+=c:"right"===a&&(b-=c):"left"===a?b-=Math.max(d,p)+r:"right"===a&&(b+=Math.max(h,v)+r),{x:Tr(b,0,i.width-t.width),y:Tr(w,0,i.height-t.height)}}function WI(n,t,e){const i=ro(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-i.right:n.x+i.left}function L7(n){return qa([],ql(n))}function V7(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const B7={beforeTitle:zl,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:zl,beforeBody:zl,beforeLabel:zl,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return mn(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:zl,afterBody:zl,beforeFooter:zl,footer:zl,afterFooter:zl};function Bo(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?B7[t].call(e,i):r}let U7=(()=>class n extends Gl{static positioners=kb;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&i.options.animation&&r.animations,s=new S9(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=function HDe(n,t,e){return sd(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:r}=i,o=Bo(r,"beforeTitle",this,e),s=Bo(r,"title",this,e),a=Bo(r,"afterTitle",this,e);let l=[];return l=qa(l,ql(o)),l=qa(l,ql(s)),l=qa(l,ql(a)),l}getBeforeBody(e,i){return L7(Bo(i.callbacks,"beforeBody",this,e))}getBody(e,i){const{callbacks:r}=i,o=[];return Sn(e,s=>{const a={before:[],lines:[],after:[]},l=V7(r,s);qa(a.before,ql(Bo(l,"beforeLabel",this,s))),qa(a.lines,Bo(l,"label",this,s)),qa(a.after,ql(Bo(l,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(e,i){return L7(Bo(i.callbacks,"afterBody",this,e))}getFooter(e,i){const{callbacks:r}=i,o=Bo(r,"beforeFooter",this,e),s=Bo(r,"footer",this,e),a=Bo(r,"afterFooter",this,e);let l=[];return l=qa(l,ql(o)),l=qa(l,ql(s)),l=qa(l,ql(a)),l}_createItems(e){const i=this._active,r=this.chart.data,o=[],s=[],a=[];let c,d,l=[];for(c=0,d=i.length;c<d;++c)l.push(LDe(this.chart,i[c]));return e.filter&&(l=l.filter((h,p,v)=>e.filter(h,p,v,r))),e.itemSort&&(l=l.sort((h,p)=>e.itemSort(h,p,r))),Sn(l,h=>{const p=V7(e.callbacks,h);o.push(Bo(p,"labelColor",this,h)),s.push(Bo(p,"labelPointStyle",this,h)),a.push(Bo(p,"labelTextColor",this,h))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,i){const r=this.options.setContext(this.getContext()),o=this._active;let s,a=[];if(o.length){const l=kb[r.position].call(this,o,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const c=this._size=O7(this,r),d=Object.assign({},l,c),h=N7(this.chart,r,d),p=F7(r,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:p.x,y:p.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,r,o){const s=this.getCaretPosition(e,r,o);i.lineTo(s.x1,s.y1),i.lineTo(s.x2,s.y2),i.lineTo(s.x3,s.y3)}getCaretPosition(e,i,r){const{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:d,bottomLeft:h,bottomRight:p}=Qu(l),{x:v,y:b}=e,{width:w,height:E}=i;let M,S,V,$,Q,ee;return"center"===s?(Q=b+E/2,"left"===o?(M=v,S=M-a,$=Q+a,ee=Q-a):(M=v+w,S=M+a,$=Q-a,ee=Q+a),V=M):(S="left"===o?v+Math.max(c,h)+a:"right"===o?v+w-Math.max(d,p)-a:this.caretX,"top"===s?($=b,Q=$-a,M=S-a,V=S+a):($=b+E,Q=$+a,M=S+a,V=S-a),ee=$),{x1:M,x2:S,x3:V,y1:$,y2:Q,y3:ee}}drawTitle(e,i,r){const o=this.title,s=o.length;let a,l,c;if(s){const d=Jm(r.rtl,this.x,this.width);for(e.x=WI(this,r.titleAlign,r),i.textAlign=d.textAlign(r.titleAlign),i.textBaseline="middle",a=mr(r.titleFont),l=r.titleSpacing,i.fillStyle=r.titleColor,i.font=a.string,c=0;c<s;++c)i.fillText(o[c],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===s&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,i,r,o,s){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:d}=s,h=mr(s.bodyFont),p=WI(this,"left",s),v=o.x(p),w=i.y+(c<h.lineHeight?(h.lineHeight-c)/2:0);if(s.usePointStyle){const E={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},M=o.leftForLtr(v,d)+d/2,S=w+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,nN(e,E,M,S),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,nN(e,E,M,S)}else{e.lineWidth=an(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const E=o.leftForLtr(v,d),M=o.leftForLtr(o.xPlus(v,1),d-2),S=Qu(a.borderRadius);Object.values(S).some(V=>0!==V)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,bb(e,{x:E,y:w,w:d,h:c,radius:S}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),bb(e,{x:M,y:w+1,w:d-2,h:c-2,radius:S}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(E,w,d,c),e.strokeRect(E,w,d,c),e.fillStyle=a.backgroundColor,e.fillRect(M,w+1,d-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,i,r){const{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:h}=r,p=mr(r.bodyFont);let v=p.lineHeight,b=0;const w=Jm(r.rtl,this.x,this.width),E=function(F){i.fillText(F,w.x(e.x+b),e.y+v/2),e.y+=v+s},M=w.textAlign(a);let S,V,$,Q,ee,L,k;for(i.textAlign=a,i.textBaseline="middle",i.font=p.string,e.x=WI(this,M,r),i.fillStyle=r.bodyColor,Sn(this.beforeBody,E),b=l&&"right"!==M?"center"===a?d/2+h:d+2+h:0,Q=0,L=o.length;Q<L;++Q){for(S=o[Q],V=this.labelTextColors[Q],i.fillStyle=V,Sn(S.before,E),$=S.lines,l&&$.length&&(this._drawColorBox(i,e,Q,w,r),v=Math.max(p.lineHeight,c)),ee=0,k=$.length;ee<k;++ee)E($[ee]),v=p.lineHeight;Sn(S.after,E)}b=0,v=p.lineHeight,Sn(this.afterBody,E),e.y-=s}drawFooter(e,i,r){const o=this.footer,s=o.length;let a,l;if(s){const c=Jm(r.rtl,this.x,this.width);for(e.x=WI(this,r.footerAlign,r),e.y+=r.footerMarginTop,i.textAlign=c.textAlign(r.footerAlign),i.textBaseline="middle",a=mr(r.footerFont),i.fillStyle=r.footerColor,i.font=a.string,l=0;l<s;++l)i.fillText(o[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,i,r,o){const{xAlign:s,yAlign:a}=this,{x:l,y:c}=e,{width:d,height:h}=r,{topLeft:p,topRight:v,bottomLeft:b,bottomRight:w}=Qu(o.cornerRadius);i.fillStyle=o.backgroundColor,i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.beginPath(),i.moveTo(l+p,c),"top"===a&&this.drawCaret(e,i,r,o),i.lineTo(l+d-v,c),i.quadraticCurveTo(l+d,c,l+d,c+v),"center"===a&&"right"===s&&this.drawCaret(e,i,r,o),i.lineTo(l+d,c+h-w),i.quadraticCurveTo(l+d,c+h,l+d-w,c+h),"bottom"===a&&this.drawCaret(e,i,r,o),i.lineTo(l+b,c+h),i.quadraticCurveTo(l,c+h,l,c+h-b),"center"===a&&"left"===s&&this.drawCaret(e,i,r,o),i.lineTo(l,c+p),i.quadraticCurveTo(l,c,l+p,c),i.closePath(),i.fill(),o.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,r=this.$animations,o=r&&r.x,s=r&&r.y;if(o||s){const a=kb[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=O7(this,e),c=Object.assign({},a,this._size),d=N7(i,e,c),h=F7(e,c,d,i);(o._to!==h.x||s._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const i=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(i);const o={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=ro(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,o,i),b9(e,i.textDirection),s.y+=a.top,this.drawTitle(s,e,i),this.drawBody(s,e,i),this.drawFooter(s,e,i),y9(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const r=this._active,o=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),s=!xI(r,o),a=this._positionChanged(o,i);(s||a)&&(this._active=o,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,s=this._active||[],a=this._getActiveElements(e,s,i,r),l=this._positionChanged(a,e),c=i||!xI(a,s)||l;return c&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),c}_getActiveElements(e,i,r,o){const s=this.options;if("mouseout"===e.type)return[];if(!o)return i.filter(l=>this.chart.data.datasets[l.datasetIndex]&&void 0!==this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index));const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,i){const{caretX:r,caretY:o,options:s}=this,a=kb[s.position].call(this,e,i);return!1!==a&&(r!==a.x||o!==a.y)}})();var $De={id:"tooltip",_element:U7,positioners:kb,afterInit(n,t,e){e&&(n.tooltip=new U7({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:B7},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},WDe=Object.freeze({__proto__:null,Colors:iDe,Decimation:aDe,Filler:TDe,Legend:PDe,SubTitle:FDe,Title:NDe,Tooltip:$De});function z7(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}let YDe=(()=>class n extends th{static id="category";static defaults={ticks:{callback:z7}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const i=this._addedLabels;if(i.length){const r=this.getLabels();for(const{index:o,label:s}of i)r[o]===s&&r.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(mn(e))return null;const r=this.getLabels();return((n,t)=>null===n?null:Tr(Math.round(n),0,t))(i=isFinite(i)&&r[i]===e?i:function qDe(n,t,e,i){const r=n.indexOf(t);return-1===r?((n,t,e,i)=>("string"==typeof t?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,i):r!==n.lastIndexOf(t)?e:r}(r,e,Ft(i,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),i||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){const e=this.min,i=this.max,r=this.options.offset,o=[];let s=this.getLabels();s=0===e&&i===s.length-1?s:s.slice(e,i+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=i;a++)o.push({value:a});return o}getLabelForValue(e){return z7.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}})();function j7(n,t,{horizontal:e,minRotation:i}){const r=oa(i),o=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(t/o,.75*t*(""+n).length)}class GI extends th{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return mn(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const s=l=>r=e?r:l,a=l=>o=i?o:l;if(t){const l=Wa(r),c=Wa(o);l<0&&c<0?a(0):l>0&&c>0&&s(0)}if(r===o){let l=0===o?1:Math.abs(.05*o);a(o+l),t||s(r-l)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let r,{maxTicksLimit:e,stepSize:i}=t;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s=function QDe(n,t){const e=[],{bounds:r,step:o,min:s,max:a,precision:l,count:c,maxTicks:d,maxDigits:h,includeBounds:p}=n,v=o||1,b=d-1,{min:w,max:E}=t,M=!mn(s),S=!mn(a),V=!mn(c),$=(E-w)/(h+1);let ee,L,k,F,Q=$q((E-w)/b/v)*v;if(Q<1e-14&&!M&&!S)return[{value:w},{value:E}];F=Math.ceil(E/Q)-Math.floor(w/Q),F>b&&(Q=$q(F*Q/b/v)*v),mn(l)||(ee=Math.pow(10,l),Q=Math.ceil(Q*ee)/ee),"ticks"===r?(L=Math.floor(w/Q)*Q,k=Math.ceil(E/Q)*Q):(L=w,k=E),M&&S&&o&&function FCe(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((a-s)/o,Q/1e3)?(F=Math.round(Math.min((a-s)/Q,d)),Q=(a-s)/F,L=s,k=a):V?(L=M?s:L,k=S?a:k,F=c-1,Q=(k-L)/F):(F=(k-L)/Q,F=mb(F,Math.round(F),Q/1e3)?Math.round(F):Math.ceil(F));const j=Math.max(Gq(Q),Gq(L));ee=Math.pow(10,mn(l)?j:l),L=Math.round(L*ee)/ee,k=Math.round(k*ee)/ee;let K=0;for(M&&(p&&L!==s?(e.push({value:s}),L<s&&K++,mb(Math.round((L+K*Q)*ee)/ee,s,j7(s,$,n))&&K++):L<s&&K++);K<F;++K){const Z=Math.round((L+K*Q)*ee)/ee;if(S&&Z>a)break;e.push({value:Z})}return S&&p&&k!==a?e.length&&mb(e[e.length-1].value,a,j7(a,$,n))?e[e.length-1].value=a:e.push({value:a}):(!S||k===a)&&e.push({value:k}),e}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&Wq(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return _b(t,this.chart.options.locale,this.options.ticks.format)}}const Mb=n=>Math.floor(od(n)),nh=(n,t)=>Math.pow(10,Mb(n)+t);function H7(n){return n/Math.pow(10,Mb(n))==1}function $7(n,t,e){const i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}function SN(n){const t=n.ticks;if(t.display&&n.display){const e=ro(t.backdropPadding);return Ft(t.font&&t.font.size,Ci.font.size)+e.height}return 0}function tke(n,t,e){return e=gi(e)?e:[e],{w:JCe(n,t.string,e),h:e.length*t.lineHeight}}function W7(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function ike(n,t,e,i,r){const o=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/o,n.l=Math.min(n.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/o,n.r=Math.max(n.r,t.r+a)),r.start<t.t?(l=(t.t-r.start)/s,n.t=Math.min(n.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/s,n.b=Math.max(n.b,t.b+l))}function rke(n,t,e){const i=n.drawingArea,{extra:r,additionalAngle:o,padding:s,size:a}=e,l=n.getPointPosition(t,i+r+s,o),c=Math.round(KO(ds(l.angle+Xi))),d=function cke(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}(l.y,a.h,c),h=function ake(n){return 0===n||180===n?"center":n<180?"left":"right"}(c),p=function lke(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}(l.x,a.w,h);return{visible:!0,x:l.x,y:d,textAlign:h,left:p,top:d,right:p+a.w,bottom:d+a.h}}function oke(n,t){if(!t)return!0;const{left:e,top:i,right:r,bottom:o}=n;return!($l({x:e,y:i},t)||$l({x:e,y:o},t)||$l({x:r,y:i},t)||$l({x:r,y:o},t))}function dke(n,t,e){const{left:i,top:r,right:o,bottom:s}=e,{backdropColor:a}=t;if(!mn(a)){const l=Qu(t.borderRadius),c=ro(t.backdropPadding);n.fillStyle=a;const d=i-c.left,h=r-c.top,p=o-i+c.width,v=s-r+c.height;Object.values(l).some(b=>0!==b)?(n.beginPath(),bb(n,{x:d,y:h,w:p,h:v,radius:l}),n.fill()):n.fillRect(d,h,p,v)}}function G7(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,vi);else{let o=n.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let s=1;s<i;s++)o=n.getPointPosition(s,t),r.lineTo(o.x,o.y)}}const qI={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Uo=Object.keys(qI);function q7(n,t){return n-t}function K7(n,t){if(mn(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let s=t;return"function"==typeof i&&(s=i(s)),Vi(s)||(s="string"==typeof i?e.parse(s,i):e.parse(s)),null===s?null:(r&&(s="week"!==r||!Qm(o)&&!0!==o?e.startOf(s,r):e.startOf(s,"isoWeek",o)),+s)}function Y7(n,t,e,i){const r=Uo.length;for(let o=Uo.indexOf(n);o<r-1;++o){const s=qI[Uo[o]];if(s.common&&Math.ceil((e-t)/((s.steps?s.steps:Number.MAX_SAFE_INTEGER)*s.size))<=i)return Uo[o]}return Uo[r-1]}function Q7(n,t,e){if(e){if(e.length){const{lo:i,hi:r}=QO(e,t);n[e[i]>=t?e[i]:e[r]]=!0}}else n[t]=!0}function X7(n,t,e){const i=[],r={},o=t.length;let s,a;for(s=0;s<o;++s)a=t[s],r[a]=s,i.push({value:a,major:!1});return 0!==o&&e?function _ke(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),s=t[t.length-1].value;let a,l;for(a=o;a<=s;a=+r.add(a,1,i))l=e[a],l>=0&&(t[l].major=!0);return t}(n,i,r,e):i}let DN=(()=>class n extends th{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){const r=e.time||(e.time={}),o=this._adapter=new vTe__date(e.adapters.date);o.init(i),hb(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return void 0===e?null:K7(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,r=e.time.unit||"day";let{min:o,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(o=Math.min(o,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!l)&&(c(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&c(this.getMinMax(!1))),o=Vi(o)&&!isNaN(o)?o:+i.startOf(Date.now(),r),s=Vi(s)&&!isNaN(s)?s:+i.endOf(Date.now(),r)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],r=e[e.length-1]),{min:i,max:r}}buildTicks(){const e=this.options,i=e.time,r=e.ticks,o="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const s=this.min,l=function UCe(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}(o,s,this.max);return this._unit=i.unit||(r.autoSkip?Y7(i.minUnit,this.min,this.max,this._getLabelCapacity(s)):function pke(n,t,e,i,r){for(let o=Uo.length-1;o>=Uo.indexOf(e);o--){const s=Uo[o];if(qI[s].common&&n._adapter.diff(r,i,s)>=t-1)return s}return Uo[e?Uo.indexOf(e):0]}(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function gke(n){for(let t=Uo.indexOf(n)+1,e=Uo.length;t<e;++t)if(qI[Uo[t]].common)return Uo[t]}(this._unit):void 0,this.initOffsets(o),e.reverse&&l.reverse(),X7(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let o,s,i=0,r=0;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),i=1===e.length?1-o:(this.getDecimalForValue(e[1])-o)/2,s=this.getDecimalForValue(e[e.length-1]),r=1===e.length?s:(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;i=Tr(i,0,a),r=Tr(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,i=this.min,r=this.max,o=this.options,s=o.time,a=s.unit||Y7(s.minUnit,i,r,this._getLabelCapacity(i)),l=Ft(o.ticks.stepSize,1),c="week"===a&&s.isoWeekday,d=Qm(c)||!0===c,h={};let v,b,p=i;if(d&&(p=+e.startOf(p,"isoWeek",c)),p=+e.startOf(p,d?"day":a),e.diff(r,i,a)>1e5*l)throw new Error(i+" and "+r+" are too far apart with stepSize of "+l+" "+a);const w="data"===o.ticks.source&&this.getDataTimestamps();for(v=p,b=0;v<r;v=+e.add(v,l,a),b++)Q7(h,v,w);return(v===r||"ticks"===o.bounds||1===b)&&Q7(h,v,w),Object.keys(h).sort(q7).map(E=>+E)}getLabelForValue(e){const r=this.options.time;return this._adapter.format(e,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}format(e,i){return this._adapter.format(e,i||this.options.time.displayFormats[this._unit])}_tickFormatFunction(e,i,r,o){const s=this.options,a=s.ticks.callback;if(a)return ni(a,[e,i,r],this);const l=s.time.displayFormats,c=this._unit,d=this._majorUnit,p=d&&l[d],v=r[i];return this._adapter.format(e,o||(d&&p&&v&&v.major?p:c&&l[c]))}generateTickLabels(e){let i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i],o.label=this._tickFormatFunction(o.value,i,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(e){const i=this._offsets,r=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,r=this.ctx.measureText(e).width,o=oa(this.isHorizontal()?i.maxRotation:i.minRotation),s=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*a,h:r*a+l*s}}_getLabelCapacity(e){const i=this.options.time,r=i.displayFormats,o=r[i.unit]||r.millisecond,s=this._tickFormatFunction(e,0,X7(this,[e],this._majorUnit),o),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let i,r,e=this._cache.data||[];if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(i=0,r=o.length;i<r;++i)e=e.concat(o[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,r;if(e.length)return e;const o=this.getLabels();for(i=0,r=o.length;i<r;++i)e.push(K7(this,o[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Qq(e.sort(q7))}})();function KI(n,t,e){let o,s,a,l,i=0,r=n.length-1;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Hl(n,"pos",t)),({pos:o,time:a}=n[i]),({pos:s,time:l}=n[r])):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Hl(n,"time",t)),({time:o,pos:a}=n[i]),({time:s,pos:l}=n[r]));const c=s-o;return c?a+(l-a)*(t-o)/c:a}var bke=Object.freeze({__proto__:null,CategoryScale:YDe,LinearScale:class XDe extends GI{static id="linear";static defaults={ticks:{callback:AI.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Vi(t)?t:0,this.max=Vi(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=oa(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},LogarithmicScale:class eke extends th{static id="logarithmic";static defaults={ticks:{callback:AI.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=GI.prototype.parse.apply(this,[t,e]);if(0!==i)return Vi(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Vi(t)?Math.max(0,t):null,this.max=Vi(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Vi(this._userMin)&&(this.min=t===nh(this.min,0)?nh(this.min,-1):nh(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const o=a=>i=t?i:a,s=a=>r=e?r:a;i===r&&(i<=0?(o(1),s(10)):(o(nh(i,-1)),s(nh(r,1)))),i<=0&&o(nh(r,-1)),r<=0&&s(nh(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,i=function JDe(n,{min:t,max:e}){t=cs(n.min,t);const i=[],r=Mb(t);let o=function ZDe(n,t){let i=Mb(t-n);for(;$7(n,t,i)>10;)i++;for(;$7(n,t,i)<10;)i--;return Math.min(i,Mb(n))}(t,e),s=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),l=r>o?Math.pow(10,r):0,c=Math.round((t-l)*s)/s,d=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((c-d)/Math.pow(10,o)),p=cs(n.min,Math.round((l+d+h*Math.pow(10,o))*s)/s);for(;p<e;)i.push({value:p,major:H7(p),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(o++,h=2,s=o>=0?1:s),p=Math.round((l+d+h*Math.pow(10,o))*s)/s;const v=cs(n.max,p);return i.push({value:v,major:H7(v),significand:h}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&Wq(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":_b(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=od(t),this._valueRange=od(this.max)-od(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(od(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}},RadialLinearScale:class mke extends GI{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:AI.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ro(SN(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Vi(t)&&!isNaN(t)?t:0,this.max=Vi(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/SN(this.options))}generateTickLabels(t){GI.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=ni(this.options.pointLabels.callback,[e,i],this);return r||0===r?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?function nke(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],o=n._pointLabels.length,s=n.options.pointLabels,a=s.centerPointLabels?_i/o:0;for(let l=0;l<o;l++){const c=s.setContext(n.getPointLabelContext(l));r[l]=c.padding;const d=n.getPointPosition(l,n.drawingArea+r[l],a),h=mr(c.font),p=tke(n.ctx,h,n._pointLabels[l]);i[l]=p;const v=ds(n.getIndexAngle(l)+a),b=Math.round(KO(v));ike(e,t,v,W7(b,d.x,p.w,0,180),W7(b,d.y,p.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function ske(n,t,e){const i=[],r=n._pointLabels.length,o=n.options,{centerPointLabels:s,display:a}=o.pointLabels,l={extra:SN(o)/2,additionalAngle:s?_i/r:0};let c;for(let d=0;d<r;d++){l.padding=e[d],l.size=t[d];const h=rke(n,d,l);i.push(h),"auto"===a&&(h.visible=oke(h,c),h.visible&&(c=h))}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){return ds(t*(vi/(this._pointLabels.length||1))+oa(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(mn(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(mn(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function fke(n,t,e){return sd(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-Xi+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),G7(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r,border:o}=e,s=this._pointLabels.length;let a,l,c;if(e.pointLabels.display&&function uke(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const o=n._pointLabelItems[r];if(!o.visible)continue;const s=i.setContext(n.getPointLabelContext(r));dke(e,s,o);const a=mr(s.font),{x:l,y:c,textAlign:d}=o;Yu(e,n._pointLabels[r],l,c+a.lineHeight/2,a,{color:s.color,textAlign:d,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach((d,h)=>{if(0!==h||0===h&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);const p=this.getContext(h),v=r.setContext(p),b=o.setContext(p);!function hke(n,t,e,i,r){const o=n.ctx,s=t.circular,{color:a,lineWidth:l}=t;!s&&!i||!a||!l||e<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),G7(n,e,s,i),o.closePath(),o.stroke(),o.restore())}(this,v,l,s,b)}}),i.display){for(t.save(),a=s-1;a>=0;a--){const d=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:p}=d;!p||!h||(t.lineWidth=p,t.strokeStyle=h,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let o,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(0===l&&this.min>=0&&!e.reverse)return;const c=i.setContext(this.getContext(l)),d=mr(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=d.string,s=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=ro(c.backdropPadding);t.fillRect(-s/2-h.left,-o-d.size/2-h.top,s+h.width,d.size+h.height)}Yu(t,a.label,0,-o,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}},TimeScale:DN,TimeSeriesScale:class vke extends DN{static id="timeseries";static defaults=DN.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=KI(e,this.min),this._tableRange=KI(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let s,a,l,c,d;for(s=0,a=t.length;s<a;++s)c=t[s],c>=e&&c<=i&&r.push(c);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(s=0,a=r.length;s<a;++s)d=r[s+1],l=r[s-1],c=r[s],Math.round((d+l)/2)!==c&&o.push({time:c,pos:s/(a-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||1===i.length)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(KI(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return KI(this._table,i*this._tableRange+this._minPos,!0)}}});Db.register(_Te,QSe,WDe,bke);let wke=(()=>{class n{constructor(e){this.firestore=e,this.statistics=[],this.totalRevenue=0}ngOnInit(){this.loadStatistics(),this.cleanupOldStatistics()}loadStatistics(){this.firestore.collection("daily_statistics").valueChanges().subscribe(e=>{this.statistics=e,this.calculateTotalRevenue(),this.generateCharts()})}calculateTotalRevenue(){this.totalRevenue=this.statistics.reduce((e,i)=>e+i.revenue,0)}generateCharts(){setTimeout(()=>{this.createTableRevenueChart(),this.createWaiterChart(),this.createSalesByDayChart()},500)}createTableRevenueChart(){const e={};this.statistics.forEach(o=>{e[o.tableName]=(e[o.tableName]||0)+o.revenue});const i=Object.keys(e),r=Object.values(e);this.tableChart&&this.tableChart.destroy(),this.tableChart=new Db("tableRevenueChart",{type:"bar",data:{labels:i,datasets:[{label:"Ingresos por Mesa ($)",data:r,backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1,barThickness:48}]}})}createWaiterChart(){const e={};this.statistics.forEach(o=>{e[o.waiterName]=(e[o.waiterName]||0)+1});const i=Object.keys(e),r=Object.values(e);this.waiterChart&&this.waiterChart.destroy(),this.waiterChart=new Db("waiterChart",{type:"bar",data:{labels:i,datasets:[{label:"Mesas Atendidas",data:r,backgroundColor:"rgba(255, 99, 132, 0.6)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1,barThickness:48}]}})}createSalesByDayChart(){const e=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],i={};this.statistics.forEach(s=>{const a=new Date(s.date),l=e[a.getDay()];i[l]=(i[l]||0)+s.revenue});const r=Object.keys(i),o=Object.values(i);this.salesChart&&this.salesChart.destroy(),this.salesChart=new Db("salesByDayChart",{type:"bar",data:{labels:r,datasets:[{label:"Ingresos por D\xeda ($)",data:o,backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1,barThickness:48}]}})}cleanupOldStatistics(){const e=(new Date).getTime()-6048e5;this.firestore.collection("daily_statistics").get().subscribe(i=>{i.forEach(r=>{r.data().date<e&&this.firestore.collection("daily_statistics").doc(r.id).delete()})})}static{this.\u0275fac=function(i){return new(i||n)(O(lE))}}static{this.\u0275cmp=St({type:n,selectors:[["app-stadistics"]],decls:16,vars:0,consts:[[1,"container","mt-4"],[1,"text-center","mb-4"],["mat-card-image","","src","./assets/nuovo-cafe.jpg","alt","table",1,"rounded-circle",2,"width","50px","height","50px"],[1,"card","shadow-lg","p-4","mb-4"],[1,"text-center"],["id","tableRevenueChart"],["id","waiterChart"],["id","salesByDayChart"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"h2",1),vt(2,"img",2),le(3," Estad\xedsticas de nuovo caff\xe9"),G(),q(4,"div",3)(5,"h4",4),le(6,"\u{1f4b0} Mesas con m\xe1s ingresos"),G(),vt(7,"canvas",5),G(),q(8,"div",3)(9,"h4",4),le(10,"\u{1f9d1}\u200d\u{1f373} Mozos con m\xe1s mesas atendidas"),G(),vt(11,"canvas",6),G(),q(12,"div",3)(13,"h4",4),le(14,"\u{1f4c5} D\xedas con m\xe1s ventas"),G(),vt(15,"canvas",7),G()())},dependencies:[lb],styles:[".container[_ngcontent-%COMP%]{max-width:900px}.card[_ngcontent-%COMP%]{border-radius:15px;background:#ffffff;box-shadow:0 4px 10px #0000001a;padding:20px}h4[_ngcontent-%COMP%]{font-weight:700;margin-bottom:20px}canvas[_ngcontent-%COMP%]{width:100%!important;height:300px!important}.btn[_ngcontent-%COMP%]{font-size:1.2rem;padding:12px 25px;border-radius:10px}.badge[_ngcontent-%COMP%]{font-size:1.2rem;padding:10px 15px}"]})}}return n})();function xke(n,t){if(1&n&&(q(0,"tr")(1,"td"),le(2),Zs(3,"date"),G(),q(4,"td"),le(5),G(),q(6,"td"),le(7),G(),q(8,"td"),le(9),Zs(10,"currency"),G()()),2&n){const e=t.$implicit;ge(2),hr(function nU(n,t,e,i){const r=n+zt,o=ye(),s=dc(o,r);return Wg(o,r)?ZB(o,cr(),t,s.transform,e,i,s):s.transform(e,i)}(3,4,e.date,"short")),ge(3),hr(e.tableName),ge(2),hr(e.waiterName),ge(2),hr(Ta(10,7,e.revenue))}}let Eke=(()=>{class n{constructor(e,i){this.firestore=e,this.coffeService=i,this.occupiedTables=[],this.totalRevenue=0}ngOnInit(){this.loadOccupiedTables()}loadOccupiedTables(){this.firestore.collection("daily_statistics").valueChanges().subscribe(e=>{this.occupiedTables=e,this.totalRevenue=this.occupiedTables.reduce((i,r)=>i+r.revenue,0)})}static{this.\u0275fac=function(i){return new(i||n)(O(lE),O(Am))}}static{this.\u0275cmp=St({type:n,selectors:[["app-balance"]],decls:22,vars:2,consts:[[1,"container","mt-4"],[1,"text-center","mb-4"],[1,"table-responsive"],[1,"table","table-striped","table-bordered","text-center"],[1,"thead-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"text-center","mt-4"],[1,"badge","bg-success"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"h2",1),le(2,"Reporte de Mesas Ocupadas"),G(),q(3,"div",2)(4,"table",3)(5,"thead",4)(6,"tr")(7,"th",5),le(8,"Fecha"),G(),q(9,"th",5),le(10,"Mesa"),G(),q(11,"th",5),le(12,"Mozo"),G(),q(13,"th",5),le(14,"Ingreso"),G()()(),q(15,"tbody"),Be(16,xke,11,9,"tr",6),G()()(),q(17,"div",7)(18,"h4"),le(19,"Total Ingresos: "),q(20,"span",8),le(21),G()()()()),2&i&&(ge(16),ve("ngForOf",r.occupiedTables),ge(5),Kr("$ ",r.totalRevenue.toFixed(2),""))},dependencies:[gl,BS,Sw],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;text-align:left}th[_ngcontent-%COMP%]{background-color:#f4f4f4}"]})}}return n})();const Z7=()=>(n=>Vn(UO,fe(t=>t&&n||!0)))(["/home"]),Cke=[{path:"",pathMatch:"full",redirectTo:"/home"},{path:"home",component:jIe,...zO(()=>(n=>Vn(UO,fe(t=>t||n)))(["/login"]))},{path:"login",component:HIe,...zO(Z7)},{path:"register",component:$Ie,...zO(Z7)},{path:"admin",component:JIe},{path:"stadistic",component:wke},{path:"balance",component:Eke}];let Ake=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[u4.forRoot(Cke),u4]})}}return n})();function J7(n){return new ce(3e3,!1)}function cd(n){switch(n.length){case 0:return new Iv;case 1:return n[0];default:return new o6(n)}}function eK(n,t,e=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),d=c==s,h=d&&a||new Map;l.forEach((p,v)=>{let b=v,w=p;if("offset"!==v)switch(b=n.normalizePropertyName(b,r),w){case"!":w=e.get(v);break;case Ml:w=i.get(v);break;default:w=n.normalizeStyleValue(v,b,w,r)}h.set(b,w)}),d||o.push(h),a=h,s=c}),r.length)throw function Yke(n){return new ce(3502,!1)}();return o}function kN(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&MN(e,"start",n)));break;case"done":n.onDone(()=>i(e&&MN(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&MN(e,"destroy",n)))}}function MN(n,t,e){const o=RN(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function RN(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function us(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function tK(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const aMe=(()=>typeof document>"u"?null:document.documentElement)();function PN(n){const t=n.parentNode||n.host||null;return t===aMe?null:t}let ih=null,nK=!1;function iK(n,t){for(;t;){if(t===n)return!0;t=PN(t)}return!1}function rK(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let oK=(()=>{class n{validateStyleProperty(e){return function cMe(n){ih||(ih=function dMe(){return typeof document<"u"?document.body:null}()||{},nK=!!ih.style&&"WebkitAppearance"in ih.style);let t=!0;return ih.style&&!function lMe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in ih.style,!t&&nK&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ih.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return iK(e,i)}getParentElement(e){return PN(e)}query(e,i,r){return rK(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new Iv(r,o)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})(),ON=(()=>{class n{static{this.NOOP=new oK}}return n})();const uMe=1e3,NN="ng-enter",YI="ng-leave",QI="ng-trigger",XI=".ng-trigger",aK="ng-animating",FN=".ng-animating";function Kl(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:LN(parseFloat(t[1]),t[2])}function LN(n,t){return"s"===t?n*uMe:n}function ZI(n,t,e){return n.hasOwnProperty("duration")?n:function fMe(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(J7()),{duration:0,delay:0,easing:""};r=LN(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=LN(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function Tke(){return new ce(3100,!1)}()),a=!0),o<0&&(t.push(function Ske(){return new ce(3101,!1)}()),a=!0),a&&t.splice(l,0,J7())}return{duration:r,delay:o,easing:s}}(n,t,e)}function Rb(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function lK(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function dd(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Ka(n,t,e){t.forEach((i,r)=>{const o=BN(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function rh(n,t){t.forEach((e,i)=>{const r=BN(i);n.style[r]=""})}function Pb(n){return Array.isArray(n)?1==n.length?n[0]:r6(n):n}const VN=new RegExp("{{\\s*(.+?)\\s*}}","g");function dK(n){let t=[];if("string"==typeof n){let e;for(;e=VN.exec(n);)t.push(e[1]);VN.lastIndex=0}return t}function Ob(n,t,e){const i=n.toString(),r=i.replace(VN,(o,s)=>{let a=t[s];return null==a&&(e.push(function kke(n){return new ce(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function JI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const gMe=/-+([a-z0-9])/g;function BN(n){return n.replace(gMe,(...t)=>t[1].toUpperCase())}function hs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Mke(n){return new ce(3004,!1)}()}}function uK(n,t){return window.getComputedStyle(n)[t]}const eC="*";function bMe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function yMe(n,t,e){if(":"==n[0]){const l=function wMe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Wke(n){return new ce(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function $ke(n){return new ce(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push(hK(r,s));"<"==o[0]&&!(r==eC&&s==eC)&&t.push(hK(s,r))}(i,e,t)):e.push(n),e}const tC=new Set(["true","1"]),nC=new Set(["false","0"]);function hK(n,t){const e=tC.has(n)||nC.has(n),i=tC.has(t)||nC.has(t);return(r,o)=>{let s=n==eC||n==r,a=t==eC||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?tC.has(n):nC.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?tC.has(t):nC.has(t)),s&&a}}const xMe=new RegExp("s*:selfs*,?","g");function UN(n,t,e,i){return new EMe(n).build(t,e,i)}class EMe{constructor(t){this._driver=t}build(t,e,i){const r=new AMe(e);return this._resetContextStyleTimingState(r),hs(this,Pb(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function Pke(){return new ce(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function Oke(){return new ce(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{dK(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(JI(o.values()),e.errors.push(function Nke(n,t){return new ce(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=hs(this,Pb(t.animation),e);return{type:1,matchers:bMe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:oh(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>hs(this,i,e)),options:oh(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=hs(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:oh(t.options)}}visitAnimate(t,e){const i=function SMe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return zN(ZI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=zN(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=ZI(e,t);return zN(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:ir({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=ir(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Ml?i.push(a):e.errors.push(new ce(3002,!1)):i.push(lK(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),d=c.get(l);let h=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push(function Lke(n,t,e,i,r){return new ce(3010,!1)}()),h=!1),o=d.startTime),h&&c.set(l,{startTime:o,endTime:r}),e.options&&function pMe(n,t,e){const i=t.params||{},r=dK(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function Dke(n){return new ce(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Vke(){return new ce(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const d=t.steps.map(M=>{const S=this._makeStyleAst(M,e);let V=null!=S.offset?S.offset:function TMe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(S.styles),$=0;return null!=V&&(o++,$=S.offset=V),l=l||$<0||$>1,a=a||$<c,c=$,s.push($),S});l&&e.errors.push(function Bke(){return new ce(3012,!1)}()),a&&e.errors.push(function Uke(){return new ce(3200,!1)}());const h=t.steps.length;let p=0;o>0&&o<h?e.errors.push(function zke(){return new ce(3202,!1)}()):0==o&&(p=1/(h-1));const v=h-1,b=e.currentTime,w=e.currentAnimateTimings,E=w.duration;return d.forEach((M,S)=>{const V=p>0?S==v?1:p*S:s[S],$=V*E;e.currentTime=b+w.delay+$,w.duration=$,this._validateStyleAst(M,e),M.offset=V,i.styles.push(M)}),i}visitReference(t,e){return{type:8,animation:hs(this,Pb(t.animation),e),options:oh(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:oh(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:oh(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function IMe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(xMe,"")),n=n.replace(/@\*/g,XI).replace(/@\w+/g,e=>XI+"-"+e.slice(1)).replace(/:animating/g,FN),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,us(e.collectedStyles,e.currentQuerySelector,new Map);const a=hs(this,Pb(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:oh(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function jke(){return new ce(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:ZI(t.timings,e.errors,!0);return{type:12,animation:hs(this,Pb(t.animation),e),timings:i,options:null}}}class AMe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function oh(n){return n?(n=Rb(n)).params&&(n.params=function CMe(n){return n?Rb(n):null}(n.params)):n={},n}function zN(n,t,e){return{duration:n,delay:t,easing:e}}function jN(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class iC{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const MMe=new RegExp(":enter","g"),PMe=new RegExp(":leave","g");function HN(n,t,e,i,r,o=new Map,s=new Map,a,l,c=[]){return(new OMe).buildKeyframes(n,t,e,i,r,o,s,a,l,c)}class OMe{buildKeyframes(t,e,i,r,o,s,a,l,c,d=[]){c=c||new iC;const h=new $N(t,e,c,r,o,d,[]);h.options=l;const p=l.delay?Kl(l.delay):0;h.currentTimeline.delayNextStep(p),h.currentTimeline.setStyles([s],null,h.errors,l),hs(this,i,h);const v=h.timelines.filter(b=>b.containsAnimation());if(v.length&&a.size){let b;for(let w=v.length-1;w>=0;w--){const E=v[w];if(E.element===e){b=E;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,h.errors,l)}return v.length?v.map(b=>b.buildKeyframes()):[jN(e,[],[],[],0,p,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:Kl(Ob(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?Kl(i.duration):null,a=null!=i.delay?Kl(i.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),hs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=rC);const s=Kl(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>hs(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Kl(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),hs(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return ZI(e.params?Ob(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Kl(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=rC);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{e.currentQueryIndex=d;const h=e.createSubContext(t.options,c);o&&h.delayNextStep(o),c===e.element&&(l=h.currentTimeline),hs(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,h.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const d=e.currentTimeline;l&&d.delayNextStep(l);const h=d.currentTime;hs(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}}const rC={};class $N{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new oC(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Kl(i.duration)),null!=i.delay&&(r.delay=Kl(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Ob(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new $N(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=rC,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new NMe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(MMe,"."+this._enterClassName)).replace(PMe,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function Hke(n){return new ce(3014,!1)}()),a}}class oC{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new oC(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Ml),this._currentKeyframe.set(e,Ml);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function FMe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Ml)}else dd(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of s){const c=Ob(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ml),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=dd(a,new Map,this._backFill);c.forEach((d,h)=>{"!"===d?t.add(h):d===Ml&&e.add(h)}),i||c.set("offset",l/this.duration),r.push(c)});const o=t.size?JI(t.values()):[],s=e.size?JI(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return jN(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class NMe extends oC{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=dd(t[0]);l.set("offset",0),o.push(l);const c=dd(t[0]);c.set("offset",pK(a)),o.push(c);const d=t.length-1;for(let h=1;h<=d;h++){let p=dd(t[h]);const v=p.get("offset");p.set("offset",pK((e+v*i)/s)),o.push(p)}i=s,e=0,r="",t=o}return jN(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function pK(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class WN{}const LMe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class VMe extends WN{normalizePropertyName(t,e){return BN(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(LMe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Rke(n,t){return new ce(3005,!1)}())}return s+o}}function gK(n,t,e,i,r,o,s,a,l,c,d,h,p){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:h,errors:p}}const GN={};class _K{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function BMe(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,l,c,d){const h=[],p=this.ast.options&&this.ast.options.params||GN,b=this.buildStyles(i,a&&a.params||GN,h),w=l&&l.params||GN,E=this.buildStyles(r,w,h),M=new Set,S=new Map,V=new Map,$="void"===r,Q={params:UMe(w,p),delay:this.ast.options?.delay},ee=d?[]:HN(t,e,this.ast.animation,o,s,b,E,Q,c,h);let L=0;if(ee.forEach(F=>{L=Math.max(F.duration+F.delay,L)}),h.length)return gK(e,this._triggerName,i,r,$,b,E,[],[],S,V,L,h);ee.forEach(F=>{const j=F.element,K=us(S,j,new Set);F.preStyleProps.forEach(z=>K.add(z));const Z=us(V,j,new Set);F.postStyleProps.forEach(z=>Z.add(z)),j!==e&&M.add(j)});const k=JI(M.values());return gK(e,this._triggerName,i,r,$,b,E,ee,k,S,V,L)}}function UMe(n,t){const e=Rb(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class zMe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Rb(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Ob(s,r,e));const l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),i.set(a,s)})}),i}}class HMe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new zMe(r.style,r.options&&r.options.params||{},i))}),vK(this.states,"true","1"),vK(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new _K(t,r,this.states))}),this.fallbackTransition=function $Me(n,t,e){return new _K(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function vK(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const WMe=new iC;class GMe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=UN(this._driver,e,i,[]);if(i.length)throw function Qke(n){return new ce(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=eK(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=HN(this._driver,e,o,NN,YI,new Map,new Map,i,WMe,r),s.forEach(d=>{const h=us(a,d.element,new Map);d.postStyleProps.forEach(p=>h.set(p,null))})):(r.push(function Xke(){return new ce(3300,!1)}()),s=[]),r.length)throw function Zke(n){return new ce(3504,!1)}();a.forEach((d,h)=>{d.forEach((p,v)=>{d.set(v,this._driver.computeStyle(h,v,Ml))})});const c=cd(s.map(d=>{const h=a.get(d.element);return this._buildPlayer(d,new Map,h)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Jke(n){return new ce(3301,!1)}();return e}listen(t,e,i,r){const o=RN(e,"","","");return kN(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const bK="ng-animate-queued",qN="ng-animate-disabled",XMe=[],yK={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ZMe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},sa="__ng_removed";class KN{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function nRe(n){return n??null}(i?t.value:t),i){const o=Rb(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Nb="void",YN=new KN(Nb);class JMe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Fs(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function eMe(n,t){return new ce(3302,!1)}();if(null==i||0==i.length)throw function tMe(n){return new ce(3303,!1)}();if(!function iRe(n){return"start"==n||"done"==n}(i))throw function nMe(n,t){return new ce(3400,!1)}();const o=us(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=us(this._engine.statesByElement,t,new Map);return a.has(e)||(Fs(t,QI),Fs(t,QI+"-"+e),a.set(e,YN)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function iMe(n){return new ce(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new QN(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Fs(t,QI),Fs(t,QI+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new KN(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=YN),c.value!==Nb&&l.value===c.value){if(!function sRe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const w=[],E=o.matchStyles(l.value,l.params,w),M=o.matchStyles(c.value,c.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{rh(t,E),Ka(t,M)})}return}const p=us(this._engine.playersByElement,t,[]);p.forEach(w=>{w.namespaceId==this.id&&w.triggerName==e&&w.queued&&w.destroy()});let v=o.matchTransition(l.value,c.value,t,c.params),b=!1;if(!v){if(!r)return;v=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:v,fromState:l,toState:c,player:s,isFallbackTransition:b}),b||(Fs(t,bK),s.onStart(()=>{tp(t,bK)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);const E=this._engine.playersByElement.get(t);if(E){let M=E.indexOf(s);M>=0&&E.splice(M,1)}}),this.players.push(s),p.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,XI,!0);i.forEach(r=>{if(r[sa])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const d=this.trigger(t,c,Nb,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&cd(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||YN,d=new KN(Nb),h=new QN(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[sa];(!o||o===yK)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Fs(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=RN(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,kN(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class eRe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new JMe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(sC(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!sC(e))return;const o=e[sa];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Fs(t,qN)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),tp(t,qN))}removeNode(t,e,i){if(sC(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[sa]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return sC(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,XI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,FN,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return cd(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[sa];if(e&&e.setForRemoval){if(t[sa]=yK,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(qN)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Fs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?cd(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function rMe(n){return new ce(3402,!1)}()}_flushAnimations(t,e){const i=new iC,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(ke=>{d.add(ke);const Le=this.driver.query(ke,".ng-animate-queued",!0);for(let qe=0;qe<Le.length;qe++)d.add(Le[qe])});const h=this.bodyNode,p=Array.from(this.statesByElement.keys()),v=EK(p,this.collectedEnterElements),b=new Map;let w=0;v.forEach((ke,Le)=>{const qe=NN+w++;b.set(Le,qe),ke.forEach(st=>Fs(st,qe))});const E=[],M=new Set,S=new Set;for(let ke=0;ke<this.collectedLeaveElements.length;ke++){const Le=this.collectedLeaveElements[ke],qe=Le[sa];qe&&qe.setForRemoval&&(E.push(Le),M.add(Le),qe.hasAnimation?this.driver.query(Le,".ng-star-inserted",!0).forEach(st=>M.add(st)):S.add(Le))}const V=new Map,$=EK(p,Array.from(M));$.forEach((ke,Le)=>{const qe=YI+w++;V.set(Le,qe),ke.forEach(st=>Fs(st,qe))}),t.push(()=>{v.forEach((ke,Le)=>{const qe=b.get(Le);ke.forEach(st=>tp(st,qe))}),$.forEach((ke,Le)=>{const qe=V.get(Le);ke.forEach(st=>tp(st,qe))}),E.forEach(ke=>{this.processLeaveNode(ke)})});const Q=[],ee=[];for(let ke=this._namespaceList.length-1;ke>=0;ke--)this._namespaceList[ke].drainQueuedTransitions(e).forEach(qe=>{const st=qe.player,Fn=qe.element;if(Q.push(st),this.collectedEnterElements.length){const Bi=Fn[sa];if(Bi&&Bi.setForMove){if(Bi.previousTriggersValues&&Bi.previousTriggersValues.has(qe.triggerName)){const Yl=Bi.previousTriggersValues.get(qe.triggerName),jo=this.statesByElement.get(qe.element);if(jo&&jo.has(qe.triggerName)){const Ql=jo.get(qe.triggerName);Ql.value=Yl,jo.set(qe.triggerName,Ql)}}return void st.destroy()}}const Lr=!h||!this.driver.containsElement(h,Fn),Dn=V.get(Fn),En=b.get(Fn),pn=this._buildInstruction(qe,i,En,Dn,Lr);if(pn.errors&&pn.errors.length)return void ee.push(pn);if(Lr)return st.onStart(()=>rh(Fn,pn.fromStyles)),st.onDestroy(()=>Ka(Fn,pn.toStyles)),void r.push(st);if(qe.isFallbackTransition)return st.onStart(()=>rh(Fn,pn.fromStyles)),st.onDestroy(()=>Ka(Fn,pn.toStyles)),void r.push(st);const zo=[];pn.timelines.forEach(Bi=>{Bi.stretchStartingKeyframe=!0,this.disabledNodes.has(Bi.element)||zo.push(Bi)}),pn.timelines=zo,i.append(Fn,pn.timelines),s.push({instruction:pn,player:st,element:Fn}),pn.queriedElements.forEach(Bi=>us(a,Bi,[]).push(st)),pn.preStyleProps.forEach((Bi,Yl)=>{if(Bi.size){let jo=l.get(Yl);jo||l.set(Yl,jo=new Set),Bi.forEach((Ql,hd)=>jo.add(hd))}}),pn.postStyleProps.forEach((Bi,Yl)=>{let jo=c.get(Yl);jo||c.set(Yl,jo=new Set),Bi.forEach((Ql,hd)=>jo.add(hd))})});if(ee.length){const ke=[];ee.forEach(Le=>{ke.push(function oMe(n,t){return new ce(3505,!1)}())}),Q.forEach(Le=>Le.destroy()),this.reportError(ke)}const L=new Map,k=new Map;s.forEach(ke=>{const Le=ke.element;i.has(Le)&&(k.set(Le,Le),this._beforeAnimationBuild(ke.player.namespaceId,ke.instruction,L))}),r.forEach(ke=>{const Le=ke.element;this._getPreviousPlayers(Le,!1,ke.namespaceId,ke.triggerName,null).forEach(st=>{us(L,Le,[]).push(st),st.destroy()})});const F=E.filter(ke=>CK(ke,l,c)),j=new Map;xK(j,this.driver,S,c,Ml).forEach(ke=>{CK(ke,l,c)&&F.push(ke)});const Z=new Map;v.forEach((ke,Le)=>{xK(Z,this.driver,new Set(ke),l,"!")}),F.forEach(ke=>{const Le=j.get(ke),qe=Z.get(ke);j.set(ke,new Map([...Le?.entries()??[],...qe?.entries()??[]]))});const z=[],ii=[],Zt={};s.forEach(ke=>{const{element:Le,player:qe,instruction:st}=ke;if(i.has(Le)){if(d.has(Le))return qe.onDestroy(()=>Ka(Le,st.toStyles)),qe.disabled=!0,qe.overrideTotalTime(st.totalTime),void r.push(qe);let Fn=Zt;if(k.size>1){let Dn=Le;const En=[];for(;Dn=Dn.parentNode;){const pn=k.get(Dn);if(pn){Fn=pn;break}En.push(Dn)}En.forEach(pn=>k.set(pn,Fn))}const Lr=this._buildAnimation(qe.namespaceId,st,L,o,Z,j);if(qe.setRealPlayer(Lr),Fn===Zt)z.push(qe);else{const Dn=this.playersByElement.get(Fn);Dn&&Dn.length&&(qe.parentPlayer=cd(Dn)),r.push(qe)}}else rh(Le,st.fromStyles),qe.onDestroy(()=>Ka(Le,st.toStyles)),ii.push(qe),d.has(Le)&&r.push(qe)}),ii.forEach(ke=>{const Le=o.get(ke.element);if(Le&&Le.length){const qe=cd(Le);ke.setRealPlayer(qe)}}),r.forEach(ke=>{ke.parentPlayer?ke.syncPlayerEvents(ke.parentPlayer):ke.destroy()});for(let ke=0;ke<E.length;ke++){const Le=E[ke],qe=Le[sa];if(tp(Le,YI),qe&&qe.hasAnimation)continue;let st=[];if(a.size){let Lr=a.get(Le);Lr&&Lr.length&&st.push(...Lr);let Dn=this.driver.query(Le,FN,!0);for(let En=0;En<Dn.length;En++){let pn=a.get(Dn[En]);pn&&pn.length&&st.push(...pn)}}const Fn=st.filter(Lr=>!Lr.destroyed);Fn.length?rRe(this,Le,Fn):this.processLeaveNode(Le)}return E.length=0,z.forEach(ke=>{this.players.push(ke),ke.onDone(()=>{ke.destroy();const Le=this.players.indexOf(ke);this.players.splice(Le,1)}),ke.play()}),z}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==Nb;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,d=c!==o,h=us(i,c,[]);this._getPreviousPlayers(c,d,s,a,e.toState).forEach(v=>{const b=v.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),v.destroy(),h.push(v)})}rh(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,c=[],d=new Set,h=new Set,p=e.timelines.map(b=>{const w=b.element;d.add(w);const E=w[sa];if(E&&E.removedBeforeQueried)return new Iv(b.duration,b.delay);const M=w!==l,S=function oRe(n){const t=[];return IK(n,t),t}((i.get(w)||XMe).map(L=>L.getRealPlayer())).filter(L=>!!L.element&&L.element===w),V=o.get(w),$=s.get(w),Q=eK(this._normalizer,b.keyframes,V,$),ee=this._buildPlayer(b,Q,S);if(b.subTimeline&&r&&h.add(w),M){const L=new QN(t,a,w);L.setRealPlayer(ee),c.push(L)}return ee});c.forEach(b=>{us(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function tRe(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,b.element,b))}),d.forEach(b=>Fs(b,aK));const v=cd(p);return v.onDestroy(()=>{d.forEach(b=>tp(b,aK)),Ka(l,e.toStyles)}),h.forEach(b=>{us(r,b,[]).push(v)}),v}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Iv(t.duration,t.delay)}}class QN{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Iv,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>kN(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){us(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function sC(n){return n&&1===n.nodeType}function wK(n,t){const e=n.style.display;return n.style.display=t??"none",e}function xK(n,t,e,i,r){const o=[];e.forEach(l=>o.push(wK(l)));const s=[];i.forEach((l,c)=>{const d=new Map;l.forEach(h=>{const p=t.computeStyle(c,h,r);d.set(h,p),(!p||0==p.length)&&(c[sa]=ZMe,s.push(c))}),n.set(c,d)});let a=0;return e.forEach(l=>wK(l,o[a++])),s}function EK(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function Fs(n,t){n.classList?.add(t)}function tp(n,t){n.classList?.remove(t)}function rRe(n,t,e){cd(e).onDone(()=>n.processLeaveNode(t))}function IK(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof o6?IK(i.players,t):t.push(i)}}function CK(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class aC{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new eRe(t,e,i),this._timelineEngine=new GMe(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],d=UN(this._driver,o,l,[]);if(l.length)throw function Kke(n,t){return new ce(3404,!1)}();a=function jMe(n,t,e){return new HMe(n,t,e)}(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=tK(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=tK(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let lRe=(()=>{class n{static{this.initialStylesByElement=new WeakMap}constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ka(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ka(this._element,this._initialStyles),this._endStyles&&(Ka(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(rh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rh(this._element,this._endStyles),this._endStyles=null),Ka(this._element,this._initialStyles),this._state=3)}}return n})();function XN(n){let t=null;return n.forEach((e,i)=>{(function cRe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class AK{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:uK(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class dRe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return iK(t,e)}getParentElement(t){return PN(t)}query(t,e,i){return rK(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,d=s.filter(v=>v instanceof AK);(function _Me(n,t){return 0===n||0===t})(i,r)&&d.forEach(v=>{v.currentSnapshot.forEach((b,w)=>c.set(w,b))});let h=function mMe(n){return n.length?n[0]instanceof Map?n:n.map(t=>lK(t)):[]}(e).map(v=>dd(v));h=function vMe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,uK(n,a)))}}return t}(t,h,c);const p=function aRe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=XN(t[0]),t.length>1&&(i=XN(t[t.length-1]))):t instanceof Map&&(e=XN(t)),e||i?new lRe(n,e,i):null}(t,h);return new AK(t,h,l,p)}}let uRe=(()=>{class n extends n6{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:or.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?r6(e):e;return TK(this._renderer,null,i,"register",[r]),new hRe(i,this._renderer)}static{this.\u0275fac=function(i){return new(i||n)(X(Cg),X(At))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})();class hRe extends Sge{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new fRe(this._id,t,e||{},this._renderer)}}class fRe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return TK(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function TK(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const SK="@.disabled";let mRe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(o);return d||(d=new DK("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,d)),d}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(s,a,e,d.name,d)};return i.data.animation.forEach(l),new pRe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(i){return new(i||n)(X(Cg),X(aC),X($e))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})();class DK{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==SK?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class pRe extends DK{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==SK?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function gRe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function _Re(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let vRe=(()=>{class n extends aC{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(X(At),X(ON),X(WN),X(hl))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})();const kK=[{provide:n6,useClass:uRe},{provide:WN,useFactory:function bRe(){return new VMe}},{provide:aC,useClass:vRe},{provide:Cg,useFactory:function yRe(n,t,e){return new mRe(n,t,e)},deps:[QS,aC,$e]}],ZN=[{provide:ON,useFactory:()=>new dRe},{provide:Pr,useValue:"BrowserAnimations"},...kK],MK=[{provide:ON,useClass:oK},{provide:Pr,useValue:"NoopAnimations"},...kK];let wRe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?MK:ZN}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({providers:ZN,imports:[ej]})}}return n})();const xRe=["*",[["mat-toolbar-row"]]],ERe=["*","mat-toolbar-row"],IRe=TR(class{constructor(n){this._elementRef=n}});let CRe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Te({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}}return n})(),ARe=(()=>{class n extends IRe{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static{this.\u0275fac=function(i){return new(i||n)(O(xt),O(ki),O(At))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&di(o,CRe,5),2&i){let s;It(s=Ct())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&Xt("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[ot],ngContentSelectors:ERe,decls:2,vars:0,template:function(i,r){1&i&&(Gi(xRe),lt(0),lt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})(),TRe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[Nn,Nn]})}}return n})();const RK=["*"],SRe=["content"];function DRe(n,t){if(1&n){const e=Pi();q(0,"div",2),Fe("click",function(){return Rt(e),Pt(He()._onBackdropClicked())}),G()}2&n&&Xt("mat-drawer-shown",He()._isShowingBackdrop())}function kRe(n,t){1&n&&(q(0,"mat-drawer-content"),lt(1,2),G())}const MRe=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],RRe=["mat-drawer","mat-drawer-content","*"],PRe={transformDrawer:qc("transform",[ks("open, open-instant",ir({transform:"none",visibility:"visible"})),ks("void",ir({"box-shadow":"none",visibility:"hidden"})),Ms("void => open-instant",ia("0ms")),Ms("void <=> open, open-instant => void",ia("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},ORe=new de("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function NRe(){return!1}}),PK=new de("MAT_DRAWER_CONTAINER");let cC=(()=>{class n extends mR{constructor(e,i,r,o,s){super(r,o,s),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static{this.\u0275fac=function(i){return new(i||n)(O(Yr),O(hn(()=>NK)),O(xt),O(fR),O($e))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,r){2&i&&J0("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[rn([{provide:mR,useExisting:n}]),ot],ngContentSelectors:RK,decls:1,vars:0,template:function(i,r){1&i&&(Gi(),lt(0))},encapsulation:2,changeDetection:0})}}return n})(),OK=(()=>{class n{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Ht(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Ht(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Ht(e))}constructor(e,i,r,o,s,a,l,c){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=s,this._interactivityChecker=a,this._doc=l,this._container=c,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new W,this._animationEnd=new W,this._animationState="void",this.openedChange=new _t(!0),this._openedStream=this.openedChange.pipe(jt(d=>d),fe(()=>{})),this.openedStart=this._animationStarted.pipe(jt(d=>d.fromState!==d.toState&&0===d.toState.indexOf("open")),Lw(void 0)),this._closedStream=this.openedChange.pipe(jt(d=>!d),fe(()=>{})),this.closedStart=this._animationStarted.pipe(jt(d=>d.fromState!==d.toState&&"void"===d.toState),Lw(void 0)),this._destroyed=new W,this.onPositionChanged=new _t,this._modeChanged=new W,this.openedChange.subscribe(d=>{d?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Mu(this._elementRef.nativeElement,"keydown").pipe(jt(d=>27===d.keyCode&&!this.disableClose&&!Ua(d)),Wn(this._destroyed)).subscribe(d=>this._ngZone.run(()=>{this.close(),d.stopPropagation(),d.preventDefault()}))}),this._animationEnd.pipe(Ye((d,h)=>d.fromState===h.fromState&&d.toState===h.toState)).subscribe(d=>{const{fromState:h,toState:p}=d;(0===p.indexOf("open")&&"void"===h||"void"===p&&0===h.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Pn(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}static{this.\u0275fac=function(i){return new(i||n)(O(xt),O(AE),O(Om),O(ki),O($e),O(yv),O(At,8),O(PK,8))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(1&i&&Oi(SRe,5),2&i){let o;It(o=Ct())&&(r._content=o.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){1&i&&X0("@transform.start",function(s){return r._animationStarted.next(s)})("@transform.done",function(s){return r._animationEnd.next(s)}),2&i&&(_n("align",null),tw("@transform",r._animationState),Xt("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:RK,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(Gi(),q(0,"div",0,1),lt(2),G())},dependencies:[mR],encapsulation:2,data:{animation:[PRe.transformDrawer]},changeDetection:0})}}return n})(),NK=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Ht(e)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=null==e?null:Ht(e)}get scrollable(){return this._userContent||this._content}constructor(e,i,r,o,s,a=!1,l){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=l,this._drawers=new Jd,this.backdropClick=new _t,this._destroyed=new W,this._doCheckSubject=new W,this._contentMargins={left:null,right:null},this._contentMarginChanges=new W,e&&e.change.pipe(Wn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(Wn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}ngAfterContentInit(){this._allDrawers.changes.pipe(is(this._allDrawers),Wn(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(is(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(CE(10),Wn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(jt(i=>i.fromState!==i.toState),Wn(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Wn(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(Wn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Pn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Wn(x(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return null!=e&&e.opened}_drawerHasBackdrop(e){return null==this._backdropOverride?!!e&&"side"!==e.mode:this._backdropOverride}static{this.\u0275fac=function(i){return new(i||n)(O(Gc,8),O(xt),O($e),O(Yr),O(bE),O(ORe),O(Pr,8))}}static{this.\u0275cmp=St({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,o){if(1&i&&(di(o,cC,5),di(o,OK,5)),2&i){let s;It(s=Ct())&&(r._content=s.first),It(s=Ct())&&(r._allDrawers=s)}},viewQuery:function(i,r){if(1&i&&Oi(cC,5),2&i){let o;It(o=Ct())&&(r._userContent=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){2&i&&Xt("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[rn([{provide:PK,useExisting:n}])],ngContentSelectors:RRe,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(Gi(MRe),Be(0,DRe,1,2,"div",0),lt(1),lt(2,1),Be(3,kRe,2,0,"mat-drawer-content",1)),2&i&&(ve("ngIf",r.hasBackdrop),ge(3),ve("ngIf",!r._content))},dependencies:[ea,cC],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}}return n})(),FRe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[_l,Nn,mv,mv,Nn]})}}return n})();const LRe=["sidenav"];function VRe(n,t){1&n&&(q(0,"button",15),le(1," Administrar "),G())}function BRe(n,t){1&n&&(q(0,"button",16),le(1," Estadisticas "),G())}function URe(n,t){1&n&&(q(0,"button",17),le(1," Balance "),G())}function zRe(n,t){if(1&n){const e=Pi();q(0,"button",18),Fe("click",function(){return Rt(e),Pt(He(2).logout())}),le(1,"Cerrar sesi\xf3n"),G()}}function jRe(n,t){if(1&n&&(q(0,"mat-drawer",8,9)(2,"p"),le(3,"Bienvenido"),G(),q(4,"button",10),le(5,"Inicio"),G(),q(6,"button",10),le(7,"Planta baja"),G(),q(8,"button",10),le(9,"Planta alta"),G(),Be(10,VRe,2,0,"button",11),Zs(11,"async"),Be(12,BRe,2,0,"button",12),Zs(13,"async"),Be(14,URe,2,0,"button",13),Zs(15,"async"),Be(16,zRe,2,0,"button",14),G()),2&n){const e=He();ge(10),ve("ngIf","admin"===Ta(11,4,e.role$)),ge(2),ve("ngIf","admin"===Ta(13,6,e.role$)),ge(2),ve("ngIf","admin"===Ta(15,8,e.role$)),ge(2),ve("ngIf",e.isLoggedIn)}}function HRe(n,t){if(1&n){const e=Pi();q(0,"button",19),Fe("click",function(){return Rt(e),Pt(He().sidenav.toggle())}),q(1,"mat-icon"),le(2,"menu"),G()()}}function $Re(n,t){1&n&&vt(0,"mat-icon",20)}let WRe=(()=>{class n{constructor(e,i,r){this.datePipe=e,this.userService=i,this.router=r,this.showFiller=!1,this.isLoggedIn=!1,this.currentDate=this.getFormattedDate(),this.shift=this.getShift(),this.role$=this.userService.getRoleState()}ngOnInit(){this.userService.getAuthState().subscribe(e=>{this.isLoggedIn=!!e})}toggleSidenav(){this.sidenav.toggle()}getFormattedDate(){return this.datePipe.transform(new Date,"dd/MM/yyyy")||""}getShift(){const e=(new Date).getHours();return e>=6&&e<12?"Turno Ma\xf1ana":e>=12&&e<18?"Turno Tarde":"Turno Noche"}logout(){this.userService.logout().then(()=>{this.router.navigate(["/login"])}).catch(e=>console.log(e))}static{this.\u0275fac=function(i){return new(i||n)(O(Sw),O(ab),O(Qr))}}static{this.\u0275cmp=St({type:n,selectors:[["app-root"]],viewQuery:function(i,r){if(1&i&&Oi(LRe,5),2&i){let o;It(o=Ct())&&(r.sidenav=o.first)}},decls:14,vars:4,consts:[["autosize","",1,"example-container"],["class","example-sidenav d-flex flex-column","mode","side",4,"ngIf"],[1,"custom-toolbar","d-flex","justify-content-between","align-items-center"],[1,"cont-1","d-flex","align-items-center","gap-2"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-card-image","","src","./assets/nuovo-cafe.jpg","alt","table",1,"rounded-circle",2,"width","50px","height","50px"],[1,"cont-2","d-flex","align-items-center",2,"gap","0.5rem"],["fontIcon","schedule",4,"ngIf"],["mode","side",1,"example-sidenav","d-flex","flex-column"],["sidenav",""],["mat-button","","routerLink","/home"],["mat-button","","routerLink","/admin",4,"ngIf"],["mat-button","","routerLink","/stadistic",4,"ngIf"],["mat-button","","routerLink","/balance",4,"ngIf"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["mat-button","","routerLink","/admin"],["mat-button","","routerLink","/stadistic"],["mat-button","","routerLink","/balance"],["mat-flat-button","","color","warn",3,"click"],["mat-icon-button","",3,"click"],["fontIcon","schedule"]],template:function(i,r){1&i&&(q(0,"mat-drawer-container",0),Be(1,jRe,17,10,"mat-drawer",1),q(2,"mat-drawer-content")(3,"div")(4,"mat-toolbar",2)(5,"div",3),Be(6,HRe,3,0,"button",4),q(7,"span"),le(8,"Nuovo Caffe"),G(),vt(9,"img",5),G(),q(10,"div",6),Be(11,$Re,1,0,"mat-icon",7),le(12),G()()(),vt(13,"router-outlet"),G()()),2&i&&(ge(1),ve("ngIf",r.isLoggedIn),ge(5),ve("ngIf",r.isLoggedIn),ge(5),ve("ngIf",r.isLoggedIn),ge(1),Kr(" ",r.shift," "))},dependencies:[ea,_D,ex,lb,ja,Xge,OK,NK,cC,Mq,ARe,VS],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background-color:#c19c69;color:#fff}.example-container[_ngcontent-%COMP%]{height:100vh}.example-sidenav[_ngcontent-%COMP%]{width:250px;padding:20px}.custom-toolbar[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem;margin-top:1rem;border:solid 1px;border-right:none;border-left:none;border-top:none}.example-spacer[_ngcontent-%COMP%]{flex:1}.example-sidenav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%;text-align:left;margin-bottom:10px}"]})}}return n})();const ud=new rt(Ke),qRe={connector:()=>new W};function FK(n,t=qRe){const{connector:e}=t;return J((i,r)=>{const o=e();Gt(n(function GRe(n){return new rt(t=>n.subscribe(t))}(o))).subscribe(r),r.add(i.subscribe(o))})}function LK(n,t){return t?e=>Tf(t.pipe(Pn(1),function QRe(){return J((n,t)=>{n.subscribe(he(t,Ke))})}()),e.pipe(LK(n))):zn((e,i)=>Gt(n(e,i)).pipe(Pn(1),Lw(e)))}const Fb="Service workers are disabled or not supported by this browser";class dC{constructor(t){if(this.serviceWorker=t,t){const i=Mu(t,"controllerchange").pipe(fe(()=>t.controller)),o=Tf(nu(()=>R(t.controller)),i);this.worker=o.pipe(jt(d=>!!d)),this.registration=this.worker.pipe(Ie(()=>t.getRegistration()));const c=Mu(t,"message").pipe(fe(d=>d.data)).pipe(jt(d=>d&&d.type)).pipe(function YRe(n){return n?t=>FK(n)(t):t=>function KRe(n,t){const e=N(n)?n:()=>n;return N(t)?FK(t,{connector:e}):i=>new iD(i,e)}(new W)(t)}());c.connect(),this.events=c}else this.worker=this.events=this.registration=function ZRe(n){return nu(()=>iu(new Error(n)))}(Fb)}postMessage(t,e){return this.worker.pipe(Pn(1),Fi(i=>{i.postMessage({action:t,...e})})).toPromise().then(()=>{})}postMessageWithOperation(t,e,i){const r=this.waitForOperationCompleted(i),o=this.postMessage(t,e);return Promise.all([o,r]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?i=>i.type===t:i=>t.includes(i.type),this.events.pipe(jt(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(Pn(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(jt(e=>e.nonce===t),Pn(1),fe(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let VK=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.pushManager=null,this.subscriptionChanges=new W,!e.isEnabled)return this.messages=ud,this.notificationClicks=ud,void(this.subscription=ud);this.messages=this.sw.eventsOfType("PUSH").pipe(fe(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(fe(r=>r.data)),this.pushManager=this.sw.registration.pipe(fe(r=>r.pushManager));const i=this.pushManager.pipe(Ie(r=>r.getSubscription()));this.subscription=x(i,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Fb));const i={userVisibleOnly:!0};let r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(r.length));for(let s=0;s<r.length;s++)o[s]=r.charCodeAt(s);return i.applicationServerKey=o,this.pushManager.pipe(Ie(s=>s.subscribe(i)),Pn(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Pn(1),Ie(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Fb))}decodeBase64(e){return atob(e)}static{this.\u0275fac=function(i){return new(i||n)(X(dC))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})(),BK=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=ud,this.available=ud,this.activated=ud,void(this.unrecoverable=ud);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(jt(i=>"VERSION_READY"===i.type),fe(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Fb));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Fb));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static{this.\u0275fac=function(i){return new(i||n)(X(dC))}}static{this.\u0275prov=Ae({token:n,factory:n.\u0275fac})}}return n})();const UK=new de("NGSW_REGISTER_SCRIPT");function JRe(n,t,e,i){return()=>{if(!jS(i)||!("serviceWorker"in navigator)||!1===e.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)r=e.registrationStrategy();else{const[s,...a]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":r=R(null);break;case"registerWithDelay":r=zK(+a[0]||0);break;case"registerWhenStable":r=a[0]?x(jK(n),zK(+a[0])):jK(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}n.get($e).runOutsideAngular(()=>r.pipe(Pn(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function zK(n){return R(null).pipe(function XRe(n,t=Bf){const e=Y5(n,t);return LK(()=>e)}(n))}function jK(n){return n.get(hl).isStable.pipe(jt(e=>e))}function e1e(n,t){return new dC(jS(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class JN{}function t1e(n,t={}){return S0([VK,BK,{provide:UK,useValue:n},{provide:JN,useValue:t},{provide:dC,useFactory:e1e,deps:[JN,Ro]},{provide:cw,useFactory:JRe,deps:[Rn,UK,JN,Ro],multi:!0}])}let n1e=(()=>{class n{static register(e,i={}){return{ngModule:n,providers:[t1e(e,i)]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({providers:[VK,BK]})}}return n})();const HK_firebase={apiKey:"AIzaSyBuYr748J1j9TCFcjUpuznXnk_4Jo8pPiQ",authDomain:"nuovo-caffe.firebaseapp.com",projectId:"nuovo-caffe",storageBucket:"nuovo-caffe.appspot.com",messagingSenderId:"1013495355496",appId:"1:1013495355496:web:fdaaf0fb143f3f2c0303dd",measurementId:"G-L1Q71BEWLK"};let i1e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n,bootstrap:[WRe]})}static{this.\u0275inj=pt({providers:[Sw],imports:[ej,Ake,wRe,ave,lve,bIe,p6,Uge,GE,Ybe,_6,Xve,FRe,aIe,Sbe,MIe,TRe,pme,Wfe,fce.initializeApp(HK_firebase),iye(()=>rye(HK_firebase)),bEe(()=>xEe()),PEe(()=>NEe()),n1e.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})}}return n})();fse().bootstrapModule(i1e).catch(n=>console.error(n))},574:(Ho,Mi,tt)=>{tt.d(Mi,{A:()=>Ai});var N=tt(401),Me=tt(779),B=tt(631),Ge=tt(398);class ft{constructor(dt,nt){this._delegate=dt,this.firebase=nt,(0,B._addComponent)(dt,new Me.uA("app-compat",()=>this,"PUBLIC")),this.container=dt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(dt){this._delegate.automaticDataCollectionEnabled=dt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(dt=>{this._delegate.checkDestroyed(),dt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(dt,nt=B._DEFAULT_ENTRY_NAME){var ri;this._delegate.checkDestroyed();const Ln=this._delegate.container.getProvider(dt);return!Ln.isInitialized()&&"EXPLICIT"===(null===(ri=Ln.getComponent())||void 0===ri?void 0:ri.instantiationMode)&&Ln.initialize(),Ln.getImmediate({identifier:nt})}_removeServiceInstance(dt,nt=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(dt).clearInstance(nt)}_addComponent(dt){(0,B._addComponent)(this._delegate,dt)}_addOrOverwriteComponent(dt){(0,B._addOrOverwriteComponent)(this._delegate,dt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Qn=new N.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),pe=function Mt(){const Lt=function Jt(Lt){const dt={},nt={__esModule:!0,initializeApp:function dn(bt,Se={}){const ie=B.initializeApp(bt,Se);if((0,N.gR)(dt,ie.name))return dt[ie.name];const Ze=new Lt(ie,nt);return dt[ie.name]=Ze,Ze},app:Ln,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function pr(bt){const Se=bt.name,ie=Se.replace("-compat","");if(B._registerComponent(bt)&&"PUBLIC"===bt.type){const Ze=(yt=Ln())=>{if("function"!=typeof yt[ie])throw Qn.create("invalid-app-argument",{appName:Se});return yt[ie]()};void 0!==bt.serviceProps&&(0,N.zw)(Ze,bt.serviceProps),nt[ie]=Ze,Lt.prototype[ie]=function(...yt){return this._getService.bind(this,Se).apply(this,bt.multipleInstances?yt:[])}}return"PUBLIC"===bt.type?nt[ie]:null},removeApp:function ri(bt){delete dt[bt]},useAsService:function Bt(bt,Se){return"serverAuth"===Se?null:Se},modularAPIs:B}};function Ln(bt){if(!(0,N.gR)(dt,bt=bt||B._DEFAULT_ENTRY_NAME))throw Qn.create("no-app",{appName:bt});return dt[bt]}return nt.default=nt,Object.defineProperty(nt,"apps",{get:function un(){return Object.keys(dt).map(bt=>dt[bt])}}),Ln.App=Lt,nt}(ft);return Lt.INTERNAL=Object.assign(Object.assign({},Lt.INTERNAL),{createFirebaseNamespace:Mt,extendNamespace:function dt(nt){(0,N.zw)(Lt,nt)},createSubscribe:N.tD,ErrorFactory:N.FA,deepExtend:N.zw}),Lt}(),Ee=new Ge.Vy("@firebase/app-compat");try{const Lt=(0,N.mS)();if(void 0!==Lt.firebase){Ee.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const dt=Lt.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&Ee.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Ai=pe;!function $t(Lt){(0,B.registerVersion)("@firebase/app-compat","0.2.43",Lt)}()},631:(Ho,Mi,tt)=>{tt.r(Mi),tt.d(Mi,{FirebaseError:()=>Ge.g,SDK_VERSION:()=>Zi,_DEFAULT_ENTRY_NAME:()=>W,_addComponent:()=>Ce,_addOrOverwriteComponent:()=>fe,_apps:()=>re,_clearComponents:()=>ji,_components:()=>he,_getProvider:()=>yn,_isFirebaseApp:()=>en,_isFirebaseServerApp:()=>Un,_registerComponent:()=>it,_removeServiceInstance:()=>at,_serverApps:()=>J,deleteApp:()=>ps,getApp:()=>Ls,getApps:()=>ca,initializeApp:()=>Gt,initializeServerApp:()=>Ur,onLog:()=>Vs,registerVersion:()=>To,setLogLevel:()=>$i});var N=tt(467),Me=tt(779),B=tt(398),Ge=tt(401),ft=tt(749);class Yn{constructor(_e){this.container=_e}getPlatformInfoString(){return this.container.getProviders().map(A=>{if(function Qn(Ne){const _e=Ne.getComponent();return"VERSION"===_e?.type}(A)){const x=A.getImmediate();return`${x.library}/${x.version}`}return null}).filter(A=>A).join(" ")}}const Jt="@firebase/app",Mt="0.10.13",pe=new B.Vy("@firebase/app"),W="[DEFAULT]",se={[Jt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},re=new Map,J=new Map,he=new Map;function Ce(Ne,_e){try{Ne.container.addComponent(_e)}catch(A){pe.debug(`Component ${_e.name} failed to register with FirebaseApp ${Ne.name}`,A)}}function fe(Ne,_e){Ne.container.addOrOverwriteComponent(_e)}function it(Ne){const _e=Ne.name;if(he.has(_e))return pe.debug(`There were multiple attempts to register component ${_e}.`),!1;he.set(_e,Ne);for(const A of re.values())Ce(A,Ne);for(const A of J.values())Ce(A,Ne);return!0}function yn(Ne,_e){const A=Ne.container.getProvider("heartbeat").getImmediate({optional:!0});return A&&A.triggerHeartbeat(),Ne.container.getProvider(_e)}function at(Ne,_e,A=W){yn(Ne,_e).clearInstance(A)}function en(Ne){return void 0!==Ne.options}function Un(Ne){return void 0!==Ne.settings}function ji(){he.clear()}const nn=new Ge.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class yi{constructor(_e,A,x){this._isDeleted=!1,this._options=Object.assign({},_e),this._config=Object.assign({},A),this._name=A.name,this._automaticDataCollectionEnabled=A.automaticDataCollectionEnabled,this._container=x,this.container.addComponent(new Me.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this.checkDestroyed(),this._automaticDataCollectionEnabled=_e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_e){this._isDeleted=_e}checkDestroyed(){if(this.isDeleted)throw nn.create("app-deleted",{appName:this._name})}}class Hi extends yi{constructor(_e,A,x,T){const R=void 0!==A.automaticDataCollectionEnabled&&A.automaticDataCollectionEnabled,U={name:x,automaticDataCollectionEnabled:R};super(void 0!==_e.apiKey?_e:_e.options,U,T),this._serverConfig=Object.assign({automaticDataCollectionEnabled:R},A),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,A.releaseOnDeref=void 0,To(Jt,Mt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(_e){this.isDeleted||(this._refCount++,void 0!==_e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(_e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ps(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw nn.create("server-app-deleted")}}const Zi="10.14.1";function Gt(Ne,_e={}){let A=Ne;"object"!=typeof _e&&(_e={name:_e});const x=Object.assign({name:W,automaticDataCollectionEnabled:!1},_e),T=x.name;if("string"!=typeof T||!T)throw nn.create("bad-app-name",{appName:String(T)});if(A||(A=(0,Ge.T9)()),!A)throw nn.create("no-options");const R=re.get(T);if(R){if((0,Ge.bD)(A,R.options)&&(0,Ge.bD)(x,R.config))return R;throw nn.create("duplicate-app",{appName:T})}const U=new Me.h1(T);for(const Ie of he.values())U.addComponent(Ie);const me=new yi(A,x,U);return re.set(T,me),me}function Ur(Ne,_e){if((0,Ge.Bd)()&&!(0,Ge.p7)())throw nn.create("invalid-server-app-environment");let A;void 0===_e.automaticDataCollectionEnabled&&(_e.automaticDataCollectionEnabled=!1),A=en(Ne)?Ne.options:Ne;const x=Object.assign(Object.assign({},_e),A);if(void 0!==x.releaseOnDeref&&delete x.releaseOnDeref,void 0!==_e.releaseOnDeref&&typeof FinalizationRegistry>"u")throw nn.create("finalization-registry-not-supported",{});const R=""+(Ye=JSON.stringify(x),[...Ye].reduce((qt,Qe)=>Math.imul(31,qt)+Qe.charCodeAt(0)|0,0)),U=J.get(R);var Ye;if(U)return U.incRefCount(_e.releaseOnDeref),U;const me=new Me.h1(R);for(const Ye of he.values())me.addComponent(Ye);const Ie=new Hi(A,_e,R,me);return J.set(R,Ie),Ie}function Ls(Ne=W){const _e=re.get(Ne);if(!_e&&Ne===W&&(0,Ge.T9)())return Gt();if(!_e)throw nn.create("no-app",{appName:Ne});return _e}function ca(){return Array.from(re.values())}function ps(Ne){return zr.apply(this,arguments)}function zr(){return(zr=(0,N.A)(function*(Ne){let _e=!1;const A=Ne.name;re.has(A)?(_e=!0,re.delete(A)):J.has(A)&&Ne.decRefCount()<=0&&(J.delete(A),_e=!0),_e&&(yield Promise.all(Ne.container.getProviders().map(x=>x.delete())),Ne.isDeleted=!0)})).apply(this,arguments)}function To(Ne,_e,A){var x;let T=null!==(x=se[Ne])&&void 0!==x?x:Ne;A&&(T+=`-${A}`);const R=T.match(/\s|\//),U=_e.match(/\s|\//);if(R||U){const me=[`Unable to register library "${T}" with version "${_e}":`];return R&&me.push(`library name "${T}" contains illegal characters (whitespace or "/")`),R&&U&&me.push("and"),U&&me.push(`version name "${_e}" contains illegal characters (whitespace or "/")`),void pe.warn(me.join(" "))}it(new Me.uA(`${T}-version`,()=>({library:T,version:_e}),"VERSION"))}function Vs(Ne,_e){if(null!==Ne&&"function"!=typeof Ne)throw nn.create("invalid-log-argument");(0,B.Ey)(Ne,_e)}function $i(Ne){(0,B.He)(Ne)}const co="firebase-heartbeat-database",zn=1,Ji="firebase-heartbeat-store";let Xn=null;function Bs(){return Xn||(Xn=(0,ft.P2)(co,zn,{upgrade:(Ne,_e)=>{if(0===_e)try{Ne.createObjectStore(Ji)}catch(A){console.warn(A)}}}).catch(Ne=>{throw nn.create("idb-open",{originalErrorMessage:Ne.message})})),Xn}function gn(){return(gn=(0,N.A)(function*(Ne){try{const A=(yield Bs()).transaction(Ji),x=yield A.objectStore(Ji).get(Go(Ne));return yield A.done,x}catch(_e){if(_e instanceof Ge.g)pe.warn(_e.message);else{const A=nn.create("idb-get",{originalErrorMessage:_e?.message});pe.warn(A.message)}}})).apply(this,arguments)}function uo(Ne,_e){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,N.A)(function*(Ne,_e){try{const x=(yield Bs()).transaction(Ji,"readwrite");yield x.objectStore(Ji).put(_e,Go(Ne)),yield x.done}catch(A){if(A instanceof Ge.g)pe.warn(A.message);else{const x=nn.create("idb-set",{originalErrorMessage:A?.message});pe.warn(x.message)}}})).apply(this,arguments)}function Go(Ne){return`${Ne.name}!${Ne.options.appId}`}class _r{constructor(_e){this.container=_e,this._heartbeatsCache=null;const A=this.container.getProvider("app").getImmediate();this._storage=new js(A),this._heartbeatsCachePromise=this._storage.read().then(x=>(this._heartbeatsCache=x,x))}triggerHeartbeat(){var _e=this;return(0,N.A)(function*(){var A,x;try{const R=_e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),U=Us();return null==(null===(A=_e._heartbeatsCache)||void 0===A?void 0:A.heartbeats)&&(_e._heartbeatsCache=yield _e._heartbeatsCachePromise,null==(null===(x=_e._heartbeatsCache)||void 0===x?void 0:x.heartbeats))||_e._heartbeatsCache.lastSentHeartbeatDate===U||_e._heartbeatsCache.heartbeats.some(me=>me.date===U)?void 0:(_e._heartbeatsCache.heartbeats.push({date:U,agent:R}),_e._heartbeatsCache.heartbeats=_e._heartbeatsCache.heartbeats.filter(me=>{const Ie=new Date(me.date).valueOf();return Date.now()-Ie<=2592e6}),_e._storage.overwrite(_e._heartbeatsCache))}catch(T){pe.warn(T)}})()}getHeartbeatsHeader(){var _e=this;return(0,N.A)(function*(){var A;try{if(null===_e._heartbeatsCache&&(yield _e._heartbeatsCachePromise),null==(null===(A=_e._heartbeatsCache)||void 0===A?void 0:A.heartbeats)||0===_e._heartbeatsCache.heartbeats.length)return"";const x=Us(),{heartbeatsToSend:T,unsentEntries:R}=function zs(Ne,_e=1024){const A=[];let x=Ne.slice();for(const T of Ne){const R=A.find(U=>U.agent===T.agent);if(R){if(R.dates.push(T.date),da(A)>_e){R.dates.pop();break}}else if(A.push({agent:T.agent,dates:[T.date]}),da(A)>_e){A.pop();break}x=x.slice(1)}return{heartbeatsToSend:A,unsentEntries:x}}(_e._heartbeatsCache.heartbeats),U=(0,Ge.Uj)(JSON.stringify({version:2,heartbeats:T}));return _e._heartbeatsCache.lastSentHeartbeatDate=x,R.length>0?(_e._heartbeatsCache.heartbeats=R,yield _e._storage.overwrite(_e._heartbeatsCache)):(_e._heartbeatsCache.heartbeats=[],_e._storage.overwrite(_e._heartbeatsCache)),U}catch(x){return pe.warn(x),""}})()}}function Us(){return(new Date).toISOString().substring(0,10)}class js{constructor(_e){this.app=_e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,N.A)(function*(){return!!(0,Ge.zW)()&&(0,Ge.eX)().then(()=>!0).catch(()=>!1)})()}read(){var _e=this;return(0,N.A)(function*(){if(yield _e._canUseIndexedDBPromise){const x=yield function $o(Ne){return gn.apply(this,arguments)}(_e.app);return x?.heartbeats?x:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(_e){var A=this;return(0,N.A)(function*(){var x;if(yield A._canUseIndexedDBPromise){const R=yield A.read();return uo(A.app,{lastSentHeartbeatDate:null!==(x=_e.lastSentHeartbeatDate)&&void 0!==x?x:R.lastSentHeartbeatDate,heartbeats:_e.heartbeats})}})()}add(_e){var A=this;return(0,N.A)(function*(){var x;if(yield A._canUseIndexedDBPromise){const R=yield A.read();return uo(A.app,{lastSentHeartbeatDate:null!==(x=_e.lastSentHeartbeatDate)&&void 0!==x?x:R.lastSentHeartbeatDate,heartbeats:[...R.heartbeats,..._e.heartbeats]})}})()}}function da(Ne){return(0,Ge.Uj)(JSON.stringify({version:2,heartbeats:Ne})).length}!function Ya(Ne){it(new Me.uA("platform-logger",_e=>new Yn(_e),"PRIVATE")),it(new Me.uA("heartbeat",_e=>new _r(_e),"PRIVATE")),To(Jt,Mt,Ne),To(Jt,Mt,"esm2017"),To("fire-js","")}("")},779:(Ho,Mi,tt)=>{tt.d(Mi,{h1:()=>Jt,uA:()=>B});var N=tt(467),Me=tt(401);class B{constructor(pe,Ee,Ke){this.name=pe,this.instanceFactory=Ee,this.type=Ke,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(pe){return this.instantiationMode=pe,this}setMultipleInstances(pe){return this.multipleInstances=pe,this}setServiceProps(pe){return this.serviceProps=pe,this}setInstanceCreatedCallback(pe){return this.onInstanceCreated=pe,this}}const Ge="[DEFAULT]";class ft{constructor(pe,Ee){this.name=pe,this.container=Ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(pe){const Ee=this.normalizeInstanceIdentifier(pe);if(!this.instancesDeferred.has(Ee)){const Ke=new Me.cY;if(this.instancesDeferred.set(Ee,Ke),this.isInitialized(Ee)||this.shouldAutoInitialize())try{const Tt=this.getOrInitializeService({instanceIdentifier:Ee});Tt&&Ke.resolve(Tt)}catch{}}return this.instancesDeferred.get(Ee).promise}getImmediate(pe){var Ee;const Ke=this.normalizeInstanceIdentifier(pe?.identifier),Tt=null!==(Ee=pe?.optional)&&void 0!==Ee&&Ee;if(!this.isInitialized(Ke)&&!this.shouldAutoInitialize()){if(Tt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ke})}catch($t){if(Tt)return null;throw $t}}getComponent(){return this.component}setComponent(pe){if(pe.name!==this.name)throw Error(`Mismatching Component ${pe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=pe,this.shouldAutoInitialize()){if(function Qn(Mt){return"EAGER"===Mt.instantiationMode}(pe))try{this.getOrInitializeService({instanceIdentifier:Ge})}catch{}for(const[Ee,Ke]of this.instancesDeferred.entries()){const Tt=this.normalizeInstanceIdentifier(Ee);try{const $t=this.getOrInitializeService({instanceIdentifier:Tt});Ke.resolve($t)}catch{}}}}clearInstance(pe=Ge){this.instancesDeferred.delete(pe),this.instancesOptions.delete(pe),this.instances.delete(pe)}delete(){var pe=this;return(0,N.A)(function*(){const Ee=Array.from(pe.instances.values());yield Promise.all([...Ee.filter(Ke=>"INTERNAL"in Ke).map(Ke=>Ke.INTERNAL.delete()),...Ee.filter(Ke=>"_delete"in Ke).map(Ke=>Ke._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(pe=Ge){return this.instances.has(pe)}getOptions(pe=Ge){return this.instancesOptions.get(pe)||{}}initialize(pe={}){const{options:Ee={}}=pe,Ke=this.normalizeInstanceIdentifier(pe.instanceIdentifier);if(this.isInitialized(Ke))throw Error(`${this.name}(${Ke}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Tt=this.getOrInitializeService({instanceIdentifier:Ke,options:Ee});for(const[$t,Ai]of this.instancesDeferred.entries())Ke===this.normalizeInstanceIdentifier($t)&&Ai.resolve(Tt);return Tt}onInit(pe,Ee){var Ke;const Tt=this.normalizeInstanceIdentifier(Ee),$t=null!==(Ke=this.onInitCallbacks.get(Tt))&&void 0!==Ke?Ke:new Set;$t.add(pe),this.onInitCallbacks.set(Tt,$t);const Ai=this.instances.get(Tt);return Ai&&pe(Ai,Tt),()=>{$t.delete(pe)}}invokeOnInitCallbacks(pe,Ee){const Ke=this.onInitCallbacks.get(Ee);if(Ke)for(const Tt of Ke)try{Tt(pe,Ee)}catch{}}getOrInitializeService({instanceIdentifier:pe,options:Ee={}}){let Ke=this.instances.get(pe);if(!Ke&&this.component&&(Ke=this.component.instanceFactory(this.container,{instanceIdentifier:(Mt=pe,Mt===Ge?void 0:Mt),options:Ee}),this.instances.set(pe,Ke),this.instancesOptions.set(pe,Ee),this.invokeOnInitCallbacks(Ke,pe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,pe,Ke)}catch{}var Mt;return Ke||null}normalizeInstanceIdentifier(pe=Ge){return this.component?this.component.multipleInstances?pe:Ge:pe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Jt{constructor(pe){this.name=pe,this.providers=new Map}addComponent(pe){const Ee=this.getProvider(pe.name);if(Ee.isComponentSet())throw new Error(`Component ${pe.name} has already been registered with ${this.name}`);Ee.setComponent(pe)}addOrOverwriteComponent(pe){this.getProvider(pe.name).isComponentSet()&&this.providers.delete(pe.name),this.addComponent(pe)}getProvider(pe){if(this.providers.has(pe))return this.providers.get(pe);const Ee=new ft(pe,this);return this.providers.set(pe,Ee),Ee}getProviders(){return Array.from(this.providers.values())}}},398:(Ho,Mi,tt)=>{tt.d(Mi,{$b:()=>Me,Ey:()=>Mt,He:()=>Jt,Vy:()=>Qn});const N=[];var Me=function(pe){return pe[pe.DEBUG=0]="DEBUG",pe[pe.VERBOSE=1]="VERBOSE",pe[pe.INFO=2]="INFO",pe[pe.WARN=3]="WARN",pe[pe.ERROR=4]="ERROR",pe[pe.SILENT=5]="SILENT",pe}(Me||{});const B={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Ge=Me.INFO,ft={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Yn=(pe,Ee,...Ke)=>{if(Ee<pe.logLevel)return;const Tt=(new Date).toISOString(),$t=ft[Ee];if(!$t)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ee})`);console[$t](`[${Tt}]  ${pe.name}:`,...Ke)};class Qn{constructor(Ee){this.name=Ee,this._logLevel=Ge,this._logHandler=Yn,this._userLogHandler=null,N.push(this)}get logLevel(){return this._logLevel}set logLevel(Ee){if(!(Ee in Me))throw new TypeError(`Invalid value "${Ee}" assigned to \`logLevel\``);this._logLevel=Ee}setLogLevel(Ee){this._logLevel="string"==typeof Ee?B[Ee]:Ee}get logHandler(){return this._logHandler}set logHandler(Ee){if("function"!=typeof Ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ee){this._userLogHandler=Ee}debug(...Ee){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...Ee),this._logHandler(this,Me.DEBUG,...Ee)}log(...Ee){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...Ee),this._logHandler(this,Me.VERBOSE,...Ee)}info(...Ee){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...Ee),this._logHandler(this,Me.INFO,...Ee)}warn(...Ee){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...Ee),this._logHandler(this,Me.WARN,...Ee)}error(...Ee){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...Ee),this._logHandler(this,Me.ERROR,...Ee)}}function Jt(pe){N.forEach(Ee=>{Ee.setLogLevel(pe)})}function Mt(pe,Ee){for(const Ke of N){let Tt=null;Ee&&Ee.level&&(Tt=B[Ee.level]),Ke.userLogHandler=null===pe?null:($t,Ai,...Lt)=>{const dt=Lt.map(nt=>{if(null==nt)return null;if("string"==typeof nt)return nt;if("number"==typeof nt||"boolean"==typeof nt)return nt.toString();if(nt instanceof Error)return nt.message;try{return JSON.stringify(nt)}catch{return null}}).filter(nt=>nt).join(" ");Ai>=(Tt??$t.logLevel)&&pe({level:Me[Ai].toLowerCase(),message:dt,args:Lt,type:$t.name})}}}},46:(Ho,Mi,tt)=>{var N=tt(467),Me=tt(574),B=tt(443),Ge=tt(401),Qn=(tt(631),tt(398),tt(779));function Jt(){return window}function Ee(){return Ee=(0,N.A)(function*(A,x,T){var R;const{BuildInfo:U}=Jt();(0,B.au)(x.sessionId,"AuthEvent did not contain a session ID");const me=yield function nt(A){return ri.apply(this,arguments)}(x.sessionId),Ie={};return(0,B.av)()?Ie.ibi=U.packageName:(0,B.aw)()?Ie.apn=U.packageName:(0,B.ax)(A,"operation-not-supported-in-this-environment"),U.displayName&&(Ie.appDisplayName=U.displayName),Ie.sessionId=me,(0,B.ay)(A,T,x.type,void 0,null!==(R=x.eventId)&&void 0!==R?R:void 0,Ie)}),Ee.apply(this,arguments)}function Tt(){return(Tt=(0,N.A)(function*(A){const{BuildInfo:x}=Jt(),T={};(0,B.av)()?T.iosBundleId=x.packageName:(0,B.aw)()?T.androidPackageName=x.packageName:(0,B.ax)(A,"operation-not-supported-in-this-environment"),yield(0,B.az)(A,T)})).apply(this,arguments)}function Lt(){return(Lt=(0,N.A)(function*(A,x,T){const{cordova:R}=Jt();let U=()=>{};try{yield new Promise((me,Ie)=>{let Ye=null;function qt(){var Pe;me();const oi=null===(Pe=R.plugins.browsertab)||void 0===Pe?void 0:Pe.close;"function"==typeof oi&&oi(),"function"==typeof T?.close&&T.close()}function Qe(){Ye||(Ye=window.setTimeout(()=>{Ie((0,B.aB)(A,"redirect-cancelled-by-user"))},2e3))}function jn(){"visible"===document?.visibilityState&&Qe()}x.addPassiveListener(qt),document.addEventListener("resume",Qe,!1),(0,B.aw)()&&document.addEventListener("visibilitychange",jn,!1),U=()=>{x.removePassiveListener(qt),document.removeEventListener("resume",Qe,!1),document.removeEventListener("visibilitychange",jn,!1),Ye&&window.clearTimeout(Ye)}})}finally{U()}})).apply(this,arguments)}function ri(){return(ri=(0,N.A)(function*(A){const x=function Ln(A){if((0,B.au)(/[0-9a-zA-Z]+/.test(A),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(A);const x=new ArrayBuffer(A.length),T=new Uint8Array(x);for(let R=0;R<A.length;R++)T[R]=A.charCodeAt(R);return T}(A),T=yield crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(T)).map(U=>U.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class un extends B.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(x=>{this.resolveInitialized=x})}addPassiveListener(x){this.passiveListeners.add(x)}removePassiveListener(x){this.passiveListeners.delete(x)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(x){return this.resolveInitialized(),this.passiveListeners.forEach(T=>T(x)),super.onEvent(x)}initialized(){var x=this;return(0,N.A)(function*(){yield x.initPromise})()}}function bt(A){return Se.apply(this,arguments)}function Se(){return(Se=(0,N.A)(function*(A){const x=yield yt()._get(Wt(A));return x&&(yield yt()._remove(Wt(A))),x})).apply(this,arguments)}function Ze(){const A=[];for(let T=0;T<20;T++){const R=Math.floor(62*Math.random());A.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(R))}return A.join("")}function yt(){return(0,B.aE)(B.b)}function Wt(A){return(0,B.aF)("authEvent",A.config.apiKey,A.name)}function rt(A){if(!A?.includes("?"))return{};const[x,...T]=A.split("?");return(0,Ge.I9)(T.join("?"))}const Br=class zi{constructor(){this._redirectPersistence=B.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=B.aG,this._overrideRedirectResult=B.aH}_initialize(x){var T=this;return(0,N.A)(function*(){const R=x._key();let U=T.eventManagers.get(R);return U||(U=new un(x),T.eventManagers.set(R,U),T.attachCallbackListeners(x,U)),U})()}_openPopup(x){(0,B.ax)(x,"operation-not-supported-in-this-environment")}_openRedirect(x,T,R,U){var me=this;return(0,N.A)(function*(){!function dt(A){var x,T,R,U,me,Ie,Ye,qt,Qe,jn;const Pe=Jt();(0,B.aC)("function"==typeof(null===(x=Pe?.universalLinks)||void 0===x?void 0:x.subscribe),A,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,B.aC)(typeof(null===(T=Pe?.BuildInfo)||void 0===T?void 0:T.packageName)<"u",A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,B.aC)("function"==typeof(null===(me=null===(U=null===(R=Pe?.cordova)||void 0===R?void 0:R.plugins)||void 0===U?void 0:U.browsertab)||void 0===me?void 0:me.openUrl),A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aC)("function"==typeof(null===(qt=null===(Ye=null===(Ie=Pe?.cordova)||void 0===Ie?void 0:Ie.plugins)||void 0===Ye?void 0:Ye.browsertab)||void 0===qt?void 0:qt.isAvailable),A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aC)("function"==typeof(null===(jn=null===(Qe=Pe?.cordova)||void 0===Qe?void 0:Qe.InAppBrowser)||void 0===jn?void 0:jn.open),A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(x);const Ie=yield me._initialize(x);yield Ie.initialized(),Ie.resetRedirect(),(0,B.aI)(),yield me._originValidation(x);const Ye=function pr(A,x,T=null){return{type:x,eventId:T,urlResponse:null,sessionId:Ze(),postBody:null,tenantId:A.tenantId,error:(0,B.aB)(A,"no-auth-event")}}(x,R,U);yield function Bt(A,x){return yt()._set(Wt(A),x)}(x,Ye);const qt=yield function pe(A,x,T){return Ee.apply(this,arguments)}(x,Ye,T),Qe=yield function $t(A){const{cordova:x}=Jt();return new Promise(T=>{x.plugins.browsertab.isAvailable(R=>{let U=null;R?x.plugins.browsertab.openUrl(A):U=x.InAppBrowser.open(A,(0,B.aA)()?"_blank":"_system","location=yes"),T(U)})})}(qt);return function Ai(A,x,T){return Lt.apply(this,arguments)}(x,Ie,Qe)})()}_isIframeWebStorageSupported(x,T){throw new Error("Method not implemented.")}_originValidation(x){const T=x._key();return this.originValidationPromises[T]||(this.originValidationPromises[T]=function Ke(A){return Tt.apply(this,arguments)}(x)),this.originValidationPromises[T]}attachCallbackListeners(x,T){const{universalLinks:R,handleOpenURL:U,BuildInfo:me}=Jt(),Ie=setTimeout((0,N.A)(function*(){yield bt(x),T.onEvent(ms())}),500),Ye=function(){var jn=(0,N.A)(function*(Pe){clearTimeout(Ie);const oi=yield bt(x);let gs=null;oi&&Pe?.url&&(gs=function ie(A,x){var T,R;const U=function Cn(A){const x=rt(A),T=x.link?decodeURIComponent(x.link):void 0,R=rt(T).link,U=x.deep_link_id?decodeURIComponent(x.deep_link_id):void 0;return rt(U).link||U||R||T||A}(x);if(U.includes("/__/auth/callback")){const me=rt(U),Ie=me.firebaseError?function Vn(A){try{return JSON.parse(A)}catch{return null}}(decodeURIComponent(me.firebaseError)):null,Ye=null===(R=null===(T=Ie?.code)||void 0===T?void 0:T.split("auth/"))||void 0===R?void 0:R[1],qt=Ye?(0,B.aB)(Ye):null;return qt?{type:A.type,eventId:A.eventId,tenantId:A.tenantId,error:qt,urlResponse:null,sessionId:null,postBody:null}:{type:A.type,eventId:A.eventId,tenantId:A.tenantId,sessionId:A.sessionId,urlResponse:U,postBody:null}}return null}(oi,Pe.url)),T.onEvent(gs||ms())});return function(oi){return jn.apply(this,arguments)}}();typeof R<"u"&&"function"==typeof R.subscribe&&R.subscribe(null,Ye);const qt=U,Qe=`${me.packageName.toLowerCase()}://`;Jt().handleOpenURL=function(){var jn=(0,N.A)(function*(Pe){if(Pe.toLowerCase().startsWith(Qe)&&Ye({url:Pe}),"function"==typeof qt)try{qt(Pe)}catch(oi){console.error(oi)}});return function(Pe){return jn.apply(this,arguments)}}()}};function ms(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,B.aB)("no-auth-event")}}function he(){var A;return(null===(A=self?.location)||void 0===A?void 0:A.protocol)||null}function fe(A=(0,Ge.ZQ)()){return!("file:"!==he()&&"ionic:"!==he()&&"capacitor:"!==he()||!A.toLowerCase().match(/iphone|ipad|ipod|android/))}function Un(){try{const A=self.localStorage,x=B.aN();if(A)return A.setItem(x,"1"),A.removeItem(x),!function en(A=(0,Ge.ZQ)()){return function yn(){return(0,Ge.lT)()&&11===document?.documentMode}()||function at(A=(0,Ge.ZQ)()){return/Edge\/\d+/.test(A)}(A)}()||(0,Ge.zW)()}catch{return ji()&&(0,Ge.zW)()}return!1}function ji(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function tn(){return(function Ce(){return"http:"===he()||"https:"===he()}()||(0,Ge.sr)()||fe())&&!function it(){return(0,Ge.lV)()||(0,Ge.Ll)()}()&&Un()&&!ji()}function nn(){return fe()&&typeof document<"u"}function Hi(){return(Hi=(0,N.A)(function*(){return!!nn()&&new Promise(A=>{const x=setTimeout(()=>{A(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(x),A(!0)})})})).apply(this,arguments)}const Gt={LOCAL:"local",NONE:"none",SESSION:"session"},Ur=B.aC,Ls="persistence";function ps(A){return zr.apply(this,arguments)}function zr(){return(zr=(0,N.A)(function*(A){yield A._initializationPromise;const x=Vs(),T=B.aF(Ls,A.config.apiKey,A.name);x&&x.setItem(T,A._getPersistence())})).apply(this,arguments)}function Vs(){var A;try{return(null===(A=function Zi(){return typeof window<"u"?window:null}())||void 0===A?void 0:A.sessionStorage)||null}catch{return null}}const $i=B.aC;class co{constructor(){this.browserResolver=B.aE(B.k),this.cordovaResolver=B.aE(Br),this.underlyingResolver=null,this._redirectPersistence=B.a,this._completeRedirectFn=B.aG,this._overrideRedirectResult=B.aH}_initialize(x){var T=this;return(0,N.A)(function*(){return yield T.selectUnderlyingResolver(),T.assertedUnderlyingResolver._initialize(x)})()}_openPopup(x,T,R,U){var me=this;return(0,N.A)(function*(){return yield me.selectUnderlyingResolver(),me.assertedUnderlyingResolver._openPopup(x,T,R,U)})()}_openRedirect(x,T,R,U){var me=this;return(0,N.A)(function*(){return yield me.selectUnderlyingResolver(),me.assertedUnderlyingResolver._openRedirect(x,T,R,U)})()}_isIframeWebStorageSupported(x,T){this.assertedUnderlyingResolver._isIframeWebStorageSupported(x,T)}_originValidation(x){return this.assertedUnderlyingResolver._originValidation(x)}get _shouldInitProactively(){return nn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $i(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var x=this;return(0,N.A)(function*(){if(x.underlyingResolver)return;const T=yield function yi(){return Hi.apply(this,arguments)}();x.underlyingResolver=T?x.cordovaResolver:x.browserResolver})()}}function zn(A){return A.unwrap()}function Xn(A){return $o(A)}function $o(A){const{_tokenResponse:x}=A instanceof Ge.g?A.customData:A;if(!x)return null;if(!(A instanceof Ge.g)&&"temporaryProof"in x&&"phoneNumber"in x)return B.P.credentialFromResult(A);const T=x.providerId;if(!T||T===B.p.PASSWORD)return null;let R;switch(T){case B.p.GOOGLE:R=B.X;break;case B.p.FACEBOOK:R=B.W;break;case B.p.GITHUB:R=B.Y;break;case B.p.TWITTER:R=B.$;break;default:const{oauthIdToken:U,oauthAccessToken:me,oauthTokenSecret:Ie,pendingToken:Ye,nonce:qt}=x;return me||Ie||U||Ye?Ye?T.startsWith("saml.")?B.aQ._create(T,Ye):B.N._fromParams({providerId:T,signInMethod:T,pendingToken:Ye,idToken:U,accessToken:me}):new B.Z(T).credential({idToken:U,accessToken:me,rawNonce:qt}):null}return A instanceof Ge.g?R.credentialFromError(A):R.credentialFromResult(A)}function gn(A,x){return x.catch(T=>{throw T instanceof Ge.g&&function Bs(A,x){var T;const R=null===(T=x.customData)||void 0===T?void 0:T._tokenResponse;if("auth/multi-factor-auth-required"===x?.code)x.resolver=new Go(A,B.as(A,x));else if(R){const U=$o(x),me=x;U&&(me.credential=U,me.tenantId=R.tenantId||void 0,me.email=R.email||void 0,me.phoneNumber=R.phoneNumber||void 0)}}(A,T),T}).then(T=>{const U=T.user;return{operationType:T.operationType,credential:Xn(T),additionalUserInfo:B.aq(T),user:gr.getOrCreate(U)}})}function uo(A,x){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,N.A)(function*(A,x){const T=yield x;return{verificationId:T.verificationId,confirm:R=>gn(A,T.confirm(R))}})).apply(this,arguments)}class Go{constructor(x,T){this.resolver=T,this.auth=function Ji(A){return A.wrapped()}(x)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(x){return gn(zn(this.auth),this.resolver.resolveSignIn(x))}}class gr{constructor(x){this._delegate=x,this.multiFactor=B.at(x)}static getOrCreate(x){return gr.USER_MAP.has(x)||gr.USER_MAP.set(x,new gr(x)),gr.USER_MAP.get(x)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(x){return this._delegate.getIdTokenResult(x)}getIdToken(x){return this._delegate.getIdToken(x)}linkAndRetrieveDataWithCredential(x){return this.linkWithCredential(x)}linkWithCredential(x){var T=this;return(0,N.A)(function*(){return gn(T.auth,B.a2(T._delegate,x))})()}linkWithPhoneNumber(x,T){var R=this;return(0,N.A)(function*(){return uo(R.auth,B.l(R._delegate,x,T))})()}linkWithPopup(x){var T=this;return(0,N.A)(function*(){return gn(T.auth,B.d(T._delegate,x,co))})()}linkWithRedirect(x){var T=this;return(0,N.A)(function*(){return yield ps(B.aJ(T.auth)),B.g(T._delegate,x,co)})()}reauthenticateAndRetrieveDataWithCredential(x){return this.reauthenticateWithCredential(x)}reauthenticateWithCredential(x){var T=this;return(0,N.A)(function*(){return gn(T.auth,B.a3(T._delegate,x))})()}reauthenticateWithPhoneNumber(x,T){return uo(this.auth,B.r(this._delegate,x,T))}reauthenticateWithPopup(x){return gn(this.auth,B.e(this._delegate,x,co))}reauthenticateWithRedirect(x){var T=this;return(0,N.A)(function*(){return yield ps(B.aJ(T.auth)),B.h(T._delegate,x,co)})()}sendEmailVerification(x){return B.ag(this._delegate,x)}unlink(x){var T=this;return(0,N.A)(function*(){return yield B.ap(T._delegate,x),T})()}updateEmail(x){return B.al(this._delegate,x)}updatePassword(x){return B.am(this._delegate,x)}updatePhoneNumber(x){return B.u(this._delegate,x)}updateProfile(x){return B.ak(this._delegate,x)}verifyBeforeUpdateEmail(x,T){return B.ah(this._delegate,x,T)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}gr.USER_MAP=new WeakMap;const Ti=B.aC;let _r=(()=>{class A{constructor(T,R){if(this.app=T,R.isInitialized())return this._delegate=R.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:U}=T.options;Ti(U,"invalid-api-key",{appName:T.name}),Ti(U,"invalid-api-key",{appName:T.name});const me=typeof window<"u"?co:void 0;this._delegate=R.initialize({options:{persistence:zs(U,T.name),popupRedirectResolver:me}}),this._delegate._updateErrorMap(B.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?gr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(T){this._delegate.languageCode=T}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(T){this._delegate.tenantId=T}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(T,R){B.K(this._delegate,T,R)}applyActionCode(T){return B.a7(this._delegate,T)}checkActionCode(T){return B.a8(this._delegate,T)}confirmPasswordReset(T,R){return B.a6(this._delegate,T,R)}createUserWithEmailAndPassword(T,R){var U=this;return(0,N.A)(function*(){return gn(U._delegate,B.aa(U._delegate,T,R))})()}fetchProvidersForEmail(T){return this.fetchSignInMethodsForEmail(T)}fetchSignInMethodsForEmail(T){return B.af(this._delegate,T)}isSignInWithEmailLink(T){return B.ad(this._delegate,T)}getRedirectResult(){var T=this;return(0,N.A)(function*(){Ti(tn(),T._delegate,"operation-not-supported-in-this-environment");const R=yield B.j(T._delegate,co);return R?gn(T._delegate,Promise.resolve(R)):{credential:null,user:null}})()}addFrameworkForLogging(T){!function W(A,x){(0,B.aJ)(A)._logFramework(x)}(this._delegate,T)}onAuthStateChanged(T,R,U){const{next:me,error:Ie,complete:Ye}=Us(T,R,U);return this._delegate.onAuthStateChanged(me,Ie,Ye)}onIdTokenChanged(T,R,U){const{next:me,error:Ie,complete:Ye}=Us(T,R,U);return this._delegate.onIdTokenChanged(me,Ie,Ye)}sendSignInLinkToEmail(T,R){return B.ac(this._delegate,T,R)}sendPasswordResetEmail(T,R){return B.a5(this._delegate,T,R||void 0)}setPersistence(T){var R=this;return(0,N.A)(function*(){let U;switch(function ca(A,x){Ur(Object.values(Gt).includes(x),A,"invalid-persistence-type"),(0,Ge.lV)()?Ur(x!==Gt.SESSION,A,"unsupported-persistence-type"):(0,Ge.Ll)()?Ur(x===Gt.NONE,A,"unsupported-persistence-type"):ji()?Ur(x===Gt.NONE||x===Gt.LOCAL&&(0,Ge.zW)(),A,"unsupported-persistence-type"):Ur(x===Gt.NONE||Un(),A,"unsupported-persistence-type")}(R._delegate,T),T){case Gt.SESSION:U=B.a;break;case Gt.LOCAL:U=(yield B.aE(B.i)._isAvailable())?B.i:B.b;break;case Gt.NONE:U=B.U;break;default:return B.ax("argument-error",{appName:R._delegate.name})}return R._delegate.setPersistence(U)})()}signInAndRetrieveDataWithCredential(T){return this.signInWithCredential(T)}signInAnonymously(){return gn(this._delegate,B.a0(this._delegate))}signInWithCredential(T){return gn(this._delegate,B.a1(this._delegate,T))}signInWithCustomToken(T){return gn(this._delegate,B.a4(this._delegate,T))}signInWithEmailAndPassword(T,R){return gn(this._delegate,B.ab(this._delegate,T,R))}signInWithEmailLink(T,R){return gn(this._delegate,B.ae(this._delegate,T,R))}signInWithPhoneNumber(T,R){return uo(this._delegate,B.s(this._delegate,T,R))}signInWithPopup(T){var R=this;return(0,N.A)(function*(){return Ti(tn(),R._delegate,"operation-not-supported-in-this-environment"),gn(R._delegate,B.c(R._delegate,T,co))})()}signInWithRedirect(T){var R=this;return(0,N.A)(function*(){return Ti(tn(),R._delegate,"operation-not-supported-in-this-environment"),yield ps(R._delegate),B.f(R._delegate,T,co)})()}updateCurrentUser(T){return this._delegate.updateCurrentUser(T)}verifyPasswordResetCode(T){return B.a9(this._delegate,T)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return A.Persistence=Gt,A})();function Us(A,x,T){let R=A;"function"!=typeof A&&({next:R,error:x,complete:T}=A);const U=R;return{next:Ie=>U(Ie&&gr.getOrCreate(Ie)),error:x,complete:T}}function zs(A,x){const T=function To(A,x){const T=Vs();if(!T)return[];const R=B.aF(Ls,A,x);switch(T.getItem(R)){case Gt.NONE:return[B.U];case Gt.LOCAL:return[B.i,B.a];case Gt.SESSION:return[B.a];default:return[]}}(A,x);if(typeof self<"u"&&!T.includes(B.i)&&T.push(B.i),typeof window<"u")for(const R of[B.b,B.a])T.includes(R)||T.push(R);return T.includes(B.U)||T.push(B.U),T}class js{constructor(){this.providerId="phone",this._delegate=new B.P(zn(Me.A.auth()))}static credential(x,T){return B.P.credential(x,T)}verifyPhoneNumber(x,T){return this._delegate.verifyPhoneNumber(x,T)}unwrap(){return this._delegate}}js.PHONE_SIGN_IN_METHOD=B.P.PHONE_SIGN_IN_METHOD,js.PROVIDER_ID=B.P.PROVIDER_ID;const da=B.aC;class Ya{constructor(x,T,R=Me.A.app()){var U;da(null===(U=R.options)||void 0===U?void 0:U.apiKey,"invalid-api-key",{appName:R.name}),this._delegate=new B.R(R.auth(),x,T),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function _e(A){A.INTERNAL.registerComponent(new Qn.uA("auth-compat",x=>{const T=x.getProvider("app-compat").getImmediate(),R=x.getProvider("auth");return new _r(T,R)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:B.A.EMAIL_SIGNIN,PASSWORD_RESET:B.A.PASSWORD_RESET,RECOVER_EMAIL:B.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:B.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:B.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:B.A.VERIFY_EMAIL}},EmailAuthProvider:B.V,FacebookAuthProvider:B.W,GithubAuthProvider:B.Y,GoogleAuthProvider:B.X,OAuthProvider:B.Z,SAMLAuthProvider:B._,PhoneAuthProvider:js,PhoneMultiFactorGenerator:B.m,RecaptchaVerifier:Ya,TwitterAuthProvider:B.$,Auth:_r,AuthCredential:B.L,Error:Ge.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),A.registerVersion("@firebase/auth-compat","0.5.14")}(Me.A)},749:(Ho,Mi,tt)=>{tt.d(Mi,{P2:()=>Ln});var N=tt(467);const Me=(Se,ie)=>ie.some(Ze=>Se instanceof Ze);let B,Ge;const Qn=new WeakMap,Jt=new WeakMap,Mt=new WeakMap,pe=new WeakMap,Ee=new WeakMap;let $t={get(Se,ie,Ze){if(Se instanceof IDBTransaction){if("done"===ie)return Jt.get(Se);if("objectStoreNames"===ie)return Se.objectStoreNames||Mt.get(Se);if("store"===ie)return Ze.objectStoreNames[1]?void 0:Ze.objectStore(Ze.objectStoreNames[0])}return nt(Se[ie])},set:(Se,ie,Ze)=>(Se[ie]=Ze,!0),has:(Se,ie)=>Se instanceof IDBTransaction&&("done"===ie||"store"===ie)||ie in Se};function dt(Se){return"function"==typeof Se?function Lt(Se){return Se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Yn(){return Ge||(Ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Se)?function(...ie){return Se.apply(ri(this),ie),nt(Qn.get(this))}:function(...ie){return nt(Se.apply(ri(this),ie))}:function(ie,...Ze){const yt=Se.call(ri(this),ie,...Ze);return Mt.set(yt,ie.sort?ie.sort():[ie]),nt(yt)}}(Se):(Se instanceof IDBTransaction&&function Tt(Se){if(Jt.has(Se))return;const ie=new Promise((Ze,yt)=>{const Wt=()=>{Se.removeEventListener("complete",Vn),Se.removeEventListener("error",Cn),Se.removeEventListener("abort",Cn)},Vn=()=>{Ze(),Wt()},Cn=()=>{yt(Se.error||new DOMException("AbortError","AbortError")),Wt()};Se.addEventListener("complete",Vn),Se.addEventListener("error",Cn),Se.addEventListener("abort",Cn)});Jt.set(Se,ie)}(Se),Me(Se,function ft(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Se,$t):Se)}function nt(Se){if(Se instanceof IDBRequest)return function Ke(Se){const ie=new Promise((Ze,yt)=>{const Wt=()=>{Se.removeEventListener("success",Vn),Se.removeEventListener("error",Cn)},Vn=()=>{Ze(nt(Se.result)),Wt()},Cn=()=>{yt(Se.error),Wt()};Se.addEventListener("success",Vn),Se.addEventListener("error",Cn)});return ie.then(Ze=>{Ze instanceof IDBCursor&&Qn.set(Ze,Se)}).catch(()=>{}),Ee.set(ie,Se),ie}(Se);if(pe.has(Se))return pe.get(Se);const ie=dt(Se);return ie!==Se&&(pe.set(Se,ie),Ee.set(ie,Se)),ie}const ri=Se=>Ee.get(Se);function Ln(Se,ie,{blocked:Ze,upgrade:yt,blocking:Wt,terminated:Vn}={}){const Cn=indexedDB.open(Se,ie),rt=nt(Cn);return yt&&Cn.addEventListener("upgradeneeded",Bn=>{yt(nt(Cn.result),Bn.oldVersion,Bn.newVersion,nt(Cn.transaction),Bn)}),Ze&&Cn.addEventListener("blocked",Bn=>Ze(Bn.oldVersion,Bn.newVersion,Bn)),rt.then(Bn=>{Vn&&Bn.addEventListener("close",()=>Vn()),Wt&&Bn.addEventListener("versionchange",zi=>Wt(zi.oldVersion,zi.newVersion,zi))}).catch(()=>{}),rt}const un=["get","getKey","getAll","getAllKeys","count"],pr=["put","add","delete","clear"],Bt=new Map;function bt(Se,ie){if(!(Se instanceof IDBDatabase)||ie in Se||"string"!=typeof ie)return;if(Bt.get(ie))return Bt.get(ie);const Ze=ie.replace(/FromIndex$/,""),yt=ie!==Ze,Wt=pr.includes(Ze);if(!(Ze in(yt?IDBIndex:IDBObjectStore).prototype)||!Wt&&!un.includes(Ze))return;const Vn=function(){var Cn=(0,N.A)(function*(rt,...Bn){const zi=this.transaction(rt,Wt?"readwrite":"readonly");let Br=zi.store;return yt&&(Br=Br.index(Bn.shift())),(yield Promise.all([Br[Ze](...Bn),Wt&&zi.done]))[0]});return function(Bn){return Cn.apply(this,arguments)}}();return Bt.set(ie,Vn),Vn}!function Ai(Se){$t=Se($t)}(Se=>({...Se,get:(ie,Ze,yt)=>bt(ie,Ze)||Se.get(ie,Ze,yt),has:(ie,Ze)=>!!bt(ie,Ze)||Se.has(ie,Ze)}))},467:(Ho,Mi,tt)=>{function N(B,Ge,ft,Yn,Qn,Jt,Mt){try{var pe=B[Jt](Mt),Ee=pe.value}catch(Ke){return void ft(Ke)}pe.done?Ge(Ee):Promise.resolve(Ee).then(Yn,Qn)}function Me(B){return function(){var Ge=this,ft=arguments;return new Promise(function(Yn,Qn){var Jt=B.apply(Ge,ft);function Mt(Ee){N(Jt,Yn,Qn,Mt,pe,"next",Ee)}function pe(Ee){N(Jt,Yn,Qn,Mt,pe,"throw",Ee)}Mt(void 0)})}}tt.d(Mi,{A:()=>Me})},635:(Ho,Mi,tt)=>{function Ge(W,se){var re={};for(var J in W)Object.prototype.hasOwnProperty.call(W,J)&&se.indexOf(J)<0&&(re[J]=W[J]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(J=Object.getOwnPropertySymbols(W);he<J.length;he++)se.indexOf(J[he])<0&&Object.prototype.propertyIsEnumerable.call(W,J[he])&&(re[J[he]]=W[J[he]])}return re}function Ke(W,se,re,J){return new(re||(re=Promise))(function(Ce,fe){function it(en){try{at(J.next(en))}catch(Un){fe(Un)}}function yn(en){try{at(J.throw(en))}catch(Un){fe(Un)}}function at(en){en.done?Ce(en.value):function he(Ce){return Ce instanceof re?Ce:new re(function(fe){fe(Ce)})}(en.value).then(it,yn)}at((J=J.apply(W,se||[])).next())})}function dn(W){return this instanceof dn?(this.v=W,this):new dn(W)}function un(W,se,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,J=re.apply(W,se||[]),Ce=[];return he=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),it("next"),it("throw"),it("return",function fe(tn){return function(nn){return Promise.resolve(nn).then(tn,Un)}}),he[Symbol.asyncIterator]=function(){return this},he;function it(tn,nn){J[tn]&&(he[tn]=function(yi){return new Promise(function(Hi,Zi){Ce.push([tn,yi,Hi,Zi])>1||yn(tn,yi)})},nn&&(he[tn]=nn(he[tn])))}function yn(tn,nn){try{!function at(tn){tn.value instanceof dn?Promise.resolve(tn.value.v).then(en,Un):ji(Ce[0][2],tn)}(J[tn](nn))}catch(yi){ji(Ce[0][3],yi)}}function en(tn){yn("next",tn)}function Un(tn){yn("throw",tn)}function ji(tn,nn){tn(nn),Ce.shift(),Ce.length&&yn(Ce[0][0],Ce[0][1])}}function Bt(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,se=W[Symbol.asyncIterator];return se?se.call(W):(W=function Lt(W){var se="function"==typeof Symbol&&Symbol.iterator,re=se&&W[se],J=0;if(re)return re.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&J>=W.length&&(W=void 0),{value:W&&W[J++],done:!W}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),re={},J("next"),J("throw"),J("return"),re[Symbol.asyncIterator]=function(){return this},re);function J(Ce){re[Ce]=W[Ce]&&function(fe){return new Promise(function(it,yn){!function he(Ce,fe,it,yn){Promise.resolve(yn).then(function(at){Ce({value:at,done:it})},fe)}(it,yn,(fe=W[Ce](fe)).done,fe.value)})}}}tt.d(Mi,{AQ:()=>un,N3:()=>dn,Tt:()=>Ge,sH:()=>Ke,xN:()=>Bt}),"function"==typeof SuppressedError&&SuppressedError}},Ho=>{Ho(Ho.s=510)}]);